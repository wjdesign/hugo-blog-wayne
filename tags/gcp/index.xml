<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>gcp on Wayne's blog | å‰æ©çš„éƒ¨è½æ ¼ | æŠ€è¡“åšå®¢</title><link>https://wayne-blog.com/tags/gcp/</link><description>Recent content in gcp on Wayne's blog | å‰æ©çš„éƒ¨è½æ ¼ | æŠ€è¡“åšå®¢</description><generator>Hugo -- gohugo.io</generator><language>zh-tw</language><lastBuildDate>Tue, 07 Feb 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://wayne-blog.com/tags/gcp/index.xml" rel="self" type="application/rss+xml"/><item><title>ASP.NET Core ç¶²ç«™å¦‚ä½•æ•´åˆ Google çš„ reCAPTCHA Enterprise åŠŸèƒ½</title><link>https://wayne-blog.com/2023-02-07/dotnet-core-google-recaptcha/</link><pubDate>Tue, 07 Feb 2023 00:00:00 +0000</pubDate><guid>https://wayne-blog.com/2023-02-07/dotnet-core-google-recaptcha/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52674631510_d9525c3729_o.png" alt="Featured image of post ASP.NET Core ç¶²ç«™å¦‚ä½•æ•´åˆ Google çš„ reCAPTCHA Enterprise åŠŸèƒ½" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://www.google.com/recaptcha/about/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://developers.google.com/recaptcha/intro" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise/docs/choose-key-type" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise/docs/how-to" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise/docs/interpret-assessment" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://zh.wikipedia.org/wiki/ReCAPTCHA" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/articles/10262450" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>ç¶²ç«™ä¸Šå¹¾ä¹æ¯é éƒ½æœ‰è¯çµ¡è¡¨å–®ï¼Œä¸¦é€é AJAX å‚³é€åˆ°å¾Œç«¯ API è² è²¬è¨˜éŒ„ä¸¦é€å‡ºéƒµä»¶åˆ°å…¬å¸çš„æœå‹™ä¿¡ç®±ï¼Œä½†ç¶²ç«™ä¸Šç·šå¾Œï¼Œåƒåœ¾è¨Šæ¯å¤ªå¸¸æ”¶åˆ°ã€‚å› æ­¤ï¼Œæˆ‘æ‰“ç®—å°‡è¡¨å–®åŠ å…¥ &lt;a class="link" href="https://cloud.google.com/" target="_blank" rel="noopener"
>Google Cloud Platform&lt;/a> (GCP) çš„ &lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise" target="_blank" rel="noopener"
>reCAPTCHA Enterprise&lt;/a> æœå‹™ï¼Œæ¸›å°‘æ”¶åˆ°åƒåœ¾è¨Šæ¯çš„æ©Ÿæœƒï¼Œé€™ç¯‡æ–‡ç« æˆ‘ä¾†åˆ†äº«ä¸€ä¸‹å®Œæ•´çš„é–‹ç™¼æµç¨‹ï¼&lt;/p>
&lt;hr>
&lt;h2 id="å…ˆæ•´ç†å¹¾å€‹é‡è¦æ¦‚å¿µ">å…ˆæ•´ç†å¹¾å€‹é‡è¦æ¦‚å¿µ&lt;/h2>
&lt;p>&lt;a class="link" href="https://zh.m.wikipedia.org/wiki/ReCAPTCHA" target="_blank" rel="noopener"
>reCAPTCHA&lt;/a> åŸæœ¬æ˜¯ç”±&lt;a class="link" href="https://zh.m.wikipedia.org/wiki/%E5%8D%A1%E5%86%85%E5%9F%BA%C2%B7%E6%A2%85%E9%9A%86%E5%A4%A7%E5%AD%A6" target="_blank" rel="noopener"
>å¡å…§åŸºæ¢…éš†å¤§å­¸&lt;/a>æ‰€ç™¼å±•çš„ç³»çµ±ï¼Œä¸»è¦ç›®çš„æ˜¯åˆ©ç”¨ &lt;a class="link" href="https://zh.m.wikipedia.org/wiki/CAPTCHA" target="_blank" rel="noopener"
>CAPTCHA&lt;/a> æŠ€è¡“ä¾†å¹«åŠ©å…¸ç±æ•¸ä½åŒ–çš„é€²è¡Œï¼Œé€™å€‹è¨ˆç•«å°‡ç”±æ›¸æœ¬æƒç„ä¸‹ä¾†ç„¡æ³•æº–ç¢ºçš„è¢«å…‰å­¸æ–‡å­—è¾¨è­˜æŠ€è¡“è­˜åˆ¥çš„æ–‡å­—é¡¯ç¤ºåœ¨ CAPTCHA å•é¡Œä¸­ï¼Œè®“äººé¡åœ¨å›ç­” CAPTCHA å•é¡Œæ™‚ç”¨&lt;strong>äººè…¦&lt;/strong>åŠ ä»¥è­˜åˆ¥ã€‚2009 å¹´ 9 æœˆ 17 æ—¥ Google å®£ä½ˆæ”¶è³¼ reCAPTCHA æŠ€è¡“ï¼ŒæŒçºŒç™¼å±•ä¹‹ä¸‹ä¹Ÿæä¾›æ¨™æº–çš„ API ä¾›ç”¨æˆ¶å…è²»ä½¿ç”¨ï¼Œæ™‚è‡³ä»Šæ—¥å·²ç¶“ç™¼å±•å‡ºå¥½å¹¾å€‹ç‰ˆæœ¬ã€‚&lt;/p>
&lt;p>ç›®å‰å¯ä»¥åœ¨ Google ç¶²ç«™æ‰¾åˆ° 3 å€‹ä¸åŒçš„ç‰ˆæœ¬ï¼Œå…¶åŠŸèƒ½èˆ‡ç‰¹æ€§å„æœ‰ä¸åŒï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;a class="link" href="https://developers.google.com/recaptcha/docs/display" target="_blank" rel="noopener"
>reCAPTCHA v2&lt;/a>&lt;/li>
&lt;/ol>
&lt;p>é™¤äº†åŸä¾†çš„æ–‡å­—æƒç„åœ–ç‰‡å¤–ï¼Œä¹Ÿæ¡ç”¨ Google è¡—æ™¯æ‹æ”çš„é–€ç‰Œè™Ÿç¢¼ç›¸ç‰‡ã€‚&lt;/p>
&lt;ol start="2">
&lt;li>&lt;a class="link" href="https://developers.google.com/recaptcha/docs/v3" target="_blank" rel="noopener"
>reCAPTCHA v3&lt;/a>&lt;/li>
&lt;/ol>
&lt;p>æ¡ç”¨&lt;strong>åˆ†æ•¸åˆ¶&lt;/strong>é©—è­‰ç³»çµ±ï¼Œå°ä½¿ç”¨è€…åœ¨ç¶²ç«™ä¸Šçš„å‹•ä½œé€²è¡Œè©•åˆ†ï¼Œè‹¥åˆ†æ•¸éä½å‰‡æœƒè¢«åˆ¤å®šç‚ºæ©Ÿå™¨äººã€‚&lt;/p>
&lt;ol start="3">
&lt;li>&lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise" target="_blank" rel="noopener"
>reCAPTCHA Enterprise&lt;/a>&lt;/li>
&lt;/ol>
&lt;p>èˆ‡ &lt;code>reCAPTCHA v3&lt;/code> ç›¸åŒï¼Œæ¡ç”¨&lt;strong>åˆ†æ•¸åˆ¶&lt;/strong>é©—è­‰ç³»çµ±ï¼Œä½†èƒ½å¤ æä¾›&lt;strong>æ›´ç²¾ç´°çš„åˆ†æ•¸&lt;/strong>ä»¥åŠ&lt;strong>é«˜é¢¨éšªåˆ†æ•¸åŸå› ä»£ç¢¼&lt;/strong>ï¼Œä»¥ä¾›é€²ä¸€æ­¥åˆ†æä¹‹ç”¨ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æœ¬ç¯‡æ–‡ç« ä¸»è¦æ˜¯ä»¥ &lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise" target="_blank" rel="noopener"
>reCAPTCHA Enterprise&lt;/a> ç‚ºä¸»ï¼Œç‰ˆæœ¬æ¯”è¼ƒå¯åƒè€ƒ &lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise/docs/compare-versions" target="_blank" rel="noopener"
>Comparison of features between reCAPTCHA versions&lt;/a> æ–‡ä»¶ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise" target="_blank" rel="noopener"
>reCAPTCHA Enterprise&lt;/a> æœ‰å€‹é‡è¦çš„æ¦‚å¿µï¼Œå°±æ˜¯ &lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise/docs/keys" target="_blank" rel="noopener"
>reCAPTCHA keys&lt;/a> æˆ– &lt;code>site keys&lt;/code>ï¼Œæˆ‘å°‡å…¶ç¿»è­¯ç‚ºã€Œ&lt;strong>ç¶²ç«™é€šé—œé‡‘é‘°&lt;/strong>ã€æˆ–æ˜¯ã€Œ&lt;strong>é©—è­‰é‡‘é‘°&lt;/strong>ã€ä¹Ÿè¨±æ¯”è¼ƒæ°ç•¶ï¼Œä»–æ˜¯ä¸€å€‹ä½¿ç”¨åœ¨ä½ ç¶²ç«™çš„ä¸€çµ„å…¬é–‹é‡‘é‘°ï¼Œé€éé€™å€‹ &lt;code>site keys&lt;/code> æœƒä¾æ“šä½¿ç”¨è€…ç«¯æä¾›çš„å„ç¨®è³‡è¨Šï¼Œè‡ªå‹•ç”¢ç”Ÿä¸€å€‹å”¯ä¸€çš„ã€Œå›æ‡‰å€¼ã€(Response)ï¼Œä½ è¦æŠŠé€™å€‹ã€Œå›æ‡‰å€¼ã€å‚³åˆ°å¾Œç«¯çš„ reCAPTCHA Server é€²è¡Œé©—è­‰ï¼Œç”± reCAPTCHA Server åˆ¤æ–·å‡ºé€™å€‹ã€Œå›æ‡‰å€¼ã€æ˜¯å¦æ˜¯ã€ŒçœŸäººã€(Human)æˆ–ã€Œå‡äººã€(Bots)ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise" target="_blank" rel="noopener"
>reCAPTCHA Enterprise&lt;/a> çš„ &lt;code>site keys&lt;/code> æœ‰ 3 ç¨®ä½¿ç”¨æ–¹å¼ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Score-based (no challenge) site keys&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>ä»¥ã€Œåˆ†æ•¸ã€ç‚ºåŸºç¤çš„é©—è­‰æ–¹æ³•ï¼Œé€™ç¨®é©—è­‰æ–¹æ³•å®Œå…¨&lt;strong>ä¸éœ€è¦ç”±ä½¿ç”¨è¼¸å…¥è³‡è¨Š&lt;/strong>ï¼Œç³»çµ±æœƒè‡ªå‹•åˆ¤æ–·ä½¿ç”¨è€…é€éç€è¦½å™¨ã€éµç›¤æˆ–æ˜¯è§¸æ§ç­‰ä½¿ç”¨æ–¹å¼ï¼Œè‡ªå‹•æ”¶é›†ä½¿ç”¨è€…è·Ÿæ‰‹æ©Ÿæˆ–ç¶²é ä¹‹é–“çš„äº’å‹•æƒ…æ³ï¼Œåˆ¤æ–·è©²ã€Œä½¿ç”¨è€…ã€æ˜¯å¦ç‚ºã€ŒçœŸäººã€æˆ–ã€Œå‡äººã€ï¼Œé€åˆ° reCAPTCHA Server é©—è­‰æ™‚ï¼Œæœƒæä¾›ä½ ä¸€å€‹ã€Œåˆ†æ•¸ã€(Score)ï¼Œå¾ &lt;code>0.0&lt;/code> ï½ &lt;code>10.0&lt;/code> åˆ†ï¼Œå…¶ä¸­ &lt;code>0.0&lt;/code> å°±æ˜¯çµ•å°çš„ã€Œå‡äººã€ï¼Œè€Œ &lt;code>10.0&lt;/code> å°±æ˜¯çµ•å°çš„ã€ŒçœŸäººã€ã€‚é€™ç¨®é¡å‹çš„ &lt;code>site keys&lt;/code> é©ç”¨æ–¼ã€Œæ‰‹æ©Ÿ APPã€æˆ–ã€Œç¶²é ã€ç’°å¢ƒã€‚&lt;/p>
&lt;blockquote>
&lt;p>é€™æ¨£å°ä½¿ç”¨è€…ä¾†èªªéå¸¸æ–¹ä¾¿ï¼Œä¸ç”¨è®“å®¢æˆ¶é‚„åœ¨é‚£é‚Šé¸ã€Œå“ªå¹¾å¼µåœ–æ˜¯å…¬è»Šã€ä¹‹é¡çš„ï¼Œè¡¨å–®è¼¸å…¥é–€æª»æœƒä½å¾ˆå¤šã€‚&lt;/p>
&lt;/blockquote>
&lt;ol start="2">
&lt;li>&lt;strong>Checkbox (checkbox challenge) site keys&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>æ‰€è¬‚ &lt;code>Checkbox&lt;/code> å°±çœŸçš„æ˜¯ã€Œæ ¸å–æ–¹å¡Šã€çš„æ„æ€ï¼ˆå¦‚ä¸‹åœ–ç¤ºï¼‰ï¼Œä»–éœ€è¦ä½¿ç”¨è€…çœŸçš„å»å°é€™å€‹ &lt;code>Checkbox&lt;/code> åšå€‹é»æ“Šçš„å‹•ä½œï¼Œè—‰æ­¤åˆ¤æ–·è·Ÿç¶²é äº’å‹•çš„å°åƒæ˜¯å¦ç‚ºã€ŒçœŸäººã€åœ¨æ“ä½œã€‚æƒ³ç•¶ç„¶çš„ï¼Œé€™ç¨®é©—è­‰æ–¹å¼ä¸€å®šè¦è·Ÿä½¿ç”¨è€…ç™¼ç”Ÿäº’å‹•ï¼Œæ‰€ä»¥åªèƒ½ç”¨åœ¨ã€Œç¶²é ã€çš„ä»‹é¢ä¸Šï¼Œå°¤å…¶ç‰¹åˆ¥é©åˆç”¨åœ¨ã€Œè¡¨å–®å¡«å¯«ã€ã€ã€Œç¶²ç«™ç™»å…¥ã€ã€ã€Œè¨»å†Šæœƒå“¡ã€ç­‰ç¶²é åŠŸèƒ½ï¼Œä½†ä¸é©ç”¨æ–¼é€éã€Œæ‰‹æ©Ÿ APPã€æˆ–å…¶ä»–äº’å‹•æ–¹å¼ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52673696102_3bffe38a83_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>é€™ç¨®é©—è­‰æ–¹å¼å¯èƒ½ä¸é©ç”¨æ–¼æ‰€æœ‰æƒ…å¢ƒï¼Œä¾‹å¦‚è¦æä¾›ã€Œ&lt;strong>ç„¡éšœç¤™&lt;/strong>ã€ç¶²ç«™çš„è©±ï¼Œå°ã€Œè¦–è¦ºã€æœ‰å•é¡Œçš„ç”¨æˆ¶å°±æœƒå¾ˆä¸æ–¹ä¾¿ï¼Œå› æ­¤ä½¿ç”¨æ™‚è¦æ³¨æ„ã€‚è©³è¦‹ &lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise/docs/choose-key-type#captcha-challenges" target="_blank" rel="noopener"
>Understanding the caveats with CAPTCHA challenges&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;ol start="3">
&lt;li>&lt;strong>reCAPTCHA WAF site keys&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>é€™å€‹ reCAPTCHA WAF site keys å¯ä»¥è®“ä½ æŠŠ sitekey å®‰è£åœ¨ WAF (æ‡‰ç”¨ç¨‹å¼é˜²ç«ç‰†) é€™ä¸€å±¤ï¼Œä½†é€™ç¨®ä½œæ³•å¿…é ˆè¦åˆæ ¼çš„ WAF service provider æ‰èƒ½ä½¿ç”¨ï¼Œä¾‹å¦‚ GCP è‡ªå®¶çš„ &lt;a class="link" href="https://cloud.google.com/armor" target="_blank" rel="noopener"
>Google Cloud Armor&lt;/a> æœå‹™ã€‚è©³æƒ…è«‹è¦‹ &lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise/docs/integration-overview" target="_blank" rel="noopener"
>reCAPTCHA Enterprise for WAF and Google Cloud Armor integration overview&lt;/a> èªªæ˜ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æ•´åˆ-recaptcha-enterprise-çš„å¤§è‡´æµç¨‹">æ•´åˆ reCAPTCHA Enterprise çš„å¤§è‡´æµç¨‹&lt;/h2>
&lt;p>æƒ³è¦æ•´åˆ &lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise" target="_blank" rel="noopener"
>reCAPTCHA Enterprise&lt;/a> åˆ°ä½ çš„ç¶²ç«™ï¼Œå»ºè­°å¤šå°‘ç†è§£ä¸€ä¸‹ &lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise" target="_blank" rel="noopener"
>reCAPTCHA Enterprise&lt;/a> çš„é‹ä½œæµç¨‹ï¼Œä½ å¯ä»¥å¾ &lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise/docs/overview#how-recaptcha-enterprise-works" target="_blank" rel="noopener"
>How reCAPTCHA Enterprise works&lt;/a> çœ‹åˆ°ä»¥ä¸‹å¾ªåºåœ–(sequence diagram)ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52673696092_e332ed9cc8_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å³ä¾¿ä½ å¤§æ¦‚çŸ¥é“é€™å€‹æµç¨‹ï¼Œæˆ‘é‚„æ˜¯è¦ºå¾—æ•´åˆ &lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise" target="_blank" rel="noopener"
>reCAPTCHA Enterprise&lt;/a> æœ‰ä¸€é»å°é–€æª»ï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—ç°¡åŒ–æˆä»¥ä¸‹ 3 å€‹æ­¥é©Ÿä¾†èªªæ˜ï¼š&lt;/p>
&lt;ol>
&lt;li>ç”³è«‹ reCAPTCHA keys éšæ®µ&lt;/li>
&lt;/ol>
&lt;p>ä½ è¦åˆ° &lt;a class="link" href="https://console.cloud.google.com/" target="_blank" rel="noopener"
>Google Cloud console&lt;/a> å»ºç«‹ &lt;a class="link" href="https://console.cloud.google.com/security/recaptcha" target="_blank" rel="noopener"
>reCAPTCHA keys&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>ä¹Ÿå¯ä»¥å¾ &lt;a class="link" href="https://console.cloud.google.com/" target="_blank" rel="noopener"
>Google Cloud console&lt;/a> å·¦ä¸Šè§’çš„&lt;strong>æ¼¢å ¡é¸å–®&lt;/strong>é¸å– &lt;code>Security&lt;/code> &amp;gt; &lt;code>reCAPTCHA Enterprise&lt;/code> é€²å…¥æ­¤é é¢ã€‚&lt;/p>
&lt;/blockquote>
&lt;ol start="2">
&lt;li>æ”¶é›†å‰ç«¯ä½¿ç”¨è€…å›æ‡‰å€¼éšæ®µ&lt;/li>
&lt;/ol>
&lt;p>å®‰è£ reCAPTCHA keys åˆ°ç¶²é ä¸Š (ä¸»è¦ç”¨ä¾†æ”¶é›† reCAPTCHA å›æ‡‰å€¼)&lt;/p>
&lt;ol start="3">
&lt;li>å¾Œç«¯è©•ä¼°èˆ‡é©—è­‰å›æ‡‰å€¼éšæ®µ&lt;/li>
&lt;/ol>
&lt;p>é€™å€‹æ­¥é©Ÿæœƒå…ˆå¾å¾Œç«¯æ‡‰ç”¨ç¨‹å¼å–å¾—å‰ç«¯å‚³ä¾†çš„å›æ‡‰å€¼ï¼Œä¸¦å°‡å›æ‡‰å€¼é€åˆ° reCAPTCHA Server é€²è¡Œè©•ä¼°(assessment)ï¼Œä¸¦å–å¾—ä¸€å€‹è©•ä¼°å¾Œçš„ Score (åˆ†æ•¸)ï¼Œå¾è©²åˆ†æ•¸åˆ¤æ–·é€™å€‹ HTTP è¦æ±‚æ˜¯å¦è¦å…è¨±é€šéã€‚&lt;/p>
&lt;blockquote>
&lt;p>æ­¤æ­¥é©Ÿæœ€ç‚ºéº»ç…©ï¼Œä¸»å› æ˜¯ç¼ºå°‘ ASP.NET Core ç¯„ä¾‹ï¼Œæ‰€ä»¥ä¸Šæ‰‹ç¢ºå¯¦æœ‰é»é–€æª»ï¼&lt;/p>
&lt;/blockquote>
&lt;p>ä»¥ä¸‹æˆ‘å°±ä¾æ“šé€™ä¸‰å€‹éšæ®µï¼Œåˆ†åˆ¥èªªæ˜ä½œæ³•ï¼&lt;/p>
&lt;hr>
&lt;h2 id="ç”³è«‹-recaptcha-keys-éšæ®µ">ç”³è«‹ reCAPTCHA keys éšæ®µ&lt;/h2>
&lt;blockquote>
&lt;p>å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise/docs/create-key" target="_blank" rel="noopener"
>Creating reCAPTCHA keys&lt;/a> é€™ä»½æ–‡ä»¶é€²è¡Œæ“ä½œã€‚&lt;/p>
&lt;/blockquote>
&lt;ol>
&lt;li>
&lt;p>ä½ è¦å…ˆæœ‰ä¸€å€‹ &lt;a class="link" href="https://accounts.google.com/" target="_blank" rel="noopener"
>Google å¸³æˆ¶&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨ Google Cloud Console &lt;a class="link" href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#creating_a_project" target="_blank" rel="noopener"
>å»ºç«‹ä¸€å€‹æ–°å°ˆæ¡ˆ&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52674484149_6ce66d6192_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;ol start="3">
&lt;li>å•Ÿç”¨ &lt;code>reCAPTCHA Enterprise API&lt;/code> æœå‹™&lt;/li>
&lt;/ol>
&lt;p>é€²å…¥ &lt;a class="link" href="https://console.cloud.google.com/security/recaptcha" target="_blank" rel="noopener"
>reCAPTCHA Enterprise&lt;/a> é é¢ï¼Œå¦‚æœå°šæœªå•Ÿç”¨ &lt;code>reCAPTCHA Enterprise API&lt;/code> æœå‹™çš„è©±ï¼Œæœƒå…ˆå‡ºç¾ä»¥ä¸‹ç•«é¢ï¼Œä½ å¿…é ˆé¸å° GCP ä¸Šé¢çš„å°ˆæ¡ˆ(Project)ï¼Œç„¶å¾ŒæŒ‰ä¸‹ &lt;code>ENABLE&lt;/code> å•Ÿç”¨æœå‹™ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52673696137_7386c9123f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;ol start="4">
&lt;li>å»ºç«‹ reCAPTCHA keys&lt;/li>
&lt;/ol>
&lt;p>é€²å…¥ &lt;a class="link" href="https://console.cloud.google.com/security/recaptcha" target="_blank" rel="noopener"
>reCAPTCHA Enterprise&lt;/a> é é¢&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52674484179_2eec4888a1_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>è¼¸å…¥ä¸€å€‹é¡¯ç¤ºåç¨±(&lt;code>Display name&lt;/code>)èˆ‡ä½¿ç”¨ reCAPTCHA keys çš„å¹³å°(&lt;code>Platform type&lt;/code>)ï¼Œç”±æ–¼æˆ‘å€‘æ˜¯ä¸€å€‹ç¶²ç«™æœå‹™ï¼Œæ‰€ä»¥è¨˜å¾—é¸æ“‡ &lt;code>Website&lt;/code> é¸é …&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52674631195_2268de597c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å¦‚æœæ˜¯ç¶²ç«™ä½¿ç”¨ï¼Œå°±è¦è¨­å®šç¶²ç«™çš„åŸŸååœ¨æ­¤ï¼Œä½ å¯ä»¥æ–°å¢å¤šå€‹åŸŸåï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52674631220_9938c87bde_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æœ€å¾ŒæŒ‰ä¸‹ &lt;code>CREATE KEY&lt;/code> å»ºç«‹å³å¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52674192016_124de38d87_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="æ”¶é›†å‰ç«¯ä½¿ç”¨è€…å›æ‡‰å€¼éšæ®µ">æ”¶é›†å‰ç«¯ä½¿ç”¨è€…å›æ‡‰å€¼éšæ®µ&lt;/h2>
&lt;p>æˆ‘å€‘å¾ä¸Šä¸€å€‹æ­¥é©Ÿå¯ä»¥çœ‹åˆ°ä¸€å€‹ &lt;code>Web integration&lt;/code> å€æ®µï¼Œé€™è£¡æœ‰ä¸€æ®µ JavaScript ç¨‹å¼ç¢¼ç‰‡æ®µï¼Œä½ ç›´æ¥è¤‡è£½èµ·ä¾†ï¼Œè²¼ä¸Šåˆ°ç¶²é çš„ &lt;code>&amp;lt;head&amp;gt;&lt;/code> å€æ®µå…§ï¼Œå³å¯é–‹å§‹æ”¶é›†å‰ç«¯ä½¿ç”¨è€…å›æ‡‰å€¼ã€‚&lt;/p>
&lt;p>ç¯„ä¾‹ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://www.google.com/recaptcha/enterprise.js?render=6LdSxPgjAAAAAGTKX703ydrWNF8WbQv2pZbRXGyX&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">grecaptcha&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">enterprise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ready&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">grecaptcha&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">enterprise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">execute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;6LdSxPgjAAAAAGTKX703ydrWNF8WbQv2pZbRXGyX&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">action&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;login&amp;#39;&lt;/span>&lt;span class="p">}).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">token&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™è£¡ç‰¹åˆ¥éœ€è¦çŸ¥é“çš„åœ°æ–¹æœ‰ä»¥ä¸‹å¹¾é»ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ç¨‹å¼ç¢¼ç‰‡æ®µçš„ &lt;code>6LdSxPgjAAAAAGTKX703ydrWNF8WbQv2pZbRXGyX&lt;/code> å°±æ˜¯ä½ çš„ &lt;code>reCAPTCHA key&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é€™è£¡çš„ &lt;code>grecaptcha.enterprise.ready()&lt;/code> å‡½å¼æœƒåœ¨è¼‰å…¥å®Œ reCAPTCHA Enterprise å‡½å¼åº«å¾ŒåŸ·è¡Œï¼ŒåªæœƒåŸ·è¡Œä¸€æ¬¡&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é€™è£¡çš„ &lt;code>grecaptcha.enterprise.execute()&lt;/code> å‡½å¼å‰‡æœƒåŸ·è¡Œ reCAPTCHA é©—è­‰ï¼ˆé€™å€‹å‡½å¼æœƒå›å‚³ä¸€å€‹ Promise ç‰©ä»¶ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é€™è£¡çš„ &lt;code>{ action: 'login'}&lt;/code> ä¹Ÿå¾ˆé‡è¦ï¼Œé€™è£¡æ˜¯è¨­å®šä¸€å€‹ã€Œé©—è­‰å‹•ä½œã€çš„é¡å‹ï¼Œé€™å€‹å€¼è¦è·Ÿå¾Œç«¯é€²è¡Œé©—è­‰æ™‚ä½¿ç”¨ç›¸åŒçš„ &lt;code>action&lt;/code> æ‰è¡Œ&lt;br>
Google reCAPTCHA çš„ &lt;code>action&lt;/code> åƒæ•¸å¯ä»¥æ˜¯ä»»ä½•å­—ä¸²ï¼Œå®ƒå¯ä»¥ç”¨ä¾†æ¨™è¨˜é©—è­‰çš„ç›®çš„æˆ–é¡å‹ã€‚ä¸€äº›å¸¸ç”¨çš„ &lt;code>action&lt;/code> å€¼åŒ…æ‹¬ï¼š&lt;code>login&lt;/code> (ç”¨æ–¼ç™»å…¥é©—è­‰)ã€&lt;code>register&lt;/code> (ç”¨æ–¼è¨»å†Šé©—è­‰)ã€&lt;code>password_reset&lt;/code> (ç”¨æ–¼å¯†ç¢¼é‡ç½®é©—è­‰)ã€&lt;code>contact&lt;/code> (ç”¨æ–¼è¯ç¹«è¡¨å–®é©—è­‰)ï¼Œä½†å…¶å¯¦æ²’æœ‰ä¸€å®šè¦ç”¨å“ªä¸€ç¨®ï¼Œä¸çŸ¥é“è¦æŒ‘å“ªä¸€ç¨®çš„è©±ï¼Œä½ éš¨ä¾¿é¸å€‹ &lt;code>login&lt;/code> å…¶å¯¦éƒ½å¯ä»¥ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç¨‹å¼ç¢¼ç‰‡æ®µä¸­çš„ &lt;code>...&lt;/code> ä¸æ˜¯çœŸçš„ç¨‹å¼ç¢¼ï¼Œè€Œæ˜¯ä¸€å€‹è¦ä½ å®¢è£½åŒ–ä¿®æ”¹çš„åœ°æ–¹ï¼&lt;br>
ç”±æ–¼ &lt;code>grecaptcha.enterprise.execute()&lt;/code> å‡½å¼æ˜¯ä¸€å€‹ Promise ç‰©ä»¶ï¼Œä½ å¯ä»¥é€é &lt;code>.then()&lt;/code> å¸¶å…¥çš„ function callback å¾—åˆ°ä¸€å€‹ &lt;code>token&lt;/code> å­—ä¸²ï¼Œé€™å€‹å°±æ˜¯ç”± reCAPTCHA Enterprise å¹«ä½ æ”¶é›†å¥½çš„ã€Œå›æ‡‰å€¼ã€ï¼Œä½ è¦è¨­æ³•å°‡é€™å€‹å€¼å¸¶åˆ°å¾Œç«¯å»é©—è­‰ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>é€™è£¡æœ‰å€‹åœ°é›·æ˜¯ï¼Œé€™å€‹é€é &lt;code>grecaptcha.enterprise.execute()&lt;/code> å‡½å¼å–å›çš„ &lt;code>token&lt;/code> æœ‰æ•ˆæœŸåªæœ‰ &lt;code>2 åˆ†é˜&lt;/code>ï¼&lt;/p>
&lt;p>å„ä½~åªæœ‰ &lt;code>2&lt;/code> åˆ†é˜å°±æœƒ&lt;strong>éæ™‚&lt;/strong>/&lt;strong>éæœŸ&lt;/strong>ï¼åªè¦ &lt;code>2&lt;/code> åˆ†é˜å°±æœƒ &lt;strong>Timeout&lt;/strong>ï¼åªè¦ 2 åˆ†é˜å°±&lt;strong>ä¸èƒ½ç”¨&lt;/strong>äº†ï¼&lt;/p>
&lt;blockquote>
&lt;p>å¾ˆé‡è¦ï¼Œæ‰€ä»¥èªªä¸‰éï¼Œç‚ºäº† SEO è¦æ±‚ï¼Œæˆ‘ç”¨ä¸‰ä»½é—œéµå­—æè¿°ï¼ğŸ”¥&lt;/p>
&lt;/blockquote>
&lt;p>è¶…é &lt;code>2&lt;/code> åˆ†é˜ä¹‹å¾Œé€™å€‹ &lt;code>token&lt;/code> å°±å¤±æ•ˆäº†ï¼Œæ‰€ä»¥åƒè¬ä¸èƒ½åœ¨ã€Œ&lt;strong>ç¶²é è¼‰å…¥&lt;/strong>ã€çš„æ™‚å€™å°±å–å¾— &lt;code>token&lt;/code> å›æ‡‰å€¼ï¼Œå¦å‰‡è¡¨å–®å¡«å¯«è¶…é 2 åˆ†é˜ä¹‹å¾Œä¸å°±è‡ªå‹•å¤±æ•ˆäº†å—ï¼Ÿé€™å€‹æ³¨æ„äº‹é …æ˜¯æœ‰å‡ºç¾åœ¨ &lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise/docs/create-assessment#retrieve_token" target="_blank" rel="noopener"
>Create an assessment&lt;/a> å®˜æ–¹æ–‡ä»¶ä¸­ï¼Œæˆ‘æœ‰é»æ‡·ç–‘æœƒæœ‰å¤šå°‘äººçœ‹åˆ°ï¼ŸğŸ˜…&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52674631260_e53b2911b2_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="å¾Œç«¯è©•ä¼°èˆ‡é©—è­‰å›æ‡‰å€¼éšæ®µ">å¾Œç«¯è©•ä¼°èˆ‡é©—è­‰å›æ‡‰å€¼éšæ®µ&lt;/h2>
&lt;p>é€™è£¡çš„æ­¥é©Ÿå°±æœ‰é»å¤šäº†ï¼Œæˆ‘æœƒä»¥ ASP.NET Core 6 ç‚ºä¾‹é€²è¡Œè§£èªªå®Œæ•´æ­¥é©Ÿã€‚&lt;/p>
&lt;ol>
&lt;li>åˆ° Google Cloud Console çš„ &lt;a class="link" href="https://console.cloud.google.com/iam-admin/serviceaccounts" target="_blank" rel="noopener"
>IAM &amp;amp; Admin &amp;gt; Service accounts&lt;/a> å»ºç«‹ä¸€å€‹æœå‹™å¸³æˆ¶(&lt;code>Service Accounts&lt;/code>)&lt;/li>
&lt;/ol>
&lt;p>è¦å¾ç¶²ç«™çš„å¾Œç«¯å‘¼å« GCP ä¸Šé¢çš„ API æœå‹™ï¼Œéƒ½éœ€è¦æœ‰ä¸€å€‹èº«åˆ†(Principal)ä¾†å‘¼å« API æœå‹™ã€‚ä½ å¯ä»¥å¾ &lt;code>APIs &amp;amp; Services &amp;gt; Enabled APIs &amp;amp; Services&lt;/code> æ‰¾åˆ° &lt;code>reCAPTCHA Enterprise API&lt;/code> æœå‹™ï¼Œé»æ“Šé€²å»ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52674631275_d9921c7606_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æˆ‘å€‘è¦å»ºç«‹ä¸€å€‹ reCAPTCHA Enterprise API æ‰€éœ€çš„ &lt;code>CREDENTIALS&lt;/code> (èº«åˆ†èªè­‰)&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52673696297_58025d471a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€™è£¡æœ‰å…©å€‹é¸é …ï¼Œæˆ‘å€‘é€éç¶²ç«™æ•´åˆ reCAPTCHA Enterprise API ä¸€å®šæ˜¯ä½¿ç”¨ &lt;code>Service Accounts&lt;/code> (æœå‹™å¸³æˆ¶) é€™é …ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52673696327_de9d0c8ac1_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>è¨­å®šä¸€å€‹æœå‹™å¸³æˆ¶åç¨±ï¼Œå¥½è¨˜å°±å¥½&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52674695908_0e1455e917_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ğŸ”¥ &lt;strong>é€™å€‹æ­¥é©Ÿè¶…ç´šé‡è¦&lt;/strong>ï¼Œä½ è¦æ˜¯ä¸åœ¨é€™è£¡é¸å° Role (è§’è‰²)ï¼Œä¹Ÿå°±æ˜¯ &lt;code>reCAPTCHA Enterprise Agent&lt;/code>ï¼Œå°±ç®—ä½ å–å¾— &lt;code>Service Account&lt;/code> ä¹Ÿæ²’æœ‰æ¬Šé™å‘¼å« &lt;code>reCAPTCHA Enterprise API&lt;/code>ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52673696372_5009fe8da3_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52674631365_1ebb8a6d4b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å¦‚æœæ²’è¨­å®šçš„è©±ï¼Œä½ çš„ ASP.NET Core åŸ·è¡Œæ™‚å°±æœƒå¾—åˆ°ä»¥ä¸‹éŒ¯èª¤è¨Šæ¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-csharp" data-lang="csharp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Status&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">StatusCode&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="s">&amp;#34;PermissionDenied&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Detail&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="s">&amp;#34;Permission denied for: recaptchaenterprise.assessments.create. Please ensure you have sufficient permissions: https://cloud.google.com/iam/docs/granting-changing-revoking-access&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹æ­¥é©Ÿå¯ä»¥ä¸ç”¨è¨­å®šï¼Œç›´æ¥æŒ‰ä¸‹ &lt;code>DONE&lt;/code> å®Œæˆè¨­å®šã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52673696422_6947c5edc3_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é»æ“Šé€²å…¥å‰›å‰›å»ºç«‹çš„æœå‹™å¸³æˆ¶&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52674696068_f6abd56af7_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ğŸ”¥ åˆ‡æ›åˆ° &lt;code>KEYS&lt;/code> é ç±¤ï¼Œå»ºç«‹ä¸€æŠŠæ–°çš„&lt;strong>ç§å¯†é‡‘é‘°&lt;/strong>(key)ï¼Œä¸»è¦ç”¨ä¾†çµ¦å¾Œç«¯ç¨‹å¼å‘¼å« API æ™‚é€šéé©—è­‰ç”¨ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52674192246_6df4520a36_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å»ºç«‹é‡‘é‘°å¯ä»¥é¸æ“‡å…©ç¨®æ ¼å¼ï¼Œæˆ‘å€‘é¸æ“‡ &lt;code>JSON&lt;/code> æ ¼å¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52674696038_3fa8ea1c95_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ğŸ”¥ æŒ‰ä¸‹ CREATE ä¹‹å¾Œï¼Œç€è¦½å™¨å°±æœƒç›´æ¥ä¸‹è¼‰ä¸€å€‹ *.json æª”æ¡ˆï¼Œé€™å€‹æª”æ¡ˆå°±æ˜¯æˆ‘å€‘çš„é‡‘é‘°æª”ï¼Œä¹‹å¾Œåœ¨ ASP.NET Core ç¶²ç«™ä¸­ç”¨çš„åˆ°ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52674631420_be947a72f5_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€™å€‹ JSON æª”æ¡ˆçš„å…§å®¹å¤§è‡´å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;type&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;service_account&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;project_id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;recaptchademo-374714&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;private_key_id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;9462e07151d......181083e38c718503&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;private_key&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;-----BEGIN PRIVATE KEY-----\nM...g=\n-----END PRIVATE KEY-----\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;client_email&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;myrecaptcha@recaptchademo-374714.iam.gserviceaccount.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;client_id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;11581452......4955852&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;auth_uri&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://accounts.google.com/o/oauth2/auth&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;token_uri&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://oauth2.googleapis.com/token&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;auth_provider_x509_cert_url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://www.googleapis.com/oauth2/v1/certs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;client_x509_cert_url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://www.googleapis.com/robot/v1/metadata/x509/myrecaptcha%40recaptchademo-374714.iam.gserviceaccount.com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>é€™å€‹æ­¥é©Ÿæˆ‘åšäº†å¥½å¹¾æ¬¡ï¼Œæ¼æ‰ä¸€å…©æ­¥å°±åˆ¥æƒ³ç©ä¸‹å»äº†ï¼Œæ‰€ä»¥ GCP å°±æ˜¯ä¸»è¦çš„é–€æª»æ‰€åœ¨ï¼ğŸ˜…&lt;/p>
&lt;/blockquote>
&lt;ol start="2">
&lt;li>åœ¨ ASP.NET Core ç¶²ç«™å®‰è£ &lt;a class="link" href="https://www.nuget.org/packages/Google.Cloud.RecaptchaEnterprise.V1" target="_blank" rel="noopener"
>Google.Cloud.RecaptchaEnterprise.V1&lt;/a> NuGet å¥—ä»¶&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">dotnet add package Google.Cloud.RecaptchaEnterprise.V1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>è¨­å®š ASP.NET Core ç¶²ç«™çš„ DI å®¹å™¨ (ServiceCollection)&lt;/li>
&lt;/ol>
&lt;p>ä»¥ä¸‹ç¨‹å¼ç¢¼æœƒå°‡ &lt;code>RecaptchaEnterpriseServiceClient&lt;/code> è¨»å†Šæˆ Singletonï¼Œä¸¦è¨­å®š JsonCredentials ç‚ºæˆ‘å€‘å‰›å‰›ä¸‹è¼‰çš„ç§å¯†é‡‘é‘° JSON æª”ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-csharp" data-lang="csharp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">builder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Services&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">AddRecaptchaEnterpriseServiceClient&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">options&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">JsonCredentials&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">File&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ReadAllText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;recaptchademo-374714-9462e07151d4.json&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœæ²’æœ‰æŒ‡å®š &lt;code>Credentials&lt;/code> çš„è©±ï¼ŒåŸ·è¡Œæ™‚å°±æœƒå¾—åˆ°ä»¥ä¸‹éŒ¯èª¤è¨Šæ¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>åœ¨ Controller çš„å»ºæ§‹å¼æ³¨å…¥ &lt;code>RecaptchaEnterpriseServiceClient&lt;/code> ç‰©ä»¶&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-csharp" data-lang="csharp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span> &lt;span class="k">readonly&lt;/span> &lt;span class="n">RecaptchaEnterpriseServiceClient&lt;/span> &lt;span class="n">_recaptchaClient&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span> &lt;span class="n">ContactController&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">RecaptchaEnterpriseServiceClient&lt;/span> &lt;span class="n">re&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">_recaptchaClient&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">re&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="5">
&lt;li>å»ºç«‹ä¸€å€‹ &lt;code>createAssessmentAsync&lt;/code> æ–¹æ³• (Method)&lt;/li>
&lt;/ol>
&lt;p>æˆ‘åƒè€ƒ &lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise/docs/create-assessment#c" target="_blank" rel="noopener"
>Create an assessment using the REST API or Client Libraries&lt;/a> çš„ C# ç¯„ä¾‹ç¨‹å¼é€²è¡Œæ”¹å¯«å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-csharp" data-lang="csharp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Create an assessment to analyze the risk of an UI action.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// projectID: GCloud Project ID.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// recaptchaSiteKey: Site key obtained by registering a domain/app to use recaptcha.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// token: The token obtained from the client on passing the recaptchaSiteKey.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// recaptchaAction: Action name corresponding to the token.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span> &lt;span class="k">async&lt;/span> &lt;span class="n">Task&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="kt">bool&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="n">createAssessmentAsync&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">string&lt;/span> &lt;span class="n">token&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">string&lt;/span> &lt;span class="n">projectID&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;recaptchademo-374714&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">string&lt;/span> &lt;span class="n">recaptchaSiteKey&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;6LdSxPgjAAAAAGTKX703ydrWNF8WbQv2pZbRXGyX&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">string&lt;/span> &lt;span class="n">recaptchaAction&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;login&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">IsNullOrWhiteSpace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">token&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ArgumentException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;The `token` argument must not empty.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ProjectName&lt;/span> &lt;span class="n">projectName&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ProjectName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">projectID&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Build the assessment request.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">CreateAssessmentRequest&lt;/span> &lt;span class="n">createAssessmentRequest&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">CreateAssessmentRequest&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Assessment&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Assessment&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Set the properties of the event to be tracked.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Event&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Event&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SiteKey&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">recaptchaSiteKey&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Token&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">token&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ExpectedAction&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">recaptchaAction&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ParentAsProjectName&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">projectName&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Assessment&lt;/span> &lt;span class="n">response&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="n">_recaptchaClient&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">CreateAssessmentAsync&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">createAssessmentRequest&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Check if the token is valid.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">TokenProperties&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Valid&lt;/span> &lt;span class="p">==&lt;/span> &lt;span class="k">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">_logger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">LogInformation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;The CreateAssessment call failed because the token was: &amp;#34;&lt;/span> &lt;span class="p">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">TokenProperties&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">InvalidReason&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ToString&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Check if the expected action was executed.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">TokenProperties&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Action&lt;/span> &lt;span class="p">!=&lt;/span> &lt;span class="n">recaptchaAction&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">_logger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">LogInformation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;The action attribute in reCAPTCHA tag is: &amp;#34;&lt;/span> &lt;span class="p">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">TokenProperties&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Action&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ToString&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">_logger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">LogInformation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;The action attribute in the reCAPTCHA tag does not &amp;#34;&lt;/span> &lt;span class="p">+&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;match the action you are expecting to score&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Get the risk score and the reason(s).&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// For more information on interpreting the assessment,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// see: https://cloud.google.com/recaptcha-enterprise/docs/interpret-assessment&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">var&lt;/span> &lt;span class="n">score&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="n">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">RiskAnalysis&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Score&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">_logger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">LogInformation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;The reCAPTCHA score is: &amp;#34;&lt;/span> &lt;span class="p">+&lt;/span> &lt;span class="n">score&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">foreach&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">RiskAnalysis&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Types&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ClassificationReason&lt;/span> &lt;span class="n">reason&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="n">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">RiskAnalysis&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Reasons&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">_logger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">LogInformation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">reason&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">ToString&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// https://developers.google.com/recaptcha/docs/analytics&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// This chart shows the average score on your site, which is designed to help you spot trends.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Scores range from 0.0 to 1.0, with 0.0 indicating abusive traffic and 1.0 indicating good traffic.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Sign up for reCAPTCHA v3 to gain more insights about your traffic.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">score&lt;/span> &lt;span class="p">&amp;gt;&lt;/span> &lt;span class="m">0.5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™è£¡ method ç¸½å…±æœ‰ 4 å€‹åƒæ•¸ï¼Œéƒ½å¾ˆé‡è¦ï¼Œé™¤äº† &lt;code>token&lt;/code> ä¹‹å¤–ï¼Œå…¶ä»–éƒ½å¯ä»¥å¯«é€² &lt;code>appsettings.json&lt;/code> çµ„æ…‹ä¹‹ä¸­ï¼&lt;/p>
&lt;p>å› ç‚º GCP ä¸Šçš„æ¯å€‹ã€Œå°ˆæ¡ˆã€éƒ½æœ‰å€‹å”¯ä¸€çš„ &lt;code>projectID&lt;/code>ï¼Œä½ è¦ç‰¹åˆ¥æŸ¥æ‰çŸ¥é“æ˜¯ä»€éº¼ï¼Œé€™è£¡çš„ &lt;code>projectID&lt;/code> è¦è¨˜å¾—åˆ° &lt;a class="link" href="https://console.cloud.google.com/welcome" target="_blank" rel="noopener"
>https://console.cloud.google.com/welcome&lt;/a> æŸ¥é–±ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52674484434_7414cca050_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€™è£¡çš„ &lt;code>recaptchaSiteKey&lt;/code> å°±æ˜¯ä½ å…ˆå‰å»ºç«‹ site key æ™‚æ‹¿åˆ°çš„é‚£çµ„ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52674631405_347fa4a156_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€™è£¡çš„ &lt;code>recaptchaAction&lt;/code> å¿…é ˆè·Ÿä½ åœ¨ã€Œæ”¶é›†å‰ç«¯ä½¿ç”¨è€…å›æ‡‰å€¼éšæ®µã€è¨­å®šçš„ &lt;code>{action: 'login'}&lt;/code> å®Œå…¨ä¸€æ¨£ï¼Œé€™è£¡æ˜¯è¨­å®šä¸€å€‹ã€Œé©—è­‰å‹•ä½œã€çš„é¡å‹ï¼Œå¯ä»¥æ˜¯ä»»æ„å­—ä¸²ï¼&lt;/p>
&lt;p>ç¨‹å¼ç¢¼é‚è¼¯çš„éƒ¨åˆ†æˆ‘å°±ä¸è´…è¿°äº†ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±çœ‹ï¼Œæ‡‰è©²å¾ˆå®¹æ˜“ç†è§£ã€‚æœ€å¾Œçš„ &lt;code>if (score &amp;gt; 0.5) {}&lt;/code> å°±æ˜¯åœ¨åˆ¤æ–·æ€æ¨£çš„åˆ†æ•¸å…è¨±é€šéé©—è­‰ï¼ŒåŸºæœ¬ä¸Šåˆ†æ•¸åªæœƒä»‹æ–¼ &lt;code>0.0&lt;/code> ~ &lt;code>1.0&lt;/code> ä¹‹é–“ï¼Œå…± 11 å€‹ç­‰ç´šã€‚ä½†åœ¨å°šæœªé€šé &lt;a class="link" href="https://go.chronicle.security/recaptchaupgrade" target="_blank" rel="noopener"
>Google Security Review&lt;/a> çš„å‰æä¸‹ï¼Œé è¨­åªæœƒæœ‰ &lt;code>0.1&lt;/code>ã€&lt;code>0.3&lt;/code>ã€&lt;code>0.7&lt;/code> èˆ‡ &lt;code>0.9&lt;/code> é€™å››å€‹ç­‰ç´šï¼Œæ‰€ä»¥å»ºè­° &lt;code>Score&lt;/code> çµæœçš„åˆ¤æ–·å¼ä¸è¦ç”¨ == ä¾†å¯«ï¼Œç”¨ &lt;code>&amp;lt;&lt;/code>ã€&lt;code>&amp;lt;=&lt;/code> æˆ– &lt;code>&amp;gt;&lt;/code>ã€&lt;code>&amp;gt;=&lt;/code> æ‰æ˜¯æ¯”è¼ƒæ­£ç¢ºçš„å¯«æ³•ï¼&lt;/p>
&lt;ol start="6">
&lt;li>æœ€å¾Œè¦ä½¿ç”¨å°±å¾ˆç°¡å–®äº†ï¼Œä»¥ä¸‹æ˜¯ä¸€å€‹ç°¡å–®çš„ Action ä½¿ç”¨ç¯„ä¾‹&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-csharp" data-lang="csharp">&lt;span class="line">&lt;span class="cl">&lt;span class="na">[HttpPost]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">[ValidateAntiForgeryToken]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span> &lt;span class="k">async&lt;/span> &lt;span class="n">Task&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="n">IActionResult&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="n">Index&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">FromForm&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="n">ContactViewModel&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">await&lt;/span> &lt;span class="n">createAssessmentAsync&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">RecaptchaToken&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">NoContent&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">BadRequest&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="ç¸½çµ">ç¸½çµ&lt;/h2>
&lt;p>æ•´åˆ Google çš„ &lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise" target="_blank" rel="noopener"
>reCAPTCHA Enterprise&lt;/a> å¯¦åœ¨å¤ªå¤šé›·äº†ï¼Œé€™å° &lt;a class="link" href="https://cloud.google.com/" target="_blank" rel="noopener"
>Google Cloud Platform&lt;/a> ä¸å¤ªç†Ÿæ‚‰çš„äººä¾†èªªï¼Œæ•´åˆèµ·ä¾†è‘—å¯¦æœ‰ä¸å°çš„é–€æª»ï¼Œæœ¬æ–‡é€™éº¼å¤šæ­¥é©Ÿï¼Œè¦æ˜¯æˆ‘ä¸è¨˜éŒ„ä¸‹ä¾†ï¼Œéä¸€æ®µæ™‚é–“æˆ‘è‚¯å®šåˆå¿˜è¨˜äº†ï¼ğŸ˜…&lt;/p>
&lt;p>æˆ‘ä¾†é‡æ–°ç¸½çµä¸€ä¸‹æ•´å€‹é–‹ç™¼éç¨‹ï¼š&lt;/p>
&lt;ol>
&lt;li>å…ˆåˆ° &lt;a class="link" href="https://console.cloud.google.com/" target="_blank" rel="noopener"
>Google Cloud console&lt;/a> å»ºç«‹ &lt;a class="link" href="https://console.cloud.google.com/security/recaptcha" target="_blank" rel="noopener"
>reCAPTCHA keys&lt;/a>&lt;br>
ä½ å¯èƒ½éœ€è¦&lt;a class="link" href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#creating_a_project" target="_blank" rel="noopener"
>å»ºç«‹ä¸€å€‹æ–°å°ˆæ¡ˆ&lt;/a>ï¼Œä¸¦å•Ÿç”¨ &lt;code>reCAPTCHA Enterprise API&lt;/code> æœå‹™ï¼Œç„¶å¾Œæ‰èƒ½å»ºç«‹ &lt;a class="link" href="https://console.cloud.google.com/security/recaptcha" target="_blank" rel="noopener"
>reCAPTCHA keys&lt;/a>ã€‚&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>æ¯å€‹ GCP ä¸Šé¢çš„æ–°å°ˆæ¡ˆï¼Œéƒ½éœ€è¦å€‹åˆ¥æ‰‹å‹•å•Ÿç”¨ API æœå‹™ã€‚å¦‚æœä½ é¸ç”¨å…ˆå‰å»ºç«‹éçš„å°ˆæ¡ˆï¼Œä¸” &lt;code>reCAPTCHA Enterprise API&lt;/code> æœå‹™å·²ç¶“å•Ÿç”¨éï¼Œé‚£å°±ä¸éœ€è¦å†æ¬¡å•Ÿç”¨ã€‚&lt;/p>
&lt;/blockquote>
&lt;ol start="2">
&lt;li>
&lt;p>å®‰è£ &lt;a class="link" href="https://cloud.google.com/recaptcha-enterprise/docs/keys" target="_blank" rel="noopener"
>reCAPTCHA keys&lt;/a> åˆ°ç¶²é ä¸Š (å‰ç«¯ JavaScript ç‚ºä¸»)&lt;br>
é€™é‚Šéœ€è¦å¯«ä¸€é»é» JavaScript æ‰èƒ½å°‡ &lt;code>token&lt;/code> å›å¯«åˆ°è¡¨å–®ä¸Šï¼Œå¹«åŠ©å‰ç«¯å°‡ &lt;code>token&lt;/code> é€å›å¾Œç«¯è©•ä¼°ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¾å¾Œç«¯è©•ä¼°å‰ç«¯é€ä¾†çš„ &lt;code>token&lt;/code> (å›æ‡‰å€¼) æ˜¯å¦æœ‰æ•ˆ&lt;br>
ä½ å¿…é ˆå»ºç«‹ä¸€å€‹ GCP ä¸Šçš„ &lt;code>Service Account&lt;/code> (æœå‹™å¸³æˆ¶)ï¼Œä¸¦è³¦äºˆ &lt;code>reCAPTCHA Enterprise Agent&lt;/code> è§’è‰²ã€‚ç„¶å¾Œç‚ºé€™å€‹ &lt;code>Service Account&lt;/code> å»ºç«‹ä¸€æŠŠ &lt;code>key&lt;/code> (ç§å¯†é‡‘é‘°) æ‰èƒ½çµ„æˆä¸€å€‹ &lt;code>Credential&lt;/code> (èº«åˆ†èªè­‰è³‡è¨Š) è®“æ‡‰ç”¨ç¨‹å¼ä½¿ç”¨ï¼Œç„¶å¾Œç”¨é€™ä»½ &lt;code>Credential&lt;/code> è·Ÿ &lt;code>reCAPTCHA Enterprise API&lt;/code> é€šè¨Šï¼Œå–å¾— &lt;code>Assessment&lt;/code> (è©•ä¼°) çµæœï¼Œç„¶å¾Œä¾æ“š &lt;code>Score&lt;/code> (åˆ†æ•¸) åˆ¤æ–·æ˜¯å¦ç‚ºçœŸäººçš„æµé‡ï¼Œé€šå¸¸é€™å€‹ &lt;code>Score&lt;/code> (åˆ†æ•¸) åªè¦å¤§æ–¼ç­‰æ–¼ &lt;code>0.7&lt;/code> é€šå¸¸å°±æ„å‘³è‘—å¯ä¿¡åº¦å¤ é«˜ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>å¦å¤–ï¼Œæˆ‘æƒ³è£œå……èªªæ˜çš„æ˜¯ï¼Œ&lt;a class="link" href="https://www.google.com/recaptcha/about/" target="_blank" rel="noopener"
>reCAPTCHA Enterprise&lt;/a> æœ‰&lt;strong>æ¯æœˆ 100 è¬æ¬¡å…è²»ä½¿ç”¨é¡åº¦&lt;/strong>ï¼Œé€™äº›æ¬¡æ•¸ä¸»è¦æ˜¯ã€Œå¾Œç«¯ã€å° &lt;code>reCAPTCHA Enterprise API&lt;/code> ç™¼é€é©—è­‰ &lt;code>Assessment&lt;/code> (è©•ä¼°) çš„æ¬¡æ•¸ï¼Œå°è¨±å¤šç¶²ç«™ä¾†èªªï¼Œé€™å€‹æ•¸é‡æ‡‰è©²æ˜¯ç¶½ç¶½æœ‰é¤˜äº†ï¼Œæ‰€ä»¥æˆ‘æ‰è€ƒæ…®ç›´æ¥ä½¿ç”¨é€™å€‹æœå‹™ã€‚&lt;/p>
&lt;hr></description></item><item><title>å¦‚ä½•ç”¨ Google Sheets / Excel ç•¶ä½œè³‡æ–™åº«ï¼Ÿ</title><link>https://wayne-blog.com/2022-12-10/use-google-sheet-as-db/</link><pubDate>Sat, 10 Dec 2022 00:00:00 +0000</pubDate><guid>https://wayne-blog.com/2022-12-10/use-google-sheet-as-db/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52550876753_d803ddfa87_o.jpg" alt="Featured image of post å¦‚ä½•ç”¨ Google Sheets / Excel ç•¶ä½œè³‡æ–™åº«ï¼Ÿ" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://wjdesign.github.io/google-sheet-db/dist/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>Google è©¦ç®—è¡¨åç¨±æ˜¯ Google Sheetsï¼Œä½†ç‚ºäº†è®“å¤§å®¶å¥½ç†è§£ï¼Œä»¥ä¸‹ä¹Ÿæœƒç¨± Google Excelã€‚&lt;/p>
&lt;p>é€™ä¸€ç¯‡èªªæ˜å¦‚ä½•æŠŠ Google Excel ç•¶ä½œè³‡æ–™åº«ï¼Œä¸¦å¯¦ä½œå‡ºä¸€å€‹ç°¡å–®çš„æœƒå“¡åˆ—è¡¨é å‡ºä¾†ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å»ºç«‹-google-excel">å»ºç«‹ Google Excel&lt;/h2>
&lt;p>åœ¨ Google Drive ä¸Šï¼ŒæŒ‰&lt;strong>æ–°å¢&lt;/strong>ï¼Œé¸æ“‡ã€Œ&lt;strong>Google è©¦ç®—è¡¨&lt;/strong>ã€ï¼Œå°±æœƒé€²åˆ°ä¸€å¼µæ–°çš„ Google Excelã€‚&lt;/p>
&lt;p>é€™é‚Šè¨­å®šçš„å‡è³‡æ–™æ¬„ä½ï¼Œç¸½å…±æœ‰ä»¥ä¸‹ 5 å€‹ï¼š&lt;/p>
&lt;ul>
&lt;li>idï¼šæµæ°´è™Ÿ&lt;/li>
&lt;li>nameï¼šå§“å&lt;/li>
&lt;li>imageï¼šåœ–ç‰‡&lt;/li>
&lt;li>emailï¼šä¿¡ç®±&lt;/li>
&lt;li>phoneï¼šé›»è©±&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>è¦æ³¨æ„ï¼Œæ¬„ä½åç¨±çš„éƒ¨ä»½è¦ç”¨è‹±æ–‡ï¼Œåœ¨ä¸‹é¢æ¥è³‡æ–™é‚£æ®µæœƒè§£é‡‹åŸå› ã€‚&lt;/strong>&lt;/p>
&lt;p>Demo çš„è³‡æ–™å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52550332746_69623d6a40_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="ç™¼ä½ˆ-google-excel-åˆ°ç¶²è·¯">ç™¼ä½ˆ Google Excel åˆ°ç¶²è·¯&lt;/h2>
&lt;p>é€™æ­¥æœ€ç°¡å–®ä¹Ÿæœ€é‡è¦ï¼Œåªæœ‰é¸æ“‡&lt;strong>ç™¼ä½ˆåˆ°ç¶²è·¯&lt;/strong>ä¸Šçš„ Google Excelï¼Œæ‰èƒ½ GET åˆ°è³‡æ–™ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œé»æ“Šå·¦ä¸Šè§’çš„ã€Œæª”æ¡ˆã€&amp;gt;ã€Œå…±ç”¨ã€ï¼Œæœƒçœ‹åˆ°å±•é–‹çš„é¸é …è£¡æœ‰ã€Œç™¼ä½ˆåˆ°ç¶²è·¯ã€ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52549877517_7035af1b3b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é»æ“Šå¾Œï¼Œæœƒå‡ºç¾è©¢å•æ¡†ï¼Œå•èªªç™¼ä½ˆçš„ç¯„åœï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52550804960_d56c660192_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€™ç¯‡ Demo å› ç‚ºåªæœ‰ä¸€å¼µè¡¨ï¼Œæ‰€ä»¥ç›´æ¥ç”¨ã€Œ&lt;strong>æ•´ä»½æ–‡ä»¶&lt;/strong>ã€ï¼Œå¦‚æœæ˜¯æœ‰å¾ˆå¤šå¼µè¡¨ï¼Œä½†é™åˆ¶å…¶ä¸­å¹¾å¼µæ˜¯å¯ä»¥æŠ“çš„ï¼Œå°±é¸æ“‡å¯ä»¥å…¬é–‹çš„è¡¨å³å¯ã€‚&lt;/p>
&lt;p>æŒ‰ä¸‹ã€Œ&lt;strong>ç™¼ä½ˆ&lt;/strong>ã€å¾Œï¼Œå°±æœƒçœ‹è¦‹çµæœçš„è©¢å•æ¡†ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52550627694_39f3048c41_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å°±å¯ä»¥æŒ‰ä¸‹å‰å‰é—œæ‰é€™æ¡†äº†ã€‚&lt;/p>
&lt;p>æ¥è‘—è¨˜å¾—å°‡è¡¨å–®çš„ã€Œæª¢è¦–ã€æ¬Šé™é–‹æ”¾çµ¦çŸ¥é“é€£çµçš„ä»»ä½•äººï¼Œä»¥å…å¾Œé¢æ­¥é©Ÿå› æ¬Šé™ä¸è¶³è€Œè¢«é˜»æ“‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52550876658_a2a7571895_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="å–å¾—-google-api-key">å–å¾— Google API Key&lt;/h2>
&lt;h3 id="1-gcp-æ–°å¢æ–°å°ˆæ¡ˆ">1. GCP æ–°å¢æ–°å°ˆæ¡ˆ&lt;/h3>
&lt;p>&lt;strong>æ²’æœ‰å°ˆæ¡ˆçš„æ‰éœ€è¦é€™æ­¥&lt;/strong>ï¼Œé€²åˆ° &lt;a class="link" href="https://console.cloud.google.com/?hl=zh-TW" target="_blank" rel="noopener"
>Google Cloud Platform&lt;/a> çš„é é¢æŒ‰ä¸‹æ–°å¢å°ˆæ¡ˆï¼Œå–å¥½å°ˆæ¡ˆåç¨±å¾Œå³å¯æ–°å¢ã€‚&lt;/p>
&lt;h3 id="2-é–‹é€š-google-sheets-api-åŠŸèƒ½">2. é–‹é€š Google Sheets API åŠŸèƒ½&lt;/h3>
&lt;p>æœ‰äº† GCP çš„å°ˆæ¡ˆå¾Œï¼Œé€²åˆ° API ç¨‹å¼åº«ï¼š&lt;a class="link" href="https://console.cloud.google.com/apis/library?hl=zh-TW" target="_blank" rel="noopener"
>https://console.cloud.google.com/apis/library?hl=zh-TW&lt;/a>&lt;/p>
&lt;p>æœå°‹æ¬„ä¸­æœå°‹ã€Œ&lt;strong>sheet&lt;/strong>ã€ï¼Œæœƒçœ‹åˆ°ä¸€é …ã€Œ&lt;strong>Google Sheets API&lt;/strong>ã€ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52550804915_a8e928380e_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é»æ“Šå¾ŒæŒ‰ä¸‹ã€Œå•Ÿç”¨ã€ï¼Œå°ˆæ¡ˆå°±æœƒé–‹é€š &lt;strong>Google Sheets API&lt;/strong> çš„åŠŸèƒ½ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52550332711_79a2bbc937_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å•Ÿç”¨å®Œæˆï¼Œé é¢æœƒå›åˆ° GCP çš„é é¢ï¼Œå¯ä»¥çœ‹åˆ°ä¸Šé¢ä¸€æ¢è¨Šæ¯æé†’è¦æœ‰æ†‘è­‰æ‰èƒ½ä½¿ç”¨ APIï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52550804875_033c1b47e2_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç›´æ¥é»æ“Šã€Œ&lt;strong>å»ºç«‹æ†‘è­‰&lt;/strong>ã€ï¼Œæˆ–æ˜¯æ‰“é–‹ç¶²å€ï¼š&lt;a class="link" href="https://console.cloud.google.com/apis/credentials/wizard?hl=zh-TW" target="_blank" rel="noopener"
>https://console.cloud.google.com/apis/credentials/wizard?hl=zh-TW&lt;/a>&lt;/p>
&lt;h3 id="3-å»ºç«‹æ†‘è­‰">3. å»ºç«‹æ†‘è­‰&lt;/h3>
&lt;p>å»ºç«‹æ†‘è­‰çš„ç¬¬ä¸€æ­¥è¦å…ˆåšä¸€äº›é¸æ“‡ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52550876703_969c87a5d9_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ã€Œ&lt;strong>é¸å– API&lt;/strong>ã€ï¼Œé¸æ“‡ã€Œ&lt;strong>Google Sheets API&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>ã€Œæ‚¨éœ€è¦å­˜å–ä»€éº¼è³‡æ–™ï¼Ÿã€ï¼Œé€™æ®µçœ‹äº† &lt;a class="link" href="https://cloud.google.com/docs/authentication?hl=zh-TW" target="_blank" rel="noopener"
>èªªæ˜æ–‡ä»¶&lt;/a> ä¹Ÿçœ‹ä¸å¤ªæ‡‚ä½¿ç”¨çš„æƒ…å¢ƒï¼Œé¸æ“‡ã€Œ&lt;strong>æ‡‰ç”¨ç¨‹å¼è³‡æ–™&lt;/strong>ã€å°±å¯ä»¥ã€‚&lt;/p>
&lt;p>ã€Œæ‚¨æ‰“ç®—å°‡é€™å€‹ API èˆ‡ Compute Engineã€Kubernetes Engineã€App Engine æˆ– Cloud Functions æ­é…ä½¿ç”¨å—ï¼Ÿã€ï¼Œæœ¬ç¯‡åªæ˜¯ç‚ºäº†è¦èƒ½å¤ å–å¾— Google Sheets ä¸­çš„è³‡æ–™ï¼Œä¸¦ä¸æœƒç”¨åˆ°ä¸Šè¿°çš„åŠŸèƒ½ï¼Œé¸æ“‡ã€Œ&lt;strong>ä¸ï¼Œæˆ‘ä¸æœƒä½¿ç”¨ä»»ä½•ä¸€é …æ†‘è­‰&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>æ¥è‘—æŒ‰ã€Œ&lt;strong>ä¸‹ä¸€æ­¥&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>ä¸‹ä¸€æ­¥æ˜¯å¡«å¯«æˆ‘å€‘å»ºç«‹é€™å€‹å¸³æˆ¶çš„è³‡æ–™ï¼Œå¡«å¯«æˆæˆ‘å€‘ä¹‹å¾Œå›é ­ä¾†çœ‹æ™‚ï¼Œçœ‹å¾—æ‡‚è¦åšä»€éº¼çš„è³‡è¨Šå°±å¯ä»¥ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52549877427_00813119ce_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å¡«å¯«å®Œå¾ŒæŒ‰ä¸‹ã€Œ&lt;strong>å»ºç«‹ä¸¦ç¹¼çºŒ&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>å¾Œé¢äºŒé …æ˜¯é¸å¡«ï¼Œä¸ç”¨è¨­å®šä¹Ÿæ²’é—œä¿‚ï¼ŒæŒ‰ä¸‹ã€Œ&lt;strong>å®Œæˆ&lt;/strong>ã€ã€‚&lt;/p>
&lt;h3 id="4-å»ºç«‹-api-é‡‘é‘°">4. å»ºç«‹ API é‡‘é‘°&lt;/h3>
&lt;p>ä¸Šä¸€æ­¥å®Œæˆå¾Œï¼Œé é¢æœƒå›åˆ° &lt;a class="link" href="https://console.cloud.google.com/apis/credentials?hl=zh-TW" target="_blank" rel="noopener"
>æ†‘è­‰çš„é é¢&lt;/a>ï¼Œé»æ“Šä¸Šæ–¹çš„ã€Œ&lt;strong>å»ºç«‹æ†‘è­‰&lt;/strong>ã€ï¼Œé¸æ“‡ã€Œ&lt;strong>API é‡‘é‘°&lt;/strong>ã€ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52550876678_2e409c343b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å¹¾ç§’å¾Œï¼Œå°±æœƒçœ‹è¦‹è·³å‡ºä¸€å€‹å°è¦–çª—ï¼Œä¸Šé¢å¯«äº†ã€Œ&lt;strong>æ‚¨çš„ API é‡‘é‘°&lt;/strong>ã€ï¼Œé€™å€‹é‡‘é‘°ä¹Ÿå°±æ˜¯æˆ‘å€‘è¦å– Google Sheets æ™‚å¾Œé¢è¦é™„ä¸Šçš„ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52550876663_965c0731fb_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>è¦–çª—ä¸Šé¢ä¹Ÿæé†’äº†ï¼Œç‚ºäº†æ€•é‡‘é‘°è¢«å¤–äººæ‹¿åˆ°ä¹Ÿå¯ä»¥ç”¨ï¼Œæˆ‘å€‘å¿…é ˆè¦å°é€™çµ„é‡‘é‘°åŠ ä¸Šé™åˆ¶ï¼Œé»æ“Šã€Œ&lt;strong>é™åˆ¶é‡‘é‘°&lt;/strong>ã€å°±æœƒé€²å…¥è¨­å®šçš„é é¢ã€‚&lt;/p>
&lt;p>å»ºè­°&lt;strong>ä¸€å®šè¦è¨­å®šé™åˆ¶&lt;/strong>ï¼Œæœ¬ç¯‡çš„ Demo æœ‰é™åˆ¶åªæœ‰åœ¨ Demo é ä¸‹æ‰æœ‰æ•ˆï¼Œè€Œä¸”ä¹Ÿåªèƒ½ç”¨ &lt;strong>Google Sheets API&lt;/strong> çš„åŠŸèƒ½ã€‚&lt;/p>
&lt;p>æœ‰äº† API é‡‘é‘°ï¼Œæ¥è‘—å°±æ˜¯ç”¨æ–°çš„ URL å»åŸ·è¡Œ GETã€‚&lt;/p>
&lt;h3 id="google-sheets-url">Google Sheets URL&lt;/h3>
&lt;p>V4 ç‰ˆçš„ URL è¦å‰‡å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">https://sheets.googleapis.com/v4/spreadsheets/&lt;span class="o">{&lt;/span>è¡¨å–®id&lt;span class="o">}&lt;/span>/values/&lt;span class="o">{&lt;/span>sheetåç¨±&lt;span class="o">}&lt;/span>?alt&lt;span class="o">=&lt;/span>json&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="nv">key&lt;/span>&lt;span class="o">={&lt;/span>APIé‡‘é‘°&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>{è¡¨å–®id}ï¼šè¡¨å–®çš„ç¶²å€ä¸Šå°±å¯ä»¥çœ‹åˆ°ã€‚&lt;/li>
&lt;li>{sheetåç¨±}ï¼šå°±æ˜¯æ¯ä¸€å¼µè©¦ç®—è¡¨çš„åç¨±ï¼Œé è¨­æœƒæ˜¯å«ã€Œå·¥ä½œè¡¨1ã€ï¼Œé€™é‚Šæœ‰æ¸¬è©¦éï¼Œæœ‰æ”¯æ´ä¸­æ–‡ã€‚&lt;/li>
&lt;li>{APIé‡‘é‘°}ï¼šå°±æ˜¯ä¸Šä¸€æ®µæˆ‘å€‘å¾ GCP ä¸Šå–å¾—çš„é‡‘é‘°ã€‚&lt;/li>
&lt;/ul>
&lt;p>æˆ‘å€‘ç”¨ä¸€å€‹ç°¡å–®çš„ &lt;strong>fetch&lt;/strong> ä¾†å–ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://sheets.googleapis.com/v4/spreadsheets/1-vTT5LVlscvExPjqJHrhmlO2ZMM-93McoP-yXT8gyOU/values/å·¥ä½œè¡¨1?alt=json&amp;amp;key=AIzaSyAVlwHA4EQx7AWjK1QsT87shL37vhKWrl4&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">res&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">res&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Console&lt;/strong> ä¸Šæœƒçœ‹åˆ°å›ä¾†çš„è³‡æ–™å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52550332606_d61bfd7d60_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å›ä¾†è³‡æ–™çš„æ ¼å¼ï¼Œæ‰€æœ‰è³‡æ–™éƒ½æ”¶åœ¨ &lt;strong>values&lt;/strong> è£¡ï¼ŒGoogle Sheets ä¸Šçš„æ¯ä¸€åˆ—æœƒæˆç‚ºä¸€å€‹ä¸€å€‹çš„é™£åˆ—ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ç›¸é—œé€£çµ">ç›¸é—œé€£çµ&lt;/h2>
&lt;p>é™„ä¸Šæœ¬ç¯‡çš„ç›¸é—œé€£çµï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://wjdesign.github.io/google-sheet-db/dist/" target="_blank" rel="noopener"
>ç¶²ç«™æˆæœ&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://docs.google.com/spreadsheets/d/1LX8B-H-g9qzetX6YOq_GbrXP-NIui81fV9fovUKykT8/edit?usp=sharing" target="_blank" rel="noopener"
>Google Sheet&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/wjdesign/google-sheet-db" target="_blank" rel="noopener"
>ç¶²ç«™åŸå§‹ç¢¼ Github ç©ºé–“&lt;/a>&lt;/li>
&lt;/ul>
&lt;hr></description></item></channel></rss>