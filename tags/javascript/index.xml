<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>javascript on Wayne's blog | å‰æ©çš„éƒ¨è½æ ¼ | æŠ€è¡“åšå®¢</title><link>https://wayneblog.ga/tags/javascript/</link><description>Recent content in javascript on Wayne's blog | å‰æ©çš„éƒ¨è½æ ¼ | æŠ€è¡“åšå®¢</description><generator>Hugo -- gohugo.io</generator><language>zh-tw</language><lastBuildDate>Wed, 01 Feb 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://wayneblog.ga/tags/javascript/index.xml" rel="self" type="application/rss+xml"/><item><title>ã€LIFFã€‘èªè­˜ LINE Front-end Framework (LIFF) å‰ç«¯æ¡†æ¶ (LIFF v2)</title><link>https://wayneblog.ga/2023-02-01/line-front-end-framework-v2/</link><pubDate>Wed, 01 Feb 2023 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2023-02-01/line-front-end-framework-v2/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52662373535_00afc03eca_o.jpg" alt="Featured image of post ã€LIFFã€‘èªè­˜ LINE Front-end Framework (LIFF) å‰ç«¯æ¡†æ¶ (LIFF v2)" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://taichunmin.idv.tw/blog/2020-09-18-line-three-size-liff.html" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://oakmega.com/blog/basic-knowledge-in-line-business" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://www.ezpretty.com.tw/blog/inner?id=43" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://tw.linebiz.com/manual/line-official-account/line-porvider-and-channel-intro/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://blog.miniasp.com/post/2023/01/29/The-LINE-Front-end-Framework-LIFF-v2" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>æˆ‘æœ€æ—©æ¥è§¸ &lt;a class="link" href="https://developers.line.biz/en/docs/liff/" target="_blank" rel="noopener"
>LIFF&lt;/a> çš„æ™‚å€™å·²ç¶“æ˜¯ 2019 çš„æ™‚å€™äº†ï¼Œç•¶æ™‚çš„ LIFF v1 èˆ‡ç¾åœ¨çš„ LIFF v2 å·²ç¶“æœ‰äº†è »å¤§çš„å·®ç•°ï¼Œæˆ‘æƒ³é€éé€™ç¯‡æ–‡ç« æ¢³ç†ä¸€ä¸‹ LIFF v2 æ–°ç‰ˆæœ¬çš„ç‰¹æ€§ï¼Œå¥½è®“æˆ‘å€‘å¯ä»¥æ›´æ–¹ä¾¿çš„åœ¨ç¶²ç«™ä¸Šé€é LIFF æä¾› LINE ç”¨æˆ¶ä¸€äº›å¥½ç”¨åŠŸèƒ½ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æ­£ç¢ºç†è§£-liff-çš„ç”¨é€”">æ­£ç¢ºç†è§£ LIFF çš„ç”¨é€”&lt;/h2>
&lt;p>é›–ç„¶èªª &lt;a class="link" href="https://developers.line.biz/en/docs/liff/" target="_blank" rel="noopener"
>LINE Front-end Framework&lt;/a> (&lt;code>LIFF&lt;/code>) å¾åå­—ä¸Šçœ‹èµ·ä¾†æ˜¯ä¸€å¥—ç”± LINE æ¨å‡ºçš„å‰ç«¯æ¡†æ¶ï¼Œä½†äº‹å¯¦ä¸Šä»–çš„ç”¨é€”æ¯”è¼ƒåƒæ˜¯ä¸€å€‹&lt;strong>å‡½å¼åº«&lt;/strong>(Library)ï¼Œè®“ä½ å¯ä»¥åœ¨ LINE å¹³å°(LINE Platform) é †åˆ©çš„é–‹ç™¼ç¶²é æ‡‰ç”¨ç¨‹å¼(Web Application)ï¼Œå¹«åŠ©é–‹ç™¼äººå“¡å¯ä»¥è¼•é¬†çš„é€é &lt;code>LIFF&lt;/code> æä¾›çš„ API è·Ÿ LINE ç”¨æˆ¶é€²è¡Œäº’å‹•ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ä»»ä½•å¾ LINE å¹³å°é–‹å•Ÿçš„ç¶²é ï¼Œè€Œç¶²é ä½¿ç”¨åˆ° &lt;strong>LIFF&lt;/strong> æä¾›çš„ JavaScript SDKï¼Œéƒ½å¯ä»¥ç¨±ç‚ºæ˜¯ä¸€å€‹ &lt;strong>LIFF Apps&lt;/strong>ï¼&lt;/p>
&lt;/blockquote>
&lt;p>æ‰€ä»¥åœ¨ LINE å¹³å°ä¸Šé–‹ç™¼ç¶²é ï¼Œæ˜¯ä¸€å€‹ä»€éº¼æ¨£çš„æƒ…å¢ƒèˆ‡æ„Ÿå—å‘¢ï¼Ÿä»€éº¼åˆæ˜¯ LINE å¹³å°å‘¢ï¼Ÿäº‹å¯¦ä¸Šï¼ŒLINE é€™å®¶å…¬å¸ä¸ä½†æœ‰é¾å¤§çš„ç”¨æˆ¶åŸºç¤ï¼Œå®ƒå€‘æä¾›çš„å„é …æœå‹™ä¹Ÿæ˜¯ç³ç‘¯æ»¿ç›®ï¼Œæ‰€æœ‰æœå‹™çš„åŠ ç¸½ï¼Œå°±æ˜¯ LINE å¹³å°ï¼Œå¤§å®¶éƒ½å¯ä»¥åœ¨é€™å€‹å¹³å°ä¸Šé–‹ç™¼ Web æ‡‰ç”¨ç¨‹å¼ã€‚ä»¥ä¸‹æˆ‘ç”¨ä¸€å€‹æœ€æ·ºé¡¯æ˜“æ‡‚çš„ä½¿ç”¨æƒ…å¢ƒä¾†èªªæ˜ï¼š&lt;/p>
&lt;blockquote>
&lt;p>å‡è¨­æŸç”²ç¶“ç‡Ÿè‘—ä¸€å€‹åœ˜è³¼ç”Ÿæ„ï¼Œå®¢æˆ¶éƒ½æ˜¯é€é &lt;strong>LINE å®˜æ–¹å¸³æˆ¶&lt;/strong>(Official Account) (ç°¡ç¨± &lt;strong>LINE OA&lt;/strong> å¸³æˆ¶) é€²è¡Œè¯ç¹«ï¼Œç•¶æŸç”²æƒ³æä¾›ä»–çš„å®¢æˆ¶ä¸€å€‹åœ˜è³¼çš„è¡¨å–®æ™‚ï¼Œæœ€ç°¡å–®çš„æ–¹å¼å°±æ˜¯ç›´æ¥å‚³é€ä¸€å€‹é€£çµçµ¦ä»–çš„å®¢æˆ¶ï¼Œè€Œé€™å€‹é€£çµå°±æ˜¯ä¸€å€‹ã€Œ&lt;strong>ç¶²é &lt;/strong>ã€ä¸¦æ“æœ‰ä¸€å€‹ã€Œ&lt;strong>ç¶²å€&lt;/strong>ã€å°å§ï¼å¦‚æœä½ æ˜¯ Web é–‹ç™¼äººå“¡ï¼Œå°±å¯ä»¥åœ¨é€™ä»½ã€Œ&lt;strong>ç¶²é &lt;/strong>ã€ä¸­åŠ å…¥ &lt;strong>LIFF SDK&lt;/strong>ï¼Œä¸¦ä½¿ç”¨ &lt;strong>LIFF SDK&lt;/strong> æä¾›çš„ API ä¾†å–å¾—å®¢æˆ¶åŸºæœ¬è³‡æ–™ï¼Œæˆ–æ˜¯è¨­è¨ˆä¸€äº›ä¾¿åˆ©çš„ Web UI ä»‹é¢å¹«åŠ©å®¢æˆ¶åœ¨ LINE èŠå¤©å®¤ä¸­ä¸‹å–®ã€‚é€™å°±æ˜¯ä¸€å€‹ &lt;strong>LIFF App&lt;/strong> çš„ç¶“å…¸ä½¿ç”¨æƒ…å¢ƒï¼ğŸ‘&lt;/p>
&lt;/blockquote>
&lt;p>è¦èªè­˜ LIFF æœ€å¿«çš„æ–¹å¼ï¼Œå°±æ˜¯ç›´æ¥é–‹å•Ÿ &lt;a class="link" href="https://liff-playground.netlify.app/" target="_blank" rel="noopener"
>LIFF Playground&lt;/a> ç¶²é ï¼Œå¿«é€Ÿé è¦½æ‰€æœ‰ LIFF SDK æä¾›çš„å„é …åŠŸèƒ½ï¼Œè®“ä½ å¾ˆæ¸…æ¥šçš„çŸ¥é“ LIFF å¯ä»¥åšå“ªäº›äº‹ï¼ä»¥ä¸‹æˆ‘åˆ—å‡ºå¹¾å€‹ &lt;a class="link" href="https://liff-playground.netlify.app/" target="_blank" rel="noopener"
>LIFF Playground&lt;/a> çš„äº®é»ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>å¹«åŠ© LINE ç”¨æˆ¶ç™»å…¥/ç™»å‡ºï¼š&lt;br>
äº‹å¯¦ä¸Šï¼Œé€™äº›ä½¿ç”¨åˆ° LIFF SDK çš„ LIFF Apps ä¸¦ä¸ä¸€å®šè¦è·‘åœ¨ LINE App ä¹‹ä¸­ï¼Œä¹Ÿå°±æ˜¯èªªï¼Œä»–ä¸ä¸€å®šè¦ç›´æ¥å¾ LINE App é–‹å•Ÿé€™ä»½ç¶²é ã€‚é€™å€‹ LIFF Apps å…¶å¯¦ä¹Ÿå¯ä»¥æ˜¯ä¸€å€‹ç¨ç«‹ç¶²é ï¼Œåœ¨ä»»ä½•ä¸€å°é›»è…¦æˆ–æ‰‹æ©Ÿé–‹å•Ÿç¶²é ä¹Ÿè¡Œã€‚åªæ˜¯åœ¨ LINE App ä¹‹ä¸­é–‹å•Ÿç¶²é å¯ä»¥çœå»ã€Œç™»å…¥ã€çš„ç¨‹åºï¼Œä½¿ç”¨è€…çš„æ“ä½œé–€æª»æœƒæ›´ä½ä¸€äº›ï¼&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å–å¾— LINE ç”¨æˆ¶çš„è£ç½®è³‡è¨Šï¼š&lt;br>
ä½ å¯ä»¥é€é LIFF SDK æä¾›çš„ API å–å¾—ä½¿ç”¨è€…çš„ä½œæ¥­ç³»çµ±(OS)ã€ä½¿ç”¨çš„èªè¨€(Language)ã€ç›®å‰ LIFF SDK ä½¿ç”¨çš„ç‰ˆæœ¬ã€ç›®å‰ LINE App çš„ç‰ˆæœ¬ã€åˆ¤æ–·ç¶²é æ˜¯å¦é–‹åœ¨ &lt;a class="link" href="https://developers.line.biz/en/docs/liff/overview/#liff-browser" target="_blank" rel="noopener"
>LIFF Browser&lt;/a> ä¹‹ä¸­ã€åˆ¤æ–·ç”¨æˆ¶ç›®å‰æ˜¯å¦æ˜¯ç™»å…¥ç‹€æ…‹ã€åˆ¤æ–·ç”¨æˆ¶ç›®å‰ç’°å¢ƒå¯ä»¥ä½¿ç”¨å“ªäº› LIFF APIã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å–å¾— LINE ç”¨æˆ¶åŸºæœ¬è³‡æ–™ï¼š&lt;br>
å–å¾—ç”¨æˆ¶çš„ Access Tokenã€å–å¾—ç”¨æˆ¶çš„ ID Tokenã€å–å¾— ID Token è§£é–‹å¾Œçš„å…§å®¹ã€å–å¾— Context è³‡è¨Šã€å–å¾—åŸºæœ¬è³‡æ–™(åªæœ‰ä½¿ç”¨è€…å”¯ä¸€å€¼ã€é¡¯ç¤ºåç¨±èˆ‡å¤§é ­ç…§)ã€å–å¾—èˆ‡ &lt;code>LINE OA&lt;/code> ä¹‹é–“çš„å¥½å‹ç‹€æ…‹ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å¼·åŒ– UI äº’å‹•çš„å°åŠŸèƒ½ï¼š&lt;br>
ä½ å¯ä»¥åœ¨ LIFF æ°¸ä¹…é€£çµä¸ŠåŠ å…¥é¡å¤–åƒæ•¸ã€å¯ä»¥å¹« LINE ç”¨æˆ¶ç›´æ¥é€å‡ºè¨Šæ¯åˆ° OA å¸³æˆ¶çš„èŠå¤©å®¤ä¸­ã€å¾ LIFF Browser é–‹å•Ÿé€£çµåˆ°æ–°è¦–çª—ã€å¾ LIFF Browser é—œé–‰è¦–çª—ã€åˆ†äº«è³‡è¨Šçµ¦å¥½å‹ã€å–å¾— QRCode æƒæçµæœã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ç•¶ä½ å·²ç¶“ç­è§£ LIFF ç”¨é€”ä¹‹å¾Œï¼Œé–‹ç™¼äººå“¡å°±å¯ä»¥ç›´æ¥çœ‹ &lt;a class="link" href="https://developers.line.biz/en/reference/liff/" target="_blank" rel="noopener"
>LIFF v2 API reference&lt;/a> åƒè€ƒæ–‡ä»¶ï¼Œé€™è£¡æœ‰æ›´å¤š LIFF SDK èˆ‡ API çš„æŠ€è¡“ç´°ç¯€ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æ­£ç¢ºç†è§£-liff-browser-çš„ç”¨é€”">æ­£ç¢ºç†è§£ LIFF Browser çš„ç”¨é€”&lt;/h2>
&lt;p>åœ¨ LINE å¹³å°ä¸­å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ 4 ç¨®ç€è¦½å™¨é¡å‹ï¼Œå¾ˆå¤šäººæä¸æ¸…æ¥šå…¶ä¸­çš„å·®åˆ¥ï¼Œæˆ‘ç‰¹åˆ¥é‡é»èªªæ˜ä¸€ä¸‹ï¼š&lt;/p>
&lt;h3 id="line-in-app-browser">LINE In-App Browser&lt;/h3>
&lt;p>&lt;a class="link" href="https://developers.line.biz/en/glossary/#line-iab" target="_blank" rel="noopener"
>LINE In-App Browser&lt;/a>ï¼š&lt;/p>
&lt;p>åœ¨ LINE App ä»»æ„ä½ç½®é–‹å•Ÿçš„é€£çµï¼Œé è¨­éƒ½æœƒé–‹å•Ÿä¸€å€‹&lt;strong>å…§åµŒ&lt;/strong>åœ¨ LINE App ä¸­çš„ç€è¦½å™¨ï¼Œé€™ç¨®ç€è¦½å™¨å¹¾ä¹èˆ‡ä¸€èˆ¬ç€è¦½å™¨ç„¡ç•°ï¼Œä½†å…¶å¯¦åœ¨ä½¿ç”¨ä¸Šæœ‰è«¸å¤šé™åˆ¶ï¼Œå»ºè­°é–‹ç™¼äººå“¡&lt;strong>ä¸è¦&lt;/strong>æŠŠä»–ç•¶æˆã€Œæ­£å¸¸ã€çš„ç€è¦½å™¨ä¾†ä½¿ç”¨ï¼Œç•¶æˆã€Œ&lt;strong>é–±è®€ç¶²é å…§å®¹&lt;/strong>ã€çš„å·¥å…·æœƒæ¯”è¼ƒå¥½ä¸€äº›ï¼Œä¸è¦åšå¤ªå¤šéœ€è¦ç™»å…¥æ‰èƒ½ç”¨çš„åŠŸèƒ½åœ¨ä¸Šé¢ã€‚&lt;/p>
&lt;blockquote>
&lt;p>LINE In-App Browser é›–ç„¶æ”¯æ´ &lt;strong>Cookies&lt;/strong> èˆ‡ &lt;strong>localStorage&lt;/strong> æ“ä½œï¼Œä½†æ²’äººä¿è­‰å¯ä»¥å„²å­˜å¤šä¹…ï¼Œå¯èƒ½ App å‡ç´šä¸€ä¸‹è³‡æ–™å°±æ¸…é™¤äº†ï¼Œå°ä½¿ç”¨è€…ä¾†èªªå…¶å¯¦å¾ˆä¸å¥½ç”¨ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="line-liff-browser">LINE LIFF Browser&lt;/h3>
&lt;p>&lt;a class="link" href="https://developers.line.biz/en/glossary/#liff-browser" target="_blank" rel="noopener"
>LINE LIFF Browser&lt;/a>ï¼š&lt;/p>
&lt;p>é€™æ˜¯ä¸€å€‹ç›¸ç•¶ç‰¹æ®Šçš„ç€è¦½å™¨é¡å‹ï¼Œä»–åªæœ‰é€é &lt;code>LIFF App&lt;/code> çš„&lt;strong>å°ˆç”¨ç¶²å€&lt;/strong>æ‰èƒ½é–‹å•Ÿï¼Œç¶²å€çµæ§‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">https://liff.line.me/&lt;span class="o">{&lt;/span>LIFF_ID&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹ &lt;code>LIFF App&lt;/code> å°ˆç”¨ç¶²å€å¿…é ˆè·Ÿ &lt;a class="link" href="https://developers.line.biz/zh-hant/" target="_blank" rel="noopener"
>LINE Developers&lt;/a> ä¹‹ä¸­çš„ &lt;code>LINE Login&lt;/code> æˆ– &lt;code>LINE MINI App&lt;/code> é »é“(Channel)ç¶å®šï¼Œäº‹å…ˆåœ¨ã€Œ&lt;strong>é »é“&lt;/strong>ã€ä¸­å»ºç«‹ä¸€çµ„ &lt;code>LIFF_ID&lt;/code> æ‰èƒ½ä½¿ç”¨ã€‚åœ¨ LIFF SDK ä¸­ï¼Œæœ‰éƒ¨åˆ† API åªæœ‰åœ¨ &lt;strong>LINE LIFF Browser&lt;/strong> ä¹‹ä¸­æ‰èƒ½ä½¿ç”¨ï¼&lt;/p>
&lt;blockquote>
&lt;p>ä½¿ç”¨ &lt;code>LIFF App&lt;/code> å°ˆç”¨ç¶²å€é–‹å•Ÿçš„ç¶²é ï¼Œä¸ä¸€å®šè¦ä½¿ç”¨ LIFF SDK ä¾†å¯¦ä½œï¼Œåªæ˜¯ç”¨äº† LIFF SDK å°±å¯ä»¥äº«å—è¨±å¤š LINE LIFF Browser æ‰æœ‰çš„åŠŸèƒ½ï¼Œå¯ä»¥é™ä½é–‹ç™¼é–€æª»ã€‚å…¶ä»–é–‹å•Ÿ LIFF App çš„èªªæ˜æ–‡ä»¶å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://developers.line.biz/en/docs/liff/opening-liff-app/" target="_blank" rel="noopener"
>Opening a LIFF app&lt;/a> èªªæ˜ï¼&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>é€™å€‹ LIFF Browser ä¹Ÿæ”¯æ´ã€Œ&lt;strong>æœ€å°åŒ–&lt;/strong>ã€åŠŸèƒ½ï¼ŒæŠŠå‰›é–‹å•Ÿçš„ LIFF App æœ€å°åŒ–æˆä¸€å€‹ Iconï¼Œéš¨æ™‚å¯ä»¥é»æ“Š Icon æ¢å¾©ç€è¦½å™¨é¡¯ç¤ºï¼Œé‚„è »æ–¹ä¾¿çš„ã€‚è©³æƒ…è«‹è¦‹ &lt;a class="link" href="https://developers.line.biz/en/docs/liff/minimizing-liff-browser/" target="_blank" rel="noopener"
>Minimizing LIFF browser&lt;/a> èªªæ˜ï¼ğŸ‘&lt;/p>
&lt;/blockquote>
&lt;h3 id="line-mini-app">LINE MINI App&lt;/h3>
&lt;p>&lt;a class="link" href="https://developers.line.biz/en/services/line-mini-app/" target="_blank" rel="noopener"
>LINE MINI App&lt;/a>ï¼š&lt;/p>
&lt;p>é€™ä¹Ÿæ˜¯ä¸€å€‹ç›¸ç•¶ç‰¹æ®Šçš„ç€è¦½å™¨é¡å‹ï¼Œå…¶ç”¨é€”è·Ÿ &lt;code>LINE LIFF Browser&lt;/code> ç›¸ç•¶é¡ä¼¼ï¼Œéƒ½éœ€è¦&lt;strong>å°ˆç”¨ç¶²å€&lt;/strong>æ‰èƒ½æ‰“é–‹ï¼Œä½†æ˜¯è·Ÿ &lt;code>LINE LIFF Browser&lt;/code> ä¸åŒçš„åœ°æ–¹åœ¨æ–¼ï¼Œ&lt;code>LINE MINI App&lt;/code> å¯ä»¥æ‰“åŒ…ä¸Šæ¶ç‚ºä¸€å€‹ &lt;strong>LINE æœå‹™&lt;/strong>ï¼Œå¯ä»¥è®“ä½¿ç”¨è€…åœ¨ LINE App çš„ã€Œ&lt;strong>ä¸»é &lt;/strong>ã€æœå°‹åˆ°é€™å€‹ &lt;code>LINE MINI App&lt;/code>ï¼Œä½¿ç”¨ä¸Šæœƒæ–¹ä¾¿è¨±å¤šï¼Œé€šå¸¸åªæœ‰çŸ¥åå“ç‰Œæ‰æœƒé¸ç”¨é€™ç¨®æ–¹å¼ä¸Šæ¶ã€‚ç›®å‰ &lt;code>LINE MINI App&lt;/code> åªæœ‰æŒ‡å®šçš„ &lt;strong>LINE æŠ€è¡“åˆä½œå¤¥ä¼´&lt;/strong>æˆ–&lt;strong>ç‰¹å®šä¸»é¡Œæˆ–å“ç‰Œ&lt;/strong>æ‰èƒ½é€šéå¯©æ ¸ï¼Œåœ¨å°ç£å°šæœªå…¬é–‹çµ¦å¤§çœ¾ç”³è«‹ã€‚&lt;/p>
&lt;h3 id="external-browser">External Browser&lt;/h3>
&lt;p>&lt;a class="link" href="https://developers.line.biz/en/glossary/#external-browser" target="_blank" rel="noopener"
>External Browser&lt;/a>ï¼š&lt;/p>
&lt;p>ä½ å¯ä»¥åœ¨ LINE App ä¹‹ä¸­å·²ç¶“é–‹å•Ÿçš„ç€è¦½å™¨ï¼Œé¡å¤–å†é–‹å•Ÿä¸€å€‹ã€Œ&lt;strong>å¤–éƒ¨ç€è¦½å™¨&lt;/strong>ã€(External Browser)ï¼Œä½¿ç”¨æ‰‹æ©Ÿçš„&lt;strong>é è¨­ç€è¦½å™¨&lt;/strong>ä¾†é–‹å•Ÿç¶²é ï¼Œé€™ç¨®ç¶²é åœ¨ç€è¦½çš„æ™‚å€™å°±å¯ä»¥ç”¨åˆ°å®Œæ•´çš„ç€è¦½å™¨èƒ½åŠ›ï¼Œé›–ç„¶å¯ä»¥è§£æ±º LINE App ä¹‹ä¸­çš„å…¶ä»–ç€è¦½å™¨é¡å‹æ‰€æåˆ°çš„ä¸€äº›é™åˆ¶ï¼Œä½†å»æœƒå¤±å»ä¸€äº›åœ¨ LINE è£¡é¢é–‹å•Ÿç¶²é çš„æ–¹ä¾¿æ€§ï¼Œä¾‹å¦‚ï¼š&lt;strong>è‡ªå‹•ç™»å…¥&lt;/strong>ã€‚&lt;/p>
&lt;p>é™¤æ­¤ä¹‹å¤–ï¼Œä½ ç›´æ¥ç”¨æ¡Œæ©Ÿçš„ä»»æ„ç€è¦½å™¨é–‹å•Ÿä¸€å€‹æœ‰ä½¿ç”¨ LIFF SDK çš„ç¶²é ï¼Œå° LIFF SDK ä¾†èªªï¼Œé€™å€‹ç€è¦½å™¨æœ¬èº«å°±æ˜¯ä¸€å€‹ã€Œ&lt;strong>å¤–éƒ¨ç€è¦½å™¨&lt;/strong>ã€(External Browser)ï¼Œä½ å¯ä»¥é€é LIFF SDK éå¸¸è¼•é¬†çš„å¯¦ç¾ LINE Login æ©Ÿåˆ¶ï¼Œåªè¦å‘¼å« &lt;code>liff.login()&lt;/code> å³å¯ï¼ğŸ‘&lt;/p>
&lt;hr>
&lt;h2 id="é–‹å§‹ä½¿ç”¨-liff-sdk-é–‹ç™¼ç¶²é ">é–‹å§‹ä½¿ç”¨ LIFF SDK é–‹ç™¼ç¶²é &lt;/h2>
&lt;p>åœ¨ä»»ä½•ä¸€å€‹ç¶²é ä¸Šï¼Œåªè¦åŠ å…¥ LIFF SDK æª”æ¡ˆï¼Œé€™æ˜¯ä¸€å€‹ JavaScript æª”ï¼Œå°±å¯ä»¥ç«‹å³é–‹å§‹ä½¿ç”¨ï¼Œä»¥ä¸‹æ˜¯åœ¨ä»»æ„ç¶²é åŠ å…¥ LIFF çš„æ¨™æº–ä½œæ¥­æµç¨‹ï¼š&lt;/p>
&lt;ol>
&lt;li>è¨­å®šç¶²é æ¨™é¡Œ (Page Title)&lt;br>
è«‹åœ¨ HTML çš„ &lt;code>&amp;lt;head&amp;gt;&lt;/code> å€æ®µä¸­åŠ å…¥ &lt;code>&amp;lt;title&amp;gt;&lt;/code> æ¨™ç±¤ï¼Œç†è«–ä¸Šæ¯ä¸€ä»½ HTML æ‡‰è©²éƒ½æœ‰é€™å€‹æ¨™ç±¤å®šç¾©æ‰å°ï¼&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>The Will Will Web&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>åŠ å…¥ LIFF SDK&lt;br>
è«‹å°‡ LIFF SDK åŠ å…¥åˆ°ç¶²é  &lt;code>&amp;lt;body&amp;gt;&lt;/code> æœ€é–‹é ­çš„åœ°æ–¹ï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">charset&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;utf-8&amp;#34;&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://static.line-scdn.net/liff/edge/2/sdk.js&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœä½ çš„ç¶²ç«™ä½¿ç”¨åˆ°ä»»ä½•å…¶ä»–å‰ç«¯æ¡†æ¶ï¼Œå¯èƒ½æœƒæƒ³æŠŠ LIFF SDK æ”¹ç”¨ &lt;code>npm&lt;/code> çš„æ–¹å¼å®‰è£è¼‰å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install --save @line/liff
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add @line/liff&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŒ¯å…¥ &lt;code>liff&lt;/code> ç‰©ä»¶çš„æ–¹æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">liff&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@line/liff&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>åˆå§‹åŒ– LIFF SDK&lt;br>
åˆå§‹åŒ– LIFF SDK æ˜¯ä¸€å€‹&lt;strong>éå¸¸å¿…è¦&lt;/strong>çš„æ“ä½œï¼Œå› ç‚ºç•¶ä½ çš„ç¶²é é–‹åœ¨ &lt;strong>LINE In-App Browser&lt;/strong> æˆ– &lt;strong>LINE LIFF Browser&lt;/strong> ç€è¦½å™¨æ™‚ï¼Œåœ¨ LIFF SDK åˆå§‹åŒ–éå¾Œæ‰èƒ½å‘¼å«æŸäº› API å–å¾—ç•¶å‰çš„ç’°å¢ƒè³‡è¨Šã€‚é€™è£¡æœ€é‡è¦çš„åƒæ•¸å°±æ˜¯ &lt;code>liffId&lt;/code> äº†ï¼Œä½ è¦å…ˆåˆ° &lt;a class="link" href="https://developers.line.biz/console/" target="_blank" rel="noopener"
>LINE Developers&lt;/a> çš„ &lt;strong>LINE Login&lt;/strong> æˆ– &lt;strong>LINE MINI App&lt;/strong> é »é“çš„ LIFF é ç±¤å…§å…ˆå»ºç«‹ä¸€çµ„ &lt;code>LIFF_ID&lt;/code>ï¼Œä¸¦å°‡é€™å€‹ &lt;code>LIFF_ID&lt;/code> è¨­å®šåˆ° &lt;code>liff.init()&lt;/code> çš„ &lt;code>liffId&lt;/code> åƒæ•¸ä¸Šã€‚&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">liff&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">liffId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;1566379427-xKvNdlJ9&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Start to use liff&amp;#39;s api
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»¥ä¸‹æ˜¯å–å¾—ç’°å¢ƒè³‡è¨Šçš„ç¨‹å¼ç¢¼ç¯„ä¾‹ï¼Œè¨˜å¾—ä¸€å®šè¦&lt;strong>åˆå§‹åŒ–ä¹‹å¾Œ&lt;/strong>æ‰èƒ½åŸ·è¡Œé€™äº› API å–”ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">liff&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">liffId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;1566379427-xKvNdlJ9&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">liff&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getLanguage&lt;/span>&lt;span class="p">());&lt;/span> &lt;span class="c1">// å–å¾—ç”¨æˆ¶çš„ä¸»è¦èªè¨€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">liff&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getVersion&lt;/span>&lt;span class="p">());&lt;/span> &lt;span class="c1">// å–å¾— LIFF SDK çš„ç‰ˆæœ¬
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">liff&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isInClient&lt;/span>&lt;span class="p">());&lt;/span> &lt;span class="c1">// åˆ¤æ–·ç›®å‰ç¶²é æ˜¯å¦è·‘åœ¨ LIFF Browser åº•ä¸‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">liff&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isLoggedIn&lt;/span>&lt;span class="p">());&lt;/span> &lt;span class="c1">// åˆ¤æ–·é–‹å•Ÿæ­¤ç¶²é çš„ LINE ä½¿ç”¨è€…æ˜¯å¦ç‚ºç™»å…¥ç‹€æ…‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">liff&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getOS&lt;/span>&lt;span class="p">());&lt;/span> &lt;span class="c1">// å–å¾—ä½¿ç”¨è€…ç›®å‰ä½¿ç”¨çš„ä½œæ¥­ç³»çµ±ç‚ºä½•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">liff&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getLineVersion&lt;/span>&lt;span class="p">());&lt;/span> &lt;span class="c1">// å–å¾—ä½¿ç”¨è€…ç›®å‰ä½¿ç”¨çš„ LINE App ç‰ˆæœ¬
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>æ³¨æ„: ä½ åªè¦æ˜¯ç”¨ &lt;code>LINE LIFF Browser&lt;/code> ç€è¦½å™¨é–‹å•Ÿ LIFF App ç¶²é ï¼Œé€é &lt;code>liff.init()&lt;/code> åˆå§‹åŒ–ä¹‹å¾Œï¼Œé è¨­å°±æœƒè‡ªå‹•ç™»å…¥ï¼ğŸ‘&lt;/p>
&lt;/blockquote>
&lt;p>å¦‚æœä½ å¸Œæœ›åœ¨åˆå§‹åŒ– LIFF SDK çš„æ™‚å€™ï¼Œå³ä¾¿åœ¨ã€Œå¤–éƒ¨ç€è¦½å™¨ã€çš„ç’°å¢ƒä¸‹ä¹Ÿè¦å•Ÿç”¨ã€Œ&lt;strong>è‡ªå‹•ç™»å…¥&lt;/strong>ã€åŠŸèƒ½ï¼Œå¯ä»¥åŠ å…¥ &lt;code>withLoginOnExternalBrowser: true&lt;/code> åƒæ•¸ï¼Œä»–æœƒåœ¨é é¢åˆå§‹åŒ–çš„æ™‚å€™è‡ªå‹•é€²è¡Œ LINE Login çš„ OAuth 2.0 æˆæ¬Šæµç¨‹ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">liff&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">liffId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;1566379427-xKvNdlJ9&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// Use own liffId
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">withLoginOnExternalBrowser&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// Enable automatic login process
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Start to use liff&amp;#39;s api
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>é€™å€‹ &lt;code>withLoginOnExternalBrowser: true&lt;/code> é¸é …å»ºè­°åªç”¨åœ¨ LINE App å…§æ‰æœƒé–‹å•Ÿçš„ç¶²é ä¸Šä½¿ç”¨ã€‚å¦å‰‡ä½ èƒ½æƒ³åƒä½ é–‹å•Ÿæˆ‘çš„éƒ¨è½æ ¼å¾Œï¼Œç¬¬ä¸€æ™‚é–“è½‰å‘åˆ° LINE Login ç•«é¢æ˜¯ä»€éº¼æ„Ÿè¦ºå—ï¼ŸğŸ˜…&lt;/p>
&lt;/blockquote>
&lt;ol start="4">
&lt;li>æœ‰äº›å–å¾—ç’°å¢ƒè³‡è¨Šçš„ API åœ¨é€é &lt;code>liff.init()&lt;/code> åˆå§‹åŒ–ä¹‹å‰ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼š&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>liff.ready&lt;/strong>ï¼š æœƒå›å‚³ä¸€å€‹ Promise ä¸¦æœƒåœ¨ &lt;code>liff.init()&lt;/code> åˆå§‹åŒ–å®Œç•¢å¾ŒåŸ·è¡Œï¼Œä½ å¯ä»¥åœ¨ &lt;code>.then()&lt;/code> callback æ’°å¯«ä¸€äº›ç¨‹å¼ç¢¼ã€‚&lt;/p>
&lt;p>&lt;strong>liff.getOS()&lt;/strong>ï¼š å–å¾—ç”¨æˆ¶ç«¯çš„ä½œæ¥­ç³»çµ±ï¼Œå¯èƒ½çš„å€¼åªæœ‰ &lt;code>ios&lt;/code>ã€&lt;code>android&lt;/code> èˆ‡ &lt;code>web&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;strong>liff.getLanguage()&lt;/strong>ï¼š é€™ç­‰åŒæ–¼é€é &lt;code>navigator.language&lt;/code> å–å¾—ç›®å‰ç€è¦½å™¨ä½¿ç”¨çš„èªè¨€ã€‚&lt;/p>
&lt;p>&lt;strong>liff.getVersion()&lt;/strong>ï¼š å–å¾—ç›®å‰ LIFF SDK ä½¿ç”¨çš„ç‰ˆæœ¬ã€‚&lt;/p>
&lt;p>&lt;strong>liff.getLineVersion()&lt;/strong>ï¼š å–å¾—ä½¿ç”¨è€…ç›®å‰ LINE App çš„ç‰ˆæœ¬ã€‚&lt;/p>
&lt;p>&lt;strong>liff.isInClient()&lt;/strong>ï¼š åˆ¤æ–·ç›®å‰ç¶²é æ˜¯å¦è·‘åœ¨ LIFF Browser åº•ä¸‹ï¼Œä½ å¯ä»¥è—‰æ­¤åˆ¤æ–·æ˜¯å¦è¦åˆå§‹åŒ– LIFF SDK æˆ–é€é &lt;code>liff.closeWindow()&lt;/code> é—œé–‰è¦–çª—ï¼&lt;/p>
&lt;p>&lt;strong>liff.closeWindow()&lt;/strong>ï¼š ä½ å¯ä»¥ä»»æ„æ™‚é–“é€éé€™å€‹ API é—œé–‰è¦–çª—ï¼Œç”šè‡³æ–¼åœ¨ &lt;code>liff.init()&lt;/code> åˆå§‹åŒ–å®Œæˆä¹‹å‰ä¹Ÿå¯ä»¥é—œé–‰ã€‚&lt;/p>
&lt;p>&lt;strong>liff.use()&lt;/strong>ï¼š å•Ÿç”¨èˆ‡åˆå§‹åŒ–ä¸€å€‹ &lt;a class="link" href="https://developers.line.biz/en/docs/liff/liff-plugin/" target="_blank" rel="noopener"
>LIFF Plugin&lt;/a>ã€‚&lt;/p>
&lt;p>&lt;strong>liff.i18n.setLang()&lt;/strong>ï¼š è¨­å®š LIFF SDK çš„é¡¯ç¤ºèªè¨€ï¼Œä»»ä½• &lt;a class="link" href="https://datatracker.ietf.org/doc/html/rfc5646" target="_blank" rel="noopener"
>RFC 5646 (BCP 47)&lt;/a> å®šç¾©çš„èªè¨€éƒ½å¯ä»¥ï¼Œ&lt;strong>ç¹é«”ä¸­æ–‡&lt;/strong>å¯ä»¥æ˜¯ &lt;code>zh-Hant&lt;/code> æˆ– &lt;code>zh-Hant-TW&lt;/code> éƒ½å¯ä»¥ã€‚&lt;/p>
&lt;p>ä»¥ä¸Šå°±æ˜¯ä½¿ç”¨ LIFF SDK é–‹ç™¼ç¶²é çš„èµ·æ‰‹å¼ï¼Œç†è§£äº†è§€å¿µèˆ‡å•Ÿå‹•æ–¹æ³•ï¼Œå…¶ä»–éƒ½ä¸è¤‡é›œäº†ï¼Œå‰©ä¸‹çš„ API å°±æ˜¯æœ‰ç”¨åˆ°çš„æ™‚å€™æ‰å»çœ‹ &lt;a class="link" href="https://developers.line.biz/en/reference/liff/" target="_blank" rel="noopener"
>LIFF v2 API reference&lt;/a> èªªæ˜æ–‡ä»¶ã€‚ç•¶ç„¶ï¼Œåˆ¥å¿˜è¨˜ &lt;a class="link" href="https://liff-playground.netlify.app/" target="_blank" rel="noopener"
>LIFF Playground&lt;/a> çš„å­˜åœ¨ï¼Œä»–å¯ä»¥å¾ˆå¿«é€Ÿçš„å¹«åŠ©ä½ å¿«é€Ÿç€è¦½æ‰€æœ‰çš„ LIFF APIsï¼ğŸ‘&lt;/p>
&lt;hr>
&lt;h2 id="ç¸½çµ">ç¸½çµ&lt;/h2>
&lt;p>æˆ‘è¦ºå¾— LIFF ä¸¦ä¸é›£ï¼Œé›£çš„åœ°æ–¹åœ¨æ–¼åˆå­¸è€…å¾ˆå®¹æ˜“æä¸æ¸…æ¥š &lt;a class="link" href="https://developers.line.biz/en/docs/liff/overview/" target="_blank" rel="noopener"
>&lt;strong>LIFF çš„ç”¨é€”&lt;/strong>&lt;/a>ã€&lt;a class="link" href="https://developers.line.biz/en/docs/liff/overview/#liff-browser" target="_blank" rel="noopener"
>&lt;strong>LIFF Browser çš„å­˜åœ¨&lt;/strong>&lt;/a> èˆ‡ &lt;a class="link" href="https://developers.line.biz/en/docs/liff/opening-liff-app/" target="_blank" rel="noopener"
>&lt;strong>LIFF App çš„é–‹å•Ÿæ–¹å¼&lt;/strong>&lt;/a>ï¼Œææ‡‚é€™äº›åœ°æ–¹ï¼Œå¾ŒçºŒåœ¨é–‹ç™¼ä¸Šå°±ä¸æœƒæœ‰ç”šéº¼å›°é›£èˆ‡éšœç¤™äº†ï¼ğŸš€&lt;/p>
&lt;hr></description></item><item><title>å‰ç«¯æ•ˆèƒ½èª¿æ ¡ï¼šä½¿ç”¨ Partytown å°‡ç¬¨é‡çš„ JavaScript æ”¾åˆ° Web Workers åŸ·è¡Œ</title><link>https://wayneblog.ga/2023-01-30/npm-partytown-from-web-worker/</link><pubDate>Mon, 30 Jan 2023 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2023-01-30/npm-partytown-from-web-worker/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52657535787_2ab04e0fac_o.jpg" alt="Featured image of post å‰ç«¯æ•ˆèƒ½èª¿æ ¡ï¼šä½¿ç”¨ Partytown å°‡ç¬¨é‡çš„ JavaScript æ”¾åˆ° Web Workers åŸ·è¡Œ" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://partytown.builder.io/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://developer.mozilla.org/zh-TW/docs/Web/API/Web_Workers_API/Using_web_workers" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://blog.miniasp.com/post/2023/01/27/Partytown-Run-Third-Party-Scripts-From-Web-Worker" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>å‰ç«¯æ•ˆèƒ½èª¿æ ¡çš„æŠ€æ³•å¤šå¦‚ç‰›æ¯›ï¼Œä½†æœ€æ˜é¡¯çš„æ•ˆèƒ½æ®ºæ‰‹ä¸å¤–ä¹æ˜¯ JavaScript ä½”ç”¨ Main Thread è€Œå°è‡´é é¢ç„¡æ³•å›æ‡‰çš„ç‹€æ³äº†ã€‚æœ€è¿‘ç ”ç©¶ &lt;a class="link" href="https://partytown.builder.io/" target="_blank" rel="noopener"
>Partytown&lt;/a> é€™å€‹å‡½å¼åº«ï¼Œä»–ç”¨äº†ä¸€å€‹éå¸¸å·§å¦™çš„æŠ€å·§ï¼ŒæŠŠéƒ¨åˆ† JS è‡ªå‹•åˆ‡æ›åˆ° &lt;a class="link" href="https://developer.mozilla.org/zh-TW/docs/Web/API/Web_Workers_API/Using_web_workers" target="_blank" rel="noopener"
>Web Workers&lt;/a> èƒŒæ™¯åŸ·è¡Œã€‚é€™ç¯‡æ–‡ç« æˆ‘å°±ä¾†åˆ†äº«å¦‚ä½•å°‡ &lt;a class="link" href="https://partytown.builder.io/" target="_blank" rel="noopener"
>Partytown&lt;/a> å®‰è£åˆ°ä»»æ„ç¶²ç«™ä¸­ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å¦‚ä½•å®‰è£-partytown-åˆ°ä»»æ„ç¶²ç«™">å¦‚ä½•å®‰è£ Partytown åˆ°ä»»æ„ç¶²ç«™&lt;/h2>
&lt;ol>
&lt;li>é€é Partytown CLI ä¸‹è¼‰ Partytown å‡½å¼åº«&lt;/li>
&lt;/ol>
&lt;p>ä»¥ä¸‹å‘½ä»¤æœƒåœ¨ç•¶å‰ç›®éŒ„å»ºç«‹ä¸€å€‹ &lt;code>~partytown&lt;/code> è³‡æ–™å¤¾(å»ºè­°çµ±ä¸€ç”¨é€™å€‹åç¨±)ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx &lt;span class="s2">&amp;#34;@builder.io/partytown&amp;#34;&lt;/span> copylib ~partytown
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>å°‡ ~partytown è³‡æ–™å¤¾ä¸Šå‚³åˆ°ç¶²ç«™æ ¹ç›®éŒ„&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>å¦‚æœæ˜¯ ASP.NET Core çš„è©±ï¼Œå¯ä»¥ä¸Šå‚³åˆ° &lt;code>wwwroot&lt;/code> ç›®éŒ„ä¸‹ï¼Œæˆ–æ˜¯åœ¨ ASP.NET Core å°ˆæ¡ˆæ ¹ç›®éŒ„è¼¸å…¥ä»¥ä¸‹å‘½ä»¤ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx &lt;span class="s2">&amp;#34;@builder.io/partytown&amp;#34;&lt;/span> copylib &lt;span class="s2">&amp;#34;wwwroot\~partytown&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>å¦‚æœæ˜¯ Node.js çš„è©±ï¼Œå¯ä»¥ä¸Šå‚³åˆ° &lt;code>public&lt;/code> ç›®éŒ„ä¸‹ï¼Œæˆ–æ˜¯åœ¨ ASP.NET Core å°ˆæ¡ˆæ ¹ç›®éŒ„è¼¸å…¥ä»¥ä¸‹å‘½ä»¤ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx &lt;span class="s2">&amp;#34;@builder.io/partytown&amp;#34;&lt;/span> copylib &lt;span class="s2">&amp;#34;public/~partytown&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½ ä¹Ÿå¯ä»¥è¨­å®šå¥½ &lt;code>package.json&lt;/code> åŠ å…¥åˆ°å»ºç½®æµç¨‹ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install &lt;span class="s2">&amp;#34;@builder.io/partytown&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="packagejson">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;build&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;npm run partytown &amp;amp;&amp;amp; ng build&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;partytown&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;partytown copylib public/~partytown&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¸½ä¹‹ï¼Œä¸Šå‚³åˆ°ç¶²ç«™æ ¹ç›®éŒ„å°±å°äº†ï¼(è©³è¦‹ &lt;a class="link" href="https://partytown.builder.io/copy-library-files" target="_blank" rel="noopener"
>Copy Library Files&lt;/a> æœ‰æ›´å®Œæ•´çš„èªªæ˜)&lt;/p>
&lt;ol start="3">
&lt;li>èª¿æ•´ç¶²é ä¸­çš„ &lt;code>&amp;lt;script&amp;gt;&lt;/code> æ¨™ç±¤èªæ³•&lt;/li>
&lt;/ol>
&lt;p>è«‹å°‡ä»¥ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;...&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¨éƒ¨ä¿®æ”¹ç‚ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text/partytown&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;...&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°±å¤§åŠŸå‘Šæˆï¼&lt;/p>
&lt;hr>
&lt;h2 id="ä½¿ç”¨çš„æ³¨æ„äº‹é …">ä½¿ç”¨çš„æ³¨æ„äº‹é …&lt;/h2>
&lt;p>é›–ç„¶ &lt;a class="link" href="https://partytown.builder.io/" target="_blank" rel="noopener"
>Partytown&lt;/a> å‡½å¼åº«çš„åˆè¡·éå¸¸ç†æƒ³ï¼Œå°±æ˜¯ç®¡ç†ç¬¬ä¸‰æ–¹ JS å‡½å¼åº«(third-party scripts)ï¼Œå¾¹åº•é™ä½ JS ä½”ç”¨ Main Thread çš„ç‹€æ³ã€‚ä½†å¯¦éš›ä¸Šé‚„æ˜¯æœ‰ä¸å°‘ JS æª”æ¡ˆåœ¨é€é &lt;a class="link" href="https://partytown.builder.io/" target="_blank" rel="noopener"
>Partytown&lt;/a> è¼‰å…¥åˆ° Web Workers åŸ·è¡Œå¾Œå°±æ›æ‰äº†ï¼Œæ‰€ä»¥å¯¦éš›ä¸Š &lt;a class="link" href="https://partytown.builder.io/" target="_blank" rel="noopener"
>Partytown&lt;/a> ä¸¦ä¸é©ç”¨æ–¼æ‰€æœ‰ JS åŸ·è¡Œï¼Œå› æ­¤&lt;strong>ä¸å¤ªå»ºè­°&lt;/strong>æŠŠç¶²ç«™ä¸Šæ‰€æœ‰ JS éƒ½æ”¹ç”¨ &lt;a class="link" href="https://partytown.builder.io/" target="_blank" rel="noopener"
>Partytown&lt;/a> ä¾†è¼‰å…¥ã€‚&lt;/p>
&lt;p>é™¤æ­¤ä¹‹å¤–ï¼Œç›®å‰ &lt;a class="link" href="https://partytown.builder.io/" target="_blank" rel="noopener"
>Partytown&lt;/a> å› ç‚ºæœ‰ç”¨åˆ° &lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics" target="_blank" rel="noopener"
>Atomics&lt;/a> API çš„é—œä¿‚ï¼Œå®ƒçš„&lt;a class="link" href="https://partytown.builder.io/atomics#browser-atomics-support" target="_blank" rel="noopener"
>ç›¸å®¹æ€§&lt;/a>ç¢ºå¯¦æœ‰äº›é™åˆ¶ï¼Œæœ‰äº›å¤ªèˆŠçš„æ‰‹æ©Ÿç‰ˆæœ¬æ˜¯æ²’æœ‰æ”¯æ´çš„ï¼è©³è¦‹ &lt;a class="link" href="https://caniuse.com/mdn-javascript_builtins_atomics" target="_blank" rel="noopener"
>JavaScript built-in: Atomics | Can I use&lt;/a> èªªæ˜ã€‚&lt;/p>
&lt;p>æœ€å¾Œè¦æé†’å¤§å®¶çš„åœ°æ–¹ï¼Œå°±æ˜¯ä½¿ç”¨ &lt;a class="link" href="https://partytown.builder.io/" target="_blank" rel="noopener"
>Partytown&lt;/a> çš„ &lt;a class="link" href="https://partytown.builder.io/trade-offs" target="_blank" rel="noopener"
>Trade-Offs&lt;/a> (æ¬Šè¡¡)ã€‚å› ç‚ºé€™å€‹ä¸–ç•Œæ²’æœ‰éŠ€å­å½ˆï¼Œæœ‰ä¸€å¥½å°±æ²’å…©å¥½ï¼Œä½¿ç”¨ &lt;a class="link" href="https://partytown.builder.io/" target="_blank" rel="noopener"
>Partytown&lt;/a> ä¸è¦‹å¾—é©ç”¨æ‰€æœ‰çš„ç¶²é é–‹ç™¼æƒ…å¢ƒã€‚ä»¥ä¸‹æ˜¯ &lt;a class="link" href="https://partytown.builder.io/" target="_blank" rel="noopener"
>Partytown&lt;/a> å®˜æ–¹èªç‚ºä¸é©ç”¨çš„åœ°æ–¹ï¼š&lt;/p>
&lt;ol>
&lt;li>å¤§é‡çš„ DOM æ“ä½œæœƒè¢«ç¯€æµ(Throttled DOM Operations)&lt;/li>
&lt;/ol>
&lt;p>ç”±æ–¼åœ¨ Web Workers ç„¡æ³•ç›´æ¥å­˜å– DOMï¼Œæ‰€ä»¥ Partytown æœƒé€é onmessage äº‹ä»¶å‚³çµ¦ Main Thread ä¾†è™•ç†ï¼Œæ‰€ä»¥ DOM è™•ç†çš„é€Ÿåº¦åè€Œæœƒè®Šæ…¢ï¼&lt;/p>
&lt;ol start="2">
&lt;li>åªè¦æ˜¯ UI ç‰¹åˆ¥åƒé‡çš„ JS å‡½å¼åº«ï¼Œè™•ç†å¤§é‡ DOM æ“ä½œï¼Œéƒ½ä¸å¤ªé©åˆç”¨ Partytown ä¾†ç®¡ç†&lt;/li>
&lt;/ol>
&lt;p>å¦‚æœåŸ·è¡Œå¯¦éš›æ•ˆæœä¸ç†æƒ³ï¼Œå…¶å¯¦å°±é€™å€‹ JS ä¸è¦ç”¨ Partytown å³å¯ï¼&lt;/p>
&lt;ol start="3">
&lt;li>è‹¥ç¬¬ä¸‰æ–¹å‡½å¼åº«åœ¨è¼‰å…¥æ™‚æ²’æœ‰è¨­å®š CORS Headers çš„è©±ï¼Œé€é Partytown æ˜¯ç„¡æ³•è¼‰å…¥çš„&lt;/li>
&lt;/ol>
&lt;p>å¿…é ˆé€é &lt;a class="link" href="https://partytown.builder.io/proxying-requests" target="_blank" rel="noopener"
>Proxying Requests&lt;/a> å¾**ç›¸åŒä¾†æº(Same-origin)**è¼‰å…¥ï¼&lt;/p>
&lt;ol start="4">
&lt;li>äº‹ä»¶è™•ç†åªè¦ç”¨åˆ° &lt;code>event.preventDefault()&lt;/code> å°±æœƒå¤±æ•ˆ&lt;/li>
&lt;/ol>
&lt;p>é€é Web Workers åŸ·è¡Œ event callback æœƒå°è‡´ &lt;code>event.preventDefault()&lt;/code> çš„è¡Œç‚ºå¤±æ•ˆï¼&lt;/p>
&lt;ol start="5">
&lt;li>è‹¥é€é Partytown ç®¡ç†çš„ JS å‹•æ…‹å»ºç«‹ &lt;code>iframe&lt;/code> çš„è©±ï¼Œ&lt;code>document.cookie&lt;/code>ã€&lt;code>localStorage&lt;/code> èˆ‡ &lt;code>sessionStorage&lt;/code> éƒ½æœƒè®€ä¸åˆ°ï¼&lt;/li>
&lt;/ol>
&lt;p>åŸºæœ¬ä¸Šç¨‹å¼ä¸æœƒå ±éŒ¯ï¼Œä½†å°±æ˜¯æ²’æ•ˆæœï¼Œæ‰€ä»¥ä½¿ç”¨ä¸Šè¦æ³¨æ„ï¼&lt;/p>
&lt;ol start="6">
&lt;li>é€é &lt;code>setInterval()&lt;/code> ä¸æ–·çš„å° &lt;code>document&lt;/code> é€²è¡Œ DOM æ“ä½œ&lt;/li>
&lt;/ol>
&lt;p>é€™ä¹Ÿæœƒå¤±å»ä½¿ç”¨ Partytown çš„åƒ¹å€¼ï¼Œå› ç‚ºé »ç¹çš„ DOM æ“ä½œåè€Œæœƒè®“ Web Workers éæ–¼å¿™ç¢Œï¼&lt;/p>
&lt;p>ç›®å‰ç¢ºå®šå¾ˆé©åˆç”¨ &lt;a class="link" href="https://partytown.builder.io/" target="_blank" rel="noopener"
>Partytown&lt;/a> ä¾†ç®¡ç†çš„ç¬¬ä¸‰æ–¹å‡½å¼åº«ï¼Œå¾å®˜ç¶²æ˜¯æœ‰æ•´ç†å‡ºä¾†çš„ï¼Œå¤§å®¶å¯ä»¥å¤šå¤šåˆ©ç”¨ï¼Œç…§è‘—å®˜ç¶²è¨­å®šå³å¯ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://partytown.builder.io/common-services" target="_blank" rel="noopener"
>Common Services&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://partytown.builder.io/facebook-pixel" target="_blank" rel="noopener"
>Facebook Pixel&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://partytown.builder.io/google-tag-manager" target="_blank" rel="noopener"
>Google Tag Manager&lt;/a> (GTM)&lt;/li>
&lt;/ul>
&lt;hr></description></item><item><title>ç¶²ç«™å‰ç«¯æ‰“ API æ™‚æŠŠå¯†ç¢¼åŠ å¯†ï¼Œæœ‰æ„ç¾©å—ï¼Ÿ</title><link>https://wayneblog.ga/2023-01-17/why-encrypt-in-client/</link><pubDate>Tue, 17 Jan 2023 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2023-01-17/why-encrypt-in-client/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52634831533_259566b84f_o.jpg" alt="Featured image of post ç¶²ç«™å‰ç«¯æ‰“ API æ™‚æŠŠå¯†ç¢¼åŠ å¯†ï¼Œæœ‰æ„ç¾©å—ï¼Ÿ" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://www.facebook.com/groups/f2e.tw/posts/5689037364466915" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/questions/10211642" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://www.sjoerdlangkemper.nl/2020/02/12/the-case-for-client-side-hashing-logging-passwords-by-mistake/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://blog.huli.tw/2023/01/10/security-of-encrypt-or-hash-password-in-client-side/?fbclid=IwAR3KXQ6gSgO1uxzAhtplhEs-AtQ5KIg2GR0HRaKcbMewUrWgEi6JGas48T8" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>æœ€è¿‘æœ‰äººåœ¨è‡‰æ›¸å‰ç«¯äº¤æµç¤¾ç¾¤ç™¼äº†&lt;a class="link" href="https://www.facebook.com/groups/f2e.tw/posts/5689037364466915" target="_blank" rel="noopener"
>ä¸€å‰‡è²¼æ–‡&lt;/a>ï¼Œå…§å®¹æ˜¯ä»–çœ‹åˆ°äº†ä¸€å€‹å•é¡Œï¼š&lt;a class="link" href="https://ithelp.ithome.com.tw/questions/10211642" target="_blank" rel="noopener"
>è«‹å•ç™»å…¥apiå‚³è³¬è™Ÿã€å¯†ç¢¼jsonæ˜ç¢¼æœƒæœ‰å•é¡Œå—?&lt;/a>ï¼Œæƒ³çŸ¥é“å¤§å®¶å°é€™å€‹å•é¡Œçš„çœ‹æ³•ã€‚&lt;/p>
&lt;p>è€Œåº•ä¸‹çš„å›ç­”å¤§éƒ¨ä»½éƒ½æ˜¯è¦ºå¾—ã€Œ&lt;strong>æœ‰ç”¨ HTTPS å°±å¥½äº†ï¼Œæ²’å¿…è¦é¡å¤–å†å¯¦ä½œä¸€å±¤åŠ å¯†ï¼Œæ²’æœ‰ä»€éº¼å¤ªå¤§çš„æ„ç¾©&lt;/strong>ã€.&lt;/p>
&lt;p>è€å¯¦èªªæˆ‘ä»¥å‰ä¹Ÿæ˜¯é€™æ¨£èªç‚ºçš„ï¼Œè€Œä¸”éå»åœ¨ç¤¾ç¾¤ä¸­å°±æœ‰å‡ºç¾éé¡ä¼¼çš„è¨è«–ã€‚æˆ‘é‚£æ™‚å€™æƒ³èªªéƒ½å·²ç¶“æœ‰ HTTPS äº†ï¼Œè€Œ HTTPS æœ¬èº«çš„ç›®çš„å°±æ˜¯ç‚ºäº†ä¿éšœå‚³è¼¸çš„å®‰å…¨ï¼Œç‚ºä»€éº¼è¦è‡ªå·±å†åšåŠ å¯†ï¼Ÿ&lt;/p>
&lt;p>ä½†é€™ä¸€å…©å¹´æ¥è§¸è³‡å®‰ä»¥å¾Œï¼Œæˆ‘çš„æƒ³æ³•æœ‰äº†æ”¹è®Šï¼Œæˆ‘èªç‚ºå‰ç«¯åœ¨å‚³è¼¸å‰æŠŠå¯†ç¢¼åŠ å¯†ï¼Œæ˜¯æœ‰å…¶æ„ç¾©çš„ï¼Œè€Œæ¥ä¸‹ä¾†æˆ‘æœƒè©³ç´°èªªæ˜æˆ‘çš„ç†ç”±ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å®šç¾©å•é¡Œ">å®šç¾©å•é¡Œ&lt;/h2>
&lt;p>åœ¨é€²å…¥æ­£é¡Œä¹‹å‰ï¼Œæˆ‘æƒ³æŠŠå•é¡Œå®šç¾©å¾—æ›´æ˜ç¢ºä¸€é»ï¼Œå…å¾—å‡ºç¾ä¸€å †å¼µé£›æ‰“å²³é£›ï¼Œæ‹¿å…©å€‹å®Œå…¨ä¸åŒçš„æƒ…å¢ƒä¾†æ¯”è¼ƒçš„ç‹€æ³ã€‚åœ¨åŸæ–‡åº•ä¸‹ï¼Œå°±æœ‰ä¸å°‘ç•™è¨€åœ¨è¨è«–çš„æ˜¯ä¸åŒçš„å•é¡Œï¼ŒæŠŠå•é¡Œå…ˆå®šç¾©æ¸…æ¥šæ»¿é‡è¦çš„ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘è¦æ¯”è¼ƒçš„å°è±¡æ˜¯ï¼š&lt;/p>
&lt;ol>
&lt;li>åœ¨ä½¿ç”¨ &lt;strong>HTTPS&lt;/strong> çš„å‰æä¸‹ï¼Œæ‰“ç™»å…¥ API æ™‚ä¸åšä»»ä½•äº‹ç›´æ¥å‚³é€å¯†ç¢¼çš„æ˜æ–‡&lt;/li>
&lt;li>åœ¨ä½¿ç”¨ &lt;strong>HTTPS&lt;/strong> çš„å‰æä¸‹ï¼Œæ‰“ç™»å…¥ API æ™‚å…ˆæŠŠå¯†ç¢¼åŠ å¯†ï¼Œå†å‚³é€åˆ° server&lt;/li>
&lt;/ol>
&lt;p>é€™é‚Šéœ€è¦æ³¨æ„çš„æ˜¯ã€Œ&lt;strong>å…©å€‹ç‹€æ³éƒ½æ˜¯ HTTPS&lt;/strong>ã€ï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³è¬›çš„æ˜¯ã€Œ&lt;strong>æ²’å¿…è¦è‡ªå·±ç™¼æ˜æ–°æŠ€è¡“&lt;/strong>ã€æˆ–æ˜¯ã€Œ&lt;strong>è‡ªå·±ç™¼æ˜æ–°çš„åŠ å¯†æ–¹å¼ä¸æœƒæ¯”è¼ƒå®‰å…¨&lt;/strong>ã€ç­‰ç­‰ï¼Œåœ¨é€™å€‹å‰æä¸‹å…¨éƒ½ä¸é©ç”¨ã€‚&lt;/p>
&lt;p>å› ç‚ºå‚³è¼¸å±¤é‚„æ˜¯é  &lt;strong>HTTPS&lt;/strong> åœ¨å‚³è¼¸ï¼Œæ‰€ä»¥åœ¨é€™å€‹éšæ®µä¸¦æ²’æœ‰è‡ªå·±ç™¼æ˜æ–°çš„æ–¹å¼ï¼Œæˆ‘åªæ˜¯åœ¨æ‡‰ç”¨å±¤è‡ªå·±æŠŠå‚³è¼¸çš„è³‡æ–™é¡å¤–åŠ å¯†ä¸€å±¤è€Œå·²ã€‚&lt;/p>
&lt;p>å†ä¾†ï¼Œå…ˆä¸è€ƒæ…®æˆæœ¬é€™ä»¶äº‹ï¼Œç´”ç²¹åªå¾æŠ€è¡“çš„è§’åº¦å»çœ‹å¯èƒ½æœ‰å“ªäº›å„ªç¼ºé»(æˆæœ¬ç›¸é—œçš„æœ€å¾Œå†ä¾†è¨è«–)ã€‚&lt;/p>
&lt;p>æœ€å¾Œå‘¢ï¼Œæˆ‘é€™é‚Šçš„æƒ…å¢ƒæ˜¯ã€Œ&lt;strong>åŠ å¯†å¯†ç¢¼&lt;/strong>ã€è€Œé hashï¼Œé€™æ˜¯å› ç‚ºæˆ‘è¦ºå¾— hash çš„ç‹€æ³æ¯”è¼ƒè¤‡é›œï¼Œæˆ‘è‡ªå·±æƒ³å…ˆç”¨åŠ å¯†ä¾†èˆ‰ä¾‹ï¼Œè€Œä¸”é€™å€‹åŠ å¯†æ˜¯ã€Œ&lt;strong>éå°ç¨±å¼åŠ å¯†&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>ä¹Ÿå°±æ˜¯æˆ‘å€‘å¯ä»¥æƒ³åƒå·²ç¶“æœ‰ä¸€æŠŠ public key å­˜åœ¨æ–¼ client ç«¯(ç•¶ç„¶ï¼Œæ¯å€‹äººéƒ½å¯ä»¥æ‹¿å¾—åˆ°)ï¼Œåœ¨é€å‡º request ä»¥å‰ï¼Œæœƒå…ˆä½¿ç”¨ JavaScript æŠŠå¯†ç¢¼ç”¨ public key åŠ å¯†ä»¥å¾Œå†é€å‡ºï¼Œè€Œ server ä½¿ç”¨ private key è§£å¯†ï¼Œæ‹¿åˆ°å¯†ç¢¼ä»¥å¾Œ hash éå†å­˜å…¥è³‡æ–™åº«ä¸­ã€‚&lt;/p>
&lt;p>ç¶œåˆä»¥ä¸Šï¼Œé€™ç¯‡æƒ³è™•ç†çš„å•é¡Œæ˜¯ï¼šã€Œ&lt;strong>å·²ç¶“ä½¿ç”¨äº† HTTPSï¼Œåœ¨æ‰“ç™»å…¥ API ä»¥å‰å…ˆæŠŠå¯†ç¢¼åŠ å¯†éæˆ–æ˜¯ä¸åšä»»ä½•è™•ç†ï¼Œé€™å…©è€…çš„å·®åˆ¥åœ¨å“ªï¼Ÿ&lt;/strong>ã€&lt;/p>
&lt;p>è€Œæˆ‘å€‘å¯ä»¥æŠŠå›ç­”åˆ†æˆå…©å€‹éƒ¨åˆ†ï¼š&lt;/p>
&lt;ol>
&lt;li>å‡è¨­ HTTPS è¢«ç ´è§£äº†ï¼Œæ˜¯ä¸å®‰å…¨çš„ï¼Œå·®åœ¨å“ªï¼Ÿ&lt;/li>
&lt;li>å‡è¨­ HTTPS æ˜¯å®‰å…¨çš„ï¼Œå·®åœ¨å“ªï¼Ÿ&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h2 id="å‡è¨­-https-ä¸å®‰å…¨å·®åœ¨å“ª">å‡è¨­ HTTPS ä¸å®‰å…¨ï¼Œå·®åœ¨å“ªï¼Ÿ&lt;/h2>
&lt;p>é¦–å…ˆï¼Œå¯ä»¥å…ˆæƒ³ä¸€ä¸‹æ€æ¨£çš„ç‹€æ³æœƒé€ æˆ HTTPS ä¸å®‰å…¨ï¼Œæ”»æ“Šè€…æŒæ¡äº†ç³»çµ±çš„å“ªäº›éƒ¨åˆ†ï¼Ÿ&lt;/p>
&lt;p>åº•ä¸‹ç°¡å–®åˆ†ç‚ºå››ç¨®ç‹€æ³è¨è«–ï¼š&lt;/p>
&lt;ol>
&lt;li>æ”»æ“Šè€…æŒæ§æ•´å°é›»è…¦ï¼Œä¿¡ä»»æƒ¡æ„æ†‘è­‰&lt;/li>
&lt;li>æ”»æ“Šè€…æˆåŠŸåŸ·è¡Œäº†ä¸­é–“äººæ”»æ“Š&lt;/li>
&lt;li>æ”»æ“Šè€…å¯ä»¥åœ¨ç¶²è·¯å±¤ç›£è½ request ä¸¦ä½¿ç”¨æ¼æ´å–å¾—æ˜æ–‡&lt;/li>
&lt;li>æ”»æ“Šè€…ç›´æ¥é‡å° HTTPS server é€²è¡Œæ”»æ“Š&lt;/li>
&lt;/ol>
&lt;h3 id="æ”»æ“Šè€…æŒæ§æ•´å°é›»è…¦ä¿¡ä»»æƒ¡æ„æ†‘è­‰">æ”»æ“Šè€…æŒæ§æ•´å°é›»è…¦ï¼Œä¿¡ä»»æƒ¡æ„æ†‘è­‰&lt;/h3>
&lt;p>è‹¥æ˜¯é€™ç¨®é¡å‹çš„ç‹€æ³ï¼Œé‚£ç•¶ç„¶æ˜¯æœ‰æ²’æœ‰åŠ å¯†éƒ½æ²’å·®ï¼Œå› ç‚ºæ”»æ“Šè€…éƒ½æœ‰å…¶ä»–æ›´å¥½çš„æ‰‹æ®µå»å–å¾—ä½ çš„å¯†ç¢¼ã€‚&lt;/p>
&lt;h3 id="æ”»æ“Šè€…æˆåŠŸåŸ·è¡Œäº†ä¸­é–“äººæ”»æ“Š">æ”»æ“Šè€…æˆåŠŸåŸ·è¡Œäº†ä¸­é–“äººæ”»æ“Š&lt;/h3>
&lt;p>é‚£å¦‚æœæ˜¯ã€Œæ”»æ“Šè€…æˆåŠŸåŸ·è¡Œäº†ä¸­é–“äººæ”»æ“Šï¼ˆMan-In-The-Middleï¼‰ã€å‘¢ï¼Ÿä½ çš„é›»è…¦æ²’äº‹ï¼Œåªæ˜¯å°åŒ…åœ¨å‚³è¼¸çš„éç¨‹ä¸­è¢«ä¸­é–“äººæ”»æ“Šã€‚&lt;/p>
&lt;p>åœ¨é€™æ¨£çš„å‰æåº•ä¸‹ï¼Œæ²’åŠ å¯†çš„æƒ…å½¢å°±èƒ½ç›´æ¥è¢«ç²å–å¯†ç¢¼ï¼Œè€Œæœ‰åŠ å¯†çš„æƒ…å½¢æ”»æ“Šè€…åªèƒ½ç²å–åˆ°åŠ å¯†éçš„å¯†æ–‡è€Œéæ˜æ–‡ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯æ—¢ç„¶æ˜¯å«ä¸­é–“äººæ”»æ“Šï¼Œé‚£æ”»æ“Šè€…é™¤äº†ç›£è½ä½ çš„ request ä»¥å¤–ï¼Œä¹Ÿèƒ½å‚³é€å½é€ çš„ response çµ¦ä½ ï¼ŒæŠŠå‰ç«¯ç”¨ä¾†åŠ å¯†å¯†ç¢¼çš„éƒ¨åˆ†æ›æ‰ã€‚&lt;/p>
&lt;p>å› æ­¤ç„¡è«–å¯†ç¢¼æ˜¯å¦åŠ å¯†ï¼Œæ”»æ“Šè€…éƒ½å¯ä»¥æ‹¿åˆ°æ˜æ–‡ï¼Œåªæ˜¯å¦‚æœæœ‰åŠ å¯†çš„è©±ï¼Œæ”»æ“Šè€…å–å¾—å¯†ç¢¼çš„æˆæœ¬è¼ƒé«˜ï¼ˆéœ€è¦å…ˆæ‰¾åˆ°åœ¨å“ªé‚ŠåŠ å¯†çš„ï¼Œç„¶å¾ŒæŠŠé‚£æ®µæ”¹æ‰ï¼‰ã€‚&lt;/p>
&lt;h3 id="æ”»æ“Šè€…å¯ä»¥åœ¨ç¶²è·¯å±¤ç›£è½-request-ä¸¦ä½¿ç”¨æ¼æ´å–å¾—æ˜æ–‡">æ”»æ“Šè€…å¯ä»¥åœ¨ç¶²è·¯å±¤ç›£è½ request ä¸¦ä½¿ç”¨æ¼æ´å–å¾—æ˜æ–‡&lt;/h3>
&lt;p>é€™å€‹ç‹€æ³è·Ÿä¸Šä¸€å€‹çš„ä¸åŒä¹‹è™•åœ¨æ–¼é€™å€‹åªèƒ½è®€ï¼Œä¸èƒ½å¯«ã€‚è‹¥æ˜¯æœ‰è¾¦æ³•è§£å¯† request çš„å°åŒ…ï¼Œå°±èƒ½å¤ çœ‹åˆ°æ˜æ–‡ã€‚&lt;/p>
&lt;p>æ‰€ä»¥å¦‚æœæœ‰æŠŠå¯†ç¢¼å…ˆåŠ å¯†ï¼Œæ”»æ“Šè€…å°±ç„¡æ³•å–å¾—å¯†ç¢¼çš„æ˜æ–‡ã€‚&lt;/p>
&lt;p>é€™é‚Šéœ€è¦æ³¨æ„çš„æ˜¯å„˜ç®¡ç„¡æ³•å–å¾—æ˜æ–‡ï¼Œæ”»æ“Šè€…ä¾ç„¶å¯ä»¥é€éé‡é€è«‹æ±‚ä¾†ç™»å…¥ä½ çš„å¸³è™Ÿï¼ˆå…ˆå‡è¨­æ²’æœ‰å…¶ä»–æ©Ÿåˆ¶ï¼‰ï¼Œæ‰€ä»¥ä½ å¸³è™Ÿé‚„æ˜¯è¢«ç›œäº†ï¼Œåªæ˜¯æ”»æ“Šè€…ä¸çŸ¥é“ä½ çš„å¯†ç¢¼æ˜æ–‡ã€‚&lt;/p>
&lt;p>é€™æœ‰å·®å—ï¼Ÿæœ‰ï¼&lt;/p>
&lt;p>å‡è¨­ä»–çŸ¥é“äº†ä½ çš„å¯†ç¢¼æ˜æ–‡ï¼Œå°±å¯ä»¥æ‹¿ä½ çš„é€™çµ„å¸³è™Ÿå¯†ç¢¼å»å„å€‹æœå‹™éƒ½è©¦è©¦çœ‹ï¼Œè‹¥æ˜¯ä½ å…¶ä»–ç¶²ç«™ä¹Ÿç”¨åŒä¸€çµ„å¸³è™Ÿå¯†ç¢¼ï¼Œå°±æœƒè·Ÿè‘—æ·ªé™·ï¼ˆä¿—ç¨±çš„æ’åº«æ”»æ“Šï¼‰ã€‚&lt;/p>
&lt;p>å› æ­¤åœ¨é€™å€‹ç‹€æ³åº•ä¸‹ï¼ŒåŠ å¯†å¯†ç¢¼çš„å®‰å…¨æ€§é¡¯ç„¶æ˜¯æ›´é«˜çš„ã€‚&lt;/p>
&lt;p>æ­¤æ™‚ä½ å¯èƒ½æœƒæƒ³å•çš„å•é¡Œæ˜¯ï¼šã€Œé‚£åœ¨ä»€éº¼ç‹€æ³ä¸‹æ”»æ“Šè€…èƒ½å¤ å–å¾— HTTPS çš„æ˜æ–‡ï¼ŸçœŸçš„æœ‰å¯èƒ½å—ï¼Ÿã€&lt;/p>
&lt;p>é€™é‚Šæœ‰ä¸€ä»½ç¾åœ‹è¡›ç”ŸåŠå…¬å…±æœå‹™éƒ¨ HHS æ‰€åšçš„ç°¡å ±ï¼š&lt;a class="link" href="https://www.hhs.gov/sites/default/files/securing-ssl-tls-in-healthcare-tlpwhite.pdf" target="_blank" rel="noopener"
>SSL/TLS Vulnerabilities&lt;/a>ï¼Œè£¡é¢æœ‰è¨˜éŒ„ä¸€äº› SSL/TLS æ›¾ç¶“æœ‰éçš„æ¼æ´ï¼Œæ‰€ä»¥å–å¾— HTTPS çš„æ˜æ–‡ç¢ºå¯¦æ˜¯æœ‰å¯èƒ½çš„ã€‚&lt;/p>
&lt;p>ä¸éå…‰æ˜¯çŸ¥é“ã€Œæœ‰å¯èƒ½ã€æ˜¯ä¸å¤ çš„ï¼Œæ‡‰è©²å•çš„æ˜¯ã€Œæ©Ÿç‡é«˜å—ï¼Ÿã€ï¼Œåœ¨è¨è«–é¢¨éšªçš„æ™‚å€™ï¼Œé€šå¸¸ä¹Ÿæœƒæ ¹æ“šé¢¨éšªçš„é«˜ä½ä»¥åŠåš´é‡ç¨‹åº¦ä¾†æ±ºå®šè©²æ€éº¼è™•ç†é€™å€‹é¢¨éšªã€‚&lt;/p>
&lt;p>ç­”æ¡ˆæ˜¯ã€Œæ©Ÿç‡å¾ˆä½ã€ï¼Œç°¡å ±è£¡çš„æ¼æ´æœ€è¿‘çš„å·²ç¶“æ˜¯ 2017 å¹´çš„äº‹æƒ…äº†ï¼Œè€Œä¸”æ˜¯ä½¿ç”¨ä¸€äº›èˆŠçš„ã€æœ‰å•é¡Œçš„åŠ å¯†æ¼”ç®—æ³•ï¼Œé™¤æ­¤ä¹‹å¤–é‚„éœ€è¦ç¬¦åˆä¸å°‘å…¶ä»–æ¢ä»¶ï¼Œæ‰èƒ½åŸ·è¡Œæ”»æ“Šï¼Œæ‰€ä»¥æˆ‘èªç‚ºæ©Ÿç‡ç¢ºå¯¦æ˜¯å¾ˆä½çš„ã€‚&lt;/p>
&lt;p>ä»¥ 2016 å¹´ç™¼è¡¨çš„ &lt;a class="link" href="https://drownattack.com/" target="_blank" rel="noopener"
>DROWN(Decrypting RSA with Obsolete and Weakened eNcryption)&lt;/a> ä¾†èªªï¼ŒServer è¦æ”¯æ´ SSLv2ï¼Œè€Œæ”»æ“Šè€…è¦èƒ½æŠ“åˆ°åŠ å¯†éçš„ TLS connectionï¼Œç¬¦åˆé€™äº›æ¢ä»¶ä»¥å¾Œï¼Œé€²è¡Œä¸€å¤§å †é‹ç®—å¾Œå°±å¯ä»¥è§£é–‹ 900 å€‹ connection ä¸­çš„ 1 å€‹ï¼Œè€Œé‹ç®—æˆæœ¬åœ¨ç•¶æ™‚æ˜¯ 440 ç¾é‡‘ï¼Œç´„ 13k å°å¹£ã€‚&lt;/p>
&lt;p>ç¸½ä¹‹å‘¢ï¼Œé‡å°é€™å€‹ç‹€æ³ï¼Œæˆ‘å€‘å¯ä»¥èªªï¼š&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>å‡è¨­æ”»æ“Šè€…å¯ä»¥å–å¾— HTTPS çš„æ˜æ–‡ï¼Œé‚£ç¢ºå¯¦è‡ªå·±åœ¨æ‡‰ç”¨å±¤åŠ å¯†æœƒæ›´å®‰å…¨ï¼Œä½†è¦ç¬¦åˆé€™å€‹å‡è¨­çš„æˆæœ¬å¾ˆé«˜ï¼Œç™¼ç”Ÿæ©Ÿç‡å¾ˆä½&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;h3 id="æ”»æ“Šè€…ç›´æ¥é‡å°-https-server-é€²è¡Œæ”»æ“Š">æ”»æ“Šè€…ç›´æ¥é‡å° HTTPS server é€²è¡Œæ”»æ“Š&lt;/h3>
&lt;p>é€™å€‹åˆ†é¡æˆ‘æŒ‡çš„æ˜¯åœ¨ 2014 å¹´ç™¼ç”Ÿéçš„ &lt;a class="link" href="https://devco.re/blog/2014/04/11/openssl-heartbleed-how-to-hack-how-to-protect/" target="_blank" rel="noopener"
>Heartbleed æ¼æ´&lt;/a>ï¼Œæ”»æ“Šè€…å¯ä»¥è—‰ç”± OpenSSL çš„æ¼æ´è®€å–åˆ° server çš„è¨˜æ†¶é«”ã€‚&lt;/p>
&lt;p>é€™å€‹ç‹€æ³è·Ÿä¸Šä¸€å€‹æ»¿åƒçš„ï¼Œå¦‚æœæœ‰åœ¨ client ç«¯å…ˆåŠ å¯†éå¯†ç¢¼ï¼Œé‚£æ”»æ“Šè€…åœ¨ server ä¸Šè®€åˆ°çš„å°±æ˜¯åŠ å¯†éå¾Œçš„ï¼Œä¸çŸ¥é“å¯†ç¢¼æ˜æ–‡æ˜¯ä»€éº¼ã€‚&lt;/p>
&lt;p>æ‰€ä»¥çµè«–è·Ÿä¸Šå€‹ä¸€æ¨£ï¼Œå°±æ˜¯åŠ å¯†å¯†ç¢¼æœƒæ›´å®‰å…¨ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä¸­å ´ç¸½çµ">ä¸­å ´ç¸½çµ&lt;/h2>
&lt;p>å‰›å‰›æˆ‘å€‘è¨è«–äº†å¹¾ç¨®ã€ŒHTTPS è®Šå¾—ä¸å®‰å…¨ã€çš„ç‹€æ³ï¼Œå¾ä»¥å¾€ç™¼ç”Ÿéçš„æ¡ˆä¾‹å¯ä»¥å¾—çŸ¥ã€ŒHTTPS è®Šå¾—ä¸å®‰å…¨ã€æ˜¯æœ‰å¯èƒ½çš„ã€‚è‹¥æ˜¯æ”»æ“Šè€…èƒ½å¤ è®€åˆ° HTTPS å‚³è¼¸çš„æ˜æ–‡ï¼Œé‚£åœ¨æ‡‰ç”¨å±¤å°‡å¯†ç¢¼åŠ å¯†ï¼Œå°±èƒ½é˜²æ­¢æ”»æ“Šè€…å–å¾—å¯†ç¢¼çš„æ˜æ–‡ï¼Œå› æ­¤æœƒæ¯”æ²’æœ‰åŠ å¯†ä¾†å¾—æ›´å®‰å…¨ã€‚&lt;/p>
&lt;p>å¦‚æœè¦è¬›å¾—æ›´è©³ç´°ï¼Œå¯ä»¥å¾å…©å€‹ç¶­åº¦å»åˆ‡å…¥ï¼Œä¸€å€‹æ˜¯åš´é‡æ€§ï¼ˆseverityï¼‰ï¼Œå¦ä¸€å€‹æ˜¯å¯èƒ½æ€§ï¼ˆpossibilityï¼‰ã€‚&lt;/p>
&lt;p>ä»¥åš´é‡æ€§ä¾†èªªï¼Œä¸ç®¡æœ‰æ²’æœ‰åŠ å¯†å¯†ç¢¼ï¼Œåªè¦æ”»æ“Šè€…æœ‰è¾¦æ³•æ‹¿åˆ° request çš„å…§å®¹ï¼Œä½ çš„å¸³è™Ÿå°±å·²ç¶“æ·ªé™·äº†ï¼Œè€Œæœ‰æ²’æœ‰åŠ å¯†å”¯ä¸€çš„å·®åˆ¥åªæœ‰æ”»æ“Šè€…æ˜¯å¦èƒ½å–å¾—æ˜æ–‡å¯†ç¢¼ï¼Œæœ‰çš„è©±å°±å¯ä»¥åŸ·è¡Œæ’åº«æ”»æ“Šï¼Œæ‹¿å¯†ç¢¼å»è©¦æ›´å¤šå…¶ä»–çš„ç¶²ç«™ã€‚&lt;/p>
&lt;p>è€Œå¯èƒ½æ€§å°±æ˜¯ã€ŒHTTPS çš„æ˜æ–‡è¢«æ‹¿åˆ°ã€é€™ä»¶äº‹çš„å¯èƒ½æ€§ï¼Œå¾éå¾€çš„ç¶“æ­·ä»¥åŠç ”ç©¶ä¾†çœ‹ï¼Œé›–ç„¶æ˜¯æœ‰å¯èƒ½çš„ï¼Œä½†åœ¨ 2023 å¹´çš„ä»Šå¤©ï¼Œæ©Ÿç‡æ˜¯å¾ˆä½çš„ã€‚&lt;/p>
&lt;p>å› æ­¤æˆ‘å€‘ç¾éšæ®µçš„çµè«–æ‡‰è©²æ˜¯ï¼š&lt;/p>
&lt;p>æ”»æ“Šè€…è‹¥æ˜¯å¯ä»¥ç¹é HTTPS æ‹¿åˆ°æ˜æ–‡çš„ requestï¼Œé‚£åœ¨æ‡‰ç”¨å±¤å°‡å¯†ç¢¼åŠ å¯†ï¼Œç¢ºå¯¦æœƒæ¯”è¼ƒå®‰å…¨ï¼Œä½†è¦æ³¨æ„çš„æ˜¯è¦é”æˆé€™å€‹å‰æéå¸¸å›°é›£ï¼Œç™¼ç”Ÿçš„æ©Ÿç‡æ¥µä½ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å‡è¨­-https-æ˜¯å®‰å…¨çš„">å‡è¨­ HTTPS æ˜¯å®‰å…¨çš„&lt;/h2>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘è¨è«–ç¬¬äºŒç¨®ç‹€æ³ï¼Œé‚£å°±æ˜¯å‡è¨­ HTTPS æ˜¯å®‰å…¨çš„ï¼Œæ²’æœ‰ä»»ä½•äººå¯ä»¥å¾ä¸­é–“çœ‹åˆ°æ˜æ–‡çš„å…§å®¹ï¼Œé€™æ‡‰è©²ä¹Ÿæ˜¯ç•™è¨€å€ä¸­å¤§å¤šæ•¸äººå‡è¨­çš„å‰æã€‚&lt;/p>
&lt;p>åœ¨é€™ç¨®ç‹€æ³ä¸‹ï¼Œæœƒæœ‰å“ªäº›é¢¨éšªå‘¢ï¼Ÿ&lt;/p>
&lt;p>æœ‰ä¸€å€‹ç¾å¯¦ç”Ÿæ´»ä¸­æœƒç™¼ç”Ÿï¼Œè€Œä¸”ä¹Ÿç¢ºå¯¦ç™¼ç”Ÿéçš„é¢¨éšªï¼Œé‚£å°±æ˜¯ &lt;strong>logging&lt;/strong>ã€‚&lt;/p>
&lt;p>èº«ç‚ºå‰ç«¯å·¥ç¨‹å¸«ï¼Œåœ¨å‰ç«¯åŠ è£ä¸€äº› error tracking çš„æœå‹™æ˜¯å¾ˆåˆç†çš„äº‹æƒ…ï¼Œè‹¥æ˜¯æˆ‘å€‘ç›´æ¥å¯¦ä½œä¸€å€‹ã€Œ&lt;strong>åªè¦ä¼ºæœå™¨å›å‚³ 5xxï¼Œå°±æŠŠ request è¨˜éŒ„èµ·ä¾†&lt;/strong>ã€çš„æ©Ÿåˆ¶ï¼Œå¦‚æœå¥½å·§ä¸å·§å“ªå¤©ç™»å…¥çš„ API å‡ºç¾é€™å€‹ç‹€æ³ï¼Œä½ å°±å¯ä»¥åœ¨ log è£¡é¢çœ‹åˆ°ä½¿ç”¨è€…çš„æ˜æ–‡å¯†ç¢¼ã€‚&lt;/p>
&lt;p>è€Œä¸”ä¸åªå‰ç«¯ï¼Œå¾Œç«¯ä¹Ÿå¯èƒ½æœ‰é¡ä¼¼çš„æ©Ÿåˆ¶ï¼Œç¢°åˆ°ä¸€äº›å•é¡Œå°±æŠŠ request æ•´å€‹å¯«åˆ° log æª”å»ï¼Œæ–¹ä¾¿ä»¥å¾ŒæŸ¥çœ‹ä»¥åŠ debugï¼Œä¸€ä¸å°å¿ƒå¯†ç¢¼å°±å¯èƒ½è¢«å¯«é€²å»ã€‚&lt;/p>
&lt;p>åœ¨é€™ç¨®ç‹€æ³ä¸‹ï¼Œåœ¨ client ç«¯å…ˆæŠŠå¯†ç¢¼åŠ å¯†é¡¯ç„¶æ˜¯æœ‰å¥½è™•çš„ï¼Œé‚£å°±æ˜¯åœ¨é€™äº›éŒ¯èª¤è™•ç†çš„ log ä¸­ï¼Œè¢«è¨˜éŒ„ä¸‹ä¾†çš„å¯†ç¢¼æœƒæ˜¯å¯†æ–‡ï¼Œé™¤éä½ æœ‰å¯†é‘°ï¼Œå¦å‰‡ä½ æ˜¯ä¸æœƒçŸ¥é“ä½¿ç”¨è€…çš„å¯†ç¢¼çš„ã€‚&lt;/p>
&lt;p>æˆ‘åœ¨ç¶²è·¯ä¸Šæ‰¾åˆ°ä¸€ç¯‡è·Ÿæˆ‘è«–é»ä¸€æ¨£çš„æ–‡ç« ï¼š&lt;a class="link" href="https://www.sjoerdlangkemper.nl/2020/02/12/the-case-for-client-side-hashing-logging-passwords-by-mistake/" target="_blank" rel="noopener"
>The case for client-side hashing: logging passwords by mistake&lt;/a>ï¼Œè£¡é¢æœ‰é™„ä¸Šå¾ˆå¤šåƒè€ƒé€£çµï¼Œéƒ½æ˜¯ä»¥å‰å„å¤§å…¬å¸ä¸å°å¿ƒæŠŠå¯†ç¢¼çš„æ˜æ–‡è¨˜éŒ„ä¸‹ä¾†çš„æ¡ˆä¾‹ã€‚&lt;/p>
&lt;p>ç„¶å¾Œæœ‰å€‹å°åœ°æ–¹ç¨å¾®è¬›ä¸€ä¸‹ï¼Œä¸Šé¢é€™ç¯‡åšçš„æ˜¯ã€Œåœ¨ client ç«¯ hashã€ï¼Œè·Ÿæˆ‘é€™ç¯‡ä¸€é–‹å§‹è¨­å®šçš„ã€Œåœ¨ client ç«¯åšéå°ç¨±å¼åŠ å¯†ã€æœ‰é»ä¸åŒï¼Œhash æœƒæ›´å®‰å…¨ä¸€é»ï¼Œç¢ºä¿åœ¨ server çœŸçš„æ²’äººçŸ¥é“ä½ çš„å¯†ç¢¼æ˜æ–‡æ˜¯ä»€éº¼ã€‚&lt;/p>
&lt;p>ç¸½ä¹‹å‘¢ï¼Œåœ¨ client ç«¯å…ˆæŠŠå¯†ç¢¼åŠ å¯†æˆ–æ˜¯ hashï¼Œå¯ä»¥é¿å…åœ¨æ—¥èªŒä¸­ä¸å°å¿ƒå‡ºç¾ä½¿ç”¨è€…çš„å¯†ç¢¼æ˜æ–‡ï¼Œé€™å€‹é¡¯ç„¶æ˜¯å€‹é¡å¤–çš„å„ªé»ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="åŠ å¯†é‚„æ˜¯-hash">åŠ å¯†é‚„æ˜¯ hashï¼Ÿ&lt;/h2>
&lt;p>æ–‡ç« é–‹é ­æˆ‘æœ‰æåˆ° hash çš„ç‹€æ³æœ‰äº›è¤‡é›œï¼Œæ‰€ä»¥æˆ‘å…ˆæŠŠæƒ…å¢ƒè¨­å®šåœ¨ã€Œå°å¯†ç¢¼åšéå°ç¨±å¼åŠ å¯†ã€å†å‚³è¼¸ï¼Œå› ç‚ºå°ä¸Šé¢æˆ‘èˆ‰çš„é‚£äº›ä¾‹å­è€Œè¨€ï¼Œé€™å…©ç¨®æƒ…å¢ƒçš„å·®ç•°ä¸å¤§ã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼ŒHTTPS è¢«æ‹¿åˆ°æ˜æ–‡å…§å®¹ï¼Œç„¡è«–ä½ å°å¯†ç¢¼åšäº†éå°ç¨±å¼åŠ å¯†é‚„æ˜¯é›œæ¹Šï¼Œåœ¨æ”»æ“Šè€…ç„¡æ³•å–å¾—ä¼ºæœå™¨ç«¯å¯†é‘°çš„å‰æä¹‹ä¸‹ï¼Œéƒ½æ˜¯æ‹¿ä¸åˆ°æ˜æ–‡å¯†ç¢¼çš„ã€‚&lt;/p>
&lt;p>é‚£ç‚ºä»€éº¼ hash çš„ç‹€æ³æœ‰äº›è¤‡é›œå‘¢ï¼Ÿ&lt;/p>
&lt;p>å‡è¨­æˆ‘å€‘åœ¨å‰ç«¯å…ˆæŠŠå¯†ç¢¼ hash éå¾Œå†å‚³åˆ°å¾Œç«¯ï¼Œé‚£å¾Œç«¯æ˜¯è¦ç›´æ¥å­˜é€²å»è³‡æ–™åº«å—ï¼Ÿå¦‚æœç›´æ¥å­˜é€²å»è³‡æ–™åº«ï¼Œå“ªå¤©è³‡æ–™åº«çš„å…§å®¹æ›å…‰ï¼Œæ”»æ“Šè€…å°±æ‹¿åˆ°é€™äº› hash éçš„å¯†ç¢¼äº†ã€‚&lt;/p>
&lt;p>é€šå¸¸åœ¨æœ‰åŠ é¹½ä»¥åŠé›œæ¹Šæ¼”ç®—æ³•å¤ å¼·çš„å‰æä¹‹ä¸‹ï¼Œè¢«æ‹¿åˆ° hash çš„å¯†ç¢¼é‚„æ˜¯èƒ½ä¿è­‰ä¸€å®šçš„å®‰å…¨æ€§ï¼Œå¯æ˜¯åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œåè€Œè®Šå¾—å¾ˆä¸å®‰å…¨ã€‚&lt;/p>
&lt;p>å› ç‚ºå‰ç«¯å‚³çµ¦å¾Œç«¯çš„å…§å®¹å·²ç¶“æ˜¯ hash éçš„äº†ï¼Œæ‰€ä»¥æ”»æ“Šè€…å¯ä»¥ç›´æ¥æ‹¿ hash éçš„å¯†ç¢¼é€²è¡Œç™»å…¥ï¼Œæ ¹æœ¬ä¸ç”¨çŸ¥é“æ˜æ–‡æ˜¯ä»€éº¼ã€‚é›–ç„¶ä¿è­·äº†æ˜æ–‡ï¼Œä½†å¤±å»äº†åŸæœ¬é›œæ¹Šçš„å®‰å…¨æ€§ã€‚&lt;/p>
&lt;p>å› æ­¤å¦‚æœè¦åš client side hashingï¼Œserver side æ”¶åˆ°å¾Œä¹Ÿè¦å†åšä¸€æ¬¡ã€‚å¦‚æ­¤ä¸€ä¾†ï¼Œå°±ç®—è³‡æ–™åº«è¢«å·èµ°ï¼Œæ”»æ“Šè€…ä¹Ÿæ²’è¾¦æ³•åˆ©ç”¨è³‡æ–™åº«ä¸­çš„ hash ç›´æ¥ç™»å…¥ã€‚&lt;/p>
&lt;p>æœ‰äº›äººå¯èƒ½è·Ÿæˆ‘ä¸€æ¨£å¥½å¥‡ï¼šã€Œåšå…©æ¬¡ hash ä¸æœƒæ›´ä¸å®‰å…¨å—ï¼Ÿã€ï¼Œæˆ‘å€‘å¯ä»¥çœ‹ä¸€ä¸‹ Google åœ¨ &lt;a class="link" href="https://cloud.google.com/static/solutions/modern-password-security-for-system-designers.pdf" target="_blank" rel="noopener"
>Modern password security for system designers&lt;/a> è£¡é¢æ€éº¼èªªï¼š&lt;/p>
&lt;blockquote>
&lt;p>Have the client computer hash the password using a cryptographically secure algorithm and a unique salt provided by the server. When the password is received by the server, hash it again with a different salt that is unknown to the client. Be sure to store both salts securely. If you are using a modern and secure hashing algorithm, repeated hashing does not reduce entropy.&lt;/p>
&lt;/blockquote>
&lt;p>çœ‹èµ·ä¾†æ˜¯é‚„å¥½ï¼Œå•é¡Œä¸å¤§ã€‚&lt;/p>
&lt;p>ç¸½ä¹‹å‘¢ï¼Œçœ‹èµ·ä¾†æœ€å®‰å…¨çš„ä½†ä¹Ÿæ›´è¤‡é›œçš„è§£æ³•å°±æ˜¯ client side å…ˆ hash ä¸€æ¬¡ï¼Œç„¶å¾Œä¸Ÿåˆ° server çš„æ™‚å€™å† hash ä¸€æ¬¡å­˜é€²è³‡æ–™åº«ï¼Œå¦‚æ­¤ä¸€ä¾†å°±å¯ä»¥ä¿è­‰ï¼š&lt;/p>
&lt;ol>
&lt;li>HTTPS å› ç‚ºå„ç¨®åŸå› å¤±æ•ˆæ™‚ï¼Œæ”»æ“Šè€…ç„¡æ³•å–å¾—æ˜æ–‡å¯†ç¢¼&lt;/li>
&lt;li>åœ¨ Server ç«¯ï¼Œæ²’æœ‰ä»»ä½•äººçŸ¥é“ä½¿ç”¨è€…çš„æ˜æ–‡å¯†ç¢¼&lt;/li>
&lt;li>æ˜æ–‡å¯†ç¢¼ä¸æœƒå› ç‚ºäººç‚ºå¤±èª¤è¢«è¨˜éŒ„åˆ° log ä¸­&lt;/li>
&lt;/ol>
&lt;p>é‚£å¦‚æœçœŸçš„æ¯”è¼ƒå¥½ç”¨ï¼Œç‚ºä»€éº¼æ²’äººåœ¨ç”¨ï¼Ÿ&lt;/p>
&lt;hr>
&lt;h2 id="ç¾å¯¦ç”Ÿæ´»ä¸­åˆ°åº•æœ‰èª°åœ¨å‰ç«¯åš-hash-æˆ–æ˜¯åŠ å¯†">ç¾å¯¦ç”Ÿæ´»ä¸­ï¼Œåˆ°åº•æœ‰èª°åœ¨å‰ç«¯åš hash æˆ–æ˜¯åŠ å¯†ï¼Ÿ&lt;/h2>
&lt;p>ç•¶æˆ‘ä¸€é–‹å§‹ç¢°åˆ°é€™å€‹å•é¡Œï¼Œè¬›å‡ºã€Œæ€éº¼æ²’äººåœ¨ç”¨ã€çš„æ™‚å€™ï¼Œå…¶å¯¦åªæ˜¯ã€Œæˆ‘è‡ªå·±æ²’ç¢°éæœ‰äººé€™æ¨£ç”¨ã€ï¼Œä½†å¯¦éš›ä¸Šæˆ‘ä¸¦ä¸çŸ¥é“é‚£äº›çŸ¥åç¶²ç«™çš„ç™»å…¥æ˜¯æ€éº¼åšçš„ã€‚&lt;/p>
&lt;p>å› æ­¤å‘¢ï¼Œæˆ‘å°±ç›´æ¥å»çœ‹äº†å¹¾å€‹çŸ¥åç¶²ç«™çš„ç™»å…¥æ©Ÿåˆ¶ï¼Œæˆ‘å€‘ä¸€èµ·ä¾†çœ‹ä¸€ä¸‹çµæœï¼Œç‚ºäº†æ–¹ä¾¿è§€çœ‹ï¼Œæˆ‘æŠŠè·Ÿå¸³è™Ÿå¯†ç¢¼ç„¡é—œçš„å…§å®¹éƒ½æ‹¿æ‰äº†ã€‚&lt;/p>
&lt;p>æˆ‘åœ¨æ¸¬è©¦çš„æ™‚å€™ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ç”¨ test æˆ–æ˜¯ &lt;a class="link" href="test@test.com" >test@test.com&lt;/a> æ­é…ç°¡å–®çš„å¯†ç¢¼å¦‚ 1234 åœ¨æ¸¬è©¦ï¼Œç„¶å¾Œè§€å¯Ÿ request çš„å…§å®¹ã€‚&lt;/p>
&lt;p>å…ˆä¾†çœ‹ä¸€ä¸‹ FAANG å§ï¼&lt;/p>
&lt;h3 id="facebook">Facebook&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://zh-tw.facebook.com/login" target="_blank" rel="noopener"
>https://zh-tw.facebook.com/login&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">email&lt;/span>&lt;span class="o">=&lt;/span>test@test.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">encpass&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="c1">#PWD_BROWSER:5:1673256089:AbJQAJUvZZNvh2dZbeDqdu9dp7HWwyHOl3+0sCGjiHMMjvYdxJokpdHE/O+E5LIbnakRmDWQfV40ZaB31MaNXFYo1b+RI+LHh6MAdDPa4PJ+BesDp4u8B4F4diVQ+q7idbEhT5wTNaU=&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ²’æƒ³åˆ° Facebook å°±æ˜¯æœ‰å¯¦ä½œå‰ç«¯åŠ å¯†çš„ç¶²ç«™ï¼å¾Œé¢é‚£æ®µ Base64 ä¸¦ä¸æ˜¯ç›´æ¥æŠŠå¯†ç¢¼ Base64ï¼Œè€Œæ˜¯æŠŠåŠ å¯†éçš„å¯†ç¢¼åš Base64ï¼Œè§£å‡ºä¾†æ˜¯é€™æ¨£ï¼š&lt;code>\x01Â²P\x00\x95/e\x93o\x87gYmÃ ÃªvÃ¯]Â§Â±Ã–Ãƒ!Ã\x97\x7FÂ´Â°!Â£\x88s\f\x8EÃ¶\x1DÃ„\x9A$Â¥Ã‘Ã„Ã¼Ã¯\x84Ã¤Â²\x1B\x9DÂ©\x11\x985\x90}^4e wÃ”Ã†\x8D\\V(Ã•Â¿\x91#Ã¢Ã‡\x87Â£\x00t3ÃšÃ Ã²~\x05Ã«\x03Â§\x8BÂ¼\x07\x81xv%PÃºÂ®Ã¢uÂ±!O\x9C\x135Â¥&lt;/code>&lt;/p>
&lt;h3 id="amazon">Amazon&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://www.amazon.com/ap/signin" target="_blank" rel="noopener"
>https://www.amazon.com/ap/signin&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">email&lt;/span>&lt;span class="o">=&lt;/span>test@test.com&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="nv">password&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1234&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="apple">Apple&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://idmsa.apple.com/appleauth/auth/signin" target="_blank" rel="noopener"
>https://idmsa.apple.com/appleauth/auth/signin&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;accountName&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;test@test.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nt">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1234&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="netflix">Netflix&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://www.netflix.com/tw/login" target="_blank" rel="noopener"
>https://www.netflix.com/tw/login&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">userLoginId&lt;/span>&lt;span class="o">=&lt;/span>test@test.com&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="nv">password&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1234&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="google">Google&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://accounts.google.com/v3/signin/_/AccountsSignInUi/data/batchexecute" target="_blank" rel="noopener"
>https://accounts.google.com/v3/signin/_/AccountsSignInUi/data/batchexecute&lt;/a>.&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">f.req=[[[&amp;#34;14hajb&amp;#34;,&amp;#34;[1,1,null,[1,null,null,null,[\&amp;#34;1234\&amp;#34;,null,true]]]]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>çœ‹ä¾† FAANG è£¡é¢ï¼Œåªæœ‰ Facebook æ˜¯æœ‰å¯¦ä½œçš„ã€‚&lt;/p>
&lt;p>æ¥è‘—æˆ‘çªç„¶å¥½å¥‡èµ·å…¶ä»–å¸¸ç”¨æœå‹™çš„ç™»å…¥æœ‰æ²’æœ‰åšï¼Œåº•ä¸‹è²¼çµæœã€‚&lt;/p>
&lt;h3 id="github">GitHub&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://github.com/session" target="_blank" rel="noopener"
>https://github.com/session&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">login&lt;/span>&lt;span class="o">=&lt;/span>test@test.com&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="nv">password&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1234&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="microsoft">Microsoft&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://login.live.com/ppsecure/post.srf" target="_blank" rel="noopener"
>https://login.live.com/ppsecure/post.srf&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">login&lt;/span>&lt;span class="o">=&lt;/span>test@test.com&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="nv">passwd&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1234&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ibm-cloud">IBM cloud&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://cloud.ibm.com/login/doLogin" target="_blank" rel="noopener"
>https://cloud.ibm.com/login/doLogin&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;test@test.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nt">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1234&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>çœ‹ä¾†æœ‰å¯¦ä½œçš„æ˜¯å°‘æ•¸ï¼Œé‚£è³‡å®‰å» å•†å‘¢ï¼Ÿè³‡å®‰å» å•†è‡ªå·±æœ‰åšå—ï¼Ÿ&lt;/p>
&lt;p>&lt;strong>è³‡å®‰å» å•†&lt;/strong>&lt;/p>
&lt;h3 id="kaspersky">Kaspersky&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://eu.uis.kaspersky.com/v3/logon/proceed" target="_blank" rel="noopener"
>https://eu.uis.kaspersky.com/v3/logon/proceed&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;login&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;test@test.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nt">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;12345678&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è¶¨å‹¢">è¶¨å‹¢&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://sso1.trendmicro.com/api/usersigninauth" target="_blank" rel="noopener"
>https://sso1.trendmicro.com/api/usersigninauth&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;email&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;test@test.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nt">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;12345678&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="tenable">Tenable&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://cloud.tenable.com/session" target="_blank" rel="noopener"
>https://cloud.tenable.com/session&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nt">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1234&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="proton">Proton&lt;/h3>
&lt;p>é€™å€‹æ‡‰è©²ä¸ç®—è³‡å®‰å» å•†ï¼Œä½†çªç„¶å¾ˆå¥½å¥‡å¼·èª¿éš±ç§çš„ Proton æ˜¯æ€éº¼åšçš„ï¼Œä¸€çœ‹ç™¼ç¾å¥½åƒå¾ˆè¤‡é›œã€‚&lt;br>
åœ¨ç™»å…¥çš„æ™‚å€™æœƒå…ˆæŠŠ username é€éå»ï¼Œæ‹¿åˆ°ä¸€äº›çœ‹èµ·ä¾†æ˜¯ key çš„æ±è¥¿ã€‚&lt;/p>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://account.proton.me/api/auth/info" target="_blank" rel="noopener"
>https://account.proton.me/api/auth/info&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;Username&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;test@test.com&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Code&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">1000&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Modulus&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA256\n\nu9K5yr97L9VV2ijOSI62tJcewUiRhQa8qJa24baNpGyw0lf3JLiF4fxUHqTErwF9UdoxE0z4Kb147naphylBFddyKsjhzHNcxk2rBw9haiPxD69BrVYm0n+LVlPqmjXFF7btr1H7oqHGX4b4Dy9omL/KaZz/Dco2NEhw0UBhEZbTAs6Ch01ur9XLbSOI7yb6MRsqCehfy82gDTdbPtXvqQsQjg5XoC2Ib2qTYFaU/24mq/gOaMbVuAGX0hBYzr5NpN9ol2XCdHOLg28Xe90+kisg39VV04axy7Ndvh489dC1CxjcWSSpXd6cPJyOn/HH9aPeTZeucBllRGbPgwR6/w==\n-----BEGIN PGP SIGNATURE-----\nVersion: ProtonMail\nComment: https://protonmail.com\n\nwl4EARYIABAFAlwB1j0JEDUFhcTpUY8mAAD1GwEAoC91QCSfXPEuWM13NZvy\nvL9NQIABuSrVOvgJwMhUTnUBAPb4zbIdTYFOQNrPLvonJt2mmRNy4lGcW7uN\n5yHzJ18J\n=Oykn\n-----END PGP SIGNATURE-----\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;ServerEphemeral&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;DY6eRYM1bqYZZ5jzZFdWv88tKYP2PnS0y4A+f7/eqMXj8wB2VefV2kfIDrZ5AorWfDzBq4wMtNG2k5dzbT2qWppzpvltrSl2Nm4i8eWIRVxXWHl/46dGuPXFHUcXBNMP3XEQvft0YEbHOPO9Es0RZRaObV5XPFyx6kzOJxXc1tIt4PfbhODMfsAoy/yxt6eLN3HUiORCBOvzsH2sfG99Gx1YSAe3GL6g/K+bdg59eglueXRESoB0/VFRsvQevi9nVXx/JZNTG0U4BBUOlMjpYYMgEP6eQgZZ/09ZPYD3a2tW65mSnNt6lSDfwiKj02UuDqymTvj7mYm44T0SuAocwg==&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Salt&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;dI7OcD+K4rGPBA==&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;SRPSession&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;3fa6224285409b6af07c811971e05341&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—è¼¸å…¥å¯†ç¢¼ç™»å…¥æ™‚ï¼Œæœƒé€å‡ºå¦‚ä¸‹çš„ requestï¼Œçœ‹èµ·ä¾†ä¹Ÿå¾ˆè¤‡é›œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;ClientProof&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;I9Nfd0Nd3OzODf2nt9zLxFHWogEwfRje8zjoeZnblyLfyzz23uXTjJ4qgRFomjIEEtZrlM1jTQa4wRIMGIIV7E6pMqq8c6wcc2tegP4Xt76S0EbnVtE1F9i0Wj46aCPUM0Mha3Zmgi9LKerrGlaftr2FBedjPFT9rPrbLqRQcFNMD33tn69gD/p28q4RAr3/7d/tz7TYhytD5oxCAUwrkqiZOi0kg//2mUJ9YNT2nWcgqUERoaU51NbNMcaPnMteEe1PlIJdiQbvNa5K07u8rk7itpBrGW2FP26bREp0UMTzNYM5HcDDkmp4dp9GoBjFJL9n0THUdt/oRRJ/Enj5WQ==&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;ClientEphemeral&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;D013N7FXYHylqMeWa6ctJIv3J4uF1hqodyYfw6O+Sj7MZOIB+wksfgk/nkXCmRxQhuSYwqwMJIpyFD3MEolOZAHMU2n6HQlxe9A4KbrE4gk3UiGwfgcZDmFejTmMMxfWhf4zO2Z1fBbohreqwwN0mz3AqqsfE5dsDh3LEfkiJB449YGZfHeUHyIzS1jTmnx/8l6uVSKwJDCJelVFYKMXrxVt0ltcGRoYD92MUj82kR0am+BN4+djHyYYXuwuIYArnTW4kDP3T2yCIAMVgZnFaUCc2gfynt40mQP4q87jmMELOl8TDIDo5iKyH4gJc/470qIuIyj4ffVLiZ7t8S+kcw==&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;SRPSession&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;3fa6224285409b6af07c811971e05341&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Username&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;test@test.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Payload&amp;#34;&lt;/span>&lt;span class="p">:{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;qcA_CRYU6gSyHWdn&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;c6UZSKPo4Sfm/3+DvQN72TTxyj+/TplKT9edDiUI5wMfGUsoJs9FGerOtkoW8T49r7KOvqHkzS2+M2v8ra7J9l5kSf5jgC9ZvgZ8Ja5Xgg02nxgAABydOirGLoL4htFsYVtwLrNg8NeSEanLwYLCVaSqkjANRJks0eaKpUOd8xRhCFtUH/GCbyg27oZfzDsqKXemKprOUsOh42NTqzEmruAkxs2x8mUsLy/vXptVAdaiJLrsSRqD0YBGjvOp4W2/0g6V2zfedJpJEzVwtSi1vXTC5bwxmEJlYdV9AiQECogAAJFxLQi7JjtmgFe4tNcv97JD0B8giZ6XS35swjz0vz0mOjVBUwmiDa8n54Y5kBaAoZe5pijdp2S4SOcRAknDIcD1nf0v7oSMOE9WtH/sa+XI1D2s5lFKo/iInf7r5R9src2hHFoy0b2XT0oCfLPwFX87yjaKbf7bbkjByx/3dOgzEliAkS6nHK+fmeDDVM4EoZqVSKZHLg3QTcg4DKaICyDsotALr2UqI/ARzkX4yhAXz5xHFaxl6hWAKLJPJcgk6il6oX0s0PCBNSY0Fi3vbQvXD4WalUx+LBNto6CUqeAIzVuAh8sCubzufoSORypE5WqfnuJzAlZ9sMEjaQycuRi497aV3jmjgx53UwO0OiZGxDTEMFBcov4P0g1blZ4vxmULhZU0RfdP31udLr6GTCAB90CM6Vk9w9CsYM+hmo3+JpEAtIVgLVVqcPikTbV+yaOJ1RknxBf3g06kTl0LQ+zBV6pG2rFVi8G4XT9L4FsIgxTNsl/ryzs8vJU7K+HvyE1Lp2pAXrfcju7TAIqK/FOXvp1c8Ay9O6d4fmd/PZalnRDv5mQ6Gmd6JSNzNh6i6AibBuF13w3OBaulY3FGNU/cH/AXLBIqjSzf/OySwkKkC9HBurSs3D0zqcH9BwUpmPEL8jbc8yPE+hPAim+tDo1BXCQNClxgGLaI6FXkuCiQ4AHiKsq0xs5b3WAFzcvBv1rc003RWxRegH/2teIooKU9w1kDPQRaK8/rIYe8u+BlBeZq4OwCXxx56JHfmTxtJwBi95KqsWzLGtY3ILcb+/XkzSRmE2TWbkW1IXzRsl8F6NSJj7JnHA3UrQf4hxuwbaYxpKJrcHuHc8e1wxqXrUSKooCOUxwSBgxvLLT37eaByNTxpfWomxIsH671wuydnmMedWyNIqyaMtxBORuiWUiG4jbMC2BjrVptXJ7VWigf3Vy5OQlMOyTx8tLWi1qZODYyywMBAvHYQlFfSqmIrm4y4dmK/srJE/+daEnNS+kWF48Jm/rQORO5AUwqWL+Lefg9pchcL1BnHOANcviO8pAkxLo8TiK7VLKI5/xUsZQoQSlhRt27zMF+sIv+exY375HApiY+a1VQ6OqE4Nvba7O8ETLoLFg4a8Aj+W8erXFHW5F0vVIRphAve9orM4QYnAmOigFAiLb0Pxx124wUjFR9s5oP98hAtNL/t+uGAXrb0oxiCfyHb9wa2Qb0x6o9FpuBIc5ZXId+cEXEvOdqhnUQ7ZuOi/fX81hlqgUaiD/A6P+zjAcREXdktd+hrhSXwCIKSBkp/mNymnalQKJkLaNVT+W2sOWqXxTSTIytCQx36xABcj1BXRApntob6Qvche8QJLTjzr9bDpn+Mo59N9PSU51DPIj5Avre6ChTHEQvjz9s1IM2XroBX/KFBnPj33aYQZyov4uxrVXxic+fiY+fLMF8x1ut/eNWeQU6fn+rU5PEGQ9bbAsjVBZYA5H93ROhO5lnSxoEk5PHkgQ9WpxueckPjJIUGAs+O8QMRFicccfKjhNIc32rXTqbVqLyoz62riDn8Y18MUBoeI8ORyqZOKEEBFsi5dwqoq8t82NFdx5LFjsLdk4RmMXZ2uygNLk8gH2Yyfu3iOQS2bKtNCW42Xmo66Xu5kt8NwAneYQK0mTn6HUv94K10J4hY+Q=&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è£œå……ï¼šç¶“è¨è«–ä¸²æœ‰äººæé†’å¾Œç™¼ç¾é€™æ˜¯ä¸€å€‹å«åš SRPï¼ˆSecure Remote Passwordï¼‰çš„å”è­°ï¼ŒProton æœ‰æä¾›ä¸€å€‹ &lt;a class="link" href="https://proton.me/static/9f5e7256429a2f674c943c5825257b82/protonmail_authentication_excerpt.pdf" target="_blank" rel="noopener"
>ProtonMail Security Features and Infrastructure&lt;/a>ï¼Œè£¡é¢æœ‰è¨˜éŒ„ä»–å€‘çš„å®‰å…¨æªæ–½ï¼Œå°±æœ‰è¬›åˆ°é€™å€‹æ©Ÿåˆ¶ã€‚&lt;/p>
&lt;p>çœ‹èµ·ä¾†æ»¿è¤‡é›œè¦èŠ±ä¸å°‘æ™‚é–“ç ”ç©¶ï¼Œå…ˆæ”¾è‘—ï¼Œæœ‰èˆˆè¶£çš„å¯ä»¥åƒè€ƒï¼š&lt;a class="link" href="https://blog.amis.com/srp-1f28676aa525" target="_blank" rel="noopener"
>SRPâ€Šâ€”â€Šæ›´å¥å…¨çš„ç™»å…¥åŠè³‡æ–™å‚³è¼¸ä¿è­·å”è­°&lt;/a>&lt;/p>
&lt;p>é›–ç„¶æ›´å®‰å…¨ï¼Œä½†æˆæœ¬æ‡‰è©²åˆæ›´é«˜äº†ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="äº¤æ˜“æ‰€èˆ‡éŠ€è¡Œ">äº¤æ˜“æ‰€èˆ‡éŠ€è¡Œ&lt;/h2>
&lt;p>çœ‹å®Œä¸Šé¢æ¡ˆä¾‹ç™¼ç¾æœ‰åšçš„æ˜¯å°‘æ•¸ï¼Œå› æ­¤æˆ‘å¥½å¥‡æ›´æ³¨é‡å®‰å…¨çš„åŠ å¯†è²¨å¹£äº¤æ˜“æ‰€èˆ‡å‚³çµ±éŠ€è¡Œæœ‰æ²’æœ‰åšã€‚&lt;/p>
&lt;h3 id="binance">Binance&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://accounts.binance.com/bapi/accounts/v2/public/authcenter/login" target="_blank" rel="noopener"
>https://accounts.binance.com/bapi/accounts/v2/public/authcenter/login&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;email&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;test@test.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;fe2e6b4138fcd7f27a32bc9af557d69a&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;safePassword&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;d404559f602eab6fd602ac7680dacbfaadd13630335e951f097af3900e9de176b6db28512f2e000b9d04fba5133e8b1c6e8df59db3a8ab9d60be4b97cc9e81db&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="coinbase">Coinbase&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://login.coinbase.com/api/v1/authenticate-credentials" target="_blank" rel="noopener"
>https://login.coinbase.com/api/v1/authenticate-credentials&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;email&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;test@test.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1234&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="kraken">kraken&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://www.kraken.com/api/internal/account/settings/tfa" target="_blank" rel="noopener"
>https://www.kraken.com/api/internal/account/settings/tfa&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="nt">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nt">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1234&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç‰å±±éŠ€è¡Œ">ç‰å±±éŠ€è¡Œ&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://ebank.esunbank.com.tw/fco/fco08001/FCO08001_Home.faces" target="_blank" rel="noopener"
>https://ebank.esunbank.com.tw/fco/fco08001/FCO08001_Home.faces&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">loginform:custid&lt;span class="o">=&lt;/span>A0000...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">loginform:name&lt;span class="o">=&lt;/span>&lt;span class="nv">mxagZmaqygDx0XX6784Svw&lt;/span>&lt;span class="o">==&lt;/span>__NgZQcFfAx+lQmPza2eNpOA&lt;span class="o">==&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">loginform:pxsswd&lt;span class="o">=&lt;/span>8,lIRnuUxw/yStOt9QIYG2U3Gn2XkG03x4Ey/UU6JGtsbUxfRXoAv9CjE3EWerDN3tfx3dD/B3ChLAPMSG2BA3jMXUCZC06y8UbQ5isKc9fCWZSSZAWWcOmJ7LdXw1ZhjV55hpw1upvAr9WEmZ0XF6x7if+dBxJ4KZ00d83qA9eA+3VaSk+JLhN8/CFBfTKTfJEs3PDNsm12XzRUBb4YE1aPQosVX10mdvh3zY5lmkrKuq8gnuImEf3oLOk4EF3eVpr6jJiFzMKlHybvGdtKYS25+pgTS68wn3v023barbSmgivcv5atm0XsyXWDY2dKEtdQz+7A6R+AB0bExbQlRjqQ&lt;span class="o">==&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åœ‹æ³°ä¸–è¯">åœ‹æ³°ä¸–è¯&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://www.cathaybk.com.tw/MyBank/Quicklinks/Home/NormalSignin" target="_blank" rel="noopener"
>https://www.cathaybk.com.tw/MyBank/Quicklinks/Home/NormalSignin&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">CustID&lt;/span>&lt;span class="o">=&lt;/span>A000...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">UserId&lt;/span>&lt;span class="o">=&lt;/span>DC0C6E52BE2A2354C53401207F220F1B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Password&lt;/span>&lt;span class="o">=&lt;/span>8cf5e1977f149ed0362629007a7f91d0efc7b12cb1895ba701c528a12b38d12f8148ca03ee671fe25d2a3a807be980f7728566e359a675734ce046899b147658388bb60f9b900e2ccc9adac280b54b5f2e28cb7eee1b634d0e1ed1c0c0c598c350f61eb003405559331a7f047add7289466bf42cfd5b9e774a1fa116af4fd7050adb8f174d42a8e2098a014a788bd2ffae3bf4ff7a8d8d7e2e8068402fda395da41be6e5d32f2d32cbee2afc26e82c58b60357b5cb186a3b9cf69df2deb9da8c9fde45337935180cb4e177109413d7a758d38bfc8334a4509d8d8fb6a37080f0e0086b4a5ef68f7809ca2ef97183b7f66d996873bb7dbfcee61d2da424b8b968
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä¸­åœ‹ä¿¡è¨—">ä¸­åœ‹ä¿¡è¨—&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://www.ctbcbank.com/IB/api/adapters/IB_Adapter/resource/preLogin" target="_blank" rel="noopener"
>https://www.ctbcbank.com/IB/api/adapters/IB_Adapter/resource/preLogin&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;rqData&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;custId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;A00....&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;pin&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;878dbee38bbb4d77a30ee128f55f7bfe2169e45380d62a75453d3ca175e8ce8b|43d0499147b62adeec4eef3c77d33171b4569d0bdf7bbbe2b8b9bde3d30a26aba69aadfb28dfbaa9a997a0ccf668aaab0b6da582275175272172569a58a60bbfc5ac3a8c6862ce31f86247d7c1adf307e363c0f251fb88c4d39afa6ed0ca0a49e053f4f90000fa77b4e78beaead72ebdf52a13ecb4f20ae9a532947fad8156d5ec69d6763243364e71659079e469d1e01d0c384b0c71f4e9e524890227d82a51a340ef0b48638e05e347d75cb93d4a825a2bce6a90ef47f512351ee2d0d1ea17fb8afd521e427578603ea775191711f81d8dcb18e46b72daf3a49a60e50d12d3887e3bafab3758730f7fb0276373ebe1da01a03162ec8e73a202091a51b7f88d&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;userId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;bfcdb9b2d6896a3bfb4a6542e8fb2689486d000b11bdc0c7bc336a6534aec74c|1b1a758bb26702bc0ac7cd660da2a72866f2cfdcf3668f2d39a5f8b006854f52a08f418b0a460b36374f95b7a310d73ea9994788698041f524ecd1f153448ab5d51f901a9a08ac2a9ee04c5c273ecb9d4ec1b6a62e9696c6126271e2f8c334fe17ce8b8538139363b90be75c1130cb251ec240bd26c920b52f5be9fc59094ce7d935d826242d69dc1ff7047a5abbf11d3c7de639a14bb10230912903cd948c05b3b3cb0cdb100f979640e291774e623a7109bde7b55bb8a6a373c0ca12820b072132ea61c845e60e26d09c7ee0fe23f7de286cbccb067a86fd1985c5b455f9ae46ce24dc8f52bcb05c205d6a462345162ae82c35e045bf3fd43a297c3edcfe17&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç¾åœ‹éŠ€è¡Œ">ç¾åœ‹éŠ€è¡Œ&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://m.globalcard.bankofamerica.com/pkmslogin.form" target="_blank" rel="noopener"
>https://m.globalcard.bankofamerica.com/pkmslogin.form&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">username&lt;/span>&lt;span class="o">=&lt;/span>fcc63767-1a43-4cc6-8c3e-1346350b5274
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">password&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">12345678&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ–°åŠ å¡æ˜Ÿå±•éŠ€è¡Œ">æ–°åŠ å¡æ˜Ÿå±•éŠ€è¡Œ&lt;/h3>
&lt;p>API ç¶²å€ï¼š&lt;a class="link" href="https://internet-banking.dbs.com.sg/IB/Welcome" target="_blank" rel="noopener"
>https://internet-banking.dbs.com.sg/IB/Welcome&lt;/a>&lt;/p>
&lt;p>è«‹æ±‚å…§å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">USER_LOGON_NAME&lt;/span>&lt;span class="o">=&lt;/span>test123
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">ENCRYPTED_PIN_BLOCK&lt;/span>&lt;span class="o">=&lt;/span>A8C48B7572A1A53C5A66E9B43365027C7FBF14BF461F480A46781E49648A8F70271A29C374F86FCD55A76ED17B2284B47C799B74475F29749D68631FF7E322177A21EEE8C41D8950638A2828C34A2653D7C9F69F5DA568E42D64CE89FCE8F024217B235835E6F8BC3C536F56361EDF459AFCE9A512BDBACAB2D25423209996C2E84A18EA8446685DAF9FAD4B1D6D8DF0F378EC27D9A81AD4D1A2B91BA3CFD838140A9BD48AD8D38D33B0093110BD1CA2C76F3DE4CBD969A9B0260DB890E9B1A99DC1193BFE9A1EDB3E56F71CB1CD8630558B242B040F733A4A40B2E17DE6DA03A58DEC8BB12DA87BB25971E2DBE5AF7AE6112266A3F9027B449BDF46D8DC0A1A
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="çµè«–">çµè«–&lt;/h2>
&lt;p>åœ¨éš¨æ©Ÿæƒ³åˆ°çš„ 20 å€‹ç¶²ç«™ä¸­ï¼Œæœ‰ 7 å€‹æœ‰åœ¨å‰ç«¯åšåŠ å¯†æˆ–æ˜¯ hashï¼ˆæˆ‘æ‡¶å¾—çœ‹æ˜¯å“ªå€‹äº†ï¼Œç¸½ä¹‹æœ‰åšäº‹å°±å°äº†ï¼‰ï¼Œåå–®æ˜¯ï¼š&lt;/p>
&lt;ol>
&lt;li>Facebook&lt;/li>
&lt;li>Proton&lt;/li>
&lt;li>Binance&lt;/li>
&lt;li>ç‰å±±éŠ€è¡Œ&lt;/li>
&lt;li>åœ‹æ³°ä¸–è¯&lt;/li>
&lt;li>ä¸­åœ‹ä¿¡è¨—&lt;/li>
&lt;li>æ–°åŠ å¡æ˜Ÿå±•éŠ€è¡Œ&lt;/li>
&lt;/ol>
&lt;p>é›–ç„¶èªª 35% çœ‹èµ·ä¾†å¾ˆé«˜ï¼Œä½†é‚£æ˜¯å› ç‚ºéŠ€è¡Œä½”äº†å¤§å¤šæ•¸ï¼Œä¸€èˆ¬ç¶²ç«™å‰‡æ˜¯å¾ˆå°‘å¯¦ä½œé€™å€‹æ©Ÿåˆ¶ã€‚&lt;/p>
&lt;p>å¯«åˆ°é€™é‚Šï¼Œå¯ä»¥ä¾†ä¸‹çµè«–äº†ã€‚&lt;/p>
&lt;ul>
&lt;li>ç¬¬ä¸€å€‹çµè«–æ˜¯ï¼š&lt;/li>
&lt;/ul>
&lt;p>ã€Œåœ¨ client ç«¯å‚³é€å¯†ç¢¼å‰å…ˆæŠŠå¯†ç¢¼åŠ å¯†æˆ–æ˜¯ hashï¼Œç¢ºå¯¦èƒ½å¤ å¢åŠ å®‰å…¨æ€§ã€&lt;/p>
&lt;p>ç†ç”±æ˜¯åšäº†ä»¥å¾Œï¼Œèƒ½å¤ é”æˆä»¥ä¸‹äº‹é …ï¼š&lt;/p>
&lt;ol>
&lt;li>HTTPS å› ç‚ºå„ç¨®åŸå› å¤±æ•ˆæ™‚ï¼Œæ”»æ“Šè€…ç„¡æ³•å–å¾—æ˜æ–‡å¯†ç¢¼&lt;/li>
&lt;li>åœ¨ Server ç«¯ï¼Œæ²’æœ‰ä»»ä½•äººçŸ¥é“ä½¿ç”¨è€…çš„æ˜æ–‡å¯†ç¢¼&lt;/li>
&lt;li>æ˜æ–‡å¯†ç¢¼ä¸æœƒå› ç‚ºäººç‚ºå¤±èª¤è¢«è¨˜éŒ„åˆ° log ä¸­&lt;/li>
&lt;/ol>
&lt;p>ä»¥ä¸Šéƒ½æ˜¯æ²’æœ‰åœ¨ client åŠ å¯†æˆ–æ˜¯ hash æ™‚åšä¸åˆ°çš„ã€‚&lt;/p>
&lt;ul>
&lt;li>ç¬¬äºŒå€‹çµè«–æ˜¯ï¼š&lt;/li>
&lt;/ul>
&lt;p>ã€Œç¢ºå¯¦æœ‰äº›å¤§å…¬å¸æœ‰åšé€™å€‹æ©Ÿåˆ¶ï¼Œä½†æ˜¯éå¤§å¤šæ•¸ï¼Œä¸éåœ¨éŠ€è¡Œæ¥­ä¼¼ä¹æ˜¯ä¸»æµã€&lt;/p>
&lt;p>é€™å€‹çµè«–ä¸Šé¢æœ‰è²¼å®Œæ•´çš„è³‡æ–™äº†ï¼Œä¸€èˆ¬çš„ç¶²ç«™å¾ˆå°‘åšé€™å€‹æ©Ÿåˆ¶ï¼Œä½†é‚„æ˜¯æœ‰äººåšã€‚&lt;/p>
&lt;ul>
&lt;li>ç¬¬ä¸‰å€‹çµè«–æ˜¯ï¼š&lt;/li>
&lt;/ul>
&lt;p>ã€Œé›–ç„¶å¾æŠ€è¡“ä¸Šä¾†çœ‹èƒ½å¤ å¢åŠ å®‰å…¨æ€§ï¼Œä½†å¯¦éš›ä¸Šæ˜¯å¦å¯¦ä½œï¼Œä»ç„¶è¦è€ƒæ…®å…¶ä»–å› ç´ ã€&lt;/p>
&lt;p>é€™å› ç´ å°±æ˜¯æˆ‘å‰é¢æéçš„ã€Œå¯èƒ½æ€§ã€é‚„æœ‰é–‹é ­æˆ‘è¬›å…ˆä¸è«‡çš„ã€Œæˆæœ¬ã€ã€‚&lt;/p>
&lt;p>è‹¥æ˜¯çœŸçš„æ¯”è¼ƒå®‰å…¨ï¼Œç‚ºä»€éº¼ä¸€èˆ¬ç¶²ç«™ä¸æœƒå¯¦ä½œé€™å€‹æ©Ÿåˆ¶ï¼Ÿ&lt;/p>
&lt;p>æˆ–è¨±æ˜¯å› ç‚ºè¦ºå¾— HTTPS è¢«æ”»ç ´çš„å¯èƒ½æ€§å¤ªä½ï¼Œä½åˆ°å¯ä»¥å¿½ç•¥ä¸è¨ˆï¼ˆæˆ‘ç›¸ä¿¡é€™æ˜¯å¤§å¤šæ•¸ç•™è¨€çš„äººè¦ºå¾—ä¸éœ€è¦åšçš„ç†ç”±ï¼Œæˆ‘ä¹ŸåŒæ„é€™é»ï¼‰ï¼Œä¹Ÿæˆ–è¨±æ˜¯æˆæœ¬å¤ªé«˜ï¼Œæœƒå¢åŠ ç¨‹å¼ç¢¼è¤‡é›œåº¦ï¼›è‹¥æ˜¯æ¡ç”¨åŠ å¯†çš„æ–¹æ¡ˆï¼Œä¹Ÿæœƒæ¶ˆè€—æ›´å¤šé‹ç®—çš„è³‡æºåœ¨åŠ è§£å¯†ä¸Šé¢ï¼Œé€™ä¹Ÿæ˜¯æˆæœ¬ã€‚&lt;/p>
&lt;p>é€™å°±æ˜¯æˆ‘è¦ºå¾—æ‡‰è©²è¬›æ¸…æ¥šçš„åœ°æ–¹ã€‚&lt;/p>
&lt;p>åœ¨å‰ç«¯å…ˆåš hash æˆ–æ˜¯åŠ å¯†ï¼Œå®ƒç¢ºå¯¦æ˜¯æœ‰å„ªé»çš„ï¼Œä¸æ˜¯å¤šæ­¤ä¸€èˆ‰ï¼Œä¹Ÿä¸æ˜¯æ²’æœ‰æ„ç¾©ï¼Œæ›´ä¸æ˜¯è®“ç³»çµ±è®Šå¾—æ›´å±éšªã€‚&lt;/p>
&lt;p>ä½†é€™ä¸ä»£è¡¨æ¯å€‹ç³»çµ±éƒ½è©²å¯¦ä½œé€™å€‹æ©Ÿåˆ¶ï¼Œå› ç‚ºå®ƒå¸¶ä¾†çš„æ•ˆç›Šæˆ–è¨±æ²’æœ‰æˆæœ¬é«˜ï¼Œé€™å€‹ç«¯çœ‹å„å€‹å…¬å¸çš„è€ƒé‡ã€‚å°å¤§éƒ¨åˆ†çš„å…¬å¸ä¾†èªªï¼Œèˆ‡å…¶ç‚ºäº† HTTPS å¤±æ•ˆé€™å€‹æ¥µä½çš„å¯èƒ½æ€§å»æŠ•å…¥æˆæœ¬ï¼Œä¸å¦‚æŠŠæ™‚é–“èŠ±åœ¨åŠ å¼·å…¶ä»–ç™»å…¥ç’°ç¯€çš„å®‰å…¨æ€§ï¼ˆä¾‹å¦‚èªª 2FA å•¦ï¼Œæˆ–æ˜¯ä¸åŒè£ç½®ç™»éŒ„è­¦å‘Šç­‰ç­‰ï¼‰ï¼Œå¸¶ä¾†çš„æ•ˆç›Šæœƒæ›´é«˜ã€‚&lt;/p>
&lt;p>æœ‰äº›æœå‹™é‚„æœƒé¸æ“‡æŠŠæ•´åŒ… request éƒ½åŠ å¯†ï¼Œè€Œéåªæœ‰å¯†ç¢¼ï¼Œé€™å€‹åˆæ›´å®‰å…¨ä½†æ˜¯æˆæœ¬åˆæ›´é«˜ï¼Œè€Œä¸” debug å¾ˆä¸æ–¹ä¾¿ã€‚é›–ç„¶èªªæ—¢ç„¶åŠ å¯†åšåœ¨ client ç«¯ï¼Œæ”»æ“Šè€…ä¸€å®šæœ‰è¾¦æ³•é€†å‘é€™å€‹æ©Ÿåˆ¶ï¼Œçœ‹å‡ºæ˜¯æ€éº¼åšçš„ï¼Œä½†é€™ä¸ä»£è¡¨é€™äº›æ©Ÿåˆ¶æ²’å¹«åŠ©ã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œå‡è¨­æˆ‘æœ‰å€‹æ¶ç¥¨ App ä¸æƒ³è®“åˆ¥äººçŸ¥é“ API æ€éº¼å‘¼å«ï¼Œæ–¼æ˜¯å°±å¯¦ä½œäº†ä¸€å€‹è¶…è¤‡é›œçš„åŠ è§£å¯†æ©Ÿåˆ¶ï¼Œå„˜ç®¡é«˜æ‰‹é‚„æ˜¯å¯ä»¥åšé€†å‘å·¥ç¨‹ï¼Œå¯«å‡ºä¸€å€‹æ¶ç¥¨æ©Ÿå™¨äººï¼Œä½†é€™å€‹æ©Ÿåˆ¶å¢åŠ äº†ä»–çš„æ™‚é–“æˆæœ¬ä»¥åŠå°æŠ€è¡“çš„è¦æ±‚ã€‚&lt;/p>
&lt;p>ä»¥æŠ€è¡“ä¸Šä¾†èªªï¼Œå°±ç®—ç†è«–ä¸Šä¸€å®šæœƒè¢«ç ´è§£ï¼Œé€™äº›æ©Ÿåˆ¶é‚„æ˜¯æœ‰æ„ç¾©çš„ï¼Œå®ƒçš„æ„ç¾©åœ¨æ–¼å¢åŠ ç ´è§£é›£åº¦ï¼ŒåŠ æ®¼ã€æ··æ·†éƒ½æ˜¯ä¸€æ¨£çš„ï¼Œä¸æœƒå› ç‚ºã€Œåœ¨ client ç«¯çš„æ±è¥¿ä¸€å®šæœƒè¢«çœ‹ç©¿ã€è€Œä¸å»åšé€™äº›æ©Ÿåˆ¶ã€‚&lt;/p>
&lt;p>é‡é»åœ¨æ–¼ä½ æƒ³ä¿è­·çš„å•†æ¥­é‚è¼¯çš„åƒ¹å€¼ï¼Œæœ‰æ²’æœ‰é«˜åˆ°ä½ éœ€è¦ä»˜å‡ºé€™äº›æˆæœ¬å»åšé¡å¤–çš„å®‰å…¨æ©Ÿåˆ¶ã€‚&lt;/p>
&lt;p>æœ€å¾Œï¼Œå¦‚æœä½ éœ€è¦ä¸€å€‹æ¢åˆ—å¼çš„ç°¡å–®çµè«–ï¼Œæœƒæ˜¯ï¼š&lt;/p>
&lt;ol>
&lt;li>ç„¡è«–å¦‚ä½•ï¼Œä¸€å®šè¦å…ˆç”¨ HTTPS&lt;/li>
&lt;li>åœ¨å‰ç«¯å…ˆæŠŠå¯†ç¢¼åšåŠ å¯†æˆ–æ˜¯ hash å¾Œå†å‚³é€ï¼Œèƒ½å¤ å¢åŠ å®‰å…¨æ€§ï¼Œä½†åŒæ™‚ä¹Ÿå¸¶ä¾†ä¸å°‘æˆæœ¬&lt;/li>
&lt;li>å¦‚æœä½ æ˜¯éŠ€è¡Œæˆ–éœ€è¦åŒç­‰å®‰å…¨æ€§ï¼Œå†ä¾†è€ƒæ…®è¦ä¸è¦åšé€™å€‹ï¼Œå¦å‰‡æ¥µå¤§å¤šæ•¸çš„ç‹€æ³ä¸‹ï¼Œä½ ä¸éœ€è¦é€™å€‹æ©Ÿåˆ¶å°±å¤ å®‰å…¨äº†ï¼Œè³‡æºæŠ•å…¥åœ¨å…¶ä»–åœ°æ–¹çš„æ•ˆç›Šæœƒæ›´å¤§&lt;/li>
&lt;/ol>
&lt;p>è‹¥æ˜¯å°é€™å€‹çµè«–æœ‰ä¸åŒæ„è¦‹ï¼Œæˆ–æ˜¯æœ‰åœ¨æ–‡ç« ä¸­ç™¼ç¾å“ªäº›é‚è¼¯éŒ¯èª¤æˆ–æŠ€è¡“éŒ¯èª¤ï¼Œæ­¡è¿ç•™è¨€æŒ‡æ­£èˆ‡è¨è«–ï¼Œæ„Ÿæ©ã€‚&lt;/p>
&lt;p>è£œå……ä¸€ä¸‹ï¼Œé€™ç¯‡å¤§å¤šæ•¸å¾æŠ€è¡“é¢ä¾†çœ‹ï¼Œé™¤æ­¤ä¹‹å¤–é‚„å¯ä»¥å¾æ³•éµé¢æˆ–æ˜¯è³‡å®‰çš„å¯¦å‹™ç¶“é©—ä¾†çœ‹ï¼Œä½†é€™äº›é¢å‘æˆ‘å°±é›¶ç¶“é©—äº†ã€‚è¨±é¡˜ä¸€ä¸‹æœ‰ç›¸é—œç¶“é©—çš„äººå‡ºä¾†æŒ‡é»è¿·æ´¥ï¼Œæˆ–è¨±æœƒæœ‰ä¸åŒè§€é»ã€‚&lt;/p>
&lt;hr></description></item><item><title>ã€Nuxt3ã€‘å¯¦æˆ°ç·´ç¿’ - å¯¦ä½œéƒ¨è½æ ¼</title><link>https://wayneblog.ga/2023-01-16/nuxt-nuxt3-practice-project/</link><pubDate>Mon, 16 Jan 2023 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2023-01-16/nuxt-nuxt3-practice-project/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52630283696_c93e29e870_o.png" alt="Featured image of post ã€Nuxt3ã€‘å¯¦æˆ°ç·´ç¿’ - å¯¦ä½œéƒ¨è½æ ¼" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://medium.com/@mjackson/universal-javascript-4761051b7ae9" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/articles/10292483" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/users/20152617/ironman/5934" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>å¤§å®¶ç¶“é &lt;a class="link" href="https://wayneblog.ga/2023-01-14/nuxt-try-nuxt3/" >ã€Nuxt3ã€‘é–‹ç®±å³ç”¨çš„ Nuxt3 ç©è½‰ç­†è¨˜&lt;/a> é€™ç¯‡æ–‡ç« ï¼Œæ‡‰è©²å°æ–¼ Nuxt 3 æœ‰åˆæ­¥çš„ç†è§£ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘å°‡é€²å…¥å¯¦æˆ°éƒ¨åˆ†ï¼Œæˆ‘å°‡æœƒä»¥ Nuxt 3 ä¾†å¯¦ä½œéƒ¨è½æ ¼ç¶²ç«™ï¼Œè®“å·²ç¶“è¨»å†Šçš„ä½¿ç”¨è€…å¯ä»¥åœ¨ç¶²ç«™ä¸Šç™¼å¸ƒæ–‡ç« ï¼Œå¯¦ä½œé€™å€‹ç¶²ç«™çš„ç¨‹å¼ç¢¼å¯èƒ½ä¸æœƒè¬›è§£å¾—éå¸¸ä»”ç´°ï¼Œä½†ä¸€äº›å¯¦å‹™é–‹ç™¼ä¸Šæœƒéœ€è¦æ³¨æ„çš„ç´°ç¯€æˆ‘æœƒæŠŠå€‹äººç¶“é©—åšä¸€å€‹ç´€éŒ„ï¼Œå¤§å®¶å¯ä»¥å†åƒè€ƒçœ‹çœ‹ï¼Œæ–‡æœ«ä¹Ÿéƒ½æœƒé™„ä¸Šå®Œæ•´çš„ç¯„ä¾‹ç¨‹å¼ã€‚æ¥ä¸‹ä¾†ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼&lt;/p>
&lt;hr>
&lt;h2 id="è³‡æ–™åº«èˆ‡æœƒå“¡ç³»çµ±">è³‡æ–™åº«èˆ‡æœƒå“¡ç³»çµ±&lt;/h2>
&lt;h3 id="è³‡æ–™åº«-database">è³‡æ–™åº« (Database)&lt;/h3>
&lt;p>é€™ç¯‡æ–‡ç« å¯¦ä½œçš„éƒ¨è½æ ¼ï¼ŒæœƒæŠŠæœƒå“¡èˆ‡æ–‡ç« ç­‰è³‡æ–™å„²å­˜æ–¼ä¼ºæœå™¨çš„è³‡æ–™åº«ä¹‹ä¸­ï¼Œå¤§å®¶å¯ä»¥é¸æ“‡è‡ªå·±ç¿’æ…£æˆ–åˆé©çš„è³‡æ–™åº«ä¾†åšå„²å­˜ã€‚ç‚ºäº†æ–¹ä¾¿åŠå¾ŒçºŒçš„å±•ç¤ºï¼Œæˆ‘æœ€çµ‚æ±ºå®šä½¿ç”¨ &lt;a class="link" href="https://www.prisma.io/" target="_blank" rel="noopener"
>Prisma&lt;/a> æ­é…æœ¬åœ°çš„ &lt;strong>SQLite&lt;/strong> ä¾†ç•¶ä½œå„²å­˜é«”ï¼Œè®“å¤§å®¶æ¸¬è©¦æ™‚ä¸ç”¨å†ç…©æƒ±æ€éº¼æ¶è¨­è³‡æ–™åº«ï¼Œå¯ä»¥å¿«é€Ÿçš„åŸ·è¡Œç¯„ä¾‹ç¨‹å¼ç¢¼ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ä½ å¯ä»¥åœ¨è‡ªå·±çš„ Nuxt å°ˆæ¡ˆæˆ–å¾æ–°å°ˆæ¡ˆé–‹å§‹é€²è¡Œï¼Œè‹¥ä½ å·²ç¶“æœ‰è‡ªå·±çš„è³‡æ–™åº«ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è·³éæ­¤æ®µä»‹ç´¹å¾ŒçºŒå¯¦ä½œè‡ªå·±çš„å¾Œç«¯ API ä¾†æ¥çºŒæˆ‘å€‘çš„å¯¦ä½œç³»åˆ—ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="å®‰è£-prisma">å®‰è£ Prisma&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.prisma.io/" target="_blank" rel="noopener"
>Prisma&lt;/a> æ“ä½œèµ·ä¾†å¾ˆåƒ ORM (Object-Relational Mapping)ï¼Œä½†å¯¦éš›ä¸Šä¾æ“š&lt;a class="link" href="https://www.prisma.io/docs/concepts/overview/prisma-in-your-stack/is-prisma-an-orm" target="_blank" rel="noopener"
>å®˜ç¶²çš„èªªæ˜&lt;/a>ï¼Œå…¶å¯¦ä¸å¤§ä¾æ¨£ï¼ŒPrisma é€éæ’°å¯«ä¸¦æ ¹æ“š &lt;code>Schema&lt;/code> ä¾†å»ºç«‹æˆ–æ“ä½œè³‡æ–™åº«ï¼Œåœ¨é€²è¡Œ &lt;strong>CRUD&lt;/strong> çš„æ“ä½œæ™‚ï¼Œéƒ½æ˜¯é€é Prisma Client é€²è¡Œï¼Œé€™ä¹Ÿæ˜¯æœ€æ–¹ä¾¿çš„åœ°æ–¹ï¼Œæ­¤å¤–ä¹Ÿæ”¯æ´å¤šç¨®è³‡æ–™åº«çš„ä¾†æºï¼Œåªè¦æ“ä½œ Model å°±å¯ä»¥æ˜ å°„åˆ°è³‡æ–™åº«çš„è³‡æ–™ï¼Œä¸å†éœ€è¦å¯« SQLï¼Œåœ¨ä¸€äº›æƒ…å¢ƒä¹‹ä¸‹æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œä½¿ç”¨ NPM å®‰è£ &lt;code>prisma&lt;/code> èˆ‡ &lt;code>@prisma/client&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D prisma @prisma/client
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D prisma @prisma/client&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ‰“é–‹çµ‚ç«¯æ©Ÿ (Terminal) æ–¼ Nuxt å°ˆæ¡ˆç›®éŒ„ä¸­ï¼Œ ä½¿ç”¨ä¸‹åˆ—æŒ‡ä»¤ï¼Œåˆå§‹åŒ–ä¸€å€‹ &lt;strong>Prisma&lt;/strong> çš„ &lt;code>Schema&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx prisma ini
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆå§‹åŒ–å®Œæˆå¾Œï¼Œæœƒå»ºç«‹ä¸€å€‹ &lt;code>schema.prisma&lt;/code> æª”æ¡ˆã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630762803_78afc17ebe_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;code>./prisma/schema.prisma&lt;/code> æª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼Œé€™è£¡å°±æ˜¯å®šç¾©æˆ‘å€‘è³‡æ–™åº«ä½ç½®èˆ‡ &lt;code>Schema&lt;/code> çš„åœ°æ–¹ï¼Œä¹‹å¾Œæˆ‘å€‘å°±å¯ä»¥é€é &lt;strong>Prisma&lt;/strong> çš„ &lt;strong>Client&lt;/strong> ä½¿ç”¨ ORM ä¾†æ“ä½œè³‡æ–™åº«ã€‚&lt;/p>
&lt;h5 id="prismaschemaprisma">prisma/schema.prisma&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">// This is your Prisma schema file,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// learn more about it in the docs: https://pris.ly/d/prisma-schema
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">generator client {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> provider = &amp;#34;prisma-client-js&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">datasource db {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> provider = &amp;#34;postgresql&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> url = env(&amp;#34;DATABASE_URL&amp;#34;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘èª¿æ•´ &lt;code>./prisma/schema.prisma&lt;/code> æª”æ¡ˆå…§å®¹ï¼Œå°‡ &lt;code>datasource&lt;/code> æ›¿æ›ç‚º SQLite ä¸¦å„²å­˜åœ¨æœ¬åœ°çš„ &lt;code>./dev.db&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">datasource db {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> provider = &amp;#34;sqlite&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> url = &amp;#34;file:./dev.db&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ä½ ä¹Ÿå¯ä»¥å°‡ provider æ›¿æ›ç‚º PostgreSQL æˆ– MySQL ç­‰ï¼Œå¯ä»¥åƒè€ƒ&lt;a class="link" href="https://www.prisma.io/docs/concepts/database-connectors" target="_blank" rel="noopener"
>é€™è£¡&lt;/a>ï¼Œä½†è¦æ³¨æ„å¯èƒ½å¾Œé¢å®šç¾©çš„ Schema èªæ³•æœƒç•¥å¾®ä¸åŒã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘å®šç¾©ä¸€å€‹ &lt;code>User&lt;/code> çš„è³‡æ–™è¡¨ï¼Œåœ¨ &lt;code>schema.prisma&lt;/code> æ’°å¯«å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">model User {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> id String @id @default(uuid())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> providerName String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> providerUserId String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nickname String @default(&amp;#34;User&amp;#34;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> email String @unique
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> password String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> avatar String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> emailVerified Boolean @default(false)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> createdAt DateTime @default(now())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> updatedAt DateTime @updatedAt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å¼µ &lt;code>User&lt;/code> è³‡æ–™è¡¨ï¼Œå°‡ç”¨ä½œæ–¼éƒ¨è½æ ¼çš„ç™»å…¥ä½¿ç”¨è€…åšä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥è¦–ç‚ºæ˜¯æœƒå“¡ç³»çµ±ä½¿ç”¨çš„è³‡æ–™è¡¨ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥ä¾æ“šéœ€æ±‚ä¾†æ“´å¢æ¬„ä½ï¼Œä»¥ä¸‹ç¨å¾®è¬›è¿°ä¸€ä¸‹å„å€‹æ¬„ä½å°‡ä½œç‚ºä½•ç”¨ã€‚&lt;/p>
&lt;ul>
&lt;li>id: é è¨­ç‚º UUIDï¼Œç‚ºä½¿ç”¨è€…çš„å”¯ä¸€è­˜åˆ¥ã€‚&lt;/li>
&lt;li>providerName: ä½œç‚ºç¬¬ä¸‰æ–¹ç™»å…¥çš„ä¾›æ‡‰å•†è¨˜éŒ„ä½¿ç”¨ï¼Œä¾‹å¦‚è©²åä½¿ç”¨è€…ä½¿ç”¨ Google OAuth è¨»å†Šç™»å…¥ï¼Œæˆ‘æœƒåœ¨æ¬„ä½å°±æœƒå¡«ä¸Š googleã€‚å¦‚æœç‚ºç©ºå€¼ (null) è¡¨ç¤ºä½¿ç”¨è€…ç”¨é›»å­ä¿¡ç®±è¨»å†Šç™»å…¥ã€‚&lt;/li>
&lt;li>providerUserId: èˆ‡ providerName æ­é…ä½¿ç”¨ï¼Œç¬¬ä¸‰æ–¹ä¾›æ‡‰å•†é€šå¸¸ä¹Ÿæœƒæœ‰ä¸€çµ„å°ˆå±¬æ–¼ä½¿ç”¨è€…çš„ Idï¼Œä»¥æ­¤æˆ‘å€‘å°±å¯ä»¥ä¾†æ¯”å°ç™»å…¥çš„æ˜¯å“ªä½ä½¿ç”¨è€…ã€‚å¦‚æœç‚ºç©ºå€¼ (null) è¡¨ç¤ºä½¿ç”¨è€…ç”¨é›»å­ä¿¡ç®±è¨»å†Šç™»å…¥ã€‚&lt;/li>
&lt;li>nickname: ä½¿ç”¨è€…æš±ç¨±ï¼Œé è¨­å€¼ç‚ºå­—ä¸² Userã€‚&lt;/li>
&lt;li>email: ä½¿ç”¨è€…ç™»å…¥çš„é›»å­ä¿¡ç®±ï¼Œé€™è£¡æˆ‘å°‡æ¬„ä½è¨­å®šç‚º @unique è¡¨ç¤ºï¼Œé›»å­ä¿¡ç®±æ˜¯ç³»çµ±ä¸­å”¯ä¸€ã€‚&lt;/li>
&lt;li>password:ä½¿ç”¨è€…å¯†ç¢¼çš„é›œæ¹Šå€¼ï¼Œå¦‚æœä½¿ç”¨ç¬¬ä¸‰æ–¹è¨»å†Šç™»å…¥ï¼Œå‰‡è©²æ¬„ä½ç‚º ç©ºå€¼ (null)ã€‚&lt;/li>
&lt;li>avatar: ä½¿ç”¨è€…çš„é ­åƒï¼Œå­˜æ”¾åœ–ç‰‡ç¶²å€ã€‚&lt;/li>
&lt;li>emailVerified: å¸ƒæ—å€¼ï¼Œé è¨­ç‚º falseï¼Œè¡¨ç¤ºä½¿ç”¨è€…çš„é›»å­ä¿¡ç®±æ˜¯å°šæœªé€šéé©—è­‰ã€‚&lt;/li>
&lt;li>createdAt: ä½¿ç”¨è€…å»ºç«‹æ™‚é–“ï¼Œé è¨­ç‚ºæ’å…¥è©²ç­†è³‡æ–™çš„æ™‚é–“ã€‚&lt;/li>
&lt;li>updatedAt: ä½¿ç”¨è€…æ›´æ–°å€‹äººè³‡æ–™çš„æ™‚é–“ï¼Œé è¨­ç‚ºæ›´æ–°è©²ç­†è³‡æ–™çš„æ™‚é–“ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;code>./prisma/schema.prisma&lt;/code> æª”æ¡ˆå…§å®¹çœ‹èµ·ä¾†å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="prismaschemaprisma-1">prisma/schema.prisma&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">// This is your Prisma schema file,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// learn more about it in the docs: https://pris.ly/d/prisma-schema
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">generator client {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> provider = &amp;#34;prisma-client-js&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">datasource db {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> provider = &amp;#34;sqlite&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> url = &amp;#34;file:./dev.db&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">model User {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> id String @id @default(uuid())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> providerName String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> providerUserId String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nickname String @default(&amp;#34;User&amp;#34;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> email String @unique
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> password String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> avatar String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> emailVerified Boolean @default(false)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> createdAt DateTime @default(now())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> updatedAt DateTime @updatedAt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘èª¿æ•´å¥½ schema å¾Œï¼Œå°±å¯ä»¥åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ï¼Œä¾†åˆå§‹åŒ–è³‡æ–™åº«ï¼ŒPrisma æœƒä¾ç…§ &lt;code>schema.prism&lt;/code> ä¾†å¹«æˆ‘å€‘å»ºç«‹å°æ‡‰çš„è³‡æ–™è¡¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx prisma db push
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630762818_df25ebac5c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>åˆå§‹åŒ–å®Œç•¢å¾Œï¼Œä½ å¯ä»¥ç™»å…¥ä½ çš„è³‡æ–™åº«æŸ¥çœ‹æ˜¯å¦å»ºç«‹æˆåŠŸï¼Œä¹Ÿå¯ä½¿ç”¨ Prisma æä¾›çš„ &lt;a class="link" href="https://www.prisma.io/studio" target="_blank" rel="noopener"
>Prisma Studio&lt;/a> ä¾†å¿«é€Ÿçš„æª¢è¦–èˆ‡æ“ä½œè³‡æ–™åº«å…§çš„è³‡æ–™ã€‚&lt;a class="link" href="https://www.prisma.io/studio" target="_blank" rel="noopener"
>Prisma Studio&lt;/a> å·²ç¶“å…§å»ºåœ¨ prisma å¥—ä»¶ä¸­ï¼ŒåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤å¾Œï¼Œå°±æœƒå•Ÿå‹•ä¸€å€‹ Web æœå‹™ï¼Œå¦‚ &lt;a class="link" href="http://localhost:5555" target="_blank" rel="noopener"
>http://localhost:5555&lt;/a>ï¼Œæˆ‘å€‘å°±å¯ä»¥åœ¨ç¶²é ä¸­æŸ¥çœ‹è³‡æ–™åº«å…§çš„è³‡æ–™å›‰ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx prisma studio
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630533384_49e793de57_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å¯ä»¥åœ¨ &lt;a class="link" href="https://www.prisma.io/studio" target="_blank" rel="noopener"
>Prisma Studio&lt;/a> çœ‹åˆ°æˆ‘å€‘å»ºç«‹çš„ &lt;code>User&lt;/code> è³‡æ–™è¡¨ï¼Œä¹Ÿå°‡æ˜¯æˆ‘å€‘ç¨å¾Œä½¿ç”¨ Prisma æ“ä½œ ORM æ‰€å°æ‡‰çš„ &lt;strong>User Model&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629765912_5000672fc2_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æœ€å¾Œè¨˜å¾—åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ä¾†ç”¢ç”Ÿ Prisma Clientï¼Œé€™æ¨£æˆ‘å€‘å°±å¯ä»¥åœ¨ Nuxt 3 ä¸­ä½¿ç”¨ Prisma Client æ“ä½œè³‡æ–™åº«å›‰ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx prisma generate
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630723465_bd7f83c262_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="nuxt-3-æ“ä½œ-prisma-client-å»ºç«‹ä¸€å€‹ä½¿ç”¨è€…è‡³è³‡æ–™åº«">Nuxt 3 æ“ä½œ Prisma Client å»ºç«‹ä¸€å€‹ä½¿ç”¨è€…è‡³è³‡æ–™åº«&lt;/h3>
&lt;p>æˆ‘å€‘æ¥ä¸‹ä¾†å°±èƒ½ä½¿ç”¨å¦‚ä¸‹ç¨‹å¼ç¢¼å»ºç«‹ Prisma Clientï¼Œå¾ŒçºŒå¯ä»¥ç”¨ä¾†ä¾†æ“ä½œ &lt;strong>Model&lt;/strong>ï¼Œæ›´å¤šçš„ Prisma Client API å¯ä»¥åƒè€ƒ&lt;a class="link" href="https://www.prisma.io/docs/reference/api-reference/prisma-client-reference" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">PrismaClient&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;@prisma/client&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">prismaClient&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">PrismaClient&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å»ºç«‹ä¸€éš» Server APIï¼Œæ–°å¢ &lt;code>./server/api/test-create-user.get.js&lt;/code>ï¼Œç”¨ä¾†æ¸¬è©¦æ”¶åˆ°è«‹æ±‚å¾Œå»ºç«‹ä¸€å€‹æ¸¬è©¦ä½¿ç”¨è€…ï¼Œè©³ç´°çš„ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapitest-create-usergetjs">server/api/test-create-user.get.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">PrismaClient&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@prisma/client&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">prismaClient&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">PrismaClient&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">prismaClient&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">create&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">providerName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">providerUserId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Ryan&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ryanchien8125@gmail.com&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">password&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;é€™è£¡è¦æ”¾å¯†ç¢¼çš„é›œæ¹Šå€¼&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emailVerified&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">user&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘é€å‡º &lt;code>/api/test-create-user&lt;/code> å¾Œï¼Œå¾Œç«¯æœƒä½¿ç”¨ Prisma Client æ“ä½œ User Modelï¼Œæˆ‘å€‘å°±èƒ½ä½¿ç”¨ ORM ä¾†å»ºç«‹å‡ºä½¿ç”¨è€…çš„è³‡æ–™åº«è¨˜éŒ„ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630723535_2ec455193c_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="nuxt-3-ä½¿ç”¨è€…è¨»å†Šå¸³è™Ÿ">Nuxt 3 ä½¿ç”¨è€…è¨»å†Šå¸³è™Ÿ&lt;/h3>
&lt;p>æˆ‘å€‘å°‡ &lt;a class="link" href="https://wayneblog.ga/2023-01-14/nuxt-try-nuxt3/#%e5%af%a6%e4%bd%9c%e7%b7%b4%e7%bf%92" >ã€Nuxt3ã€‘é–‹ç®±å³ç”¨çš„ Nuxt3 ç©è½‰ç­†è¨˜&lt;/a> é€™ç¯‡æ–‡ç« ï¼Œæ‰€ä¸²æ¥çš„ Google OAuth åŠ Cookie åšä¸€å€‹çµåˆï¼Œè®“ä½¿ç”¨è€…é€é Google Auth ç™»å…¥å¾Œå¯ä»¥è‡ªå‹•çš„è¨»å†Šå»ºç«‹ä½¿ç”¨è€…æˆ–ç™»å…¥ç”¢ç”Ÿ Access Tokenã€‚&lt;/p>
&lt;p>&lt;code>./server/api/auth/google.post.js&lt;/code> ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiauthgooglepostjs">server/api/auth/google.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;google-auth-library&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">jwt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;jsonwebtoken&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">db&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/server/db&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">oauth2Client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setCredentials&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">access_token&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">accessToken&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">oauth2Client&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://www.googleapis.com/oauth2/v3/userinfo&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">revokeCredentials&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userInfo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Invalid token&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">userRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getUserByEmail&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">userRecord&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerName&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;google&amp;#39;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerUserId&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sub&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;This email address does not apply to this login method&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createUser&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">providerName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;google&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">providerUserId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sub&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">password&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">picture&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emailVerified&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email_verified&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtTokenPayload&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">maxAge&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">24&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">7&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">expires&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">now&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">maxAge&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtToken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">jwt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sign&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">exp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">expires&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">jwtTokenPayload&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jwtSignSecret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;access_token&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">jwtToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">httpOnly&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">maxAge&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expires&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">expires&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">secure&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NODE_ENV&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;production&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provider&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerName&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerUserId&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nickname&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">avatar&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¨‹å¼ç¢¼å…§å®¹ç¨å¾®æœ‰ä¸€é»å¤šï¼Œä½†è¬›è§£ä¸€ä¸‹æµæ•´èˆ‡æ¦‚å¿µï¼š&lt;/p>
&lt;ol>
&lt;li>ç•¶å‰ç«¯ Google OAuth ç™»å…¥æˆåŠŸå¾Œï¼Œå°‡å›å‚³çš„ Google access_token å‚³é€è‡³é€™éš» APIï¼Œä¸¦ä½¿ç”¨ Google API å–å¾—ä½¿ç”¨è€…è³‡è¨Šã€‚&lt;/li>
&lt;li>&lt;code>db.user.getUserByEmail&lt;/code> é€™å€‹æ˜¯æˆ‘å°è£çš„æ–¹æ³•ï¼Œè£¡é¢å°æ‡‰è‘— Prisma çš„ ORM æ“ä½œï¼Œå¦‚æœä½ æƒ³ä¹Ÿå¯ä»¥åœ¨é€™é‚Šæ›¿æ›ä½ çš„è³‡æ–™åº«æ“ä½œé‚è¼¯ï¼Œä¸»è¦é€™å€‹æ–¹æ³•ï¼Œå°±æ˜¯ä¾ç…§ä½¿ç”¨è€…çš„ Email å›å‚³è³‡æ–™åº«å…§&lt;code>æ˜¯å¦å­˜åœ¨ä¸€ç­†ç¬¦åˆçš„ä½¿ç”¨è€…è¨˜éŒ„&lt;/code>ã€‚&lt;/li>
&lt;li>å¦‚æœå­˜åœ¨ï¼Œæˆ‘æœƒåˆ¤æ–· provider æ˜¯å¦ç¬¦åˆ Google çš„ä½¿ç”¨è€…è³‡è¨Šï¼Œå¦å‰‡åˆ¤æ–·ç‚ºæ‡‰è©²æ˜¯ç”¨é›»å­ä¿¡ç®±è¨»å†Šçš„ä½¿ç”¨è€…ã€‚&lt;/li>
&lt;li>å¦‚æœä¸å­˜åœ¨ï¼Œå‰‡å»ºç«‹ä¸€å€‹æ–°çš„ä½¿ç”¨è€…è‡³è³‡æ–™åº«å…§ï¼Œå»ºç«‹æ™‚ä¸éœ€è¦å‚³å…¥ id è³‡æ–™åº«å› ç‚ºè¨­å®šç‚ºè‡ªå‹•ç”¢ç”Ÿ UUIDã€‚&lt;/li>
&lt;li>æœ€å¾Œå°±æ˜¯ç”¢ç”Ÿä½¿ç”¨è€…çš„ JWT ä¸¦è¨­å®šåœ¨ cookie ä¹‹ä¸­ã€‚&lt;/li>
&lt;/ol>
&lt;p>å¦å¤–ï¼Œæˆ‘ä¹Ÿå¯¦ä½œäº†ä½¿ç”¨é›»å­ä¿¡ç®±ç›´æ¥è¨»å†Šçš„æ–¹å¼ï¼Œ&lt;code>./server/api/auth/register.post.js&lt;/code> ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiauthregisterpostjs">server/api/auth/register.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">bcrypt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;bcrypt&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">db&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/server/db&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">userRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getUserByEmail&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">userRecord&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;A user with that email address already exists&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createUser&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">providerName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">providerUserId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nickname&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">password&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">bcrypt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">hashSync&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emailVerified&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nickname&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨é›»å­ä¿¡ç®±èˆ‡å¯†ç¢¼è¨»å†Šçš„æµç¨‹å¾ˆç°¡å–®ï¼Œå°±æ˜¯åˆ¤æ–·æ˜¯å¦å­˜åœ¨ç›¸åŒä¿¡ç®±çš„ä½¿ç”¨è€…ï¼Œä¸å­˜åœ¨çš„è©±å°±ç‚ºå®ƒå»ºç«‹ä¸€ç­†ç´€éŒ„ã€‚&lt;/p>
&lt;p>é€™é‚Šè¦æ³¨æ„çš„æ˜¯ï¼Œæœƒå“¡ç³»çµ±æˆ–ç‰½æ‰¯åˆ°å¸³è™Ÿå¯†ç¢¼ç›¸é—œçš„ï¼Œè«‹ä¸€å¾‹ä½¿ç”¨é›œæ¹Šæ¼”ç®—æ³•ï¼Œä¾‹å¦‚ &lt;strong>BCrypt&lt;/strong> æˆ– &lt;strong>Argon2&lt;/strong>ï¼Œç‚ºä½¿ç”¨è€…çš„å¯†ç¢¼åš Hashï¼Œä¸è¦å†å­˜æ˜ç¢¼åœ¨è³‡æ–™åº«ä¹‹ä¸­å›‰ï¼Œä»¥å…ç™¼ç”Ÿè³‡å®‰äº‹ä»¶æ™‚ï¼Œé€ æˆä¸å¯æŒ½å›çš„æ‚²åŠ‡ã€‚&lt;/p>
&lt;p>é †ä¾¿ä¹Ÿå¯¦ä½œä¸€ä¸‹ä½¿ç”¨é›»å­ä¿¡ç®±èˆ‡å¯†ç¢¼ç™»å…¥çš„ APIï¼Œ&lt;code>./server/api/auth/login.post.js&lt;/code> ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiauthloginpostjs">server/api/auth/login.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">bcrypt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;bcrypt&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">jwt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;jsonwebtoken&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">db&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/server/db&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getUserByEmail&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userRecord&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Email or password is incorrect&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">bcrypt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">compare&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Email or password is incorrect&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtTokenPayload&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">maxAge&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">24&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">7&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">expires&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">now&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">maxAge&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtToken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">jwt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sign&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">exp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">expires&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">jwtTokenPayload&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jwtSignSecret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;access_token&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">jwtToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">httpOnly&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">maxAge&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expires&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">expires&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">secure&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NODE_ENV&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;production&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provider&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerName&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerUserId&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nickname&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">avatar&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ä½¿ç”¨ Google OAuth ç™»å…¥&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630723565_6ddcf3d4bb_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;ul>
&lt;li>ä½¿ç”¨é›»å­ä¿¡ç®±èˆ‡å¯†ç¢¼ç™»å…¥&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629766447_e4b4472475_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="çµåˆ-pinia-å„²å­˜ä½¿ç”¨è€…è³‡æ–™">çµåˆ Pinia å„²å­˜ä½¿ç”¨è€…è³‡æ–™&lt;/h3>
&lt;p>æˆ‘å€‘å¯ä»¥çµåˆ Pinia ä¾†å°‡ä½¿ç”¨è€…çš„è³‡æ–™æŒä¹…è©±å„²å­˜åœ¨ Local Storage ä¹‹ä¸­ï¼Œé€™æ¨£å°±å¯ä»¥åœ¨å‰ç«¯å„²å­˜ä½¿ç”¨è€…ç™»å…¥çš„ç‹€æ…‹ï¼Œä¾‹å¦‚å°è¦½åˆ—çš„é ­åƒã€ä¿¡ç®±ï¼Œå°±å¯ä»¥å¾ Store ä¸­æ‹¿å‡ºä¾†å›‰ã€‚&lt;/p>
&lt;p>å»ºç«‹ &lt;code>./server/profile.get.js&lt;/code> æª”æ¡ˆï¼Œç”¨ä¾†å–å¾—ä½¿ç”¨è€…è³‡æ–™ï¼š&lt;/p>
&lt;h5 id="serverprofilegetjs">server/profile.get.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">jwt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;jsonwebtoken&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">db&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/server/db&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtToken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;access_token&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">jwt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">verify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">jwtToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jwtSignSecret&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">401&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Unauthorized&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userInfo&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">401&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Unauthorized&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getUserById&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userRecord&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Could not find user.&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provider&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerName&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerUserId&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nickname&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">avatar&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ä¸€å€‹ &lt;strong>user&lt;/strong> çš„ &lt;strong>store&lt;/strong>ï¼Œ&lt;code>./stores/user.js&lt;/code> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="storesuserjs">stores/user.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useUserStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;user&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">profile&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provider&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">actions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">async&lt;/span> &lt;span class="nx">refreshUserProfile&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">error&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/user/profile&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">initialCache&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">profile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">error&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">message&lt;/span> &lt;span class="o">??&lt;/span> &lt;span class="s1">&amp;#39;æœªçŸ¥éŒ¯èª¤&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">persist&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">enabled&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">strategies&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">key&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;user&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">storage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">client&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nx">localStorage&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;code>refreshUserProfile()&lt;/code> ä¾†ç™¼é€è«‹æ±‚è‡³ &lt;code>/api/user/profile&lt;/code> å–å¾—æœ€æ–°çš„ä½¿ç”¨è€…è³‡æ–™ä¾†æ›´æ–° storeã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useUserStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/stores/user&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useUserStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">userStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">refreshUserProfile&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630533839_b540b524b0_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="ä½¿ç”¨ä¼ºæœå™¨ä¸­é–“ä»¶ä¾†é©—è­‰-jwt">ä½¿ç”¨ä¼ºæœå™¨ä¸­é–“ä»¶ä¾†é©—è­‰ JWT&lt;/h3>
&lt;p>æˆ‘å€‘çš„æœƒå“¡ç³»çµ±åœ¨ç™»å…¥å¾Œï¼Œæœƒç”¢ç”Ÿä¸€çµ„ JWT æ”¾ç½®æ–¼ cookie ä¹‹ä¸­ï¼Œåœ¨å¾Œç«¯ API ä½¿ç”¨æ™‚éƒ½è¦åœ¨å‘¼å« &lt;code>getCookie()&lt;/code> ä¾†è§£æ cookieï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥å°‡é©—è­‰ JWT çš„æµç¨‹ï¼Œæ”¾ç½®åœ¨ä¼ºæœå™¨ä¸­é–“ä»¶ (middleware) ä¹‹ä¸­ï¼Œå¾Œç«¯æ”¶åˆ°çš„æ¯å€‹è«‹æ±‚å°±æœƒç¶“éé€™å€‹ä¸­é–“ä»¶ï¼Œåªè¦æœ‰å¤¾å¸¶ &lt;code>access_token&lt;/code> çš„ cookie å°±æœƒé€²è¡Œé©—è­‰è§£æå‡º JWT æ‰€å«çš„ &lt;code>payload&lt;/code> idï¼Œå³ç‚ºä½¿ç”¨è€…çš„ IDã€‚&lt;/p>
&lt;p>å»ºç«‹ &lt;code>./server/middleware/auth.js&lt;/code> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="servermiddlewareauthjs">server/middleware/auth.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">jwt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;jsonwebtoken&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtToken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;access_token&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">jwtToken&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">jwt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">verify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">jwtToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jwtSignSecret&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">userInfo&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">auth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Invalid token&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¼ºæœå™¨çš„ä¸­é–“ä»¶åªè¦å®šç¾©åœ¨ &lt;code>./server/middleware&lt;/code> ç›®éŒ„ä¸‹å°±æœƒè‡ªå‹•è¢«è¼‰å…¥ï¼Œä¹‹å¾Œåœ¨æ¯å€‹ Server API æ”¶åˆ°è«‹æ±‚ï¼Œä¸­é–“ä»¶åªè¦æœ‰æˆåŠŸé©—è­‰ä¸¦è§£æ JWTï¼Œå°±æœƒåœ¨ &lt;code>event.context.auth&lt;/code> æ·»åŠ ä½¿ç”¨è€…è³‡è¨Šï¼Œä¹‹å¾Œåœ¨ Server API çš„è™•ç†å‡½æ•¸ä¸­ï¼Œå°±å¯ä»¥ä»¥ä¸‹åˆ—ç¨‹å¼ç¢¼é€²è¡Œä½¿ç”¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">auth&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èª¿æ•´å¾Œçš„ &lt;code>./server/profile.get.js&lt;/code> æª”æ¡ˆï¼Œå°±æœƒä¹¾æ·¨è¨±å¤šå›‰ï¼&lt;/p>
&lt;h5 id="serverprofilegetjs-1">server/profile.get.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">db&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/server/db&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">auth&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">401&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Unauthorized&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getUserById&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userRecord&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Could not find user.&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provider&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerName&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerUserId&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nickname&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">avatar&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç‚ºäº†å¯¦ä½œéƒ¨è½æ ¼ï¼Œæˆ‘å€‘ä½¿ç”¨ Prisma å¿«é€Ÿçš„å»ºç«‹è³‡æ–™åº«ç’°å¢ƒï¼Œä¹Ÿæ–¹ä¾¿å¤§å®¶å¯ä»¥ä¸‹è¼‰ç¯„ä¾‹ç¨‹å¼ç¢¼ï¼Œå°±å¯ä»¥åœ¨è‡ªå·±çš„é›»è…¦ä¸Šé‹ä½œ SQLiteã€‚ä¹Ÿçµåˆ Pinia ä¾†å°‡ä½¿ç”¨è€…çš„è³‡æ–™é€²è¡ŒæŒä¹…åŒ–çš„å„²å­˜ï¼Œé€™æ¨£æˆ‘å€‘å°±å¯ä»¥å¯¦ä½œå‡ºå¦‚åˆ¤æ–·ä½¿ç”¨è€…æ˜¯å¦ç™»å…¥æˆ–æ˜¯å»ºç«‹å°è¦½åˆ—ä¸Šçš„ç™»å…¥ç‹€æ…‹ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/wjdesign/ithome-2022-ironman-nuxt3/tree/day21/nuxt-app-blog-prisma" target="_blank" rel="noopener"
>ç¯„ä¾‹ç¨‹å¼ç¢¼ - Nuxt 3 - å¯¦ä½œéƒ¨è½æ ¼è³‡æ–™åº«èˆ‡æœƒå“¡ç³»çµ±&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="å°è¦½åˆ—æ¨¡æ¿èˆ‡æ–°å¢æ–‡ç« ">å°è¦½åˆ—æ¨¡æ¿èˆ‡æ–°å¢æ–‡ç« &lt;/h2>
&lt;p>ä¸Šé¢æˆ‘å€‘å®Œæˆäº†åŸºæœ¬çš„æœƒå“¡ç™»å…¥ï¼Œæ¥ä¸‹ä¾†å°‡é€²å…¥ç¶²ç«™çš„åˆ‡ç‰ˆï¼Œä»¥ä¸‹æœƒä½¿ç”¨å¸ƒå±€æ¨¡æ¿ä¾†å¯¦ç¾ï¼Œä¸Šæ–¹å°è¦½åˆ—èˆ‡ä¸‹æ–¹é¡¯ç¤ºç¶²ç«™å…§å®¹çš„æ’ç‰ˆæ–¹å¼ï¼Œæ¥ä¸‹ä¾†å°±æœƒå¿«é€Ÿçš„é€²å…¥åˆ°æ–°å¢ä¸€ç¯‡éƒ¨è½æ ¼çš„æ–‡ç« ï¼Œè©²å¦‚ä½•å¯¦ç¾ Server API èˆ‡å‰ç«¯é€²è¡Œä¸²æ¥ã€‚&lt;/p>
&lt;h3 id="é è¨­å¸ƒå±€æ¨¡æ¿">é è¨­å¸ƒå±€æ¨¡æ¿&lt;/h3>
&lt;p>é¦–å…ˆï¼Œå»ºç«‹ä¸€å€‹é è¨­å¸ƒå±€æ¨¡æ¿ï¼Œæˆ‘å€‘é è¨ˆä½¿æ¯å€‹é é¢æ–¼ä¸Šæ–¹é¡¯ç¤ºå°è¦½åˆ—ï¼Œä¸‹æ–¹å‰‡æ˜¯ä¾æ“šä¸åŒçš„é é¢ä¾†é¡¯ç¤ºï¼Œå¤§æ¦‚å¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">+---------------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +-----------------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> å°è¦½åˆ— &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +-----------------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +-----------------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> ä¸åŒé é¢çš„å…§å®¹é¡¯ç¤ºçš„ä½ç½® &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +-----------------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+---------------------------+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å¯ä»¥å»ºç«‹ä¸€å€‹ &lt;code>default.vue&lt;/code> æ–¼ &lt;code>layouts&lt;/code> ç›®éŒ„ä¸­ï¼Œä½œç‚ºé è¨­çš„ä½ˆå±€æ¨¡æ¿ï¼Œæ¨¡æ¿å…§ç´„æœƒå¯¦ä½œä¸‹é¢çš„ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">header&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">å°è¦½åˆ—&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">header&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>&amp;lt;header&amp;gt;&lt;/code> è£¡é¢å°±æ˜¯æˆ‘å€‘å¯ä»¥å¯¦ä½œå°è¦½åˆ—çš„ä½ç½®ï¼Œä¸‹æ–¹çš„ &lt;code>&amp;lt;slot /&amp;gt;&lt;/code> æ’æ§½ï¼Œå³æœƒæ˜¯æˆ‘å€‘å¯ä»¥æ”¾ç½®é é¢çš„å®¹å™¨ã€‚&lt;/p>
&lt;p>å®Œæ•´çš„ &lt;code>./layouts/default.vue&lt;/code> ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="layoutsdefaultvue">layouts/default.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">header&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex w-full justify-center px-8 xl:px-0&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">nav&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex w-full max-w-7xl items-center justify-between py-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">aria&lt;/span>&lt;span class="nt">-label&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">TailwindBlog&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex items-center justify-between&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mr-3&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Icon&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;h-12 w-12&amp;#34;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;logos:nuxt-icon&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;hidden h-6 text-2xl font-semibold text-gray-700 sm:block&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Nuxt&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="nx">Blog&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex items-center text-base leading-5&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-row items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-3 py-2 text-gray-700 transition hover:text-emerald-500&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/login&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç™»å…¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">nav&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">header&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useUserStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/stores/user&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useUserStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userProfile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">userStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">profile&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—è¨˜å¾—èª¿æ•´ &lt;code>app.vue&lt;/code> å…§å®¹ï¼Œæ·»åŠ ä¸€å€‹ &lt;code>&amp;lt;NuxtLayout&amp;gt;&lt;/code> å…ƒä»¶ä¾†é¡¯ç¤ºé è¨­çš„å¸ƒå±€æ¨¡æ¿ï¼ŒåŒ…è£¹è‘—çš„ &lt;code>&amp;lt;NuxtPage /&amp;gt;&lt;/code> å³æœƒæ”¾ç½®æ–¼ &lt;code>default.vue&lt;/code> é è¨­æ’æ§½ä¹‹ä¸­ï¼Œå¦‚æ­¤å°±èƒ½é¡¯ç¤ºè·¯ç”±çš„é é¢ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡³æ­¤ï¼Œæˆ‘å€‘å°±å®Œæˆçš„ç¬¬ä¸€å€‹å°è¦½åˆ—ï¼Œå¯ä»¥ç”±å°è¦½åˆ—æä¾›çš„ã€Œç™»å…¥ã€ï¼Œåˆ‡æ›è‡³ç™»å…¥é é¢ï¼Œä¸¦ä¸”åœ¨æ¯å€‹é é¢ä¸­ï¼Œéƒ½ä½¿ç”¨é è¨­çš„å¸ƒå±€æ¨¡æ¿ï¼Œæ‰€ä»¥éƒ½æœƒé¡¯ç¤ºå°è¦½åˆ—ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630283636_1b4a7e4a8d_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="å–æ¶ˆæˆ–æ›¿æ›ç‰¹å®šé é¢çš„å¸ƒå±€æ¨¡æ¿">å–æ¶ˆæˆ–æ›¿æ›ç‰¹å®šé é¢çš„å¸ƒå±€æ¨¡æ¿&lt;/h3>
&lt;p>åœ¨&lt;a class="link" href="https://wayneblog.ga/2023-01-14/nuxt-try-nuxt3/#%e5%b8%83%e5%b1%80%e6%a8%a1%e6%9d%bf-layouts" >ã€Nuxt3ã€‘é–‹ç®±å³ç”¨çš„ Nuxt3 ç©è½‰ç­†è¨˜ - Nuxt 3 å¸ƒå±€æ¨¡æ¿ (Layouts)&lt;/a> å…§æœ‰ä»‹ç´¹åˆ°ï¼Œæˆ‘å€‘å¯ä»¥å»ºç«‹å¤šå€‹å¸ƒå±€æ¨¡æ¿ï¼Œè€Œ Nuxt ä¹Ÿæä¾›æˆ‘å€‘å¯ä»¥ç‚ºé é¢å…ƒä»¶å–æ¶ˆä½¿ç”¨æˆ–é¸æ“‡ç‰¹å®šçš„å¸ƒå±€æ¨¡æ¿ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘æƒ³å°‡ç™»å…¥èˆ‡è¨»å†Šé é¢ï¼Œå–æ¶ˆå¥—ç”¨é è¨­çš„å¸ƒå±€æ¨¡æ¿ï¼Œæˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†å‚³å…¥ &lt;code>layout: false&lt;/code> å±¬æ€§ä¾†å–æ¶ˆå¸ƒå±€æ¨¡æ¿çš„ä½¿ç”¨ã€‚&lt;/p>
&lt;p>èª¿æ•´ç™»å…¥é é¢ &lt;code>./pages/login.vue&lt;/code>&lt;/p>
&lt;h5 id="pagesloginvue">pages/login.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layout&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†ï¼Œç™»å…¥é é¢å°‡ä¸æœƒä½¿ç”¨å¸ƒå±€æ¨¡æ¿ï¼Œå°è¦½åˆ—ä¹Ÿå°±ä¸æœƒé¡¯ç¤ºã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629766332_32a030f2f1_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="å»ºç«‹ä½¿ç”¨è€…é¸å–®">å»ºç«‹ä½¿ç”¨è€…é¸å–®&lt;/h3>
&lt;p>ç‚ºäº†è±å¯Œå°è¦½åˆ—ï¼Œæˆ‘å€‘å¯ä»¥ç‚ºå·²ç™»å…¥çš„ä½¿ç”¨è€…ï¼Œå»ºç«‹ä¸€å€‹ä½¿ç”¨è€…é ­åƒï¼Œé»æ“Šå¾Œå¯ä»¥é¡¯ç¤ºä½¿ç”¨è€…å°ˆç”¨çš„é¸é …ï¼Œä¾‹å¦‚ç™»å‡ºç­‰åŠŸèƒ½ã€‚&lt;/p>
&lt;h4 id="å®‰è£-headless-ui">å®‰è£ headless UI&lt;/h4>
&lt;p>æˆ‘å€‘çš„ä½¿ç”¨çš„æ˜¯ Tailwind CSS ä¾†åšæ¨£å¼çš„è™•ç†ï¼Œ&lt;a class="link" href="https://headlessui.com/" target="_blank" rel="noopener"
>headless UI&lt;/a> å·²ç¶“å°è£ä¸€äº›å¯¦ç”¨ä¸”å¥½çœ‹çš„å…ƒä»¶ï¼Œå…ƒä»¶åŸºæ–¼ Tailwind CSS å¯ä»¥è®“æˆ‘å€‘çš„é¢¨æ ¼æ›´ä¸€è‡´ï¼Œä¹Ÿèƒ½æ›´å½ˆæ€§çš„è‡ªè¨‚æˆè‡ªå·±å–œæ­¡çš„æ¨£å¼ã€‚&lt;/p>
&lt;p>ä½¿ç”¨ NPM å®‰è£ &lt;code>@headlessui/vue&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D @headlessui/vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D @headlessui/vue&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èª¿æ•´ &lt;code>nuxt.config.ts&lt;/code>ï¼Œå°‡ &lt;code>@headlessui/vue&lt;/code> æ–°å¢è‡³ &lt;code>build.transpile&lt;/code> å±¬æ€§ä¹‹ä¸­ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">build&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">transpile&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@headlessui/vue&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å»ºç«‹ä½¿ç”¨è€…é ­åƒé¸å–®å…ƒä»¶">å»ºç«‹ä½¿ç”¨è€…é ­åƒé¸å–®å…ƒä»¶&lt;/h3>
&lt;p>æ–°å¢ &lt;code>./components/NavigationBar/NavigationBarAvatarMenu.vue&lt;/code> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="componentsnavigationbarnavigationbaravatarmenuvue">components/NavigationBar/NavigationBarAvatarMenu.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Menu&lt;/span> &lt;span class="na">as&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;div&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;relative inline-block text-left&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MenuButton&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;inline-flex w-full justify-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;inline-block h-10 w-10 rounded-full bg-white/90 object-cover object-center p-0.5 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://images.unsplash.com/photo-1577023311546-cdc07a8454d9?ixlib=rb-1.2.1&amp;amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;amp;auto=format&amp;amp;fit=crop&amp;amp;w=128&amp;amp;q=80&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">alt&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ä½¿ç”¨è€…é¸å–®&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">MenuButton&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">transition&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">enter&lt;/span>&lt;span class="nt">-active-class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">transition&lt;/span> &lt;span class="na">duration&lt;/span>&lt;span class="nt">-100&lt;/span> &lt;span class="na">ease&lt;/span>&lt;span class="nt">-out&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">enter&lt;/span>&lt;span class="nt">-from-class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">transform&lt;/span> &lt;span class="na">scale&lt;/span>&lt;span class="nt">-95&lt;/span> &lt;span class="na">opacity&lt;/span>&lt;span class="nt">-0&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">enter&lt;/span>&lt;span class="nt">-to-class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">transform&lt;/span> &lt;span class="na">scale&lt;/span>&lt;span class="nt">-100&lt;/span> &lt;span class="na">opacity&lt;/span>&lt;span class="nt">-100&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">leave&lt;/span>&lt;span class="nt">-active-class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">transition&lt;/span> &lt;span class="na">duration&lt;/span>&lt;span class="nt">-75&lt;/span> &lt;span class="na">ease&lt;/span>&lt;span class="nt">-in&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">leave&lt;/span>&lt;span class="nt">-from-class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">transform&lt;/span> &lt;span class="na">scale&lt;/span>&lt;span class="nt">-100&lt;/span> &lt;span class="na">opacity&lt;/span>&lt;span class="nt">-100&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">leave&lt;/span>&lt;span class="nt">-to-class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">transform&lt;/span> &lt;span class="na">scale&lt;/span>&lt;span class="nt">-95&lt;/span> &lt;span class="na">opacity&lt;/span>&lt;span class="nt">-0&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MenuItems&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;absolute right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-1 py-1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MenuItem&lt;/span> &lt;span class="nt">v-slot&lt;/span>&lt;span class="s">=&amp;#34;{ active }&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">:&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;[
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> active ? &amp;#39;bg-emerald-500 text-white&amp;#39; : &amp;#39;text-gray-900&amp;#39;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;#39;group flex w-full items-center rounded-md px-2 py-2 text-sm&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> ]&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Icon&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">:active&lt;/span>&lt;span class="s">=&amp;#34;active&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mr-2 h-5 w-5 text-emerald-400&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ri:logout-box-line&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">aria&lt;/span>&lt;span class="nt">-hidden&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">true&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç™»å‡º&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">MenuItem&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">MenuItems&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">transition&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Menu&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Menu&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">MenuButton&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">MenuItems&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">MenuItem&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@headlessui/vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°‡ &lt;code>&amp;lt;NavigationBarAvatarMenu&amp;gt;&lt;/code> å…ƒä»¶æ·»åŠ è‡³å°è¦½åˆ—ä¹‹ä¸­ï¼Œæˆ‘å€‘å°±å¯ä»¥æ“æœ‰ä¸€å€‹ä½¿ç”¨è€…é ­åƒçš„é¸å–®å›‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630283566_d85ef1e3bd_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="çµåˆä½¿ç”¨è€…-store-ä¾†æ§åˆ¶é¡¯ç¤ºçš„æ™‚æ©Ÿ">çµåˆä½¿ç”¨è€… Store ä¾†æ§åˆ¶é¡¯ç¤ºçš„æ™‚æ©Ÿ&lt;/h3>
&lt;p>ä½¿ç”¨è€…é ­åƒé¸å–®çš„å…ƒä»¶æ‡‰è©²æ§åˆ¶æ–¼&lt;code>ä½¿ç”¨è€…ç™»å…¥ä¹‹å¾Œå†é¡¯ç¤º&lt;/code>ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥çµåˆ &lt;strong>Pinia&lt;/strong> é€²è¡Œç‹€æ…‹ç®¡ç†ï¼Œä¾†æª¢æŸ¥ä½¿ç”¨è€…è³‡è¨Šçš„ &lt;strong>store&lt;/strong> æ˜¯å¦å…·æœ‰è³‡æ–™ä¸”ç¬¦åˆæˆ‘å€‘çš„åˆ¤å®šä¾æ“šå†é€²è¡Œé¡¯ç¤ºï¼Œå¦å‰‡ï¼Œæˆ‘å€‘åƒ…éœ€è¦æ¸²æŸ“å‡ºç™»å…¥çš„æŒ‰éˆ•å³å¯ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘å¾ User Store å–å‡ºä½¿ç”¨è€…è³‡è¨Š (Profile)ï¼Œä¸¦åˆ¤æ–·æ˜¯å¦æœ‰ &lt;code>id&lt;/code> ä¾†æ±ºå®šè¦é¡¯ç¤º&lt;strong>ä½¿ç”¨è€…é ­åƒé¸å–®&lt;/strong>æˆ–&lt;strong>ç™»å…¥&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NavigationBarAvatarMenu&lt;/span> &lt;span class="na">v&lt;/span>&lt;span class="nt">-if&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">userProfile&lt;/span>&lt;span class="err">?&lt;/span>&lt;span class="na">.id&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">v&lt;/span>&lt;span class="nt">-else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-3 py-2 text-gray-700 transition hover:text-emerald-500&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/login&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç™»å…¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useUserStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/stores/user&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useUserStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userProfile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">userStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">profile&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ•´å€‹å®Œæˆå¾Œï¼Œä»‹é¢çœ‹èµ·ä¾†å°±æœƒæ¯”è¼ƒä¹¾æ·¨ä¹Ÿç¬¦åˆ&lt;strong>ç™»å…¥&lt;/strong>èˆ‡&lt;strong>æœªç™»å…¥&lt;/strong>æ™‚ï¼Œæ‡‰è©²é¡¯ç¤ºçš„ä»‹é¢æ¨£å­ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629766292_716565c416_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="æ–°å¢éƒ¨è½æ ¼æ–‡ç« ">æ–°å¢éƒ¨è½æ ¼æ–‡ç« &lt;/h3>
&lt;p>ç•¶æˆ‘å€‘è™•ç†å¥½ç™»å…¥å¾Œï¼Œå°±é–‹å¯ä»¥é–‹å§‹ä¾†å¯¦ä½œä½¿ç”¨è€…å»ºç«‹éƒ¨è½æ ¼çš„æ–‡ç« å›‰ï¼&lt;/p>
&lt;h4 id="å»ºç«‹æ–‡ç« è³‡æ–™è¡¨">å»ºç«‹æ–‡ç« è³‡æ–™è¡¨&lt;/h4>
&lt;p>æˆ‘å€‘çš„è³‡æ–™åº«ï¼Œæ˜¯é€é Prisma çš„ Schema ä¾†è‡ªå‹•ç”¢ç”Ÿè³‡æ–™è¡¨ï¼Œæˆ‘å€‘å¯ä»¥å»ºç«‹å¦‚ä¸‹çš„ Schemaï¼Œä¾†ä½œç‚ºå„²å­˜æ–‡ç« å…§å®¹çš„è³‡æ–™è¡¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">model Article {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> id Int @id @default(autoincrement())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> title String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> content String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> cover String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> tags String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> authorId String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> createdAt DateTime @default(now())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> updatedAt DateTime @updatedAt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¬„ä½ç›¸å°ç°¡å–®ï¼Œå„å€‹æ¬„ä½çš„ç”¨é€”èˆ‡èªªæ˜å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>id: æ–‡ç« çš„ IDï¼Œæ¡ç”¨è‡ªå‹•éå¢çš„æ•¸å­—ã€‚&lt;/li>
&lt;li>title: æ–‡ç« çš„æ¨™é¡Œã€‚&lt;/li>
&lt;li>content: æ–‡ç« çš„å…§å®¹ã€‚&lt;/li>
&lt;li>cover: æ–‡ç« çš„å°é¢åœ–ç‰‡ã€‚&lt;/li>
&lt;li>tags: æ–‡ç« çš„æ¨™ç±¤ã€‚&lt;/li>
&lt;li>authorId: å°æ‡‰ &lt;code>User&lt;/code> è³‡æ–™è¡¨çš„ &lt;code>id&lt;/code> æ¬„ä½ï¼Œè¡¨ç¤ºæ–‡ç« çš„ä½œè€…ã€‚&lt;/li>
&lt;li>createdAt: æ–‡ç« å»ºç«‹æ™‚é–“ï¼Œé è¨­ç‚ºæ’å…¥è©²ç­†è³‡æ–™çš„æ™‚é–“ã€‚&lt;/li>
&lt;li>updatedAt: ä½¿ç”¨è€…æ›´æ–°æ–‡ç« è³‡æ–™çš„æ™‚é–“ï¼Œé è¨­ç‚ºæ›´æ–°è©²ç­†è³‡æ–™çš„æ™‚é–“ã€‚&lt;/li>
&lt;/ul>
&lt;p>å¦å¤–ï¼Œæˆ‘æƒ³è®“ &lt;code>Article&lt;/code> å…·æœ‰é—œè¯æ€§ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥ä½¿ç”¨ Prisma æä¾›çš„èªæ³•ï¼Œä¾†å»ºç«‹èˆ‡ &lt;code>User&lt;/code> çš„å¤–éµ (Foreign Key)ï¼Œæœ€å¾Œå®Œæ•´çš„ &lt;code>schema.prisma&lt;/code> å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">// This is your Prisma schema file,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// learn more about it in the docs: https://pris.ly/d/prisma-schema
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">generator client {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> provider = &amp;#34;prisma-client-js&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">datasource db {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> provider = &amp;#34;sqlite&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> url = &amp;#34;file:./dev.db&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">model User {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> id String @id @default(uuid())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> providerName String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> providerUserId String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nickname String @default(&amp;#34;User&amp;#34;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> email String @unique
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> password String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> avatar String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> emailVerified Boolean @default(false)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> createdAt DateTime @default(now())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> updatedAt DateTime @updatedAt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Article Article[]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">model Article {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> id Int @id @default(autoincrement())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> title String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> content String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> cover String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> tags String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> authorId String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> createdAt DateTime @default(now())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> updatedAt DateTime @updatedAt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> User User? @relation(fields: [authorId], references: [id])
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¨˜å¾—åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œä¾†è®“ Prisma å»ºç«‹æ–°çš„è³‡æ–™è¡¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx prisma db push
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å»ºç«‹æ–°å¢æ–‡ç« çš„-api">å»ºç«‹æ–°å¢æ–‡ç« çš„ API&lt;/h3>
&lt;p>å»ºç«‹ &lt;code>./server/api/manage/articles.post.js&lt;/code>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapimanagearticlespostjs">server/api/manage/articles.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">db&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/server/db&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">auth&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">401&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Unauthorized&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">authorId&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">articleRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createArticle&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cover&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cover&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tags&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">tags&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">authorId&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">articleRecord&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Create article failed. Please try again later.&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">articleRecord&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ•´å€‹ Server API çš„é‹ä½œæµç¨‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>ä½¿ç”¨è€…å°‡æ¬²æ–°å¢çš„æ–‡ç« è³‡æ–™ä»¥ POST ç™¼é€è‡³ &lt;code>/api/manage/article&lt;/code>ï¼Œä¼ºæœå™¨ä¸­é–“ä»¶ï¼Œå°‡æœƒè§£æ JWT ä¾†å¾—åˆ° userã€‚&lt;/li>
&lt;li>åˆ¤æ–· user.id ä¾†æ±ºå®šæ˜¯å¦å…·æœ‰æ¬Šé™ï¼Œå¦‚æœæ­£ç¢ºè§£æ JWTï¼Œè¡¨ç¤ºè«‹æ±‚ç‚ºä¸€å€‹å·²ç™»å…¥çš„ä½¿ç”¨è€…ç™¼é€ï¼Œä¹Ÿå°‡æ”¾è¡Œçµ¦äºˆæ–°å¢æ–‡ç« ã€‚&lt;/li>
&lt;li>è™•ç†å‡½æ•¸å°‡è§£æ Body å…§çš„è³‡æ–™ï¼Œä¸¦å»ºæ§‹å‡ºå¾€è³‡æ–™åº«æ–°å¢æ–‡ç« è¨˜éŒ„çš„å…§å®¹ã€‚&lt;/li>
&lt;li>åˆ¤æ–·æ˜¯å¦æ–°å¢æˆåŠŸï¼Œå›å‚³æ–°å¢çš„æ–‡ç« è³‡æ–™ã€‚&lt;/li>
&lt;/ol>
&lt;p>å»ºç«‹æ–‡ç« çš„ Prisma Client æ“ä½œå¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">async&lt;/span> &lt;span class="nx">createArticle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">articleRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">prisma&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">article&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">create&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cover&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cover&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tags&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">tags&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">authorId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authorId&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">500&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Could not create article. Please try again later.&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">articleRecord&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°±å®Œæˆäº†å»ºç«‹æ–‡ç« çš„ API å›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629766247_47662d0614_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="å–å¾—éƒ¨è½æ ¼æ–‡ç« ">å–å¾—éƒ¨è½æ ¼æ–‡ç« &lt;/h3>
&lt;p>ä½¿ç”¨ Prisma Client ä¾†å–å¾—æ–‡ç« ï¼Œä¹Ÿéå¸¸æ–¹ä¾¿ï¼Œå¦‚ä¸‹ç¨‹å¼ç¢¼ï¼Œæˆ‘å€‘å°±èƒ½å–å‡ºæ–‡ç« è³‡æ–™ä¸¦ä»¥å»ºç«‹æ™‚é–“éæ¸›æ’åºå›‰ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">async&lt;/span> &lt;span class="nx">getArticles&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">options&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">articleRecords&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">prisma&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">article&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">findMany&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">orderBy&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">createdAt&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;desc&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">skip&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pageSize&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">page&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pageSize&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="kc">undefined&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">take&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pageSize&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">500&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Could not create user. Please try again later.&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">articleRecords&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>./server/api/articles.get.js&lt;/code> æ˜¯å¯¦ä½œå–å¾—æ–‡ç« çš„ APIï¼Œæˆ‘å€‘æœŸæœ›ä»»ä½•äººéƒ½å¯ä»¥ç€è¦½é€™å€‹éƒ¨è½æ ¼çš„æ–‡ç« ï¼Œæ‰€ä»¥é€™éš» API æˆ‘å€‘ç„¡éœ€é©—è­‰ä½¿ç”¨è€…å³å¯æ”¾è¡Œï¼Œç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiarticlesgetjs">server/api/articles.get.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">db&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/server/db&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">articlesRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getArticles&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">articlesRecord&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘ä¹Ÿå¯ä»¥åœ¨ &lt;code>./server/api/articles.get.js&lt;/code> è™•ç†å‡½æ•¸å…§ï¼Œæ·»åŠ è³‡æ–™çš„åˆ†é æˆ–ç‚ºæ–‡ç« è³‡æ–™é€²è¡ŒåŠ å·¥ï¼Œä»¥åˆ©å‰ç«¯é¡¯ç¤ºã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630723890_b20d0977bf_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æˆ‘å€‘å»ºç«‹å¥½äº†éƒ¨è½å€‹çš„ç‰ˆé¢ï¼Œæœ‰äº†å°è¦½åˆ—å’Œä½¿ç”¨è€…é¸å–®ï¼Œç¶²ç«™çœ‹èµ·ä¾†ä¹Ÿæ›´å°ˆæ¥­äº†ä¸€äº›ï¼Œçµåˆå¸ƒå±€æ¨¡æ¿ï¼Œæˆ‘å€‘å¯ä»¥æ§åˆ¶æ¯å€‹é é¢æ‰€é¡¯ç¤ºçš„å¸ƒå±€ï¼Œåœ¨æœªä¾†æœ‰æ›´å¤šé é¢çš„æ™‚å€™èƒ½å…·æœ‰å¯æ§æ€§ã€‚æœ€å¾Œä¹Ÿå¯¦ä½œäº†æ–°å¢æ–‡ç« çš„ APIï¼Œå®Œæˆäº†ç¬¬ä¸€ç¯‡æ–‡ç« çš„æ–°å¢èˆ‡ç€è¦½ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="é é¢çš„å°èˆªå®ˆè¡›èˆ‡åˆ‡æ›æ•ˆæœ">é é¢çš„å°èˆªå®ˆè¡›èˆ‡åˆ‡æ›æ•ˆæœ&lt;/h2>
&lt;p>æˆ‘å€‘å®Œæˆäº†æ–°å¢æ–‡ç« çš„é é¢èˆ‡æµç¨‹ï¼Œåœ¨ç¶²ç«™é–‹ç™¼çš„éç¨‹ä¸­ï¼Œæœ‰äº›é é¢æ˜¯å…·æœ‰ç€è¦½çš„é™åˆ¶ï¼Œä¾‹å¦‚ï¼Œæˆ‘å€‘ä¸å¸Œæœ›ä¸€èˆ¬çš„ä½¿ç”¨è€…èƒ½é€²åˆ°ç®¡ç†è€…é é¢å°ˆç”¨çš„é é¢é€²è¡Œæ“ä½œï¼Œé€™æ™‚å€™æˆ‘å€‘å°±éœ€è¦åšä¸€äº›æ¬Šé™çš„é©—è­‰èˆ‡é™åˆ¶ï¼Œåœ¨ Nuxt çš„é é¢æä¾›äº†è·¯ç”±ä¸­é–“ä»¶å¯ä»¥åœ¨æˆ‘å€‘å°èˆªè‡³é é¢ä¹‹å‰ï¼ŒåŸ·è¡Œä¸€äº›è™•ç†å‡½æ•¸ï¼Œå°±å¯¦ä½œ&lt;strong>å°èˆªå®ˆè¡› (Navigations Guards)&lt;/strong> çš„æ•ˆæœã€‚æœ€å¾Œæœƒä»‹ç´¹ä¸€ä¸‹åœ¨ Nuxt 3 æ‰€æä¾›çš„é é¢å’Œå¸ƒå±€åˆ‡æ›æ™‚çš„&lt;strong>é€²åº¦æ¢ (Progress bar)&lt;/strong> èˆ‡&lt;strong>è½‰å ´æ•ˆæœ (Transitions)&lt;/strong>ã€‚&lt;/p>
&lt;h3 id="é é¢é–“çš„å°èˆªå®ˆè¡›">é é¢é–“çš„å°èˆªå®ˆè¡›&lt;/h3>
&lt;h4 id="åªå…è¨±å·²ç™»å…¥ä½¿ç”¨è€…æ–°å¢æ–‡ç« ">åªå…è¨±å·²ç™»å…¥ä½¿ç”¨è€…æ–°å¢æ–‡ç« &lt;/h4>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘æ–°å¢ä¸€å€‹è·¯ç”±ä¸­é–“ä»¶ &lt;code>./middleware/manage-auth.js&lt;/code> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="middlewaremanage-authjs">middleware/manage-auth.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useUserStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/stores/user&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtRouteMiddleware&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">client&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useUserStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">profile&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">navigateTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/login&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">navigateTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨é é¢å…ƒä»¶ä¸­ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†å¥—ç”¨ &lt;code>manage-auth&lt;/code> ä¸­é–“ä»¶ã€‚èª¿æ•´ &lt;code>./pages/manage/articles/create.vue&lt;/code> å…§å®¹ï¼š&lt;/p>
&lt;h5 id="pagesmanagearticlescreatevue">pages/manage/articles/create.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">middleware&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;manage-auth&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘é¦–é æ–°å¢ä¸€å€‹å¯ä»¥å°å‘è‡³ &lt;code>/manage/articles/create&lt;/code> é é¢çš„æŒ‰éˆ•ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-md mt-12 rounded-sm bg-emerald-500 py-2 px-4 font-medium text-white hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/manage/articles/create&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">å‰å¾€æ’°å¯«æ–‡ç« &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘è™•æ–¼æœªç™»å…¥çš„æƒ…æ³ï¼Œé»æ“Šå‰å¾€å¾Œï¼Œæœƒç¶“ç”±ä¸­é–“ä»¶åˆ¤æ–· &lt;code>process.client&lt;/code> æ˜¯å¦æ˜¯åœ¨å®¢æˆ¶ç«¯ï¼Œé€²è€Œå¾ User Store å–å‡ºä½¿ç”¨è€…è³‡è¨Šé€²è¡Œåˆ¤æ–·ï¼Œç•¶ä¸å­˜åœ¨ &lt;code>userStore.profile.id&lt;/code> æ™‚ï¼Œè¡¨ç¤ºæœªç™»å…¥ï¼Œæˆ‘å€‘å°‡å°èˆªè‡³ç™»å…¥é é¢ &lt;code>/login&lt;/code>ï¼›ç•¶ç™»å…¥å®Œæˆå¾Œï¼Œå°±å¯ä»¥ä½¿ç”¨æŒ‰éˆ•æˆåŠŸå°èˆªè‡³æ–°å¢æ–‡ç« çš„é é¢ã€‚å¦‚æœ &lt;code>process.client&lt;/code> ç‚º &lt;code>false&lt;/code>ï¼Œè¡¨ç¤ºå°èˆªæ˜¯åœ¨ä¼ºæœå™¨ç«¯è§¸ç™¼çš„ï¼Œä¾‹å¦‚ï¼Œæˆ‘å€‘ç›´æ¥é€éç¶²å€é€²å…¥æ–°å¢æ–‡ç« é é¢ï¼Œå°‡æœƒä¸€å¾‹è¢«é‡æ–°å°èˆªè‡³é¦–é ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630723865_fe7bb3a049_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="ç™»å…¥å®Œæˆå¾Œå°å›è‡³ç™»å…¥å‰ç€è¦½çš„é é¢">ç™»å…¥å®Œæˆå¾Œå°å›è‡³ç™»å…¥å‰ç€è¦½çš„é é¢&lt;/h4>
&lt;p>ç•¶ä½¿ç”¨è€…åœ¨ç€è¦½ç¶²ç«™æ™‚è¢«å¼•å°æˆ–æº–å‚™ç™»å…¥æ™‚ï¼Œæˆ‘å€‘å¯ä»¥å°‡ä½¿ç”¨è€…ç›®å‰çš„é é¢é€²è¡Œè¨˜éŒ„ï¼Œä»¥ä¾¿ç™»å…¥å®Œæˆå¾Œï¼Œå¯ä»¥é‡æ–°å°å‘è‡³ä½¿ç”¨è€…ç™»å…¥å‰çš„é é¢ï¼Œä»¥æ­¤æä¾›ä½¿ç”¨è€…æ›´æ£’çš„é«”é©—ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘æ–°å¢ä¸€å€‹è·¯ç”±ä¸­é–“ä»¶ &lt;code>./middleware/logged-in-redirect.js&lt;/code> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="middlewarelogged-in-redirectjs">middleware/logged-in-redirect.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtRouteMiddleware&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">from&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">from&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">path&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="nx">from&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">path&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">redirect_to&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">redirectTo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">redirect_to&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">redirectTo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">from&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">redirect_to&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">from&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">redirect_to&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">undefined&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">redirectTo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">from&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fullPath&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">redirect_to&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">redirectTo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">navigateTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹ &lt;code>logged-in-redirect&lt;/code> ä¸­é–“ä»¶çš„è™•ç†é‚è¼¯ï¼Œæˆ‘å€‘æ¥æ”¶ &lt;code>to&lt;/code> èˆ‡ &lt;code>from&lt;/code>ï¼Œåˆ†åˆ¥ç‚ºç›®æ¨™é é¢èˆ‡ä¾†æºé é¢ï¼Œç•¶ä½¿ç”¨è€…ç›®æ¨™é é¢ &lt;code>/login&lt;/code> é‚„æœªå¸¶ä¸Šäº† Query åƒæ•¸ &lt;code>redirect_to&lt;/code>ï¼Œæˆ‘å€‘å°±å°‡ä¾†æºçš„å®Œæ•´è·¯å¾‘æ·»åŠ ä¸Šå» &lt;code>from.fullPath&lt;/code>ï¼Œæœ€å¾Œé€²è¡Œå°å‘ã€‚&lt;/p>
&lt;blockquote>
&lt;p>é€™è£¡éœ€è¦é€²è¡Œåˆ¤æ–· &lt;code>redirect_to&lt;/code>ï¼Œå¦å‰‡æœƒé‡è¤‡ç™¼ç”Ÿé‡æ–°å°å‘ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>åœ¨ç™»å…¥é é¢ä¸­ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†å¥—ç”¨ &lt;code>logged-in-redirect&lt;/code> ä¸­é–“ä»¶ã€‚èª¿æ•´ &lt;code>./pages/login.vue&lt;/code> å…§å®¹ï¼š&lt;/p>
&lt;h5 id="pagesloginvue-1">pages/login.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">middleware&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;logged-in-redirect&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ç™»å…¥å®Œæˆçš„åœ°æ–¹ï¼Œæˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨ &lt;code>navigateTo()&lt;/code> å°å‘è‡³ &lt;code>redirect_to&lt;/code> çµ¦çš„é é¢è·¯å¾‘ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">route&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRoute&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">handleEmailLogin&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">navigateTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">redirect_to&lt;/span> &lt;span class="o">??&lt;/span> &lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®Œæˆå¾Œï¼Œæˆ‘å€‘å¾é¦–é é»æ“Šç™»å…¥å¾Œï¼ç•¶ç™»å…¥å®Œæˆå¾Œå°±æœƒå°å‘å›é¦–é ï¼›è€Œå¾æ–‡ç« é é¢é»æ“Šç™»å…¥ï¼Œå®Œæˆå¾Œå‰‡æœƒå°å‘å›æ–‡ç« é é¢ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630533679_f91d6355c5_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="é é¢è¼‰å…¥é€²åº¦å…ƒä»¶">é é¢è¼‰å…¥é€²åº¦å…ƒä»¶&lt;/h3>
&lt;p>Nuxt 3 æä¾›ä¸€å€‹ &lt;code>&amp;lt;NuxtLoadingIndicator&amp;gt;&lt;/code> å…ƒä»¶ï¼Œç”¨ä½œé é¢å°èˆªå¾Œé¡¯ç¤ºè¼‰å…¥çš„é€²åº¦ï¼Œæœƒåœ¨é é¢ä¸Šæ–¹æœ‰ä¸€å€‹é€²åº¦æ¢ (Progress bar)ã€‚&lt;/p>
&lt;p>åªéœ€è¦å°‡ &lt;code>&amp;lt;NuxtLoadingIndicator&amp;gt;&lt;/code> å…ƒä»¶æ·»åŠ è‡³ &lt;code>app.vue&lt;/code> æˆ–å¸ƒå±€ä¹‹ä¸­ï¼Œèª¿æ•´ &lt;code>app.vue&lt;/code> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="appvue">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLoadingIndicator&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…ƒä»¶å¯ä»¥å‚³å…¥çš„å±¬æ€§ (Props) å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>colorï¼šé€²åº¦æ¢çš„é¡è‰²ï¼Œå¯ä»¥å‚³å…¥CSS æ”¯æ´çš„&lt;code>è‰²ç¢¼&lt;/code>æˆ– &lt;code>repeating-linear-gradient()&lt;/code> å‡½æ•°ï¼Œé è¨­ç‚º &lt;code>repeating-linear-gradient(to right,#00dc82 0%,#34cdfe 50%,#0047e1 100%)&lt;/code>ã€‚&lt;/li>
&lt;li>heightï¼šé€²åº¦æ¢çš„é«˜åº¦æ•¸å€¼ï¼Œå–®ä½ï¼š &lt;code>px&lt;/code>ï¼Œé è¨­å€¼ç‚º &lt;code>3&lt;/code>ã€‚&lt;/li>
&lt;li>durationï¼šé€²åº¦æ¢è¼‰å…¥çš„æŒçºŒæ™‚é–“ï¼Œå–®ä½ï¼š &lt;code>æ¯«ç§’&lt;/code>ï¼Œé è¨­å€¼ç‚º &lt;code>2000&lt;/code>ã€‚&lt;/li>
&lt;li>throttleï¼šé€²åº¦æ¢çš„éš±è—èˆ‡é¡¯ç¤ºï¼Œé™åˆ¶åœ¨ç‰¹å®šæ™‚é–“å…§åƒ…è§¸ç™¼ä¸€æ¬¡ï¼Œå–®ä½ï¼š &lt;code>æ¯«ç§’&lt;/code>ï¼Œé è¨­å€¼ç‚º &lt;code>200&lt;/code>ã€‚&lt;/li>
&lt;/ul>
&lt;p>ç•¶æˆ‘å€‘å¾é¦–é åˆ‡æ›é é¢æ™‚ï¼Œç¶²é ä¸Šæ–¹å°±æœƒå‡ºç¾ä¸€å€‹é€²åº¦æ¢ï¼Œè¡¨ç¤ºé é¢æ­£åœ¨è¼‰å…¥ä¸­ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630763173_598b9351b6_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="é é¢åˆ‡æ›çš„è½‰å ´æ•ˆæœ">é é¢åˆ‡æ›çš„è½‰å ´æ•ˆæœ&lt;/h3>
&lt;p>é™¤äº†è¼‰å…¥çš„é€²åº¦æ¢ï¼Œé é¢åˆ‡æ›ä¹‹é–“ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è½‰å ´æ•ˆæœ (Transitions) ä¾†è®“é é¢ä¹‹é–“çš„éŠœæ¥æ›´æŸ”é †ï¼ŒNuxt åˆ©ç”¨äº† Vue å…§å»ºçš„ &lt;code>&amp;lt;Transition&amp;gt;&lt;/code> å…ƒä»¶ä¾†å¹«åŠ©è™•ç†è½‰å ´å’Œå‹•ç•«ï¼Œç”¨ä»¥éŸ¿æ‡‰ä¸æ–·è®ŠåŒ–çš„é é¢èˆ‡ç‹€æ…‹ã€‚&lt;/p>
&lt;p>Nuxt é è¨­ç‚ºæ‰€æœ‰é é¢ (Pages) éƒ½è¨­ç½®äº†è½‰å ´ï¼Œå¦‚æœè¦å•Ÿç”¨ï¼Œè«‹å°‡ä»¥ä¸‹ CSS æ·»åŠ è‡³ &lt;code>app.vue&lt;/code> ä¸­ï¼š&lt;/p>
&lt;h5 id="appvue-1">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">enter&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">active&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">leave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">active&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">transition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">all&lt;/span> &lt;span class="mf">0.4&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">enter&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">leave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">to&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">opacity&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">filter&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">blur&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="nx">rem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¯å€‹é é¢çš„ &lt;code>pageTransition&lt;/code> é è¨­å±¬æ€§çš†ç‚º &lt;code>{ name: 'page', mode: 'out-in' }&lt;/code>ï¼Œ&lt;strong>name&lt;/strong> ç‚º &lt;code>page&lt;/code> ä¹Ÿå°±å°æ‡‰äº† CSS é¡åˆ¥çš„é–‹é ­ï¼›&lt;strong>mode&lt;/strong> æœ‰ &lt;strong>in-out&lt;/strong>ã€&lt;strong>out-in&lt;/strong> åŠ &lt;strong>default&lt;/strong> ä¸‰ç¨®åƒæ•¸å¯é¸ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="o">.[&lt;/span>&lt;span class="nt">pageTransition&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">name&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="nt">-enter-active&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">.[&lt;/span>&lt;span class="nt">pageTransition&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">name&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="nt">-leave-active&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">transition&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">all&lt;/span> &lt;span class="mf">0.4&lt;/span>&lt;span class="kt">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">.[&lt;/span>&lt;span class="nt">pageTransition&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">name&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="nt">-enter-from&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">.[&lt;/span>&lt;span class="nt">pageTransition&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">name&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="nt">-leave-to&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">opacity&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">filter&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">blur&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="kt">rem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¥—ç”¨å¥½é é¢çš„è½‰å ´ï¼Œå°±æœƒæœ‰åˆ‡æ›é é¢æ™‚æœ‰æ¨¡ç³Šçš„æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630533604_548626fe62_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="è‡ªè¨‚é é¢çš„è½‰å ´">è‡ªè¨‚é é¢çš„è½‰å ´&lt;/h3>
&lt;p>æ—¢ç„¶çŸ¥é“ &lt;code>pageTransition&lt;/code> çš„ &lt;strong>name&lt;/strong> æœƒå°æ‡‰é é¢è½‰å ´çš„ CSS åç¨±ï¼Œæˆ‘å€‘å°±å¯ä»¥ä¾†è‡ªå®šç¾©æ›´å¤šè½‰å ´ï¼Œè®“ä¸åŒé é¢å¥—ç”¨ä¸åŒçš„æ•ˆæœã€‚&lt;/p>
&lt;p>ä¾‹å¦‚åœ¨ &lt;code>app.vue&lt;/code> æ·»åŠ  &lt;strong>rotate&lt;/strong> ç‚ºå‰ç¶´çš„é¡åˆ¥åç¨± CSSã€‚&lt;/p>
&lt;h5 id="appvue-2">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* ... */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">rotate&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">enter&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">active&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">rotate&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">leave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">active&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">transition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">all&lt;/span> &lt;span class="mf">0.4&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">rotate&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">enter&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">rotate&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">leave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">to&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">opacity&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">transform&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">rotate3d&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">15&lt;/span>&lt;span class="nx">deg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨é é¢ä¸­ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†è¨­å®š &lt;code>pageTransition.name&lt;/code> ç‚º &lt;code>rotate&lt;/code>ã€‚èª¿æ•´ &lt;code>./pages/login.vue&lt;/code> æ·»åŠ å¦‚ä¸‹ç¨‹å¼ç¢¼ã€‚&lt;/p>
&lt;h5 id="pagesloginvue-2">pages/login.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pageTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;rotate&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶é é¢åˆ‡æ›æ™‚ï¼Œçš†æœƒä½¿ç”¨é è¨­çš„æ¨¡ç³Šè½‰å ´æ•ˆæœï¼Œç•¶åˆ‡æ›è‡³ç™»å…¥é é¢å°±æœƒå¥—ç”¨æŒ‡å®šçš„ &lt;code>rotate&lt;/code> é é¢è½‰å ´ï¼Œè€Œæœ‰æ—‹è½‰çš„è½‰å ´æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630763038_308b2983b9_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="å¸ƒå±€çš„è½‰å ´æ•ˆæœ">å¸ƒå±€çš„è½‰å ´æ•ˆæœ&lt;/h3>
&lt;p>Nuxt åŒæ¨£ç‚ºæ‰€æœ‰å¸ƒå±€ (Layouts) éƒ½è¨­ç½®äº†è½‰å ´ï¼Œå¦‚æœè¦å•Ÿç”¨ï¼Œè«‹å°‡ä»¥ä¸‹ CSS æ·»åŠ è‡³ &lt;code>app.vue&lt;/code> ä¸­ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">layout-enter-active&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">layout-leave-active&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">transition&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">all&lt;/span> &lt;span class="mf">0.4&lt;/span>&lt;span class="kt">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">layout-enter-from&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">layout-leave-to&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">filter&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">grayscale&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;code>./layouts/teal.vue&lt;/code> å¸ƒå±€ï¼Œç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="layoutstealvue">layouts/teal.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;h-screen bg-teal-50&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°‡ç™»å…¥é é¢çš„å¸ƒå±€å¥—ç”¨ &lt;code>teal&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layout&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;teal&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;code>./layouts/green.vue&lt;/code> å¸ƒå±€ï¼Œç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="layoutsgreenvue">layouts/green.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;h-screen bg-teal-50&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°‡è¨»å†Šé é¢çš„å¸ƒå±€å¥—ç”¨ &lt;code>green&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layout&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;green&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ç™»å…¥é é¢èˆ‡è¨»å†Šé é¢åˆ‡æ›æ™‚ï¼Œå› ç‚ºå…©å€‹é é¢ä½¿ç”¨äº†ä¸åŒçš„å¸ƒå±€ï¼Œå¸ƒå±€çš„è½‰å ´æ•ˆæœï¼Œä½¿èƒŒå½±é¡è‰²æœƒæœ‰ç°éšæ•ˆæœçš„è½‰å ´ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630533474_082235081d_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ä½ ä¹Ÿå¯ä»¥åƒè‡ªè¨‚é é¢è½‰å ´ä¸€æ¨£ï¼Œä¾†ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> è¨­å®š &lt;code>layoutTransition.name&lt;/code> å±¬æ€§ï¼Œä¾†æŒ‡å®šè‡ªè¨‚çš„è½‰å ´æ•ˆæœã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layout&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;green&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layoutTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;slide-in&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç¦ç”¨è½‰å ´æ•ˆæœ">ç¦ç”¨è½‰å ´æ•ˆæœ&lt;/h3>
&lt;p>é é¢èˆ‡å¸ƒå±€çš„è½‰å ´æ•ˆæœï¼Œéƒ½å¯ä»¥é€é &lt;code>definePageMeta&lt;/code> ä¾†è¨­å®š &lt;code>pageTransition&lt;/code> æˆ– &lt;code>layoutTransition&lt;/code> ç‚º &lt;code>false&lt;/code> ä¾†ç¦æ­¢å¥—ç”¨è½‰å ´æ•ˆæœã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pageTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layoutTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å…¨åŸŸé è¨­çš„è½‰å ´æ•ˆæœ">å…¨åŸŸé è¨­çš„è½‰å ´æ•ˆæœ&lt;/h3>
&lt;p>ä½ ä¹Ÿå¯ä»¥åœ¨ &lt;code>nuxt.config.ts&lt;/code> è¨­ç½®é è¨­çš„é é¢èˆ‡è½‰å ´æ•ˆæœï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;h5 id="nuxtconfigts-1">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pageTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;fade&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;out-in&amp;#39;&lt;/span> &lt;span class="c1">// default
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layoutTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;slide&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;out-in&amp;#39;&lt;/span> &lt;span class="c1">// default
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ç„¶è¦å°‡æ‰€æœ‰é é¢èˆ‡å¸ƒå±€é è¨­ç¦ç”¨ä¹Ÿå¯ä»¥è¨­ç½®å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pageTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layoutTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>pageTransition&lt;/code> èˆ‡ &lt;code>layoutTransition&lt;/code> æ¥å—çš„å±¬æ€§å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://vuejs.org/api/built-in-components.html#transition" target="_blank" rel="noopener"
>TransitionProps&lt;/a>ã€‚&lt;/p>
&lt;h3 id="å…ƒä»¶å±¬æ€§å‚³å…¥-transition">å…ƒä»¶å±¬æ€§å‚³å…¥ transition&lt;/h3>
&lt;p>åœ¨ &lt;code>app.vue&lt;/code> ä¸­ä½¿ç”¨ &lt;code>&amp;lt;NuxtPage /&amp;gt;&lt;/code> æ™‚ï¼Œä½ å¯ä»¥å°‡ &lt;strong>TransitionProps&lt;/strong> ä½œç‚ºå…ƒä»¶çš„ Props ä¾†å•Ÿç”¨å…¨åŸŸé è¨­çš„è½‰å ´æ•ˆæœã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="o">:&lt;/span>&lt;span class="na">transition&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> name: &amp;#39;bounce&amp;#39;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> mode: &amp;#39;out-in&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> }&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ç•¶ä½¿ç”¨æ­¤æ–¹æ³•è¨­å®šè½‰å ´æ•ˆæœæ™‚ï¼Œå°±ä¸èƒ½åœ¨é é¢ä¸­ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†è¦†è“‹é€™è£¡çš„é é¢è½‰å ´è¨­ç½®ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ä»¥ä¸Šæˆ‘å€‘ä¸»è¦å¯¦ä½œäº†å°èˆªå®ˆè¡›ï¼Œä¾†ç‚ºç‰¹å®šé é¢æ·»åŠ ç€è¦½çš„æ¬Šé™ï¼Œæˆ‘å€‘é™¤äº†ä½¿ç”¨å®¢æˆ¶ç«¯çš„ User Store é©—è­‰å¤–ï¼Œä¹Ÿå¯ä»¥æ­é… Cookie å†å¾Œç«¯é€²è¡Œé©—è­‰ï¼Œç”šè‡³ç‚ºæ¯å€‹è«‹æ±‚è§£æä½¿ç”¨è€…ï¼Œä¸¦æŸ¥è©¢è³‡æ–™åº«æ˜¯å¦å…·æœ‰æ¬Šé™ç€è¦½ï¼Œä»¥æ­¤ä¾†æ§åˆ¶ä½¿ç”¨è€…ç€è¦½é é¢çš„æ¬Šé™ï¼Œé™¤äº†å‰ç«¯çš„é˜»æ“‹å¤–ï¼Œæ›´é‡è¦çš„æ˜¯å¾Œç«¯ API ä¹Ÿéœ€è¦æ­é…é€²è¡Œæ¬Šé™é©—è­‰ï¼Œæ‰èƒ½æœ‰è¦çš„é˜²æ­¢ç¶²é æ¼æ´ç”¢ç”Ÿï¼Œå¦å‰‡å¯èƒ½æœƒç™¼ç”Ÿï¼Œä½¿ç”¨è€…ç„¡æ¬Šç€è¦½æ–°å¢æˆ–ç®¡ç†çš„é é¢ï¼Œä½†æ˜¯å¯ä»¥é€éæ‰“ API ä¾†é€²è¡Œç›¸é—œæ“ä½œï¼Œé€™æ¨£æ˜¯éå¸¸å±éšªçš„ã€‚æœ€å¾Œï¼Œæˆ‘å€‘å°‡é é¢åˆ‡æ›æ™‚è¨­ç½®äº†é€²åº¦æ¢èˆ‡è½‰å ´æ•ˆæœï¼Œä½¿å¾—æ•´é«”ç¶²ç«™èƒ½æä¾›ä½¿ç”¨è€…æ›´å¥½çš„æ“ä½œé«”é©—ï¼Œæ›´å¤šçš„è½‰å ´è¨­ç½®ï¼Œä¹Ÿå¯ä»¥åƒè€ƒ &lt;a class="link" href="https://nuxt.com/docs/getting-started/transitions" target="_blank" rel="noopener"
>Nuxt å®˜æ–¹æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/wjdesign/ithome-2022-ironman-nuxt3/tree/day23/nuxt-app-blog-navigation-guards" target="_blank" rel="noopener"
>ç¯„ä¾‹ç¨‹å¼ç¢¼ - Nuxt 3 - è¨­ç½®å°èˆªå®ˆè¡›èˆ‡é é¢åˆ‡æ›æ•ˆæœç¯„ä¾‹&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="æ·»åŠ -html-meta-tag">æ·»åŠ  HTML Meta Tag&lt;/h2>
&lt;p>è©³ç´° Nuxt3 æ·»åŠ  HTML Meta Tag çš„èªªæ˜ï¼Œå¯ä»¥åƒè€ƒ &lt;a class="link" href="https://wayneblog.ga/2023-01-14/nuxt-try-nuxt3/#%e6%90%9c%e5%b0%8b%e5%bc%95%e6%93%8e%e6%9c%80%e4%bd%b3%e5%8c%96-seo-%e8%88%87-html-meta-tag" >ã€Nuxt3ã€‘é–‹ç®±å³ç”¨çš„ Nuxt3 ç©è½‰ç­†è¨˜ - æœå°‹å¼•æ“æœ€ä½³åŒ– (SEO) èˆ‡ HTML Meta Tag&lt;/a>ï¼Œé€™é‚Šæˆ‘å€‘èªªæ˜ç‚ºå¯¦ä½œçš„éƒ¨è½æ ¼æ–‡ç« æ·»åŠ  Metaï¼Œèª¿æ•´ &lt;code>./pages/articles/[id].vue&lt;/code> æª”æ¡ˆï¼Œæ·»åŠ ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;h5 id="pagesarticlesidvue">pages/articles/[id].vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">meta&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;description&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">summary&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> | Nuxt 3 Blog`&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;keywords&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">tags&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">property&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;og:title&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> | Nuxt 3 Blog`&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">property&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;og:description&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">summary&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">property&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;og:image&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cover&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> | Nuxt 3 Blog`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­ &lt;code>article&lt;/code> æ˜¯æˆ‘å€‘å¾ Server API å›å‚³çš„æŒ‡å®šè²¼æ–‡çš„è³‡æ–™ä¸¦å…·æœ‰éŸ¿æ‡‰æ€§ï¼Œæœ€å¾Œçœ‹çœ‹æˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630723575_6dd0823515_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>åœ¨ Nuxt 3 æä¾›äº†ä¸€äº›å¯ä»¥è¨­ç½®ç¶²é å±¬æ€§èˆ‡ &lt;strong>Meta&lt;/strong> çš„çµ„åˆå¼å‡½æ•¸ï¼Œæ›´èƒ½å‹•æ…‹çš„èª¿æ•´èˆ‡éŸ¿æ‡‰ï¼Œçµåˆ SSR è®“é€™äº›æ¨™è¨˜åœ¨ä¼ºæœå™¨ç«¯å°±èƒ½æ¸²æŸ“å‡ºä¾†ï¼Œå°ç¶²ç«™åšæœå°‹å¼•æ“æœ€ä½³åŒ– (SEO) éå¸¸å¾—å‹å–„ï¼Œä¹Ÿæ˜¯å¤šæ•¸äººé¸æ“‡ Nuxt 3 ä¾†è™•ç† SSR èˆ‡ SEO çš„åŸå› ã€‚é™¤äº† SEO å¯èƒ½æœƒä½¿ç”¨åˆ°çš„çš„æ¨™è¨˜å¤–ï¼Œä¹Ÿæœ‰ &lt;strong>OG Tag&lt;/strong> å¯ä»¥åŠ å¼·ç¶²é çš„é€£çµé è¦½æ•ˆæœï¼Œé›–ç„¶ &lt;strong>OG Tag&lt;/strong> èˆ‡ SEO æ²’æœ‰çµ•å°çš„é—œä¿‚ï¼Œä½†æ˜¯é€éä¼ºæœå™¨ç«¯æ¸²æŸ“èª¿æ•´é€™äº› &lt;strong>Meta&lt;/strong> å°æœå°‹å¼•æ“æˆ–ç¶²ç«™éƒ½éå¸¸çš„æ–¹ä¾¿ï¼Œæˆ‘å€‘åªè¦æ ¹æ“šéœ€æ±‚åŠæŒ‡å¼•åšè¨­å®šï¼Œå°±èƒ½å°ç¶²ç«™çš„èƒ½è¦‹åº¦æœ‰æ‰€æå‡ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="é‚å‘åœ‹éš›åŒ–å¯¦ä½œå¤šåœ‹èªç³»i18n">é‚å‘åœ‹éš›åŒ–å¯¦ä½œå¤šåœ‹èªç³»I18n&lt;/h2>
&lt;p>ç•¶ä¸€å€‹ç¶²ç«™éœ€è¦é¢å‘ä¸åŒåœ‹å®¶æˆ–ä¸åŒèªè¨€çš„ä½¿ç”¨è€…ï¼Œæˆ‘å€‘å°±éœ€è¦åš&lt;strong>åœ‹éš›åŒ– (Internationalization)&lt;/strong>ï¼Œå°‡ç¶²ç«™å…§å®¹é€²è¡Œç¿»è­¯æˆ–èªè¨€çš„å°æ‡‰ï¼Œè®“ä½¿ç”¨è€…èƒ½ç†è§£ç¶²é ä¸Šçš„æ“ä½œæˆ–å…§å®¹ï¼ŒI18n æ„è¬‚è‘—ã€ŒInternationalizationã€é€™å€‹å–®å­—ä¸­ï¼ŒI å’Œ n ä¹‹é–“æœ‰ 18 å€‹å­—æ¯ï¼Œä¹Ÿæ­£æ˜¯å„å€‹æ¡†æ¶çš„å¯¦ä½œå¤šåœ‹èªç³»å¥—ä»¶çš„ä¸€å€‹å¸¸ç”¨åç¨±ï¼Œä¾‹å¦‚ Vue ç”Ÿæ…‹å°±æœ‰ &lt;a class="link" href="https://kazupon.github.io/vue-i18n" target="_blank" rel="noopener"
>vue-i18n&lt;/a>ï¼Œè€Œé€™ç¯‡æ–‡ç« å°‡è¬›è¿°å¦‚ä½•åœ¨ Nuxt 3 ä¸­æ•´åˆ Vue I18n ä¾†å”åŠ©å¯¦ä½œå¤šåœ‹èªç³»ã€‚&lt;/p>
&lt;h3 id="nuxt-3-ä½¿ç”¨-vue-i18n">Nuxt 3 ä½¿ç”¨ Vue I18n&lt;/h3>
&lt;p>æƒ³è¦åœ¨ Vue 3 ä½¿ç”¨ Vue I18n ç²å¾—æ¯”è¼ƒå¥½çš„æ”¯æ´åº¦éœ€è¦ä½¿ç”¨æ­£è™•æ–¼ Beta éšæ®µçš„ &lt;a class="link" href="https://github.com/intlify/vue-i18n-next" target="_blank" rel="noopener"
>v9 ç‰ˆæœ¬&lt;/a>ï¼Œå› æ­¤æœ‰å¹¾ç¨®æ–¹å¼å¯ä»¥åœ¨ Nuxt æ•´åˆ Vue I18nï¼Œåˆ†åˆ¥æ˜¯ä¾ç…§ &lt;a class="link" href="https://vue-i18n.intlify.dev/guide/integrations/nuxt3.html" target="_blank" rel="noopener"
>Vue I18n å®˜æ–¹æŒ‡å¼•&lt;/a>ã€ä½¿ç”¨ Nuxt Communityæä¾›çš„ &lt;a class="link" href="https://github.com/nuxt-modules/i18n/tree/next" target="_blank" rel="noopener"
>@nuxtjs/i18n@next&lt;/a> æ¨¡çµ„åŠ &lt;a class="link" href="https://github.com/intlify/nuxt3" target="_blank" rel="noopener"
>@intlify/nuxt3&lt;/a> æ¨¡çµ„ã€‚&lt;/p>
&lt;p>æ¯”è¼ƒæ—©ä»¥å‰ï¼ŒNuxt 3 ç¤¾ç¾¤æ¨¡çµ„é‚„æ²’æœ‰æ”¯æ´æ¯”è¼ƒæ–°çš„ Vue I18nï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±é¡å¤–çš„è£½ä½œæ’ä»¶ä¾†å®‰è£ï¼Œå¾Œä¾†ä¹Ÿæœ‰ä¸€äº›ç›¸å®¹æ€§çš„å•é¡Œï¼Œæ‰€ä»¥ Vue I18n v9 çš„ä½œè€… &lt;a class="link" href="https://github.com/kazupon" target="_blank" rel="noopener"
>kazupon&lt;/a> ç™¼å¸ƒäº† &lt;a class="link" href="https://github.com/intlify/nuxt3" target="_blank" rel="noopener"
>@intlify/nuxt3&lt;/a> æ¨¡çµ„ä¾†æ–¹ä¾¿ Nuxt 3 æ•´åˆ &lt;a class="link" href="https://github.com/intlify/vue-i18n-next" target="_blank" rel="noopener"
>vue-i18n-next&lt;/a> (Vue I18n v9)ï¼Œç›®å‰ä»ç„¶å¯ä»¥ä½¿ç”¨ &lt;a class="link" href="https://github.com/intlify/nuxt3" target="_blank" rel="noopener"
>@intlify/nuxt3&lt;/a> ä¾†é€²è¡Œæ•´åˆï¼Œä½†æˆ‘æœ€å¾Œé¸æ“‡ä½¿ç”¨ &lt;a class="link" href="https://github.com/nuxt-modules/i18n/tree/next" target="_blank" rel="noopener"
>@nuxtjs/i18n@next&lt;/a> æ¨¡çµ„ï¼Œé™¤äº†çœ‹å¥½æ˜¯ç”± Nuxt Community æä¾›çš„æ”¯æ´åŠæœªä¾†çš„ç™¼å±•å¤–ï¼Œä¹Ÿèƒ½ä½¿ç”¨åˆ° &lt;strong>@nuxtjs/i18n&lt;/strong> æä¾›çš„ä¸€äº›çµ„åˆå‡½æ•¸ç­‰ã€‚&lt;/p>
&lt;h3 id="nuxt-3-æ•´åˆ-nuxtjsi18n">Nuxt 3 æ•´åˆ @nuxtjs/i18n&lt;/h3>
&lt;p>ç›®å‰ &lt;code>@nuxtjs/i18n&lt;/code> æ¨¡çµ„çš„ç©©å®šç‰ˆæœ¬åœ¨ v7.3.0ï¼Œè€Œä½¿ç”¨ Vue 3 å’Œ Vue I18n v9 çš„æ¨¡çµ„å‰‡æ˜¯&lt;a class="link" href="https://github.com/nuxt-modules/i18n/tree/next" target="_blank" rel="noopener"
>ä¸‹ä¸€å€‹è¿­ä»£ç‰ˆæœ¬&lt;/a> v8ï¼Œæ‰€ä»¥ä½¿ç”¨ NPM å®‰è£çš„æ™‚å€™éœ€è¦ç¨å¾®æ³¨æ„ä¸€ä¸‹ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ä¸‹åœ–æ–¼ 2020/10/10 æ“·å–è‡ª &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/i18n?activeTab=versions" target="_blank" rel="noopener"
>NPM - @nuxyjs/i18n&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52658265884_72ff895ee1_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="step-1-å®‰è£-nuxtjsi18n">Step 1. å®‰è£ @nuxtjs/i18n&lt;/h4>
&lt;p>ç›®å‰æœ‰ A æˆ– B å…©ç¨®æ–¹å¼å¯ä»¥å®‰è£ @nuxtjs/i18n v8 åˆ†åˆ¥å¦‚ä¸‹ï¼Œå¯ä»¥é¸æ“‡å…¶ä¸­ä¸€ç¨®å³å¯ï¼š&lt;/p>
&lt;p>&lt;strong>A. ä½¿ç”¨ next æ¨™ç±¤ä¾†å®‰è£ v8 ç‰ˆæœ¬&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D @nuxtjs/i18n@next
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D @nuxtjs/i18n@next&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>B. å®‰è£ @nuxtjs/i18n-edge (Edge Version)&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>æ·»åŠ  &lt;strong>&amp;quot;@nuxtjs/i18n&amp;quot;: &amp;ldquo;npm:@nuxtjs/i18n-edge&amp;rdquo;&lt;/strong> è‡³ &lt;code>package.json&lt;/code> çš„ &lt;code>dependencies&lt;/code> æˆ– &lt;code>devDependencies&lt;/code> ä¾è³´ä¸­ï¼Œçœ‹èµ·ä¾†å¯èƒ½åƒé€™æ¨£ï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;devDependencies&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;@nuxtjs/i18n&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;npm:@nuxtjs/i18n-edge&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>åŸ·è¡Œ npm install&lt;/li>
&lt;/ol>
&lt;p>é€™é‚Šæˆ‘ä½¿ç”¨çš„æ˜¯ç”¨ &lt;code>next&lt;/code> æ¨™ç±¤ä¾†å®‰è£ã€‚&lt;/p>
&lt;h4 id="step-2-æ·»åŠ æ¨¡çµ„">Step 2. æ·»åŠ æ¨¡çµ„&lt;/h4>
&lt;p>æ–¼ &lt;code>nuxt.config.ts&lt;/code> ä¸­çš„ &lt;code>modules&lt;/code> å±¬æ€§æ·»åŠ  &lt;code>'@nuxtjs/i18n'&lt;/code>ï¼Œåƒè€ƒå¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="nuxtconfigts-2">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@nuxtjs/i18n&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-è¨­å®š-i18n-åƒæ•¸">Step 3. è¨­å®š i18n åƒæ•¸&lt;/h4>
&lt;p>ç•¶æ·»åŠ å®Œæ¨¡çµ„å¾Œï¼Œæˆ‘å€‘å¯ä»¥å…ˆè¨­ç½® &lt;strong>@nuxhjs/i18n&lt;/strong> æ¨¡çµ„çš„é¸é …ï¼Œä¾†æ¸¬è©¦æ˜¯å¦èƒ½æ­£å¸¸é‹ä½œï¼Œæ–¼ &lt;code>nuxt.config.ts&lt;/code> ä¸­ï¼Œæ·»åŠ  &lt;code>i18n&lt;/code> å±¬æ€§ï¼Œç”¨ä»¥è¨­ç½®**@nuxhjs/i18n** æ¨¡çµ„ï¼›&lt;code>i18n.vueI18n&lt;/code> è¨­ç½®çš„é¸é …ä¹Ÿå¯ä»¥åƒè€ƒ &lt;a class="link" href="https://vue-i18n.intlify.dev/api/general.html#createi18n" target="_blank" rel="noopener"
>Vue I18n v9 å®˜æ–¹æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts-3">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@nuxtjs/i18n&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">i18n&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vueI18n&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">legacy&lt;/span>: &lt;span class="kt">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">locale&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;zh&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">messages&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">en&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hello&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello!&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">language&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Language&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">zh&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hello&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ä½ å¥½!&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">language&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;èªè¨€&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>è¨˜å¾—è¨­ç½® &lt;code>i18n.vueI18n.legacy&lt;/code> ç‚º &lt;code>false&lt;/code> ä¾†é—œé–‰ä½¿ç”¨è¼ƒèˆŠçš„ API æ¨¡å¼ã€‚&lt;/p>
&lt;/blockquote>
&lt;h4 id="step-4-ç¢ºèªå°ˆæ¡ˆä¸‹çš„-pages-ç›®éŒ„">Step 4. ç¢ºèªå°ˆæ¡ˆä¸‹çš„ pages ç›®éŒ„&lt;/h4>
&lt;p>ç•¶å®Œæˆ Step 3. çš„æ¨¡çµ„è¨­ç½®å¾Œï¼Œå°±å¯ä»¥å•Ÿå‹•ä¼ºæœå™¨ä¾†çœ‹çœ‹æ•ˆæœï¼›ä¸éè‹¥æ˜¯ Nuxt 3 å°ˆæ¡ˆç›®éŒ„ä¸‹ç¼ºå°‘äº† &lt;code>pages&lt;/code> ç›®éŒ„ï¼Œå¯èƒ½æœƒç„¡æ³•å•Ÿç”¨ Vue Router è‡ªå‹•ç”¢ç”Ÿè·¯ç”±ï¼Œè€Œå‡ºç¾ä¸‹åœ–çš„éŒ¯èª¤ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52658429590_5f6755628e_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æˆ‘å€‘åªéœ€è¦æ–°å¢ &lt;code>./pages/ingex.vue&lt;/code> è·¯ç”±é é¢ï¼Œå°±å¯ä»¥è§£æ±ºéŒ¯èª¤å›‰ï¼&lt;/p>
&lt;h3 id="å»ºç«‹è‹±èªå’Œç¹é«”ä¸­æ–‡çš„èªç³»åˆ‡æ›">å»ºç«‹è‹±èªå’Œç¹é«”ä¸­æ–‡çš„èªç³»åˆ‡æ›&lt;/h3>
&lt;p>æˆ‘å€‘å®‰è£èˆ‡é…ç½®å¥½ &lt;strong>@nuxtjs/i18n&lt;/strong> å¾Œï¼Œå¯ä»¥å˜—è©¦å»ºç«‹é é¢ä¾†çœ‹çœ‹æ•ˆæœï¼Œä»¥ä¸‹ä»¥ &lt;code>en&lt;/code> èˆ‡ &lt;code>zh&lt;/code> ä½œç‚ºè‹±èªå’Œç¹é«”ä¸­æ–‡å…©å€‹èªç³»çš„ä½¿ç”¨ç¯„ä¾‹ã€‚&lt;/p>
&lt;p>æ–°å¢ &lt;code>./pages/index.vue&lt;/code> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesindexvue">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-48 text-8xl font-medium text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">$t&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨ &lt;code>$t()&lt;/code> ä¾†å‚³å…¥æˆ‘å€‘åœ¨ &lt;code>nuxt.config.ts&lt;/code> ä¸­çš„ &lt;code>i18n.vueI18n.messages&lt;/code> å®šç¾©èªç³»èˆ‡å°æ‡‰çš„æ–‡å­—ï¼Œè€Œæˆ‘å€‘é è¨­æ˜¯ &lt;code>zh&lt;/code> ç¹é«”ä¸­æ–‡èªç³»ï¼Œç•«é¢ä¸Šå°±å‡ºç¾ &lt;strong>hello: &amp;lsquo;ä½ å¥½!&amp;rsquo;&lt;/strong> å°æ‡‰çš„ã€Œä½ å¥½!ã€æ–‡å­—å›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52657492347_b9e6e46d40_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æ–°å¢æŒ‰éˆ•ä¾†å¯¦ç¾åˆ‡æ›ä¸åŒçš„èªç³»ï¼Œå®Œæ•´çš„ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-48 text-8xl font-medium text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">$t&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-24 space-x-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;inline-flex items-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-700 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;setLocale(&amp;#39;en&amp;#39;)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">English&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;inline-flex items-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-700 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;setLocale(&amp;#39;zh&amp;#39;)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç¹é«”ä¸­æ–‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 flex flex-row justify-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">$t&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;language&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ml-4 font-bold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">locale&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥æ²’æœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œåˆ‡æ›èªç³»ä½ å¯ä»¥é¸æ“‡ç›´æ¥è¨­å®š &lt;code>locale&lt;/code> ä¾†è‡ªå‹•éŸ¿æ‡‰æˆ–ä½¿ç”¨ &lt;code>setLocale()&lt;/code> ä¾†è¨­å®šèªç³»ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setLocale&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;en&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// or
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">setLocale&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;en&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®Œæˆå¾Œæˆ‘å€‘å°±å¯ä»¥åˆ‡æ› &lt;code>en&lt;/code> èˆ‡ &lt;code>zh&lt;/code> èªç³»ï¼Œç•¶ç„¶ä½ ä¹Ÿå¯ä»¥è£½ä½œæˆé¸å–®ä¾†æ”¾ç½®æ›´å¤šçš„èªç³»ä¾†æ”¯æ´åˆ‡æ›ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52658265989_72dbc51a8e_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="ç¨ç«‹å­˜æ”¾èªç³»æª”æ¡ˆ">ç¨ç«‹å­˜æ”¾èªç³»æª”æ¡ˆ&lt;/h3>
&lt;p>éš¨è‘—å°ˆæ¡ˆå¢å¤§ï¼Œèªç³»çš„ç¿»è­¯æ•¸é‡ä¹Ÿæœƒå¢å¤šï¼Œè€Œå…¨éƒ¨æ”¾åœ¨ &lt;code>nuxt.config.ts&lt;/code> ä¸­ä¹Ÿå¯¦åœ¨å¤ªéå†—é•·ï¼Œæ‰€ä»¥æˆ‘ç¿’æ…£ç¨ç«‹æ”¾ç½®åœ¨ä¸€å€‹è³‡æ–™å¤¾å…§åšè™•ç†ã€‚&lt;/p>
&lt;p>ç¨å¾®èª¿æ•´ä¸€ä¸‹ &lt;code>nuxt.config.ts&lt;/code> å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="nuxtconfigts-4">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@nuxtjs/i18n&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">i18n&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">defaultLocale&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;zh&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">langDir&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;locales&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">locales&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">code&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;en&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">file&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;en.json&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">iso&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;en-US&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;English&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">code&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;zh&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">file&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;zh.json&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">iso&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;zh-TW&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ç¹é«”ä¸­æ–‡&amp;#39;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">strategy&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;no_prefix&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vueI18n&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">legacy&lt;/span>: &lt;span class="kt">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘å°±å¯ä»¥å»ºç«‹å„å€‹èªç³»æ”¾ç½®çš„è³‡æ–™å¤¾å°æ‡‰è‘— &lt;code>i18n.langDir&lt;/code> å±¬æ€§ï¼Œç›®éŒ„åç¨±ç‚º &lt;code>locales&lt;/code>ï¼Œå†ä¾åºå»ºç«‹ &lt;code>en.json&lt;/code> èˆ‡ &lt;code>zh.json&lt;/code> æª”æ¡ˆï¼Œæœ€çµ‚ç›®éŒ„çš„çµæ§‹å¤§æ¦‚æœƒé•·é€™æ¨£ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nuxt-app/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ locales/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”œâ”€â”€ en.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ zh.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ nuxt.config.ts
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>./locales/en.json å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="localesenjson">locales/en.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hello&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Hello!&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;language&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Language&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>./locales/zh.json å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="localeszhjson">locales/zh.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hello&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ä½ å¥½!&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;language&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;èªè¨€&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¿»è­¯çš„èªç³»æª”æ¡ˆï¼Œä¹Ÿå¯ä»¥åœ¨æ ¹æ“šéœ€æ±‚ä½¿ç”¨ &lt;strong>.js&lt;/strong>ã€&lt;strong>yaml&lt;/strong> æˆ– &lt;strong>json&lt;/strong> æ ¼å¼çš„æª”æ¡ˆï¼Œä¾†æ­é…æ¥å—åƒæ•¸ä¾†ç”¢ç”Ÿç¿»è­¯æ–‡å­—ã€‚&lt;/p>
&lt;h3 id="æŒä¹…åŒ–èªç³»è¨­å®š">æŒä¹…åŒ–èªç³»è¨­å®š&lt;/h3>
&lt;p>ç•¶ä½¿ç”¨è€…åˆ‡æ›èªç³»ä¹‹å¾Œï¼Œæˆ‘å€‘å¸Œæœ›å„²å­˜é€™å€‹èªç³»è¨­å®šï¼Œè®“ä½¿ç”¨è€…ä¸‹æ¬¡ç€è¦½ç¶²ç«™æ™‚ï¼Œèƒ½å¥—ç”¨å„²å­˜çš„èªç³»ï¼Œè€Œä¸ç”¨å†æ¬¡åˆ‡æ›ï¼Œæˆ‘å€‘å¯ä»¥è—‰ç”±ç€è¦½å™¨çš„ &lt;strong>LocalStorage&lt;/strong> æˆ– &lt;strong>Cookie&lt;/strong> ä¾†æŒä¹…åŒ–ã€‚&lt;/p>
&lt;h4 id="localstorage-ä¾†å„²å­˜èªç³»è¨­å®š">LocalStorage ä¾†å„²å­˜èªç³»è¨­å®š&lt;/h4>
&lt;p>æˆ‘å€‘å¯ä»¥åœ¨è®Šæ›´èªç³»æ™‚ï¼ŒåŒæ™‚å°‡èªç³»å„²å­˜è‡³ LocalStorage ä¹‹ä¸­ï¼Œä¸‹æ¬¡ç€è¦½ç¶²ç«™æ™‚ï¼Œå†å¾ä¸­å–å‡ºå¥—ç”¨èªç³»ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘èª¿æ•´ &lt;code>./pages/index.vue&lt;/code> ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼Œåœ¨æˆ‘å€‘è‡ªè¨‚çš„ &lt;code>changeLanguage()&lt;/code> æ–¹æ³•å…§ï¼ŒåŒæ™‚å‘¼å« &lt;code>localStorage.setItem('i18n-lang', localeCode)&lt;/code> ä¾†å„²å­˜èªç³»ã€‚&lt;/p>
&lt;h5 id="pagesindexvue-1">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-48 text-8xl font-medium text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">$t&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-24 space-x-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">v-for&lt;/span>&lt;span class="s">=&amp;#34;localeItem in locales&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> :key=&amp;#34;localeItem.code&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> type=&amp;#34;button&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> class=&amp;#34;inline-flex items-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-700 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> @click=&amp;#34;changeLanguage(localeItem.code)&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> {{ localeItem.name }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;/button&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;/div&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;div class=&amp;#34;mt-4 flex flex-row justify-center&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;label class=&amp;#34;text-gray-600&amp;#34;&amp;gt;{{ $t(&amp;#39;language&amp;#39;) }}&amp;lt;/label&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;span class=&amp;#34;ml-4 font-bold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="na">locale&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">locales&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">changeLanguage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">localeCode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">localStorage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setItem&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;i18n-lang&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èª¿æ•´ &lt;code>app.vue&lt;/code> å¾ LocalStorage è®€å– &lt;code>i18n-lang&lt;/code> çš„è¨­å®šå€¼&lt;/p>
&lt;h5 id="appvue-3">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">defaultLocaleCode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">client&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">localStorage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getItem&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;i18n-lang&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">??&lt;/span> &lt;span class="nx">defaultLocaleCode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ä¸‹æ¬¡æˆ‘å€‘ç€è¦½ç¶²ç«™æ™‚ï¼Œå°±æœƒæŸ¥çœ‹ LocalStorage ä¸­çš„èªç³»è¨­å®šä¸¦å¥—ç”¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52657982231_da9975d14a_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="cookie-ä¾†å„²å­˜èªç³»è¨­å®š">Cookie ä¾†å„²å­˜èªç³»è¨­å®š&lt;/h4>
&lt;p>Nuxt 3 çš„ä¼ºæœå™¨æ¸²æŸ“ï¼Œæœƒå°è‡´ç¬¬ä¸€æ¬¡çš„è«‹æ±‚ç„¡æ³•åœ¨ä¼ºæœå™¨ç«¯å–å¾— LocalStorage çš„è¨­å®šï¼Œæ‰€ä»¥ä¸Šé¢çš„ä¾‹å­ï¼Œä»”ç´°çœ‹æœƒç™¼ç¾ï¼Œé›–ç„¶æ­£ç¢ºçš„å¥—ç”¨å„²å­˜çš„ &lt;code>en&lt;/code> è‹±èªèªç³»è¨­å®šï¼Œä½†ç•«é¢æ˜¯å…ˆå¾é è¨­çš„ &lt;code>zh&lt;/code> ç¹é«”ä¸­æ–‡å†åˆ‡æ›éå»ï¼Œå°è‡´èªç³»åˆ‡æ›æ™‚é–ƒäº†ä¸€ä¸‹ã€‚&lt;/p>
&lt;p>æˆ‘å€‘å¯ä»¥é€éä½¿ç”¨ cookie çš„æ–¹å¼ä¾†å„²å­˜èªç³»ï¼Œé€™æ¨£ä¼ºæœå™¨ç«¯åœ¨æ¥å—ç¬¬ä¸€æ¬¡è«‹æ±‚æ™‚ä¹Ÿèƒ½è§£æå‡ºä½¿ç”¨è€…çš„åå¥½è¨­å®šï¼Œå›å‚³æ­£ç¢ºçš„èªç³»ç¿»è­¯æ–‡å­—ã€‚&lt;/p>
&lt;p>ä½ å¯ä»¥è‡ªå·±ä½¿ç”¨ Nuxt 3 æä¾› useCookie ç­‰æ–¹å¼æ“ä½œ cookie ä¾†å¯¦ç¾é€™å¥—æµç¨‹ï¼Œä¸éå‘¢ï¼Œ&lt;strong>@nuxtjs/i18n&lt;/strong> æ¨¡çµ„é è¨­æ˜¯å•Ÿç”¨ cookie ç›¸é—œçš„è¨­å®šï¼Œæä¾›çš„ &lt;code>setLocaleCookie()&lt;/code> èˆ‡ &lt;code>getLocaleCookie()&lt;/code> å¯ä»¥ä¾†å”åŠ©å„²å­˜èªç³»è¨­å®šè‡³ cookieã€‚&lt;/p>
&lt;p>èª¿æ•´ &lt;code>./pages/index.vue&lt;/code> ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼Œåœ¨æˆ‘å€‘è‡ªè¨‚çš„ &lt;code>changeLanguage()&lt;/code> æ–¹æ³•å…§ï¼ŒåŒæ™‚å‘¼å« &lt;code>setLocaleCookie(localeCode)&lt;/code> ä¾†å„²å­˜èªç³»ã€‚&lt;/p>
&lt;h5 id="pagesindexvue-2">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-48 text-8xl font-medium text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">$t&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-24 space-x-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">v-for&lt;/span>&lt;span class="s">=&amp;#34;localeItem in locales&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> :key=&amp;#34;localeItem.code&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> type=&amp;#34;button&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> class=&amp;#34;inline-flex items-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-700 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> @click=&amp;#34;changeLanguage(localeItem.code)&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> {{ localeItem.name }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;/button&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;/div&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;div class=&amp;#34;mt-4 flex flex-row justify-center&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;label class=&amp;#34;text-gray-600&amp;#34;&amp;gt;{{ $t(&amp;#39;language&amp;#39;) }}&amp;lt;/label&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;span class=&amp;#34;ml-4 font-bold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="na">locale&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">locales&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setLocaleCookie&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">changeLanguage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">localeCode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setLocaleCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èª¿æ•´ &lt;code>app.vue&lt;/code> å‘¼å« &lt;code>getLocaleCookie()&lt;/code> å¾ cookie è§£æçš„è¨­å®šå€¼ï¼Œä¸¦å†é€²è¡Œå¥—ç”¨ã€‚&lt;/p>
&lt;h5 id="appvue-4">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">getLocaleCookie&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">defaultLocaleCode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getLocaleCookie&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">??&lt;/span> &lt;span class="nx">defaultLocaleCode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘ä½¿ç”¨ &lt;code>setLocaleCookie()&lt;/code> å„²å­˜èªç³»è‡³ cookieï¼Œæœƒå°‡ localeCode å„²å­˜åœ¨ cookie çš„ &lt;code>i18n_redirected&lt;/code> å€¼ä¸Šï¼Œç•¶æˆ‘å€‘é‡æ–°é€²å…¥ç¶²é ï¼Œcookie ä¹Ÿå°‡è‡ªå‹•å¤¾å¸¶äº†é€™å€‹ cookie éå»çµ¦ä¼ºæœå™¨ç«¯ï¼Œä¸¦ç”± &lt;code>getLocaleCookie()&lt;/code> è§£æå†ç”±æˆ‘å€‘é€²è¡Œèªç³»å¥—ç”¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52657492437_ee15a398eb_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å…¶å¯¦ &lt;strong>@nuxtjs/i18n&lt;/strong> å› ç‚ºå·²å°‡ detectBrowserLanguage.useCookie é è¨­ç‚º true ç­‰å•Ÿç”¨äº† cookie å„²å­˜çš„ç›¸é—œè¨­å®šï¼Œç•¶ä½¿ç”¨è€…é€²å…¥ç¶²ç«™æ™‚ï¼Œå°±æœƒå˜—è©¦æª¢æŸ¥ç€è¦½å™¨çš„ cookie ä¾†å°‡ä½¿ç”¨è€…å„²å­˜çš„åå¥½èªè¨€é€²è¡Œå¥—ç”¨æˆ–é‡å®šå‘ã€‚&lt;/p>
&lt;p>å› æ­¤ï¼Œæˆ‘å€‘åœ¨ &lt;code>app.vue&lt;/code> ä¹Ÿä¸éœ€è¦ç‰¹åˆ¥å¾ cookie å–å‡ºå†é€²è¡Œå¥—ç”¨ï¼Œ&lt;strong>@nuxtjs/i18n&lt;/strong> æœƒè‡ªå‹•å¹«æˆ‘å€‘å®Œæˆã€‚&lt;/p>
&lt;h5 id="appvue-5">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// é™¤éä½ æœ‰ç‰¹éœ€çš„éœ€æ±‚ï¼Œä¸ç„¶é€™é‚Šéƒ½ä¸éœ€è¦è‡ªå·±ä¾†äº†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// import { useI18n } from &amp;#39;vue-i18n&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// const { locale, getLocaleCookie } = useI18n()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// const defaultLocaleCode = locale.value
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// locale.value = getLocaleCookie() ?? defaultLocaleCode
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œç•¶ä½¿ç”¨è€…èª¿æ•´èªç³»æ™‚ï¼Œåœ¨ç¬¬ä¸€å€‹ç¯„ä¾‹æœ‰æåˆ°ï¼Œå¦‚æœæ²’æœ‰ç‰¹åˆ¥éœ€æ±‚ï¼Œæˆ‘å€‘å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;code>locale&lt;/code> ä¾†è¨­å®šèªç³»ï¼Œä¾†è‡ªå‹•éŸ¿æ‡‰è®Šæ›´èªç³»ï¼Œå†ä½¿ç”¨ &lt;code>setLocaleCookie(localeCode)&lt;/code> å°‡èªç³»ä¿å­˜è‡³ cookie ä¹‹å…§ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">locales&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setLocaleCookie&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">changeLanguage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">localeCode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setLocaleCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†æˆ‘å€‘åªè¦ä½¿ç”¨ &lt;code>setLocal()&lt;/code> æ–¹æ³•ä¾†å¥—ç”¨èªç³»ï¼Œå°±æœƒä¸€åŒæ›´æ–°è‡³ cookie ä¸­é€²è¡Œå„²å­˜ï¼Œéå¸¸æ–¹ä¾¿ã€‚æœ€å¾Œæˆ‘å€‘å°‡ &lt;code>./pages/index.vue&lt;/code> ä¸­çš„ èª¿æ•´å¦‚ä¸‹ï¼Œä¸€æ¨£å¯ä»¥é”åˆ°åœ¨ cookie ä¸­å„²å­˜ä½¿ç”¨è€…èªç³»ä¸¦åœ¨ä¸‹æ¬¡ç€è¦½ç¶²é æ™‚è‡ªå‹•å¥—ç”¨ã€‚&lt;/p>
&lt;h5 id="pagesindexvue-3">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">locales&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setLocale&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">changeLanguage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setLocale&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>setLocaleCookie()&lt;/code> èˆ‡ &lt;code>getLocaleCookie()&lt;/code> æ“ä½œçš„é è¨­è¨­å®šï¼Œæˆ‘å€‘å¯ä»¥é€é &lt;code>nuxt.config.ts&lt;/code> ä¸­çš„ &lt;code>i18n.detectBrowserLanguage&lt;/code> é€²è¡Œèª¿æ•´ï¼Œä¾‹å¦‚ï¼Œèª¿æ•´ &lt;code>cookieKey&lt;/code> ä¾†è®Šæ›´å„²å­˜çš„åç¨± &lt;code>i18n_redirected&lt;/code> ç­‰ï¼Œæ›´å¤šé¸é …å¯ä»¥&lt;a class="link" href="https://v8.i18n.nuxtjs.org/options/browser/" target="_blank" rel="noopener"
>åƒè€ƒé€™è£¡&lt;/a>ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts-5">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@nuxtjs/i18n&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">i18n&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">detectBrowserLanguage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useCookie&lt;/span>: &lt;span class="kt">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cookieKey&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;i18n_redirected&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>@nuxtjs/i18n&lt;/strong> æ¨¡çµ„æä¾›çš„ cookie æ“ä½œèªç³»æŒä¹…åŒ–ï¼Œç”šè‡³èƒ½åšåˆ°ä¸€äº›é‡å°å‘ç­‰è¡Œç‚ºï¼Œè¼ƒ Nuxt 3 æä¾› useCookie ç­‰æ–¹å¼è‡ªå·±ä¾†å¯¦ç¾é€™å¥—æµç¨‹èƒ½æ›´æ“æœ‰æ›´å¤šåŠŸèƒ½ã€‚&lt;/p>
&lt;hr>
&lt;p>&lt;a class="link" href="https://github.com/wjdesign/ithome-2022-ironman-nuxt3/tree/day24/nuxt-app-meta" target="_blank" rel="noopener"
>ç¯„ä¾‹ç¨‹å¼ç¢¼ - Nuxt 3 - æœå°‹å¼•æ“æœ€ä½³åŒ– (SEO) ä¹‹è¨­å®šç¶²é  Meta åŠ OG Tag ç¯„ä¾‹&lt;/a>&lt;/p>
&lt;hr></description></item><item><title>ã€Nuxt3ã€‘é–‹ç®±å³ç”¨çš„ Nuxt3 ç©è½‰ç­†è¨˜</title><link>https://wayneblog.ga/2023-01-14/nuxt-try-nuxt3/</link><pubDate>Sat, 14 Jan 2023 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2023-01-14/nuxt-try-nuxt3/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52616698791_b7b8bbce05_o.jpg" alt="Featured image of post ã€Nuxt3ã€‘é–‹ç®±å³ç”¨çš„ Nuxt3 ç©è½‰ç­†è¨˜" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://medium.com/@mjackson/universal-javascript-4761051b7ae9" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/articles/10292483" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://github.com/wjdesign/ithome-2022-ironman-nuxt3" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/users/20152617/ironman/5934" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>åœ¨ä½¿ç”¨ Vue 3 é–‹ç™¼ç¶²ç«™å¯èƒ½æœƒé¢è‡¨éœ€è¦åš SEO çš„æƒ…å¢ƒï¼Œç‚ºäº†è§£æ±ºè©²æƒ…å¢ƒå•é¡Œï¼Œä½ å¯èƒ½æœƒæ‰¾åˆ°ä½¿ç”¨ Vite åšé æ¸²æŸ“æˆ–å…¶ä»–æ–¹å¼ï¼Œ&lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> ä¹Ÿæ˜¯å…¶ä¸­ä¸€å€‹è§£æ±ºæ–¹æ¡ˆï¼Œä¸”æœ‰æ›´å¤šå¼·å¤§çš„åŠŸèƒ½ï¼Œç›®å‰ &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> å·²ç¶“æ­£å¼ç™¼å¸ƒç©©å®šç‰ˆï¼Œå°±è®“æˆ‘å€‘é–‹å§‹å˜—é®®ä¸Šæ‰‹å§ï¼&lt;/p>
&lt;p>æœ¬ç¯‡æœƒè‘—é‡åœ¨ &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> çš„ç‰¹è‰²èˆ‡åŠŸèƒ½å­¸ç¿’ï¼Œæ‰€ä»¥ä½ å¯èƒ½éœ€å…·å‚™äº› Vue 3 åŸºç¤ï¼Œæˆ‘å°‡å¾æ­å»º &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> é–‹ç™¼ç’°å¢ƒã€é é¢è·¯ç”±èˆ‡ä½ˆå±€ä¸€ç›´åˆ°ä½¿ç”¨ &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> å»ºç«‹ SEO æ‰€éœ€çš„è³‡è¨Šåšäº›ç­†è¨˜åŠä»‹ç´¹ï¼Œè®“ä½ æœ‰å€‹æ¦‚å¿µä¸¦å˜—è©¦ç”¨ Nuxt 3 ä¾†åš SSR æˆ– SSGï¼Œé€²è€Œè§£æ±º Vue 3 SPA ä¸å¥½åš SEO çš„å•é¡Œã€‚&lt;/p>
&lt;hr>
&lt;h2 id="nuxt-3-ä»‹ç´¹">Nuxt 3 ä»‹ç´¹&lt;/h2>
&lt;h3 id="å‰è¨€">å‰è¨€&lt;/h3>
&lt;p>æ¡ç”¨ SSR + SPAï¼Œå°‡ç¬¬ä¸€å€‹ç•«é¢é€é SSR ç”¢ç”Ÿï¼Œå…¶ä»–å°±äº¤çµ¦ CSR ä¾†åšè™•ç†ï¼Œæ—¢èƒ½å…¼å…· SEO é‚„èƒ½æ“æœ‰ SPA çš„ä½¿ç”¨è€…é«”é©—ï¼Œä¸æ˜¯å¾ˆå®Œç¾å—ï¼Ÿæ²’æœ‰éŒ¯ï¼Œä½†åœ¨æ²’æœ‰ä»»ä½•æ¡†æ¶è¼”åŠ©ä¹‹ä¸‹ï¼ŒåŒä¸€å€‹é é¢ä½ å¯èƒ½å°±éœ€è¦å¯¦ä½œå…©æ¬¡ç¨‹å¼ç¢¼ï¼Œä¹Ÿå°±æ˜¯å‰å¾Œç«¯å„ä¸€æ¬¡çš„æ¸²æŸ“é‚è¼¯ï¼Œé€™ä¹Ÿå°±æ˜¯ç›¸æ‡‰çš„ä»£åƒ¹ã€‚åœ¨ä»‹ç´¹ Nuxt 3 ä¹‹å‰å°±ç¨å¾®æä¸€ä¸‹ &lt;strong>Isomorphic JavaScript&lt;/strong> èˆ‡ &lt;strong>Universal JavaScript&lt;/strong>ã€‚&lt;/p>
&lt;h3 id="isomorphic-javascript-èˆ‡-universal-javascript">Isomorphic JavaScript èˆ‡ Universal JavaScript&lt;/h3>
&lt;h4 id="isomorphic-javascript">Isomorphic JavaScript&lt;/h4>
&lt;p>éš¨è‘— Node.js çš„å‡ºç¾ï¼Œè®“å®¢æˆ¶ç«¯ç€è¦½å™¨ä¹‹å¤–çš„ä¼ºæœå™¨ä¹Ÿèƒ½åŸ·è¡Œ JavaScript ç¨‹å¼ç¢¼ï¼Œä½¿å¾— JavaScript æˆç‚ºä¸€ç¨®åŒæ§‹èªè¨€ (Isomorphic Language)ã€‚Isomorphic JavaScript å³ç¨±ä¹‹ç‚º&lt;strong>åŒæ¨£çš„ JavaScript ç¨‹å¼ç¢¼å¯ä»¥åœ¨å®¢æˆ¶ç«¯åŠä¼ºæœå™¨ç«¯é‹è¡Œ&lt;/strong>ï¼›ä¹Ÿå°±æ˜¯èªªåŒä¸€ä»½ Code é™¤äº†èƒ½åœ¨å‰ç«¯ç€è¦½å™¨ä¹Ÿèƒ½åœ¨å¾Œç«¯åŸ·è¡Œã€‚&lt;/p>
&lt;p>ç„¶è€Œ &lt;code>Isomorphic JavaScript&lt;/code> èˆ‡ &lt;code>Universal JavaScript&lt;/code> çš„åè©å­˜æœ‰ä¸€äº›çˆ­è­°èˆ‡å·®ç•°ï¼Œå¦‚ä»Šï¼Œ&lt;code>Isomorphic JavaScript&lt;/code> å¤šä»¥ç¨±&lt;strong>ç›¸åŒçš„ç¨‹å¼ç¢¼å…ƒä»¶ï¼Œå¯ä»¥åœ¨å®¢æˆ¶ç«¯èˆ‡ä¼ºæœå™¨ç«¯ç”¨ä¾†çµ„è£æˆ–æ¸²æŸ“å‡ºé é¢çš„æŠ€è¡“&lt;/strong>ã€‚&lt;/p>
&lt;h4 id="universal-javascript">Universal JavaScript&lt;/h4>
&lt;p>Michael Jackson çš„&lt;a class="link" href="https://medium.com/@mjackson/universal-javascript-4761051b7ae9" target="_blank" rel="noopener"
>æ–‡ç« &lt;/a>æåˆ°ï¼ŒIsomorphic é€™å€‹è©çš„å«ç¾©ã€Œcorresponding or similar in form and relationsã€ç‚ºå…©å€‹å¯¦é«”ä¸ç›¸åŒï¼Œä½†å…·æœ‰ç›¸ä¼¼çš„æ“ä½œæˆ–å°æ‡‰çš„é—œä¿‚ï¼Œæ›å¥è©±èªªå°±æ˜¯ï¼Œå…©å€‹çœ‹èµ·ä¾†ä¸ä¸€æ¨£çš„ä½¿ç”¨æ–¹æ³•æˆ–èªæ³•ï¼Œä½†æœ€çµ‚çš„åŸ·è¡Œçµæœæ˜¯ä¸€æ¨£çš„ï¼Œä¾‹å¦‚ jQuery æˆ– Zepto æ“ä½œ DOM çš„èªæ³•é•·çš„ä¸å¤§ä¸€æ¨£ï¼Œä½†æ˜¯æœ€çµ‚ä¹Ÿéƒ½æ˜¯å°æ‡‰ JavaScript çš„ &lt;code>document.querySelector&lt;/code> ç­‰æ–¹æ³•ã€‚&lt;/p>
&lt;p>æ‰€ä»¥èªªï¼Œç‚ºäº†æè¿°ç›¸åŒçš„ç¨‹å¼ç¢¼ä½†èƒ½åœ¨ä¸åŒç’°å¢ƒä¸­é‹è¡Œçš„åè©ï¼Œå°±æœ‰äº† &lt;code>Universal JavaScript&lt;/code> ä¸€è©ï¼Œé€™å€‹åå­—å‘Šè¨´äººå€‘ JavaScript å®ƒ&lt;strong>ä¸åƒ…å¯ä»¥åœ¨æœå‹™å™¨å’Œç€è¦½å™¨ä¸Šé‹è¡Œï¼Œé‚„å¯ä»¥åœ¨æœ¬æ©Ÿè¨­å‚™å’ŒåµŒå…¥å¼æ¶æ§‹ä¸Šé‹è¡Œ&lt;/strong>ã€‚&lt;/p>
&lt;p>é‚£éº¼ Isomorphic JavaScript å’Œ Universal JavaScript èˆ‡æˆ‘å€‘åˆæœ‰ä»€éº¼é—œä¿‚å‘¢ï¼Ÿ&lt;/p>
&lt;p>æœ‰çš„ï¼Œå› ç‚º &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> æ­£æ˜¯ä¸€å€‹ &lt;code>Isomorphic JavaScript&lt;/code> æ¡†æ¶ï¼Œ&lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> æ˜¯ç›®å‰ä½ ä½¿ç”¨ Vue 3 åœ¨é–‹ç™¼ç¶²ç«™æ™‚ï¼Œæœƒéœ€è¦æ¡ç”¨ SSR æŠ€è¡“æˆ–å„ªåŒ– SEO å•é¡Œæ‰€å¯ä»¥ä½¿ç”¨çš„è§£æ±ºæ–¹æ¡ˆã€‚&lt;/p>
&lt;h3 id="nuxt-3">Nuxt 3&lt;/h3>
&lt;p>&lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> å®˜æ–¹åœ¨ 2022/11/16 æ­£å¼ç™¼å¸ƒç©©å®šç‰ˆæœ¬ &lt;a class="link" href="https://github.com/nuxt/framework/releases/tag/v3.0.0" target="_blank" rel="noopener"
>Nuxt 3.0 stable&lt;/a>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186163_0145c6b0f2_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> å®˜ç¶²çš„æ¨™èª &lt;code>The Intuitive Web Framework&lt;/code>ï¼Œ&lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> å°‡è®“ä½ æ›´ç›´è¦ºçš„é«”é©—æ··åˆæ¸²æŸ“ç­‰æ–°åŠŸèƒ½ï¼Œè®“åœ¨ä½¿ç”¨ Vue 3 é–‹ç™¼æ™‚è®Šå¾—æ›´åŠ ç°¡å–®ï¼&lt;/p>
&lt;h4 id="nuxt-3-çš„æ–°ç‰¹æ€§">Nuxt 3 çš„æ–°ç‰¹æ€§&lt;/h4>
&lt;p>å¾ &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> å®˜ç¶²çš„æä¾›è¨Šæ¯æ‰€åˆ—ï¼Œç°¡å–®èªªæ˜ä¸€ä¸‹ &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> çš„æ–°ç‰¹æ€§ï¼Œå…±æœ‰ä¸‹åˆ— 12 å€‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188037_f6476e512d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;ul>
&lt;li>Lighterï¼šæ›´è¼•é‡ï¼Œé‡å°ç¾åœ¨ç€è¦½å™¨ï¼Œä¼ºæœå™¨éƒ¨ç½²èˆ‡å®¢æˆ¶ç«¯æ‰“åŒ…èƒ½æ¸›å°‘æœ€é«˜ 75 å€ä¹‹å¤šã€‚&lt;/li>
&lt;li>Fasterï¼šæ›´å¿«é€Ÿï¼Œé€šé Nitro æä¾›æ”¯æŒçš„å‹•æ…‹ä¼ºæœå™¨ç«¯ç¨‹å¼ç¢¼æ‹†åˆ†ä¾†å„ªåŒ–å†·å•Ÿå‹•å•é¡Œã€‚&lt;/li>
&lt;li>Hybirdï¼šå‹•æ…‹çš„éœæ…‹é é¢ç”Ÿæˆå’Œå…¶ä»–é«˜ç´šæ¨¡å¼ï¼Œç¾åœ¨é€™äº›éƒ½å°‡æˆç‚ºå¯èƒ½ã€‚&lt;/li>
&lt;li>Suspenseï¼šåœ¨å°èˆªè§¸ç™¼çš„å‰å¾Œï¼Œçš†å¯ä»¥åœ¨ä»»ä½•å…ƒä»¶ä¸­å–å¾—æ•¸æ“šè³‡æ–™ã€‚&lt;/li>
&lt;li>Composition APIï¼šä½¿ç”¨ Composition API å’Œ Nuxt 3 çš„ Composables å¯¦ç¾çœŸæ­£çš„ç¨‹å¼ç¢¼å¯é‡ç”¨æ€§ã€‚&lt;/li>
&lt;li>Nuxt CLIï¼šå…¨æ–°çš„é›¶ä¾è³´é«”é©—ï¼Œå¹«åŠ©ä½ è¼•é¬†å»ºç«‹å°ˆæ¡ˆèˆ‡æ¨¡çµ„æ•´åˆã€‚&lt;/li>
&lt;li>Nuxt Dev Toolsï¼šå°ˆå±¬é–‹ç™¼é™¤éŒ¯å·¥å…·ï¼Œæä¾›æ›´å¤šçš„è³‡è¨Šèˆ‡å¿«é€Ÿä¿®å¾©ï¼Œè®“å·¥ä½œæ›´é«˜æ•ˆã€‚&lt;/li>
&lt;li>Nuxt Kitï¼šå…·å‚™åŸºæ–¼ TypeScript å’Œè·¨ç‰ˆæœ¬å…¼å®¹æ€§çš„å…¨æ–°æ¨¡çµ„é–‹ç™¼ã€‚&lt;/li>
&lt;li>webpack 5ï¼šæ›´å¿«é€Ÿçš„æ‰“åŒ…æ™‚é–“èˆ‡æ‰“åŒ…å‡ºæ›´å°çš„é«”ç©ï¼Œä¸¦ä¸”ç„¡éœ€ä»»ä½•é…ç½®ã€‚&lt;/li>
&lt;li>Viteï¼šä½¿ç”¨ Vite ä½œç‚ºæ‰“åŒ…å·¥å…·ï¼Œé«”é©—é–ƒé›»èˆ¬å¿«é€Ÿçš„ HMRã€‚&lt;/li>
&lt;li>Vue 3ï¼šå®Œå…¨æ”¯æŒ Vue 3ã€‚&lt;/li>
&lt;li>TypeScriptï¼šä½¿ç”¨ TypeScript èˆ‡ ESM æ§‹å»ºè€Œæˆï¼Œç„¡éœ€é¡å¤–çš„é…ç½®æ­¥é©Ÿã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="nitro">Nitro&lt;/h4>
&lt;p>Nuxt 3 ç”±ä¸€å€‹å…¨æ–°çš„ä¼ºæœå™¨å¼•æ“ &lt;a class="link" href="https://nuxt.com/docs/guide/concepts/server-engine/" target="_blank" rel="noopener"
>Nitro&lt;/a> æä¾›æ”¯æŒï¼Œå®ƒå…·æœ‰ä»¥ä¸‹å¹¾å€‹ç‰¹é»ï¼š&lt;/p>
&lt;ul>
&lt;li>è·¨å¹³å°æ”¯æŒï¼Œæ”¯æŒ Node.js èˆ‡ç€è¦½å™¨ç­‰ã€‚&lt;/li>
&lt;li>Serverless æ”¯æŒã€‚&lt;/li>
&lt;li>API è·¯ç”±ï¼Œä½¿ç”¨ &lt;a class="link" href="https://github.com/unjs/h3" target="_blank" rel="noopener"
>unjs/h3&lt;/a>ã€‚&lt;/li>
&lt;li>è‡ªå‹•ç¨‹å¼ç¢¼æ‹†åˆ† (code-splitting) èˆ‡ç•°æ­¥åŠ è¼‰ chunk (async-loaded chunks)ã€‚&lt;/li>
&lt;li>æ··åˆæ¸²æŸ“æ¨¡å¼ï¼Œä¾›éœæ…‹ (static)èˆ‡ç„¡ä¼ºæœå™¨ (serverless) ç¶²ç«™ã€‚&lt;/li>
&lt;li>é–‹ç™¼ä¼ºæœå™¨ä¸Šçš„ HMR (hot module reloading)ã€‚&lt;/li>
&lt;/ul>
&lt;p>ç°¡å–®ä¾†èªªï¼Œ&lt;a class="link" href="https://nuxt.com/docs/guide/concepts/server-engine/" target="_blank" rel="noopener"
>Nitro&lt;/a> å·²ç¶“æ˜¯ &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> åŒ…å«çš„å…¨æ–°ä¼ºæœå™¨å¼•æ“ï¼Œç„¡éœ€å†é€²è¡Œé…ç½®ã€‚&lt;a class="link" href="https://nuxt.com/docs/guide/concepts/server-engine/" target="_blank" rel="noopener"
>Nitro&lt;/a> é™¤äº†æ”¯æ´ SPAã€å»ºç«‹éœæ…‹çš„ç¶²ç«™ï¼Œç”šè‡³èƒ½åœ¨å¾Œç«¯æ‰“ API æ™‚ç›´æ¥èª¿ç”¨ç›¸é—œå‡½æ•¸ï¼Œå¾è€Œé™ä½ API Requestï¼Œæ•´é«”ä¾†èªªæ˜¯éå¸¸å¼·å¤§çš„ä¼ºæœå™¨å¼•æ“ã€‚&lt;/p>
&lt;h4 id="nuxt-3-æ¸²æŸ“æ¨¡å¼">Nuxt 3 æ¸²æŸ“æ¨¡å¼&lt;/h4>
&lt;p>&lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> ç›®å‰æ”¯æ´å…©ç¨®æ¸²æŸ“æ¨¡å¼ï¼Œ&lt;code>Client-side Only Rendering&lt;/code> èˆ‡ &lt;code>Universal Rendering&lt;/code>ã€‚ä¹‹å¾Œå°‡æœƒæ¨å‡ºæ›´å…ˆè¿‘çš„æ¸²æŸ“æ¨¡å¼ï¼Œ&lt;code>æ··åˆæ¸²æŸ“ (Hybrid Rendering)&lt;/code> èˆ‡&lt;code>é‚Šç·£æ¸²æŸ“ (Edge-Side Rendering)&lt;/code>ã€‚&lt;/p>
&lt;ul>
&lt;li>Client-side Only Rendering&lt;/li>
&lt;/ul>
&lt;p>Nuxt 3 è¨­å®šç‚ºè©²æ¨¡å¼ï¼Œå¦‚åŒå–®ç´”ä½¿ç”¨ Vue 3 å»ºç½®å‡ºçš„ SPAï¼Œç€è¦½å™¨ä¸‹è¼‰ä¸¦è¼‰å…¥å®Œ Vue ç¨‹å¼ç¢¼å¾Œï¼Œ&lt;code>æ¸²æŸ“ HTML çš„æ‰€æœ‰å‹•ä½œçš†åœ¨å®¢æˆ¶ç«¯åŸ·è¡Œ&lt;/code>ï¼Œä¹Ÿå°±æ˜¯å®¢æˆ¶ç«¯æ¸²æŸ“ CSRã€‚&lt;/p>
&lt;ul>
&lt;li>Universal Rendering&lt;/li>
&lt;/ul>
&lt;p>Universal Rendering æ˜¯ &lt;code>Nuxt 3 é è¨­çš„æ¸²æŸ“æ¨¡å¼&lt;/code>ï¼Œåœ¨é€™å€‹æ¨¡å¼ä¹‹ä¸‹ï¼Œç„¡è«–é é¢æ˜¯é å…ˆç”¢ç”Ÿä¸¦ç·©å­˜é‚„æ˜¯å‹•æ…‹æ¸²æŸ“ï¼ŒNuxt éƒ½æœƒåœ¨ä¼ºæœå™¨ç’°å¢ƒä¸­åŸ·è¡Œ Vue ç¨‹å¼ç¢¼ï¼Œä¸¦æ¸²æŸ“ HTMLï¼Œä¹Ÿå°±æ˜¯å¦‚åŒ SSRï¼Œä¼ºæœå™¨æœƒå‘ç€è¦½å™¨è¿”å›ä¸€å€‹å®Œæ•´å‘ˆç¾çš„ HTML é é¢ã€‚ç•¶ç€è¦½å™¨å®Œæ•´å‘ˆç¾çš„é é¢å‡ºç¾å¾Œï¼Œä¹Ÿæœƒé–‹å§‹è¼‰å…¥ Vue ç¨‹å¼ç¢¼ï¼Œä»¥å› æ‡‰å¾ŒçºŒçš„å‹•æ…‹é é¢èˆ‡è·¯ç”±è·³è½‰ç­‰ï¼Œå³è½‰æ›ç‚º SPA é–‹å§‹ç”±å®¢æˆ¶ç«¯é€²è¡Œæ¸²æŸ“ã€‚ä¹Ÿå°±æ˜¯èªª Nuxt 3 çš„ &lt;code>Universal Rendering&lt;/code> å³æ˜¯æŒ‡ &lt;code>SSR + SPA&lt;/code>ã€‚&lt;/p>
&lt;ul>
&lt;li>æ··åˆæ¸²æŸ“ (Hybrid Rendering)&lt;/li>
&lt;/ul>
&lt;p>æˆ‘å€‘åœ¨ä½¿ç”¨ Vue é–‹ç™¼ SPA ç¶²ç«™æ™‚ï¼Œé€šå¸¸æ˜¯æœƒè¨­ç½®è·¯ç”± (Route) è®“ç¶²é èƒ½å¤ åˆ°é”ä¸åŒçš„é é¢å†ä¾†è«‹æ±‚è³‡æ–™ï¼Œæ­¤ç‚º CSRã€‚åœ¨ä½¿ç”¨ Nuxt é–‹ç™¼æ™‚èƒ½è®“èƒ½ç¶²ç«™æ“æœ‰ SSR + SPA çš„ Universal Rendering æ¸²æŸ“æ–¹å¼ï¼Œé™¤æ­¤ä¹‹å¤–ï¼ŒNuxt 3 é‚„æä¾›äº†ä¸€ç¨®æ›´å…ˆé€²çš„æ¸²æŸ“æ¨¡å¼â€”â€”&lt;code>æ··åˆæ¸²æŸ“ (Hybrid Rendering)&lt;/code>ï¼Œå¯ä»¥&lt;code>ç‚ºæ¯å€‹è·¯ç”±è¨­ç½®ä¸åŒçš„æ¸²æŸ“èˆ‡ç·©å­˜çš„è¦å‰‡&lt;/code>ï¼Œè®“éƒ¨åˆ†é é¢ä½¿ç”¨ CSR åœ¨å®¢æˆ¶ç«¯é€²è¡Œæ¸²æŸ“ï¼Œå¦ä¸€éƒ¨åˆ†ä½¿ç”¨ SSR åœ¨ä¼ºæœå™¨ç«¯é€²è¡Œæ¸²æŸ“ã€‚&lt;/p>
&lt;ul>
&lt;li>é‚Šç·£æ¸²æŸ“ (Edge-Side Rendering)&lt;/li>
&lt;/ul>
&lt;p>Nitro ç‚º Nuxt 3 æä¾›æ”¯æŒçš„å…¨æ–°ä¼ºæœå™¨ç«¯æ¸²æŸ“å¼•æ“ï¼Œå®ƒç‚º Node.jsã€Denoã€Worker ç­‰æä¾›è·¨å¹³å°çš„æ”¯æŒï¼Œè®“ Nuxt &lt;code>å¯ä»¥åœ¨ CDN Edge Workers é€²è¡Œæ¸²æŸ“&lt;/code>ï¼Œæ•…ç¨±ç‚º&lt;code>é‚Šç·£æ¸²æŸ“ (Edge-Side Rendering)&lt;/code>ï¼Œèƒ½æœ‰æ•ˆåˆ†æ“”åœ¨ä¼ºæœå™¨ç«¯æ¸²æŸ“æ™‚çš„è³‡æºè² è·ï¼Œå°‡å…¶æå‡åˆ°å¦ä¸€å€‹å±¤æ¬¡ï¼Œå¾è€Œæ¸›å°‘ç¶²è·¯å»¶é²åŠæˆæœ¬ã€‚&lt;/p>
&lt;h4 id="nuxt-3-çš„å»ºæ§‹å·¥å…·">Nuxt 3 çš„å»ºæ§‹å·¥å…·&lt;/h4>
&lt;p>Nuxt 3 é è¨­çš„å»ºæ§‹å·¥å…·å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>é è¨­ä½¿ç”¨ &lt;a class="link" href="https://vitejs.dev/" target="_blank" rel="noopener"
>Vite&lt;/a> ä¹Ÿå¯ä»¥åˆ‡æ›æˆ &lt;a class="link" href="https://webpack.js.org/" target="_blank" rel="noopener"
>webpack&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://rollupjs.org/" target="_blank" rel="noopener"
>Rollup&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://postcss.org/" target="_blank" rel="noopener"
>PostCSS&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://esbuild.github.io/" target="_blank" rel="noopener"
>esbuild&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Nuxt 3 å·²ç¶“å¹«æˆ‘å€‘é…ç½®å¥½ä¸€å †è¨­å®šå•¦ï¼ŒçœŸçš„æ˜¯é–‹ç®±å³ç”¨ï¼Œè€Œä¸” Nuxt ä¹Ÿæ”¯æ´ TypeScriptã€‚å¦‚æœèªªçœŸçš„è¦èª¿æ•´é…ç½®ï¼Œä¹Ÿå¯ä»¥å† &lt;code>nuxt.config&lt;/code> ä¸­é€²è¡Œèª¿æ•´ï¼Œéå¸¸æ–¹ä¾¿è²¼å¿ƒã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä½¿ç”¨-nuxi-å»ºç«‹ç¬¬ä¸€å€‹å°ˆæ¡ˆ">ä½¿ç”¨ nuxi å»ºç«‹ç¬¬ä¸€å€‹å°ˆæ¡ˆ&lt;/h2>
&lt;h3 id="ç·šä¸Šç©ç©çœ‹">ç·šä¸Šç©ç©çœ‹&lt;/h3>
&lt;p>å¦‚æœä½ é‚„åœ¨è§€æœ›æˆ–æ˜¯å¾éš”å£æ£šéä¾†çš„ï¼Œé‚„ä¸æƒ³å®‰è£ç›¸é—œå·¥å…·èˆ‡ç’°å¢ƒï¼Œé‚£éº¼å¯ä»¥é»æ“Šä¸‹é¢å…¶ä¸€é€£çµï¼Œåœ¨ StackBlitza æˆ– CodeSandbox çš„ç·šä¸Šç·¨è¼¯å™¨ç’°å¢ƒç¨å¾®ç©ç©ï¼Œç›´æ¥ç·šä¸Šé«”é©— Nuxt 3ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://stackblitz.com/github/nuxt/starter/tree/v3-stackblitz" target="_blank" rel="noopener"
>Play on StackBlitz&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://codesandbox.io/p/github/nuxt/starter/v3-codesandbox" target="_blank" rel="noopener"
>Play on CodeSandbox&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="é–‹å§‹å»ºç«‹ç¬¬ä¸€å€‹å°ˆæ¡ˆ">é–‹å§‹å»ºç«‹ç¬¬ä¸€å€‹å°ˆæ¡ˆ&lt;/h3>
&lt;h4 id="å…ˆæ±ºæ¢ä»¶">å…ˆæ±ºæ¢ä»¶&lt;/h4>
&lt;p>é–‹å§‹ä¹‹å‰ï¼Œä¾ç…§ Nuxt 3 å®˜ç¶²çš„&lt;a class="link" href="https://nuxt.com/docs/getting-started/installation" target="_blank" rel="noopener"
>èµ·æ‰‹å¼&lt;/a>æˆ‘å€‘æœ‰å¹¾å€‹é …ç›®éœ€è¦åšä¸€ä¸‹æª¢æŸ¥ï¼Œæˆ‘å€‘é€™è£¡åƒ…å…ˆæ³¨æ„ä¸€ä¸‹ Node.js çš„ç‰ˆæœ¬ï¼Œå»ºè­°ä½¿ç”¨ç›®å‰&lt;a class="link" href="https://nodejs.org/zh-tw/download/" target="_blank" rel="noopener"
>æœ€æ–° LTS ç‰ˆæœ¬&lt;/a> &lt;code>v16.17.0&lt;/code> (åŒ…å« NPM v8.15.0)ã€‚&lt;/p>
&lt;h4 id="ä½¿ç”¨-nuxi-å»ºç«‹-nuxt-3-å°ˆæ¡ˆ">ä½¿ç”¨ nuxi å»ºç«‹ Nuxt 3 å°ˆæ¡ˆ&lt;/h4>
&lt;p>&lt;a class="link" href="https://www.npmjs.com/package/nuxi" target="_blank" rel="noopener"
>nuxi&lt;/a> å…¨åç‚º &lt;strong>Nuxt Command Line Interface&lt;/strong>ï¼Œæ˜¯ç”± Nuxt æä¾›é–‹ç™¼çš„æ¨™æº–å·¥å…·ï¼ŒNuxt CLI å°±åƒæ˜¯ Vue CLI å¯ä»¥å»ºç«‹ Vue å°ˆæ¡ˆï¼Œæˆ‘å€‘ç•¶ç„¶ä¹Ÿå°±å¯ä»¥ä½¿ç”¨ Nuxt CLI ä¾†å»ºç«‹ Nuxt çš„å°ˆæ¡ˆã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œæ‰“é–‹çµ‚ç«¯æ©Ÿ (Terminal)ï¼Œå°‡ç›®éŒ„åˆ‡æ›è‡³è‡ªå·±ç¿’æ…£çš„å·¥ä½œå€ï¼Œæ¥è‘—è¼¸å…¥å¦‚ä¸‹çš„ nuxi æä¾›æŒ‡ä»¤ä¸¦åŸ·è¡Œï¼Œä¾†åˆå§‹åŒ–å»ºç«‹ä¸€å€‹ Nuxt 3 å°ˆæ¡ˆã€‚åœ¨æ­¤ï¼Œæˆ‘å€‘çš„å°ˆæ¡ˆåç‚º &lt;code>nuxt-app&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx nuxi init nuxt-app
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚ä¸‹åœ–ï¼Œnpx æœƒè©¢å•ä½ æ˜¯å¦å®‰è£æœ€æ–°ç‰ˆæœ¬çš„å¥—ä»¶ &lt;code>nuxi@3.0.0-rc.10&lt;/code> è¼¸å…¥ &lt;code>y&lt;/code> å³å¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616697991_767a632430_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>åŸ·è¡Œå®ŒæŒ‡ä»¤å¾Œç›´åˆ°å‡ºç¾å¦‚ä¸‹æç¤ºï¼Œä»£è¡¨å°ˆæ¡ˆå·²ç¶“åˆå§‹å»ºç«‹æˆåŠŸï¼Œå®Œæˆå¾Œå¯ä»¥ç™¼ç¾ç›®å‰ç›®éŒ„ä¸‹å¤šäº†ä¸€å€‹åç‚º &lt;code>nuxt-app&lt;/code> çš„è³‡æ–™å¤¾ï¼Œé€™å€‹è³‡æ–™å¤¾ä¹Ÿå°±æ˜¯ Nuxt 3 å°ˆæ¡ˆçš„æ ¹ç›®éŒ„ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964239_b438581d8d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘å¯ä»¥é€²å…¥å°ˆæ¡ˆç›®éŒ„ &lt;code>nuxt-app&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> nuxt-app
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ &lt;code>nuxt-app&lt;/code> å°ˆæ¡ˆç›®éŒ„ä¸‹å¯ä»¥çœ‹åˆ°ç†Ÿæ‚‰çš„ &lt;code>package.json&lt;/code>ï¼Œæˆ‘å€‘å°±å¯ä»¥é–‹å§‹å®‰è£ Nuxt 3 å°ˆæ¡ˆçš„ç›¸é—œä¾è³´å¥—ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Nuxt CLI å¦‚åŒ Vue CLI å·²ç¶“åœ¨å»ºç«‹å°ˆæ¡ˆæ™‚å¹«æˆ‘å€‘åˆå§‹å®Œæˆè¨±å¤šäº‹æƒ…ï¼Œå†å®‰è£å®Œç›¸é—œä¾è³´å¥—ä»¶å¾Œè¼¸å…¥ä¸‹åˆ—æŒ‡ä»¤ï¼Œæˆ‘å€‘å°±å¯ä»¥åœ¨é–‹ç™¼ç’°å¢ƒä¸‹å•Ÿå‹• Nuxt äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run dev -- -o
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run dev -- -o&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœæ²’æœ‰æ„å¤–ï¼Œå¯ä»¥çœ‹åˆ° Nitro å¹«æˆ‘å€‘å•Ÿå‹•äº† Nuxt 3 çš„æœå‹™ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186213_f7a11b0b5a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æ ¹æ“šæç¤ºï¼Œæˆ‘å€‘å¯ä»¥åœ¨ç€è¦½å™¨è¼¸å…¥ç¶²å€ &lt;a class="link" href="http://localhost:3000/" target="_blank" rel="noopener"
>http://localhost:3000/&lt;/a> çœ‹çœ‹æœå‹™æ˜¯å¦æ­£å¸¸é‹ä½œã€‚&lt;/p>
&lt;p>å¦‚æœçœ‹åˆ°å¦‚ä¸‹åœ–çš„æ­¡è¿ç•«é¢ï¼Œæ­å–œä½ ï¼æˆ‘å€‘å·²ç¶“æˆåŠŸå»ºç«‹ç¬¬ä¸€å€‹ Nuxt 3 å°ˆæ¡ˆå›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964264_faa521ed78_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç¾åœ¨ä½ å¯ä»¥å˜—è©¦æ‰“é–‹åœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹çš„ &lt;code>app.vue&lt;/code> æª”æ¡ˆä¹‹ä¸­ï¼Œ&lt;code>app.vue&lt;/code> æ˜¯æˆ‘å€‘ Nuxt å°ˆæ¡ˆçš„é€²å…¥é»ï¼Œå®ƒçš„å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥ç™¼ç¾å®ƒèˆ‡ Vue 3 çš„å–®ä¸€å…ƒä»¶æª” (Single File Component, SFC) ç›¸æ¯”ï¼Œå¥½åƒå°‘äº†é»ä»€éº¼ï¼Œæ€éº¼æœ‰ç”¨äº† &lt;code>&amp;lt;NuxtWelcome /&amp;gt;&lt;/code> å»æ²’çœ‹è¦‹åœ¨å“ªé‚Š import çš„å‘¢ï¼Ÿ&lt;/p>
&lt;p>å…¶å¯¦å‘¢ï¼Œ&lt;code>&amp;lt;NuxtWelcome /&amp;gt;&lt;/code> é€™å€‹å…ƒä»¶å°±æ˜¯æˆ‘å€‘å‰é¢ç€è¦½å™¨çœ‹åˆ°çš„æ­¡è¿ç•«é¢ï¼Œæ˜¯ Nuxt æ¡†æ¶è‡ªå¸¶çš„ä¸€å€‹å…ƒä»¶ï¼Œè€Œä¸” Nuxt è‡ªå‹•å°å…¥å…ƒä»¶çš„æ›´æ˜¯å…¶ç‰¹è‰²ä¹‹ä¸€ï¼Œå¾Œé¢çš„ç³»åˆ—æˆ‘å€‘æœƒå†æåˆ°&lt;strong>è‡ªå‹•å°å…¥ (Auto Imports)&lt;/strong>ã€‚&lt;/p>
&lt;p>åœ¨é€™è£¡ç›´æ¥ç§»é™¤ &lt;code>&amp;lt;NuxtWelcome /&amp;gt;&lt;/code> å°±å¯ä»¥äº†ï¼Œæˆ‘å€‘å°‡ app.vue èª¿æ•´å¦‚ä¸‹ï¼Œä¸¦ä¿å­˜æª”æ¡ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span> &lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹è¦‹å› ç‚º Nuxt é è¨­ Vite å»ºæ§‹ä¸¦æ”¯æ´ &lt;a class="link" href="https://vitejs.dev/guide/features.html#hot-module-replacement" target="_blank" rel="noopener"
>HMR&lt;/a> (Hot Module Replacement)ï¼Œæˆ‘å€‘å¯ä»¥åœ¨ç€è¦½å™¨å¿«é€Ÿçš„çœ‹è¦‹ä¿®æ”¹å¾Œçš„çµæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698026_1bf03d908a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>è‡³æ­¤ï¼Œå¤§å®¶å°±å¯ä»¥å…ˆç°¡å–®çš„ç©ç© Nuxt 3ï¼Œæ¥ä¸‹ä¾†æˆ‘å°‡è£œå……ä¸€äº› nuxi çš„æŒ‡ä»¤èˆ‡åƒæ•¸ç°¡ä»‹ã€‚&lt;/p>
&lt;h3 id="nuxt-cli-å¸¸ç”¨æŒ‡ä»¤">Nuxt CLI å¸¸ç”¨æŒ‡ä»¤&lt;/h3>
&lt;p>ä»¥ä¸‹å°‡ç°¡å–®ä»‹ç´¹ä¸€äº›å¸¸ç”¨çš„æŒ‡ä»¤ï¼Œè‹¥æ‚¨åœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹è¨˜å¾—ä½¿ç”¨ &lt;code>npx&lt;/code> ä¾†åŸ·è¡Œ &lt;code>nuxi&lt;/code>ã€‚&lt;/p>
&lt;p>å¦å¤–åœ¨æ­¤æé†’ï¼Œä¸‹é¢æ‰€åˆ—çš„æŒ‡ä»¤&lt;code>éƒ¨åˆ†åƒæ•¸æœƒé€²è¡Œçœç•¥&lt;/code>ï¼Œè‹¥æœ‰èˆˆè¶£ç¿»ç¿»å®Œæ•´çš„æŒ‡ä»¤èˆ‡åƒæ•¸èªªæ˜ï¼Œå¯ä»¥åƒè€ƒ &lt;a class="link" href="https://v3.nuxtjs.org/api/commands/add" target="_blank" rel="noopener"
>Nuxt 3 å®˜æ–¹æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;h4 id="nuxi-init">nuxi init&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx nuxi init&lt;span class="p">|&lt;/span>create &lt;span class="o">[&lt;/span>dir&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹ &lt;code>nuxi init&lt;/code> æŒ‡ä»¤æ˜¯ç”¨ä¾†åˆå§‹åŒ–ä¸€å€‹ Nuxt å°ˆæ¡ˆï¼Œç­‰åŒ &lt;code>nuxi create&lt;/code> æŒ‡ä»¤ï¼Œ&lt;code>dir&lt;/code> ä½ å¯ä»¥å¡«å­—ä¸²ä½œç‚ºå°ˆæ¡ˆèˆ‡è³‡æ–™å¤¾åç¨±ï¼Œä¹Ÿå¯ä»¥å¡«å¯«å®Œæ•´è·¯å¾‘ä¾†å»ºç«‹å°ˆæ¡ˆç›®éŒ„ã€‚&lt;/p>
&lt;h4 id="nuxi-dev">nuxi dev&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx nuxi dev &lt;span class="o">[&lt;/span>--open, -o&lt;span class="o">]&lt;/span> &lt;span class="o">[&lt;/span>--port, -p&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘åœ¨æœ¬åœ°ç«¯é€²è¡Œé–‹ç™¼æ™‚ï¼Œéœ€è¦é‹è¡Œé–‹ç™¼ç’°å¢ƒï¼Œç•¶æˆ‘å€‘åŸ·è¡Œ &lt;code>npm run dev -- -o&lt;/code> æ™‚ï¼Œä¾æ“š &lt;code>package.json&lt;/code> ä¸­çš„ scripts æ‰€åˆ—ï¼Œå…¶å¯¦å°±æ˜¯åœ¨åŸ·è¡Œ &lt;code>nuxi dev -o&lt;/code>ï¼Œå…¶ä¸­çš„ &lt;code>-o&lt;/code> è¡¨ç¤º&lt;strong>æœå‹™å•Ÿå‹•å¾Œé–‹å•Ÿç€è¦½å™¨&lt;/strong>ã€‚&lt;/p>
&lt;p>å¦‚æœå•Ÿå‹•æœå‹™ç™¼ç¾ Port è¡çªï¼Œä½ ä¹Ÿå¯ä»¥é€é &lt;code>-p&lt;/code> ä¾†å°‡é è¨­çš„ç›£è½çš„ Port: 3000 èª¿æ•´ç‚ºå…¶ä»–æ•¸å€¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nuxi dev -p &lt;span class="m">3001&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æˆ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># npm run dev -- -o -p 3001&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="nuxi-cleanup">nuxi cleanup&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx nuxi clean&lt;span class="p">|&lt;/span>cleanup
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>nuxi cleanup&lt;/code> ç­‰åŒ &lt;code>nuxi clean&lt;/code> æŒ‡ä»¤ï¼Œç”¨ä¾†åˆªé™¤ Nuxt è‡ªå‹•ç”¢ç”Ÿçš„æª”æ¡ˆå’Œç·©å­˜åŒ…æ‹¬ï¼š&lt;/p>
&lt;ul>
&lt;li>.nuxt&lt;/li>
&lt;li>.output&lt;/li>
&lt;li>node_modules/.vite&lt;/li>
&lt;li>node_modules/.cache&lt;/li>
&lt;/ul>
&lt;h4 id="nuxi-upgrade">nuxi upgrade&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx nuxi upgrade &lt;span class="o">[&lt;/span>--force&lt;span class="p">|&lt;/span>-f&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹æŒ‡ä»¤å¯ä»¥ç”¨ä¾†å°‡ç›®å‰å°ˆæ¡ˆçš„ Nuxt 3 å‡ç´šè‡³æœ€æ–°çš„ç‰ˆæœ¬ï¼Œå¦‚æœæœ‰ä¸€äº›å¯èƒ½è¡Œç‚ºèª¿æ•´æˆ–ä¸ç›¸å®¹çš„æƒ…æ³ï¼Œå¯ä»¥å†ä¾æ“šå¯¦éš›æƒ…å¢ƒæ­é… &lt;code>-f&lt;/code> åƒæ•¸ä¾†å¼·åˆ¶æ›´æ–°ã€‚&lt;/p>
&lt;p>å¦‚ä¸‹åœ–ï¼Œåªè¦ä¸€è¡ŒæŒ‡ä»¤ &lt;code>npx nuxi upgrade&lt;/code> å°±å¯ä»¥å°‡å°ˆæ¡ˆç‰ˆæœ¬ç”± &lt;code>3.0.0-rc.9&lt;/code> å‡ç´šè‡³ &lt;code>3.0.0-rc.10&lt;/code>ï¼Œåœ¨ RC éšæ®µæˆ–ä¹‹å¾Œæƒ³å®šæœŸå‡ç´šç‰ˆæœ¬ä¾†èªªéå¸¸å¥½ç”¨ï¼Œä½†ä¹Ÿè«‹è¨˜å¾—&lt;code>å‡ç´šå‰å¯ä»¥å…ˆçœ‹ä¸€ä¸‹å®˜æ–¹çš„ Changelog&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186283_00309ed597_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="nuxt-3--typescript--eslint--prettier-ç’°å¢ƒå»ºç½®">Nuxt 3 + TypeScript + ESLint + Prettier ç’°å¢ƒå»ºç½®&lt;/h2>
&lt;p>åœ¨æˆ‘å€‘ä½¿ç”¨å®Œ Nuxt CLI å»ºç«‹å®Œå°ˆæ¡ˆå¾Œï¼Œå…¶å¯¦å°±å¯ä»¥é–‹å§‹é€²è¡Œå°ˆæ¡ˆçš„é–‹ç™¼ï¼Œä½†æ˜¯å‘¢ï¼Œç›¸ä¿¡ä¸å°‘äººå°æ–¼ç¨‹å¼ç¢¼çš„æ’ç‰ˆéƒ½æœ‰è‡ªå·±çš„é¢¨æ ¼ï¼Œä¸åŒäººçš„ Coding Style è‚¯å®šä¹Ÿéƒ½ä¸ä¸€æ¨£ï¼Œç„¶è€Œåœ¨åœ˜éšŠå”ä½œéœ€è¦æ¨™æº–æˆ–ç‚ºäº†æ•´é«”ä¸€è‡´ä¸”ç¾è§€ä¸‹ï¼ŒLinter å°±æ˜¯ä½ çš„å¥½å¹«æ‰‹ï¼Œæ­¤å¤–ï¼ŒTypeScript åœ¨ Nuxt 3 å·²ç¶“æœ‰å…§å»ºæ”¯æ´ï¼Œæˆ‘ä¹Ÿå»ºè­°åŠæ¨è–¦ä½¿ç”¨ TypeScriptï¼Œæ¥ä¸‹ä¾†åˆ†äº«æˆ‘è‡ªå·±åœ¨ä½¿ç”¨ Nuxt 3 é–‹ç™¼æ™‚çš„ Linter ç’°å¢ƒé…ç½®ï¼ŒåŒ…å«äº† &lt;code>TypeScript&lt;/code>ã€&lt;code>ESLint&lt;/code> èˆ‡ &lt;code>Prettier&lt;/code>ã€‚&lt;/p>
&lt;h3 id="typescript-é¡å‹æª¢æŸ¥">TypeScript é¡å‹æª¢æŸ¥&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964289_0dbc29572e_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>Nuxt 3 å·²ç¶“æœ‰å…§å»ºæ”¯æ´ TypeScriptï¼Œä¸€äº› TypeScript è¨­å®šéƒ½å¯ä»¥åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹é…ç½® &lt;code>tsconfig.json&lt;/code>ï¼Œä¾‹å¦‚ï¼Œåœ¨é–‹ç™¼éç¨‹ä¸­é‡å° TypeScript æˆ‘æœƒåœ¨é–‹ç™¼ç’°å¢ƒä¸‹å•Ÿå‹•é¡å‹æª¢æŸ¥ï¼Œå¯ä»¥åƒè€ƒä»¥ä¸‹é€²è¡Œé…ç½®ã€‚&lt;/p>
&lt;h4 id="step-1-å®‰è£-vs-code-æ’ä»¶">Step 1. å®‰è£ VS Code æ’ä»¶&lt;/h4>
&lt;p>é¦–å…ˆï¼Œæ¨è–¦å¤§å®¶å®‰è£ä¸‹åˆ—å…©å€‹ VS Code æ’ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=Vue.volar" target="_blank" rel="noopener"
>Vue Language Features (Volar)&lt;/a>ï¼šå¯« Vue 3 å¼·åŠ›æ¨è–¦å¿…è£çš„æ’ä»¶ï¼ŒåŒ…å«äº†ä¸Šè‰²ã€èªæ³•æç¤ºã€ç·¨è¼¯å™¨å¿«é€Ÿåˆ†å‰²ç­‰å¼·å¤§åŠŸèƒ½ï¼Œè€Œä¸”ä¹Ÿæ˜¯ Nuxt 3 æ¨è–¦çš„ç·¨è¼¯å™¨æ’ä»¶ã€‚&lt;/li>
&lt;li>&lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=Vue.vscode-typescript-vue-plugin" target="_blank" rel="noopener"
>TypeScript Vue Plugin (Volar)&lt;/a>ï¼šVue çš„ TypeScript æ’ä»¶ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="step-2-å®‰è£-vue-é¡å‹æª¢æŸ¥å¥—ä»¶">Step 2. å®‰è£ Vue é¡å‹æª¢æŸ¥å¥—ä»¶&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D vue-tsc typescript
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D vue-tsc typescript&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-èª¿æ•´-nuxtconfigts-è¨­å®š">Step 3. èª¿æ•´ nuxt.config.ts è¨­å®š&lt;/h4>
&lt;p>æ ¹æ“š nuxt3 å®˜æ–¹æ–‡ä»¶&lt;a class="link" href="https://nuxt.com/docs/guide/concepts/typescript" target="_blank" rel="noopener"
>èªªæ˜&lt;/a>ï¼Œæˆ‘å€‘å¯ä»¥åœ¨ &lt;code>nuxt.config.ts&lt;/code> ä¸­ï¼Œè¨­ç½® &lt;code>typescript.typeCheck: true&lt;/code> ä¾†è®“é–‹ç™¼æ™‚æœŸèƒ½åŸ·è¡Œé¡å‹æª¢æŸ¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">typescript&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">typeCheck&lt;/span>: &lt;span class="kt">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-4-é‡æ–°å•Ÿå‹•é–‹ç™¼ç’°å¢ƒæœå‹™">Step 4. é‡æ–°å•Ÿå‹•é–‹ç™¼ç’°å¢ƒæœå‹™&lt;/h4>
&lt;p>æˆ‘å€‘é‡æ–°åŸ·è¡Œ &lt;code>npm run dev -- -o&lt;/code> ä¾†é‡å•Ÿé–‹ç™¼ç’°å¢ƒçš„æœå‹™ï¼Œé€™æ¨£å°±é…ç½®å®Œæˆå›‰ï¼&lt;/p>
&lt;h4 id="çœ‹çœ‹æ•ˆæœ">çœ‹çœ‹æ•ˆæœ&lt;/h4>
&lt;p>å¦‚æœæˆ‘å€‘åœ¨ &lt;code>app.vue&lt;/code> å¯«äº†ä»¥ä¸‹ç¨‹å¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">year&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;2022&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">year&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> iThome éµäººè³½`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥ç™¼ç¾çµ‚ç«¯æ©Ÿ (Terminal) å°±&lt;code>æŒ‡å‡ºäº†ä¸€å€‹éŒ¯èª¤çš„é¡å‹æŒ‡æ´¾&lt;/code>ï¼Œä¸¦å‘ŠçŸ¥ä½ æœ‰éŒ¯èª¤ç¨‹å¼ç¢¼çš„ä½ç½®ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964299_7ee542dbc3_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="eslint-è¨­ç½®-linter">ESLint è¨­ç½® Linter&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698096_7b89a76f54_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ESLint æ˜¯ä¸€å€‹ &lt;code>JavaScript Linter&lt;/code>ï¼Œå®ƒç”¨ä¾†æª¢æŸ¥ JavaScript Coding Style çš„å·¥å…·ï¼Œä¸»è¦èƒ½å¹«ä½ &lt;code>åˆ†æä¸¦æ‰¾åˆ°èªæ³•éŒ¯èª¤&lt;/code>ï¼Œä¹Ÿèƒ½ç”¨ä¾†&lt;code>çµ±ä¸€é¢¨æ ¼&lt;/code>ï¼Œä¾‹å¦‚ï¼šç¸®æ’ç©ºç™½æ•¸ã€å­—ä¸²è¦ç”¨å–®å¼•è™Ÿæˆ–é›™å¼•è™Ÿç­‰ï¼Œæé†’ä½ åˆªæ‰å¤šé¤˜ç¨‹å¼ç¢¼æˆ–éµç…§æœ€ä½³çš„å¯¦è¸æ–¹å¼ï¼Œç¢ºä¿ç¨‹å¼ç¢¼èƒ½å…·æœ‰ä¸€å®šçš„æ°´æº–ã€‚åœ¨åœ˜éšŠå”ä½œä¸‹ ESLint æ›´èƒ½è®“å¤§å®¶æ’°å¯«ç¨‹å¼ç¢¼æ™‚éµç…§è¦å‰‡ï¼Œç¢ºä¿ç¨‹å¼ç¢¼å“è³ªã€‚ESLint é™¤äº†æä¾›ä½ å¯ä»¥ä½¿ç”¨å¤§å…¬å¸å¦‚ Googleã€Airbnb ç­‰çš„è¦å‰‡é…ç½®ä¾†ä½œç‚ºæª¢æŸ¥åŸºæº–ï¼Œä¹Ÿå¯ä»¥å®¢è£½è‡ªè¨‚å‡ºè‡ªå·±å–œå¥½æˆ–åœ˜éšŠå…±è­˜çš„è¦å‰‡ä¾†åˆ†æèˆ‡æé†’ä½ æ ¡æ­£èªæ³•ã€‚&lt;/p>
&lt;h4 id="step-1-å®‰è£-eslint-å¥—ä»¶">Step 1. å®‰è£ ESLint å¥—ä»¶&lt;/h4>
&lt;p>ç¾åœ¨æˆ‘å€‘è‡³ Nuxt å°ˆæ ¹ç›®éŒ„ä¸‹ï¼Œé–‹å§‹å®‰è£ ESLint ç›¸é—œå¥—ä»¶ï¼Œç•¶ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‘è‡ªå·±å–œæ­¡çš„é€²è¡Œé…ç½®ï¼Œä¸éåœ¨é€™è£¡é¸æ“‡ä»¥ Nuxt 3 å®˜æ–¹æä¾›çš„ ESLint è¨­å®šä¾†åšæ¨™æº–é…ç½®ï¼Œä¸¦æ·»åŠ æ”¯æ´ Vue 3 çš„ ESLint è¨­å®šã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D eslint @nuxtjs/eslint-config-typescript eslint-plugin-vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D eslint @nuxtjs/eslint-config-typescript eslint-plugin-vue&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-é…ç½®-eslint-è¨­å®šæª”">Step 2. é…ç½® ESLint è¨­å®šæª”&lt;/h4>
&lt;p>å®‰è£å®Œæ‰€éœ€å¥—ä»¶å¾Œï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘å°±å¯ä»¥ä¾†è¨­å®š ESLintï¼Œæˆ‘å€‘åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹å»ºç«‹ &lt;code>.eslintrc.js&lt;/code> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">env&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">browser&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">es2021&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">extends&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@nuxtjs/eslint-config-typescript&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;plugin:vue/vue3-recommended&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">parserOptions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ecmaVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">13&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourceType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;module&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rules&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">overrides&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">files&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/pages/**/*.{js,ts,vue}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/layouts/**/*.{js,ts,vue}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/app.{js,ts,vue}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/error.{js,ts,vue}&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rules&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;vue/multi-word-component-names&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;off&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨æˆ‘å€‘å»ºç«‹çš„ &lt;code>.eslintrc.js&lt;/code> æª”æ¡ˆä¸­ &lt;code>extends&lt;/code> å¯ä»¥æ˜¯ä¸€å€‹é™£åˆ—ï¼Œä¸»è¦æ˜¯ä¾†æ”¾ç½®&lt;code>æ“´å±•&lt;/code> ESLint çš„è¦å‰‡çš„é…ç½®ï¼Œé€™è£¡ç¨å¾®æ³¨æ„ä¸€ä¸‹é †åºå¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>@nuxtjs/eslint-config-typescript&lt;/strong>ï¼šå°æ‡‰ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/eslint-config-typescript" target="_blank" rel="noopener"
>@nuxtjs/eslint-config-typescript&lt;/a> å¥—ä»¶ï¼Œç”± Nuxt å®˜æ–¹æä¾›ç”¨æ–¼ Nuxt çš„ ESLint è¦å‰‡é…ç½®ã€‚å¦‚æœä½ ä¸æ˜¯ä½¿ç”¨ TypeScript å¯ä»¥ä½¿ç”¨ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/eslint-config" target="_blank" rel="noopener"
>@nuxtjs/eslint-config&lt;/a>ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>plugin:vue/vue3-recommended&lt;/strong>ï¼šå°æ‡‰ &lt;a class="link" href="https://www.npmjs.com/package/eslint-plugin-vue" target="_blank" rel="noopener"
>eslint-plugin-vue&lt;/a> å¥—ä»¶ï¼Œç”± Vue.js å®˜æ–¹æä¾›çš„ ESLint &lt;a class="link" href="https://github.com/vuejs/eslint-plugin-vue" target="_blank" rel="noopener"
>æ’ä»¶&lt;/a>ï¼ŒåŒ…å«äº†èƒ½é…åˆ Vue SFC èªæ³•åŠç‰¹æ€§çš„è¦å‰‡ï¼Œä¹Ÿå¯ä»¥åƒè€ƒ&lt;a class="link" href="https://eslint.vuejs.org/user-guide/#bundle-configurations" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ï¼Œä¾æ“šéœ€æ±‚ç¨ä½œèª¿æ•´ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>å°‡ç‰¹å®šç›®éŒ„ä¸‹çš„æª”æ¡ˆé—œé–‰ &lt;code>vue/multi-word-component-names&lt;/code> è¦å‰‡ï¼Œä»¥æ­¤ä¾†å› æ‡‰ nuxt çš„é–‹ç™¼é¿å…æç¤ºéŒ¯èª¤ã€‚&lt;/p>
&lt;blockquote>
&lt;p>å› ç‚ºç›®å‰ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/eslint-config-typescript" target="_blank" rel="noopener"
>@nuxtjs/eslint-config-typescript&lt;/a> æ˜¯åŸºæ–¼ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/eslint-config" target="_blank" rel="noopener"
>@nuxtjs/eslint-config&lt;/a> ä¾†æ“´å±• TypeScript çš„è¨­å®šï¼Œè€Œä¸” &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/eslint-config" target="_blank" rel="noopener"
>@nuxtjs/eslint-config&lt;/a> åŒ…å«çš„æ˜¯ Vue 2 çš„ ESLint è¨­å®šï¼Œæ‰€ä»¥æˆ‘å€‘éœ€è¦å†é¡å¤–å®‰è£ &lt;a class="link" href="https://www.npmjs.com/package/eslint-plugin-vue" target="_blank" rel="noopener"
>eslint-plugin-vue&lt;/a> ä¾†æ“´å±• Vue 3 è¦å‰‡é…ç½®ï¼Œä¸¦è¦†å¯« &lt;strong>vue/multi-word-component-names&lt;/strong> è¦å‰‡ã€‚&lt;/p>
&lt;/blockquote>
&lt;h4 id="ç”¨-eslint-ä¾†å˜—è©¦æª¢æŸ¥">ç”¨ ESLint ä¾†å˜—è©¦æª¢æŸ¥&lt;/h4>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘ç·¨è¼¯ &lt;code>app.vue&lt;/code> æª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">year&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2022&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">year&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> iThome éµäººè³½`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ä¾†ä½¿ç”¨ eslint æª¢æŸ¥ &lt;code>app.vue&lt;/code> é€™å€‹æª”æ¡ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx eslint -- app.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°ä¸‹åœ–ï¼ŒESLint æŒ‡å‡º &lt;code>app.vue&lt;/code> çš„å•é¡Œï¼Œåœ¨ç¬¬ 9 è¡Œä¸­çš„ &lt;code>title&lt;/code> é€™å€‹è®Šæ•¸å·²ç¶“å®£å‘Šäº†å»æ²’æœ‰è¢«ä½¿ç”¨ã€‚&lt;/p>
&lt;p>é€™å€‹éŒ¯èª¤è¨Šæ¯æ­£æ˜¯ä¾æ“šä¸Šé¢æˆ‘å€‘çš„ ESLint é…ç½®æ‰€è¢«æª¢è¦–å‡ºä¾†çš„ï¼Œåœ¨ ESLint è¦å‰‡å®šç¾©å¥½å¾Œï¼Œä¹Ÿæœ‰åˆ†æˆéŒ¯èª¤ (Error) èˆ‡è­¦å‘Š (Warning)ï¼Œæˆ‘å€‘å¯ä»¥å†ä¾æ“š ESLint çµ¦äºˆçš„æç¤ºé€²è¡Œèª¿æ•´èˆ‡ä¿®æ­£ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188177_46465e3ffe_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æˆ‘å€‘å˜—è©¦ä¿®æ­£ä¸€ä¸‹ &lt;code>app.vue&lt;/code> é€™å€‹æª”æ¡ˆï¼Œåœ¨ template ä¸­ä½¿ç”¨ title é€™å€‹è®Šæ•¸ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">year&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2022&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">year&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> iThome éµäººè³½`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†ä¸€æ¬¡åŸ·è¡Œ &lt;code>npx eslint -- app.vue&lt;/code>ï¼Œå°±æœƒç™¼ç¾æ²’æœ‰éŒ¯èª¤è¨Šæ¯ç”¢ç”Ÿå›‰ï¼&lt;/p>
&lt;h3 id="åœ¨-packagejson-è¨­ç½®è…³æœ¬">åœ¨ package.json è¨­ç½®è…³æœ¬&lt;/h3>
&lt;p>æˆ‘å€‘é™¤äº†é€å€‹æª”æ¡ˆåšæª¢æŸ¥ï¼Œä¹Ÿå¯ä»¥è¨­ç½®è…³æœ¬ä¾†æª¢æŸ¥æ•´å€‹å°ˆæ¡ˆç›®éŒ„ä¸‹çš„ç¨‹å¼ç¢¼ã€‚&lt;/p>
&lt;p>åœ¨ &lt;code>package.json&lt;/code> çš„ scripts è…³æœ¬ä¸­ï¼Œæˆ‘å€‘å¯ä»¥æ–°å¢ä¸€å€‹æŒ‡ä»¤ &lt;code>&amp;quot;lint&amp;quot;: &amp;quot;eslint --ext .ts,.js,.vue .&amp;quot;&lt;/code>ï¼Œé€™æ¨£ä¸€ä¾†æˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤ä¾†æª¢æŸ¥å°ˆæ¡ˆç›®éŒ„ä¸‹çš„æ‰€æœ‰åŒ…å« &lt;strong>.ts&lt;/strong>ã€&lt;strong>.js&lt;/strong>ã€&lt;strong>.vue&lt;/strong> å‰¯æª”åçš„æª”æ¡ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run lint
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run lint&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åœ¨-vs-code-ä¸­é¡¯ç¤º-eslint-éŒ¯èª¤æˆ–è­¦å‘Š">åœ¨ VS Code ä¸­é¡¯ç¤º ESLint éŒ¯èª¤æˆ–è­¦å‘Š&lt;/h3>
&lt;p>æ¨è–¦å¤§å®¶å®‰è£ VS Code çš„ ESLint æ’ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" target="_blank" rel="noopener"
>ESLint&lt;/a>ï¼šè®“ä½ åœ¨ç·¨è¼¯å™¨é–‹ç™¼æ™‚å°±èƒ½æœ‰æŒ‡ä»¤æª¢æŸ¥ï¼Œæ›´å¯ä»¥åšåˆ°å…¨åŸŸæˆ–ç‰¹å®šå·¥ä½œå€é–‹å•Ÿå„²å­˜æˆ–å¿«æ·éµè‡ªå‹•ä¿®æ­£ç¨‹å¼ç¢¼ç­‰è¨­ç½®ã€‚&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>å®‰è£å®Œç•¢å¾Œï¼Œå»ºè­°é‡å•Ÿ VS Code ä¾†é‡æ–°è¼‰å…¥ç›¸é—œè¨­å®šã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ç¾åœ¨ï¼Œä½ æœƒç™¼ç¾åœ¨ VS Code ä¸­ç·¨è¼¯ç¨‹å¼çš„éç¨‹ä¸­ï¼Œå¦‚æœæœ‰ ESLint æª¢æŸ¥åˆ°çš„éŒ¯èª¤æˆ–å»ºè­°ï¼Œå°±æœƒå‡ºç¾&lt;code>ç´…è‰²æˆ–é»ƒè‰²çš„æ³¢æµªåº•ç·š&lt;/code>ï¼Œç•¶æ»‘é¼ æŒ‡æ¨™ç§»å‹•è‡³æ³¢æµªåº•ç·šè™•ï¼Œå°±æœƒç™¼ç¾æœ‰å€‹å°è¦–çª—æç¤ºä½ éŒ¯èª¤æˆ–è­¦å‘Šçš„åŸå› æ˜¯ä»€éº¼ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186373_67101210bd_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="åœ¨-vs-code-ä¸­è‡ªå‹•ä¿®æ­£-eslint-éŒ¯èª¤æˆ–è­¦å‘Š">åœ¨ VS Code ä¸­è‡ªå‹•ä¿®æ­£ ESLint éŒ¯èª¤æˆ–è­¦å‘Š&lt;/h3>
&lt;p>åœ¨æŸäº›æƒ…æ³ï¼ŒESLint å¯ä»¥å¹«åŠ©ä½ åšè‡ªå‹•ä¿®æ­£ç¨‹å¼ç¢¼ï¼Œç”šè‡³åœ¨å­˜æ“‹æ™‚å°‡éŒ¯èª¤éƒ¨åˆ†ç›´æ¥é€²è¡Œä¿®æ­£ã€‚&lt;/p>
&lt;h4 id="æ‰‹å‹•å¿«é€Ÿä¿®æ­£">æ‰‹å‹•å¿«é€Ÿä¿®æ­£&lt;/h4>
&lt;p>æˆ‘å€‘å¯ä»¥åœ¨ç·¨è¼¯å™¨å°‡æ»‘é¼ æŒ‡æ¨™ç§»å‹•è‡³æ³¢æµªåº•ç·šé»æ“Šã€Œ&lt;strong>å¿«é€Ÿä¿®æ­£ (Quick Fix)&amp;hellip;&lt;/strong>ã€ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ç·¨è¼¯å™¨å»ºè­°çš„å¿«æ·éµ &lt;strong>Command + . (macOS)&lt;/strong>ï¼Œæ­¤æ™‚å°±èƒ½é¸æ“‡è¦ä¿®å¾©æˆ–é—œé–‰ç•¥ééŒ¯èª¤åŸå› ï¼›é€™è£¡æˆ‘å€‘é¸æ“‡ã€Œ&lt;strong>Fix all auto-fixable problems&lt;/strong>ã€ï¼Œä¾†ä¿®å¾©æ‰€æœ‰å¯èƒ½å¯ä»¥è¢«è‡ªå‹•ä¿®å¾©çš„å•é¡Œã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617134545_8b88fdc93b_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="å­˜æ“‹è‡ªå‹•ä¿®æ­£">å­˜æ“‹è‡ªå‹•ä¿®æ­£&lt;/h4>
&lt;p>é™¤äº†æ‰‹å‹•å¿«é€Ÿä¿®æ­£å¤–ï¼Œä½ ä¹Ÿå¯ä»¥é€éæ·»åŠ  VS Code çš„è¨­å®šæª”ï¼Œå¦‚å°ˆæ¡ˆç›®éŒ„ä¸‹æ–°å¢ &lt;code>.vscode/settings.json&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;editor.formatOnSave&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;prettier.semi&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;files.trimTrailingWhitespace&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;editor.defaultFormatter&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;esbenp.prettier-vscode&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;editor.codeActionsOnSave&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;source.fixAll.eslint&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;eslint.format.enable&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;eslint.validate&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;javascript&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;javascriptreact&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;html&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;vue&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;typescript&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;typescriptreact&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;eslint.enable&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘ç·¨è¼¯å®Œç¨‹å¼ç¢¼ï¼Œä¸¦ä¿å­˜æª”æ¡ˆæˆ–å¿«æ·éµå­˜æ“‹ &lt;strong>Command + S (macOS)&lt;/strong>ï¼Œå°±æœƒè§¸ç™¼ ESLint è‡ªå‹•ä¿®å¾©å›‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698136_f967028caa_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="prettier-è¨­ç½®">Prettier è¨­ç½®&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186383_1c8d988fe4_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>Prettier æ˜¯ç¨‹å¼ç¢¼æ ¼å¼åŒ–çš„å·¥å…·ï¼Œä¹Ÿå¯ä»¥èˆ‡ ESLint é€²è¡Œæ­é…ï¼ŒESLint èˆ‡ Prettier å°±èƒ½å„å¸å…¶è·å°‡ JaveScript èˆ‡ Vue ç­‰æª”æ¡ˆä¾ç…§é…ç½®é€²è¡Œæª¢æŸ¥èˆ‡æ’ç‰ˆã€‚&lt;/p>
&lt;h4 id="step-1-å®‰è£-prettier-å¥—ä»¶">Step 1. å®‰è£ Prettier å¥—ä»¶&lt;/h4>
&lt;p>æˆ‘å€‘ç›´æ¥å®‰è£ prettierã€eslint-config-prettier èˆ‡ eslint-plugin-prettier ä¸‰å€‹å¥—ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D prettier eslint-config-prettier eslint-plugin-prettier
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D prettier eslint-config-prettier eslint-plugin-prettier&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-é…ç½®-prettier-è¨­å®šæª”æ¡ˆ">Step 2. é…ç½® Prettier è¨­å®šæª”æ¡ˆ&lt;/h4>
&lt;p>æˆ‘å€‘åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹å»ºç«‹ &lt;code>.prettierrc.js&lt;/code> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼Œé€™äº›é…ç½®éƒ½å¯ä»¥è‡ªå·±è¨­å®šä¾†é…åˆ ESLintï¼Œæ›´å¤šé¸é …æˆ–èªªæ˜å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://prettier.io/docs/en/options.html" target="_blank" rel="noopener"
>Prettier å®˜æ–¹èªªæ˜æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">printWidth&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">120&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æ¯è¡Œæ–‡å­—æ•¸é‡é” 100 å­—å…ƒå°±æ›åˆ°æ–°çš„ä¸€è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">semi&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æ¯å€‹èªå¥çš„çµå°¾ä¸éœ€è¦åˆ†è™Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">singleQuote&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å­—ä¸²ä½¿ç”¨å–®å¼•è™Ÿï¼Œè€Œä¸æ˜¯é›™å¼•è™Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">trailingComma&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;none&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å¦‚ Objectã€Array å…§çš„å…ƒç´ ä¸éœ€è¦å°¾éš¨é€—è™Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">endOfLine&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;auto&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vueIndentScriptAndStyle&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-é…ç½®-eslint-è¨­å®šæª”æ¡ˆ">Step 3. é…ç½® ESLint è¨­å®šæª”æ¡ˆ&lt;/h4>
&lt;p>æˆ‘å€‘åœ¨å®‰è£æ™‚å¤šè£äº†å…©å€‹ ESLint ç›¸é—œå¥—ä»¶ï¼Œåˆ†åˆ¥ç‚º &lt;a class="link" href="https://github.com/prettier/eslint-config-prettier" target="_blank" rel="noopener"
>eslint-config-prettier&lt;/a> åŠ &lt;a class="link" href="https://www.npmjs.com/package/eslint-plugin-prettier" target="_blank" rel="noopener"
>eslint-plugin-prettier&lt;/a>ã€‚&lt;/p>
&lt;p>å°æ­¤æˆ‘å€‘éœ€è¦å°‡å…¶æ·»åŠ è‡³ ESLint çš„ &lt;code>.eslintrc.js&lt;/code> è¨­å®šæª”å…§ï¼Œåœ¨ &lt;code>extends&lt;/code> æ·»åŠ å­—ä¸² &lt;code>prettier&lt;/code> è¡¨ç¤ºä½¿ç”¨ &lt;a class="link" href="https://github.com/prettier/eslint-config-prettier" target="_blank" rel="noopener"
>eslint-config-prettier&lt;/a> æ“´å……é…ç½®ï¼Œä¸»è¦ç”¨ä¾†é˜²æ­¢ Prettier æ’ç‰ˆèˆ‡ ESLint ç™¼ç”Ÿè¡çªï¼Œè®“å…¶å¯ä»¥ç”¨ä¾†ç¦ç”¨ ESLint çš„æ ¼å¼åŒ–ï¼›æ¥è‘—åœ¨ &lt;code>plugins&lt;/code> ä¸­æ·»åŠ  &lt;code>prettier&lt;/code> å­—ä¸²è¡¨ç¤ºä½¿ç”¨ &lt;a class="link" href="https://www.npmjs.com/package/eslint-plugin-prettier" target="_blank" rel="noopener"
>eslint-plugin-prettier&lt;/a> å¥—ä»¶æ“´å……ï¼Œè®“ ESLint å¯ä»¥æç¤ºæˆ‘å€‘æ ¼å¼æœ‰éŒ¯èª¤çš„åœ°æ–¹ã€‚&lt;/p>
&lt;p>ç‚ºäº†è®“ Prettier èˆ‡ ESLint æœ‰æ›´å¥½çš„æ­é…ï¼Œåœ¨ &lt;code>rules&lt;/code> çš„åƒæ•¸ä¸­è¨˜å¾—æ·»åŠ  &lt;code>'prettier/prettier': 'error'&lt;/code> è®“ ESLint å¯ä»¥æç¤º Prettier çš„æ’ç‰ˆç•°å¸¸æç¤ºä¾›æˆ‘å€‘åšä¿®æ­£ï¼Œè‡³æ­¤ &lt;code>.eslintrc.js&lt;/code> è¨­å®šæª”æ‡‰è©²æœƒå¦‚ä¸‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">env&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">browser&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">es2021&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">extends&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;@nuxtjs/eslint-config-typescript&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;plugin:vue/vue3-recommended&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;prettier&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">parserOptions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ecmaVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">13&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourceType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;module&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;prettier&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rules&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;prettier/prettier&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;error&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">overrides&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">files&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/pages/**/*.{js,ts,vue}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/layouts/**/*.{js,ts,vue}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/app.{js,ts,vue}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/error.{js,ts,vue}&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rules&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;vue/multi-word-component-names&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;off&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-4-å®‰è£-vs-code-çš„-prettier-æ’ä»¶">Step 4. å®‰è£ VS Code çš„ Prettier æ’ä»¶&lt;/h4>
&lt;ul>
&lt;li>&lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode" target="_blank" rel="noopener"
>Prettier - Code formatter&lt;/a>ï¼šæä¾›æˆ‘å€‘åšç¨‹å¼ç¢¼çš„æ ¼å¼åŒ–ï¼Œæœ€é‡è¦çš„æ˜¯ä¾†å”åŠ©æˆ‘å€‘è‡ªå‹•è¼‰å…¥ &lt;code>.prettierrc.js&lt;/code> é…ç½®ã€‚&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>å®‰è£å®Œç•¢å¾Œï¼Œå»ºè­°é‡å•Ÿ VS Code ä¾†é‡æ–°è¼‰å…¥ç›¸é—œè¨­å®šã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æˆ‘å€‘å®Œæˆäº† TypeScript èˆ‡ Linter çš„é…ç½®ï¼Œé›–ç„¶é…ç½®æœ‰äº›ç¹ç‘£ï¼Œä½†å¯«ç¨‹å¼çš„é¢¨æ ¼æœ‰å€‹æ¨™æº–åŠè¦å‰‡ä¾å¾ªï¼Œè‚¯å®šèƒ½å”åŠ©ä½ å¯«å‡ºä»¤äººè®šå˜†çš„å®Œç¾çš„ç¨‹å¼ç¢¼ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä½¿ç”¨-tailwind-css">ä½¿ç”¨ Tailwind CSS&lt;/h2>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186403_1fa6ef95d7_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç‚ºäº†å¾ŒçºŒç¯„ä¾‹ç¨‹å¼åœ¨é é¢å‘ˆç¾ä¸Šèƒ½æœ‰æ¯”è¼ƒå¥½çœ‹çš„æ¨£å¼ï¼ŒåŸå…ˆæœ‰æƒ³éä½¿ç”¨ UI æ¡†æ¶æˆ–ç´”å¯« CSSï¼Œä½†æ˜¯ç¸½è¦ºå¾—å¥½åƒä¸å¤ æ½®ï¼Œæ‰€ä»¥å‘¢ï¼Œæˆ‘æ±ºå®šå¸¶å…¥è¿‘å¹´æ»¿ç†±é–€çš„ CSS æ¡†æ¶ &lt;a class="link" href="https://tailwindcss.com/" target="_blank" rel="noopener"
>Tailwind CSS&lt;/a>ï¼Œåœ¨æœ¬ç¯‡æ–‡ç« æˆ‘å°±ä¸å†å¤šèŠ±ç¯‡å¹…ä»‹ç´¹ &lt;a class="link" href="https://tailwindcss.com/" target="_blank" rel="noopener"
>Tailwind&lt;/a> çš„èªæ³•åŠæŒ‡ä»¤ç­‰ï¼Œä¸»è¦é‡å° Nuxt 3 å¦‚ä½•å°å…¥ &lt;a class="link" href="https://tailwindcss.com/" target="_blank" rel="noopener"
>Tailwind CSS&lt;/a> è‡³å°ˆæ¡ˆå…§ä½¿ç”¨ã€‚&lt;/p>
&lt;p>å…¶å¯¦æœ‰ç¨å¾®ç³¾çµä¸€ä¸‹è¦ä¸è¦ä½¿ç”¨ &lt;a class="link" href="https://css.master.co/tw" target="_blank" rel="noopener"
>Master CSS&lt;/a>ï¼Œé›–ç„¶æœ€å¾Œæ±ºå®šå…ˆç·©ç·©ï¼Œä½†æˆ‘èªç‚ºå®ƒéå¸¸æœ‰æ·ºåŠ›æˆç‚ºé€™é¡æ¡†æ¶çš„éœ¸ä¸»ï¼Œå¤§å®¶æœ‰ç©ºä¹Ÿå¯ä»¥æ”¯æŒä¸€ä¸‹æˆ–ç©ç©é€™å€‹ç”±è‡ºç£åœ˜éšŠé–‹ç™¼çš„ CSS æ¡†æ¶å“¦ï¼&lt;/p>
&lt;p>&lt;a class="link" href="https://tailwindcss.com/" target="_blank" rel="noopener"
>Tailwind CSS&lt;/a> æ˜¯è¿‘å¹´æ»¿ç†±é–€çš„ &lt;code>Utility-First CSS&lt;/code> æ¡†æ¶ï¼Œæ›¾æ€èµ·ä¸€ç•ªè«–æˆ°èªª Class ä¸æ˜¯è®“ä½ é€™æ¨£ç”¨çš„ä¹‹é¡çš„æ‰¹è©•åŠç¼ºé»ï¼Œä½†å¦‚æœä½ æ·±å…¥æš¸è§£å®ƒå¾Œï¼Œç¢ºå¯¦ä¸å¯å¦èªå®ƒèƒ½ç‚ºä½ å¸¶ä¾†æ›´å¥½çš„ç”Ÿç”¢æ•ˆç‡ç­‰è«¸å¤šå„ªé»ã€‚&lt;/p>
&lt;p>æ¥ä¸‹ä¾†ï¼Œæˆ‘æœƒåˆ†åˆ¥ä»‹ç´¹å…©ç¨®å°å…¥ &lt;a class="link" href="https://tailwindcss.com/" target="_blank" rel="noopener"
>Tailwind CSS&lt;/a> æ–¹å¼ï¼Œåˆ†åˆ¥ç‚º &lt;strong>Nuxt Community é‡‹å‡ºçš„ Tailwind CSS æ•´åˆæ¨¡çµ„&lt;/strong> åŠ &lt;strong>Tailwind CSS å®˜æ–¹æŒ‡å¼•æ­¥é©Ÿ&lt;/strong>ï¼Œä»¥ä¸‹çš„ &lt;strong>A&lt;/strong> æˆ– &lt;strong>B&lt;/strong> å…©ç¨®å°å…¥æ–¹å¼ï¼Œå¤§å®¶åªè¦&lt;code>æ“‡ä¸€&lt;/code>å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨-nuxt-tailwind-æ¨¡çµ„">ä½¿ç”¨ Nuxt Tailwind æ¨¡çµ„&lt;/h3>
&lt;h4 id="step-1-å®‰è£ç›¸é—œå¥—ä»¶">Step 1. å®‰è£ç›¸é—œå¥—ä»¶&lt;/h4>
&lt;p>é¦–å…ˆå®‰è£ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/tailwindcss" target="_blank" rel="noopener"
>@nuxtjs/tailwindcss&lt;/a>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D @nuxtjs/tailwindcss
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D @nuxtjs/tailwindcss&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-æ·»åŠ æ¨¡çµ„è‡³-nuxtconfigts">Step 2. æ·»åŠ æ¨¡çµ„è‡³ nuxt.config.ts&lt;/h4>
&lt;p>æ‰“é–‹ &lt;code>./nuxt.config.ts&lt;/code> å°‡ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/tailwindcss" target="_blank" rel="noopener"
>@nuxtjs/tailwindcss&lt;/a> æ¨¡çµ„æ·»åŠ è‡³ &lt;code>modules&lt;/code> è¨­å®šåƒæ•¸ä¸­ï¼Œå®Œæˆå¾Œçœ‹èµ·ä¾†æœƒåƒä¸‹é¢é€™æ¨£ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// https://v3.nuxtjs.org/api/configuration/nuxt.config
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@nuxtjs/tailwindcss&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">typescript&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">typeCheck&lt;/span>: &lt;span class="kt">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-é‡å•Ÿ-nuxt-æœå‹™">Step 3. é‡å•Ÿ Nuxt æœå‹™&lt;/h4>
&lt;p>é‡æ–°å•Ÿå‹•æˆ‘å€‘çš„ Nuxt æœå‹™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run dev -- -o
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run dev -- -o&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/tailwindcss" target="_blank" rel="noopener"
>@nuxtjs/tailwindcss&lt;/a> åªéœ€è¦å…©å€‹æ­¥é©Ÿå°±å®Œæˆäº† &lt;a class="link" href="https://tailwindcss.com/" target="_blank" rel="noopener"
>Tailwind CSS&lt;/a> çš„é…ç½®ï¼Œé€™å€‹æ¨¡çµ„å·²ç¶“åŒ…å«æ‰‹å‹•å®‰è£æ™‚éœ€è¦å»ºç«‹çš„ &lt;a class="link" href="https://tailwindcss.com/" target="_blank" rel="noopener"
>Tailwind CSS&lt;/a> æŒ‡ä»¤ &lt;code>tailwindcss.css&lt;/code> éœ€è¦çš„å…¨åŸŸè¨­å®šèˆ‡ PostCSS åƒæ•¸é¸é …ï¼ŒåŒæ™‚ä¹Ÿé è¨­äº† &lt;code>tailwind.config.js&lt;/code> çš„ç›¸é—œ &lt;strong>content&lt;/strong> ç›®éŒ„è·¯å¾‘ï¼Œè©³ç´°å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://github.com/nuxt-modules/tailwindcss" target="_blank" rel="noopener"
>Nuxt Tailwind&lt;/a>ã€‚&lt;/p>
&lt;h4 id="æ“´å……æˆ–è¦†å¯«-nuxtjstailwindcss-é…ç½®">æ“´å……æˆ–è¦†å¯« @nuxtjs/tailwindcss é…ç½®&lt;/h4>
&lt;blockquote>
&lt;p>å¦‚æœä½ æ²’æœ‰ç‰¹åˆ¥éœ€è¦æ“´å……æˆ–è¦†å¯«è¨­å®šå¯ä»¥è·³éé€™ä¸€æ®µã€‚&lt;/p>
&lt;/blockquote>
&lt;p>å°ˆæ¡ˆå…§è‹¥ä½¿ç”¨ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/tailwindcss" target="_blank" rel="noopener"
>@nuxtjs/tailwindcss&lt;/a> æ¨¡çµ„ï¼Œé€™å…©å€‹ &lt;code>tailwind.css&lt;/code> èˆ‡ &lt;code>tailwind.config.js&lt;/code> æª”æ¡ˆå…¶å¯¦æ¨¡çµ„å·²ç¶“æœ‰é è¨­ï¼Œä¸éœ€è¦æ‰‹å‹•å»ºç«‹ï¼Œ&lt;code>tailwind.css&lt;/code> å°æ‡‰æ¨¡çµ„å…§çš„ &lt;strong>tailwind.css&lt;/strong> å¯ä»¥åƒè€ƒå°ˆæ¡ˆæª”æ¡ˆå…§å®¹ &lt;a class="link" href="https://github.com/nuxt-modules/tailwindcss/blob/main/src/runtime/tailwind.css" target="_blank" rel="noopener"
>tailwind.css&lt;/a>ï¼Œ&lt;code>tailwind.config.js&lt;/code> å‰‡æ˜¯é€éæ¨¡çµ„å‹•æ…‹æ–°å¢é…ç½®ã€‚&lt;/p>
&lt;p>å€˜è‹¥æƒ³è¦ä¿®æ”¹ä¹Ÿå¯ä»¥é€éå»ºç«‹è¨­å®šæª”æ¡ˆä¾†æ–°å¢æˆ–è¦†å¯«é è¨­å®šï¼Œä¾‹å¦‚åœ¨å°ˆæ¡ˆä¸‹åˆ†åˆ¥å»ºç«‹ &lt;code>tailwind.css&lt;/code> èˆ‡ &lt;code>tailwind.config.js&lt;/code> å…©å€‹æª”æ¡ˆï¼š&lt;/p>
&lt;ul>
&lt;li>tailwind.css&lt;/li>
&lt;/ul>
&lt;p>å°ˆæ¡ˆç›®éŒ„ä¸‹è‹¥å­˜åœ¨è·¯å¾‘æª”åä¸€è‡´çš„ &lt;code>./assets/css/tailwind.css&lt;/code> æª”æ¡ˆï¼Œ&lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/tailwindcss" target="_blank" rel="noopener"
>@nuxtjs/tailwindcss&lt;/a> å°±æœƒä»¥é€™å€‹æª”æ¡ˆå–ä»£æ¨¡çµ„å…§é è¨­çš„ &lt;code>tailwind.css&lt;/code> æª”æ¡ˆã€‚&lt;/p>
&lt;p>&lt;code>tailwind.css&lt;/code> é è¨­å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">base&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">components&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">utilities&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœæœ‰æˆåŠŸè¦†è“‹é…ç½®ï¼Œåœ¨é‡å•Ÿ Nuxt 3 æœå‹™æ™‚ï¼ŒTerminal æœƒæç¤ºä¸‹åˆ—å­—ä¸²ï¼Œè¡¨ç¤ºä½¿ç”¨äº†è‡ªè¨‚çš„ &lt;code>tailwind.css&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Using Tailwind CSS from ~/assets/css/tailwind.css
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>tailwind.config.js&lt;/li>
&lt;/ul>
&lt;p>å°ˆæ¡ˆç›®éŒ„ä¸‹è‹¥å­˜åœ¨ &lt;code>tailwind.config.js&lt;/code> æª”æ¡ˆå°±æœƒä»¥æ–°çš„é…ç½®æ‹“å±•æˆ–è¦†å¯« &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/tailwindcss" target="_blank" rel="noopener"
>@nuxtjs/tailwindcss&lt;/a> é è¨­çš„ &lt;code>tailwind.config&lt;/code>ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘æƒ³æ‹“å±•æˆ–è¦†å¯« content çš„é…ç½®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/** @type {import(&amp;#39;tailwindcss&amp;#39;).Config} */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./components/**/*.{vue,js,ts}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./layouts/**/*.vue&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./pages/**/*.vue&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./composables/**/*.{js,ts}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./plugins/**/*.{js,ts}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./app.{js,ts,vue}&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">theme&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">extend&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="tailwind-css-å®˜æ–¹æŒ‡å¼•æ­¥é©Ÿ">Tailwind CSS å®˜æ–¹æŒ‡å¼•æ­¥é©Ÿ&lt;/h3>
&lt;blockquote>
&lt;p>å¦‚æœä½ å·²ç¶“ä½¿ç”¨äº† &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/tailwindcss" target="_blank" rel="noopener"
>@nuxtjs/tailwindcss&lt;/a> é€²è¡Œé…ç½®ï¼Œå‰‡å¯ä»¥è·³éé€™ä¸€æ®µã€‚&lt;/p>
&lt;/blockquote>
&lt;h4 id="step-1-å®‰è£ç›¸é—œå¥—ä»¶-1">Step 1. å®‰è£ç›¸é—œå¥—ä»¶&lt;/h4>
&lt;p>é¦–å…ˆé€²å…¥æˆ‘å€‘çš„ Nuxt å°ˆæ¡ˆç›®éŒ„ï¼Œä¸¦å®‰è£ Tailwind CSS æœƒä½¿ç”¨åˆ°çš„ä¸€äº›ç›¸é—œå¥—ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D tailwindcss postcss@latest postcss-custom-properties@latest autoprefixer@latest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D tailwindcss postcss@latest postcss-custom-properties@latest autoprefixer@latest&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-å»ºç«‹-tailwindconfigjs">Step 2. å»ºç«‹ tailwind.config.js&lt;/h4>
&lt;p>å®‰è£å®Œå¥—ä»¶å¾Œï¼Œå¯ä»¥åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤é€²è¡Œåˆå§‹åŒ–ï¼Œå®Œæˆå¾Œæœƒåœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹ç”¢ç”Ÿä¸€å€‹åç‚º &lt;code>tailwind.config.js&lt;/code> çš„ Tailwind CSS è¨­å®šæª”ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx tailwindcss init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-èª¿æ•´-tailwindconfigjs">Step 3. èª¿æ•´ tailwind.config.js&lt;/h4>
&lt;p>æ‰“é–‹å‰›å‰›ç”¢ç”Ÿçš„è¨­å®šæª” &lt;code>tailwind.config.js&lt;/code>ï¼Œåœ¨é…ç½®ä¸­çš„ &lt;code>content&lt;/code> é™£åˆ—æ·»åŠ ä¸€äº›è·¯å¾‘ï¼Œé€™äº›è·¯å¾‘çš†æ˜¯è·Ÿ Nuxt æœ‰é—œçš„è³‡æ–™å¤¾ç›®éŒ„èˆ‡æª”æ¡ˆï¼Œå®Œæˆå¾Œæª”æ¡ˆå…§å®¹å¦‚ä¸‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/** @type {import(&amp;#39;tailwindcss&amp;#39;).Config} */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./components/**/*.{vue,js,ts}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./layouts/**/*.vue&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./pages/**/*.vue&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./composables/**/*.{js,ts}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./plugins/**/*.{js,ts}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./app.{js,ts,vue}&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">theme&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">extend&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-4-å»ºç«‹-tailwindcss">Step 4. å»ºç«‹ tailwind.css&lt;/h4>
&lt;p>æ¥è‘—æˆ‘å€‘åœ¨å°ˆæ¡ˆå»ºç«‹ç›®éŒ„ &lt;strong>assets&lt;/strong> èˆ‡å­ç›®éŒ„ &lt;strong>css&lt;/strong> ç”¨ä¾†æ”¾ç½® Tailwind CSS çš„è‡ªå®šç¾©æŒ‡ä»¤ï¼Œæˆ‘å€‘å°‡å…¶æ”¾ç½®åœ¨ &lt;strong>tailwind.css&lt;/strong> ä¾›å¾ŒçºŒåšä½¿ç”¨ï¼Œ&lt;strong>tailwind.css&lt;/strong> çš„è·¯å¾‘æ‡‰æœƒæ˜¯ &lt;code>./assets/css/tailwind.css&lt;/code> æª”æ¡ˆå…§å®¹å¦‚ä¸‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">base&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">components&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">utilities&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-5-é…ç½®å…¨åŸŸå…±ç”¨-css">Step 5. é…ç½®å…¨åŸŸå…±ç”¨ CSS&lt;/h4>
&lt;p>ä¸Šé¢æˆ‘å€‘å»ºç«‹å¥½ &lt;strong>tailwind.css&lt;/strong> å¾Œï¼Œç‚ºäº†è®“æ¯å€‹é é¢éƒ½å¯ä»¥åƒå¾—åˆ° Tailwind CSSï¼Œæˆ‘å€‘ä¿®æ”¹å°ˆæ¡ˆæ ¹ç›®éŒ„çš„ &lt;code>nuxt.config.ts&lt;/code> æª”æ¡ˆï¼Œåœ¨ &lt;code>css&lt;/code> åƒæ•¸é™£åˆ—å…§æ–°å¢ &lt;code>tailwind.css&lt;/code> è·¯å¾‘ï¼Œè®“ Nuxt å¯ä»¥é…ç½®å…¨åŸŸå…±ç”¨çš„ CSSï¼Œä¸¦æ·»åŠ  &lt;code>postcss&lt;/code> é¸é …åŠæˆ‘å€‘å‰›æ‰å®‰è£çš„å¥—ä»¶ä½œç‚ºæ’ä»¶ï¼Œæœ€å¾Œ &lt;code>nuxt.config.ts&lt;/code> æª”æ¡ˆçœ‹èµ·ä¾†å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// https://v3.nuxtjs.org/api/configuration/nuxt.config
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">postcss&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;postcss-import&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;tailwindcss/nesting&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tailwindcss&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">autoprefixer&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">css&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@/assets/css/tailwind.css&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">typescript&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">typeCheck&lt;/span>: &lt;span class="kt">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡³æ­¤ï¼Œæˆ‘å€‘å°ˆæ¡ˆç›®éŒ„æª”æ¡ˆå¦‚ä¸‹çµæ§‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nuxt-app
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .nuxt/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ assets/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ css/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ tailwind.css // æ‰‹å‹•æ–°å¢çš„æª”æ¡ˆï¼Œç”¨æ–¼è¨­ç½® Tailwind CSS æŒ‡ä»¤ä¸¦è®“å…¨éƒ¨é é¢å¼•ç”¨
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ node_modules/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .eslintrc.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .gitignore
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .prettierrc.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ app.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ nuxt.config.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ package-lock.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ package.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ tailwind.config.js // Tailwind åˆå§‹åŒ–æŒ‡ä»¤ç”¢ç”Ÿçš„è¨­å®šæª”
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ tsconfig.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-6-é‡å•Ÿ-nuxt-æœå‹™">Step 6. é‡å•Ÿ Nuxt æœå‹™&lt;/h4>
&lt;p>é‡æ–°å•Ÿå‹•æˆ‘å€‘çš„ Nuxt æœå‹™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run dev -- -o
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é–‹å§‹æ„Ÿå—-tailwind-css-çš„é­…åŠ›">é–‹å§‹æ„Ÿå— Tailwind CSS çš„é­…åŠ›&lt;/h3>
&lt;p>ç•¶æˆ‘å€‘é…ç½®å®Œ Tailwind CSS ä¸¦é‡å•Ÿ Nuxt æœå‹™å¾Œï¼Œæˆ‘å€‘ç·¨è¼¯ &lt;code>app.vue&lt;/code> æª”æ¡ˆå…§å®¹ï¼Œæ’°å¯«ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-blue-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-900&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‡æ–°ç€è¦½ä¸€æ¬¡ç¶²é ï¼Œå¯ä»¥ç™¼ç¾æ’ç‰ˆã€é¡è‰²ã€å­—å‹éƒ½æœ‰å‡ºç¾æˆ‘å€‘è¨­å®šçš„æ•ˆæœäº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188202_d650c12b2b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="è‡ªå‹•æ’åº-tailwind-css-çš„-class">è‡ªå‹•æ’åº Tailwind CSS çš„ Class&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964384_7ac2dd7e78_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç•¶æˆ‘å€‘åœ¨å¯« Tailwind CSS æ™‚çµ‚ç©¶æœƒç¢°åˆ°é¡å‹éå¤šï¼Œç¬¬ä¸€çœ¼ä¸ç¢ºå®šæ˜¯å¦åŒ…å«æŸå€‹ classï¼Œæˆ–è€…å°æ–¼é †åºä¸Šæœ‰å¼·çƒˆçµ±ä¸€çš„è¦æ±‚ï¼Œé‚£éº¼é€™å€‹ Prettier çš„&lt;a class="link" href="https://github.com/tailwindlabs/prettier-plugin-tailwindcss" target="_blank" rel="noopener"
>æ’ä»¶&lt;/a>ï¼Œ&lt;code>prettier-plugin-tailwindcss&lt;/code> æ’ä»¶æ˜¯ Tailwind æ¨å‡ºçš„ï¼Œç›®çš„åœ¨æ–¼å¯ä»¥ä½¿ç”¨å®˜æ–¹æ¨è–¦çš„ class é †åºï¼Œä¾†å¯¦ç¾&lt;code>è‡ªå‹•æ’åº class&lt;/code> ä¾†åšåˆ°çµ±ä¸€ç¨‹å¼ç¢¼é¢¨æ ¼ã€‚&lt;/p>
&lt;h3 id="tailwind-x-prettier">Tailwind x Prettier&lt;/h3>
&lt;h4 id="step-1-å®‰è£æ’ä»¶">Step 1. å®‰è£æ’ä»¶&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D prettier-plugin-tailwindcss
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D prettier-plugin-tailwindcss&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>å¦‚æœä½ ä¸æ˜¯ç…§è‘—å‰é¢çš„æ­¥é©Ÿå»ºç½®å°ˆæ¡ˆï¼Œè«‹è¨˜å¾—ç¢ºèªå·²ç¶“æœ‰å®‰è£ prettier å¥—ä»¶ã€‚&lt;/p>
&lt;/blockquote>
&lt;h4 id="step-2-é…ç½®è¨­å®šæª”">Step 2. é…ç½®è¨­å®šæª”&lt;/h4>
&lt;p>é–‹å•Ÿ &lt;code>.prettierrc.js&lt;/code> æª”æ¡ˆï¼Œæ·»åŠ  &lt;code>'prettier-plugin-tailwindcss'&lt;/code> è‡³ &lt;code>plugins&lt;/code> é™£åˆ—ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;prettier-plugin-tailwindcss&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">printWidth&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æ¯è¡Œæ–‡å­—æ•¸é‡é” 100 å­—å…ƒå°±æ›åˆ°æ–°çš„ä¸€è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">semi&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æ¯å€‹èªå¥çš„çµå°¾ä¸éœ€è¦åˆ†è™Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">singleQuote&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å­—ä¸²ä½¿ç”¨å–®å¼•è™Ÿï¼Œè€Œä¸æ˜¯é›™å¼•è™Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">trailingComma&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;none&amp;#39;&lt;/span> &lt;span class="c1">// å¦‚ Objectã€Array å…§çš„å…ƒç´ ä¸éœ€è¦å°¾éš¨é€—è™Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-è‡ªå‹•ä¿®æ­£æ•ˆæœ">Step 3. è‡ªå‹•ä¿®æ­£æ•ˆæœ&lt;/h4>
&lt;p>ä½ å¯ä»¥åœ¨ç·¨è¼¯å™¨å…§ç§»è‡³éŒ¯èª¤æ³¢æµªåº•ç·šä½¿ç”¨ã€Œ&lt;strong>å¿«é€Ÿä¿®å¾© (Quick Fix)&amp;hellip;&lt;/strong>ã€åŠŸèƒ½ï¼Œæˆ–è¨­ç½® &lt;code>&amp;quot;editor.codeActionsOnSave&amp;quot;&lt;/code> ä¸­ &lt;code>&amp;quot;source.fixAll.eslint&amp;quot;: true&lt;/code> ä¾†é”åˆ°ä¿å­˜å¾Œè‡ªå‹•ä¿®æ­£ prettier å¼•ç™¼çš„ ESLint éŒ¯èª¤ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698186_25eebdd0f7_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="å°çµ">å°çµ&lt;/h3>
&lt;p>ç›¸è¼ƒæ–¼ Tailwind CSS å®˜æ–¹æŒ‡å¼•çš„å®‰è£æ–¹å¼ï¼Œä½¿ç”¨ Nuxt Community å¹«æˆ‘å€‘æ•´ç†å¥½çš„ &lt;code>@nuxtjs/tailwindcss&lt;/code> æ¨¡çµ„ï¼Œå¯ä»¥çœå»ç¹ç‘£çš„è¨­å®šæ­¥é©Ÿï¼Œä¹Ÿè§£æ±ºäº†ä¸€äº›ç›®å‰ Nuxt 3 å°ˆæ¡ˆä¸­ï¼Œå°å…¥ Tailwind CSS ä½¿ç”¨ HMR å¯èƒ½ç„¡æ³•è‡ªå‹•ç·¨è­¯ä¸¦é‡æ–°å¥—ç”¨ç­‰å•é¡Œã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä½¿ç”¨-pug">ä½¿ç”¨ Pug&lt;/h2>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698191_9faacb41c6_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;a class="link" href="https://pugjs.org/" target="_blank" rel="noopener"
>pug&lt;/a> ç‚º html æ¨¡æ¿èªè¨€ï¼Œå¯æ”¯æ´æ’°å¯« JS é‚è¼¯ã€‚å¯«æ³•ä¸Šï¼Œçœç•¥äº† HTML çš„é–‹ã€é–‰åˆæ¨™ç±¤ï¼Œèƒ½å¤ å¤§å¤§çš„æå‡å·¥ç¨‹å¸«é–‹ç™¼é€Ÿåº¦ï¼Œçœ‹ä¸Šå»ä¹Ÿæ›´ç‚ºç°¡æ½”ã€‚&lt;/p>
&lt;p>åœ¨æœ¬ç¯‡æ–‡ç« æˆ‘ä¾èˆŠä¸å†å¤šèŠ±ç¯‡å¹…ä»‹ç´¹ &lt;a class="link" href="https://pugjs.org/" target="_blank" rel="noopener"
>pug&lt;/a> çš„èªæ³•ï¼Œä¸»è¦é‡å° Nuxt 3 å¦‚ä½•å°å…¥ &lt;a class="link" href="https://pugjs.org/" target="_blank" rel="noopener"
>pug&lt;/a> è‡³å°ˆæ¡ˆå…§ä½¿ç”¨ã€‚&lt;/p>
&lt;p>ç‚ºäº†ä¹‹å¾Œé–‹ç™¼èƒ½å°‘æ‰“ä¸€é» Codeï¼Œé€™é‚ŠåŠ å…¥ &lt;a class="link" href="https://pugjs.org/" target="_blank" rel="noopener"
>pug&lt;/a> åˆ°å°ˆæ¡ˆã€‚&lt;/p>
&lt;h3 id="å®‰è£-vite-plugin-pug">å®‰è£ @vite-plugin-pug&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D vite-plugin-pug
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D vite-plugin-pug&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç›´æ¥é–‹å§‹é«”é©—-pug">ç›´æ¥é–‹å§‹é«”é©— Pug&lt;/h3>
&lt;p>ç›´æ¥å°‡åŸå…ˆçš„ &lt;code>app.vue&lt;/code> æ”¹ç”¨ pug èªæ³•ä¾†æ’°å¯«ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;pug&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">div&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">bg&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">white&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">py&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">24&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">flex&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">col&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">items&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">center&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">flex&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">h1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="nx">xl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">font&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">semibold&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">blue&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">600&lt;/span> &lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mt&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">4.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="nx">xl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">font&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">bold&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">gray&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">900&lt;/span> &lt;span class="nx">éµäººè³½&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">year&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;2022&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™é‚Šæ¨è–¦ä¸€æ¬¾ VS Code çš„å¥—ä»¶ - &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=dbalas.vscode-html2pug" target="_blank" rel="noopener"
>html2pug&lt;/a>ï¼Œå°‡ HTML åç™½å¾Œé»é¸ VS Code ä¸Šæ–¹çš„ &lt;strong>View&lt;/strong> &amp;gt; &lt;strong>Command Palette&amp;hellip;&lt;/strong>ï¼Œå°‹æ‰¾ä¸¦åŸ·è¡Œ &lt;strong>&amp;quot;&amp;gt; html2pug: Transform&amp;quot;&lt;/strong>ï¼Œå³å¯å°‡åç™½çš„ HTML è‡ªå‹•è½‰æ›æˆ pug èªæ³•ã€‚&lt;/p>
&lt;p>ä¸ç”¨ç®¡ HTML çš„çµå°¾ç¬¦è™Ÿï¼Œå¯«èµ·ä¾†æ•´å€‹å°±æ˜¯èˆ’æœé˜¿~~~&lt;/p>
&lt;hr>
&lt;h2 id="ç›®éŒ„çµæ§‹èˆ‡è‡ªå‹•è¼‰å…¥-auto-imports">ç›®éŒ„çµæ§‹èˆ‡è‡ªå‹•è¼‰å…¥ (Auto Imports)&lt;/h2>
&lt;p>éš¨è‘—æ•´å€‹å°ˆæ¡ˆçš„é–‹ç™¼ï¼Œç›®éŒ„èˆ‡å…ƒä»¶å‹¢å¿…ä¹Ÿæœƒè¶Šä¾†è¶Šå¤šï¼Œå¦‚åŒ Vue 3 çš„å°ˆæ¡ˆå¯èƒ½æœƒæœ‰å°ˆé–€æ”¾ç½®å…ƒä»¶ç›®éŒ„ components ç­‰ï¼Œåœ¨ Vue 3 æˆ‘å€‘å¯èƒ½ä¸å¤ªéœ€è¦å»åœ¨æ„ç›®éŒ„çš„åç¨±ï¼Œä½†åœ¨ Nuxt 3 çš„å°ˆæ¡ˆä¸‹ï¼Œæœ‰ä¸€äº›ç›®éŒ„èˆ‡åç¨±å…¶å¯¦æœ‰ä¸€äº›åŸºæœ¬çš„è¦å®šèˆ‡åç¨±ï¼Œåªè¦ç…§è‘— Nuxt 3 ç´„å®šå¥½çš„æ–¹å¼é€²è¡Œé–‹ç™¼ï¼Œå°±èƒ½æ›´å¥½åˆ©ç”¨ Nuxt 3 å¹«ä½ å®Œæˆè¨±å¤šè²¼å¿ƒçš„åŠŸèƒ½ã€‚&lt;/p>
&lt;h3 id="nuxt-3-çš„ç›®éŒ„çµæ§‹">Nuxt 3 çš„ç›®éŒ„çµæ§‹&lt;/h3>
&lt;p>ç•¶æˆ‘å€‘ Nuxt CLI å»ºç«‹ç¬¬ä¸€å€‹ Nuxt 3 å°ˆæ¡ˆä¸¦ç¬¬ä¸€æ¬¡å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨å¾Œï¼Œå°ˆæ¡ˆç›®éŒ„çµæ§‹æœƒé•·å¾—åƒé€™æ¨£ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964404_21aac96f76_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å¦‚æœä½ æ˜¯è·Ÿè‘—é€™å€‹ç³»åˆ—å®‰è£äº† TypeScriptã€Linterã€Tailwind CSS åŠ Pug ç­‰å¥—ä»¶ï¼Œé‚£éº¼å°ˆæ¡ˆç›®éŒ„çµæ§‹æœƒé•·å¾—åƒé€™æ¨£ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698211_e29e8f9352_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é›–ç„¶æˆ‘å€‘èƒ½ä¾ç…§éœ€æ±‚å»ºç«‹æª”æ¡ˆåŠç›®éŒ„ï¼Œä½† Nuxt 3 åœ¨&lt;code>ç›®éŒ„çš„çµæ§‹èˆ‡å‘½åå…¶å¯¦æœ‰ä¸€å®šçš„è¦å‰‡èˆ‡æ¨¡å¼&lt;/code>ï¼Œä»¥ä¸‹é‡å° Nuxt 3 ä¾†è¬›è¿°ä¸€ä¸‹ç›®éŒ„çš„çµæ§‹èˆ‡éµå¾ªçš„æ–¹å¼ã€‚&lt;/p>
&lt;h3 id="nuxt-3-é è¨­çš„ç›®éŒ„çµæ§‹">Nuxt 3 é è¨­çš„ç›®éŒ„çµæ§‹&lt;/h3>
&lt;p>Nuxt 3 æ¡†æ¶å¸Œæœ›æˆ‘å€‘å¯ä»¥å°ˆæ³¨åœ¨é–‹ç™¼è€Œä¸æ˜¯åœ¨é…ç½®ï¼Œæ‰€ä»¥åœ¨é è¨­çš„æƒ…æ³å°ˆæ¡ˆçš„ç›®éŒ„æ¶æ§‹å·²ç¶“æœ‰ä¸€å€‹ä¸éŒ¯çš„çµæ§‹å¯ä»¥éµå¾ªã€‚&lt;/p>
&lt;p>ä¾æ“š&lt;a class="link" href="https://nuxt.com/docs/guide/concepts/auto-imports" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ï¼Œä¸€å€‹å®Œæ•´çš„ Nuxt 3 å°ˆæ¡ˆï¼Œå®ƒçš„ç›®éŒ„çµæ§‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nuxt-app/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .nuxt/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .output/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ assets/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ components/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ composables/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ content/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ layouts/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ middleware/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ node_modules/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ pages/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ plugins/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ public/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ server/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ api/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ routes/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ middleware/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .gitignore
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .nuxtignore
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ app.config.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ app.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ nuxt.config.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ package.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ tsconfig.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="nuxt-ç›®éŒ„">.nuxt ç›®éŒ„&lt;/h4>
&lt;p>é–‹ç™¼ç’°å¢ƒä¸‹ç”± Nuxt ç”¢ç”Ÿå‡º Vue çš„ç¶²ç«™ï¼Œ.nuxt ç›®éŒ„æ˜¯&lt;code>è‡ªå‹•ç”¢ç”Ÿ&lt;/code>çš„ï¼Œ&lt;strong>ä½ ä¸æ‡‰è©²ä»»æ„çš„èª¿æ•´è£¡é¢æª”æ¡ˆ&lt;/strong>ã€‚&lt;/p>
&lt;h4 id="output-ç›®éŒ„">.output ç›®éŒ„&lt;/h4>
&lt;p>ç•¶ä½ çš„ç¶²ç«™æº–å‚™éƒ¨ç½²è‡³æ­£å¼ç’°å¢ƒæ™‚ï¼Œæ¯æ¬¡ç·¨è­¯å»ºæ§‹å°ˆæ¡ˆæ™‚ï¼Œçš†æœƒ&lt;code>è‡ªå‹•é‡æ–°ç”¢ç”Ÿ&lt;/code>é€™å€‹ç›®éŒ„ï¼Œ&lt;strong>ä½ ä¸æ‡‰è©²ä»»æ„çš„èª¿æ•´è£¡é¢æª”æ¡ˆ&lt;/strong>ã€‚&lt;/p>
&lt;h4 id="assets-ç›®éŒ„">assets ç›®éŒ„&lt;/h4>
&lt;p>é¡§åæ€ç¾©ï¼Œé€™æ˜¯éœæ…‹è³‡æºæª”æ¡ˆæ‰€æ”¾ç½®çš„ä½ç½®ï¼Œç›®éŒ„å…§é€šå¸¸åŒ…å«ä»¥ä¸‹é¡å‹çš„æª”æ¡ˆï¼š&lt;/p>
&lt;ul>
&lt;li>CSS æ¨£å¼æª”æ¡ˆ (CSSã€SASS ç­‰&amp;hellip;)&lt;/li>
&lt;li>å­—å‹&lt;/li>
&lt;li>åœ–ç‰‡&lt;/li>
&lt;/ul>
&lt;p>é€™äº›éœæ…‹è³‡æºï¼Œæœ€çµ‚åœ¨å°ˆæ¡ˆç·¨è­¯å»ºæ§‹æ™‚ï¼Œç”± Vite æˆ– webpack é€²è¡Œç·¨è­¯æ‰“åŒ…ã€‚&lt;/p>
&lt;h4 id="components-ç›®éŒ„">components ç›®éŒ„&lt;/h4>
&lt;p>æ”¾ç½® Vue å…ƒä»¶çš„åœ°æ–¹ï¼ŒNuxt æœƒè‡ªå‹•è¼‰å…¥é€™å€‹ç›®éŒ„ä¸­çš„ä»»ä½•å…ƒä»¶ã€‚&lt;/p>
&lt;h4 id="composables-ç›®éŒ„">composables ç›®éŒ„&lt;/h4>
&lt;p>çµ„åˆå¼å‡½æ•¸æ”¾ç½®çš„ç›®éŒ„ï¼Œç°¡å–®ä¾†èªªå¯ä»¥æŠŠå¸¸ç”¨æˆ–é€šç”¨çš„åŠŸèƒ½å¯«æˆä¸€å€‹å…±ç”¨çš„å‡½æ•¸æˆ– JS æª”æ¡ˆï¼Œæ”¾ç½®åœ¨é€™å€‹ç›®éŒ„è¦–ç‚ºçµ„åˆå¼å‡½æ•¸ï¼ŒNuxt ä¹Ÿæœƒè‡ªå‹•è¼‰å…¥é€™äº›çµ„åˆå¼å‡½æ•¸ï¼Œè®“éœ€è¦ä½¿ç”¨çš„é é¢æˆ–å…ƒä»¶å¯ä»¥ç›´æ¥åšä½¿ç”¨ã€‚&lt;/p>
&lt;h4 id="content-ç›®éŒ„">content ç›®éŒ„&lt;/h4>
&lt;p>é€éä½¿ç”¨ &lt;a class="link" href="https://content.nuxtjs.org/" target="_blank" rel="noopener"
>Nuxt Content&lt;/a>ï¼Œæˆ‘å€‘å¯ä»¥åœ¨é€™å€‹ç›®éŒ„ä¸‹å»ºç«‹ &lt;strong>.md&lt;/strong>ã€&lt;strong>.yml&lt;/strong>ã€&lt;strong>.csv&lt;/strong> å’Œ &lt;strong>.json&lt;/strong> æª”æ¡ˆï¼ŒNuxt Content æœƒè®€å–ä¸¦è§£æé€™äº›æ–‡ä»¶ä¸¦é€²è¡Œæ¸²æŸ“ï¼Œç”¨ä¾†å»ºç«‹åŸºæ–¼æ–‡ä»¶çš„&lt;strong>å…§å®¹ç®¡ç†ç³»çµ±&lt;/strong>(Content Management Systemï¼Œç°¡ç¨±ï¼šCMS)ã€‚&lt;/p>
&lt;h4 id="layouts-ç›®éŒ„">layouts ç›®éŒ„&lt;/h4>
&lt;p>ç”¨æ–¼æ”¾ç½®é€šç”¨æˆ–å¯èƒ½é‡è¤‡ä½¿ç”¨åˆ°çš„ä½ˆå±€æ¨¡æ¿ï¼Œæä¾›ç¨‹å¼ç¢¼çš„å¯é‡è¤‡ä½¿ç”¨æ€§ã€‚&lt;/p>
&lt;h4 id="middleware-ç›®éŒ„">middleware ç›®éŒ„&lt;/h4>
&lt;p>Nuxt 3 æä¾›äº†è·¯ç”±ä¸­é–“ä»¶çš„æ¦‚å¿µï¼Œç”¨æ–¼å°èˆªåˆ°ä¸‹ä¸€å€‹é é¢ä¹‹å‰åŸ·è¡Œä¸€äº›ç¨‹å¼ç¢¼å¦‚&lt;strong>æ¬Šé™é©—è­‰&lt;/strong>&amp;hellip;ç­‰ã€‚&lt;/p>
&lt;h4 id="node_modules-ç›®éŒ„">node_modules ç›®éŒ„&lt;/h4>
&lt;p>é€šå¸¸æœ‰ä½¿ç”¨ Node.js çš„å¥—ä»¶ç®¡ç†ï¼Œä¾‹å¦‚ NPMï¼Œå°æ­¤ç›®éŒ„æ‡‰è©²æœ‰ä¸€äº›å°è±¡ï¼Œä½¿ç”¨ Nuxt 3 åŠå°ˆæ¡ˆæ‰€éœ€è¦çš„ç›¸ä¾å¥—ä»¶éƒ½æœƒå­˜æ”¾åœ¨é€™å€‹ç›®éŒ„ã€‚&lt;/p>
&lt;h4 id="pages-ç›®éŒ„">pages ç›®éŒ„&lt;/h4>
&lt;p>é€™å€‹ç›®éŒ„ä¸»è¦æ˜¯ç”¨ä¾†é…ç½®æˆ‘å€‘çš„é é¢ï¼Œä½ ä¹Ÿå¯ä»¥åªä½¿ç”¨ &lt;strong>app.vue&lt;/strong> ä¾†å®Œæˆä½ çš„ç¶²ç«™ï¼Œä½†å¦‚æœå»ºç«‹äº† &lt;strong>pages&lt;/strong> é€™å€‹ç›®éŒ„ï¼ŒNuxt 3 æœƒè‡ªå‹•æ•´åˆ &lt;code>vue-router&lt;/code>ï¼Œä¸¦æœƒä¾æ“šç›®éŒ„åŠæª”æ¡ˆçµæ§‹è¦å‰‡ä¾†&lt;code>è‡ªå‹•ç”¢ç”Ÿå‡ºå°æ‡‰è·¯ç”±&lt;/code>ï¼Œä¹Ÿæ˜¯ Nuxt3 ç”¢ç”Ÿè·¯ç”±çš„æ–¹å¼ã€‚&lt;/p>
&lt;h4 id="plugins-ç›®éŒ„">plugins ç›®éŒ„&lt;/h4>
&lt;p>Nuxt æœƒè‡ªå‹•è¼‰å…¥é€™å€‹ç›®éŒ„æª”æ¡ˆï¼Œä½œç‚ºæ’ä»¶ä½¿ç”¨ï¼Œåœ¨æª”æ¡ˆåç¨±å¯ä»¥ä½¿ç”¨å¾Œç¶´ &lt;code>.server&lt;/code> æˆ– &lt;code>.client&lt;/code>ï¼Œä¾‹å¦‚ï¼Œ&lt;code>plugin.server.ts&lt;/code> æˆ– &lt;code>plugin.client.ts&lt;/code> ä¾†æ±ºå®šåªè®“ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯è¼‰å…¥é€™å€‹æ’ä»¶ã€‚&lt;/p>
&lt;h4 id="server-ç›®éŒ„">server ç›®éŒ„&lt;/h4>
&lt;p>ç”¨æ–¼å»ºç«‹ä»»ä½•å¾Œç«¯çš„é‚è¼¯å¦‚å¾Œç«¯ APIï¼Œé€™å€‹ç›®éŒ„ä¸‹é‚„åŒ…å«äº† &lt;code>api&lt;/code>ã€&lt;code>server&lt;/code> å’Œ &lt;code>middleware&lt;/code> ä¾†å€åˆ†åŠŸèƒ½ï¼Œä¸å…·æœ‰è‡ªå‹•è¼‰å…¥ï¼Œä½†æ”¯æ´ HMRã€‚&lt;/p>
&lt;h4 id="gitignore-æª”æ¡ˆ">.gitignore æª”æ¡ˆ&lt;/h4>
&lt;p>åœ¨ä½¿ç”¨ Git ç‰ˆæœ¬æ§åˆ¶æ™‚ï¼Œå¯ä»¥è¨­ç½®ä¸€äº›ä¸éœ€è¦æˆ–å¿½ç•¥é—œæ³¨è®Šå‹•çš„æª”æ¡ˆåŠç›®éŒ„ã€‚&lt;/p>
&lt;h4 id="nuxtignore-æª”æ¡ˆ">.nuxtignore æª”æ¡ˆ&lt;/h4>
&lt;p>å¯ä»¥è¨­ç½®è®“ Nuxt ç·¨è­¯å»ºæ§‹æ™‚ï¼Œå¿½ç•¥ä¸€äº›ä¸éœ€è¦æˆ–æ¬²å¿½ç•¥çš„æª”æ¡ˆã€‚&lt;/p>
&lt;h4 id="appconfigts-æª”æ¡ˆ">app.config.ts æª”æ¡ˆ&lt;/h4>
&lt;p>æä¾›æœå‹™é‹è¡Œæ™‚æš´éœ²çµ¦å®¢æˆ¶ç«¯ä½¿ç”¨çš„è¨­å®šï¼Œå› æ­¤ï¼Œè«‹ä¸è¦åœ¨ &lt;strong>app.config.ts&lt;/strong> æª”æ¡ˆä¸­æ·»åŠ ä»»ä½•æ©Ÿå¯†è³‡è¨Šã€‚&lt;/p>
&lt;h4 id="appvue-æª”æ¡ˆ">app.vue æª”æ¡ˆ&lt;/h4>
&lt;p>Nuxt 3 ç¶²ç«™çš„å…¥å£é»å…ƒä»¶ã€‚&lt;/p>
&lt;h4 id="nuxtconfigts-æª”æ¡ˆ">nuxt.config.ts æª”æ¡ˆ&lt;/h4>
&lt;p>ç”¨æ–¼é…ç½® Nuxt å°ˆæ¡ˆçš„è¨­å®šæª”ã€‚&lt;/p>
&lt;h4 id="packagejson-æª”æ¡ˆ">package.json æª”æ¡ˆ&lt;/h4>
&lt;p>é€™å€‹æª”æ¡ˆè£¡é¢å®šç¾©äº†å°ˆæ¡ˆè³‡è¨Šã€è…³æœ¬ã€ç›¸ä¾å¥—ä»¶åŠç‰ˆæœ¬è™Ÿï¼Œé€šå¸¸æœ‰ä½¿ç”¨ Node.js å¥—ä»¶ç®¡ç†å·¥å…·å»ºç½®çš„å°ˆæ¡ˆéƒ½æœƒåŒ…å«æ­¤æª”æ¡ˆã€‚&lt;/p>
&lt;h4 id="tsconfigjson-æª”æ¡ˆ">tsconfig.json æª”æ¡ˆ&lt;/h4>
&lt;p>Nuxt 3 æœƒåœ¨ &lt;strong>.nuxt&lt;/strong> ç›®éŒ„ä¸‹&lt;code>è‡ªå‹•ç”¢ç”Ÿ&lt;/code>ä¸€å€‹ &lt;code>tsconfig.json&lt;/code> æª”æ¡ˆï¼Œå…¶ä¸­å·²ç¶“åŒ…å«äº†ä¸€äº›è§£æåˆ¥åç­‰é è¨­é…ç½®ï¼›ä½ å¯ä»¥é€é&lt;code>å°ˆæ¡ˆç›®éŒ„&lt;/code>ä¸‹çš„ &lt;code>tsconfig.json&lt;/code> ä¾†é…ç½®æ“´å±•æˆ–è¦†è“‹ Nuxt 3 é è¨­çš„ TypeScript è¨­å®šæª”ã€‚&lt;/p>
&lt;h3 id="è‡ªè¨‚ç›®éŒ„åç¨±">è‡ªè¨‚ç›®éŒ„åç¨±&lt;/h3>
&lt;p>å‰é¢ç°¡ä»‹äº† Nuxt 3 çš„é è¨­ç›®éŒ„çµæ§‹èˆ‡ç”¨é€”ï¼Œåœ¨ç›®éŒ„åç¨±ä¸Š Nuxt 3 ä¹Ÿæä¾›äº†å¯ä»¥èª¿æ•´ç›®éŒ„åç¨±çš„æ–¹å¼ï¼Œåªè¦åœ¨ &lt;code>nuxt.config.ts&lt;/code> ä¿®æ”¹å°æ‡‰çš„åƒæ•¸ï¼Œå°±å¯ä»¥è‡ªè¨‚ç›®éŒ„çš„åç¨±ã€‚ä¸éå‘¢ï¼Œä¹Ÿä¸¦ä¸æ˜¯æ‰€æœ‰çš„ç›®éŒ„éƒ½èƒ½ä¿®æ”¹ï¼Œç›®å‰&lt;a class="link" href="https://nuxt.com/docs/api/configuration/nuxt-config#dir" target="_blank" rel="noopener"
>å®˜æ–¹æä¾›&lt;/a>çš„ dir åƒæ•¸å…±æœ‰ä»¥ä¸‹å››å€‹ç›®éŒ„åƒæ•¸é¸é …ä¾›ä¿®æ”¹ï¼š&lt;/p>
&lt;ul>
&lt;li>layouts&lt;/li>
&lt;li>middleware&lt;/li>
&lt;li>pages&lt;/li>
&lt;li>public&lt;/li>
&lt;/ul>
&lt;p>ä¾‹å¦‚æˆ‘æƒ³å°‡ &lt;strong>pages&lt;/strong> ç›®éŒ„åç¨±èª¿æ•´ç‚º &lt;strong>views&lt;/strong> å°±å¯ä»¥æ–°å¢ä¸‹åˆ— &lt;code>dir&lt;/code> è¨­å®šæ·»åŠ è‡³ &lt;code>nuxt.config.ts&lt;/code>ï¼Œå°±å¯ä»¥å°‡ &lt;strong>pages&lt;/strong> ç›®éŒ„åŠŸèƒ½åŠè¦å‰‡èª¿æ•´ç‚º &lt;strong>views&lt;/strong> ç›®éŒ„ä¾†å¯¦ç¾ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dir&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pages&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;views&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è‡ªå‹•è¼‰å…¥-auto-imports">è‡ªå‹•è¼‰å…¥ (Auto Imports)&lt;/h3>
&lt;p>åœ¨ä»‹ç´¹ç›®éŒ„çµæ§‹æ™‚æœ‰æåˆ°ï¼ŒæŸäº›ç›®éŒ„ä¸‹çš„æª”æ¡ˆæ˜¯å…·æœ‰&lt;code>è‡ªå‹•è¼‰å…¥ (Auto Imports)&lt;/code>çš„åŠŸèƒ½ï¼Œæ„æ€å°±æ˜¯èªªï¼Œç•¶æˆ‘å€‘åœ¨é€™äº›ç‰¹å®šçš„ç›®éŒ„ &lt;code>components&lt;/code>ã€&lt;code>composables&lt;/code>ã€&lt;code>layouts&lt;/code>ã€&lt;code>plugins&lt;/code> æ·»åŠ æª”æ¡ˆæ™‚ï¼ŒNuxt 3 æœƒè‡ªå‹•è¼‰å…¥é€™äº›å…ƒä»¶æˆ–å‡½æ•¸ã€‚&lt;/p>
&lt;p>Nuxt 3 çš„è‡ªå‹•è¼‰å…¥å…·é«”æœ‰ä»¥ä¸‹ä¸‰ç¨®ï¼š&lt;/p>
&lt;ul>
&lt;li>Nuxt å¸¸ç”¨å…ƒä»¶èˆ‡å‡½æ•¸&lt;/li>
&lt;li>Vue 3 çš„ API&lt;/li>
&lt;li>åŸºæ–¼ç›®éŒ„çš„è‡ªå‹•è¼‰å…¥&lt;/li>
&lt;/ul>
&lt;h4 id="nuxt-å¸¸ç”¨å…ƒä»¶èˆ‡å‡½æ•¸çš„è‡ªå‹•è¼‰å…¥">Nuxt å¸¸ç”¨å…ƒä»¶èˆ‡å‡½æ•¸çš„è‡ªå‹•è¼‰å…¥&lt;/h4>
&lt;p>Nuxt æœƒè‡ªå‹•è¼‰å…¥ä¸€äº›å…ƒä»¶æˆ–çµ„åˆå¼å‡½æ•¸ï¼Œç”¨ä»¥è®“é–‹ç™¼æ™‚å¯ä»¥åœ¨å…¨éƒ¨é é¢æˆ–å®šç¾©çµ„ä»¶å’Œæ’ä»¶å¯ä»¥ä½¿ç”¨ã€‚&lt;/p>
&lt;p>Nuxt è‡ªå‹•è¼‰å…¥çš„å…ƒä»¶å°±å¥½æ¯” &lt;strong>app.vue&lt;/strong> ç¨‹å¼ç¢¼å…§ï¼Œä¸€é–‹å§‹åœ¨ &lt;strong>template&lt;/strong> å°±æœ‰çš„ &lt;code>&amp;lt;NuxtWelcome /&amp;gt;&lt;/code> æ­¡è¿é é¢å…ƒä»¶ï¼Œå…¶ä»–é‚„åŒ…å«äº† &lt;code>&amp;lt;NuxtPage&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;NuxtLayout&amp;gt;&lt;/code> å’Œ &lt;code>&amp;lt;NuxtLink&amp;gt;&lt;/code> ç­‰ï¼Œè©³ç´°å¯ä»¥åƒè€ƒ&lt;a class="link" href="https://nuxt.com/docs/api/components/client-only" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œä¸‹é¢ç¨‹å¼ç¢¼ä¸­çš„ &lt;code>useAsyncData&lt;/code> èˆ‡ &lt;code>$fetch&lt;/code> å°±æ˜¯ Nuxt è‡ªå‹•è¼‰å…¥çš„çµ„åˆå¼å‡½æ•¸ï¼Œåœ¨å„å€‹é é¢æˆ–å…ƒä»¶éƒ½èƒ½åšä½¿ç”¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">refresh&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pending&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">useAsyncData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/hello&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">$fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/hello&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="vue-3-api-çš„è‡ªå‹•è¼‰å…¥">Vue 3 API çš„è‡ªå‹•è¼‰å…¥&lt;/h4>
&lt;p>ä¾‹å¦‚ï¼ŒVue 3 ä¸­æœƒä½¿ç”¨åˆ°çš„ &lt;code>ref&lt;/code>ã€&lt;code>computed&lt;/code> ç­‰é€™é¡çš„ helpers æˆ– lifecycle hooksï¼Œåœ¨ Nuxt 3 ä¹Ÿéƒ½å°‡æœƒè‡ªå‹•çš„è¼‰å…¥ï¼Œä¸éœ€è¦åœ¨ importã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä¸éœ€è¦åœ¨ import ref æˆ– computed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="kr">double&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åŸºæ–¼ç›®éŒ„çš„è‡ªå‹•è¼‰å…¥">åŸºæ–¼ç›®éŒ„çš„è‡ªå‹•è¼‰å…¥&lt;/h4>
&lt;p>å¦‚å‰é¢æ‰€æåŠçš„ï¼ŒNuxt æœƒè‡ªå‹•è¼‰å…¥å®šç¾©åœ¨ç‰¹å®šç›®éŒ„çš„æª”æ¡ˆï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;ul>
&lt;li>components: ç›¸å°æ–¼ Vue çš„çµ„ä»¶ã€‚&lt;/li>
&lt;li>composables: ç›¸å°æ–¼ Vue çš„çµ„åˆå¼å‡½æ•¸ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="å»ºç«‹ä¸€å€‹è‡ªå‹•å°å…¥çš„å…ƒä»¶">å»ºç«‹ä¸€å€‹è‡ªå‹•å°å…¥çš„å…ƒä»¶&lt;/h3>
&lt;p>æˆ‘å€‘å»ºç«‹ä¸€å€‹ &lt;strong>./components/IronManWelcome.vue&lt;/strong> æª”æ¡ˆï¼š&lt;/p>
&lt;h5 id="componentsironmanwelcomevue">components/IronManWelcome.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ &lt;strong>app.vue&lt;/strong> æª”æ¡ˆä¸­ï¼Œæ–°å¢ &lt;code>&amp;lt;IronManWelcome /&amp;gt;&lt;/code> å…ƒä»¶ã€‚&lt;/p>
&lt;h5 id="appvue">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">IronManWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¾åœ¨ï¼Œç€è¦½å™¨å¯ä»¥çœ‹è¦‹æˆ‘å€‘æ·»åŠ çš„å…ƒä»¶æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188282_4d52db7fc1_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å¯ä»¥ç™¼ç¾ï¼Œæˆ‘å€‘ä¸éœ€è¦æ·»åŠ  &lt;code>import IronManWelcome from './components/IronManWelcome'&lt;/code> å°±å¯ä»¥ç›´æ¥åœ¨ template ç›´æ¥ä½¿ç”¨ &lt;code>&amp;lt;IronManWelcome /&amp;gt;&lt;/code> å…ƒä»¶ï¼Œé€™å°±æ˜¯ Nuxt 3 åŸºæ–¼ç›®éŒ„çš„è‡ªå‹•è¼‰å…¥åŠŸèƒ½ã€‚&lt;/p>
&lt;h3 id="é—œé–‰è‡ªå‹•è¼‰å…¥">é—œé–‰è‡ªå‹•è¼‰å…¥&lt;/h3>
&lt;p>å¦‚æœæƒ³&lt;code>é—œé–‰&lt;/code> Nuxt çš„è‡ªå‹•è¼‰å…¥å…ƒä»¶æˆ–å‡½æ•¸çš„åŠŸèƒ½ï¼Œå¯ä»¥ä¿®æ”¹å°ˆæ¡ˆç›®éŒ„ä¸‹çš„ &lt;code>nuxt.config.ts&lt;/code> æª”æ¡ˆï¼Œå°‡ &lt;code>imports.autoImport&lt;/code> è¨­å®šç‚º &lt;code>false&lt;/code>ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">imports&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">autoImport&lt;/span>: &lt;span class="kt">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é¡¯å¼è¼‰å…¥-explicit-imports">é¡¯å¼è¼‰å…¥ (Explicit Imports)&lt;/h3>
&lt;p>Explicit (é¡¯å¼ã€æ˜ç¢ºçš„)ï¼Œç•¶æˆ‘å€‘éœ€è¦æ‰‹å‹•è¼‰å…¥ï¼Œå°±å¯ä»¥ç”¨ &lt;code>#import&lt;/code> é€™å€‹ Nuxt é‡‹å‡ºçš„åˆ¥åï¼Œä¾†å€‹åˆ¥è¼‰å…¥é‚£äº›å…·æœ‰è‡ªå‹•è¼‰å…¥çš„å…ƒä»¶æˆ–å‡½æ•¸ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">computed&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;#imports&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="kr">double&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>Nuxt 3 çš„å°ˆæ¡ˆç›®éŒ„èˆ‡çµæ§‹å·²ç¶“æœ‰ä¸€å€‹è¦å®šå¯ä»¥éµå®ˆï¼ŒNuxt 3 è¦åŠƒçš„ç›®éŒ„åŠæª”æ¡ˆæ¶æ§‹ï¼Œè®“æˆ‘å€‘å¯ä»¥ä¸ç”¨å†ç…©æƒ±è©²å¦‚ä½•é…ç½®ï¼Œåªéœ€è¦å°ˆæ³¨é–‹ç™¼ï¼Œç•¶ä½ ç†Ÿæ‚‰é€™äº›ç›®éŒ„æª”æ¡ˆè¦å‰‡èˆ‡è‡ªå‹•è¼‰å…¥çš„ç‰¹æ€§ï¼Œè‚¯å®šèƒ½æ›´å¿«ä¸Šæ‰‹ Nuxt 3ã€‚&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="é é¢-pages-èˆ‡è·¯ç”±-routing">é é¢ (Pages) èˆ‡è·¯ç”± (Routing)&lt;/h2>
&lt;p>åœ¨ Vue ä¸­ï¼Œæˆ‘å€‘æœƒä½¿ç”¨åˆ° &lt;a class="link" href="https://router.vuejs.org/" target="_blank" rel="noopener"
>Vue Router&lt;/a> ä¾†å¯¦ç¾åˆ‡æ›é é¢æˆ–è·¯ç”±çš„éœ€æ±‚ï¼Œè€Œåœ¨ Nuxt 3 ä¸­ï¼Œé è¨­æ˜¯æ²’æœ‰ä½¿ç”¨è·¯ç”±ç›¸é—œå¥—ä»¶ï¼Œç›´è‡³å»ºç«‹äº† &lt;strong>pages&lt;/strong> ç›®éŒ„ï¼ŒNuxt å°‡æœƒè‡ªå‹•è¼‰å…¥ Vue Router ä¾†ç®¡ç†è·¯ç”±ï¼Œä¸¦ä¸”å…·æœ‰ä¸€å®šçš„è¦å‰‡éœ€è¦éµå¾ªï¼Œä»¥ä¸‹å°‡ä»‹ç´¹é é¢ç›®éŒ„èˆ‡è·¯ç”±ä¹‹é–“çš„é—œä¿‚ã€‚&lt;/p>
&lt;h3 id="åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±-file-based-routing">åŸºæ–¼æª”æ¡ˆçš„è·¯ç”± (File-based Routing)&lt;/h3>
&lt;p>åœ¨ Nuxt 3 å°ˆæ¡ˆçš„ &lt;strong>pages&lt;/strong> ç›®éŒ„ä¸‹ï¼Œç•¶æˆ‘å€‘å»ºç«‹äº†ä¸€å€‹é é¢æª”æ¡ˆï¼Œå°±æœƒä»¥è©²æª”æ¡ˆå»ºç«‹å‡ºç›¸å°æ‡‰çš„è·¯ç”±ï¼ŒNuxt 3 åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±ï¼Œä¹Ÿä½¿ç”¨äº†ç¨‹å¼ç¢¼æ‹†åˆ†å°‡æ¯å€‹é é¢éœ€è¦çš„ç¨‹å¼ç¢¼æ¢³ç†å‡ºä¾†ï¼Œä¸¦ä»¥å‹•æ…‹è¼‰å…¥çš„æ–¹å¼è¼‰å…¥æœ€å°æ‰€éœ€è¦çš„ç¨‹å¼ç¢¼ã€‚å› ç‚ºæ˜¯ä»¥&lt;strong>ç›®éŒ„çµæ§‹&lt;/strong>èˆ‡&lt;strong>æª”æ¡ˆå‘½å&lt;/strong>æ–¹å¼ä¾†ç´„å®šï¼Œä¹Ÿç¨±ä¹‹ç‚ºç´„å®šå¼è·¯ç”±ã€‚&lt;/p>
&lt;h4 id="å»ºç«‹ç¬¬ä¸€å€‹é é¢">å»ºç«‹ç¬¬ä¸€å€‹é é¢&lt;/h4>
&lt;p>Nuxt 3 çš„ &lt;strong>pages&lt;/strong> ç›®éŒ„ï¼Œæ˜¯ç”¨ä¾†å»ºç«‹é é¢ä¸¦æ”¾ç½®çš„ç›®éŒ„ï¼Œç•¶å°ˆæ¡ˆä¸‹æœ‰å­˜åœ¨ &lt;strong>pages&lt;/strong> ç›®éŒ„ï¼ŒNuxt å°‡æœƒè‡ªå‹•è¼‰å…¥ Vue Router ä¾†å¯¦ç¾è·¯ç”±æ•ˆæœï¼Œç›®éŒ„ä¸‹çš„æª”æ¡ˆé€šå¸¸æ˜¯ Vue çš„å…ƒä»¶ï¼Œä¹Ÿå…è¨±å…·æœ‰ &lt;strong>.vue&lt;/strong>ã€&lt;strong>.js&lt;/strong>ã€&lt;strong>.jsx&lt;/strong>ã€&lt;strong>.ts&lt;/strong> æˆ– &lt;strong>.tsx&lt;/strong> å‰¯æª”åçš„æª”æ¡ˆã€‚&lt;/p>
&lt;p>ç•¶æˆ‘å€‘å»ºç«‹ &lt;strong>./pages/index.vue&lt;/strong>ï¼Œæª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼Œå‰‡è¡¨ç¤ºè·¯ç”± &lt;code>/&lt;/code> å°æ‡‰åˆ°é€™å€‹é é¢æª”æ¡ˆï¼Œæˆ‘å€‘åªéœ€è¦å»ºç«‹æª”æ¡ˆï¼Œè·¯ç”±çš„é…ç½®å°‡æœƒç”± Nuxt 3 è‡ªå‹•ç”¢ç”Ÿã€‚&lt;/p>
&lt;h5 id="pagesindexvue">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥ä½ é‚„è¨˜å¾— Vue Router ä¸­çš„ &lt;code>&amp;lt;router-view /&amp;gt;&lt;/code>ï¼Œé€™æ˜¯è·¯ç”±éœ€è¦çš„é€²å…¥é»ï¼ŒåŒæ¨£çš„åœ¨ Nuxt 3 æˆ‘å€‘éœ€è¦ä½¿ç”¨ &lt;code>&amp;lt;NuxtPage /&amp;gt;&lt;/code> ä¾†é¡¯ç¤ºæˆ‘å€‘å»ºç«‹çš„è·¯ç”±é é¢ï¼Œ&lt;code>é€™è£¡éå¸¸é‡è¦ï¼Œå¦å‰‡è·¯ç”±åŠé é¢å°‡ç„¡æ³•æ­£ç¢ºé‹ä½œ&lt;/code>ã€‚&lt;/p>
&lt;p>ä¿®æ”¹ &lt;strong>./app.vue&lt;/strong>ï¼Œæª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="appvue-1">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘åœ¨ç€è¦½å™¨ç€è¦½ &lt;code>/&lt;/code> è·¯ç”±ï¼Œå¦‚ &lt;code>http://localhost:3000/&lt;/code>ï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘å€‘åœ¨ &lt;strong>./pages/index.vue&lt;/strong> é é¢å…§å¯«çš„æ¨™é¡Œæ–‡å­—ã€Œé€™æ˜¯é¦–é ã€å›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186498_fb79e37a84_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="å¤šå€‹è·¯ç”±é é¢">å¤šå€‹è·¯ç”±é é¢&lt;/h3>
&lt;p>åœ¨å¯¦å‹™ä¸Šï¼Œé€šå¸¸ä¸€å€‹ç¶²ç«™æœƒæœ‰å¤šå€‹é é¢ï¼Œä¸¦åˆ†åˆ¥å°æ‡‰åˆ°ä¸åŒçš„è·¯ç”±ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘å˜—è©¦å»ºç«‹ About èˆ‡ Contact å…©å€‹é é¢ã€‚&lt;/p>
&lt;h4 id="å»ºç«‹å¤šå€‹è·¯ç”±é é¢">å»ºç«‹å¤šå€‹è·¯ç”±é é¢&lt;/h4>
&lt;p>å»ºç«‹ &lt;strong>./pages/about.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesaboutvue">pages/about.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-yellow-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å¤§å®¶å¥½&lt;/span>&lt;span class="err">ï¼&lt;/span>&lt;span class="nx">æˆ‘æ˜¯&lt;/span> &lt;span class="nx">Ryan&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nx">about&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;strong>./pages/contact.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescontactvue">pages/contact.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-rose-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å¦‚æœæ²’äº‹ä¸è¦æ‰¾æˆ‘&lt;/span> &lt;span class="nx">xDDD&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nx">contact&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘åœ¨ç€è¦½å™¨åˆ†åˆ¥ç€è¦½ &lt;strong>/about&lt;/strong> æˆ– &lt;strong>/contact&lt;/strong>ï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘å€‘è·¯ç”±æ•ˆæœå›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186538_a097e76893_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188307_6a7217ce85_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å¯ä»¥ç™¼ç¾æ‰€å»ºç«‹çš„&lt;code>æª”æ¡ˆåç¨±&lt;/code>ï¼Œæœ€çµ‚å°±æœƒ&lt;code>è‡ªå‹•å°æ‡‰ç”¢ç”Ÿ&lt;/code>å‡º &lt;strong>/about&lt;/strong> åŠ &lt;strong>/contact&lt;/strong> è·¯ç”±ã€‚&lt;/p>
&lt;h4 id="è‡ªå‹•ç”¢ç”Ÿçš„è·¯ç”±">è‡ªå‹•ç”¢ç”Ÿçš„è·¯ç”±&lt;/h4>
&lt;p>å¦‚æœä½ æœ‰èˆˆè¶£æƒ³çœ‹çœ‹ Nuxt è‡ªå‹•ç”¢ç”Ÿå‡ºä¾†çš„è·¯ç”±é…ç½®é•·ä»€éº¼æ¨£å­ï¼Œå¯ä»¥ä½¿ç”¨ &lt;code>npm run build&lt;/code> æˆ– &lt;code>npx nuxt build&lt;/code> ä¾†å»ºæ§‹å‡º &lt;code>.output&lt;/code> ç›®éŒ„ï¼Œä¸¦æ‰“é–‹ &lt;strong>.output/server/chunks/app/server.mjs&lt;/strong>ï¼Œæœå°‹ &lt;code>const _routes =&lt;/code> æˆ–å‰›å‰›å»ºç«‹çš„æª”æ¡ˆåç¨± &lt;code>about.vue&lt;/code>ï¼Œå°±å¯ä»¥æ‰¾åˆ°ä¸‹é¢é€™ä¸€æ®µç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964449_0da965dc38_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é€™æ®µç¨‹å¼ç¢¼èˆ‡ Vue ä¸­çš„è·¯ç”±é…ç½®éå¸¸ç›¸åƒï¼Œå…¶å¯¦é€™å°±æ˜¯ Nuxt 3 æª¢æ¸¬åˆ° &lt;strong>pages&lt;/strong> ç›®éŒ„ï¼Œè‡ªå‹•å¹«æˆ‘å€‘è¼‰å…¥ Vue Router èˆ‡ä¾æ“š &lt;strong>pages&lt;/strong> ç›®éŒ„ä¸‹çš„æª”æ¡ˆçµæ§‹ï¼Œè‡ªå‹•ç”¢ç”Ÿå‡ºæ‰€éœ€çš„è·¯ç”±é…ç½®ã€‚&lt;/p>
&lt;h3 id="å»ºç«‹è·¯ç”±é€£çµ">å»ºç«‹è·¯ç”±é€£çµ&lt;/h3>
&lt;p>åœ¨ Vue Router æˆ‘å€‘å¯ä»¥ä½¿ç”¨ &lt;code>&amp;lt;router-link&amp;gt;&lt;/code> ä¾†å»ºç«‹è·¯ç”±é€£çµï¼Œä»¥æ­¤ä¾†å°èˆªè‡³å…¶ä»–é é¢ï¼Œè€Œåœ¨ Nuxt 3 çš„è·¯ç”±ä¸­ï¼Œå‰‡æ˜¯ä½¿ç”¨ &lt;code>&amp;lt;NuxtLink&amp;gt;&lt;/code> ä¾†å»ºç«‹è·¯ç”±é€£çµä¾†é€²è¡Œé é¢çš„è·³è½‰ï¼Œæˆ‘å€‘å˜—è©¦åœ¨é¦–é æ–°å¢å¹¾å€‹è·¯ç”±é€£çµä¾†é€²è¡Œé é¢å°èˆªã€‚&lt;/p>
&lt;p>èª¿æ•´ &lt;strong>./pages/index.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesindexvue-1">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-4 flex space-x-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/about&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">About&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/contact&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">Contact&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘åœ¨ç€è¦½å™¨ç€è¦½é¦–é ï¼Œé»æ“Šã€Œå‰å¾€ Aboutã€æˆ–ã€Œå‰å¾€ Contactã€å°±å¯ä»¥çœ‹è¦‹è·¯ç”±å°èˆªæ•ˆæœå›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617134125_7f1f7071b0_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ä½¿ç”¨ &lt;code>&amp;lt;NuxtLink&amp;gt;&lt;/code> æ™‚ï¼Œå¯ä»¥å°±æŠŠå®ƒæƒ³åƒç‚º &lt;code>&amp;lt;router-link&amp;gt;&lt;/code> çš„æ›¿ä»£å“ï¼Œåƒ &lt;code>to&lt;/code> é€™å€‹ Pros æ§åˆ¶è·¯ç”±ä½ç½®çš„ç”¨æ³•åŸºæœ¬ä¸Šä¸€æ¨£ï¼Œå…¶ä»–æ›´å¤šçš„ Pros ç”¨æ³•åŠèªªæ˜å¯ä»¥åƒè€ƒå®˜ç¶²çš„&lt;a class="link" href="https://nuxt.com/docs/api/components/nuxt-link#props" target="_blank" rel="noopener"
>æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;p>å¦‚æœæƒ³è¦ä½¿ç”¨åƒ Vue Router æä¾›çš„ &lt;code>router.push&lt;/code> æ–¹æ³•æ–¼ Vue ä¸­ç›´æ¥å‘¼å«ä¾†å°èˆªè‡³å…¶ä»–é é¢ï¼Œåœ¨ Nuxt ä¸­ä½ å¯ä»¥ä½¿ç”¨ &lt;code>navigateTo&lt;/code>ï¼Œåƒæ•¸å¯ä»¥åƒè€ƒ&lt;a class="link" href="https://nuxt.com/docs/api/utils/navigate-to#navigateto" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;h3 id="ç´„å®šå¼è·¯ç”±ä¸­çš„-indexvue">ç´„å®šå¼è·¯ç”±ä¸­çš„ index.vue&lt;/h3>
&lt;p>åœ¨é–‹é ­æœ‰æåˆ°ï¼ŒNuxt 3 æä¾›äº†ä¸€å€‹åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±ï¼Œå¾ä¸Šè¿°ä¾‹å­ä½ æˆ–è¨±èƒ½ç™¼ç¾ï¼ŒåŸºæœ¬ä¸Šæª”æ¡ˆåç¨±å°±æ˜¯å°æ‡‰è‘—è·¯ç”±åç¨±ï¼Œä½† &lt;strong>index.vue&lt;/strong> æ¯”è¼ƒç‰¹åˆ¥ï¼Œå®ƒæ‰€å°æ‡‰çš„æ˜¯è·¯ç”± &lt;code>/&lt;/code>ã€‚&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>index.[ext]&lt;/strong> é€™å€‹æ•ˆæœå’Œç‰¹æ€§ï¼Œå…¶å¯¦æ˜¯èˆ‡ Node.js åº•å±¤æ ¸å¿ƒæœ‰é—œï¼Œåœ¨æ­¤å°±ä¸è´…è¿°ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å¯ä»¥åœ¨ &lt;strong>pages&lt;/strong> ä¸‹å»ºç«‹ä¸€å€‹ &lt;strong>docs.vue&lt;/strong> è¡¨ç¤ºå°æ‡‰è·¯ç”± &lt;strong>/docs&lt;/strong>ï¼Œä¹Ÿå¯ä»¥å°‡æª”æ¡ˆæ”¾ç½®åœ¨ &lt;strong>docs&lt;/strong> ç›®éŒ„ä¸‹ä¸¦é‡æ–°å‘½åç‚º &lt;strong>index.vue&lt;/strong> å³ &lt;strong>./pages/docs/index.vue&lt;/strong>ï¼Œé€™æ¨£ä¹Ÿå¯ä»¥é€é &lt;strong>/docs&lt;/strong> ç€è¦½åˆ°ç›¸åŒçš„é é¢ã€‚&lt;/p>
&lt;p>æ‰€ä»¥ç•¶ &lt;strong>index.vue&lt;/strong> å­˜åœ¨æ–¼ &lt;strong>pages&lt;/strong> ç›®éŒ„ä¸‹ï¼Œå·²ç¶“ä½æ–¼ç¶²ç«™é é¢çš„ç¬¬ä¸€å±¤ï¼Œæ‰€ä»¥æˆ‘å€‘ç€è¦½ &lt;a class="link" href="http://localhost:3000/" target="_blank" rel="noopener"
>http://localhost:3000/&lt;/a> å°±å¯ä»¥åšå‡ºé¦–é çš„æ•ˆæœã€‚&lt;/p>
&lt;h3 id="å¸¶åƒæ•¸çš„å‹•æ…‹è·¯ç”±åŒ¹é…">å¸¶åƒæ•¸çš„å‹•æ…‹è·¯ç”±åŒ¹é…&lt;/h3>
&lt;p>åœ¨å¯¦å‹™ä¸Šï¼Œæˆ‘å€‘å¯èƒ½éœ€è¦å°‡è·¯å¾‘ä½œç‚ºåƒæ•¸å‚³éçµ¦åŒä¸€å€‹å…ƒä»¶ï¼Œä¾‹å¦‚ï¼Œæˆ‘å€‘æœ‰ä¸€å€‹ &lt;strong>users&lt;/strong> é é¢å…ƒä»¶ï¼Œåœ¨ &lt;strong>/users/ryan&lt;/strong> æˆ– &lt;strong>/users/jennifer&lt;/strong> è·¯å¾‘ï¼Œéƒ½èƒ½åŒ¹é…åˆ°åŒä¸€å€‹ &lt;strong>users&lt;/strong> å…ƒä»¶ï¼Œä¸¦å°‡ &lt;strong>ryan&lt;/strong> æˆ– &lt;strong>jennifer&lt;/strong> ç•¶ä½œåƒæ•¸å‚³éçµ¦ &lt;strong>users&lt;/strong> é é¢å…ƒä»¶ä½¿ç”¨ï¼Œé‚£éº¼æˆ‘å€‘å°±éœ€è¦å‹•æ…‹è·¯ç”±ä¾†åšåˆ°é€™ä»¶äº‹ã€‚&lt;/p>
&lt;p>åœ¨ Vue 3 ä½¿ç”¨ Vue Router æˆ‘å€‘å¯èƒ½æœƒå¯«å‡ºå¦‚ä¸‹è·¯ç”±é…ç½®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">name:&lt;/span> &lt;span class="nt">&amp;#34;users&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">path:&lt;/span> &lt;span class="nt">&amp;#34;/users/:id&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">component:&lt;/span> &lt;span class="nt">&amp;#34;./pages/users.vue&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£æˆ‘å€‘å°±èƒ½é”åˆ°é€²å…¥ &lt;strong>/users/ryan&lt;/strong> è·¯ç”±å°‡ ryan ç•¶ä½œ &lt;strong>id&lt;/strong> åƒæ•¸å‚³å…¥ &lt;strong>users&lt;/strong> å…ƒä»¶ä¸­ï¼Œè·¯å¾‘åƒæ•¸ç”¨å†’è™Ÿ &lt;code>:&lt;/code> è¡¨ç¤ºï¼Œé€™å€‹è¢«åŒ¹é…çš„åƒæ•¸ (params)ï¼Œæœƒåœ¨å…ƒä»¶ä¸­å¯ä»¥ä½¿ç”¨ &lt;strong>useRoute()&lt;/strong> èˆ‡ &lt;strong>route.params.id&lt;/strong> å–å¾—ã€‚&lt;/p>
&lt;p>åœ¨ Nuxt 3 ä¸­ï¼Œæˆ‘å€‘è¦å¯¦ç¾é€™å€‹æ•ˆæœï¼Œéœ€è¦å°‡æª”æ¡ˆåç¨±æ·»åŠ ä¸­æ‹¬è™Ÿ &lt;code>[]&lt;/code>ï¼Œå…¶ä¸­æ”¾å…¥æ¬²è¨­å®šçš„åƒæ•¸åç¨±ï¼Œè­¬å¦‚ä¸‹é¢çš„ç›®éŒ„çµæ§‹èˆ‡æª”æ¡ˆåç¨±ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">./pages/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ users/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ &lt;span class="o">[&lt;/span>id&lt;span class="o">]&lt;/span>.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;code>./pages/users/[id].vue&lt;/code> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesusersidvue">pages/users/[id].vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯&lt;/span> &lt;span class="nx">Users&lt;/span> &lt;span class="nx">å‹•æ…‹è·¯ç”±é é¢&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">åŒ¹é…åˆ°çš„&lt;/span> &lt;span class="nx">Id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-5xl font-semibold text-blue-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">id&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">route&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRoute&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">id&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘åœ¨ &lt;strong>script&lt;/strong> å°±å¯ä»¥å¾ &lt;strong>route.params&lt;/strong> æ‹¿åˆ°æˆ‘å€‘æ‰€è¨­å®šçš„åƒæ•¸åç¨± &lt;strong>id&lt;/strong>ï¼Œä¸¦å°‡å…¶åœ¨ &lt;strong>template&lt;/strong> ä¸­æ¸²æŸ“å‡ºä¾†ã€‚ç€è¦½ &lt;a class="link" href="http://localhost:3000/users/ryan" target="_blank" rel="noopener"
>http://localhost:3000/users/ryan&lt;/a> ï¼Œçœ‹çœ‹æ•ˆæœï¼ŒNuxt 3 å°±èƒ½åŒ¹é…åˆ°ä½¿ç”¨è€…çš„ &lt;strong>id&lt;/strong> åƒæ•¸ &lt;strong>ryan&lt;/strong>ï¼Œä¸¦å‚³å…¥ &lt;strong>users&lt;/strong> é é¢å…ƒä»¶ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186583_c117eb473b_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ä½ ä¹Ÿå¯ä»¥åœ¨ &lt;strong>template&lt;/strong> ç›´æ¥ä½¿ç”¨ &lt;code>{{ $route.params.id }}&lt;/code> ä¾†æ¸²æŸ“å‡º &lt;strong>id&lt;/strong> åƒæ•¸ã€‚&lt;/p>
&lt;h3 id="åŒ¹é…æ‰€æœ‰å±¤ç´šçš„è·¯ç”±">åŒ¹é…æ‰€æœ‰å±¤ç´šçš„è·¯ç”±&lt;/h3>
&lt;p>å¦‚æœä½ éœ€è¦åŒ¹é…æŸå€‹é é¢ä¸‹çš„æ‰€æœ‰å±¤ç´šçš„è·¯ç”±ï¼Œä½ å¯ä»¥åœ¨åƒæ•¸å‰é¢åŠ ä¸Š &lt;code>...&lt;/code> ï¼Œä¾‹å¦‚ï¼Œ&lt;code>[...slug].vue&lt;/code>ï¼Œé€™å°‡åŒ¹é…è©²è·¯å¾‘ä¸‹çš„æ‰€æœ‰è·¯ç”±ã€‚&lt;/p>
&lt;p>å»ºç«‹ &lt;strong>./catch-all/[&amp;hellip;slug].vue&lt;/strong> æª”æ¡ˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">./pages/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ catch-all/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ &lt;span class="o">[&lt;/span>...slug&lt;span class="o">]&lt;/span>.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>./catch-all/[&amp;hellip;slug].vue&lt;/strong> æª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="catch-allslugvue">catch-all/[&amp;hellip;slug].vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-4xl text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯&lt;/span> &lt;span class="k">catch&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">all&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">...&lt;/span> &lt;span class="nx">ä¸‹çš„é é¢&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">åŒ¹é…åˆ°çš„&lt;/span> &lt;span class="nx">Params&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-4 text-5xl font-semibold text-violet-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">$route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">slug&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-xl text-gray-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">æ¯å€‹é™£åˆ—å…ƒç´ å°æ‡‰ä¸€å€‹å±¤ç´š&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å¯ä»¥è¼¸å…¥ &lt;strong>/catch-all/hello&lt;/strong> åŠ &lt;strong>/catch-all/hello/world&lt;/strong>ï¼Œè·¯ç”±çš„åƒæ•¸ &lt;strong>slug&lt;/strong> å°±æœƒæ˜¯ä¸€å€‹é™£åˆ—ï¼Œé™£åˆ—çš„æ¯å€‹å…ƒç´ å°æ‡‰æ¯ä¸€å€‹å±¤ç´šã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964479_ab69ffff26_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="å»ºç«‹-404-not-found-é é¢">å»ºç«‹ 404 Not Found é é¢&lt;/h3>
&lt;p>Nuxt 3 æä¾›ä¸€å€‹é…ç½®ä¾†è™•ç† &lt;strong>404 Not Found&lt;/strong> çš„é é¢ï¼Œç•¶æˆ‘å€‘å»ºç«‹ &lt;strong>./pages/[&amp;hellip;slug].vue&lt;/strong> é é¢ï¼Œ Nuxt 3 æ‰€æœ‰æœªåŒ¹é…çš„è·¯ç”±ï¼Œå°‡æœƒäº¤ç”±é€™å€‹é é¢å…ƒä»¶åšè™•ç†ï¼Œä¸¦åŒæ™‚ä½¿ç”¨ &lt;code>setResponseStatus(404)&lt;/code> å‡½æ•¸è¨­å®š &lt;strong>404 HTTP Status Code&lt;/strong>ã€‚&lt;/p>
&lt;h5 id="pagesslugvue">pages/[&amp;hellip;slug].vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-8xl font-semibold text-red-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">404&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Not&lt;/span> &lt;span class="nx">Found&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-xl text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">çœŸçš„æ˜¯æ‰¾ä¸åˆ°é€™å€‹é é¢å•¦&lt;/span> &lt;span class="o">&amp;gt;&lt;/span>&lt;span class="c1">///&amp;lt;&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">setResponseStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">404&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>/omg&lt;/strong> é€™å€‹æ˜¯ä¸å­˜åœ¨çš„é é¢ï¼ŒæœªåŒ¹é…çš„è·¯ç”±å°±æœƒäº¤ç”± &lt;strong>./pages/[&amp;hellip;slug].vue&lt;/strong> é é¢ä¾†è™•ç†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188362_24b6c38fab_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="å»ºç«‹å¤šå±¤çš„ç›®éŒ„çµæ§‹">å»ºç«‹å¤šå±¤çš„ç›®éŒ„çµæ§‹&lt;/h3>
&lt;p>å¦‚æœç†è§£äº†å‹•æ…‹è·¯ç”±çš„ä¸­æ‹¬è™Ÿ &lt;code>[]&lt;/code> ç”¨æ³•ï¼Œé‚£æˆ‘å€‘å°±å¯ä»¥å»ºç«‹æ›´è¤‡é›œçš„é é¢ç›®éŒ„çµæ§‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">./pages/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ posts/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ &lt;span class="o">[&lt;/span>postId&lt;span class="o">]&lt;/span>/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”œâ”€â”€ comments/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”‚ â””â”€â”€ &lt;span class="o">[&lt;/span>commentId&lt;span class="o">]&lt;/span>.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â””â”€â”€ index.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ index.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ top-&lt;span class="o">[&lt;/span>number&lt;span class="o">]&lt;/span>.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å››å€‹ Vue é é¢çš„åƒè€ƒç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagespostsindexvue">pages/posts/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-4xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯&lt;/span> &lt;span class="nx">Posts&lt;/span> &lt;span class="nx">é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-4 flex space-x-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/posts/8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">å‰å¾€æŒ‡å®šçš„æ–‡ç« &lt;/span> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/posts/8/comments/1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€æŒ‡å®šçš„æ–‡ç« ç•™è¨€&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/posts/top-3&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">Top&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/posts/top-10&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">Top&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="pagespoststop-numbervue">pages/posts/top-[number].vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯&lt;/span> &lt;span class="nx">posts&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">top&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="nx">çš„é é¢&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">åŒ¹é…åˆ°çš„&lt;/span> &lt;span class="nx">Top&lt;/span> &lt;span class="nb">Number&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-5xl font-semibold text-rose-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">number&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">route&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRoute&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">number&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="pagespostspostidindexvue">pages/posts/[postId]/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯&lt;/span> &lt;span class="nx">posts&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">postId&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="nx">çš„é é¢&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">åŒ¹é…åˆ°çš„&lt;/span> &lt;span class="nx">Post&lt;/span> &lt;span class="nx">Id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-5xl font-semibold text-blue-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">postId&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">route&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRoute&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">postId&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="pagespostspostidcommentscommentidvue">pages/posts/[postId]/comments/[commentId].vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯&lt;/span> &lt;span class="nx">posts&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">postId&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">comments&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">commentId&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="nx">çš„é é¢&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">åŒ¹é…åˆ°çš„&lt;/span> &lt;span class="nx">Post&lt;/span> &lt;span class="nx">Id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-5xl font-semibold text-blue-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">postId&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">åŒ¹é…åˆ°çš„&lt;/span> &lt;span class="nx">Comment&lt;/span> &lt;span class="nx">Id&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-5xl font-semibold text-purple-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">commentId&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">route&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRoute&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">postId&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">commentId&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¾†çœ‹çœ‹å¯¦éš›è·¯ç”±åŠåŒ¹é…æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186598_0c9c996bdc_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç‚ºäº†æ–¹ä¾¿ç†è§£ï¼Œæ•´ç†äº†ä»¥ä¸‹è¡¨æ ¼ï¼Œä¾†è¡¨ç¤ºé é¢çµæ§‹åŠæœŸæœ›åŒ¹é…çš„æ¨¡å¼èˆ‡åƒæ•¸ï¼š&lt;/p>
&lt;p>&lt;strong>./pages/posts/index.vue&lt;/strong>ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>åŒ¹é…æ¨¡å¼&lt;/th>
&lt;th>åŒ¹é…è·¯å¾‘&lt;/th>
&lt;th>åŒ¹é…åƒæ•¸ (Params)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>/posts&lt;/td>
&lt;td>/posts&lt;/td>
&lt;td>ç„¡&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>./pages/posts/top-[number].vue&lt;/strong>ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>åŒ¹é…æ¨¡å¼&lt;/th>
&lt;th>åŒ¹é…è·¯å¾‘&lt;/th>
&lt;th>åŒ¹é…åƒæ•¸ (Params)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>/posts/top-:number&lt;/td>
&lt;td>/posts/top-3&lt;/td>
&lt;td>{ number: 3 }&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>/posts/top-:number&lt;/td>
&lt;td>/posts/top-5&lt;/td>
&lt;td>{ number: 5 }&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>./pages/posts/[postId]/index.vue&lt;/strong>ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>åŒ¹é…æ¨¡å¼&lt;/th>
&lt;th>åŒ¹é…è·¯å¾‘&lt;/th>
&lt;th>åŒ¹é…åƒæ•¸ (Params)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>/posts/:postId&lt;/td>
&lt;td>/posts/8&lt;/td>
&lt;td>{ postId:8 }&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>./pages/posts/[postId]/comment/[commentId].vue&lt;/strong>ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>åŒ¹é…æ¨¡å¼&lt;/th>
&lt;th>åŒ¹é…è·¯å¾‘&lt;/th>
&lt;th>åŒ¹é…åƒæ•¸ (Params)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>/posts/:postId/comments/:commentId&lt;/td>
&lt;td>/posts/8/comments/1&lt;/td>
&lt;td>{ postId: 8, commentId: 1 }&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>åˆ°é€™è£¡æ‡‰è©²å°æ–¼å¦‚ä½•ä½¿ç”¨æª”æ¡ˆåç¨±èˆ‡ç›®éŒ„çµæ§‹ï¼Œä¾†è£½ä½œå‹•æ…‹è·¯ç”±èˆ‡åŒ¹é…åƒæ•¸æœ‰ä¸€äº›æ¦‚å¿µäº†ã€‚&lt;/p>
&lt;h3 id="å·¢ç‹€è·¯ç”±-nested-routes">å·¢ç‹€è·¯ç”± (Nested Routes)&lt;/h3>
&lt;p>å·¢ç‹€è·¯ç”± (Nested Routes) æˆ–ç¨±åµŒå¥—è·¯ç”±ï¼Œé¡§åæ€ç¾©ï¼Œç•¶æˆ‘å€‘æƒ³è¦åœ¨ä¸€å€‹é é¢é‘²åµŒå¦ä¸€å€‹é é¢æ™‚ï¼Œå°±éœ€è¦å·¢ç‹€è·¯ç”±ä¾†å¹«åŠ©æˆ‘å€‘ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘æƒ³è¦åœ¨ &lt;strong>docs&lt;/strong> é é¢å…ƒä»¶ä¸­é¡¯ç¤º &lt;strong>doc-1&lt;/strong> æˆ– &lt;strong>doc-2&lt;/strong> é é¢å…ƒä»¶ï¼Œä¸¦åœ¨åˆ‡æ› &lt;strong>doc-1&lt;/strong> æˆ– &lt;strong>doc-2&lt;/strong> é é¢æ™‚ï¼Œåªæ˜¯åœ¨ &lt;strong>docs&lt;/strong> ä¸‹çš„åµŒå¥—é é¢é€²è¡Œåˆ‡æ›ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">/docs/doc-1 /docs/doc-2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+------------------+ +-----------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> docs &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> docs &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +--------------+ &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> +-------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> doc-1 &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> +------------&amp;gt; &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> doc-2 &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +--------------+ &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> +-------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+------------------+ +-----------------+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ Vue 3 ä½¿ç”¨ Vue Router å¯¦ä½œä¸Šè¿°å·¢ç‹€è·¯ç”±æ™‚ï¼Œå³ &lt;strong>docs&lt;/strong> é é¢è¦èƒ½é¡¯ç¤º &lt;strong>doc-1&lt;/strong>ï¼Œæˆ‘å€‘åœ¨è·¯ç”±é…ç½®å¯èƒ½å°±æœƒå¯« &lt;code>path: '/docs'&lt;/code> èˆ‡ &lt;code>children&lt;/code>ï¼Œä¸¦åœ¨ &lt;code>children&lt;/code> åŠ å…¥ &lt;code>path: '/doc-1'&lt;/code>ï¼Œå…¶ä¸­ &lt;strong>docs&lt;/strong> é é¢åŒ…å« &lt;code>&amp;lt;router-view /&amp;gt;&lt;/code>ï¼Œæœ€çµ‚ç€è¦½è·¯ç”±è·¯å¾‘ &lt;code>/docs/doc-1&lt;/code> å°±å¯ä»¥çœ‹åˆ°åµŒå¥—é é¢çš„æ•ˆæœã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">path:&lt;/span> &lt;span class="nt">&amp;#34;/docs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">component:&lt;/span> &lt;span class="err">()&lt;/span> &lt;span class="err">=&amp;gt;&lt;/span> &lt;span class="err">import(&lt;/span>&lt;span class="nt">&amp;#34;./pages/docs.vue&amp;#34;&lt;/span>&lt;span class="err">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">children&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">path:&lt;/span> &lt;span class="nt">&amp;#34;doc-1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">component:&lt;/span> &lt;span class="err">()&lt;/span> &lt;span class="err">=&amp;gt;&lt;/span> &lt;span class="err">import(&lt;/span>&lt;span class="nt">&amp;#34;./pages/docs/doc-1.vue&amp;#34;&lt;/span>&lt;span class="err">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œåœ¨ Nuxt 3 é é¢çš„ç´„å®šå¼è·¯ç”±æ©Ÿåˆ¶ä¸‹ï¼Œæˆ‘å€‘å³æ˜¯é€éç›®éŒ„çµæ§‹èˆ‡é é¢å…ƒä»¶å¯¦åšå‡ºåµŒå¥—è·¯ç”±çš„æ•ˆæœã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œç•¶æˆ‘å€‘å»ºç«‹äº†ä¸‹é¢çš„ç›®éŒ„é é¢çµæ§‹ï¼š&lt;/p>
&lt;blockquote>
&lt;p>é€™è£¡éœ€è¦æ³¨æ„ï¼Œä¸€å®šè¦æœ‰ &lt;strong>docs.vue&lt;/strong> èˆ‡ &lt;strong>docs&lt;/strong> åŒåçš„ç›®éŒ„&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">./pages/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ docs/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”œâ”€â”€ doc-1.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ doc-2.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ docs.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é é¢å…ƒä»¶çš„åƒè€ƒç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesdocsvue">pages/docs.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-6 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-3xl font-semibold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯&lt;/span> &lt;span class="nx">Docs&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-4 flex space-x-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/docs/doc-1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">Doc&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/docs/doc-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">Doc&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-b-2 border-gray-100&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="pagesdoc-1vue">pages/doc-1.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯æˆ‘çš„ç¬¬ä¸€ä»½æ–‡ä»¶&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="pagesdoc-2vue">pages/doc-2.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-green-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯æˆ‘çš„ç¬¬äºŒä»½æ–‡ä»¶&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Nuxt 3 åœ¨è‡ªå‹•ç”Ÿæˆè·¯ç”±æ™‚ï¼Œå¯¦éš›ä¸Šå¹«æˆ‘å€‘åšå‡ºäº†é¡ä¼¼é€™æ¨£å­çš„è·¯ç”±çµæ§‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">name:&lt;/span> &lt;span class="nt">&amp;#34;docs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">path:&lt;/span> &lt;span class="nt">&amp;#34;/docs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">component:&lt;/span> &lt;span class="nt">&amp;#34;./pages/docs.vue&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">children:&lt;/span> &lt;span class="err">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">name:&lt;/span> &lt;span class="nt">&amp;#34;docs-first-doc&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">path:&lt;/span> &lt;span class="nt">&amp;#34;doc-1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">component:&lt;/span> &lt;span class="nt">&amp;#34;./pages/docs/doc-1.vue&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸€å®šè¦è¨˜å¾—åœ¨ &lt;strong>docs&lt;/strong> é é¢åŠ ä¸Š &lt;code>&amp;lt;NuxtPage /&amp;gt;&lt;/code>ï¼Œä¾†ä½œç‚ºé¡¯ç¤ºå·¢ç‹€é é¢çš„å®¹å™¨ï¼Œæ¥è‘—åˆ†åˆ¥ç€è¦½ &lt;code>/docs&lt;/code>ã€&lt;code>/docs/doc-1&lt;/code> èˆ‡ &lt;code>/docs/doc-2&lt;/code>ï¼Œå¯ä»¥ç™¼ç¾åœ¨å…©å€‹é é¢ä¸­ä¸Šæ–¹çš„çš†æœ‰é¡¯ç¤ºæ¨™é¡Œã€Œé€™è£¡æ˜¯ Docsã€ï¼Œè©²æ–‡å­—æ˜¯ç”± &lt;code>docs.vue&lt;/code> å…ƒä»¶æä¾›çš„æ¨™é¡Œæ–‡å­—ï¼Œè€Œé é¢ä¸‹æ–¹å‰‡æ˜¯ &lt;strong>doc-1&lt;/strong> èˆ‡ &lt;strong>doc-2&lt;/strong> å­é é¢é¡¯ç¤ºçš„åœ°æ–¹ï¼Œä»¥æ­¤å°±å¯ä»¥å¯¦ç¾å·¢ç‹€è·¯ç”±æ•ˆæœå›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964494_bc91598456_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é€éç›®éŒ„æª”æ¡ˆçš„çµæ§‹èˆ‡åç¨±åŠä¸­æ‹¬è™Ÿ &lt;code>[]&lt;/code> æˆ‘å€‘å°±å¯ä»¥å®Œæˆå¤šæ•¸è·¯ç”±çš„æƒ…å¢ƒï¼Œç¢ºå¯¦æ–¹ä¾¿å¾ˆå¤šï¼Œä¹Ÿè¶³ä»¥æ‡‰ä»˜å¤§éƒ¨åˆ†å¯¦å‹™ä¸Šçš„éœ€æ±‚ï¼Œå¦‚æœçœŸçš„éœ€è¦æ‰‹å‹•å»ºç«‹è·¯ç”±è¦å‰‡å¯ä»¥åœ¨åƒè€ƒ&lt;a class="link" href="https://nuxt.com/docs/api/configuration/nuxt-config/#router" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æª”&lt;/a>æˆ–ç­‰å¾…é‡‹å‡ºæ›´å¥½è§£æ±ºæ–¹æ¡ˆã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å¸ƒå±€æ¨¡æ¿-layouts">å¸ƒå±€æ¨¡æ¿ (Layouts)&lt;/h2>
&lt;p>Nuxt 3 æä¾›äº†ä¸€å€‹å¸ƒå±€æ¨¡æ¿ (Layouts) çš„åŠŸèƒ½ï¼Œå¯ä»¥è®“ä½ å®šç¾©å¥½å¸ƒå±€æ¨¡æ¿å¾Œï¼Œåœ¨æ•´å€‹ Nuxt ä¸­ä½¿ç”¨ï¼Œèˆ‰ä¾‹ä¾†èªªå°±å¾ˆé©åˆå¦‚ä¸Šæ–¹æœ‰å°è¦½åˆ—ï¼Œä¸‹æ–¹æ˜¯ç¶²é ä¸»é«”å…§å®¹çš„é€™ç¨®æ’ç‰ˆæ–¹å¼ï¼Œå°‡å…¶æ§‹å»ºæˆä¸€å€‹å¸ƒå±€æ¨¡æ¿å¾Œï¼Œæˆ‘å€‘å°±å¯ä»¥é‡è¤‡ä½¿ç”¨é€™ç¨®å¸ƒå±€æ–¹å¼ã€‚&lt;/p>
&lt;p>å¸ƒå±€æ¨¡æ¿é€šå¸¸æ”¾ç½®åœ¨ &lt;strong>./layouts&lt;/strong> ç›®éŒ„ä¹‹ä¸‹ï¼Œä¹Ÿå…·æœ‰ç•°æ­¥è‡ªå‹•å°å…¥çš„æ•ˆæœï¼Œç•¶æ–°å¢å¥½å¸ƒå±€æª”æ¡ˆå¾Œï¼Œæˆ‘å€‘å°±å¯ä»¥åœ¨ &lt;strong>app.vue&lt;/strong> ä¸­ï¼Œæ·»åŠ  &lt;code>&amp;lt;NuxtLayout /&amp;gt;&lt;/code> å…ƒä»¶ä¾†è¡¨ç¤ºä½¿ç”¨å¸ƒå±€æ¨¡æ¿ï¼Œä¹Ÿå¯ä»¥é€šé &lt;strong>name&lt;/strong> è¨­å®šä¸åŒçš„æ¨¡æ¿åç¨±ã€‚&lt;/p>
&lt;h3 id="å»ºç«‹ä¸€å€‹é è¨­çš„å¸ƒå±€æ¨¡æ¿">å»ºç«‹ä¸€å€‹é è¨­çš„å¸ƒå±€æ¨¡æ¿&lt;/h3>
&lt;p>å¸ƒå±€æ¨¡æ¿åœ¨ Nuxt 3 ä¸­æœ‰ç´„å®šä¸€å€‹åç¨±ç‚º &lt;code>default.vue&lt;/code> ä½œç‚ºé è¨­çš„æ¨¡æ¿ï¼Œå¦‚æœåœ¨é é¢å…ƒä»¶ä¸­æœªç‰¹åˆ¥æŒ‡å®šè¦ä½¿ç”¨å“ªå€‹æ¨¡æ¿æˆ– &lt;code>&amp;lt;NuxtLayout /&amp;gt;&lt;/code> æ²’æœ‰è¨­å®š &lt;strong>name&lt;/strong> å±¬æ€§ï¼Œé‚£éº¼éƒ½å°‡æœƒä½¿ç”¨ &lt;strong>default&lt;/strong> ä½œç‚ºé è¨­çš„å¸ƒå±€ã€‚&lt;/p>
&lt;h4 id="step-1-å»ºç«‹é è¨­å¸ƒå±€æ¨¡æ¿">Step 1. å»ºç«‹é è¨­å¸ƒå±€æ¨¡æ¿&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>./layouts/default.vue&lt;/strong> æª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="layoutsdefaultvue">layouts/default.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-sky-100 py-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 py-4 text-2xl text-gray-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯é è¨­çš„å¸ƒå±€&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">å…¨éƒ¨é é¢éƒ½æœƒä½¿ç”¨åˆ°&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨å¸ƒå±€æ¨¡æ¿ä¸­ï¼Œé€šå¸¸æœƒåŒ…å«ä¸€å€‹ &lt;code>&amp;lt;slot /&amp;gt;&lt;/code> æ’æ§½ï¼Œé€™å€‹æœªå‘½åçš„æ’æ§½ (slot) å³ç‚ºé è¨­æ’æ§½ï¼Œé€™å°‡æœƒæ˜¯æ¡ç”¨é€™å€‹å¸ƒå±€æ¨¡æ¿çš„é é¢å…ƒä»¶ï¼Œé¡¯ç¤ºçš„å…§å®¹å®¹å™¨ä½ç½®ã€‚&lt;/p>
&lt;h4 id="step-2-æ·»åŠ -å…ƒä»¶">Step 2. æ·»åŠ  å…ƒä»¶&lt;/h4>
&lt;p>èª¿æ•´ &lt;strong>app.vue&lt;/strong> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼Œæˆ‘å€‘æ·»åŠ  &lt;code>&amp;lt;NuxtLayout&amp;gt;&lt;/code> ä½œç‚ºå¸ƒå±€æ¨¡æ¿é¡¯ç¤ºçš„ä½ç½®ï¼Œ&lt;strong>name&lt;/strong> å±¬æ€§é è¨­æ˜¯ &lt;strong>default&lt;/strong>ï¼Œä¸éæˆ‘å€‘é‚„æ˜¯å¯«ä¸Š &lt;code>name=&amp;quot;default&amp;quot;&lt;/code> é¿å…èª¤æœƒï¼Œé€™å€‹ &lt;strong>name&lt;/strong> å±¬æ€§å€¼å°æ‡‰çš„å³æ˜¯å¸ƒå±€æ¨¡æ¿çš„åç¨±ã€‚&lt;/p>
&lt;p>ä¸‹åœ–å¯ä»¥çœ‹è¦‹ï¼Œæˆ‘å€‘åœ¨ &lt;strong>app.vue&lt;/strong> æ‰€å¯«çš„æ–‡å­—ã€Œé€™è£¡æ˜¯æœ€å¤–å±¤ app.vueã€ï¼Œæœƒæ˜¯åœ¨æœ€å¤–å±¤ï¼Œè€Œç·Šæ¥è‘—çš„ &lt;code>&amp;lt;NuxtLayout name=&amp;quot;default&amp;quot;&amp;gt;&amp;lt;/NuxtLayout&amp;gt;&lt;/code>ï¼Œå°±æ˜¯å¸ƒå±€é é¢ &lt;code>default.vue&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617134195_02b2a3944c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="å¸ƒå±€æ¨¡æ¿ä¸­çš„æ’æ§½">å¸ƒå±€æ¨¡æ¿ä¸­çš„æ’æ§½&lt;/h3>
&lt;p>å¦‚æœä½ æœ‰æ³¨æ„åˆ°ï¼Œ&lt;strong>default.vue&lt;/strong> æª”æ¡ˆå…§ç¨‹å¼ç¢¼å…§ï¼Œæœ‰ä¸€å€‹æ’æ§½ &lt;code>&amp;lt;slot /&amp;gt;&lt;/code>ï¼Œé€™è£¡å°±æœƒæ˜¯ &lt;code>&amp;lt;NuxtLayout&amp;gt;&lt;/code> å…§çš„å…ƒç´ æ‰€é¡¯ç¤ºçš„ä½ç½®ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘åœ¨ &lt;strong>app.vue&lt;/strong> ç¨ä½œèª¿æ•´ï¼š&lt;/p>
&lt;h5 id="appvue-2">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;m-4 bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;pb-4 text-2xl text-slate-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯æœ€å¤–å±¤&lt;/span> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vue&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;default&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 pt-4 text-xl text-slate-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">è¢«&lt;/span> &lt;span class="nx">NuxtLayout&lt;/span> &lt;span class="nx">åŒ…è£¹çš„å…ƒä»¶å°‡æœƒæ”¾ç½®åˆ°&lt;/span> &lt;span class="nx">Layout&lt;/span> &lt;span class="nx">çš„&lt;/span> &lt;span class="nx">slot&lt;/span> &lt;span class="nx">ä¸­&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¢« &lt;code>&amp;lt;NuxtLayout name=&amp;quot;default&amp;quot;&amp;gt;&lt;/code> åŒ…è£¹çš„å…ƒç´ ï¼Œå°±æœƒåœ¨å¸ƒå±€æ¨¡æ¿ä¸­çš„æ’æ§½ &lt;code>&amp;lt;slot /&amp;gt;&lt;/code> é¡¯ç¤ºã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188382_5a181ede48_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="åœ¨å¸ƒå±€æ¨¡æ¿ä¸­å»ºç«‹å¤šå€‹æ’æ§½">åœ¨å¸ƒå±€æ¨¡æ¿ä¸­å»ºç«‹å¤šå€‹æ’æ§½&lt;/h3>
&lt;p>ç•¶ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å¸ƒå±€æ¨¡æ¿ä¸­æ·»åŠ å¤šå€‹æ’æ§½ï¼Œä¸¦çµ¦äºˆåç¨±ï¼Œé€™æ¨£å°±å¯ä»¥å°‡å…§å®¹å®‰æ’åˆ°ç‰¹å®šçš„ä½ç½®ã€‚&lt;/p>
&lt;h4 id="step-1-å»ºç«‹å…©å€‹å…·åçš„æ’æ§½-slotåˆ†åˆ¥ç‚º-header-èˆ‡-footer">Step 1. å»ºç«‹å…©å€‹å…·åçš„æ’æ§½ (Slot)ï¼Œåˆ†åˆ¥ç‚º &lt;strong>header&lt;/strong> èˆ‡ &lt;strong>footer&lt;/strong>&lt;/h4>
&lt;blockquote>
&lt;p>å¦‚æœæ’æ§½æ²’æœ‰çµ¦äºˆ &lt;strong>name&lt;/strong> å±¬æ€§ï¼Œé è¨­ç‚º &lt;code>default&lt;/code>ã€‚&lt;/p>
&lt;/blockquote>
&lt;h5 id="layoutsdefaultvue-1">layouts/default.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-sky-100 py-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 py-4 text-2xl text-gray-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯é è¨­çš„å¸ƒå±€&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">å…¨éƒ¨é é¢éƒ½æœƒä½¿ç”¨åˆ°&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;header&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;footer&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-å°‡ä¸åŒå…§å®¹é¡¯ç¤ºæ–¼æŒ‡å®šçš„æ’æ§½ä½ç½®">Step 2. å°‡ä¸åŒå…§å®¹ï¼Œé¡¯ç¤ºæ–¼æŒ‡å®šçš„æ’æ§½ä½ç½®ã€‚&lt;/h4>
&lt;h5 id="appvue-3">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;m-4 bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;pb-4 text-2xl text-slate-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯æœ€å¤–å±¤&lt;/span> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vue&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;default&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="err">#&lt;/span>&lt;span class="na">header&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 pt-4 text-xl text-green-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ®µæœƒæ”¾ç½®åœ¨&lt;/span> &lt;span class="nx">header&lt;/span> &lt;span class="nx">æ’æ§½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="err">#&lt;/span>&lt;span class="na">default&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 pt-4 text-xl text-cyan-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">è¢«&lt;/span> &lt;span class="nx">NuxtLayout&lt;/span> &lt;span class="nx">åŒ…è£¹çš„å…ƒä»¶å°‡æœƒæ”¾ç½®åˆ°&lt;/span> &lt;span class="nx">Layout&lt;/span> &lt;span class="nx">çš„é è¨­&lt;/span> &lt;span class="nx">slot&lt;/span> &lt;span class="nx">ä¸­&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="err">#&lt;/span>&lt;span class="na">footer&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 pt-4 text-xl text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ®µæœƒæ”¾ç½®åœ¨&lt;/span> &lt;span class="nx">footer&lt;/span> &lt;span class="nx">æ’æ§½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸‹åœ–å¯ä»¥çœ‹è¦‹ï¼Œæˆ‘å€‘å°±å¯ä»¥ä¾æ­¤ä¾†å®‰æ’å„å€‹å…ƒä»¶ï¼Œæ–¼å¸ƒå±€æ¨¡æ¿æ’æ§½çš„æ‰€åœ¨ä½ç½®ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186618_5d72657e32_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="å¸ƒå±€æ¨¡æ¿èˆ‡è·¯ç”±é é¢">å¸ƒå±€æ¨¡æ¿èˆ‡è·¯ç”±é é¢&lt;/h3>
&lt;p>ç•¶ä½ ç†Ÿæ‚‰äº†æ’æ§½é…ç½®ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å…¶ä¸­æ·»åŠ  &lt;code>&amp;lt;NuxtPage /&amp;gt;&lt;/code> èˆ‡å»ºç«‹ &lt;strong>pages&lt;/strong> ä¸‹çš„é é¢å…ƒä»¶ï¼Œä»¥é”åˆ°ä¸åŒçš„è·¯ç”±é é¢ï¼Œä½¿ç”¨ç›¸åŒçš„å¸ƒå±€æ–¹å¼ã€‚&lt;/p>
&lt;p>å¦‚æœå¸ƒå±€æ¨¡æ¿çµåˆäº†è·¯ç”±é é¢ï¼Œæ•´é«”ç¶²ç«™å°±æœƒå¦‚ä¸‹çš„å·¢ç‹€é¡¯ç¤ºæ–¹å¼ï¼Œç¶²ç«™çš„å…¥å£é» &lt;strong>app.vue&lt;/strong> æ”¾ç½®å¸ƒå±€æ¨¡æ¿ï¼Œæ¨¡æ¿å…§çš„å…§å®¹å‰‡ä½¿ç”¨è·¯ç”±çš„ &lt;code>&amp;lt;NuxtPage /&amp;gt;&lt;/code>ï¼Œæœ€å¾Œå„å€‹è·¯ç”±çš„é é¢å°±æœƒåœ¨ &lt;code>&amp;lt;NuxtPage /&amp;gt;&lt;/code> å®¹å™¨ä¸­é¡¯ç¤ºã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">+---------------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> app.vue &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +-----------------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> layout &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> +-------------------+ &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> page &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> +-------------------+ &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +-----------------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+---------------------------+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å»ºç«‹å¸ƒå±€æ¨¡æ¿èˆ‡è·¯ç”±é é¢">å»ºç«‹å¸ƒå±€æ¨¡æ¿èˆ‡è·¯ç”±é é¢&lt;/h3>
&lt;h4 id="step-1-èª¿æ•´-appvue-å…¥å£é»">Step 1. èª¿æ•´ app.vue å…¥å£é»&lt;/h4>
&lt;p>å°‡ &lt;strong>app.vue&lt;/strong> èª¿æ•´ç‚ºä»¥ä¸‹å…§å®¹ï¼š&lt;/p>
&lt;h5 id="appvue-4">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;m-4 bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;pb-4 text-2xl text-slate-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯æœ€å¤–å±¤&lt;/span> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vue&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-å»ºç«‹è·¯ç”±é é¢">Step 2. å»ºç«‹è·¯ç”±é é¢&lt;/h4>
&lt;p>å»ºç«‹ &lt;strong>./pages/index.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesindexvue-2">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;m-6 bg-slate-50 py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£æˆ‘å€‘å°±å¯ä»¥ä¾†è®“è·¯ç”±é é¢å…±ç”¨ç›¸åŒçš„å¸ƒå±€æ¨¡æ¿ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186638_b40c944d07_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="å¤šå€‹è·¯ç”±é é¢å…±ç”¨é è¨­å¸ƒå±€æ¨¡æ¿">å¤šå€‹è·¯ç”±é é¢å…±ç”¨é è¨­å¸ƒå±€æ¨¡æ¿&lt;/h3>
&lt;p>æ‰¿ä¸Šï¼Œæˆ‘å€‘å»ºç«‹å¥½é è¨­çš„å¸ƒå±€æ¨¡æ¿ï¼Œè®“å®ƒè² è²¬é¡¯ç¤ºè·¯ç”±çš„é é¢ã€‚&lt;/p>
&lt;h4 id="step-1-æ–°å¢è·¯ç”±é é¢">Step 1. æ–°å¢è·¯ç”±é é¢&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>./pages/about.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesaboutvue-1">pages/about.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-6 mb-4 bg-slate-50 py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-yellow-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å¤§å®¶å¥½&lt;/span>&lt;span class="err">ï¼&lt;/span>&lt;span class="nx">æˆ‘æ˜¯&lt;/span> &lt;span class="nx">Ryan&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nx">about&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ &lt;strong>./pages/contact.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescontactvue-1">pages/contact.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-6 mb-4 bg-slate-50 py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-rose-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å¦‚æœæ²’äº‹ä¸è¦æ‰¾æˆ‘&lt;/span> &lt;span class="nx">xDDD&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nx">contact&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-æ–°å¢è·¯ç”±é€£çµ">Step 2. æ–°å¢è·¯ç”±é€£çµ&lt;/h4>
&lt;p>èª¿æ•´ &lt;strong>./pages/index.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesindexvue-3">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-6 mb-4 bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-4 flex space-x-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/about&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">About&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/contact&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">Contact&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥ç™¼ç¾ï¼Œç¾åœ¨é¦–é  &lt;code>/&lt;/code>ã€&lt;code>/about&lt;/code> èˆ‡ &lt;code>/contact&lt;/code> éƒ½å¥—ç”¨ä¸Šäº†é è¨­å¸ƒå±€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964569_b4e67e211a_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="å»ºç«‹å¤šå€‹å¸ƒå±€æ¨¡æ¿">å»ºç«‹å¤šå€‹å¸ƒå±€æ¨¡æ¿&lt;/h3>
&lt;p>ä½ ä¹Ÿå¯ä»¥å»ºç«‹å¤šå€‹å¸ƒå±€æ¨¡æ¿ï¼Œå†ä¾æ“šä¸åŒçš„æƒ…å¢ƒï¼Œä½¿ç”¨ä¸åŒçš„å¸ƒå±€æ¨¡æ¿ã€‚&lt;/p>
&lt;h4 id="step-1-å»ºç«‹æ–°çš„å¸ƒå±€æ¨¡æ¿">Step 1. å»ºç«‹æ–°çš„å¸ƒå±€æ¨¡æ¿&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>./layouts/custom.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="layoutscustomvue">layouts/custom.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-rose-100 py-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 py-4 text-2xl text-gray-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ä½¿ç”¨&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-bold text-rose-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Custom&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">å¸ƒå±€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-æ–°å¢ä¸€å€‹è·¯ç”±é é¢">Step 2. æ–°å¢ä¸€å€‹è·¯ç”±é é¢&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>./pages/custom.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescustomvue">pages/custom.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;m-6 bg-slate-50 py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-ä½¿ç”¨æŒ‡å®šå¸ƒå±€æ¨¡æ¿">Step 3. ä½¿ç”¨æŒ‡å®šå¸ƒå±€æ¨¡æ¿&lt;/h4>
&lt;p>åœ¨ &lt;strong>./pages/custom.vue&lt;/strong> ä¸­çš„ &lt;strong>script&lt;/strong> ä½¿ç”¨ &lt;code>definePageMeta&lt;/code> æ–¹æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layout&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;custom&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>definePageMeta&lt;/code> æ–¹æ³•ï¼Œæä¾›æˆ‘å€‘å¯ä»¥è¨­å®šç‰¹å®šçš„å¸ƒå±€æ¨¡æ¿ï¼Œ&lt;code>layout&lt;/code> åƒæ•¸å€¼æ‰€å°æ‡‰çš„åç¨±ï¼Œå³ç‚º &lt;strong>./layouts&lt;/strong> ç›®éŒ„ä¸‹çš„å¸ƒå±€æ¨¡æ¿ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æ³¨æ„ï¼Œå¸ƒå±€æ¨¡æ¿çš„å‘½åè¢«è¦ç¯„ä½¿ç”¨ &lt;strong>Kebab Case&lt;/strong> å‘½åæ³•ï¼Œè‹¥æª”æ¡ˆåç¨±ç‚º &lt;strong>customLayout.vue&lt;/strong>ï¼Œå®ƒå°‡æœƒä»¥ &lt;code>custom-layout&lt;/code> ä½œç‚º &lt;strong>name&lt;/strong> å±¬æ€§å‚³éçµ¦&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188442_127e72da50_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="æ›´é€²éšçš„æŒ‡å®šå¸ƒå±€æ¨¡æ¿">æ›´é€²éšçš„æŒ‡å®šå¸ƒå±€æ¨¡æ¿&lt;/h3>
&lt;p>æˆ‘å€‘èƒ½ä½¿ç”¨ &lt;strong>layout: false&lt;/strong> ä¾†ç¦æ­¢ä½¿ç”¨é è¨­çš„å¸ƒå±€æ¨¡æ¿ï¼Œä¸¦åœ¨ &lt;strong>template&lt;/strong> æ·»åŠ  &lt;code>&amp;lt;NuxtLayout name=&amp;quot;custom&amp;quot;&amp;gt;&lt;/code> ä¾†ä½¿ç”¨ &lt;strong>custom&lt;/strong> å¸ƒå±€æ¨¡æ¿ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;custom&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-6 mb-4 bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layout&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶å¸ƒå±€æ¨¡æ¿å¯ä»¥åœ¨ &lt;strong>template&lt;/strong> ä¸­è¨­å®šä½¿ç”¨ï¼Œæˆ‘å€‘å°±èƒ½çµåˆæ’æ§½ç”šè‡³å‹•æ…‹çš„èª¿æ•´ &lt;strong>name&lt;/strong> å±¬æ€§ï¼Œåšå‡ºæ›´å¤šæ¨£éˆæ´»çš„å¸ƒå±€æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964574_0e7759f29b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ä¸Šåœ–çš„åƒè€ƒç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;h5 id="layoutscustomvue-1">layouts/custom.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-rose-100 py-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 py-4 text-2xl text-gray-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ä½¿ç”¨&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-bold text-rose-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Custom&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">å¸ƒå±€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;footer&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="pagescustomvue-1">pages/custom.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;custom&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="err">#&lt;/span>&lt;span class="na">default&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-6 mb-4 bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="err">#&lt;/span>&lt;span class="na">footer&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-xl text-slate-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">æ„Ÿè¬æ‚¨é–±è®€&lt;/span> &lt;span class="nx">Nuxe&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="nx">å­¸ç¿’ç­†è¨˜&lt;/span>&lt;span class="err">ï½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layout&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ä½ ä½¿ç”¨ &lt;strong>definePageMeta&lt;/strong> æ–¹æ³•ï¼Œç¦æ­¢ä½¿ç”¨é è¨­çš„å¸ƒå±€æ¨¡æ¿å¾Œï¼Œä½ ä¹Ÿèƒ½ä½¿ç”¨ &lt;code>setPageLayout&lt;/code> æ–¹æ³•ä¾†å‹•æ…‹æ”¹è®Šå¸ƒå±€ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">enableCustomLayout&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setPageLayout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;custom&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ä½ çœ‹éäº†é€™ç¯‡å…§å®¹å¾Œï¼Œä½ æœƒç™¼ç¾ Nuxt 3 æ‰€æä¾›çš„å¸ƒå±€æ¨¡æ¿éå¸¸çš„å¥½ç”¨ï¼Œå¸ƒå±€æ¨¡æ¿è¦åŠƒå¥½å¾Œï¼Œçˆ¾å¾Œé é¢æ‰€ä½¿ç”¨åˆ°çš„ç›¸åŒå¸ƒå±€ï¼Œåªéœ€è¦æ›´æ”¹åŒä¸€å€‹å¸ƒå±€æ¨¡æ¿ï¼Œå¦‚æœå†çµåˆå…ƒä»¶åŒ–æŠ€å·§ï¼Œæ›´æ˜¯è®“ä½ çš„ç¨‹å¼ç¢¼å…¼å…·é‡è¤‡ä½¿ç”¨æ€§èˆ‡ç¶­è­·æ€§ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å…ƒä»¶-components">å…ƒä»¶ (Components)&lt;/h2>
&lt;p>åœ¨å»ºç«‹ Vue çš„ç¶²ç«™é–‹ç™¼éç¨‹ä¸­ï¼Œæˆ‘å€‘å¯èƒ½æœƒè‡ªå·±å°è£å…ƒä»¶ (Component) è®“ç¨‹å¼ç¢¼å¯ä»¥è¢«é‡è¤‡ä½¿ç”¨ï¼Œä¹Ÿæ–¹ä¾¿é–‹ç™¼è€…ç¶­è­·ï¼Œé€™äº›ä¸€å€‹å€‹çš„å…ƒä»¶ï¼Œå¯ä»¥é€é&lt;code>å…¨åŸŸè¨»å†Š (Global Registration)&lt;/code> è®“æ•´å€‹ Vue æ‡‰ç”¨ç¨‹å¼ä¸­éƒ½å¯ä»¥ä½¿ç”¨é€™å€‹å…ƒä»¶ï¼Œä¹Ÿå¯ä»¥é€é&lt;code>å€åŸŸè¨»å†Š (Local Registration)&lt;/code> æ–¼ç‰¹å®šçš„å…ƒä»¶å†è¼‰å…¥ä½¿ç”¨ã€‚æ¥ä¸‹ä¾†æˆ‘å€‘å°‡ä»‹ç´¹ Nuxt 3 ä½¿ç”¨å…ƒä»¶æ™‚æ‡‰è©²éµå¾ªçš„è¦ç¯„åŠç‰¹è‰²ã€‚&lt;/p>
&lt;h3 id="å…ƒä»¶è‡ªå‹•è¼‰å…¥">å…ƒä»¶è‡ªå‹•è¼‰å…¥&lt;/h3>
&lt;p>åœ¨ Vue ä¸­ï¼Œé›–ç„¶å€åŸŸè¨»å†Šä½¿å¾—å…ƒä»¶é–“çš„ä¾è³´é—œä¿‚æ›´åŠ æ˜ç¢ºä¹Ÿå°æ–¼ &lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Tree_shaking" target="_blank" rel="noopener"
>Tree shaking&lt;/a> æ›´åŠ å‹å¥½ï¼Œä½†æˆ‘å€‘åœ¨ä½¿ç”¨å…ƒä»¶æ™‚ï¼Œå°±å¾—åœ¨éœ€è¦çš„åœ°æ–¹å€‹åˆ¥è¼‰å…¥åŠè¨»å†Šã€‚è€Œ Nuxt 3 æä¾›åœ¨ &lt;strong>components&lt;/strong> ç›®éŒ„ä¸‹å°ˆé–€æ”¾è‡³é€™äº›å…ƒä»¶ï¼Œä¸¦å…·æœ‰è‡ªå‹•è¼‰å…¥åŠå»¶é²è¼‰å…¥ç­‰åŠŸèƒ½ç‰¹è‰²ã€‚&lt;/p>
&lt;h4 id="å»ºç«‹èˆ‡ä½¿ç”¨å…ƒä»¶">å»ºç«‹èˆ‡ä½¿ç”¨å…ƒä»¶&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>./components/IronManWelcome.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="componentsironmanwelcomevue-1">components/IronManWelcome.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èª¿æ•´ &lt;strong>./app.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="appvue-5">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">IronManWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘å»ºç«‹äº† &lt;strong>./components/IronManWelcome.vue&lt;/strong> æª”æ¡ˆå¾Œï¼ŒNuxt æœƒè‡ªå‹•è¼‰å…¥ &lt;strong>./components&lt;/strong> ç›®éŒ„ä¸­çš„&lt;code>ä»»ä½•å…ƒä»¶&lt;/code>ï¼Œåœ¨ä½¿ç”¨æ™‚çš„å…ƒä»¶åç¨±ä¹Ÿå°æ‡‰è‘—æª”æ¡ˆåç¨±ï¼Œæ‰€ä»¥æˆ‘å€‘åªéœ€ç›´æ¥æ·»åŠ  &lt;code>&amp;lt;IronManWelcome /&amp;gt;&lt;/code> å°±å¯ä»¥ç›´äº›ä½¿ç”¨é€™å€‹å…ƒä»¶ã€‚&lt;/p>
&lt;h3 id="å…ƒä»¶åç¨±">å…ƒä»¶åç¨±&lt;/h3>
&lt;p>Nuxt æ‰€è‡ªå‹•è¼‰å…¥ &lt;strong>./components&lt;/strong> ç›®éŒ„ä¸‹çš„å…ƒä»¶ï¼Œåœ¨ä½¿ç”¨æ™‚çš„å…ƒä»¶åç¨±ä¹Ÿå°æ‡‰è‘—æª”æ¡ˆåç¨±ï¼Œè€Œç•¶ä½ åœ¨å·¢ç‹€çš„ç›®éŒ„çµæ§‹ä¸‹çš„å…ƒä»¶ï¼Œ&lt;code>å…ƒä»¶çš„åç¨±å°‡æœƒåŸºæ–¼ç›®éŒ„çš„è·¯å¾‘èˆ‡æª”æ¡ˆåç¨±ï¼Œä¸¦åˆªé™¤é‡è¤‡çš„å­—æ®µ&lt;/code>ã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœ &lt;strong>./components&lt;/strong> ç›®éŒ„çµæ§‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">components/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ base/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ apply/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ Button.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>./components/base/apply/Button.vue&lt;/strong> å…ƒä»¶çš„åç¨±å°±æœƒæ˜¯ç”±ç›®éŒ„èˆ‡æª”æ¡ˆåç¨±çµ„åˆå‡ºçš„ &lt;code>&amp;lt;BaseApplyButton&amp;gt;&lt;/code>ã€‚&lt;/p>
&lt;p>ç‚ºäº†é–‹ç™¼ä¸Šèƒ½æ›´æ¸…æ¥šè¾¨åˆ¥ï¼Œå»ºè­°å°‡æª”æ¡ˆåç¨±è¨­ç½®èˆ‡ä½¿ç”¨å…ƒä»¶æ™‚çš„åç¨±ç›¸åŒï¼Œæ‰€ä»¥æˆ‘å€‘é‡æ–°å‘½å &lt;strong>./components/base/apply/&lt;/strong> ä¸‹çš„ &lt;strong>Button.vue&lt;/strong> ç‚º &lt;code>BaseApplyButton.vue&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">components/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ base/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ apply/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ BaseApplyButton.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½ ä¹Ÿä¸ç”¨æ“”å¿ƒå…ƒä»¶åç¨±æœƒä¸æœƒè®Šæˆ &lt;code>&amp;lt;BaseApplyBaseApplyButton&amp;gt;&lt;/code> çœ‹èµ·ä¾†æœ‰é»é†œé†œçš„ï¼Œå› ç‚º Nuxt æœƒå¹«æˆ‘å€‘&lt;code>åˆªé™¤é‡è¤‡çš„å­—æ®µ&lt;/code>ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨æ™‚å…ƒä»¶åç¨±ç‚º &lt;code>&amp;lt;BaseApplyButton&amp;gt;&lt;/code>ã€‚&lt;/p>
&lt;h4 id="å…ƒä»¶åç¨±çš„å‘½åè¦å‰‡">å…ƒä»¶åç¨±çš„å‘½åè¦å‰‡&lt;/h4>
&lt;p>Vue åœ¨è¨»å†Šå…ƒä»¶æ™‚ï¼Œå¯ä»¥ä½¿ç”¨å¤§é§å³°å¼å‘½åæ³• (Pascal Case) æˆ–çƒ¤è‚‰ä¸²å‘½åæ³• (Kebab Case) ä¾†ç‚ºå…ƒä»¶å‘½åï¼Œä¸¦åœ¨ &lt;strong>template&lt;/strong> ä¹Ÿå¯ä»¥è‡ªç”±ä½¿ç”¨å…©ç¨®å‘½åæ–¹å¼ä½œç‚ºä½¿ç”¨å…ƒä»¶çš„æ¨™ç±¤ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œä»¥ &lt;code>&amp;lt;base-apply-button&amp;gt;&lt;/code> ä¾†è¡¨ç¤ºä½¿ç”¨ &lt;strong>./components/base/apply/BaseApplyButton.vue&lt;/strong> å…ƒä»¶ã€‚&lt;/p>
&lt;p>æŠ‘æˆ–å»ºç«‹ &lt;strong>./components/base/apply/base-apply-button.vue&lt;/strong> å…ƒä»¶ï¼Œä½¿ç”¨æ™‚ä»¥ &lt;code>&amp;lt;BaseApplyButton&amp;gt;&lt;/code> è¡¨ç¤ºã€‚&lt;/p>
&lt;p>å…©ç¨®æ–¹å¼ Nuxt éƒ½æ”¯æ´ï¼Œå¯ä»¥æ ¹æ“šè‡ªå·±çš„ç¿’æ…£åšé¸æ“‡ï¼Œè€Œæˆ‘å€‹äººæ˜¯ä»¥å¤§é§å³°å¼å‘½åæ³• (Pascal Case) ç‚ºä¸»ï¼Œä»¥æ­¤å€åˆ¥ç‚ºè‡ªå·±å»ºç«‹çš„å…ƒä»¶ã€‚&lt;/p>
&lt;h3 id="å‹•æ…‹å…ƒä»¶-dynamic-components">å‹•æ…‹å…ƒä»¶ (Dynamic Components)&lt;/h3>
&lt;p>å¦‚æœæƒ³è¦ä½¿ç”¨åƒ Vue ä¸­çš„ &lt;code>&amp;lt;component :is=&amp;quot;someComputedComponent&amp;quot;&amp;gt;&lt;/code> ä¾†&lt;a class="link" href="https://cn.vuejs.org/guide/essentials/component-basics.html#dynamic-components" target="_blank" rel="noopener"
>å‹•æ…‹&lt;/a>çš„åˆ‡æ›ä¸åŒçš„å…ƒä»¶ï¼Œå‰‡éœ€è¦ä½¿ç”¨ Vue æä¾›çš„ &lt;code>resolveComponentVue&lt;/code> æ–¹æ³•ä¾†é€²è¡Œè¼”åŠ©ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">component&lt;/span> &lt;span class="o">:&lt;/span>&lt;span class="na">is&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;show ? DynamicComponent : &amp;#39;div&amp;#39;&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">show&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">DynamicComponent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">resolveComponent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;BaseApplyButton&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å»ºç«‹å‹•æ…‹å…ƒä»¶">å»ºç«‹å‹•æ…‹å…ƒä»¶&lt;/h3>
&lt;h4 id="step-1-å»ºç«‹å…ƒä»¶">Step 1. å»ºç«‹å…ƒä»¶&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>./components/base/apply/BaseApplyButton.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="componentsbaseapplybaseapplybuttonvue">components/base/apply/BaseApplyButton.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;submit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-6 bg-blue-600 py-3 px-8 text-xl font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç«‹å³å ±å&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ &lt;strong>./components/round/apply/RoundApplyButton.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="componentsroundapplyroundapplybuttonvue">components/round/apply/RoundApplyButton.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;submit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-6 rounded-full bg-blue-600 py-3 px-8 text-xl font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç«‹å³å ±å&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-ä½¿ç”¨-resolvecomponent">Step 2. ä½¿ç”¨ resolveComponent()&lt;/h4>
&lt;p>èª¿æ•´ &lt;strong>./app.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="appvue-6">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8 flex items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;show-button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">v-model&lt;/span>&lt;span class="s">=&amp;#34;useRound&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> name=&amp;#34;show-button&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> type=&amp;#34;checkbox&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> class=&amp;#34;h-5 w-5&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> /&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;label for=&amp;#34;show-button&amp;#34; class=&amp;#34;ml-2 block text-base text-slate-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">ä½¿ç”¨åœ“è§’æŒ‰éˆ•&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">component&lt;/span> &lt;span class="o">:&lt;/span>&lt;span class="na">is&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;useRound ? RoundButton : BaseButton&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">useRound&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">BaseButton&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">resolveComponent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;BaseApplyButton&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">RoundButton&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">resolveComponent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;RoundApplyButton&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‘ˆç¾æ•ˆæœï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617134245_0c359ab608_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="å‹•æ…‹è¼‰å…¥-dynamic-imports">å‹•æ…‹è¼‰å…¥ (Dynamic Imports)&lt;/h3>
&lt;p>å‹•æ…‹è¼‰å…¥ (Dynamic Imports) å…ƒä»¶ä¹Ÿç¨±ä¹‹ç‚º&lt;code>å»¶é²è¼‰å…¥ (lazy-loading)&lt;/code>ï¼Œå¦‚æœé é¢ä¸­ä¸éœ€è¦ç«‹åˆ»ä½¿ç”¨æˆ–é¡¯ç¤ºæŸå€‹å…ƒä»¶ï¼Œé€éå‹•æ…‹è¼‰å…¥çš„æ–¹å¼å¯ä»¥&lt;code>å»¶é²å…ƒä»¶è¼‰å…¥çš„æ™‚é–“é»&lt;/code>ï¼Œæœ‰åŠ©æ–¼å„ªåŒ– JavaScript é¦–æ¬¡è¼‰å…¥æ™‚çš„æª”æ¡ˆå¤§å°ã€‚&lt;/p>
&lt;p>ä½¿ç”¨çš„æ–¹å¼ä¹Ÿéå¸¸ç°¡å–®ï¼Œåªéœ€è¦åœ¨ä½¿ç”¨å…ƒä»¶æ™‚ï¼ŒåŠ ä¸Šå‰ç¶´ &lt;code>Lazy&lt;/code> å°±å¯ä»¥æœ‰å»¶é²è¼‰å…¥çš„æ•ˆæœã€‚&lt;/p>
&lt;h4 id="å»ºç«‹ä¸€å€‹å‹•æ…‹è¼‰å…¥çš„æŒ‰éˆ•">å»ºç«‹ä¸€å€‹å‹•æ…‹è¼‰å…¥çš„æŒ‰éˆ•&lt;/h4>
&lt;h4 id="step-1-å»ºç«‹æŒ‰éˆ•å…ƒä»¶">Step 1. å»ºç«‹æŒ‰éˆ•å…ƒä»¶&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>./components/base/apply/BaseApplyButton.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="componentsbaseapplybaseapplybuttonvue-1">components/base/apply/BaseApplyButton.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;submit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-6 rounded-sm bg-blue-600 py-3 px-8 text-xl font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç«‹å³å ±å&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-æ·»åŠ -lazy-å‰ç¶´">Step 2. æ·»åŠ  Lazy å‰ç¶´&lt;/h4>
&lt;p>èª¿æ•´ &lt;strong>./app.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="appvue-7">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8 flex items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;show-button&amp;#34;&lt;/span> &lt;span class="nt">v-model&lt;/span>&lt;span class="s">=&amp;#34;show&amp;#34; name=&amp;#34;show-button&amp;#34; type=&amp;#34;checkbox&amp;#34; class=&amp;#34;h-5 w-5&amp;#34; /&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;label for=&amp;#34;show-button&amp;#34; class=&amp;#34;ml-2 block text-base text-slate-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">é¡¯ç¤ºå ±åæŒ‰éˆ•&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">LazyBaseApplyButton&lt;/span> &lt;span class="na">v&lt;/span>&lt;span class="nt">-if&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">show&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">show&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>çœ‹çœ‹å»¶é²è¼‰å…¥çš„æ•ˆæœï¼š&lt;/p>
&lt;p>åœ¨é é¢ä¸Šæœ‰ä¸€å€‹æ ¸å–æ–¹å¡Šï¼Œä½¿ç”¨è€…å‹¾é¸æ™‚æ‰é¡¯ç¤ºæŒ‰éˆ•ï¼Œæˆ‘å€‘é€éç€è¦½å™¨çš„é–‹ç™¼è€…å·¥å…·è§€å¯Ÿç¶²è·¯ (Network) çš„ä½¿ç”¨æƒ…æ³ï¼Œå¯ä»¥ç™¼ç¾åªæœ‰é¦–æ¬¡å‹¾é¸å¾Œæ‰è«‹æ±‚äº† &lt;strong>BaseApplyButton.vue&lt;/strong> æŒ‰éˆ•å…ƒä»¶ JSã€‚ç•¶é€™å€‹æŒ‰éˆ•å…ƒä»¶è¢«è¨­ç½®ç‚º &lt;code>Lazy&lt;/code> å‹•æ…‹è¼‰å…¥æ™‚ï¼Œé é¢é¦–æ¬¡è¼‰å…¥å…¶å¯¦ä¸æœƒåŒ…å«é€™å€‹æŒ‰éˆ•çš„ç¨‹å¼ç¢¼ï¼Œè€Œæ˜¯ç­‰å¾…éœ€è¦é€™å€‹å…ƒä»¶æ™‚æ‰å»è«‹æ±‚ä¸‹è¼‰ï¼Œä»¥æ­¤é”åˆ°&lt;code>å»¶é²è¼‰å…¥&lt;/code>çš„æ•ˆæœï¼ŒåŒæ™‚ä¹Ÿé™ä½é¦–æ¬¡é€²å…¥ç¶²é æ™‚éœ€è¦ä¸‹è¼‰çš„ JavaScript ç¨‹å¼ç¢¼å¤§å°ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698371_6fc18a0e8b_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="æ§åˆ¶ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯æ¸²æŸ“å…ƒä»¶">æ§åˆ¶ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯æ¸²æŸ“å…ƒä»¶&lt;/h3>
&lt;h4 id="clientonly-å…ƒä»¶">&lt;code>&amp;lt;ClientOnly&amp;gt;&lt;/code> å…ƒä»¶&lt;/h4>
&lt;p>Nuxt 3 æä¾›äº†ä¸€å€‹ &lt;code>&amp;lt;ClientOnly&amp;gt;&lt;/code> å…ƒä»¶ï¼Œå¯ä»¥æ§åˆ¶è¢«åŒ…è£¹çš„å…ƒä»¶åƒ…åœ¨å®¢æˆ¶ç«¯é€²è¡Œæ¸²æŸ“ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘å»ºç«‹ &lt;strong>./components/IronManWelcome.vue&lt;/strong> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="componentsironmanwelcomevue-2">components/IronManWelcome.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>&amp;lt;ClientOnly&amp;gt;&lt;/code> å…ƒä»¶åŒ…è£¹ &lt;code>&amp;lt;IronManWelcome&amp;gt;&lt;/code>ã€‚&lt;/p>
&lt;p>èª¿æ•´ &lt;strong>./app.vue&lt;/strong> ä¸­ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="appvue-8">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">IronManWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£å°±å¯ä»¥å°‡ &lt;code>&amp;lt;IronManWelcome&amp;gt;&lt;/code> å…ƒä»¶è¨­å®šç‚ºåƒ…åœ¨å®¢æˆ¶ç«¯é€²è¡Œæ¸²æŸ“ï¼Œé¦–æ¬¡è«‹æ±‚é é¢æ™‚å°‡ä¸æœƒåŒ…å«é€™å€‹å…ƒä»¶çš„ HTMLã€‚&lt;/p>
&lt;p>&lt;code>&amp;lt;ClientOnly&amp;gt;&lt;/code> å…ƒä»¶ä¸­æä¾›äº†ä¸€å€‹åç‚º &lt;code>fallback&lt;/code> çš„æ’æ§½ (Slot)ï¼Œå¯ä»¥ç”¨ä½œæ–¼åœ¨ä¼ºæœå™¨æ¸²æŸ“çš„é è¨­å…§å®¹ï¼Œç­‰åˆ°å®¢æˆ¶ç«¯è¼‰å…¥å®Œæˆæ‰æ¥æ‰‹æ¸²æŸ“è¢«åŒ…è£¹çš„ &lt;code>&amp;lt;IronManWelcome&amp;gt;&lt;/code> å…ƒä»¶ã€‚&lt;/p>
&lt;p>èª¿æ•´ &lt;strong>./app.vue&lt;/strong> ä¸­ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="appvue-9">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">IronManWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="err">#&lt;/span>&lt;span class="na">fallback&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-6 flex justify-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;[&lt;/span>&lt;span class="nx">IronManWelcome&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="nx">è¼‰å…¥ä¸­&lt;/span>&lt;span class="p">...&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶é€²å…¥é¦–æ¬¡ç¶²é ï¼Œæœƒå…ˆæ¸²æŸ“ &lt;code>fallback&lt;/code> æ’æ§½å…§çš„å…ƒç´ ï¼Œæ‰€ä»¥ç€è¦½å™¨å…ˆé¡¯ç¤º &lt;strong>[IronManWelcome] è¼‰å…¥ä¸­&amp;hellip;&lt;/strong> æ–‡å­—ï¼Œæ¥è‘—å®¢æˆ¶ç«¯è¼‰å…¥å®Œ JS å¾Œæ¥æ‰‹æ¸²æŸ“ &lt;code>&amp;lt;IronManWelcome&amp;gt;&lt;/code> å…ƒä»¶ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188487_a1bc229272_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ä½ ä¹Ÿå¯ä»¥é€éç€è¦½å™¨é é¢ä¸­é»æ“Šå³éµå¾Œå±•é–‹é¸å–®çš„ã€Œæª¢è¦–ç¶²é åŸå§‹ç¢¼ã€åŠŸèƒ½ï¼Œæ‰€çœ‹åˆ°çš„ç¶²é åŸå§‹ç¢¼ï¼Œç™¼ç¾ä¼ºæœå™¨ç«¯åƒ…å…ˆå›æ‡‰äº† &lt;code>&amp;lt;p class=&amp;quot;my-6 flex justify-center&amp;quot;&amp;gt;[IronManWelcome] è¼‰å…¥ä¸­...&amp;lt;/p&amp;gt;&lt;/code>ï¼Œè¡¨ç¤ºé€™æ˜¯ç”±ä¼ºæœå™¨ç«¯æ¸²æŸ“ &lt;code>&amp;lt;ClientOnly&amp;gt;&lt;/code> å…ƒä»¶ &lt;code>fallback&lt;/code> æ’æ§½çš„å…§å®¹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964604_68d7e7bf6a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="client-èˆ‡-server">.client èˆ‡ .server&lt;/h4>
&lt;p>Nuxt 3 çš„å…ƒä»¶ï¼Œä¹Ÿå¯ä»¥é€éå…ƒä»¶çš„æª”æ¡ˆåç¨±ä¾†æ§åˆ¶åƒ…é¡¯ç¤ºåœ¨å®¢æˆ¶ç«¯æˆ–ä¼ºæœå™¨ç«¯ã€‚&lt;/p>
&lt;p>å¦‚æœå…ƒä»¶åƒ…åœ¨å®¢æˆ¶ç«¯å‘ˆç¾ï¼Œå‰‡å¯ä»¥å°‡ &lt;code>.client&lt;/code> åŠ å…¥å…ƒä»¶æª”åçš„å¾Œç¶´ä¸­ã€‚&lt;/p>
&lt;p>å»ºç«‹ä¸€å€‹ &lt;strong>./components/JustClient.client.vue&lt;/strong> å…ƒä»¶æª”æ¡ˆï¼Œè¡¨ç¤º &lt;code>&amp;lt;JustClient&amp;gt;&lt;/code> å…ƒä»¶ï¼Œåƒ…æœƒåœ¨å®¢æˆ¶ç«¯é€²è¡Œæ¸²æŸ“ã€‚&lt;/p>
&lt;p>è€Œæ·»åŠ  &lt;code>.server&lt;/code> å¾Œç¶´çš„å…ƒä»¶æª”æ¡ˆï¼Œå‰‡æœƒæ˜¯é€™å€‹å…ƒä»¶åœ¨ä¼ºæœå™¨ç«¯æ¸²æŸ“çš„å…§å®¹ã€‚&lt;/p>
&lt;h4 id="æ§åˆ¶ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯æ¸²æŸ“å…ƒä»¶ç¯„ä¾‹">æ§åˆ¶ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯æ¸²æŸ“å…ƒä»¶ç¯„ä¾‹&lt;/h4>
&lt;p>æˆ‘å€‘ä½¿ç”¨ &lt;code>&amp;lt;ClientOnly&amp;gt;&lt;/code> å…ƒä»¶ã€&lt;code>.client&lt;/code> èˆ‡ &lt;code>.server&lt;/code> åšä¸€å€‹ç¯„ä¾‹ä¾†çœ‹å‘ˆç¾çš„æ•ˆæœã€‚&lt;/p>
&lt;h5 id="componentsironmanwelcomevue-3">components/IronManWelcome.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="componentsjustclientclientvue">components/JustClient.client.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-16 my-4 rounded-lg bg-green-100 p-4 text-sm text-green-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-semibold&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;[&lt;/span>&lt;span class="nx">JustClient&lt;/span>&lt;span class="p">]&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ml-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯åªæœ‰åœ¨&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-bold&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Client&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">æ‰æœƒæ¸²æŸ“çš„å…ƒä»¶&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="componentsclientandserverclientvue">components/ClientAndServer.client.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-16 my-4 rounded-lg bg-sky-100 p-4 text-sm text-sky-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-semibold&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;[&lt;/span>&lt;span class="nx">ClientAndServer&lt;/span>&lt;span class="p">]&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ml-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">é€™æ˜¯å¾&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-bold text-red-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Client&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">æ¸²æŸ“å‡ºä¾†çš„å…ƒä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="componentsclientandserverservervue">components/ClientAndServer.server.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-16 my-4 rounded-lg bg-sky-100 p-4 text-sm text-sky-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-semibold&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;[&lt;/span>&lt;span class="nx">ClientAndServer&lt;/span>&lt;span class="p">]&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ml-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">é€™æ˜¯å¾&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-bold text-red-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Server&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">æ¸²æŸ“å‡ºä¾†çš„å…ƒä»¶&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">è«‹ç­‰å¾…&lt;/span> &lt;span class="nx">Client&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">æ¥æ‰‹æ¸²æŸ“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="appvue-10">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">IronManWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="err">#&lt;/span>&lt;span class="na">fallback&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-6 flex justify-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;[&lt;/span>&lt;span class="nx">IronManWelcome&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="nx">è¼‰å…¥ä¸­&lt;/span>&lt;span class="p">...&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">JustClient&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ClientAndServer&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘é‡æ–°ç€è¦½ç¶²é ï¼Œå¯ä»¥ç™¼ç¾åˆ°ç”±ä¼ºæœå™¨æ¸²æŸ“çš„æ’æ§½å…ƒç´  &lt;strong>[IronManWelcome] è¼‰å…¥ä¸­&amp;hellip;&lt;/strong> æ–‡å­—èˆ‡ &lt;strong>ClientAndServer.server.vue&lt;/strong> å…ƒä»¶ï¼Œç‡å…ˆè¢«é¡¯ç¤ºäº†å‡ºä¾†ã€‚æ¥è‘—ç•¶ JS è¼‰å…¥å®Œç•¢å¾Œï¼Œè¢« åŒ…è£¹çš„å…ƒä»¶ &lt;code>&amp;lt;IronManWelcome&amp;gt;&lt;/code> ä¹Ÿæ¥æ‰‹ä¸¦è¦†è“‹äº†ã€Œ&lt;strong>[IronManWelcome] è¼‰å…¥ä¸­&amp;hellip;&lt;/strong>ã€æ–‡å­—ï¼Œ&lt;strong>ClientAndServer.client.vue&lt;/strong> èˆ‡ &lt;strong>JustClient.client.vue&lt;/strong> åƒ…åœ¨å®¢æˆ¶ç«¯æ¸²æŸ“çš„å…ƒä»¶ï¼Œä¹Ÿåˆ†åˆ¥çš„è¦†è“‹èˆ‡é¡¯ç¤ºå‡ºä¾†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186703_ecb68732a9_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é€éå…ƒä»¶æˆ‘å€‘èƒ½æ›´å¥½çš„æ•´ç†å¯é‡è¤‡ä½¿ç”¨çš„ç¨‹å¼ç¢¼ï¼Œä¹Ÿæå‡äº†å¯ç¶­è­·æ€§ï¼Œè€Œ Nuxt ä¸­çš„å‹•æ…‹è¼‰å…¥æ›´æ˜¯èƒ½å°‡éå¿…è¦ä½¿ç”¨çš„å…ƒä»¶å»¶é²è¼‰å…¥ï¼Œå¤§å¤§æå‡äº†é¦–æ¬¡é€²å…¥ç¶²é æ‰€éœ€è¦ä¸‹è¼‰çš„æª”æ¡ˆå¤§å°ï¼Œæœ€å¾Œæˆ‘å€‘ä¹Ÿä»‹ç´¹äº†å¦‚ä½•æ§åˆ¶ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯æ¸²æŸ“å…ƒä»¶ï¼Œç†Ÿæ‚‰äº†ä¹‹å¾Œå°±èƒ½é‡å°ç¶²ç«™éœ€æ±‚è¨­å®šå…ƒä»¶çš„è¼‰å…¥åŠæ¸²æŸ“æ–¹å¼å›‰ï¼&lt;/p>
&lt;hr>
&lt;h2 id="çµ„åˆå¼å‡½æ•¸-composables">çµ„åˆå¼å‡½æ•¸ (Composables)&lt;/h2>
&lt;p>çµ„åˆå¼å‡½æ•¸ (Composables) æ˜¯ä¸€ç¨®åˆ©ç”¨ Vue 3 çš„ &lt;strong>Composition API&lt;/strong> ä¾†å°è£å’Œè¤‡ç”¨&lt;code>æœ‰ç‹€æ…‹é‚è¼¯&lt;/code>çš„å‡½æ•¸ï¼Œåœ¨ Nuxt æˆ‘å€‘å¯ä»¥å°‡ä¸€äº›é€šç”¨çš„å•†æ¥­é‚è¼¯æ”¾ç½®åœ¨ &lt;code>composables&lt;/code> ä¾†å»ºç«‹çµ„åˆå¼å‡½æ•¸ï¼Œé€™æ¨£ä¸€ä¾†å°±å¯ä»¥åœ¨å„å€‹é é¢å…±ç”¨é€™å€‹çµ„åˆå¼å‡½æ•¸ã€‚&lt;/p>
&lt;h3 id="options-api-èˆ‡-composition-api">Options API èˆ‡ Composition API&lt;/h3>
&lt;ul>
&lt;li>é¸é …å¼ API (Options API)ï¼š&lt;/li>
&lt;/ul>
&lt;p>ä¸‹åˆ—é€™æ®µæ˜¯ Vue ä¾æ“š Options API æ’°å¯«å‡ºä¾†çš„ç¨‹å¼ç¢¼ï¼Œä¹Ÿæ˜¯ Vue 2 è™•ç†é‚è¼¯çš„å¯«æ³•ï¼Œæ‰€è¬‚ Options (é¸é …ã€å¯é¸çš„) æŒ‡çš„å°±æ˜¯ä»¥ç¨‹å¼ç¢¼çš„æ€§è³ªä¾†åˆ†å‰²ç¨‹å¼ç¢¼ï¼Œæ‰€æœ‰è¨­å®šè³‡æ–™åˆå§‹å€¼çš„éƒ½æœƒåœ¨ &lt;strong>data&lt;/strong> é€™é‚Šè™•ç†ï¼Œé€™å€‹å…ƒä»¶æ‰€éœ€è¦çš„æ–¹æ³•å‰‡æœƒåœ¨ &lt;strong>methods&lt;/strong> é€™è£¡å»ºç«‹ï¼Œ&lt;strong>data&lt;/strong> åŠ &lt;strong>methods&lt;/strong> ä¹Ÿå°±æ˜¯ä½¿ç”¨è€…éœ€è¦çš„&lt;strong>é¸é …&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doubleCount&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">incrementByTwo&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">doubleCount&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>çµ„åˆå¼ API (Composition API)ï¼š&lt;/li>
&lt;/ul>
&lt;p>ç›®å‰åœ¨ Vue 3 ä½ ä»å¯ä»¥ç¹¼çºŒä½¿ç”¨ Vue 2 çš„ Options APIï¼Œä½†éš¨è‘—ç¨‹å¼ç¢¼é‚è¼¯çš„å¢åŠ ï¼Œçœ‹ä¼¼æœ‰æ¢ç†çš„åˆ†é¡ï¼Œå…¶å¯¦å°æ–¼ç†è§£åŠç¶­è­·ä¸Šæ²’æœ‰æƒ³åƒä¸­ä¾¿åˆ©ã€‚&lt;/p>
&lt;p>Vue 3 æå‡ºçš„&lt;strong>çµ„åˆå¼ API (Composition API)&lt;/strong> å‰‡æ˜¯ä»¥é‚è¼¯åŠŸèƒ½ä¾†é€²è¡Œåˆ†é¡ï¼Œä½ å¯ä»¥å°‡æ‰€æœ‰èˆ‡æŸå€‹åŠŸèƒ½çš„ &lt;strong>data&lt;/strong>ã€&lt;strong>computed&lt;/strong>ã€&lt;strong>methods&lt;/strong> èˆ‡ &lt;strong>watch&lt;/strong> &amp;hellip;ç­‰ï¼Œå¯«åœ¨åŒä¸€å€‹æ®µè½è¡Œç¨‹ä¸€å€‹å€å¡Šã€‚&lt;/p>
&lt;p>è©³ç´°èªªæ˜å¯é–±è®€å…ˆå‰æ’°å¯«çš„&lt;a class="link" href="https://wayneblog.ga/2022-08-11/option-api-vs-composition-api/" >åœ–è§£ Option API vs Composition API&lt;/a>æ–‡ç« ã€‚&lt;/p>
&lt;h3 id="mixins-èˆ‡-composables">Mixins èˆ‡ Composables&lt;/h3>
&lt;p>åœ¨ Options API å¯ä»¥ä½¿ç”¨ &lt;code>mixin&lt;/code> ä¾†å¼•å…¥å¯ä»¥é‡è¤‡ä½¿ç”¨çš„ç¨‹å¼ç¢¼ï¼Œè®“ä¸åŒçš„å…ƒä»¶å¯ä»¥å…±ç”¨å‡½æ•¸æ–¹æ³•ï¼Œä½†éš¨è‘—å°ˆæ¡ˆè®Šå¤§ï¼ŒåŒä¸€å€‹å…ƒä»¶å¯èƒ½ä½¿ç”¨ mixin åŒæ™‚ä¾†å¼•ç”¨è¨±å¤šçš„å…±ç”¨å‡½æ•¸ï¼Œé€™å°‡å°è‡´å®¹æ˜“ç”¢ç”Ÿå‘½åè¡çªã€å…ƒä»¶é–“çš„è€¦åˆèˆ‡ä¾†æºä¸å¤ æ¸…æ™°ç­‰å•é¡Œï¼ˆè©³ç´°åŸå› è«‹åƒè€ƒ&lt;a class="link" href="https://wayneblog.ga/2022-12-30/why-use-hooks/" >æ·ºè«‡ç‚ºä»€éº¼ Vue å’Œ React éƒ½é¸æ“‡äº† Hooksï¼Ÿ&lt;/a>ï¼‰ã€‚&lt;/p>
&lt;p>Vue 3 ç‚ºæˆ‘å€‘å¸¶ä¾†äº†çµ„åˆå¼ APIï¼Œå¯¦ç¾äº†æ›´ä¹¾æ·¨çš„ç¨‹å¼ç¢¼ç·¨æ’èˆ‡é«˜æ•ˆçš„é‚è¼¯é‡ç”¨ï¼Œ**çµ„åˆå¼å‡½æ•¸ (Composables)**ä¹ŸåŸºæ–¼çµ„åˆå¼ API ä¾†é€²è¡Œå°è£é€™äº›å¯è¤‡ç”¨çš„é‚è¼¯ï¼Œæ›´è§£æ±ºäº†ä½¿ç”¨ mixin å¯¦ç¾å…±ç”¨å‡½æ•¸çš„ç¼ºé»ã€‚&lt;/p>
&lt;h3 id="çµ„åˆå¼å‡½æ•¸-composables-1">çµ„åˆå¼å‡½æ•¸ (Composables)&lt;/h3>
&lt;p>åœ¨ Nuxt 3 ä¸­è¦å»ºç«‹ä¸€å€‹&lt;code>çµ„åˆå¼å‡½æ•¸ (Composables)&lt;/code> æˆ‘å€‘å¯ä»¥åœ¨ &lt;code>composables&lt;/code> ç›®éŒ„ä¸‹ç·¨å¯«ï¼Œé€™äº›å¸¸ç”¨çš„å‡½æ•¸ï¼Œå°‡æœƒè¢« Nuxt 3 è‡ªå‹•è¼‰å…¥åšä½¿ç”¨ï¼Œå¯¦ç¾åœ¨å„å€‹å…ƒä»¶ä½¿ç”¨é€™äº›å‡½æ•¸æ–¹æ³•ã€‚&lt;/p>
&lt;h4 id="å»ºç«‹çµ„åˆå¼å‡½æ•¸">å»ºç«‹çµ„åˆå¼å‡½æ•¸&lt;/h4>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘æ–°å¢ &lt;strong>./composables/useCounter.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="composablesusecounterjs">composables/useCounter.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">increment&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Nuxt è‡ªå‹•å°å…¥çš„ç‰¹æ€§ï¼Œç¾åœ¨æˆ‘å€‘å°±èƒ½åœ¨å…¶ä»–å…ƒä»¶ä¸­ä½¿ç”¨ &lt;strong>useCounter&lt;/strong> çµ„åˆå¼å‡½æ•¸ã€‚&lt;/p>
&lt;p>æ–°å¢ &lt;strong>./pages/count.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescountvue">pages/count.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8 text-4xl text-gray-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-6 rounded-sm bg-sky-600 py-2 px-4 text-base font-medium text-white hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;increment&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">å¢åŠ &lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">increment&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCounter&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="composables-çµ„åˆå¼å‡½æ•¸çš„åç¨±">Composables çµ„åˆå¼å‡½æ•¸çš„åç¨±&lt;/h3>
&lt;p>å‰é¢ç¯„ä¾‹ä½¿ç”¨çš„ &lt;code>useCounter()&lt;/code> æ˜¯ Nuxt 3 å¾ &lt;strong>./composables/useCounter.js&lt;/strong> è‡ªå‹•è¼‰å…¥çš„ï¼Œè€Œä¸” Nuxt 3 çš„çµ„åˆå¼å‡½æ•¸çš„åç¨±ï¼Œæœ‰å…©ç¨®æ–¹å¼æœƒå½±éŸ¿ä½¿ç”¨æ™‚çš„å‡½æ•¸åç¨±ï¼Œä¸éä¹Ÿå»ºè­°åœ¨å»ºç«‹çµ„åˆå¼å‡½æ•¸å¯ä»¥ä½¿ç”¨ &lt;code>use&lt;/code> ä½œç‚ºé–‹é ­ä¾†åŠ ä»¥è­˜åˆ¥ã€‚&lt;/p>
&lt;h4 id="1-ä½¿ç”¨é è¨­åŒ¯å‡º-default-export">1. ä½¿ç”¨é è¨­åŒ¯å‡º (Default export)&lt;/h4>
&lt;p>å¦‚æœåœ¨æª”æ¡ˆå…§ä½¿ç”¨çš„æ˜¯é è¨­åŒ¯å‡ºï¼Œé‚£éº¼é€™å€‹çµ„åˆå¼å‡½æ•¸åœ¨ä½¿ç”¨æ™‚ï¼Œå³&lt;code>å°æ‡‰æª”æ¡ˆåç¨±&lt;/code>ï¼Œæª”æ¡ˆåç¨±å¯ä»¥æ˜¯å°å¯«é§å³°å¼ (Camel case) æˆ–çƒ¤è‚‰ä¸² (Kebab case)ï¼Œä¾‹å¦‚å»ºç«‹ &lt;strong>./composables/useCounter.js&lt;/strong> æˆ– &lt;strong>./composables/use-counter.js&lt;/strong> æª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼Œä½¿ç”¨æ™‚çµ„åˆå¼å‡½æ•¸ç‚ºå°å¯«é§å³°å¼(Camel case) åç‚º &lt;code>useCounter&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">increment&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="2-ä½¿ç”¨å…·ååŒ¯å‡º-named-export">2. ä½¿ç”¨å…·ååŒ¯å‡º (Named export)&lt;/h4>
&lt;p>å¦‚æœå»ºç«‹çµ„åˆå¼å‡½æ•¸æ™‚ï¼Œä½¿ç”¨çš„æ˜¯æœ‰å…·åçš„åŒ¯å‡ºï¼Œé‚£éº¼&lt;code>çµ„åˆå¼å‡½æ•¸å°æ‡‰çš„åç¨±ï¼Œå°±ä¸æ˜¯æª”æ¡ˆåç¨±ï¼Œè€Œæ˜¯æª”æ¡ˆå…§ export å‡ºä¾†çš„åç¨±&lt;/code>ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œå»ºç«‹ &lt;strong>./composables/count.js&lt;/strong>ï¼Œæª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼Œçµ„åˆå¼å‡½æ•¸åç¨±å°±ä¸æœƒæ˜¯æª”æ¡ˆåç¨± countï¼Œè€Œæ˜¯å…·åå°å‡ºçš„åç¨± &lt;code>useCounter&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useCounter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">increment&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="composables-è‡ªå‹•è¼‰å…¥çš„è¦å‰‡">Composables è‡ªå‹•è¼‰å…¥çš„è¦å‰‡&lt;/h3>
&lt;p>&lt;strong>composables&lt;/strong> ç›®éŒ„ä¸‹ï¼ŒNuxt 3 æœƒè‡ªå‹•æƒæ &lt;strong>.js&lt;/strong>ã€&lt;strong>.ts&lt;/strong> èˆ‡ &lt;strong>.vue&lt;/strong> å‰¯æª”åçš„æª”æ¡ˆï¼Œä½†åªæœ‰&lt;code>æœ€ä¸Šå±¤çš„æª”æ¡ˆ&lt;/code>ï¼Œæ‰æœƒè‡ªå‹•çš„è¢«è¼‰å…¥ç‚ºçµ„åˆå¼å‡½æ•¸ï¼Œä»¥ä¸‹é¢é€™å€‹ç›®éŒ„çµæ§‹ç‚ºä¾‹ï¼Œåªæœ‰ &lt;strong>./composables/useCounter.js&lt;/strong> æ‰æœƒè¢«æ­£ç¢ºçš„è‡ªå‹•è¼‰å…¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">composables/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ time/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ useDateFormat.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ useCounter.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸‹åˆ—é€™ç¨®å½¢å¼ï¼Œ&lt;strong>./composables/time/index.js&lt;/strong> ä¹Ÿèƒ½æ­£ç¢ºçš„è‡ªå‹•è¼‰å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">composables/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ time/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ index.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ useCounter.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœä½ æƒ³è®“å·¢ç‹€çš„ç›®éŒ„çµæ§‹ä¸‹ä¹Ÿèƒ½è¢« Nuxt è‡ªå‹•æƒæè¼‰å…¥ï¼Œé‚£éº¼ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢å…©ç¨®æ–¹æ³•ï¼š&lt;/p>
&lt;h4 id="ä¸€é‡æ–°åŒ¯å‡º-span-classfocusæ¨è–¦span">ä¸€ã€é‡æ–°åŒ¯å‡º &lt;span class="focus">[æ¨è–¦]&lt;/span>&lt;/h4>
&lt;p>é…ç½® &lt;strong>./composables/index.js&lt;/strong> å°‡ç›®éŒ„ä¸‹çš„å‡½æ•¸æ–¼é€™è£¡æ•´ç†ä¸¦åŒ¯å‡ºä½ éœ€è¦çš„ä½œç‚ºçµ„åˆå¼å‡½æ•¸ã€‚&lt;/p>
&lt;h4 id="äºŒé…ç½®æƒæå·¢ç‹€ç›®éŒ„">äºŒã€é…ç½®æƒæå·¢ç‹€ç›®éŒ„&lt;/h4>
&lt;p>ä¿®æ”¹ &lt;code>nuxt.config.ts&lt;/code> æª”æ¡ˆï¼Œé…ç½®è‡ªå‹•è¼‰å…¥é¡å¤–æƒæ &lt;code>composables&lt;/code> ä¸‹çš„å·¢ç‹€ç›®éŒ„ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts-1">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">imports&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dirs&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æƒæ composables ç›®éŒ„é ‚å±¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="s1">&amp;#39;composables&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æƒææ·±åº¦ä¸€å±¤çš„ç‰¹å®šæª”æ¡ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="s1">&amp;#39;composables/*/index.{ts,js,mjs,mts}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æƒææ•´å€‹ composables ç›®éŒ„ä¸‹çš„æª”æ¡ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="s1">&amp;#39;composables/**&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸è«–åœ¨ Nuxt 3 æˆ–æ˜¯ Vue 3ï¼Œçµ„åˆå¼å‡½æ•¸ (Composables) éƒ½æ˜¯èƒ½å¹«åŠ©ä½ åœ¨æ•´å€‹ç¶²ç«™å¯ä»¥å…±ç”¨å‡½æ•¸çš„æ–¹æ³•ï¼Œç›®å‰ä¹Ÿæœ‰å°ˆæ¡ˆ &lt;a class="link" href="https://vueuse.org/" target="_blank" rel="noopener"
>VueUse&lt;/a> æä¾›äº†å¸¸ç”¨èˆ‡å¯¦ç”¨çš„çµ„åˆå¼å‡½æ•¸é›†åˆï¼Œèƒ½å¹«æˆ‘å€‘çœå»ä¸å°‘é–‹ç™¼æ™‚é–“èˆ‡æå‡é‡è¤‡ä½¿ç”¨æ€§ï¼Œ&lt;a class="link" href="https://wayneblog.ga/2022-12-30/npm-vueuse/" >VueUseçš„ä»‹ç´¹è«‹é»æˆ‘å‰å¾€&lt;/a>ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æ’ä»¶-plugins">æ’ä»¶ (Plugins)&lt;/h2>
&lt;p>åœ¨é–‹ç™¼æ™‚ï¼Œç‚ºäº†ä¸é‡è¤‡é€ è¼ªå­ï¼Œæˆ‘å€‘å¯èƒ½æœƒåœ¨ç¶²è·¯ä¸Šæ‰¾çœ‹çœ‹æœ‰æ²’æœ‰ç¾æˆçš„å¥—ä»¶å¯ä»¥åšä½¿ç”¨ï¼Œå¦‚æœé€™å€‹å¥—ä»¶åœ¨ Nuxt 3 æ²’æœ‰å°ˆç”¨çš„æ¨¡çµ„æˆ–æ’ä»¶ï¼Œé‚£éº¼æˆ‘å€‘å°±åªèƒ½ä¾ç…§å¥—ä»¶çš„æ”¯æ´èˆ‡å®‰è£æ–¹å¼å˜—è©¦æ·»åŠ è‡³ Nuxt ä¸­ä½¿ç”¨ã€‚é€™é‚Šå°‡æœƒä»‹ç´¹åœ¨ Nuxt æ’ä»¶çš„è¦å‰‡èˆ‡ç‰¹æ€§ï¼Œå¦‚ä½•å»ºç«‹è‡ªå·±çš„æ’ä»¶åŠå®‰è£ Vue çš„æ’ä»¶ã€‚&lt;/p>
&lt;p>èªªåˆ°æ’ä»¶ (Plugins)ï¼ŒChrome æˆ– Firefox ç­‰ç€è¦½å™¨çš„ä½¿ç”¨è€…ï¼Œä¸€å®šéƒ½è½éä¹Ÿå®‰è£éæ’ä»¶ï¼›å¦‚æœç€è¦½å™¨ä¸­çš„åŠŸèƒ½ä¸å¤ æ»¿è¶³ä½ çš„éœ€æ±‚ï¼Œé‚£éº¼ä½ å¯ä»¥é€éå®‰è£æ’ä»¶ä¾†å˜—è©¦è§£æ±ºä½ çš„å•é¡Œï¼Œè€Œæ’ä»¶åšçš„å°±æ˜¯å¹«åŠ©ä½ çš„ç€è¦½å™¨æˆ–æ˜¯ç¶²ç«™ï¼Œæ·»åŠ ä¸€äº›åŠŸèƒ½æˆ–æ˜¯é…ç½®ï¼Œåšä¸€å€‹æ“´å……çš„å‹•ä½œã€‚åœ¨ Nuxt 3 æŒ‡çš„æ’ä»¶ï¼Œé“ç†ä¹Ÿæ˜¯ä¸€æ¨£çš„ï¼Œæˆ‘å€‘å¯ä»¥é€éæ’ä»¶ä¾†å”åŠ©æˆ‘å€‘æ“´å……åŠŸèƒ½ã€‚&lt;/p>
&lt;h3 id="nuxt-3-æ’ä»¶ç›®éŒ„">Nuxt 3 æ’ä»¶ç›®éŒ„&lt;/h3>
&lt;p>Nuxt å°‡è‡ªå‹•è®€å– &lt;strong>plugins&lt;/strong> ç›®éŒ„ä¸­çš„æª”æ¡ˆä¸¦è‡ªå‹•è¼‰å…¥å®ƒå€‘ï¼Œä¹Ÿå› ç‚ºç›®éŒ„ä¸­çš„æ‰€æœ‰æ’ä»¶éƒ½æ˜¯è‡ªå‹•è¼‰å…¥çš„ï¼Œå› æ­¤ä¸å¿…æ–¼ &lt;code>nuxt.config.ts&lt;/code> ä¸­å†å€‹åˆ¥é…ç½®ã€‚&lt;/p>
&lt;p>Nuxt æœƒè‡ªå‹•æƒæ &lt;strong>plugins&lt;/strong> ç›®éŒ„ä¸‹çš„ &lt;strong>.js&lt;/strong>ã€&lt;strong>.ts&lt;/strong> èˆ‡ &lt;strong>.vue&lt;/strong> å‰¯æª”åçš„æª”æ¡ˆï¼Œä½†åªæœ‰æœ€ä¸Šå±¤çš„æª”æ¡ˆæˆ–æœ€ä¸Šå±¤ç›®éŒ„ä¸‹çš„ &lt;strong>index.js&lt;/strong> æª”æ¡ˆæ‰æœƒè¢«è‡ªå‹•è¼‰å…¥ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œåªæœ‰ &lt;strong>./plugins/myPlugin.js&lt;/strong> åŠ &lt;strong>./plugins/myPlugin/index.js&lt;/strong> æœƒè‡ªå‹•çš„è¢« Nuxt è¼‰å…¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">plugins/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ myPlugin/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ index.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ myPlugin.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¦‚ä½•å»ºç«‹æ’ä»¶">å¦‚ä½•å»ºç«‹æ’ä»¶&lt;/h3>
&lt;p>ç•¶æ‚¨å»ºç«‹å¥½æ’ä»¶çš„æª”æ¡ˆå¾Œï¼Œåªéœ€è¦ä½¿ç”¨é è¨­å°å‡º Nuxt 3 ä¸­çš„ &lt;code>defineNuxtPlugin&lt;/code> æ–¹æ³•ï¼Œå‚³éçµ¦æ’ä»¶çš„å”¯ä¸€åƒæ•¸æ˜¯ &lt;code>nuxtApp&lt;/code>ï¼Œæ¥è‘—å°±å¯ä»¥åœ¨è£¡é ­å¯¦ä½œåŠŸèƒ½ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtPlugin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">nuxtApp&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å¯ä»¥ä½¿ç”¨ nuxtApp ä¾†åšä¸€äº›äº‹æƒ…
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆæ¬¡å»ºç«‹æ’ä»¶æ™‚ï¼Œå¯ä»¥å˜—è©¦å°å‡º &lt;code>nuxtApp&lt;/code> åƒæ•¸çœ‹çœ‹ï¼Œå¦‚ä¸‹åœ–ï¼Œ&lt;code>nuxtApp&lt;/code> åŒ…å«äº†å„ç¨®çš„å¯¦ä¾‹ (Instance)ï¼Œä¾‹å¦‚æˆ‘å€‘è¦ä½¿ç”¨ Vue çš„ &lt;code>app.use&lt;/code>ï¼Œå°±å¯ä»¥åœ¨ &lt;code>nuxtApp&lt;/code> æ‰¾åˆ° Vue çš„å¯¦ä¾‹ &lt;code>vueApp&lt;/code>ï¼Œä¸¦é€é &lt;code>nuxtApp.vueApp.use&lt;/code> ä¾†å®‰è£ Vue çš„æ’ä»¶ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188532_bb5139c839_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="åœ¨æ’ä»¶ä¸­ä½¿ç”¨çµ„åˆå¼å‡½æ•¸-composables">åœ¨æ’ä»¶ä¸­ä½¿ç”¨çµ„åˆå¼å‡½æ•¸ (Composables)&lt;/h3>
&lt;p>ä½ ä¹Ÿå¯ä»¥åœ¨è‡ªå®šç¾©çš„æ’ä»¶ä¸­ä½¿ç”¨çµ„åˆå¼å‡½æ•¸ï¼Œä½†åœ¨æ’ä»¶ä¸­å­˜åœ¨è‘—ä¸€äº›é™åˆ¶å’Œå·®ç•°ã€‚&lt;/p>
&lt;h4 id="æ’ä»¶çš„è¼‰å…¥é †åº">æ’ä»¶çš„è¼‰å…¥é †åº&lt;/h4>
&lt;p>æ’ä»¶æ˜¯ä¾ç…§é †åºä¾†å‘¼å«çš„ï¼Œå¦‚æœä½ ä½¿ç”¨çš„çµ„åˆå¼å‡½æ•¸ï¼Œä¾è³´è‘—å°šæœªè¼‰å…¥çš„æ’ä»¶ï¼Œå®ƒå°‡ç„¡æ³•æ­£å¸¸çš„åŸ·è¡Œï¼›é™¤éä½ å¾ˆç¢ºå®šæ’ä»¶çš„è¼‰å…¥é †åºï¼Œä¸ç„¶å„˜é‡åœ¨æ’ä»¶å…§ä½¿ç”¨å…¶ä»–æœƒä¾è³´æ’ä»¶æˆ–ç”±å…¶ä»–æ’ä»¶æ‰€æä¾›çš„çµ„åˆå¼å‡½æ•¸ã€‚&lt;/p>
&lt;h4 id="ä¾è³´-vue-çš„ç”Ÿå‘½é€±æœŸ">ä¾è³´ Vue çš„ç”Ÿå‘½é€±æœŸ&lt;/h4>
&lt;p>å¦‚æœæ’ä»¶å…§æ‰€ä½¿ç”¨çš„çµ„åˆå¼å‡½æ•¸ï¼Œä¾è³´æ–¼ Vue çš„ç”Ÿå‘½é€±æœŸï¼Œé‚£éº¼ä¹Ÿæœƒç„¡æ³•æ­£å¸¸çš„åŸ·è¡Œï¼Œå› ç‚ºæ’ä»¶åªæœƒç¶å®šåˆ° nuxtApp çš„å¯¦ä¾‹ä¸Šï¼Œèˆ‡ Vue å…ƒä»¶å…§ä½¿ç”¨çµ„åˆå¼å‡½æ•¸ç¶å®šçš„å…ƒä»¶å¯¦ä¾‹ï¼Œæœ‰æ‰€ä¸åŒã€‚&lt;/p>
&lt;h3 id="automatically-providing-helpers">Automatically Providing Helpers&lt;/h3>
&lt;p>å¦‚æœæƒ³åœ¨ NuxtApp çš„å¯¦ä¾‹ä¸Šæä¾› &lt;code>helper&lt;/code>ï¼Œæˆ‘å€‘å¯ä»¥åœ¨æ’ä»¶å›å‚³çš„ç‰©ä»¶ä¸­æ·»åŠ  &lt;code>provide&lt;/code>ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘å»ºç«‹ä¸€å€‹æ’ä»¶ &lt;strong>./plugins/myPlugin.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pluginsmypluginjs">plugins/myPlugin.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtPlugin&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provide&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hello&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="sb">`Hello &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">msg&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">!`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èª¿æ•´ &lt;strong>./app.vue&lt;/strong> å…§å®¹ï¼š&lt;/p>
&lt;h5 id="appvue-11">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-2 text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-2 text-6xl font-semibold text-emerald-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">$hello&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Jennifer&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">$hello&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useNuxtApp&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">$hello&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Ryan&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°±å¯ä»¥ç›´æ¥åœ¨ &lt;strong>template&lt;/strong> ä¸­ä½¿ç”¨ &lt;code>$hello&lt;/code>ï¼Œé€™å€‹ç”±æ’ä»¶æä¾›çš„ &lt;strong>Helper&lt;/strong>ï¼Œæ³¨æ„é€™é‚Šè¦åŠ ä¸ŠéŒ¢å­—ç¬¦è™Ÿ &lt;code>$&lt;/code>ã€‚ä¹Ÿå¯ä»¥é€é &lt;code>useNuxtApp&lt;/code> æ–¹æ³•å–å¾— NuxtApp çš„å¯¦ä¾‹å¾Œå†ä½¿ç”¨ &lt;code>$hello&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964639_61f022bcfe_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="åƒ…é™ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯ä¸­ä½¿ç”¨">åƒ…é™ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯ä¸­ä½¿ç”¨&lt;/h4>
&lt;p>æœ‰äº›æ’ä»¶å¯èƒ½åªèƒ½åœ¨ç€è¦½å™¨ä¸­ä½¿ç”¨ï¼ŒåŸå› å¯èƒ½æ˜¯é€™å€‹æ’ä»¶ä¸éœ€è¦æˆ–ç„¡æ³•åœ¨ä¼ºæœå™¨ç«¯ä¸­åŸ·è¡Œã€‚&lt;/p>
&lt;p>æˆ‘å€‘å¯ä»¥é€éæ’ä»¶çš„æª”æ¡ˆåç¨±ä¾†æ·»åŠ å¾Œç¶´ &lt;code>.client&lt;/code> æˆ– &lt;code>.server&lt;/code>ï¼Œæ§åˆ¶ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯ä¸­ä½¿ç”¨ã€‚&lt;/p>
&lt;h3 id="vue-æ’ä»¶èˆ‡æŒ‡ä»¤">Vue æ’ä»¶èˆ‡æŒ‡ä»¤&lt;/h3>
&lt;p>é€™è£¡æˆ‘å€‘å˜—è©¦åœ¨ Nuxt 3 ä¸­ä½¿ç”¨ Vue çš„ &lt;a class="link" href="https://github.com/MatteoGabriele/vue-gtag" target="_blank" rel="noopener"
>vue-gtag&lt;/a> æ’ä»¶ï¼Œä¾†æ·»åŠ  Google åˆ†ææ¨™ç±¤ã€‚&lt;/p>
&lt;h3 id="nuxt-3-ä¸­ä½¿ç”¨-vue-gtag-æ’ä»¶">Nuxt 3 ä¸­ä½¿ç”¨ vue-gtag æ’ä»¶&lt;/h3>
&lt;h4 id="step-1-å®‰è£å¥—ä»¶">Step 1. å®‰è£å¥—ä»¶&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D vue-gtag-next
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D vue-gtag-next&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-å»ºç«‹-nuxt-æ’ä»¶">Step 2. å»ºç«‹ Nuxt æ’ä»¶&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>vue-gtag.client.js&lt;/strong> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pluginsvue-gtagclientjs">plugins/vue-gtag.client.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">VueGtag&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-gtag-next&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtPlugin&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vueApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">VueGtag&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">property&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;GA_MEASUREMENT_ID&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="å®Œæˆæ•ˆæœ">å®Œæˆæ•ˆæœ&lt;/h4>
&lt;p>å¯ä»¥çœ‹è¦‹ç€è¦½å™¨å°±å‡ºç¾ä½¿ç”¨ vue-gtag æ’ä»¶ï¼Œå¹«æˆ‘å€‘è‡ªå‹•æ’å…¥èˆ‡é…ç½® script çš„æ•ˆæœå›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186723_d4fd2eee98_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="nuxt-3-ä¸­å»ºç«‹-vue-æŒ‡ä»¤">Nuxt 3 ä¸­å»ºç«‹ Vue æŒ‡ä»¤&lt;/h3>
&lt;p>åœ¨æ’ä»¶ä¸­å¯ä»¥å–å¾— Vue çš„å¯¦ä¾‹ï¼Œæ‰€ä»¥æˆ‘å€‘ä¹Ÿèƒ½åœ¨æ’ä»¶è¨»å†Šè‡ªå®šç¾©çš„æŒ‡ä»¤ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæ–°å¢ &lt;strong>./plugins/directive.js&lt;/strong> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pluginsdirectivejs">plugins/directive.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtPlugin&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vueApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">directive&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;focus&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mounted&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">el&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getSSRProps&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// you can provide SSR-specific props here
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;code>v-focus&lt;/code> é€™å€‹æŒ‡ä»¤ä¾†æ§åˆ¶å…ƒç´ èšç„¦çš„æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964679_7e9f1e5d2c_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>Nuxt è®“æˆ‘å€‘å¯ä»¥å¾ˆè¼•é¬†çš„å»ºç«‹æ’ä»¶ä¸¦é¸æ“‡é…ç½®æ–¼ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯ï¼Œå°æ–¼ä½¿ç”¨ UI æ¡†æ¶æˆ–å…ƒä»¶ï¼Œæ›´èƒ½åœ¨æ’ä»¶ä¸­ç›´æ¥å–å¾—å¯¦ä¾‹ä¾†å®‰è£ Vue çš„æ’ä»¶èˆ‡æŒ‡ä»¤ï¼Œä¸éå‘¢ï¼Œç›®å‰ä¹Ÿæœ‰å€‹ &lt;a class="link" href="https://github.com/nuxt/framework/discussions/1175" target="_blank" rel="noopener"
>RFC&lt;/a> æ­£åœ¨å¾µæ±‚æ„è¦‹æœŸå¾…è®“ Nuxt ä½¿ç”¨ Vue æ’ä»¶å¯ä»¥æ›´æ–¹ä¾¿å®¹æ˜“ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æ¨¡çµ„-modules">æ¨¡çµ„ (Modules)&lt;/h2>
&lt;p>Nuxt æä¾›äº†ä¸€å€‹æ¨¡çµ„ç³»çµ±ä¾†æ“´å±•è‡ªèº«æ¡†æ¶çš„æ ¸å¿ƒï¼Œä¹Ÿç°¡åŒ–äº†æ•´åˆéç¨‹ä¸­éœ€è¦çš„ç¹ç‘£é…ç½®ã€‚ç•¶ä½ æƒ³æ“´å±• Nuxt æˆ– Vue çš„åŠŸèƒ½ï¼Œé›–ç„¶ Nuxt å¯ä»¥é€šéå®‰è£èˆ‡é…ç½®æ’ä»¶é€²è¡ŒåŠŸèƒ½æ“´å±•ï¼Œä½†æ˜¯åœ¨å¤šå€‹å°ˆæ¡ˆæˆ–ä½¿ç”¨ä¸Šå¯èƒ½ç¹ç‘£è€—æ™‚æˆ–é‡è¤‡æ€§å¾ˆé«˜çš„ï¼Œä½†å¦‚æœå¥—ä»¶å·²ç¶“æœ‰é‡å° Nuxt æ¨¡çµ„åšæ•´åˆï¼Œæˆ‘å€‘å°±ä¸å¿…å¾é ­é–‹å§‹é–‹ç™¼æˆ–åƒå®‰è£æ’ä»¶ä¸€æ¨£éœ€è¦å»ºç«‹èˆ‡ç¶­è­·é€™äº›é…ç½®ã€‚&lt;/p>
&lt;h3 id="nuxt-3-ä¸­æ’ä»¶èˆ‡æ¨¡çµ„çš„å·®ç•°">Nuxt 3 ä¸­æ’ä»¶èˆ‡æ¨¡çµ„çš„å·®ç•°&lt;/h3>
&lt;p>Nuxt æ¨¡çµ„èˆ‡ Nuxt æ’ä»¶çš„å·®ç•°åœ¨æ–¼ï¼Œ&lt;code>æ¨¡çµ„è¼‰å…¥åŸ·è¡Œçš„æ™‚é–“é»æ›´æ—©&lt;/code>ï¼Œæ„æ€æ˜¯ Nuxt åœ¨å•Ÿå‹•ä¼ºæœå™¨å¾Œï¼Œé¦–å…ˆæœƒ&lt;code>ä¾åºçš„è¼‰å…¥æ¨¡çµ„ä¸¦åŸ·è¡Œ&lt;/code>ï¼Œæ¥çºŒå»ºç«‹ Nuxt çš„ç’°å¢ƒ (Context) èˆ‡ Vue çš„å¯¦ä¾‹ (Instance)ï¼Œæœ€å¾Œæ‰é–‹å§‹åŸ·è¡Œ Nuxt çš„æ’ä»¶ã€‚&lt;/p>
&lt;p>å› æ­¤ï¼ŒNuxt æ¨¡çµ„å¯ä»¥åšæ›´å¤šçš„äº‹æƒ…ï¼ŒåŒ…å«åœ¨ä½¿ç”¨ &lt;code>nuxi dev&lt;/code>ã€&lt;code>nuxi build&lt;/code> å•Ÿå‹•æˆ–å»ºæ§‹ Nuxt æ™‚ï¼Œå¯ä»¥é€éæ¨¡çµ„ä¾†è¦†è“‹æ¨¡æ¿ã€é…ç½® webpack åŠé…ç½®æ’ä»¶ç­‰è¨±å¤šä»»å‹™ã€‚&lt;/p>
&lt;h3 id="nuxt-3-å®‰è£ä½¿ç”¨æ¨¡çµ„">Nuxt 3 å®‰è£ä½¿ç”¨æ¨¡çµ„&lt;/h3>
&lt;p>Nuxt æ¨¡çµ„æ˜¯ä¸€å€‹å°å‡ºç•°æ­¥å‡½æ•¸çš„ JavaScript æª”æ¡ˆï¼Œç•¶å®‰è£ä½¿ç”¨æ¨¡çµ„æ™‚ï¼Œé€šå¸¸æœƒé…ç½®åœ¨ &lt;code>nuxt.config.ts&lt;/code> æª”æ¡ˆçš„ &lt;code>modules&lt;/code> ä¸­ï¼Œä¾‹å¦‚&lt;a class="link" href="https://wayneblog.ga/2023-01-14/nuxt-try-nuxt3/#%e4%bd%bf%e7%94%a8-nuxt-tailwind-%e6%a8%a1%e7%b5%84" >ä½¿ç”¨ Nuxt Tailwind æ¨¡çµ„&lt;/a> æœƒæ·»åŠ ä¸Š &lt;strong>&amp;rsquo;@nuxtjs/tailwindcss&amp;rsquo;&lt;/strong>ã€‚&lt;/p>
&lt;p>é€šå¸¸æ¨¡çµ„çš„é–‹ç™¼äººå“¡æœƒæä¾›é€™äº›æ¨¡çµ„æ‡‰è©²å¦‚ä½•åœ¨ &lt;strong>modules&lt;/strong> å±¬æ€§ä¾†åšé…ç½®ï¼Œç”šè‡³ä¸€äº›å¯é¸ç”¨çš„åƒæ•¸ä¾†é…ç½®é€™äº›æ¨¡çµ„ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ä½¿ç”¨å¥—ä»¶åç¨± (æ¨è–¦ä½¿ç”¨)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="s1">&amp;#39;@nuxtjs/example&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è¼‰å…¥æœ¬åœ°ç›®éŒ„çš„æ¨¡çµ„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="s1">&amp;#39;./modules/example&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ·»åŠ æ¨¡çµ„çš„é¸é …åƒæ•¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;./modules/example&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">token&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;123&amp;#39;&lt;/span> &lt;span class="p">}]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨è¡Œå…§å®šç¾©æ¨¡çµ„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">inlineOptions&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">nuxt&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="nuxt-3-æ¨¡çµ„åˆ—è¡¨">Nuxt 3 æ¨¡çµ„åˆ—è¡¨&lt;/h3>
&lt;p>ä½ å¯ä»¥åœ¨ &lt;a class="link" href="https://nuxt.com/modules" target="_blank" rel="noopener"
>Explore Nuxt Modules&lt;/a> ä¸Šå°‹æ‰¾ç”± Nuxt å®˜æ–¹æˆ–ç¤¾ç¾¤ç”Ÿæ…‹æ‰€ç™¼å±•å»ºç½®çš„æ¨¡çµ„ï¼ŒNuxt çš„æ¨¡çµ„é€šå¸¸éµå¾ªè‘—å®˜æ–¹æŒ‡å—æ‰€è£½ï¼Œä½¿ç”¨æ™‚åªéœ€è¦å®‰è£èˆ‡æ·»åŠ è‡³ &lt;strong>nuxt.config&lt;/strong> ä¸­ï¼ŒåŸºæœ¬ä¸Šå°±èƒ½å®Œæˆé…ç½®ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨-nuxt-icon-æ¨¡çµ„">ä½¿ç”¨ Nuxt Icon æ¨¡çµ„&lt;/h3>
&lt;p>Nuxt Icon æ¨¡çµ„æ•´åˆäº† Iconify æä¾›å¤šé” 100,000 å€‹ä»¥ä¸Šçš„ Icon åœ–ç¤ºï¼Œåªè¦åœ¨ Nuxt ä¸­å®‰è£å¾Œï¼Œæˆ‘å€‘å°±å¯ä»¥ç›´æ¥åšä½¿ç”¨ã€‚&lt;/p>
&lt;h4 id="step-1-å®‰è£å¥—ä»¶-1">Step 1. å®‰è£å¥—ä»¶&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D nuxt-icon
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D nuxt-icon&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-é…ç½®ä½¿ç”¨æ¨¡çµ„">Step 2. é…ç½®ä½¿ç”¨æ¨¡çµ„&lt;/h4>
&lt;p>åœ¨ &lt;strong>nuxt.config.ts&lt;/strong> ä¸­çš„ &lt;strong>modules&lt;/strong> å±¬æ€§ï¼Œæ·»åŠ  Nuxt Icon æ¨¡çµ„çš„åç¨± &lt;code>nuxt-icon&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;nuxt-icon&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-é–‹å§‹ä½¿ç”¨">Step 3. é–‹å§‹ä½¿ç”¨&lt;/h4>
&lt;p>ä¾ç…§èªªæ˜ï¼Œæˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨ Nuxt Icon æ¨¡çµ„ï¼Œç‚ºæˆ‘å€‘æ‰€æ·»åŠ çš„å…ƒä»¶ &lt;code>&amp;lt;Icon&amp;gt;&lt;/code>ï¼Œé€™å€‹ Icon å…ƒä»¶å¯ä»¥å‚³å…¥ &lt;strong>name&lt;/strong> å±¬æ€§ï¼Œä»¥æ­¤ä¾†é¡¯ç¤ºä¸åŒçš„ Icon åœ–ç¤ºï¼Œ&lt;strong>size&lt;/strong> å‰‡å¯ä»¥æ§åˆ¶åœ–ç¤ºçš„å¤§å°ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex justify-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Icon&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;logos:nuxt&amp;#34;&lt;/span> &lt;span class="na">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;360&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186748_8c9b770823_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="å¦‚ä½•å»ºç«‹-nuxt-æ¨¡çµ„">å¦‚ä½•å»ºç«‹ Nuxt æ¨¡çµ„&lt;/h3>
&lt;p>&lt;a class="link" href="https://nuxt.com/docs/api/advanced/kit" target="_blank" rel="noopener"
>Nuxt Kit&lt;/a> æ˜¯ Nuxt å®˜æ–¹æä¾›çš„ä¸€å€‹æ¨™æº–å’Œæ–¹ä¾¿çš„ API ä¾†å®šç¾© Nuxt æ¨¡çµ„ã€‚&lt;/p>
&lt;p>é€šå¸¸ä½¿ç”¨å¦‚ä¸‹ç¨‹å¼ç¢¼ä½¿ç”¨ &lt;code>defineNuxtModule&lt;/code> æ–¹æ³•ä¾†å»ºç«‹ä¸€å€‹æ¨¡çµ„ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineNuxtModule&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@nuxt/kit&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtModule&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">meta&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¨¡çµ„çš„åç¨±ï¼Œé€šå¸¸ä¹Ÿæœƒå°æ‡‰ NPM ç™¼å¸ƒçš„å¥—ä»¶åç¨±
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;@nuxtjs/example&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å¦‚æœæœ‰é…ç½®é€™å€‹æ¨¡çµ„çš„ä¸€äº›é¸é …ï¼Œæœƒå°‡å…¶ä¿å­˜åœ¨é€™å€‹è¨­å®šéµå€¼ä¸‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">configKey&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;sample&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç›¸å®¹æ€§é™åˆ¶ `nuxt.config`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">compatibility&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç‚ºäº†æ§åˆ¶æ¨¡çµ„çš„ç‰ˆæœ¬ç›¸å®¹æ€§ï¼Œé€šå¸¸æœƒåœ¨é€™è£¡é…ç½® Nuxt ç‰ˆæœ¬çš„éœ€æ±‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">nuxt&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;^3.0.0&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¨¡çµ„é è¨­çš„é¸é …
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">defaults&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hooks&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">async&lt;/span> &lt;span class="nx">setup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">moduleOptions&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">nuxt&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Nuxt å•Ÿå‹•è¼‰å…¥æ¨¡çµ„å¾Œï¼Œæ¨¡çµ„æ‰€åŸ·è¡Œçš„é‚è¼¯æœƒåœ¨é€™è£¡å¯¦ä½œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ›´å¤š Nuxt æ¨¡çµ„çš„å»ºç«‹æŒ‡å—å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://nuxt.com/docs/guide/going-further/modules" target="_blank" rel="noopener"
>Nuxt 3 - Module Author Guide&lt;/a>ï¼Œé€™é‚Šå°±ä¸å†è´…è¿°ï¼Œç•¢ç«Ÿæˆ‘å€‘æ¯”è¼ƒå¸¸ç‚ºæ¨¡çµ„çš„ä½¿ç”¨è€…ã€‚&lt;/p>
&lt;h3 id="æ¨¡çµ„çš„è¼‰å…¥">æ¨¡çµ„çš„è¼‰å…¥&lt;/h3>
&lt;p>å‰é¢æˆ‘å€‘ä½¿ç”¨äº† Nuxt Icon æ¨¡çµ„ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥é–±è®€ä¸€ä¸‹ &lt;a class="link" href="https://github.com/nuxt-modules/icon/tree/v0.1.6" target="_blank" rel="noopener"
>Nuxt Icon v0.1.6&lt;/a> æ¨¡çµ„å¥—ä»¶çš„åŸå§‹ç¢¼ã€‚&lt;/p>
&lt;p>ä»¥ä¸‹æ˜¯ Nuxt Icon æ¨¡çµ„çš„ &lt;a class="link" href="https://github.com/nuxt-modules/icon/blob/v0.1.6/src/module.ts" target="_blank" rel="noopener"
>module.ts&lt;/a> æª”æ¡ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtModule&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ModuleOptions&lt;/span>&lt;span class="p">&amp;gt;({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">meta&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;nuxt-icon&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">configKey&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;icon&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">compatibility&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nuxt&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;^3.0.0-rc.9&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">defaults&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">_options&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">nuxt&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">resolve&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">createResolver&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">import&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">meta&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">addComponent&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Icon&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">filePath&lt;/span>: &lt;span class="kt">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./runtime/Icon.vue&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Nuxt çš„æ¨¡çµ„ä½¿ç”¨äº†ä¸€å€‹ &lt;code>defineNuxtModule&lt;/code> æ–¹æ³•ä¾†å®šç¾©æ¨¡çµ„ï¼Œä¹Ÿå¯ä»¥è¦–ç‚ºæ¨¡çµ„çš„å…¥å£é»ï¼Œ&lt;code>meta.name&lt;/code> å°æ‡‰çš„å°±æ˜¯æ¨¡çµ„çš„åç¨±ï¼Œä¹Ÿæ˜¯æˆ‘å€‘æ·»åŠ è‡³ &lt;code>modules&lt;/code> å±¬æ€§æ‰€éœ€è¦çš„æ¨¡çµ„åç¨±ã€‚&lt;/p>
&lt;p>&lt;code>setup&lt;/code> å°±æ˜¯æ¨¡çµ„è¼‰å…¥å¾ŒåŸ·è¡Œçš„å‡½æ•¸ï¼Œå¯ä»¥çœ‹åˆ°æ¨¡çµ„ä½¿ç”¨ &lt;code>addComponent&lt;/code> ç‚ºæˆ‘å€‘ Nuxt æ·»åŠ äº†ä¸€å€‹å…ƒä»¶åç¨±ç‚º &lt;strong>Icon&lt;/strong>ï¼Œä½¿ç”¨çš„å…ƒä»¶æª”æ¡ˆä¾†è‡ª &lt;strong>./runtime/Icon.vue&lt;/strong>ã€‚&lt;/p>
&lt;p>æ¨¡çµ„ä¸­çš„ &lt;a class="link" href="https://github.com/nuxt-modules/icon/blob/v0.1.6/src/runtime/Icon.vue" target="_blank" rel="noopener"
>runtime/Icon.vue&lt;/a> ç‚ºæˆ‘å€‘å°è£äº† Iconify åœ–ç¤ºçš„ä½¿ç”¨é‚è¼¯ä»¥åŠå–å¾— Nuxt é…ç½®çš„åƒæ•¸ç­‰ã€‚&lt;/p>
&lt;p>é€éæ¨¡çµ„æˆ‘å€‘å¯ä»¥çœå»é€™äº›ç¹ç‘£çš„å°è£èˆ‡é…ç½®ï¼Œåªéœ€è¦å°ˆæ³¨åœ¨é…ç½®æ¨¡çµ„èˆ‡é–‹ç™¼ä¸Šé¢ã€‚&lt;/p>
&lt;p>æ¨¡çµ„èˆ‡æ’ä»¶å…¶å¯¦é‚„æ˜¯å­˜åœ¨è‘—è¼‰å…¥åŸ·è¡Œé †åºèˆ‡ä½¿ç”¨æƒ…å¢ƒä¸Šçš„å·®ç•°æ€§ï¼Œä»¥ Nuxt ä¾†èªªï¼Œé€šå¸¸ Nuxt çš„æ’ä»¶æœƒæ˜¯ç”¨ä¾†å°è£åŠä½¿ç”¨ Vue ä¸­æœƒä½¿ç”¨åˆ°çš„æ’ä»¶èˆ‡æˆ–å¥—ä»¶ï¼›è€Œ Nuxt çš„æ¨¡çµ„ï¼Œæœƒå°‡éœ€è¦ç¹ç‘£é…ç½®çš„å¥—ä»¶æˆ–æ’ä»¶ä¾†èˆ‡ Nuxt é€²è¡Œæ•´åˆèˆ‡å°è£ï¼Œä¸è«–æ˜¯é€éç¬¬ä¸‰æ–¹æ’ä»¶æˆ–æ¨¡çµ„ï¼Œé€™éƒ½å°‡ä½¿ Nuxt åœ¨é–‹ç™¼èˆ‡æ“´å……ä¸Šæ“æœ‰æ›´å¤šçš„å¯èƒ½æ€§ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä¸­é–“ä»¶ç›®éŒ„-middleware-directory">ä¸­é–“ä»¶ç›®éŒ„ (Middleware Directory)&lt;/h2>
&lt;p>åœ¨ Vue çš„å°ˆæ¡ˆå…§æˆ‘å€‘çš„é é¢é€šå¸¸ç”± Vue Router ä¾†æ§åˆ¶è·¯ç”±åŠå°èˆªï¼ŒVue Router æä¾›äº†å°èˆªå®ˆè¡› (Navigation Guards) çš„ Hook APIï¼Œè®“æˆ‘å€‘å¯ä»¥åœ¨å…¨åŸŸã€è·¯ç”±ç”šè‡³æ˜¯å…ƒä»¶ä¸­ï¼Œä¾†æ§åˆ¶è·¯ç”±è·³è½‰æˆ–å–æ¶ˆçš„æ–¹å¼ä¾†å®ˆè­·æˆ‘å€‘çš„è·¯ç”±ï¼Œä¸è®“å…¶éš¨æ„å°èˆªè‡³ç‰¹å®šé é¢ã€‚Nuxt 3 æä¾›äº†ä¸€å€‹ä¸­é–“ä»¶çš„ç›®éŒ„ï¼Œè®“æˆ‘å€‘å¯ä»¥è£½ä½œè·¯ç”±çš„ä¸­é–“ä»¶ï¼Œä¾†å¯¦ä½œå‡ºé¡ä¼¼å°èˆªå®ˆè¡›çš„æ•ˆæœã€‚&lt;/p>
&lt;h3 id="vue-router-çš„å°èˆªå®ˆè¡›-navigation-guards">Vue Router çš„å°èˆªå®ˆè¡› (Navigation Guards)&lt;/h3>
&lt;p>å°èˆªå®ˆè¡›å°±æ˜¯åœ¨è¨ªå•é é¢ä¹‹å‰ï¼Œæœƒæ””æˆªä½ çš„è·¯ç”±è«‹æ±‚ä¸¦åŸ·è¡Œè‡ªè¨‚çš„é©—è­‰é‚è¼¯ï¼Œä¾æ“šé©—è­‰çš„æˆåŠŸèˆ‡å¦ï¼Œå‡†äºˆæ”¾è¡Œè·³è½‰è‡³è·¯ç”±é é¢ï¼ŒæŠ‘æˆ–æ˜¯å–æ¶ˆè¨ªå•è©²è·¯ç”±ï¼Œå†ä¾ç…§ä¸åŒè™•ç†æ–¹å¼é€²è¡Œä¸­æ–·æˆ–é‡å°å‘è‡³ç‰¹å®šè·¯ç”±é é¢ã€‚&lt;/p>
&lt;p>å°èˆªå®ˆè¡›åœ¨å¯¦å‹™ä¸Šå¸¸è¦‹çš„ä½¿ç”¨æƒ…å¢ƒï¼Œå°±æ˜¯æ‹¿ä¾†åšé é¢è¨ªå•çš„æ¬Šé™é©—è­‰ï¼Œä¾‹å¦‚ï¼Œåªæœ‰ç®¡ç†å“¡æ‰èƒ½è¨ªå• &lt;code>/admin&lt;/code> è·¯ç”±ä¸‹çš„é é¢ï¼Œæˆ‘å€‘å¯èƒ½å°±æœƒæ·»åŠ æ””æˆªçš„ hook ä¾†é©—è­‰ä½¿ç”¨è€…æ˜¯å¦ç™»å…¥åŠå¤¾å¸¶çš„ Token æˆ– Role æ˜¯å¦æœ‰æ¬Šé™å¯ä»¥ç€è¦½ï¼Œå¦‚æœé©—è­‰æˆåŠŸå°±å‡†äºˆç€è¦½ç®¡ç†å“¡ç›¸é—œé é¢ï¼Œå¦å‰‡ï¼Œå°‡è·¯ç”±é é¢å°å›è‡³é¦–é ã€ç™»å…¥é æˆ–éŒ¯èª¤é é¢ï¼Œå¦‚åŒä¸€å€‹å®ˆè¡›åœ¨è·¯ç”±ä¹‹é–“é€²è¡ŒæŠŠé—œé©—è­‰æ¬Šé™ã€‚&lt;/p>
&lt;p>æˆ‘å€‘ä»¥ Vue Route v4 ä¾†èˆ‰ä¾‹ï¼ŒVue Route æä¾›äº†ä»¥ä¸‹ä¸‰ç¨®æƒ…æ³ä¸‹å¯ä»¥ä½¿ç”¨çš„ hookï¼Œåˆ†åˆ¥æ˜¯åœ¨å…¨åŸŸã€è·¯ç”±æˆ–æ˜¯å…ƒä»¶ä¸­ï¼š&lt;/p>
&lt;h3 id="å…¨åŸŸ">å…¨åŸŸ&lt;/h3>
&lt;h4 id="å…¨åŸŸå‰ç½®å®ˆè¡›-global-before-guards">å…¨åŸŸå‰ç½®å®ˆè¡› (Global Before Guards)&lt;/h4>
&lt;p>ç•¶å…¨åŸŸå®ˆè¡› hook æ·»åŠ å¥½ä¹‹å¾Œï¼Œæ¯æ¬¡å°èˆªè‡³ä¸åŒè·¯ç”±æ™‚ï¼Œéƒ½æœƒæ””æˆªä»¥ç•°æ­¥çš„æ–¹å¼åŸ·è¡Œç›¸å°æ‡‰çš„è™•ç†é‚è¼¯ã€‚&lt;/p>
&lt;p>å…¨åŸŸå®ˆè¡›æä¾›äº† &lt;code>router.beforeEach()&lt;/code> hook å¯ä»¥åœ¨é€²å…¥ä»»ä½•ä¸€å€‹è·¯ç”±å‰é€²è¡Œæ””æˆªè™•ç†ï¼Œç•¶å°èˆªè§¸ç™¼æ™‚å°±æœƒä¾ç…§å»ºç«‹çš„é †åºåšå‘¼å«ï¼Œå› ç‚ºæ˜¯ç•°æ­¥å‡½æ•¸è§£æåŸ·è¡Œï¼Œæ‰€ä»¥åœ¨æ‰€æœ‰çš„å®ˆè¡› &lt;strong>resolve&lt;/strong> ä¹‹å‰ï¼Œæœƒä¸€ç›´è™•æ–¼ &lt;strong>pending&lt;/strong> çš„ç‹€æ…‹ã€‚&lt;/p>
&lt;h4 id="å…¨åŸŸè§£æå®ˆè¡›-global-resolve-guards">å…¨åŸŸè§£æå®ˆè¡› (Global Resolve Guards)&lt;/h4>
&lt;p>è€ŒåŒæ¨£å±¬æ–¼å…¨åŸŸå®ˆè¡›çš„ &lt;code>router.beforeResolve()&lt;/code> hook æœƒåœ¨æ‰€æœ‰å…ƒä»¶å…§çš„å°èˆªå®ˆè¡›ã€è·¯ç”±éƒ½è¢«è§£æåŠåŸ·è¡Œå®Œç•¢å¾Œæ‰åŸ·è¡Œï¼Œä¹Ÿå°±æ˜¯èªªé€™å€‹ &lt;code>router.beforeResolve()&lt;/code> å‘¼å«çš„æ™‚é–“é»æ™šæ–¼ &lt;code>router.beforeEach()&lt;/code>ã€‚&lt;/p>
&lt;h4 id="å…¨åŸŸå¾Œç½®-hooks-global-after-hooks">å…¨åŸŸå¾Œç½® Hooks (Global After Hooks)&lt;/h4>
&lt;p>èˆ‡ &lt;code>router.beforeEach()&lt;/code> hook ç›¸åï¼Œå…¨åŸŸå¾Œç½® hooks æä¾›çš„ &lt;code>router.afterEach()&lt;/code> Hook æœƒæ˜¯åœ¨è·¯ç”±è·³è½‰çµæŸå¾Œæ‰è§¸ç™¼ï¼Œåœ¨é€™è£¡è·¯ç”±å·²ç¶“å®Œæˆè·³è½‰ï¼Œè·¯ç”±æœ¬èº«ä¹Ÿä¸æœƒå†è¢«æ›´å‹•ï¼Œé€™å€‹ hook é€šå¸¸ç”¨æ–¼åˆ†æé¡æˆ–è¨­ç½®é é¢ç›¸é—œçš„è³‡è¨Šç­‰è¼”åŠ©å‹çš„åŠŸèƒ½å¾ˆæœ‰å¹«åŠ©ã€‚&lt;/p>
&lt;h3 id="è·¯ç”±ç¨æœ‰å®ˆè¡›-per-route-guard">è·¯ç”±ç¨æœ‰å®ˆè¡› (Per-Route Guard)&lt;/h3>
&lt;p>èˆ‡ &lt;strong>router.beforeEach()&lt;/strong> ä¸åŒï¼Œæˆ‘å€‘å¯ä»¥ç‚ºæ¯ä¸€å€‹è·¯ç”±æ·»åŠ  &lt;code>beforeEnter()&lt;/code> hookï¼Œä¾†é”åˆ°æ¯ä¸€å€‹è·¯ç”±é é¢æœ‰ä¸åŒçš„åŸ·è¡Œæ–¹æ³•ï¼ŒåŒæ™‚ä¹Ÿåªæœƒåœ¨ä¸åŒçš„è·¯ç”±å°èˆªä¸­åˆ‡æ›æ‰æœƒè§¸ç™¼ã€‚&lt;/p>
&lt;h3 id="å…ƒä»¶å…§çš„å®ˆè¡›">å…ƒä»¶å…§çš„å®ˆè¡›&lt;/h3>
&lt;p>åœ¨å…ƒä»¶çš„å…§éƒ¨ä¸­ï¼Œä¹Ÿæä¾›ä¸‰ç¨® hooks åˆ†åˆ¥ç‚ºï¼š&lt;/p>
&lt;ul>
&lt;li>beforeRouteEnter(): åœ¨è·¯ç”±é€²å…¥ä¸¦æ¸²æŸ“é€™å€‹å…ƒä»¶ä¹‹å‰å‘¼å«ï¼Œæ‰€ä»¥é‚„æ²’æœ‰å…ƒä»¶çš„å¯¦é«”å¯ä»¥æ“ä½œä½¿ç”¨ã€‚&lt;/li>
&lt;li>beforeRouteUpdate(): ç›®å‰çš„è·¯ç”±æ”¹è®Šï¼Œè€Œä¸”é‚„è™•æ–¼åŒä¸€å€‹å…ƒä»¶ä¸­æ™‚å‘¼å«ã€‚&lt;/li>
&lt;li>beforeRouteLeave(): ç•¶å°èˆªæº–å‚™é›¢é–‹æ™‚ä¸”æ²’æœ‰ä½¿ç”¨åˆ°é€™å€‹å…ƒä»¶æ™‚å‘¼å«ã€‚&lt;/li>
&lt;/ul>
&lt;p>å°èˆªå®ˆè¡› (Navigation Guards) åœ¨å°èˆªå‡ºç™¼å¾Œçš„ hook è§¸ç™¼é †åºå¦‚ä¸‹åœ–ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698461_6a2572bcab_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="nuxt-3-è·¯ç”±ä¸­é–“ä»¶">Nuxt 3 è·¯ç”±ä¸­é–“ä»¶&lt;/h2>
&lt;p>Nuxt 3 ä¸­æä¾›äº†ä¸€å€‹è·¯ç”±ä¸­é–“ä»¶çš„æ¡†æ¶ï¼Œæˆ‘å€‘å¯ä»¥åœ¨å°ˆæ¡ˆä¸‹å»ºç«‹åç‚º &lt;code>middleware&lt;/code> ç›®éŒ„ï¼Œåœ¨é€™å€‹ç›®éŒ„ä¸‹æˆ‘å€‘å¯ä»¥å»ºç«‹ä¸­é–“ä»¶ï¼Œä¸¦è®“æ•´å€‹ Nuxt é é¢æˆ–ç‰¹å®šçš„è·¯ç”±åšä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨é é¢ä¸­æ·»åŠ ï¼Œé€™å€‹ä¸­é–“ä»¶å¯ä»¥ç†è§£ç‚º Vue Router ä¸­çš„å°èˆªå®ˆè¡› (Navigation Guards)ï¼ŒåŒæ¨£æœ‰ &lt;code>to&lt;/code> èˆ‡ &lt;code>from&lt;/code> åƒæ•¸ç”¨ä»¥åœ¨å°èˆªè‡³ç‰¹å®šè·¯ç”±ä¹‹å‰é©—è­‰æ¬Šé™æˆ–åŸ·è¡Œå•†æ¥­é‚è¼¯ç­‰ã€‚&lt;/p>
&lt;h3 id="è·¯ç”±ä¸­é–“ä»¶æ ¼å¼">è·¯ç”±ä¸­é–“ä»¶æ ¼å¼&lt;/h3>
&lt;p>ç•¶æˆ‘å€‘æƒ³è¦å»ºç«‹è·¯ç”±ä¸­é–“ä»¶æ™‚ï¼Œå¯ä»¥åœ¨ Nuxt å°ˆæ¡ˆçš„ &lt;code>middleware&lt;/code> ç›®éŒ„ä¸‹å»ºç«‹æª”æ¡ˆï¼Œä¸¦é è¨­åŒ¯å‡ºä¸€å€‹ç”± &lt;code>defineNuxtRouteMiddleware()&lt;/code> å®šç¾©çš„å‡½æ•¸ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtRouteMiddleware&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">from&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">abortNavigation&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">navigateTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è·¯ç”±ä¸­é–“ä»¶èƒ½æ¥æ”¶ç›®å‰çš„è·¯ç”± &lt;code>to&lt;/code> èˆ‡ä¸‹ä¸€å€‹è·¯ç”± &lt;code>from&lt;/code> åšç‚ºåƒæ•¸ï¼Œå¦‚åŒ Vue Router çš„å°èˆªå®ˆè¡›ï¼Œä»¥æ­¤æˆ‘å€‘å°±å¯ä»¥ä¾†åšä¸€äº›åˆ¤æ–·èˆ‡é©—è­‰æ“ä½œã€‚&lt;/p>
&lt;h3 id="è·¯ç”±ä¸­é–“ä»¶çš„å›å‚³">è·¯ç”±ä¸­é–“ä»¶çš„å›å‚³&lt;/h3>
&lt;p>Nuxt æä¾›äº†å…©å€‹å…¨åŸŸçš„ helpersï¼Œå¯ä»¥ç›´æ¥å¾ä¸­é–“ä»¶å›å‚³ï¼š&lt;/p>
&lt;h4 id="navigatetoto-options">navigateTo(to, options)&lt;/h4>
&lt;p>åœ¨æ’ä»¶æˆ–ä¸­é–“ä»¶ä¸­é‡æ–°å®šå‘åˆ°çµ¦å®šçš„è·¯ç”±ã€‚ä¹Ÿå¯ä»¥ç›´æ¥å‘¼å«å®ƒé€²è¡Œé é¢å°èˆªã€‚&lt;/p>
&lt;p>navigateTo åƒæ•¸ä¾åºç‚ºï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>to&lt;/strong>ï¼š RouteLocationRaw | undefined | null&lt;/li>
&lt;li>&lt;strong>options&lt;/strong>ï¼š { replace: boolean, redirectCode: number, external: boolean }&lt;/li>
&lt;/ul>
&lt;h4 id="abortnavigationerr">abortNavigation(err)&lt;/h4>
&lt;p>å¯ä»¥åœ¨ä¸­é–“ä»¶ä¸­å›å‚³ &lt;code>abortNavigation()&lt;/code> ä¾†ä¸­æ­¢å°èˆªï¼Œä¸¦å¯ä»¥é¸æ“‡æ˜¯å¦å‚³å…¥éŒ¯èª¤è¨Šæ¯ã€‚&lt;/p>
&lt;p>abortNavigation åƒæ•¸ç‚ºï¼š&lt;/p>
&lt;blockquote>
&lt;p>err?: string | Error&lt;/p>
&lt;/blockquote>
&lt;p>èˆ‡ Vue Router ä¸­çš„å°èˆªå®ˆè¡›ç¨æœ‰ä¸åŒï¼Œåœ¨ Nuxt çš„ä¸­é–“ä»¶ä¸­å¯ä»¥ä½¿ç”¨ &lt;code>navigateTo&lt;/code> èˆ‡ &lt;code>abortNavigation&lt;/code> ä¾†æ±ºå®šå°èˆªè‡³æ–°çš„è·¯ç”±æˆ–çµ‚æ­¢å°èˆªï¼Œå¦‚æœä¸­é–“ä»¶æ²’æœ‰å›å‚³ä»»ä½•æ±è¥¿ï¼Œå‰‡è¡¨ç¤ºä¸é˜»å¡å°èˆªï¼Œå¦‚æœæœ‰ä¸‹ä¸€å€‹ä¸­é–“ä»¶ï¼Œå‰‡è€Œç§»å¾€ä¸‹ä¸€å€‹åŠŸèƒ½åšåŸ·è¡Œï¼Œæˆ–è€…å®Œæˆè·¯ç”±å°èˆªã€‚&lt;/p>
&lt;ul>
&lt;li>nothing - ä¸é˜»å¡å°èˆªä¸¦ä¸”æœƒç§»å‹•åˆ°ä¸‹ä¸€å€‹ä¸­é–“ä»¶åŠŸèƒ½ã€‚&lt;/li>
&lt;li>å¦‚æœæœ‰çš„è©±ï¼Œæˆ–è€…å®Œæˆè·¯ç”±å°èˆª return navigateTo(&amp;rsquo;/&amp;rsquo;) æˆ– return navigateTo({ path: &amp;lsquo;/&amp;rsquo; }) - é‡å®šå‘åˆ°çµ¦å®šè·¯å¾‘ã€‚&lt;/li>
&lt;/ul>
&lt;p>å¦‚æœä½¿ç”¨ &lt;code>navigateTo()&lt;/code> é‡å®šå‘æ˜¯ç™¼ç”Ÿåœ¨ä¼ºæœå™¨ç«¯ ï¼Œå‰‡å°‡ HTTP Status Code è¨­ç½®ç‚º&lt;code>æš«æ™‚&lt;/code>é‡å®šå‘ç‹€æ…‹ç¢¼ &lt;strong>302 Found&lt;/strong>ã€‚&lt;/p>
&lt;p>å¦‚æœä½¿ç”¨ &lt;code>navigateTo()&lt;/code> ä¸¦å¤¾å…¥ &lt;code>options.redirectCode&lt;/code> å±¬æ€§ï¼Œä¾‹å¦‚ &lt;code>return navigateTo('/', { redirectCode: 301 })&lt;/code>ï¼Œç™¼ç”Ÿçš„é‡å®šå‘åœ¨ä¼ºæœå™¨ç«¯ï¼Œå°‡ HTTP Status Code è¨­ç½®ç‚º&lt;code>æ°¸ä¹…&lt;/code>é‡å®šå‘ç‹€æ…‹ç¢¼ &lt;strong>301 Moved Permanently&lt;/strong>ã€‚&lt;/p>
&lt;h3 id="è·¯ç”±ä¸­é–“ä»¶çš„ç¨®é¡">è·¯ç”±ä¸­é–“ä»¶çš„ç¨®é¡&lt;/h3>
&lt;p>åœ¨ Nuxt ä¸­è·¯ç”±ä¸­é–“ä»¶åˆ†ç‚ºä»¥ä¸‹ä¸‰ç¨®ï¼š&lt;/p>
&lt;h4 id="åŒ¿åæˆ–è€…æ˜¯è¡Œå…§çš„è·¯ç”±ä¸­é–“ä»¶">åŒ¿åæˆ–è€…æ˜¯è¡Œå…§çš„è·¯ç”±ä¸­é–“ä»¶&lt;/h4>
&lt;p>ä¸éœ€è¦å»ºç«‹æª”æ¡ˆï¼Œé€šå¸¸åœ¨è·¯ç”±é é¢ä¸­ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†å®šç¾©çš„ä¸­é–“ä»¶ï¼Œå°±å±¬æ–¼é€™ç¨®é¡å‹ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œç›´æ¥å®šç¾©ä¸€å€‹åŒ¿åçš„ä¸­é–“ä»¶åœ¨é é¢å…ƒä»¶ä¸­ä½¿ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">middleware&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">defineNuxtRouteMiddleware&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[åŒ¿åä¸­é–“ä»¶] æˆ‘æ˜¯ç›´æ¥å®šç¾©åœ¨é é¢å…§çš„åŒ¿åä¸­é–“ä»¶`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="å…·åçš„è·¯ç”±ä¸­é–“ä»¶">å…·åçš„è·¯ç”±ä¸­é–“ä»¶&lt;/h4>
&lt;p>åœ¨ &lt;code>middleware&lt;/code> ç›®éŒ„ä¸‹æ‰€å»ºç«‹çš„ä¸­é–“ä»¶ï¼Œç•¶åœ¨é é¢ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†æŒ‡å®šä½¿ç”¨å…·åçš„ä¸­é–“ä»¶æ™‚ï¼Œå°‡é€éç•°æ­¥ä¾†è‡ªå‹•è¼‰å…¥ã€‚å…·åçš„è·¯ç”±çš„åç¨±è¢«è¦ç¯„ç‚ºæ˜¯çƒ¤è‚‰ä¸²å¼ (Kebab case) å‘½åã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œå»ºç«‹ä¸€å€‹ &lt;strong>./middleware/random-redirect.js&lt;/strong> ä¸­é–“ä»¶æª”æ¡ˆï¼š&lt;/p>
&lt;h5 id="middlewarerandom-redirectjs">middleware/random-redirect.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtRouteMiddleware&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[ä¾†è‡ª random-redirect ä¸­é–“ä»¶] é‡æ–°å°å‘è‡³ /haha`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">navigateTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/haha&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[ä¾†è‡ª random-redirect ä¸­é–“ä»¶] æ²’ç™¼ç”Ÿä»€éº¼ç‰¹åˆ¥çš„äº‹æƒ…ï½`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘è¦ä½¿ç”¨é€™å€‹ä¸­é–“ä»¶æ™‚ï¼Œå¯ä»¥åœ¨é é¢ä¸­ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¸¦å‚³å…¥ &lt;code>middleware&lt;/code> å±¬æ€§ï¼Œä¾†æ·»åŠ è·¯ç”±ä¸­é–“ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">middleware&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;random-redirect&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœä¸­é–“ä»¶æœ‰å¤šå€‹ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨é™£åˆ—ä¾†å‚³å…¥å¤šå€‹ä¸­é–“ä»¶ï¼Œä¸¦ä¸”æœƒä¾åºåŸ·è¡Œé€™äº›è·¯ç”±ä¸­é–“ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">middleware&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;random-redirect&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;other&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘åœ¨é é¢ä¸­æ·»åŠ é€™å€‹ä¸­é–“ä»¶å¾Œï¼Œåœ¨åˆ‡æ›åˆ°é€™å€‹è·¯ç”±é é¢æ™‚ï¼Œç´„æœ‰ä¸€åŠçš„æ©Ÿæœƒï¼Œæœƒè¢«å°èˆªè‡³ &lt;strong>/haha&lt;/strong> é é¢ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186763_d4ff53ce17_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="å…¨åŸŸçš„è·¯ç”±ä¸­é–“ä»¶">å…¨åŸŸçš„è·¯ç”±ä¸­é–“ä»¶&lt;/h4>
&lt;p>åœ¨å…·åçš„ä¸­é–“ä»¶çš„æª”åæ·»åŠ å¾Œç¶´ &lt;code>.global&lt;/code>ï¼Œå¦‚ &lt;strong>auth.global.js&lt;/strong>ï¼Œé€™å€‹è·¯ç”±ä¸­é–“ä»¶å°‡æœƒè¢«è‡ªå‹•è¼‰å…¥ï¼Œä¸¦åœ¨æ¯æ¬¡å°èˆªè®Šæ›´æ™‚è‡ªå‹•åŸ·è¡Œã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘å»ºç«‹ä¸€å€‹ &lt;strong>./middleware/always-run.global.js&lt;/strong> ä¸­é–“ä»¶æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="middlewarealways-runglobaljs">middleware/always-run.global.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtRouteMiddleware&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">from&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[å…¨åŸŸä¸­é–“ä»¶] to: &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">, from: &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹å…¨åŸŸçš„è·¯ç”±ä¸­é–“ä»¶ï¼Œå°‡æœƒåœ¨æ¯ä¸€æ¬¡å°èˆªåˆ‡æ›é é¢æ™‚åŸ·è¡Œã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617134335_bac452e9f6_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="å‹•æ…‹æ·»åŠ è·¯ç”±ä¸­é–“ä»¶">å‹•æ…‹æ·»åŠ è·¯ç”±ä¸­é–“ä»¶&lt;/h4>
&lt;p>ä½ å¯ä»¥ä½¿ç”¨ &lt;code>addRouteMiddleware()&lt;/code> è¼”åŠ©å‡½æ•¸ä¾†æ‰‹å‹•æ·»åŠ å…¨åŸŸæˆ–å‘½åè·¯ç”±ä¸­é–“ä»¶ï¼Œä¾‹å¦‚åœ¨æ’ä»¶ä¸­ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtPlugin&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">addRouteMiddleware&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;global-test&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é€™å€‹æ˜¯ç”±æ’ä»¶æ·»åŠ çš„å…¨åŸŸä¸­é–“ä»¶ï¼Œä¸¦å°‡åœ¨æ¯æ¬¡è·¯ç”±è®Šæ›´æ™‚åŸ·è¡Œ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">addRouteMiddleware&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;named-test&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é€™å€‹æ˜¯ç”±æ’ä»¶æ·»åŠ çš„å…·åä¸­é–“ä»¶ï¼Œä¸¦å°‡æœƒè¦†è“‹ä»»ä½•ç¾æœ‰çš„åŒåä¸­é–“ä»¶&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ Nuxt ä¸­æˆ‘å€‘å¯ä»¥ä½¿ç”¨æ‰€æä¾›çš„ä¸­é–“ä»¶æ¡†æ¶ï¼Œä¾†å»ºç«‹è·¯ç”±é é¢ä¸­çš„ä¸­é–“ä»¶ï¼Œè€Œè·¯ç”±ä¸­é–“ä»¶æœƒåœ¨åˆ°ç‰¹å®šè·¯ç”±ä¹‹å‰åŸ·è¡Œæƒ³è¦é‹è¡Œçš„é‚è¼¯ï¼Œå°æ–¼é©—è­‰æ¬Šé™ç­‰éå¸¸æ–¹ä¾¿ï¼Œä¹Ÿæ­£æ˜¯å¯¦ç¾å°èˆªå®ˆè¡› (Navigation Guards) çš„æ–¹å¼ã€‚é€™è£¡æˆ‘å€‘ä¸»è¦è¬›è¿°çš„è·¯ç”±ä¸­é–“ä»¶ï¼Œä¹Ÿå°‡æœƒèˆ‡æˆ‘å€‘å¾Œé¢æœƒæåˆ°çš„ä¼ºæœå™¨ç«¯çš„ä¸­é–“ä»¶æœ‰æ‰€ä¸åŒï¼Œé›–ç„¶åç¨±ç›¸ä¼¼ä½†èˆ‡ Nitro å•Ÿå‹•æ™‚åŸ·è¡Œçš„ä¼ºæœå™¨ä¸­é–“ä»¶&lt;code>å®Œå…¨ä¸åŒ&lt;/code>ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="server-api-èˆ‡-nitro-engine">Server API èˆ‡ Nitro Engine&lt;/h2>
&lt;p>é€™è£¡æœƒå…ˆä»‹ç´¹ä¸€ä¸‹ Nitro Engine æ˜¯ä»€éº¼æ±è¥¿ï¼Œ&lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> å¯èƒ½ä¸å¤šäººè½éä½†èˆ‡ Nuxt 3 æ¯æ¯ç›¸é—œï¼Œ&lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> ä¼ºæœå™¨å¼•æ“é™¤äº†æœ‰è·¨å¹³å°æ”¯æ´èˆ‡å¤šç¨®å¼·å¤§çš„åŠŸèƒ½å¤–ï¼Œæ›´åŒ…å«äº† API è·¯ç”±çš„æ”¯æ´ï¼Œæ„æ€å°±æ˜¯æˆ‘å€‘å¯ä»¥ç›´æ¥åœ¨åŸºæ–¼ &lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> çš„ Nuxt 3 ä¸Šç›´æ¥é–‹ç™¼ç”±å¾Œç«¯è™•ç†çš„é‚è¼¯æˆ–èˆ‡è³‡æ–™åº«äº’å‹•ï¼Œå†å°‡çµæœå›å‚³è‡³å‰ç«¯ï¼Œå¯¦ä½œå‡º Server APIã€‚&lt;/p>
&lt;h3 id="nitro-engine">Nitro Engine&lt;/h3>
&lt;p>åœ¨é–‹å§‹å»ºç½® Sever API ä¹‹å‰ï¼Œå…ˆä¾†ä»‹ç´¹ä¸€ä¸‹ Nitro ä¼ºæœå™¨å¼•æ“ï¼ŒNuxt 3 çš„ä¸€å¤§ç‰¹é»å°±æ˜¯æ¡ç”¨äº†ä¸€å€‹åç‚º &lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> çš„ä¼ºæœå™¨å¼•æ“ (Server Engine)ï¼Œ&lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> åŸºæ–¼ rollup èˆ‡ &lt;a class="link" href="https://github.com/unjs/h3" target="_blank" rel="noopener"
>h3&lt;/a>ï¼Œç‚ºé”é«˜æ•ˆèƒ½èˆ‡å¯ç§»æ¤æ€§ç›®æ¨™è€Œå»ºæ§‹çš„æœ€å° &lt;code>HTTP&lt;/code> æ¡†æ¶ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> æä¾›äº†ä»¥ä¸‹å¤šç¨®åŠŸèƒ½ç‰¹è‰²ï¼Œä½¿å¾— Nuxt æ›´ä½³å®Œå–„èˆ‡å¼·å¤§ï¼Œå¦‚åŒå®˜ç¶²æ‰€èªª &lt;strong>&lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> è®“ Nuxt ç›´æ¥è§£é–äº†æ–°çš„å…¨ç«¯èƒ½åŠ›&lt;/strong>ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;strong>å¿«é€Ÿçš„é–‹ç™¼é«”é©—&lt;/strong>ï¼šé–‹ç®±å³ç”¨çš„ç‰¹æ€§ï¼Œç„¡éœ€ä»»ä½•é…ç½®ï¼Œå°±å¯ä»¥å•Ÿå‹•å…·æœ‰ &lt;strong>hot module reloading&lt;/strong> çš„é–‹ç™¼ä¼ºæœå™¨ï¼Œå¯«å®Œç¨‹å¼ç¢¼å­˜æª”å¾Œï¼Œå°±èƒ½è®“ä¼ºæœå™¨è¼‰å…¥æ–°çš„ç¨‹å¼é‚è¼¯ã€‚&lt;/li>
&lt;li>&lt;strong>åŸºæ–¼æª”æ¡ˆç³»çµ±çš„è·¯ç”±&lt;/strong>ï¼šæˆ‘å€‘åªéœ€è¦å°ˆæ³¨åœ¨å»ºç«‹ä¼ºæœå™¨çš„ç›®éŒ„èˆ‡é é¢ï¼Œå°±èƒ½æ“æœ‰è‡ªå‹•è¼‰å…¥èˆ‡è·¯ç”±çš„æ•ˆæœã€‚&lt;/li>
&lt;li>&lt;strong>å¯ç§»æ¤ä¸”ä¾¿æ”œ&lt;/strong>ï¼šåŸºæœ¬ä¸Š Nuxt 3 ä½¿ç”¨çš„ä¾è³´å¥—ä»¶éƒ½åœ¨ &lt;strong>package.json&lt;/strong> æª”æ¡ˆçš„ &lt;strong>devDependencies&lt;/strong> ä¸­ï¼Œå»ºæ§‹æ­£å¼ç’°å¢ƒçš„ç¶²ç«™æ™‚ï¼Œ&lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> è‡ªå‹•æ‹†åˆ†çš„ç¨‹å¼ç¢¼èˆ‡æ‰“åŒ…å‡ºä¾†çš„ &lt;code>.output&lt;/code> ç›®éŒ„ä¸å†éœ€è¦å®‰è£ä¾è³´å¥—ä»¶ï¼Œæ„å‘³è‘—ä¸å†æœ‰ &lt;strong>node_modules&lt;/strong>ï¼Œå› æ­¤éƒ¨ç½²æ™‚æ›´è¼•ä¾¿å¥½æ”œã€‚&lt;/li>
&lt;li>&lt;strong>æ··åˆæ¨¡å¼&lt;/strong>ï¼šé€é**æ··åˆæ¨¡å¼ (Hybrid mode)**å¯ä»¥å°‡ä¸€éƒ¨åˆ†é é¢é æ¸²æŸ“ç”¢ç”Ÿå‡ºéœæ…‹é é¢ï¼Œéƒ¨åˆ†é é¢æ˜¯å‹•æ…‹çš„åœ¨ä¼ºæœå™¨æˆ–å®¢æˆ¶ç«¯æ¸²æŸ“ï¼Œè®“æ¯å€‹è·¯ç”±é é¢æœ‰ä¸åŒçš„éœæ…‹æˆ–å‹•æ…‹ç”šè‡³æ“æœ‰å¿«å–è¦å‰‡ï¼Œé€™å°‡è®“ Nuxt 3 çš„&lt;a class="link" href="https://nuxt.com/docs/guide/concepts/rendering#universal-rendering" target="_blank" rel="noopener"
>é€šç”¨æ¸²æŸ“ (Universal Rendering)&lt;/a> æ–¹å¼æ›´é€²ä¸€æ­¥æˆ&lt;a class="link" href="https://nuxt.com/docs/guide/concepts/rendering#hybrid-rendering" target="_blank" rel="noopener"
>æ··åˆæ¸²æŸ“ (Hybrid Rendering)&lt;/a> ä¹Ÿèƒ½çµåˆç„¡ä¼ºæœå™¨ (Serverless) ä¾†é…ç½®æ··åˆæ¨¡å¼ã€‚&lt;/li>
&lt;/ul>
&lt;p>çœ‹åˆ°é€™è£¡ï¼Œå¯ä»¥ç™¼ç¾ Nuxt 3 èˆ‡ Nitro éƒ½ä¸‹äº†éå¸¸å¤§çš„åŠŸå¤«ï¼Œé›–ç„¶é‚„æœ‰äº›åŠŸèƒ½å°šæœªç©©å®šèˆ‡éœ€è¦æ”¹é€²çš„åœ°æ–¹ï¼Œä½†æ˜¯å·²ç¶“ç‚ºé–‹ç™¼ä¸Šæä¾›äº†å¼·å¤§æ”¯æ´èˆ‡è‰¯å¥½çš„é«”é©—ï¼Œæ›´å¤šç‰¹æ€§èˆ‡ç´°ç¯€å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://nuxt.com/docs/guide/concepts/server-engine" target="_blank" rel="noopener"
>Nuxt 3 - Server Engine&lt;/a> æˆ– &lt;a class="link" href="https://nitro.unjs.io/" target="_blank" rel="noopener"
>Nitro å®˜æ–¹&lt;/a>ã€‚&lt;/p>
&lt;h3 id="nuxt-3-çš„-server-ç›®éŒ„">Nuxt 3 çš„ Server ç›®éŒ„&lt;/h3>
&lt;p>æˆ‘å€‘å¯ä»¥é€é Nuxt 3 å°ˆæ¡ˆä¸‹çš„ &lt;code>server&lt;/code> ç›®éŒ„ä¾†å»ºç«‹å…·æœ‰ &lt;strong>hot module reloading&lt;/strong> æ”¯æ´çš„ Server API èˆ‡å¾Œç«¯è™•ç†é‚è¼¯ã€‚&lt;/p>
&lt;p>&lt;strong>server&lt;/strong> ç›®éŒ„å¸¸ç”¨çš„æœ‰ä¸‹é¢ä¸‰å€‹å­ç›®éŒ„ï¼š&lt;/p>
&lt;ul>
&lt;li>api&lt;/li>
&lt;/ul>
&lt;p>åœ¨é€™å€‹ç›®éŒ„çš„æª”æ¡ˆï¼Œå°‡æœƒç”± Nuxt è‡ªå‹•è¼‰å…¥ä¸¦ç”¢ç”Ÿ &lt;code>/api&lt;/code> é–‹é ­çš„è·¯ç”±ä¸¦å°æ‡‰æª”æ¡ˆåç¨±ï¼Œä¾‹å¦‚å»ºç«‹ &lt;strong>./server/api/hello.js&lt;/strong>ï¼Œå°±æœƒæ“æœ‰ &lt;strong>/api/hello&lt;/strong> çš„è·¯ç”±å°æ‡‰é€™å€‹ APIï¼Œå¯ä»¥ä½¿ç”¨ &lt;a class="link" href="http://localhost:3000/api/hello" target="_blank" rel="noopener"
>http://localhost:3000/api/hello&lt;/a> è¨ªå•è©²è·¯ç”±ã€‚&lt;/p>
&lt;ul>
&lt;li>routes&lt;/li>
&lt;/ul>
&lt;p>åœ¨é€™å€‹ç›®éŒ„çš„æª”æ¡ˆï¼Œå°‡æœƒç”± Nuxt è‡ªå‹•è¼‰å…¥ä¸¦ç”¢ç”Ÿå°æ‡‰æª”æ¡ˆåç¨±çš„è·¯ç”±ï¼Œä¾‹å¦‚å»ºç«‹ &lt;strong>./server/routes/world.js&lt;/strong>ï¼Œå°±æœƒæ“æœ‰ &lt;code>/world&lt;/code> çš„è·¯ç”±å°æ‡‰é€™å€‹ APIï¼Œå¯ä»¥ä½¿ç”¨ &lt;a class="link" href="http://localhost:3000/world" target="_blank" rel="noopener"
>http://localhost:3000/world&lt;/a> è¨ªå•è©²è·¯ç”±ã€‚&lt;/p>
&lt;ul>
&lt;li>middleware&lt;/li>
&lt;/ul>
&lt;p>åœ¨é€™å€‹ç›®éŒ„çš„æª”æ¡ˆï¼Œæœƒè¢« Nuxt è‡ªå‹•è¼‰å…¥ï¼Œä¸¦æ·»åŠ è‡³&lt;code>ä¼ºæœå™¨ä¸­é–“ä»¶&lt;/code>ï¼Œä¸¦åœ¨æ¯å€‹ Request é€²å…¥ä¼ºæœå™¨ API çš„è·¯ç”±å‰åŸ·è¡Œã€‚&lt;/p>
&lt;h3 id="å»ºç«‹ç¬¬ä¸€å€‹ä¼ºæœå™¨-api">å»ºç«‹ç¬¬ä¸€å€‹ä¼ºæœå™¨ API&lt;/h3>
&lt;p>Nuxt æœƒè‡ªå‹•æƒæ &lt;code>server&lt;/code> ç›®éŒ„ä¸­çš„æª”æ¡ˆçµæ§‹ï¼Œå»ºç«‹ Server API æ™‚é€šå¸¸ä»¥ &lt;strong>.js&lt;/strong> æˆ– &lt;strong>.ts&lt;/strong> ä½œç‚ºå‰¯æª”åï¼Œä¸¦ä¾ç…§å®˜æ–¹å»ºè­°ï¼Œæ¯å€‹æª”æ¡ˆéƒ½æ‡‰è©²é è¨­åŒ¯å‡º &lt;code>defineEventHandler()&lt;/code> å‡½æ•¸ï¼Œä¸¦åœ¨å…¶ handler å…§å¯¦ä½œè™•ç†é‚è¼¯ã€‚&lt;/p>
&lt;p>handler æ¥æ”¶äº†ä¸€å€‹ &lt;code>event&lt;/code> åƒæ•¸ï¼Œç”¨ä¾†è§£æè«‹æ±‚çš„è³‡æ–™ï¼Œä¸¦å¯ä»¥ç›´æ¥å›å‚³ä¸€å€‹&lt;strong>å­—ä¸²&lt;/strong>ã€&lt;strong>JSON&lt;/strong>ã€&lt;strong>Promise&lt;/strong> æˆ–è€…ä½¿ç”¨ &lt;strong>event.res.end()&lt;/strong> é€å‡ºè«‹æ±‚å›æ‡‰ã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘å»ºç«‹ä¸€å€‹æª”æ¡ˆ &lt;strong>./server/api/hello.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapihellojs">server/api/hello.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello World!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚åŒ &lt;code>pages&lt;/code> é é¢è·¯ç”±ä¸€æ¨£ï¼Œåœ¨ &lt;strong>./server/api&lt;/strong> ç›®éŒ„ä¸‹æœƒåŸºæ–¼æª”æ¡ˆç³»çµ±çµæ§‹ä¾†ç”¢ç”Ÿå‡ºç›¸å°æ‡‰çš„è·¯ç”±ï¼Œä¸¦ä¸”æœƒæ·»åŠ ä¸€å€‹è·¯ç”±å‰ç¶´ &lt;code>/api&lt;/code>ï¼Œç¾åœ¨ï¼Œå¯ä»¥ä½¿ç”¨ &lt;a class="link" href="http://localhost:3000/api/hello" target="_blank" rel="noopener"
>http://localhost:3000/api/hello&lt;/a> è¨ªå•è©²è·¯ç”±ï¼Œçœ‹è¦‹å›å‚³çš„ JSON è³‡æ–™ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964704_e3841ca57a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="ä¼ºæœå™¨è·¯ç”±">ä¼ºæœå™¨è·¯ç”±&lt;/h3>
&lt;h4 id="åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±">åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±&lt;/h4>
&lt;p>å‰é¢çš„ä¾‹å­æœ‰æåˆ°ï¼ŒServer API çš„è·¯ç”±æ˜¯&lt;code>åŸºæ–¼æª”æ¡ˆçµæ§‹ä¾†è‡ªå‹•ç”¢ç”Ÿ&lt;/code>ï¼Œå¦‚æœä½ ä¸æƒ³è¦æœ‰ &lt;code>/api&lt;/code> çš„å‰ç¶´ï¼Œå¯ä»¥å°‡ API è™•ç†é‚è¼¯æª”æ¡ˆï¼Œæ”¾ç½®åœ¨ &lt;strong>./server/routes&lt;/strong> ç›®éŒ„ä¸­ã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œä»¥ä¸‹çš„æª”æ¡ˆçµæ§‹æœƒç”¢ç”Ÿå…©å€‹å¯ä»¥è¨ªå•çš„ä¼ºæœå™¨ API è·¯ç”±ï¼Œåˆ†åˆ¥ç‚º &lt;strong>/api/hello&lt;/strong> åŠ &lt;strong>/api/world&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nuxt-app/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ server/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ api/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â””â”€â”€ hello.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ routes/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ world.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åŒ¹é…è·¯ç”±åƒæ•¸">åŒ¹é…è·¯ç”±åƒæ•¸&lt;/h4>
&lt;p>å°‡æª”æ¡ˆåç¨±æ·»åŠ ä¸­æ‹¬è™Ÿ &lt;code>[]&lt;/code>ï¼Œå…¶ä¸­æ”¾å…¥æ¬²è¨­å®šçš„åƒæ•¸åç¨±ï¼Œä»¥æ­¤ä¾†è™•ç†å‹•æ…‹è·¯ç”±åŒ¹é…ã€‚
èˆ‰ä¾‹ä¾†èªªï¼Œå»ºç«‹ &lt;strong>./server/api/hello/[name].js&lt;/strong> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapihellonamejs">server/api/hello/[name].js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`Hello, &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">!`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ handler å…§å°±èƒ½ä½¿ç”¨ &lt;code>event.context.params&lt;/code> ä¾†è¨ªå• &lt;strong>name&lt;/strong> è·¯ç”±åƒæ•¸ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698486_37c5da2beb_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="åŒ¹é…-http-è«‹æ±‚æ–¹æ³•-http-request-method">åŒ¹é… HTTP è«‹æ±‚æ–¹æ³• (HTTP Request Method)&lt;/h4>
&lt;p>æˆ‘å€‘å¯ä»¥æ·»åŠ  &lt;strong>.get&lt;/strong>ã€&lt;strong>.post&lt;/strong>ã€&lt;strong>.put&lt;/strong> æˆ– &lt;strong>.delete&lt;/strong> ç­‰æª”æ¡ˆåç¨±å¾Œç¶´ï¼Œä¾†åŒ¹é…å°æ‡‰çš„ HTTP request methodsã€‚&lt;/p>
&lt;p>æ–°å¢ &lt;strong>server/api/test.get.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapitestgetjs">server/api/test.get.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ¸¬è©¦ [GET] /api/test&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ &lt;strong>server/api/test.post.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapitestpostjs">server/api/test.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ¸¬è©¦ [POST] /api/test&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘ä½¿ç”¨ &lt;a class="link" href="https://www.postman.com/" target="_blank" rel="noopener"
>Postman&lt;/a> ä¾†æ‰“é€™å…©éš» APIï¼Œå¯ä»¥çœ‹åˆ°ä½¿ç”¨ä¸åŒçš„ HTTP Request Methodï¼Œå°±æœƒåŒ¹é…è‡³å°æ‡‰å¾Œç¶´æª”æ¡ˆä¸­çš„ handler é€²è¡Œè™•ç†ã€‚&lt;/p>
&lt;h5 id="get-apitest">[GET] /api/test&lt;/h5>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188612_a1886c609d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h5 id="post-apitest">[POST] /api/test&lt;/h5>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964714_af11679e95_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å¾ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘å€‘å»ºç«‹äº† &lt;code>test.get.js&lt;/code> èˆ‡ &lt;code>test.post.js&lt;/code> æª”æ¡ˆï¼Œåˆ†åˆ¥å°æ‡‰äº† &lt;strong>GET&lt;/strong> èˆ‡ &lt;strong>POST&lt;/strong> æ–¹æ³•ï¼Œå¦‚æœåŒä¸€å€‹è·¯ç”±ä½¿ç”¨äº†å…¶ä»–æ–¹æ³•è€Œç„¡æ³•åŒ¹é…è™•ç†çš„æª”æ¡ˆæ™‚ï¼Œå‰‡æœƒå›å‚³ HTTP ç‹€æ…‹ç¢¼ &lt;strong>405 Method Not Allowed&lt;/strong> è¡¨ç¤ºéŒ¯èª¤ã€‚&lt;/p>
&lt;h4 id="åŒ¹é…åŒ…ç¾…è¬è±¡çš„è·¯ç”±-catch-all-route">åŒ¹é…åŒ…ç¾…è¬è±¡çš„è·¯ç”± (Catch-all Route)&lt;/h4>
&lt;p>ä½ å¯ä»¥å»ºç«‹ &lt;code>[â€¦].js&lt;/code> çš„æª”æ¡ˆï¼Œä¾†å°‡æ‰€æœ‰ä¸åŒ¹é…çš„è·¯ç”±äº¤ç”±é€™å€‹ handler ä½œè™•ç†ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œå»ºç«‹ &lt;strong>./server/api/catch-all/[â€¦].js&lt;/strong>ï¼Œå°‡å¯ä»¥åŒ¹é… &lt;strong>/api/catch-all/x&lt;/strong>ã€&lt;strong>/api/catch-all/x/y&lt;/strong>&amp;hellip;ç­‰ &lt;strong>/catch-all&lt;/strong> ä¸‹æ‰€æœ‰å±¤ç´šçš„è·¯ç”±ã€‚&lt;/p>
&lt;h5 id="serverapicatch-alljs">server/api/catch-all/[â€¦].js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">url&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/api/catch-all ä¸‹ä¸åŒ¹é…çš„è·¯ç”±éƒ½æœƒé€²å…¥é€™è£¡&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;strong>./server/api/[â€¦].js&lt;/strong> æª”æ¡ˆå¦‚ä¸‹ï¼Œå°‡å¯ä»¥æ¥æ‰‹æ‰€æœ‰ &lt;strong>/api&lt;/strong> ä¸‹ç„¡æ³•åŒ¹é…çš„è·¯ç”±ã€‚&lt;/p>
&lt;h5 id="serverapijs">server/api/[â€¦].js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">url&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/api ä¸‹ä¸åŒ¹é…çš„è·¯ç”±éƒ½æœƒé€²å…¥é€™è£¡&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸‹åœ–ç¤ºç¯„ä¸­ï¼Œç•¶æˆ‘å€‘è¼¸å…¥çš„è·¯ç”±å¦‚æœæ²’æœ‰è¾¦æ³•è™•ç†ï¼Œå°‡æœƒè¢« &lt;code>[...].js&lt;/code> æ‰€åŒ¹é…ï¼Œä»¥æ­¤æˆ‘å€‘å¯ä»¥ä¾†å¯¦ä½œè¿”å›ã€é‡æ–°å°å‘æˆ–éŒ¯èª¤é é¢ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186823_7aa4ffbd74_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="ä¼ºæœå™¨ä¸­é–“ä»¶">ä¼ºæœå™¨ä¸­é–“ä»¶&lt;/h3>
&lt;p>Nuxt æœƒè‡ªå‹•è¼‰å…¥ &lt;code>./server/middleware&lt;/code> ä¸­çš„æª”æ¡ˆï¼Œä¸¦æ·»åŠ è‡³&lt;code>ä¼ºæœå™¨ä¸­é–“ä»¶&lt;/code>ï¼Œä¼ºæœå™¨çš„ä¸­é–“ä»¶èˆ‡è·¯ç”±ä¸­é–“ä»¶ä¸åŒçš„æ˜¯ï¼Œ&lt;code>pages&lt;/code> è·¯ç”±é é¢çš„è«‹æ±‚æ˜¯ä¸æœƒåŸ·è¡Œä¼ºæœå™¨ä¸­é–“ä»¶ã€‚&lt;/p>
&lt;p>ä¼ºæœå™¨çš„ä¸­é–“ä»¶æœƒåœ¨æ¯å€‹ Request é€²å…¥ä¼ºæœå™¨ API çš„è·¯ç”±å‰åŸ·è¡Œï¼Œé€šå¸¸ç”¨ä¾†æ·»åŠ æˆ–æª¢æŸ¥è«‹æ±‚çš„æ¨™é ­ (headers)ã€è¨˜éŒ„è«‹æ±‚æˆ–æ“´å±•èª¿æ•´è«‹æ±‚çš„ç‰©ä»¶ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ä¼ºæœå™¨ä¸­é–“ä»¶çš„è™•ç†é‚è¼¯ï¼Œä¸æ‡‰è©²å›å‚³ä»»ä½•å…§å®¹ï¼Œä¹Ÿä¸æ‡‰ä¸­æ–·æˆ–ç›´æ¥å›æ‡‰è«‹æ±‚ï¼Œä¼ºæœå™¨ä¸­é–“ä»¶æ‡‰è©²åƒ…æª¢æŸ¥ã€æ“´å±•è«‹æ±‚ä¸Šä¸‹æ–‡æˆ–ç›´æ¥æ‹‹å‡ºéŒ¯èª¤ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>èˆ‰ç†ä¾†èªªï¼Œä½ å¯ä»¥æ–°å¢ &lt;strong>./server/middleware/log.js&lt;/strong> ç”¨ä¾†è¨˜éŒ„æ¯å€‹è«‹æ±‚çš„ URLã€‚&lt;/p>
&lt;h5 id="servermiddlewarelogjs">server/middleware/log.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;New request: &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ–è€…ï¼Œæ–°å¢ &lt;strong>./server/middleware/auth.js&lt;/strong> ç”¨ä¾†è§£æè«‹æ±‚æˆ–æ“´å±•è«‹ç”±ç‰©ä»¶ã€‚&lt;/p>
&lt;h5 id="servermiddlewareauthjs">server/middleware/auth.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">auth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">username&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ryan&amp;#39;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä¼ºæœå™¨æ’ä»¶">ä¼ºæœå™¨æ’ä»¶&lt;/h3>
&lt;p>Nuxt æœƒè‡ªå‹•æƒæä¸¦è¼‰å…¥ &lt;code>./server/plugins&lt;/code> ç›®éŒ„ä¸‹çš„æª”æ¡ˆï¼Œä¸¦å°‡ä»–å€‘è¨»å†Šç‚º Nitro çš„æ’ä»¶ï¼Œåœ¨ Nitro å•Ÿå‹•æ™‚ï¼Œé€™äº›æ’ä»¶å°‡æœƒåœ¨ä¼ºæœå™¨è¼‰å…¥ä¸¦åŸ·è¡Œï¼Œæ’ä»¶å…è¨±æ“´å±• Nitro åŸ·è¡Œæ™‚çš„è¡Œç‚ºåŠé€£æ¥åˆ°ç”Ÿå‘½é€±æœŸçš„äº‹ä»¶ã€‚&lt;/p>
&lt;p>æ›´å¤šç´°ç¯€å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://nitro.unjs.io/guide/advanced/plugins" target="_blank" rel="noopener"
>Nitro Plugins&lt;/a>ã€‚&lt;/p>
&lt;h3 id="ä¼ºæœå™¨é€šç”¨åŠŸèƒ½">ä¼ºæœå™¨é€šç”¨åŠŸèƒ½&lt;/h3>
&lt;p>Nuxt ä¸­ä¼ºæœå™¨çš„è·¯ç”±ï¼Œæ˜¯ç”± &lt;a class="link" href="https://github.com/unjs/h3" target="_blank" rel="noopener"
>unjs/h3&lt;/a> æ‰€æä¾›ï¼Œh3 å…§å»ºä¸€äº›æ–¹ä¾¿å¯¦ç”¨çš„ helpersï¼Œå¯ä»¥åƒè€ƒ &lt;a class="link" href="https://www.jsdocs.io/package/h3#package-index-functions" target="_blank" rel="noopener"
>Available H3 Request Helpers&lt;/a>ã€‚&lt;/p>
&lt;h3 id="ä¼ºæœå™¨è·¯ç”±å¸¸ç”¨çš„-http-è«‹æ±‚è™•ç†">ä¼ºæœå™¨è·¯ç”±å¸¸ç”¨çš„ HTTP è«‹æ±‚è™•ç†&lt;/h3>
&lt;h4 id="è™•ç†-http-è«‹æ±‚ä¸­çš„-body">è™•ç† HTTP è«‹æ±‚ä¸­çš„ Body&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥ä½¿ç”¨ &lt;code>readBody(event)&lt;/code> ä¾†è§£æè«‹æ±‚ä¸­çš„ Bodyï¼Œæ³¨æ„ &lt;code>readBody()&lt;/code> æ˜¯ä¸€å€‹ç•°æ­¥å‡½æ•¸ï¼Œè¨˜å¾— &lt;code>await&lt;/code> ç­‰å¾…è§£æå®Œæˆã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186843_8c75e8307f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="è™•ç†-url-ä¸­çš„æŸ¥è©¢åƒæ•¸-query-parameters">è™•ç† URL ä¸­çš„æŸ¥è©¢åƒæ•¸ (Query Parameters)&lt;/h4>
&lt;p>å¯ä»¥ä½¿ç”¨ &lt;code>getQuery(evnet)&lt;/code> ä¾†è§£ææŸ¥è©¢åƒæ•¸ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">query&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getQuery&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶è«‹æ±‚ URL ç‚º &lt;strong>/api/query?name=ryan&lt;/strong>ï¼Œå¯ä»¥è§£æå‡ºæŸ¥è©¢åƒæ•¸ &lt;strong>query.name&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964724_f604a17188_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="è§£æ-http-è«‹æ±‚æ‰€å¤¾å¸¶çš„-cookie">è§£æ HTTP è«‹æ±‚æ‰€å¤¾å¸¶çš„ Cookie&lt;/h4>
&lt;p>å¯ä»¥ä½¿ç”¨ &lt;code>parseCookies(event)&lt;/code> ä¾†è§£æè«‹æ±‚æ‰€å¤¾å¸¶çš„ Cookieã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">cookies&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">parseCookies&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cookies&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘é€éç€è¦½å™¨çš„é–‹ç™¼å·¥å…·ï¼Œæ‰‹å‹•æ·»åŠ äº†ä¸€çµ„ &lt;strong>cookie&lt;/strong> åç‚º &lt;code>token&lt;/code>ï¼ŒServer API å¯ä»¥é€é &lt;code>parseCookies()&lt;/code> ä¾†è§£æå‡ºç€è¦½å™¨è‡ªå‹•å¤¾å¸¶çš„ &lt;strong>cookie&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698541_f2d257d4c0_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="é€²éšä½¿ç”¨ç¯„ä¾‹">é€²éšä½¿ç”¨ç¯„ä¾‹&lt;/h3>
&lt;h4 id="nitro-é…ç½®">Nitro é…ç½®&lt;/h4>
&lt;p>ä½ å¯ä»¥åœ¨ &lt;code>nuxt.config.ts&lt;/code> ä¸­ä½¿ç”¨ &lt;code>nitro&lt;/code> å±¬æ€§ä¾†é…ç½® &lt;a class="link" href="https://nitro.unjs.io/config" target="_blank" rel="noopener"
>Nitro è¨­å®š&lt;/a>ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts-2">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// https://nitro.unjs.io/config
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">nitro&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä½¿ç”¨å·¢ç‹€è·¯ç”±">ä½¿ç”¨å·¢ç‹€è·¯ç”±&lt;/h4>
&lt;p>ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;a class="link" href="https://www.jsdocs.io/package/h3" target="_blank" rel="noopener"
>h3&lt;/a> çš„ &lt;code>createRouter()&lt;/code> æ–¹æ³•ä¾†å»ºç«‹å·¢ç‹€è·¯ç”±ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">createRouter&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;h3&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">router&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">createRouter&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="s1">&amp;#39;Hello World&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">router&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä¼ºæœå™¨å„²å­˜">ä¼ºæœå™¨å„²å­˜&lt;/h4>
&lt;p>Nitro æä¾›äº†ä¸€å€‹è·¨å¹³å°çš„&lt;a class="link" href="https://nitro.unjs.io/guide/introduction/storage" target="_blank" rel="noopener"
>å„²å­˜å±¤&lt;/a>ï¼Œä½ å¯ä»¥ Nitro çš„é…ç½®ä¸­è¨­å®š &lt;code>storage&lt;/code> å±¬æ€§ï¼Œä¾†é…ç½®é¡å¤–çš„å„²å­˜æ›è¼‰ä½ç½®ï¼Œå®˜ç¶²æä¾›äº†ä¸€å€‹&lt;a class="link" href="https://nuxt.com/docs/guide/directory-structure/server/#example-using-redis" target="_blank" rel="noopener"
>ä½¿ç”¨ Redis çš„ç¯„ä¾‹&lt;/a>ã€‚&lt;/p>
&lt;p>æ›´å¤š Nitro ä¼ºæœå™¨çš„è¨­å®šèˆ‡ä½¿ç”¨å¯ä»¥åƒè€ƒ&lt;a class="link" href="https://nuxt.com/docs/guide/directory-structure/server/" target="_blank" rel="noopener"
>å®˜ç¶²&lt;/a>ã€‚&lt;/p>
&lt;p>Nitro ä¼ºæœå™¨å¼•æ“å°‡ Nuxt 3 æå‡è‡³å¦ä¸€å€‹å¢ƒç•Œï¼Œä¸åƒ…åŠŸèƒ½å¼·å¤§ä¸”è®“é–‹ç™¼ä¸­æ“æœ‰ä¸éŒ¯çš„é«”é©—ï¼Œä¼ºæœå™¨è·¯ç”±æ›´æ˜¯èƒ½åœ¨å¾Œç«¯ç›´æ¥è™•ç†é‚è¼¯å¯¦ä½œ Server APIï¼Œè€Œæ¥ä¸‹ä¾†å°‡ä»‹ç´¹å¦‚ä½•åœ¨ Nuxt æ‰“ API å–å¾—è³‡æ–™ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="è³‡æ–™ç²å–-data-fetching">è³‡æ–™ç²å– (Data Fetching)&lt;/h2>
&lt;p>Nuxt æä¾›äº† &lt;code>$fetch&lt;/code> åŠå››ç¨®çµ„åˆå¼å‡½æ•¸ (Composables)ï¼Œä¾†é€²è¡Œè³‡æ–™ç²å–ï¼Œä¹Ÿå°±æ˜¯èªªï¼Œæˆ‘å€‘ä¸éœ€è¦å†é¡å¤–å®‰è£ä»»ä½• HTTP Client ï¼Œå¦‚ &lt;a class="link" href="https://github.com/axios/axios" target="_blank" rel="noopener"
>axios&lt;/a> ä¾†ç™¼é€ HTTP è«‹æ±‚ï¼Œå› ç‚º Nuxt æœ¬èº«å°±è‡ªå¸¶äº†æ‰“ API çš„æ–¹æ³•ï¼Œè€Œä¸”åœ¨é é¢ã€å…ƒä»¶æˆ–æ’ä»¶ä¸­éƒ½èƒ½ç›´æ¥å‘¼å«åšä½¿ç”¨ï¼Œéå¸¸æ–¹ä¾¿ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘å…ˆä»‹ç´¹ä¸€ä¸‹ &lt;code>$fetch&lt;/code> é€™å€‹ç”± Nuxt æä¾›ä½¿ç”¨ &lt;a class="link" href="https://github.com/unjs/ofetch" target="_blank" rel="noopener"
>ohmyfetch&lt;/a> å¥—ä»¶æ‰€å°è£çš„ helperï¼Œ&lt;code>$fetch&lt;/code> å¯ä»¥åœ¨ Nuxt ä¸­ç”¨æ–¼ç™¼é€ HTTP è«‹æ±‚ã€‚&lt;/p>
&lt;p>å¦‚æœåœ¨ä¼ºæœå™¨ç«¯æ¸²æŸ“çš„æœŸé–“ï¼Œå‘¼å« &lt;code>$fetch&lt;/code> æ‰“å…§éƒ¨ API è·¯ç”±ï¼Œä¹Ÿå°±æ˜¯æ‰“æˆ‘å€‘è‡ªå·±åœ¨ &lt;code>./server&lt;/code> ä¸‹å¯¦ä½œçš„å¾Œç«¯ APIï¼Œé‚£éº¼å› ç‚ºä½¿ç”¨ &lt;code>$fetch&lt;/code> çš„é—œä¿‚ï¼ŒNuxt æœƒæ¨¡æ“¬è«‹æ±‚ï¼Œæ”¹ç”±ç›´æ¥å‘¼å«å…§éƒ¨ API çš„è™•ç†å‡½æ•¸ï¼Œé€™æ¨£å°±èƒ½ç¯€çœé¡å¤–çš„ API å‘¼å«ã€‚&lt;/p>
&lt;p>ä½¿ç”¨çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">$fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å¯ä»¥ä½¿ç”¨ &lt;strong>$fetch(&amp;rsquo;/api/count&amp;rsquo;)&lt;/strong> å»ºç«‹ä¸€å€‹ GET è«‹æ±‚ï¼Œç™¼é€è‡³ &lt;strong>/api/count&lt;/strong> å¾Œæœƒè¿”å›ä¸€å€‹ Promiseï¼Œå®Œæˆå¾Œæˆ‘å€‘å°±å¯ä»¥æ¥æ”¶å›å‚³çš„è³‡æ–™ã€‚&lt;/p>
&lt;p>&lt;code>$fetch&lt;/code> çš„ &lt;strong>options&lt;/strong> çš„åƒæ•¸åŠå»ºç«‹æ””æˆªå™¨ç­‰åŠŸèƒ½å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://github.com/unjs/ohmyfetch" target="_blank" rel="noopener"
>ohmyfetch&lt;/a>ï¼Œä¸éå‘¢ï¼Œæˆ‘å€‘é‚„æœƒä½¿ç”¨ Nuxt æä¾›çš„çµ„åˆå‡½æ•¸çµåˆ &lt;strong>$fetch&lt;/strong> ä¾†æ‰“ APIã€‚&lt;/p>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘å°±ä¾†ä¾åºä»‹ç´¹ï¼Œå¦‚ä½•ä½¿ç”¨ Nuxt æä¾›çš„å››ç¨®çµ„åˆå‡½æ•¸ä¾†å¾ API ç²å–è³‡æ–™ã€‚&lt;/p>
&lt;h3 id="useasyncdata">useAsyncData&lt;/h3>
&lt;p>é€™å€‹ &lt;code>useAsyncData()&lt;/code> çµ„åˆå‡½æ•¸ï¼Œå…¶å¯¦ä¸æ˜¯å‚³å…¥ URL ç›´æ¥å‘¼å«å°±æœƒç™¼å‡º API è«‹æ±‚ï¼Œè€Œæ˜¯ Nuxt å¯ä»¥é€éé€™å€‹å‡½æ•¸ä¾†æ·»åŠ ç•°æ­¥è«‹æ±‚è³‡æ–™çš„é‚è¼¯ã€‚&lt;/p>
&lt;p>&lt;code>useAsyncData&lt;/code> çµ„åˆå‡½æ•¸èƒ½æ¥æ”¶ &lt;code>key&lt;/code>ã€&lt;code>handler&lt;/code> èˆ‡ &lt;code>options&lt;/code>ï¼Œå…¶ä¸­ &lt;strong>handler&lt;/strong> æœƒä¾†æ·»åŠ è«‹æ±‚ç•°æ­¥è³‡æ–™çš„é‚è¼¯ã€‚ç•¶æˆ‘å€‘åœ¨é é¢ã€å…ƒä»¶å’Œæ’ä»¶ä¸­å‘¼å« &lt;strong>useAsyncData&lt;/strong>ï¼Œä¸¦ç­‰å¾…å›å‚³çš„ &lt;strong>Promise&lt;/strong>ï¼Œæˆ‘å€‘çš„é é¢æˆ–å…ƒä»¶çš„æ¸²æŸ“å°‡æœƒ&lt;code>é˜»å¡è·¯ç”±è¼‰å…¥&lt;/code>è‡³ &lt;strong>handler&lt;/strong> ç•°æ­¥é‚è¼¯è™•ç†å®Œç•¢å¾Œæ‰æœƒç¹¼çºŒåŸ·è¡Œï¼Œä¹Ÿå°±æ˜¯èªªï¼Œæ•´å€‹é é¢å…ƒä»¶å°‡æœƒç­‰å¾…æ‰€æœ‰ä½¿ç”¨ &lt;strong>useAsyncData&lt;/strong> å‘¼å«çš„ API å›å‚³å®Œæˆå¾Œæ‰æœƒé–‹å§‹é€²è¡Œæ¸²æŸ“ã€‚&lt;/p>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæˆ‘å€‘æ–°å¢ä¸€å€‹ Server APIï¼Œä¸¦ç¨å¾®æ·»åŠ ä¸€ä¸‹å»¶é²ï¼Œæ¨¡æ“¬ API ç´„éœ€è¦è™•ç† 2 ç§’æ‰å›å‚³è³‡æ–™ï¼Œ&lt;strong>./server/api/count.js&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapicountjs">server/api/count.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1">// ç­‰å¾… 2 ç§’
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stringify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">counter&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ä¸€å€‹è·¯ç”±é é¢ï¼Œ&lt;strong>./pages/count/useAsyncData.vue&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescountuseasyncdatavue">pages/count/useAsyncData.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-24 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-4xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ç€è¦½æ¬¡æ•¸&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">useAsyncData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">$fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/count&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘ç€è¦½ &lt;strong>/count/useAsyncData&lt;/strong> æ™‚ï¼Œæœƒæ‰“ &lt;strong>/api/count&lt;/strong> é€™éš» APIï¼Œä¸¦ç­‰å¾…è¿”å›å¾Œæ‰é–‹å§‹æ¸²æŸ“å…ƒä»¶ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186873_0f1db5744d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å› ç‚ºç€è¦½ &lt;a class="link" href="http://localho:3000/count/useAsyncData" target="_blank" rel="noopener"
>http://localho:3000/count/useAsyncData&lt;/a> æ™‚ï¼Œç¬¬ä¸€æ¬¡éƒ½æ˜¯ç”±å¾Œç«¯æ¸²æŸ“è™•ç†ï¼Œçœ‹ä¸å¤ªå‡ºå°èˆªæœ‰è¢«é˜»å¡çš„æ•ˆæœï¼Œå»ºè­°å¯ä»¥æ·»åŠ ä¸€ä¸‹è·¯ç”±é€£çµä¾†é€²è¡Œå°èˆªï¼Œå°±å¯ä»¥ç™¼ç¾å·®ç•°ã€‚&lt;/p>
&lt;p>ç•¶æˆ‘å€‘å¾é¦–é ï¼Œç”±å®¢æˆ¶ç«¯å°èˆªè‡³ &lt;code>/count/useAsyncData&lt;/code> é é¢æ™‚ï¼Œæœƒç™¼ç¾ç¶²å€çš„è·¯ç”±å·²ç¶“è®ŠåŒ–ï¼Œä½†æ˜¯é é¢ç´„ç­‰äº†ä¸€æœƒå…’æ‰æ¸²æŸ“å‡ºç¾ï¼Œé€™å°±æ˜¯å› ç‚ºé é¢ä¸­ä½¿ç”¨äº† &lt;code>useAsyncData()&lt;/code> ä¾†ç²å–è³‡æ–™ï¼Œ&lt;code>await&lt;/code> å°‡é˜»å¡æ•´å€‹é é¢å…ƒä»¶çš„è¼‰å…¥èˆ‡æ¸²æŸ“ï¼Œç›´è‡³ API è™•ç†å®Œç•¢å›å‚³å¾Œæ‰é–‹å§‹è¼‰å…¥è·¯ç”±æ¸²æŸ“å…ƒä»¶ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186898_35b72a8173_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;strong>useAsyncData() å…±æœ‰å…©ç¨®å‘¼å«æ™‚ä½¿ç”¨åƒæ•¸å·®ç•°ï¼Œå¯ä»¥é¸æ“‡æ˜¯å¦å‚³å…¥ç¬¬ä¸€å€‹åƒæ•¸ &lt;code>key&lt;/code>ï¼Œæ‰€å‚³å…¥åƒæ•¸çš„é¡å‹å¦‚ä¸‹&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">useAsyncData&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handler&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">nuxtApp?&lt;/span>: &lt;span class="kt">NuxtApp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">options?&lt;/span>: &lt;span class="kt">AsyncDataOptions&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">AsyncData&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">useAsyncData&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">key&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handler&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">nuxtApp?&lt;/span>: &lt;span class="kt">NuxtApp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">options?&lt;/span>: &lt;span class="kt">AsyncDataOptions&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">AsyncData&lt;/span>&lt;span class="err">&amp;lt;&lt;/span>&lt;span class="na">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">AsyncDataOptions&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">server?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lazy?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">?:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">DataT&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">transform&lt;/span>&lt;span class="o">?:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>: &lt;span class="kt">DataT&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">DataT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pick?&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">watch?&lt;/span>: &lt;span class="kt">WatchSource&lt;/span>&lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">initialCache?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">immediate?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">RefreshOptions&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_initial?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">AsyncData&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">ErrorT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>: &lt;span class="kt">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="na">null&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pending&lt;/span>: &lt;span class="kt">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">boolean&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">execute&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">void&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">refresh&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">opts?&lt;/span>: &lt;span class="kt">RefreshOptions&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">void&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">error&lt;/span>: &lt;span class="kt">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ErrorT&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="na">null&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="useasyncdata-å‚³å…¥çš„åƒæ•¸">useAsyncData() å‚³å…¥çš„åƒæ•¸&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>key&lt;/strong>ï¼šå”¯ä¸€éµï¼Œå¯ä»¥ç¢ºä¿è³‡æ–™ä¸æœƒé‡è¤‡çš„ç²å–ï¼Œä¹Ÿå°±æ˜¯å¦‚æœ Key ç›¸åŒä¾¿ä¸æœƒå†ç™¼é€ç›¸åŒçš„è«‹æ±‚ï¼Œé™¤éé‡æ–°æ•´ç†é é¢ç”±å¾Œç«¯å†æ¬¡æ¸²æŸ“ç²å–ï¼Œæˆ–å‘¼å« &lt;code>useAsyncData&lt;/code> å›å‚³çš„ &lt;code>refresh()&lt;/code> å‡½æ•¸é‡æ–°å–å¾—è³‡æ–™ã€‚&lt;/li>
&lt;li>&lt;strong>handler&lt;/strong>ï¼šå›å‚³ç•°æ­¥è«‹æ±‚è³‡æ–™çš„è™•ç†å‡½æ•¸ï¼Œæ‰“ API æˆ–åŠ å·¥çš„ç•°æ­¥é‚è¼¯éƒ½å¯ä»¥åœ¨é€™è£¡è™•ç†ã€‚&lt;/li>
&lt;li>&lt;strong>options&lt;/strong>ï¼š
&lt;ul>
&lt;li>&lt;strong>server&lt;/strong>ï¼šæ˜¯å¦åœ¨ä¼ºæœå™¨ç«¯ç²å–è³‡æ–™ï¼Œé è¨­ç‚º &lt;code>true&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>lazy&lt;/strong>ï¼šæ˜¯å¦æ–¼è¼‰å…¥è·¯ç”±å¾Œæ‰é–‹å§‹åŸ·è¡Œç•°æ­¥è«‹æ±‚å‡½æ•¸ï¼Œé è¨­ç‚º &lt;code>false&lt;/code>ï¼Œæ‰€ä»¥æœƒé˜»æ­¢è·¯ç”±è¼‰å…¥ç›´åˆ°è«‹æ±‚å®Œæˆå¾Œæ‰é–‹å§‹æ¸²æŸ“é é¢å…ƒä»¶ã€‚&lt;/li>
&lt;li>&lt;strong>default&lt;/strong>ï¼šç•¶å‚³å…¥é€™å€‹ factory functionï¼Œå¯ä»¥å°‡ç•°æ­¥è«‹æ±‚ç™¼é€èˆ‡å›å‚³è§£æå‰ï¼Œè¨­å®šè³‡æ–™çš„é è¨­å€¼ï¼Œå°æ–¼è¨­å®š &lt;code>lazy: true&lt;/code> é¸é …ç‰¹åˆ¥æœ‰ç”¨è™•ï¼Œè‡³å°‘æœ‰å€‹é è¨­å€¼å¯ä»¥ä½¿ç”¨åŠæ¸²æŸ“é¡¯ç¤ºã€‚&lt;/li>
&lt;li>&lt;strong>transform&lt;/strong>ï¼šä¿®æ”¹åŠ å·¥ &lt;code>handler&lt;/code> å›å‚³çµæœçš„å‡½æ•¸ã€‚&lt;/li>
&lt;li>&lt;strong>pick&lt;/strong>ï¼š&lt;code>handler&lt;/code> è‹¥å›å‚³ä¸€å€‹ç‰©ä»¶ï¼Œåªå¾ä¸­ä¾ç…§éœ€è¦çš„ key å–å‡ºè³‡æ–™ï¼Œä¾‹å¦‚åªå¾ JSON ç‰©ä»¶ä¸­å–çš„æŸå¹¾å€‹ key çµ„æˆæ–°çš„ç‰©ä»¶ã€‚&lt;/li>
&lt;li>&lt;strong>watch&lt;/strong>ï¼šç›£è½ &lt;code>ref&lt;/code> æˆ– &lt;code>reactive&lt;/code> éŸ¿æ‡‰å¼è³‡æ–™ç™¼ç”Ÿè®ŠåŒ–æ™‚ï¼Œè§¸ç™¼é‡æ–°è«‹æ±‚è³‡æ–™ï¼Œé©ç”¨æ–¼è³‡æ–™åˆ†é ã€éæ¿¾çµæœæˆ–æœå°‹ç­‰æƒ…å¢ƒã€‚&lt;/li>
&lt;li>&lt;strong>initialCache&lt;/strong>ï¼šé è¨­ç‚º &lt;code>true&lt;/code>ï¼Œç•¶ç¬¬ä¸€æ¬¡è«‹æ±‚è³‡æ–™æ™‚ï¼Œå°‡æœƒæŠŠæœ‰æ•ˆçš„ payload å¿«å–ï¼Œä¹‹å¾Œçš„è«‹æ±‚åªè¦æ˜¯ç›¸åŒçš„ keyï¼Œéƒ½æœƒç›´æ¥å›å‚³å¿«å–çš„çµæœã€‚&lt;/li>
&lt;li>&lt;strong>immediate&lt;/strong>ï¼šé è¨­ç‚º &lt;code>true&lt;/code>ï¼Œè«‹æ±‚å°‡æœƒç«‹å³è§¸ç™¼ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="useasyncdata-çš„å›å‚³å€¼">useAsyncData() çš„å›å‚³å€¼&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>data&lt;/strong>ï¼šå‚³å…¥ç•°æ­¥å‡½æ•¸çš„å›å‚³çµæœã€‚&lt;/li>
&lt;li>&lt;strong>pending&lt;/strong>ï¼šä»¥ &lt;code>true&lt;/code> æˆ– &lt;code>false&lt;/code> è¡¨ç¤ºæ˜¯å¦æ­£åœ¨ç²å–è³‡æ–™ã€‚&lt;/li>
&lt;li>&lt;strong>refresh / execute&lt;/strong>ï¼šä¸€å€‹å‡½æ•¸ï¼Œå¯ä»¥ç”¨ä¾†é‡æ–°åŸ·è¡Œ &lt;code>handler&lt;/code> å‡½æ•¸ï¼Œå›å‚³æ–°çš„è³‡æ–™ï¼Œé¡ä¼¼é‡æ–°æ•´ç†ã€é‡æ‰“ä¸€æ¬¡ API çš„æ¦‚å¿µã€‚é è¨­æƒ…æ³ä¸‹ &lt;code>refresh()&lt;/code> åŸ·è¡Œå®Œä¸¦å›å‚³å¾Œæ‰èƒ½å†æ¬¡åŸ·è¡Œã€‚&lt;/li>
&lt;li>&lt;strong>error&lt;/strong>ï¼šè³‡æ–™ç²å–å¤±æ•—æ™‚å›å‚³çš„ç‰©ä»¶ã€‚&lt;/li>
&lt;/ul>
&lt;p>çœ‹åˆ°é€™è£¡ï¼Œæˆ‘å€‘å†é‡æ–°é–±è®€èˆ‡è§£é‡‹ &lt;code>useAsyncData()&lt;/code> çš„ç¯„ä¾‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pending&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">error&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">refresh&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">useAsyncData&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">$fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/count&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‘¼å« &lt;code>useAsyncData()&lt;/code> ä¸¦ä¸æ˜¯ç›´æ¥å¹«æˆ‘å€‘é€å‡º HTTP è«‹æ±‚ï¼Œè€Œæ˜¯åœ¨ &lt;code>handler&lt;/code> å…§ä½¿ç”¨ &lt;code>$fetch&lt;/code> ä¾†æ‰“ APIï¼Œåªæ˜¯ &lt;code>useAsyncData()&lt;/code> çµ„åˆå¼å‡½æ•¸ï¼Œå°è£äº†æ›´å¤šæ‰“ API æ™‚å¯ä»¥ä½¿ç”¨çš„æ–¹æ³•èˆ‡åƒæ•¸ï¼Œä¾†å› æ‡‰ä¸åŒçš„ä½¿ç”¨æƒ…å¢ƒã€‚ç•¶ç„¶å¦‚æœæƒ³è¦ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–å¥—ä»¶ä¾†æ›¿æ› &lt;code>$fetch&lt;/code> ä½†å¯èƒ½å°±æ²’è¾¦æ³•äº«å—å®ƒæ‰€å¸¶ä¾†çš„å¥½è™•ã€‚&lt;/p>
&lt;h3 id="usefetch">useFetch&lt;/h3>
&lt;p>é€™å€‹çµ„åˆå¼å‡½æ•¸å°‡ &lt;code>useAsyncData&lt;/code> å’Œ &lt;code>$fetch&lt;/code> é€²è¡ŒåŒ…è£ï¼Œç•¶ä½¿ç”¨é€™å€‹å‡½æ•¸æ™‚å®ƒæœƒæ ¹æ“š URL å’Œ fetch çš„é¸é …ä¾†è‡ªå‹•ç”¢ç”Ÿ &lt;code>useAsyncData&lt;/code> éœ€è¦çš„åƒæ•¸ &lt;code>key&lt;/code>ï¼Œå¦‚æœå‘¼å«çš„ API æ˜¯ä¼ºæœå™¨ç«¯æ‰€æä¾›çš„ï¼Œä¹Ÿæœƒè‡ªå‹•æ ¹æ“šä¼ºæœå™¨ API è·¯ç”±ä¾†ç‚ºè«‹æ±‚æä¾›é¡å‹æç¤ºï¼Œä¸¦æ¨æ–· API çš„å›å‚³é¡å‹ã€‚&lt;/p>
&lt;p>&lt;strong>useFetch() æ‰€å‚³å…¥åƒæ•¸çš„é¡å‹å¦‚ä¸‹&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Request&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">string&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="na">Request&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Request&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">options?&lt;/span>: &lt;span class="kt">UseFetchOptions&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">AsyncData&lt;/span>&lt;span class="err">&amp;lt;&lt;/span>&lt;span class="na">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">UseFetchOptions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">key?&lt;/span>: &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">method?&lt;/span>: &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">params?&lt;/span>: &lt;span class="kt">SearchParams&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">body?&lt;/span>: &lt;span class="kt">RequestInit&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;body&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Record&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">headers&lt;/span>&lt;span class="o">?:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">key&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">value&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="p">}[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">baseURL?&lt;/span>: &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">server?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lazy?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">immediate?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">?:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">DataT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">transform&lt;/span>&lt;span class="o">?:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>: &lt;span class="kt">DataT&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">DataT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pick?&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">watch?&lt;/span>: &lt;span class="kt">WatchSource&lt;/span>&lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">initialCache?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">AsyncData&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>: &lt;span class="kt">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pending&lt;/span>: &lt;span class="kt">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">boolean&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">refresh&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">void&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">execute&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">void&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">error&lt;/span>: &lt;span class="kt">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Error&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="na">boolean&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="usefetch-å‚³å…¥çš„åƒæ•¸">useFetch() å‚³å…¥çš„åƒæ•¸&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>url&lt;/strong>ï¼šè¦ç²å–è³‡æ–™çš„ URL æˆ– API Endpointã€‚&lt;/li>
&lt;li>&lt;strong>options&lt;/strong>ï¼š(ç¹¼æ‰¿è‡ª &lt;a class="link" href="https://github.com/unjs/ohmyfetch" target="_blank" rel="noopener"
>unjs/ohmyfetch&lt;/a> é¸é …èˆ‡ &lt;a class="link" href="https://nuxt.com/docs/api/composables/use-async-data#params" target="_blank" rel="noopener"
>AsyncDataOptions&lt;/a>)
&lt;ul>
&lt;li>&lt;strong>method&lt;/strong>ï¼šç™¼é€ HTTP è«‹æ±‚çš„æ–¹æ³•ï¼Œä¾‹å¦‚ GETã€POST æˆ– DELETE ç­‰ã€‚&lt;/li>
&lt;li>&lt;strong>params&lt;/strong>ï¼šæŸ¥è©¢åƒæ•¸ (Query params)ã€‚&lt;/li>
&lt;li>&lt;strong>body&lt;/strong>ï¼šè«‹æ±‚çš„ bodyï¼Œå¯ä»¥å‚³å…¥ä¸€å€‹ç‰©ä»¶ï¼Œå®ƒå°‡è‡ªå‹•è¢«è½‰åŒ–ç‚ºå­—ä¸²ã€‚&lt;/li>
&lt;li>&lt;strong>headers&lt;/strong>ï¼šè«‹æ±‚çš„æ¨™é ­ (headers)ã€‚&lt;/li>
&lt;li>&lt;strong>baseURL&lt;/strong>ï¼šè«‹æ±‚çš„ API è·¯å¾‘ï¼ŒåŸºæ–¼çš„ URLã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>options&lt;/strong>ï¼š(ç¹¼æ‰¿è‡ª &lt;code>useAsyncData&lt;/code> çš„é¸é …)
&lt;ul>
&lt;li>&lt;strong>key&lt;/strong>ï¼šå”¯ä¸€éµï¼Œå¯ä»¥ç¢ºä¿è³‡æ–™ä¸æœƒé‡è¤‡çš„ç²å–ï¼Œä¹Ÿå°±æ˜¯å¦‚æœ Key ç›¸åŒä¾¿ä¸æœƒå†ç™¼é€ç›¸åŒçš„è«‹æ±‚ï¼Œé™¤éé‡æ–°æ•´ç†é é¢ç”±å¾Œç«¯å†æ¬¡æ¸²æŸ“ç²å–ï¼Œæˆ–å‘¼å« &lt;code>useAsyncData&lt;/code> å›å‚³çš„ &lt;code>refresh()&lt;/code> å‡½æ•¸é‡æ–°å–å¾—è³‡æ–™ã€‚&lt;/li>
&lt;li>&lt;strong>server&lt;/strong>ï¼šæ˜¯å¦åœ¨ä¼ºæœå™¨ç«¯ç²å–è³‡æ–™ï¼Œé è¨­ç‚º &lt;code>true&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>lazy&lt;/strong>ï¼šæ˜¯å¦æ–¼è¼‰å…¥è·¯ç”±å¾Œæ‰é–‹å§‹åŸ·è¡Œç•°æ­¥è«‹æ±‚å‡½æ•¸ï¼Œé è¨­ç‚º &lt;code>false&lt;/code>ï¼Œæ‰€ä»¥æœƒé˜»æ­¢è·¯ç”±è¼‰å…¥ç›´åˆ°è«‹æ±‚å®Œæˆå¾Œæ‰é–‹å§‹æ¸²æŸ“é é¢å…ƒä»¶ã€‚&lt;/li>
&lt;li>&lt;strong>immediate&lt;/strong>ï¼šé è¨­ç‚º &lt;code>true&lt;/code>ï¼Œè«‹æ±‚å°‡æœƒç«‹å³è§¸ç™¼ã€‚&lt;/li>
&lt;li>&lt;strong>default&lt;/strong>ï¼šç•¶å‚³å…¥é€™å€‹ factory functionï¼Œå¯ä»¥å°‡ç•°æ­¥è«‹æ±‚ç™¼é€èˆ‡å›å‚³è§£æå‰ï¼Œè¨­å®šè³‡æ–™çš„é è¨­å€¼ï¼Œå°æ–¼è¨­å®š &lt;code>lazy: true&lt;/code> é¸é …ç‰¹åˆ¥æœ‰ç”¨è™•ï¼Œè‡³å°‘æœ‰å€‹é è¨­å€¼å¯ä»¥ä½¿ç”¨åŠæ¸²æŸ“é¡¯ç¤ºã€‚&lt;/li>
&lt;li>&lt;strong>transform&lt;/strong>ï¼šä¿®æ”¹åŠ å·¥ &lt;code>handler&lt;/code> å›å‚³çµæœçš„å‡½æ•¸ã€‚&lt;/li>
&lt;li>&lt;strong>pick&lt;/strong>ï¼š&lt;code>handler&lt;/code> è‹¥å›å‚³ä¸€å€‹ç‰©ä»¶ï¼Œåªå¾ä¸­ä¾ç…§éœ€è¦çš„ key å–å‡ºè³‡æ–™ï¼Œä¾‹å¦‚åªå¾ JSON ç‰©ä»¶ä¸­å–çš„æŸå¹¾å€‹ key çµ„æˆæ–°çš„ç‰©ä»¶ã€‚&lt;/li>
&lt;li>&lt;strong>watch&lt;/strong>ï¼šç›£è½ &lt;code>ref&lt;/code> æˆ– &lt;code>reactive&lt;/code> éŸ¿æ‡‰å¼è³‡æ–™ç™¼ç”Ÿè®ŠåŒ–æ™‚ï¼Œè§¸ç™¼é‡æ–°è«‹æ±‚è³‡æ–™ï¼Œé©ç”¨æ–¼è³‡æ–™åˆ†é ã€éæ¿¾çµæœæˆ–æœå°‹ç­‰æƒ…å¢ƒã€‚&lt;/li>
&lt;li>&lt;strong>initialCache&lt;/strong>ï¼šé è¨­ç‚º &lt;code>true&lt;/code>ï¼Œç•¶ç¬¬ä¸€æ¬¡è«‹æ±‚è³‡æ–™æ™‚ï¼Œå°‡æœƒæŠŠæœ‰æ•ˆçš„ payload å¿«å–ï¼Œä¹‹å¾Œçš„è«‹æ±‚åªè¦æ˜¯ç›¸åŒçš„ keyï¼Œéƒ½æœƒç›´æ¥å›å‚³å¿«å–çš„çµæœã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="usefetch-çš„å›å‚³å€¼">useFetch() çš„å›å‚³å€¼&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>data&lt;/strong>ï¼šå‚³å…¥ç•°æ­¥å‡½æ•¸çš„å›å‚³çµæœã€‚&lt;/li>
&lt;li>&lt;strong>pending&lt;/strong>ï¼šä»¥ &lt;code>true&lt;/code> æˆ– &lt;code>false&lt;/code> è¡¨ç¤ºæ˜¯å¦æ­£åœ¨ç²å–è³‡æ–™ã€‚&lt;/li>
&lt;li>&lt;strong>refresh / execute&lt;/strong>ï¼šä¸€å€‹å‡½æ•¸ï¼Œå¯ä»¥ç”¨ä¾†é‡æ–°åŸ·è¡Œ &lt;code>handler&lt;/code> å‡½æ•¸ï¼Œå›å‚³æ–°çš„è³‡æ–™ï¼Œé¡ä¼¼é‡æ–°æ•´ç†ã€é‡æ‰“ä¸€æ¬¡ API çš„æ¦‚å¿µã€‚é è¨­æƒ…æ³ä¸‹ &lt;code>refresh()&lt;/code> åŸ·è¡Œå®Œä¸¦å›å‚³å¾Œæ‰èƒ½å†æ¬¡åŸ·è¡Œã€‚&lt;/li>
&lt;li>&lt;strong>error&lt;/strong>ï¼šè³‡æ–™ç²å–å¤±æ•—æ™‚å›å‚³çš„ç‰©ä»¶ã€‚&lt;/li>
&lt;/ul>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæˆ‘å€‘æ–°å¢ä¸€å€‹ Server APIï¼Œ&lt;strong>./server/api/about.js&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiaboutjs">server/api/about.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Ryan&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ç”·&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ryanchien8125@gmail.com&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ä¸€å€‹è·¯ç”±é é¢ï¼Œ&lt;strong>./pages/about/useFetch.vue&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesaboutusefetchvue">pages/about/useFetch.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-24 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-2xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">è«‹æ±‚ç‹€æ…‹&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">pending&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;è«‹æ±‚ä¸­&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;å®Œæˆ&amp;#39;&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="nt">v-if&lt;/span>&lt;span class="s">=&amp;#34;error&amp;#34; class=&amp;#34;mt-4 text-6xl text-gray-600&amp;#34;&amp;gt;æ˜¯å¦éŒ¯èª¤: {{ error }}&amp;lt;/span&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;span class=&amp;#34;mt-4 text-2xl text-gray-600&amp;#34;&amp;gt;å›å‚³è³‡æ–™:&amp;lt;/span&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;p class=&amp;#34;mt-4 text-3xl font-semibold text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="na">data&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-6 rounded-sm bg-blue-500 py-3 px-8 text-xl font-medium text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;refresh&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">é‡æ–°ç²å–è³‡æ–™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pending&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">error&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">refresh&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/about&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pick&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€é &lt;code>useFetch()&lt;/code> æˆ‘å€‘èƒ½æ›´ç°¡å–®çš„ç™¼é€ API è«‹æ±‚ï¼Œä¸¦èƒ½å¾—åˆ°ç‹€æ…‹èˆ‡é‡æ–°ç²å–è³‡æ–™çš„å‡½æ•¸ï¼Œç”šè‡³åœ¨ç¬¬ä¸€æ¬¡é€²å…¥é é¢æ™‚ï¼Œåˆ©ç”¨ &lt;code>$fetch&lt;/code> å¯ä»¥ç›´æ¥å‘¼å«ä¼ºæœå™¨ API å‡½æ•¸çš„ç‰¹æ€§ä¾†é™ä½ API çš„è«‹æ±‚æ¬¡æ•¸ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964759_a9278ba6d0_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="æ””æˆªå™¨">æ””æˆªå™¨&lt;/h3>
&lt;p>æˆ‘å€‘ä¹Ÿå¯ä»¥é€é &lt;code>$fetch&lt;/code> æä¾›çš„é¸é …ä¾†è¨­ç½®æ””æˆªå™¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pending&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">error&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">refresh&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/auth/login&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onRequest&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è¨­å®šè«‹æ±‚æ™‚å¤¾å¸¶çš„æ¨™é ­
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authorization&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onRequestError&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">error&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è™•ç†è«‹æ±‚æ™‚ç™¼ç”Ÿçš„éŒ¯èª¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onResponse&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è™•ç†è«‹æ±‚å›æ‡‰çš„è³‡æ–™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onResponseError&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è™•ç†è«‹æ±‚å›æ‡‰ç™¼ç”Ÿçš„éŒ¯èª¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="uselazyasyncdata">useLazyAsyncData&lt;/h3>
&lt;p>é è¨­çš„æƒ…æ³ä¸‹ï¼Œ&lt;code>useAsyncData()&lt;/code> çš„ &lt;code>options.lazy&lt;/code> ç‚º &lt;code>false&lt;/code>ï¼Œæ„æ€æ˜¯ï¼Œé è¨­å¾—æƒ…æ³ä¸‹ï¼Œç•¶é€²å…¥è·¯ç”±å¾Œï¼Œæœƒé–‹å§‹åŸ·è¡Œç•°æ­¥è«‹æ±‚å‡½æ•¸ï¼Œä¸¦æœƒæœƒé˜»æ­¢è·¯ç”±è¼‰å…¥å…ƒä»¶ç­‰ï¼Œç›´åˆ°è«‹æ±‚å®Œæˆå¾Œæ‰é–‹å§‹æ¸²æŸ“é é¢å…ƒä»¶ã€‚&lt;/p>
&lt;p>&lt;code>useLazyAsyncData()&lt;/code> å‰‡æ˜¯ &lt;code>options.lazy&lt;/code> é è¨­ç‚º &lt;code>true&lt;/code> çš„å°è£ï¼Œä¹Ÿå°±æ˜¯è«‹æ±‚è³‡æ–™æ™‚å®ƒå°‡ä¸æœƒé˜»å¡ï¼Œä¸¦è®“é é¢ç¹¼çºŒæ¸²æŸ“å…ƒä»¶ã€‚&lt;/p>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæˆ‘å€‘æ–°å¢ä¸€å€‹ Server APIï¼Œä¸¦ç¨å¾®æ·»åŠ ä¸€ä¸‹å»¶é²ï¼Œæ¨¡æ“¬ API ç´„éœ€è¦è™•ç† 2 ç§’æ‰å›å‚³è³‡æ–™ï¼Œ&lt;strong>./server/api/count.js&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapicountjs-1">server/api/count.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1">// ç­‰å¾… 2 ç§’
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stringify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">counter&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ä¸€å€‹è·¯ç”±é é¢ï¼Œ&lt;strong>./pages/count/useLazyAsyncData.vue&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescountuselazyasyncdatavue">pages/count/useLazyAsyncData.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-24 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ç€è¦½æ¬¡æ•¸&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/count&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å›é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useLazyAsyncData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">$fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/count&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥ç™¼ç¾ï¼Œæˆ‘å€‘ä½¿ç”¨ &lt;code>useLazyAsyncData()&lt;/code> å¾Œï¼Œæœƒèˆ‡å‰é¢ä½¿ç”¨ &lt;code>useAsyncData()&lt;/code> çš„æ•ˆæœä¸ä¸€æ¨£ï¼Œæœƒå…ˆæ¸²æŸ“å‡ºå…ƒä»¶ï¼Œå³çœ‹åˆ°çš„æ–‡å­—ã€Œç€è¦½æ¬¡æ•¸ã€ï¼Œä¸¦å† API å›å‚³å¾Œæ‰éŸ¿æ‡‰è³‡æ–™é‡æ–°æ¸²æŸ“æ•¸å€¼ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186908_7d896f5934_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é€é &lt;code>default&lt;/code> é¸é …å¯ä»¥ä¾†å»ºç«‹ API å›å‚³å‰çš„é è¨­å€¼ï¼Œåœ¨ &lt;code>options.lazy&lt;/code> ç‚º &lt;code>true&lt;/code> çš„æƒ…æ³ä¸‹ï¼Œéƒ½å»ºè­°è¨­å®šä¸€ä¸‹é è¨­å€¼ï¼Œå¯ä»¥è®“ä½¿ç”¨è€…é«”é©—æ›´å¥½ä¸€äº›ã€‚&lt;/p>
&lt;p>æ·»åŠ  &lt;strong>default&lt;/strong> é¸é …ï¼Œ&lt;strong>./pages/count/useLazyAsyncData.vue&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescountuselazyasyncdatavue-1">pages/count/useLazyAsyncData.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-24 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ç€è¦½æ¬¡æ•¸&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å›é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useLazyAsyncData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">$fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/count&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="s1">&amp;#39;-&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ API è«‹æ±‚å›ä¾†å‰ï¼Œé è¨­å€¼æœƒæ˜¯ &lt;code>-&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964784_390b71eeb8_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="uselazyfetch">useLazyFetch&lt;/h3>
&lt;p>å¦‚åŒ &lt;code>useLazyAsyncData&lt;/code> æ‰€æè¿°ï¼Œ&lt;code>useLazyFetch&lt;/code> å‰‡æ˜¯ &lt;strong>useFetch&lt;/strong> çš„ &lt;code>options.lazy&lt;/code> é¸é …é è¨­ç‚º &lt;code>true&lt;/code> çš„å°è£ã€‚&lt;/p>
&lt;h4 id="é‡æ–°ç²å–è³‡æ–™">é‡æ–°ç²å–è³‡æ–™&lt;/h4>
&lt;p>å‰é¢æœ‰æåˆ°æˆ‘å€‘å¯ä»¥ä½¿ç”¨ &lt;code>refresh()&lt;/code> ä¾†é‡æ–°ç²å–å…·æœ‰ä¸åŒæŸ¥è©¢åƒæ•¸çš„è³‡æ–™ã€‚&lt;/p>
&lt;h4 id="refreshnuxtdata">refreshNuxtData&lt;/h4>
&lt;p>ä½ ä¹Ÿå¯ä»¥é€é &lt;code>refreshNuxtData&lt;/code> ä¾†ä½¿ &lt;strong>useAsyncData&lt;/strong>ã€&lt;strong>useLazyAsyncData&lt;/strong>ã€&lt;strong>useFetch&lt;/strong> èˆ‡ &lt;strong>useLazyFetch&lt;/strong> çš„å¿«å–å¤±æ•ˆï¼Œå†è§¸ç™¼åˆ·æ–°è³‡æ–™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">pending&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;Loading&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;refresh&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">Refresh&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">pending&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useLazyAsyncData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">$fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/count&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">refresh&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">refreshNuxtData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Nuxt å·²ç¶“ç‚ºæˆ‘å€‘å°è£å¥½å¯ä»¥æ‰“ API çš„çµ„åˆå‡½æ•¸ï¼Œç”¨èµ·ä¾†ä¹Ÿç›¸ç•¶ç°¡å–®æ–¹ä¾¿ï¼Œç…§è‘—&lt;a class="link" href="https://nuxt.com/docs/api/composables/use-async-data#example" target="_blank" rel="noopener"
>å®˜ç¶²ç¯„ä¾‹&lt;/a>åŠ &lt;a class="link" href="https://github.com/unjs/ofetch" target="_blank" rel="noopener"
>ohmyfetch&lt;/a> å¥—ä»¶çš„èªªæ˜ï¼Œç›¸ä¿¡å¾ˆå¿«å°±èƒ½ä¸Šæ‰‹ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ç‹€æ…‹ç®¡ç†-state-management">ç‹€æ…‹ç®¡ç† (State Management)&lt;/h2>
&lt;p>Vue 3 çˆ¶å­å…ƒä»¶é–“è³‡æ–™å‚³éèˆ‡è®€å¯«æˆ–æ˜¯è·¨å…ƒä»¶é–“çš„ç‹€æ…‹å…±äº«ï¼Œå¯ä»¥é¸æ“‡ä½¿ç”¨ &lt;strong>Props / Emit&lt;/strong>ã€&lt;strong>Provide / Inject&lt;/strong> æˆ– &lt;strong>Vuex store&lt;/strong> ä¾†è™•ç†ï¼Œé€™ä¸‰ç¨®è³‡æ–™æµéƒ½ä¸å¤§ä¸€æ¨£ï¼Œæˆ‘å€‘ä¹Ÿæœƒä¾æ“šæƒ…å¢ƒä¾†æ±ºå®šç‹€æ…‹ç®¡ç†çš„æ–¹å¼ã€‚é€™é‚Šæœƒé‡å° Nuxt 3 æ‰€æä¾›çš„çµ„åˆå¼å‡½æ•¸ &lt;code>useState&lt;/code> ä¾†è¬›è¿°å…ƒä»¶é–“çš„å…±äº«ç‹€æ…‹ï¼Œæ‡‰è©²å¦‚ä½•åšå®šç¾©ï¼Œä»¥åŠä½¿ç”¨ &lt;a class="link" href="https://pinia.vuejs.org/" target="_blank" rel="noopener"
>Pinia&lt;/a> æ›¿ä»£ &lt;a class="link" href="https://vuex.vuejs.org/" target="_blank" rel="noopener"
>Vuex&lt;/a> ä¾†åšç‹€æ…‹ç®¡ç†ã€‚&lt;/p>
&lt;h3 id="hydration">Hydration&lt;/h3>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘å…ˆä¾†çœ‹ä¸€å€‹ä¾‹å­ï¼Œå»ºç«‹ &lt;strong>./pages/random.vue&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesrandomvue">pages/random.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-9xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">round&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é é¢å‘ˆç¾å‡ºï¼Œæ¯æ¬¡é‡æ–°æ•´ç†é é¢ï¼Œé é¢æœƒé¡¯ç¤ºæ–°çš„äº‚æ•¸ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186923_40cff8bd77_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç´°å¿ƒä½ çš„å¯èƒ½æœƒç™¼ç¾ï¼Œæ¯æ¬¡é‡æ•´é é¢ï¼Œæ•¸å­—å¥½åƒ&lt;code>è®ŠåŒ–äº†å…©æ¬¡&lt;/code>ï¼Œåœ–ä¸­æ•¸å­—åœç•™åœ¨ &lt;strong>517&lt;/strong>ï¼Œé‡æ–°æ•´ç†ç¶²é å¾Œç«Ÿç„¶å…ˆè®Šæˆäº† &lt;strong>163&lt;/strong> å¾Œå†è®Šæˆ &lt;strong>101&lt;/strong>ã€‚&lt;/p>
&lt;p>é€™å€‹ç¾è±¡å…¶å¯¦æ˜¯ä¼ºæœå™¨ç«¯æ¸²æŸ“å¾Œèˆ‡å®¢æˆ¶ç«¯å†æ¬¡æ¸²æŸ“æ‰€å°è‡´çš„ã€‚è¬›çš„ç™½è©±ä¸€é»å°±æ˜¯ï¼Œå› ç‚º Nuxt é è¨­çš„æ¸²æŸ“æ¨¡å¼ &lt;a class="link" href="https://nuxt.com/docs/guide/concepts/rendering/#universal-rendering" target="_blank" rel="noopener"
>Universal Rendering&lt;/a> åœ¨ SSR æ™‚æœŸï¼Œå°‡ &lt;code>random.vue&lt;/code> å…§å®¹æ–¼ä¼ºæœå™¨ç«¯æ¸²æŸ“å®Œæˆå¾Œäº‚å‡ºç”¢ç”Ÿå‡º &lt;strong>163&lt;/strong> ä½œç‚ºåˆå§‹å€¼ï¼Œæ„å³ &lt;strong>const count = ref(&lt;code>163&lt;/code>)&lt;/strong>ï¼Œæ‰€ä»¥ç¶²é å…ˆé¡¯ç¤ºäº† &lt;strong>163&lt;/strong> é€™å€‹æ•¸å­—ï¼ŒåŒæ™‚ï¼Œç€è¦½å™¨çš„èƒŒæ™¯ä¹Ÿæ­£åœ¨ä¸‹è¼‰å®¢æˆ¶ç«¯æ‰€éœ€è¦çš„ JS æº–å‚™æ¥æ‰‹åš CSRï¼Œç•¶ JS è¼‰å…¥å®Œæˆå¾Œåˆå†ä¸€æ¬¡çš„åŸ·è¡Œ Vue å…ƒä»¶çš„ &lt;strong>const count = ref(Math.round(Math.random() * 1000))&lt;/strong> é€™æ®µç¨‹å¼ç¢¼ï¼Œæ­¤æ™‚äº‚æ•¸ç”¢ç”Ÿäº† &lt;strong>101&lt;/strong> é€™å€‹æ•¸å­—ï¼Œå®¢æˆ¶ç«¯ä¹Ÿå°±é‡æ–°æ¸²æŸ“å‡ºäº† &lt;strong>101&lt;/strong> æ–¼é é¢ä¸Šï¼Œé€™ä¹Ÿå°±æ˜¯ç‚ºä»€éº¼æ¯æ¬¡é‡æ–°æ•´ç†æ•¸å­—æœƒè®ŠåŒ–å…©æ¬¡çš„åŸå› ã€‚&lt;/p>
&lt;p>Nuxt é è¨­çš„&lt;strong>é€šç”¨æ¸²æŸ“ (Universal Rendering)&lt;/strong> æ¨¡å¼ï¼Œæ˜¯çµåˆäº† SSR èˆ‡ CSR çš„æŠ€è¡“ï¼Œåœ¨ Nuxt æ”¶åˆ°ç¶²é è«‹æ±‚å¾Œï¼Œæœƒåœ¨ä¼ºæœå™¨æ¸²æŸ“å‡º HTML å›å‚³è‡³ç€è¦½å™¨æ¸²æŸ“é¡¯ç¤ºå‡ºéœæ…‹é é¢ï¼ŒåŒæ™‚é–‹å§‹è¼‰å…¥éœ€è¦çš„ Vue ç¨‹å¼ç¢¼ï¼Œè®“å®¢æˆ¶ç«¯æ¥æ‰‹ç‚º SPA ä½¿å¾—ç¶²é å…·æœ‰äº’å‹•æ€§ï¼Œæ¥æ‰‹å¾Œçš„æ¸²æŸ“è¡Œç‚ºéƒ½æ˜¯åœ¨å®¢æˆ¶ç«¯é€²è¡Œçš„ CSRï¼Œé€™ä¹Ÿå°±è®“é€šç”¨æ¸²æŸ“åŒæ™‚å…¼å…· SSR å° SEO çš„å‹å–„ä»¥åŠ CSR è‰¯å¥½äº’é€šæ€§çš„ä½¿ç”¨è€…é«”é©—ã€‚&lt;/p>
&lt;p>é€™ç¨®åœ¨ç€è¦½å™¨ä¸­ä½¿å¾Œç«¯æ¸²æŸ“å‡ºçš„éœæ…‹é é¢å…·æœ‰äº¤äº’æ€§ï¼Œç¨±ä¹‹ç‚ºã€Œ&lt;strong>Hydration&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>ä¾æ“šå®˜ç¶²æ‰€æä¾›çš„&lt;a class="link" href="https://nuxt.com/docs/guide/concepts/rendering/" target="_blank" rel="noopener"
>åœ–ç‰‡&lt;/a>ï¼Œæˆ‘æ·»åŠ äº†ä¸€äº›æ–‡å­—ä¾†å¹«åŠ©ç†è§£ã€‚å‰è¿°æåˆ°äº†åœ¨ä¼ºæœå™¨æ¸²æŸ“ç¶²é  HTML çµ¦ç€è¦½å™¨æ™‚ï¼Œä½¿ç”¨å¯ä»¥æ­£å¸¸çš„çœ‹è¦‹ç¶²é ï¼Œä½†æ˜¯åœ¨ JS ä¸‹è¼‰å®Œæˆä¹‹å‰ï¼Œç¶²é æ˜¯&lt;code>ä¸å…·æœ‰äº’å‹•æ€§&lt;/code>çš„ï¼Œä¹Ÿå°±æ˜¯é‚„ä¸å…·æœ‰è·¯ç”±è·³è½‰ç­‰ Vue äº’å‹•é‚è¼¯ï¼Œç›´è‡³ JS ä¸‹è¼‰å®Œå¾Œæœƒ Hydrate Vue ç¨‹å¼ç¢¼ï¼Œé€™æ™‚å®¢æˆ¶ç«¯å°±å®Œå…¨æ¥æ‰‹å¾ŒçºŒçš„äº’å‹•èˆ‡ CSRï¼Œåˆ°é€™é‚Š Hydration å®Œæˆï¼Œæˆ‘å€‘ä¹Ÿå°±èƒ½èˆ‡ç¶²ç«™å®Œæ•´çš„äº’å‹•äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964794_a7eaeeb3ef_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å›åˆ°ä¸€é–‹å§‹çš„ä¾‹å­ï¼Œæˆ‘å€‘åœ¨ç€è¦½å™¨æ‰“é–‹é–‹ç™¼è€…å·¥å…·çš„ä¸»æ§å° (Console)ï¼Œå¯ä»¥ç™¼ç¾åˆ°å…¶å¯¦é–‹ç™¼çš„éç¨‹ï¼Œä¹Ÿå‡ºç¾äº†éŒ¯èª¤æç¤ºã€Œ&lt;code>Hydration completed but contains mismatches.&lt;/code>ã€ï¼Œå‘Šè¨´æˆ‘å€‘ &lt;strong>Hydration&lt;/strong> å®Œæˆäº†ä½†æ˜¯åŒ…å«äº†ä¸åŒ¹é…ï¼Œæ­£æ˜¯å‰ç«¯èˆ‡å¾Œç«¯åˆå§‹å€¼ä¸åŒçš„éŒ¯èª¤ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964799_2110719e1c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘å°‡ä»‹ç´¹ Nuxt æä¾›çš„çµ„åˆå¼å‡½æ•¸ &lt;code>useState&lt;/code>ï¼Œä¾†å¯ä»¥è§£æ±ºé€™å€‹å•é¡Œã€‚&lt;/p>
&lt;h3 id="nuxt-3-çš„ç‹€æ…‹ç®¡ç†-state-management">Nuxt 3 çš„ç‹€æ…‹ç®¡ç† (State Management)&lt;/h3>
&lt;p>Nuxt æä¾›äº†ä¸€å€‹çµ„åˆå¼å‡½æ•¸ &lt;code>useState&lt;/code> ç”¨ä¾†å»ºç«‹å…·æœ‰éŸ¿æ‡‰å¼åŠå°æ–¼ SSR å‹å–„çš„å…±äº«ç‹€æ…‹ã€‚&lt;/p>
&lt;p>åœ¨å‰é¢çš„ä¾‹å­æˆ‘å€‘æåˆ°å› ç‚º &lt;strong>Hydration&lt;/strong> è€Œå°è‡´å‰å¾Œç«¯çš„åˆå§‹å€¼å¯èƒ½ä¸ä¸€è‡´ï¼Œè€Œ &lt;code>useState&lt;/code> æ˜¯ä¸€å€‹å° SSR å‹å–„çš„ &lt;code>ref&lt;/code> æ›¿ä»£å“ï¼Œä½¿ç”¨ &lt;code>useState&lt;/code> å»ºç«‹çš„éŸ¿æ‡‰å¼è®Šæ•¸ï¼Œå®ƒçš„å€¼æœƒåœ¨ä¼ºæœå™¨ç«¯æ¸²æŸ“å¾Œèˆ‡å®¢æˆ¶ç«¯ &lt;strong>Hydration&lt;/strong> æœŸé–“çš„å¾—ä»¥è¢«ä¿ç•™ã€‚&lt;/p>
&lt;p>&lt;code>useState&lt;/code> æœ‰å…©ç¨®æ¥æ”¶ä¸åŒæ•¸é‡åƒæ•¸çš„å‘¼å«æ–¹å¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useState&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="o">?:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">T&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useState&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">key&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">init&lt;/span>&lt;span class="o">?:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">T&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;strong>key&lt;/strong>ï¼šå”¯ä¸€éµï¼Œç”¨æ–¼ç¢ºä¿è³‡æ–™èƒ½è¢«æ­£ç¢ºè«‹æ±‚ä¸”ä¸é‡è¤‡ã€‚&lt;/li>
&lt;li>&lt;strong>init&lt;/strong>ï¼šç”¨æ–¼æä¾›çš„åˆå§‹å€¼çµ¦ State çš„å‡½æ•¸ï¼Œé€™å€‹å‡½æ•¸ä¹Ÿå¯ä»¥å›å‚³ä¸€å€‹ &lt;code>ref&lt;/code>ã€‚&lt;/li>
&lt;/ul>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæ–°å¢ &lt;strong>./pages/count.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescountvue-1">pages/count.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-9xl font-semibold text-emerald-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">round&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥ç™¼ç¾ï¼Œä½¿ç”¨ &lt;code>useState&lt;/code> åˆå§‹åŒ– count çš„å€¼å¾Œï¼Œç€è¦½å™¨é‡æ•´é é¢ï¼Œå°±ä¸åƒå‰é¢çš„ä¾‹å­æœƒç™¼ç”Ÿå…©æ¬¡çš„æ•¸å€¼è®Šå‹•ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698646_9098f6524f_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç•¶æˆ‘å€‘ä½¿ç”¨ &lt;code>useState&lt;/code> ä¸¦ä»¥ &lt;strong>count&lt;/strong> ç•¶ä½œ keyï¼Œåœ¨ç¶²é è«‹æ±‚é€²å…¥ä¼ºæœå™¨ç«¯åŸ·è¡Œæ™‚ï¼Œé‚„æ²’æœ‰é€™å€‹ &lt;strong>count&lt;/strong> ç‹€æ…‹ï¼Œæ‰€ä»¥åŸ·è¡Œäº†åˆå§‹åŒ–å‡½æ•¸ç”¢ç”Ÿå‡ºä¸€å€‹äº‚æ•¸ï¼Œä¾‹å¦‚ &lt;strong>888&lt;/strong> å°±æœƒå›å‚³çµ¦ &lt;strong>count&lt;/strong> ç•¶ä½œéŸ¿æ‡‰å¼è®Šæ•¸çš„åˆå§‹å€¼ï¼Œæ­¤æ™‚é€™å€‹ç¶²é è«‹æ±‚ï¼Œå·²ç¶“æœ‰ä¸€å€‹ &lt;strong>count&lt;/strong> çš„éŸ¿æ‡‰å¼ç‹€æ…‹ï¼Œç•¶å‰ç«¯æ–¼ &lt;strong>Hydration&lt;/strong> æ­¥é©Ÿå†æ¬¡çš„åŸ·è¡Œäº†ä¸‹é¢é€™æ®µç¨‹å¼ç¢¼ï¼Œ&lt;code>useState&lt;/code> ä¸€æ¨£æ˜¯ä»¥ &lt;strong>count&lt;/strong> ç•¶ä½œ &lt;strong>key&lt;/strong>ï¼Œä½†æ˜¯å­˜åœ¨äº†ä¸€å€‹ç”±ä¼ºæœå™¨ç«¯å»ºç«‹å¥½çš„ &lt;strong>count&lt;/strong>ï¼Œå°±æœƒç›´æ¥ä½¿ç”¨è©²ç‹€æ…‹ï¼Œä¹Ÿå°±ä¸æœƒåœ¨åŸ·è¡Œåˆå§‹åŒ–å‡½æ•¸ï¼Œè€Œå°è‡´å‰å¾Œç«¯çš„åˆå§‹ç‹€æ…‹ä¸ä¸€è‡´çš„å•é¡Œã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">round&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="usestate-çš„åŸºæœ¬ç”¨æ³•">useState çš„åŸºæœ¬ç”¨æ³•&lt;/h3>
&lt;p>æ–°å¢ &lt;strong>./pages/counter/increment.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescounterincrementvue">pages/counter/increment.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-9xl font-semibold text-sky-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8 flex flex-row&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-base mx-2 rounded-full bg-sky-500 px-4 py-2 text-xl text-white hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;counter++&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">å¢åŠ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-base mx-2 rounded-full bg-sky-500 px-4 py-2 text-xl text-white hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;counter--&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">æ¸›å°‘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-slate-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡é€²å…¥é€™å€‹é é¢&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">æ•¸å€¼åˆå§‹è¨­å®šç‚º&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å›é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘ä½¿ç”¨ &lt;code>useState&lt;/code> ä¸¦ä»¥ &lt;strong>counter&lt;/strong> ç•¶ä½œ keyï¼Œé¦–æ¬¡æ–¼å¾Œç«¯æ¸²æŸ“æ™‚æœƒåˆå§‹åŒ–ç‚º 0ï¼Œç•¶å‰ç«¯Hydration æ­¥é©Ÿè¼‰å…¥ Vue æˆ–è·³è½‰é é¢ï¼Œå› ç‚ºä½¿ç”¨ç›¸åŒçš„ key æ‰€ä»¥é€™å€‹ç‹€æ…‹ä¹Ÿæœƒç¹¼çºŒè¢«ä¿ç•™ï¼Œç›´è‡³æˆ‘å€‘ä¸‹ä¸€æ¬¡é‡æ–°æ•´ç†ç¶²é ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698666_a945fe9cc8_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="usestate-çš„å…±äº«ç‹€æ…‹">useState çš„å…±äº«ç‹€æ…‹&lt;/h3>
&lt;p>å‰é¢ &lt;code>useState&lt;/code> çš„åŸºæœ¬ç”¨æ³•ä»¥ &lt;code>counter&lt;/code> ç•¶ä½œ &lt;strong>key&lt;/strong>ï¼Œæˆ‘å€‘å¯ä»¥å†å»ºç«‹ä¸åŒçš„é é¢å…ƒä»¶ä¸¦ä½¿ç”¨ &lt;code>useState('counter')&lt;/code> å°±å¯ä»¥æŠŠé€™å€‹ç‹€æ…‹æ‹¿åšå‡ºä¾†ç”¨ï¼Œä¹Ÿå°±é”åˆ°äº†åœ¨ä»»ä½•å…ƒä»¶ä¸­å¯ä»¥å…±äº«ç›¸åŒçš„éŸ¿æ‡‰å¼ç‹€æ…‹ã€‚&lt;/p>
&lt;p>æ–°å¢ &lt;strong>./pages/counter/surprise.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescountersurprisevue">pages/counter/surprise.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-9xl font-semibold text-sky-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8 flex flex-row&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-base mx-2 rounded-full bg-sky-500 px-4 py-2 text-xl text-white hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;counter++&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">å¢åŠ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-base mx-2 rounded-full bg-sky-500 px-4 py-2 text-xl text-white hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;counter--&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">æ¸›å°‘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-slate-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡é€²å…¥é€™å€‹é é¢&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">æ•¸å€¼åˆå§‹è¨­å®šç‚ºäº‚æ•¸&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å›é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">round&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å¯ä»¥ä»»æ„å°èˆªè‡³ &lt;strong>/counter/increment&lt;/strong> èˆ‡ &lt;strong>/counter/surprise&lt;/strong> é é¢ï¼Œå¯ä»¥ç™¼ç¾å…©å€‹é é¢å¯ä»¥å…±äº«ç›¸åŒçš„ &lt;code>counter&lt;/code> ç‹€æ…‹ï¼Œç•¶é¦–æ¬¡é€²å…¥æˆ–é‡æ–°æ•´ç† &lt;strong>increment.vue&lt;/strong> é é¢ï¼Œæœƒå°‡ &lt;code>counter&lt;/code> åˆå§‹åŒ–ç‚º &lt;strong>0&lt;/strong>ï¼›è€Œé¦–æ¬¡é€²å…¥æˆ–é‡æ–°æ•´ç† &lt;code>surprise.vue&lt;/code> é é¢å‰‡æ˜¯ç”¢ç”Ÿä¸€å€‹äº‚æ•¸çµ¦äºˆ &lt;strong>counter&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964824_e6466ee572_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç•¶ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥åœ¨å…¶ä»–å…ƒä»¶ä¸­ä½¿ç”¨ &lt;code>useState('counter')&lt;/code>ï¼Œå°±å¯ä»¥å–å¾—å…±äº«çš„éŸ¿æ‡‰å¼è£æ…‹ï¼Œä½†å¦‚æœé€™å€‹å…ƒä»¶æ˜¯åˆæ¬¡é€²å…¥è€Œæ²’æœ‰é è¨­å€¼çš„å»ºç«‹å‡½æ•¸ï¼Œå¯èƒ½æœƒå¼•ç™¼ä¸€äº›éŒ¯èª¤ï¼Œè¦ç‰¹åˆ¥çš„æ³¨æ„ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨çµ„åˆå¼å‡½æ•¸å»ºç«‹å…±äº«ç‹€æ…‹">ä½¿ç”¨çµ„åˆå¼å‡½æ•¸å»ºç«‹å…±äº«ç‹€æ…‹&lt;/h3>
&lt;p>å¦‚ä¸‹ä¾‹å­ï¼Œæˆ‘å€‘å¯ä»¥å»ºç«‹çµ„åˆå¼å‡½æ•¸ (Composables) ä¾†æ­é… &lt;code>useState&lt;/code>ã€‚&lt;/p>
&lt;p>æ–°å¢ &lt;strong>./composables/states.ts&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="composablesstatests">composables/states.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useColor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">string&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="s1">&amp;#39;color&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="s1">&amp;#39;green&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ &lt;strong>./pages/color.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescolorvue">pages/color.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-9xl font-semibold text-emerald-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">color&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">color&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useColor&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†æˆ‘å€‘å®šç¾©å¥½çš„çµ„åˆå¼å‡½æ•¸å°±å¯ä»¥è¢«è‡ªå‹•çš„å°å…¥åŠå»ºç«‹å…·æœ‰é¡å‹å®‰å…¨çš„ç‹€æ…‹ï¼Œåœ¨å„å€‹å…ƒä»¶ä¹‹é–“å°±å¯ä»¥å‘¼å«é€™å€‹çµ„åˆå‡½æ•¸ä¾†å–å¾—å…±äº«ç‹€æ…‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617134505_9cb332e17c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>åœ¨é€šç”¨æ¸²æŸ“çš„æ¨¡å¼ä¹‹ä¸‹ï¼Œç€è¦½å™¨æ–¼ Hydration å®Œæˆå‰ï¼Œç¶²é é›–ç„¶èƒ½ç€è¦½ä½†æ˜¯å°šä¸å…·æœ‰äº’å‹•æ€§ï¼Œç›´è‡³ Hydration å®Œæˆå¾Œï¼ŒVue çš„é é¢å…ƒä»¶æœƒé‡æ–°è¼‰å…¥èˆ‡ç¶å®šï¼Œå› æ­¤æˆ‘å€‘å°æ–¼éŸ¿æ‡‰å¼çš„è®Šæ•¸ï¼Œå„˜é‡ä½¿ç”¨ &lt;code>useState&lt;/code> ä¾†æ›¿ä»£ &lt;code>ref&lt;/code> ä»¥ç¢ºä¿ Hydration å‰å¾Œçš„åˆå§‹å€¼å¾—ä»¥è¢«ä¿ç•™ï¼Œè€Œä¸” &lt;code>useState&lt;/code> å› ç‚ºå¯ä»¥ä½¿ç”¨ &lt;code>key&lt;/code> ä¾†ä½¿ç‹€æ…‹æ–¼å…ƒä»¶é–“å…±äº«ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ç‹€æ…‹ç®¡ç†---store--pinia">ç‹€æ…‹ç®¡ç† - Store &amp;amp; Pinia&lt;/h2>
&lt;p>ä¸Šè¿°æˆ‘å€‘ä»‹ç´¹äº†å¦‚ä½•åœ¨ Nuxt 3 ä½¿ç”¨ useState ä¾†å»ºç«‹ä¸€å€‹å…ƒä»¶é–“çš„å…±äº«ç‹€æ…‹ï¼Œéš¨è‘—å°ˆæ¡ˆçš„å¥å£¯å¢å¤§ï¼Œæˆ‘å€‘å°±éœ€è¦ä¸€å€‹æ›´å¥½çš„æ–¹å¼ä¾†ç®¡ç†èˆ‡å„²å­˜é€™äº›ç‹€æ…‹ï¼Œä¾‹å¦‚åœ¨ Vue ä¸­ä½¿ç”¨ &lt;a class="link" href="https://vuex.vuejs.org/" target="_blank" rel="noopener"
>Vuex&lt;/a> æˆ– &lt;a class="link" href="https://pinia.vuejs.org/" target="_blank" rel="noopener"
>Pinia&lt;/a> ä¾†å»ºç«‹ä¸€å€‹ Store ç®¡ç†é€™äº›ç‹€æ…‹å°±æ˜¯ä¸€å€‹è§£æ±ºæ–¹æ¡ˆã€‚å¦‚æœä½ é‚„ä¸äº†è§£ &lt;a class="link" href="https://pinia.vuejs.org/" target="_blank" rel="noopener"
>Pinia&lt;/a>ï¼Œå¯ä»¥ç†è§£ç‚ºæ˜¯ Vuex v5ã€‚å› ç‚ºç›®å‰ &lt;a class="link" href="https://pinia.vuejs.org/" target="_blank" rel="noopener"
>Pinia&lt;/a> å·²ç¶“æˆç‚º Vue å®˜æ–¹æ¨è–¦çš„ç‹€æ…‹ç®¡ç†è§£æ±ºæ–¹æ¡ˆï¼Œæœ¬ç¯‡å°‡é‡å° Nuxt ä½¿ç”¨ &lt;a class="link" href="https://pinia.vuejs.org/" target="_blank" rel="noopener"
>Pinia&lt;/a> åšä¸€å€‹ç°¡å–®çš„ä»‹ç´¹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698686_1ffe5c9e82_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="pinia">Pinia&lt;/h3>
&lt;p>å¦‚æœä½ ä½¿ç”¨é Vuex å¤§æ¦‚æœƒçŸ¥é“ Vue å¦‚ä½•å»ºç«‹ Store ä¾†åšç‹€æ…‹ç®¡ç†ï¼Œéš¨è‘—æ™‚é–“ Vuex å¾ˆç©æ¥µçš„è’é›†ç¤¾ç¾¤åŠä½¿ç”¨è€…çš„&lt;a class="link" href="https://github.com/vuejs/rfcs/discussions/270" target="_blank" rel="noopener"
>æ„è¦‹&lt;/a>ä¾†è¦åŠƒ Vuex v5ã€‚Pinia çš„ä½œè€… &lt;a class="link" href="https://github.com/posva" target="_blank" rel="noopener"
>Eduardo&lt;/a> æ˜¯ Vue.js æ ¸å¿ƒåœ˜éšŠçš„æˆå“¡ä¹‹ä¸€ï¼Œä¹Ÿåƒèˆ‡è‘— Vuex çš„é–‹ç™¼ï¼Œç•¶æ™‚ä»–æ­£æ¸¬è©¦è‘— Vuex v5 çš„&lt;a class="link" href="https://github.com/kiaking/rfcs/blob/vuex-5/active-rfcs/0000-vuex-5.md" target="_blank" rel="noopener"
>ææ¡ˆ&lt;/a>ï¼Œè€Œ &lt;a class="link" href="https://pinia.vuejs.org/" target="_blank" rel="noopener"
>Pinia&lt;/a> æˆç‚ºæ¢ç´¢é€™äº›æ„è¦‹åŠå¯èƒ½æ€§çš„å…ˆé©…ï¼Œå¯¦ç¾äº† Vuex v5 å¯èƒ½çš„æ¨£å­ï¼Œç¾åœ¨ Pinia çš„ API å·²ç¶“é€²å…¥ç©©å®šç‹€æ…‹ï¼Œä¹Ÿæˆç‚º Vue å®˜æ–¹æ¨è–¦ä½¿ç”¨çš„ç‹€æ…‹ç®¡ç†è§£æ±ºæ–¹æ¡ˆï¼Œä¸¦éµå¾ªè‘— Vue ç”Ÿæ…‹çš„ RFC æµç¨‹ã€‚&lt;/p>
&lt;p>Pinia ç›¸è¼ƒæ–¼ Vuex æœ‰ä»¥ä¸‹å·®ç•°ï¼š&lt;/p>
&lt;ul>
&lt;li>æ²’æœ‰ &lt;code>mutation&lt;/code>ï¼Œåªéœ€è¦ä½¿ç”¨ &lt;code>action&lt;/code> å°±å¯ä»¥æ”¹ç‹€æ…‹ã€‚&lt;/li>
&lt;li>ä¸å†æœ‰ &lt;code>modules&lt;/code> å·¢ç‹€çš„çµæ§‹ï¼Œä¹Ÿä¸å†éœ€è¦ç‚ºæ¨¡çµ„å®šç¾©å‘½åç©ºé–“ï¼Œå› ç‚ºåœ¨ Pinia ä¸­ï¼Œå¯ä»¥å®šç¾©å¤šå€‹ Store è€Œä¸”æ¯å€‹éƒ½æ˜¯ç¨ç«‹çš„ä¹Ÿéƒ½å…·æœ‰è‡ªå·±çš„å‘½åç©ºé–“ã€‚&lt;/li>
&lt;li>æ›´å®Œæ•´çš„æ”¯æ´ TypeSctiptï¼Œä¹Ÿä¸å†éœ€è¦ä½¿ç”¨å¤šé¤˜çš„ types ä¾†å°è£ï¼Œæ‰€æœ‰çš„å…§å®¹éƒ½æ˜¯é¡å‹åŒ–çš„ï¼ŒPinia API çš„è¨­è¨ˆæ–¹å¼ç›¡å¯èƒ½ä½¿ç”¨ TypeSctipt é¡å‹æ¨æ–·ã€‚&lt;/li>
&lt;li>éå¸¸è¼•å·§ï¼Œç´„åƒ…æœ‰ 1 KBï¼Œè€Œä¸”å¯ä»¥è‡ªå®šç¾©æ’ä»¶ã€‚&lt;/li>
&lt;li>æ”¯æ´ä¼ºæœå™¨ç«¯æ¸²æŸ“ (SSR) èˆ‡ç¨‹å¼ç¢¼è‡ªå‹•æ‹†åˆ†ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="nuxt-3-å®‰è£-pinia">Nuxt 3 å®‰è£ Pinia&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D pinia @pinia/nuxt --force
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D pinia @pinia/nuxt --force&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ç›®å‰ç…§è‘—å®˜æ–¹å®‰è£ Piniaï¼Œæœƒç™¼ç”Ÿä¸€äº›å•é¡Œï¼Œæ‰€ä»¥æˆ‘å€‘åœ¨å®‰è£æ™‚åŠ ä¸Š &lt;strong>&amp;ndash;force&lt;/strong> åƒæ•¸&lt;/p>
&lt;/blockquote>
&lt;p>æ·»åŠ  &lt;code>@pinia/nuxt&lt;/code> è‡³ &lt;code>nuxt.config.ts&lt;/code> çš„ &lt;strong>modules&lt;/strong> å±¬æ€§ä¸­ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts-3">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@pinia/nuxt&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å»ºç«‹ç¬¬ä¸€å€‹-pinia-çš„-store">å»ºç«‹ç¬¬ä¸€å€‹ Pinia çš„ Store&lt;/h3>
&lt;p>Pinia æä¾›äº†ä¸€å€‹å‡½æ•¸ &lt;code>defineStore&lt;/code> ç”¨ä¾†å®šç¾© storeï¼Œå‘¼å«æ™‚éœ€è¦ä¸€å€‹å”¯ä¸€çš„åç¨±ä¾†ç•¶ä½œç¬¬ä¸€å€‹åƒæ•¸å‚³éï¼Œä¹Ÿç¨±ä¹‹ç‚º &lt;code>id&lt;/code>ï¼ŒPinia æœƒä½¿ç”¨å®ƒä¾†å°‡ store é€£æ¥åˆ° devtoolsã€‚&lt;/p>
&lt;p>å»ºè­°å°‡å›å‚³çš„å‡½æ•¸å‘½åç‚º &lt;code>use...&lt;/code>ï¼Œä¾‹å¦‚ &lt;code>useCounterStore&lt;/code>ï¼Œ&lt;code>use&lt;/code> ä½œç‚ºé–‹é ­æ˜¯çµ„åˆå¼å‡½æ•¸å‘½åçš„ç´„å®šï¼Œä¾†ç¬¦åˆä½¿ç”¨ä¸Šçš„ç¿’æ…£ã€‚&lt;/p>
&lt;p>è€Œ &lt;code>defineStore&lt;/code> çš„ç¬¬äºŒå€‹åƒæ•¸ï¼Œå¯ä»¥å‚³å…¥ &lt;code>Options ç‰©ä»¶&lt;/code>æˆ–æ˜¯ &lt;code>Setup å‡½æ•¸&lt;/code>ï¼Œä¾‹å¦‚æˆ‘å€‘ä½¿ç”¨ Options ä¾†å®šç¾©ä¸€å€‹ Storeï¼Œæ–°å¢ &lt;strong>./stores/counter.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="storescounterjs">stores/counter.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useCounterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">actions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">decrement&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getters&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doubleCount&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥ç™¼ç¾åˆ°èˆ‡ Vue çš„ Options API éå¸¸é¡ä¼¼ï¼Œæˆ‘å€‘å¯ä»¥å‚³éå¸¶æœ‰ &lt;strong>state&lt;/strong>ã€&lt;strong>actions&lt;/strong> å’Œ &lt;strong>getters&lt;/strong> å±¬æ€§çš„ç‰©ä»¶ã€‚é€™äº›å±¬æ€§æ­£å¥½è®“ Store èˆ‡ Options API å‘¼æ‡‰å½¼æ­¤çš„é—œä¿‚ï¼Œå¦‚ &lt;strong>state&lt;/strong> å°æ‡‰ &lt;strong>data&lt;/strong>ã€&lt;strong>actions&lt;/strong> å°æ‡‰ &lt;strong>methods&lt;/strong> è€Œ &lt;strong>getters&lt;/strong> å°æ‡‰ &lt;strong>computed&lt;/strong>ã€‚&lt;/p>
&lt;p>é‚„æœ‰å¦ä¸€ç¨®æ–¹å¼å¯ä»¥ä¾†å®šç¾© Storeï¼Œèˆ‡ Vue Composition API çš„ setup å‡½æ•¸é¡ä¼¼ï¼Œæˆ‘å€‘å¯ä»¥å‚³å…¥ä¸€å€‹å‡½æ•¸ï¼Œé€™å€‹å‡½æ•¸è£¡é¢å®šç¾©éŸ¿æ‡‰å¼å±¬æ€§ã€æ–¹æ³•ç­‰å‡½æ•¸ï¼Œæœ€å¾Œå›å‚³æˆ‘å€‘æƒ³å…¬é–‹çš„å±¬æ€§å’Œæ–¹æ³•æ‰€çµ„æˆçš„ç‰©ä»¶ã€‚&lt;/p>
&lt;p>ä»¥ setup å‡½æ•¸å®šç¾© counter storeï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useCounterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">increment&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">decrement&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">doubleCount&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">decrement&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doubleCount&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é–‹å§‹ä½¿ç”¨-store">é–‹å§‹ä½¿ç”¨ Store&lt;/h3>
&lt;p>æˆ‘å€‘åªéœ€è¦åœ¨å…ƒä»¶ä¸­ï¼Œå¦‚ä¸‹ç¨‹å¼ç¢¼åŒ¯å…¥ä¸¦å‘¼å« &lt;code>useCounterStore()&lt;/code> å°±å¯ä»¥æ“ä½œ store è£¡é¢çš„æ–¹æ³•æˆ–å±¬æ€§å›‰ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useCounterStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/stores/counter&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCounterStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘æ–°å¢ä¸€å€‹é é¢å…ƒä»¶ &lt;strong>./pages/counter.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescountervue">pages/counter.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-9xl font-semibold text-sky-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">counterStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8 flex flex-row&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-base mx-2 rounded-full bg-sky-500 px-4 py-2 text-xl text-white hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;counterStore.increment&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">å¢åŠ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-base mx-2 rounded-full bg-sky-500 px-4 py-2 text-xl text-white hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;counterStore.decrement&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">æ¸›å°‘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å›é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useCounterStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/stores/counter&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCounterStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£æˆ‘å€‘å°±å®Œæˆäº†ä¸€å€‹ store çš„é¡¯ç¤ºç‹€æ…‹å€¼ï¼Œé€éå‘¼å« &lt;code>counterStore&lt;/code> å…§å®šç¾©çš„ &lt;strong>increment&lt;/strong> èˆ‡ &lt;strong>decrement&lt;/strong> ä¾†æ”¹è®Šç‹€æ…‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188807_576821f99a_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>åœ¨ä¸åŒçš„å…ƒä»¶é–“ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code>useCounterStore&lt;/code> å–å¾—å·²ç¶“å»ºç«‹å¥½çš„ store ä¾†å…±äº«é€™äº›ç‹€æ…‹æˆ–é€²è¡Œæ“ä½œã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617187013_1e1f4c217e_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="pinia-store-çš„-state">Pinia Store çš„ State&lt;/h3>
&lt;p>é è¨­æƒ…æ³ä¸‹ï¼Œå¯ä»¥ç›´æ¥å° store çš„å¯¦ä¾‹ä¾†å–å¾—ç‹€æ…‹ï¼Œè€Œä½¿ç”¨ Pinia å®šç¾©çš„ store æ¯”è¼ƒç‰¹åˆ¥çš„æ˜¯ï¼Œæˆ‘å€‘å¯ä»¥ä¸ç”¨é€éå‘¼å«å‡½æ•¸ä¾†ä¿®æ”¹ç‹€æ…‹ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å° store çš„ç‹€æ…‹é€²è¡Œä¿®æ”¹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCounterStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">counterStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ”¹è®Šç‹€æ…‹">æ”¹è®Šç‹€æ…‹&lt;/h4>
&lt;p>é™¤äº†ç›´æ¥ä½¿ç”¨ &lt;code>counterStore.count += 10&lt;/code> ä¿®æ”¹ storeï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ store æä¾›çš„ helper &lt;code>$patch&lt;/code> ä¾†ä¿®æ”¹éƒ¨åˆ†çš„ç‹€æ…‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">userStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$patch&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Ryan&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">money&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;88888888&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°æ–¼é›†åˆé¡å‹çš„ä¿®æ”¹ï¼Œä¾‹å¦‚é™£åˆ—çš„æ–°å¢ã€åˆªé™¤æˆ–æŒ‡å®šä¿®æ”¹æŸä¸€å€‹å…ƒç´ ç­‰æ“ä½œï¼Œä½ å¯ä»¥ä½¿ç”¨ &lt;code>$patch&lt;/code> å‚³å…¥ä¸€å€‹å‡½æ•¸ï¼Œé€™å€‹å‡½æ•¸æœƒæ¥æ”¶ä¸€å€‹ &lt;code>state&lt;/code> è®“ä½ å¯ä»¥ä¿®æ”¹ï¼Œå°æ–¼æ¯”è¼ƒè¤‡é›œçš„æ“ä½œæœƒå¾ˆæ–¹ä¾¿ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">cartStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$patch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">items&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;shoes&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">quantity&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">hasChanged&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœä½ éœ€è¦ï¼Œä¹Ÿå¯ä»¥å°‡ store çš„æ•´å€‹ state é‡æ–°è¨­ç½®æˆä¸€å€‹æ–°çš„ç‰©ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">cartStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">items&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hasChanged&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="é‡ç½®ç‹€æ…‹">é‡ç½®ç‹€æ…‹&lt;/h4>
&lt;p>store çš„å¯¦ä¾‹æä¾›äº†ä¸€å€‹ &lt;code>$reset()&lt;/code> çš„ helperï¼Œå‘¼å«å®ƒå°±å¯ä»¥å°‡ store çš„ç‹€æ…‹é‡ç½®è‡³åˆå§‹å€¼ï¼Œä¸éç›®å‰åªåœ¨ä½¿ç”¨ Option ç‰©ä»¶å®šç¾©çš„ store æ‰æœ‰å¯¦ä½œã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCounterStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">counterStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$reset&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="pinia-store-çš„-getters">Pinia Store çš„ Getters&lt;/h3>
&lt;h4 id="ä½¿ç”¨åŒä¸€å€‹-store-ä¸­çš„å…¶ä»–-getter">ä½¿ç”¨åŒä¸€å€‹ store ä¸­çš„å…¶ä»– getter&lt;/h4>
&lt;p>åœ¨ store å…§ä½ å¯ä»¥çµ„åˆå¤šå€‹ getterï¼Œåœ¨ Option ç‰©ä»¶ä¸‹ï¼Œå¯ä»¥é€éä½¿ç”¨ &lt;code>this&lt;/code> ä¾†å‘¼å«ä½¿ç”¨å…¶ä»–çš„ getterã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;main&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getters&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doubleCount&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">counter&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doubleCountPlusOne&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">doubleCount&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä½¿ç”¨å…¶ä»–-store-çš„-getter">ä½¿ç”¨å…¶ä»– store çš„ getter&lt;/h4>
&lt;p>åœ¨ store å…§ä½ ä¹Ÿå¯ä»¥çµ„åˆå…¶ä»– store çš„ getterï¼Œåªè¦å»ºç«‹å‡ºå…¶ä»– store å¯¦ä¾‹å°±å¯ä»¥å‘¼å«ä½¿ç”¨äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useOtherStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./other-store&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;main&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getters&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">otherGetter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">otherStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useOtherStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">localData&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">otherStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="pinia-store-çš„-actions">Pinia Store çš„ Actions&lt;/h4>
&lt;p>Actions ç›¸ç•¶æ–¼å…ƒä»¶ä¸­çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯ä¿®æ”¹ç‹€æ…‹çš„å•†æ¥­é‚è¼¯å®šç¾©çš„ä½ç½®ï¼Œaction å¯ä»¥æ˜¯åŒæ­¥ä¹Ÿå¯ä»¥æ˜¯ç•°æ­¥çš„ï¼Œå› æ­¤ï¼Œæˆ‘å€‘ä¹Ÿèƒ½åœ¨ action ä¸­æ‰“å¾Œç«¯ API ä¾†å–å¾—è³‡æ–™å¾Œæ›´æ–°ç‹€æ…‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useUserStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;user&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">profile&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">actions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">async&lt;/span> &lt;span class="nx">getUserProfile&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/profile&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">profile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="store-çš„è§£æ§‹">Store çš„è§£æ§‹&lt;/h3>
&lt;p>æœ‰äº›æƒ…æ³ï¼Œä½ å¯èƒ½éœ€è¦å°‡ Store ä¸­çš„å±¬æ€§æˆ–æ–¹æ³•ç¨ç«‹çš„æå–å‡ºä¾†ï¼Œä½†ç‚ºäº†ä¿æŒå±¬æ€§çš„éŸ¿æ‡‰æ€§ï¼Œä½ éœ€è¦ä½¿ç”¨ &lt;code>storeToRefs&lt;/code> ä¾†å»ºç«‹å±¬æ€§çš„åƒè€ƒï¼Œå°±åƒä½¿ç”¨ &lt;code>toRefs&lt;/code> ä¾†å»ºç«‹ &lt;code>props&lt;/code> çš„åƒè€ƒä¸€æ¨£ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">storeToRefs&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useCounterStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/stores/counter&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCounterStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">storeToRefs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">counterStore&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">increment&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">decrement&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">counterStore&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="pinia-æŒä¹…åŒ–æ’ä»¶---pinia-plugin-persistedstate">Pinia æŒä¹…åŒ–æ’ä»¶ - Pinia Plugin Persistedstate&lt;/h2>
&lt;p>Pinia æ˜¯å€‹éå¸¸è¼•é‡çš„ç‹€æ…‹ç®¡ç†è§£æ±ºæ–¹æ¡ˆï¼Œè€Œä¸”ä¹Ÿæä¾›åº•å±¤ API ä½¿å¾— Pinia èƒ½å¤ è‡ªå®šç¾©æ’ä»¶ä¾†æ“´å±•åŠŸèƒ½ï¼Œèˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘æœ‰äº›ç‹€æ…‹éœ€è¦å„²å­˜åœ¨ä½¿ç”¨è€…ç€è¦½å™¨ä¸­ï¼Œä¸‹æ¬¡å†ç€è¦½æ™‚å¯ä»¥å–çš„ç•¶æ™‚å„²å­˜çš„ç‹€æ…‹è³‡æ–™ï¼Œæˆ‘å€‘å°±éœ€è¦å°‡ store çš„ç‹€æ…‹æŒä¹…åŒ–ã€‚&lt;/p>
&lt;p>æˆ‘å€‘å¯ä»¥ä½¿ç”¨ &lt;a class="link" href="https://github.com/prazdevs/pinia-plugin-persistedstate" target="_blank" rel="noopener"
>Pinia Plugin Persistedstate&lt;/a> é€™å€‹æ’ä»¶ï¼Œä¾†åšåˆ°æŒä¹…åŒ–é€™ä»¶äº‹ï¼Œé€™å°æ–¼å„²å­˜ä½¿ç”¨è€…è³‡è¨Šæˆ–ç™»å…¥ç‹€æ…‹éå¸¸çš„æ–¹ä¾¿ã€‚&lt;/p>
&lt;h3 id="åœ¨-nuxt-3-ä¸­é…ç½®ä½¿ç”¨-pinia-plugin-persistedstate">åœ¨ Nuxt 3 ä¸­é…ç½®ä½¿ç”¨ Pinia Plugin Persistedstate&lt;/h3>
&lt;h4 id="step-1-å®‰è£å¥—ä»¶-2">Step 1. å®‰è£å¥—ä»¶&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D pinia-plugin-persistedstate --force
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D pinia-plugin-persistedstate --force&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ç›®å‰ç…§è‘—å®˜æ–¹å®‰è£ Piniaï¼Œæœƒç™¼ç”Ÿä¸€äº›å•é¡Œï¼Œæ‰€ä»¥æˆ‘å€‘åœ¨å®‰è£æ™‚åŠ ä¸Š &lt;strong>&amp;ndash;force&lt;/strong> åƒæ•¸&lt;/p>
&lt;/blockquote>
&lt;h4 id="step-2-åœ¨-nuxt-3-ç‚º-pinia-æ·»åŠ -persist-æ’ä»¶">Step 2. åœ¨ Nuxt 3 ç‚º Pinia æ·»åŠ  Persist æ’ä»¶&lt;/h4>
&lt;p>å»ºç«‹ &lt;strong>./plugins/pinia-plugin-persistedstate.client.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pluginspinia-plugin-persistedstateclientjs">plugins/pinia-plugin-persistedstate.client.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">piniaPersistedstate&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia-plugin-persistedstate&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtPlugin&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$pinia&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">piniaPersistedstate&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-ç‚ºä½ çš„-store-æ·»åŠ æŒä¹…åŒ–é…ç½®">Step 3. ç‚ºä½ çš„ Store æ·»åŠ æŒä¹…åŒ–é…ç½®&lt;/h4>
&lt;p>åœ¨ç¾æœ‰çš„ store å®šç¾©ä¸­æ·»åŠ ï¼Œ&lt;code>persist&lt;/code> å±¬æ€§ï¼Œä¾†é…ç½® store æŒä¹…åŒ–ï¼Œå°‡ç‹€æ…‹å„²å­˜åœ¨ç€è¦½å™¨çš„ &lt;code>localStorage&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useCounterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">actions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">decrement&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getters&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doubleCount&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">persist&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">enabled&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">strategies&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">key&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">storage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">client&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nx">localStorage&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœæ˜¯ä½¿ç”¨ setup å‡½æ•¸å®šç¾© storeï¼Œä½ å¯ä»¥åœ¨ defineStore å‚³å…¥ç¬¬ä¸‰å€‹åƒæ•¸ä¸¦æ·»åŠ  &lt;code>persist&lt;/code> å±¬æ€§ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useCounterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">increment&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">decrement&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">doubleCount&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">decrement&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doubleCount&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">persist&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">enabled&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">strategies&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">key&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">storage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">client&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nx">localStorage&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-4-æŒä¹…åŒ–æ•ˆæœ">Step 4. æŒä¹…åŒ–æ•ˆæœ&lt;/h4>
&lt;p>ç•¶æˆ‘å€‘è¨­ç½®å¥½ counterStore çš„æŒä¹…åŒ–å¾Œï¼Œæˆ‘å€‘çš„ç‹€æ…‹å°±æœƒè¢«å„²å­˜åœ¨ç€è¦½å™¨çš„ &lt;code>localStorage&lt;/code> ä¹‹ä¸­ï¼Œå°±ç®—é—œé–‰ç€è¦½å™¨æˆ–é‡æ–°æ•´ç†ç¶²é ï¼Œstore çš„ç‹€æ…‹éƒ½æœƒå†å¾ &lt;code>localStorage&lt;/code> è®€å–å‡ºä¾†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617187033_e0fd11b0a5_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>åœ¨å°å‹çš„å°ˆæ¡ˆä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ useState ä¾†ç®¡ç†ï¼Œä½†å¤§å°ˆæ¡ˆä½ å°±éœ€è¦ä¸€å€‹æ›´å¥½çš„æ–¹å¼ä¾†ç®¡ç†é€™äº›ç‹€æ…‹ï¼Œå¦‚ Pinia ä¾†ç‚ºæˆ‘å€‘ç®¡ç†é€™äº›ç‹€æ…‹ï¼Œç”šè‡³å®šç¾©å¤šå€‹ storeï¼ŒPinia æ”¯æ´çš„æ’ä»¶èƒ½å”åŠ©æˆ‘å€‘æ“´å±• Pinia çš„åŠŸèƒ½ï¼ŒPinia Plugin Persistedstate å°±æ˜¯ä¸€å€‹å¾ˆå¸¸ç”¨çš„æ’ä»¶ï¼Œèƒ½å”åŠ©æˆ‘å€‘å°‡ Pinia çš„ç‹€æ…‹æŒä¹…åŒ–è‡³ç€è¦½å™¨çš„ &lt;code>localStorage&lt;/code> æˆ– &lt;code>sessionStorage&lt;/code> ä¸­ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="runtime-config--app-config">Runtime Config &amp;amp; App Config&lt;/h2>
&lt;p>åœ¨ Nuxt 3 ä¸­æä¾›äº†å…©ç¨®å¯ä»¥æ–¹å¼è¨­å®šç’°å¢ƒè®Šæ•¸æˆ–å‰ç«¯éœ€è¦ä½¿ç”¨çš„å…±ç”¨è¨­å®šï¼Œåˆ†åˆ¥æ˜¯åœ¨ Nuxt å•Ÿå‹•æ™‚æœƒåœ¨å¾Œç«¯è¼‰å…¥ä½¿ç”¨çš„ Runtime Config åŠå¯ä»¥åœ¨å‰ç«¯è¢«ä½¿ç”¨çš„ App Config é€™å…©è€…é–“çš„å€åˆ¥é€™é‚Šåšä¸€äº›è¬›è§£ã€‚&lt;/p>
&lt;h3 id="runtime-config">Runtime Config&lt;/h3>
&lt;p>åœ¨é–‹ç™¼ç¶²ç«™æˆ–éƒ¨ç½²æ™‚ï¼Œæˆ‘å€‘ç¸½æ˜¯æœ‰ä¸€äº›ç’°å¢ƒè®Šæ•¸éœ€è¦åšè¨­ç½®ï¼Œ&lt;a class="link" href="https://github.com/motdotla/dotenv" target="_blank" rel="noopener"
>dotenv&lt;/a> å°±æ˜¯ä¸€å€‹å¾ˆå¥½ç”¨çš„å¥—ä»¶ï¼Œèƒ½å¹«åŠ©æˆ‘å€‘å°‡å°ˆæ¡ˆä¸‹çš„ &lt;code>.env&lt;/code> æª”æ¡ˆè¼‰å…¥åˆ° Node.js çš„ &lt;code>process.env&lt;/code> ä¹‹ä¸­ï¼Œå°¤å…¶åœ¨å¾Œç«¯ä¼ºæœå™¨çš„ API é–‹ç™¼ï¼Œé€™äº›ä¸èƒ½å…¬é–‹æˆ–æ•æ„Ÿçš„ Key æˆ–è¨­å®šå€¼ï¼Œé€šå¸¸ä¸æœƒèˆ‡æ•´å€‹å°ˆæ¡ˆä¸€èµ·é€²è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œè€Œæ˜¯é‡å°ä¸åŒç’°å¢ƒèˆ‡æ©Ÿå™¨ï¼Œé…ç½®æ–¼ &lt;code>.env&lt;/code> æˆ–ç’°å¢ƒè®Šæ•¸ä¹‹ä¸­ã€‚&lt;/p>
&lt;p>é€™å€‹ &lt;code>.env&lt;/code> è¨­å®šæª”å…§çš„ç’°å¢ƒè®Šæ•¸ï¼Œä¾‹å¦‚ï¼šè³‡æ–™åº«çš„å¸³è™Ÿå¯†ç¢¼ã€ç¬¬ä¸‰æ–¹æœå‹™çš„ Token æˆ– API Key &amp;hellip;ç­‰ï¼Œé€šå¸¸åªæœƒåœ¨ä¼ºæœå™¨è¢«è®€å–åšä½¿ç”¨ï¼Œä¹Ÿä¸æœƒæ´©æ¼é€™äº›è¨­å®šçµ¦ä½¿ç”¨è€…çŸ¥é“ï¼Œæˆ‘å€‘ä¹Ÿç¨±ä¹‹ç‚º&lt;code>åŸ·è¡Œæ™‚çš„è¨­å®š (Runtime Config)&lt;/code>ã€‚&lt;/p>
&lt;p>Nuxt 3 æä¾›äº†å¯ä»¥è¨­å®š &lt;strong>Runtime Config&lt;/strong> çš„æ–¹å¼ï¼Œæˆ‘å€‘å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¾†è¨­å®šé€™äº›ç’°å¢ƒè®Šæ•¸çµ¦äºˆä¼ºæœå™¨åŸ·è¡Œæ™‚ä½¿ç”¨ã€‚&lt;/p>
&lt;h4 id="é…ç½®-runtimeconfig">é…ç½® runtimeConfig&lt;/h4>
&lt;p>æˆ‘å€‘å¯ä»¥åœ¨ &lt;code>nuxt.config.ts&lt;/code> ä¸­æ·»åŠ  &lt;code>runtimeConfig&lt;/code> å±¬æ€§ï¼Œå°±å¯ä»¥ä¾†è¨­å®šåªæœ‰ä¼ºæœå™¨ç«¯å¯ä»¥ä½¿ç”¨çš„ç’°å¢ƒè®Šæ•¸ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œåœ¨ &lt;strong>nuxt.config.ts&lt;/strong> æª”æ¡ˆä¸­ï¼Œæ·»åŠ ä¸€å€‹ &lt;code>apiSecret&lt;/code> è‡³ &lt;code>runtimeConfig&lt;/code> å±¬æ€§å…§ï¼š&lt;/p>
&lt;h5 id="nuxtconfigts-4">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiSecret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ€éº¼å¯ä»¥è®“ä½ çŸ¥é“å‘¢ :P&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°±å¯ä»¥åœ¨ Server API ä½¿ç”¨ &lt;code>useRuntimeConfig()&lt;/code> ç²å¾—åŸ·è¡Œæ™‚çš„è¨­å®šï¼Œå†å¾ä¸­å–å¾— &lt;code>apiSecret&lt;/code> ç’°å¢ƒè®Šæ•¸ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">apiSecret&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`æ¥æ”¶åˆ°äº†ä¸€å€‹ Server API è«‹æ±‚: &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`åŸ·è¡Œæ™‚çš„ç’°å¢ƒè®Šæ•¸ [apiSecret]: &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">apiSecret&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s1">&amp;#39;ok&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› ç‚ºæˆ‘å€‘æ˜¯å®šç¾©åœ¨ Server APIï¼Œæ‰€ä»¥å¯ä»¥åœ¨æ¸¬è©¦ä¼ºæœå™¨å•Ÿå‹•çš„ Terminal çœ‹è¦‹ console.log çš„çµæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617187068_2610474e64_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æ­¤å¤–ä½ ä¹Ÿå¯ä»¥åœ¨æ’ä»¶æˆ– Vue ä¸­ä½¿ç”¨ &lt;code>useRuntimeConfig()&lt;/code> ä¾†å–å¾—åŸ·è¡Œæ™‚çš„è¨­ç½®ï¼Œä½†ä¹Ÿåƒ…åœ¨ &lt;strong>setup&lt;/strong> æˆ– &lt;strong>Nuxt Lifecycle Hooks&lt;/strong> ä¸­æœ‰æ•ˆã€‚&lt;/p>
&lt;h4 id="å®¢æˆ¶ç«¯ä½¿ç”¨-runtimeconfig">å®¢æˆ¶ç«¯ä½¿ç”¨ runtimeConfig&lt;/h4>
&lt;p>é€šå¸¸ä¸€äº›å¯†é‘°æˆ–æ•æ„Ÿè³‡è¨Šï¼Œæˆ‘å€‘éƒ½æœƒå®šç¾©åœ¨ &lt;code>runtimeConfig&lt;/code> åƒ…ä¾›ä¼ºæœå™¨ç«¯åšä½¿ç”¨ï¼Œè€Œ &lt;code>runtimeConfig&lt;/code> ä¹Ÿå¯ä»¥é…ç½®ä¸€å€‹ &lt;code>public&lt;/code> çš„å±¬æ€§ï¼Œä¾†æŠŠä¸€äº›ç’°å¢ƒè®Šæ•¸æ–¼ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯åšä½¿ç”¨ï¼Œä¾‹å¦‚ï¼ŒAPI çš„ Base URL é€™é¡åœ¨ä¼ºæœå™¨ç«¯æ‰“ API æ™‚æœƒéœ€è¦ä½¿ç”¨ï¼Œè€Œå®¢æˆ¶ç«¯çš„æ“ä½œæµç¨‹ä¹Ÿæœƒæ‰“åŒæ¨£çš„ API ä½ç½®ï¼Œæˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨ &lt;code>public&lt;/code> çš„å±¬æ€§ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œåœ¨ &lt;strong>nuxt.config.ts&lt;/strong> æª”æ¡ˆä¸­ï¼Œæ·»åŠ ä¸€å€‹ &lt;code>apiBase&lt;/code> è‡³ &lt;code>runtimeConfig.public&lt;/code> å±¬æ€§å…§ï¼š&lt;/p>
&lt;h5 id="nuxtconfigts-5">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiSecret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ€éº¼å¯ä»¥è®“ä½ çŸ¥é“å‘¢ :P&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">public&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiBase&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/api&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ &lt;strong>./pages/profile.vue&lt;/strong> é é¢ï¼š&lt;/p>
&lt;h5 id="pagesprofilevue">pages/profile.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-24 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-2xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å›å‚³è³‡æ–™&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-3xl font-semibold text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">apiBase&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">public&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">toRaw&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">apiBase&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">/hello`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ·»åŠ åœ¨ &lt;code>runtimeConfig.public&lt;/code> å±¬æ€§çš„ç’°å¢ƒè®Šæ•¸ï¼Œåœ¨ä¼ºæœå™¨ç«¯èˆ‡å®¢æˆ¶ç«¯éƒ½å¯ä»¥è®€å–å¾—åˆ°ã€‚&lt;/p>
&lt;p>ä¸‹åœ–ä¸­å¯ä»¥ç™¼ç¾ï¼Œåœ¨ç€è¦½å™¨ä¸­çš„ Console æ‰€å°å‡ºçš„ &lt;code>runtimeConfig&lt;/code> æ˜¯ä¸æœƒåŒ…å«åƒ…æœ‰åœ¨ä¼ºæœå™¨ç«¯èƒ½ä½¿ç”¨çš„ &lt;code>apiSecret&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617134565_8558d435e9_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="ä½¿ç”¨-env-å»ºç«‹ç’°å¢ƒè®Šæ•¸">ä½¿ç”¨ .env å»ºç«‹ç’°å¢ƒè®Šæ•¸&lt;/h4>
&lt;p>Nuxt åœ¨é–‹ç™¼æ¨¡å¼æˆ–åŸ·è¡Œæ™‚ï¼Œå·²ç¶“æœ‰å…§å»º &lt;a class="link" href="https://github.com/motdotla/dotenv" target="_blank" rel="noopener"
>dotenv&lt;/a>ï¼Œå¦‚æœåœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹æ·»åŠ äº† &lt;code>.env&lt;/code>ï¼ŒNuxt æœƒåœ¨é–‹ç™¼æœŸé–“ã€å»ºæ§‹æ™‚æˆ–ç”¢ç”Ÿéœæ…‹ç¶²ç«™æ™‚ï¼Œè‡ªå‹•è¼‰å…¥ &lt;code>.env&lt;/code> å…§çš„ç’°å¢ƒè®Šæ•¸ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚å»ºç«‹ &lt;strong>.env&lt;/strong> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="env">.env&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-env" data-lang="env">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NUXT_API_SECRET&lt;/span>&lt;span class="o">=&lt;/span>api_secret_token
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NUXT_PUBLIC_API_BASE&lt;/span>&lt;span class="o">=&lt;/span>https://nuxtjs.org
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å…©å€‹å€¼ï¼Œå°‡è¢« &lt;a class="link" href="https://github.com/motdotla/dotenv" target="_blank" rel="noopener"
>dotenv&lt;/a> è‡ªå‹•è¼‰å…¥è‡³ &lt;code>process.env&lt;/code> ä¸­ï¼Œä½œç‚ºç’°å¢ƒè®Šæ•¸ã€‚&lt;/p>
&lt;h4 id="ç’°å¢ƒè®Šæ•¸çš„è¦†è“‹">ç’°å¢ƒè®Šæ•¸çš„è¦†è“‹&lt;/h4>
&lt;p>ä¸è«–æ˜¯é€é &lt;a class="link" href="https://github.com/motdotla/dotenv" target="_blank" rel="noopener"
>dotenv&lt;/a> è‡ªå‹•è¼‰å…¥ &lt;strong>.env&lt;/strong> æˆ–å…¶ä»–æ–¹å¼é…ç½®çš„ç’°å¢ƒè®Šæ•¸ï¼Œåªè¦ç’°å¢ƒè®Šæ•¸å‘½åæ˜¯ &lt;code>NUXT_&lt;/code> é–‹é ­ï¼Œé€™å€‹ç’°å¢ƒè®Šæ•¸å°‡æœƒè¦†è“‹ &lt;code>runtimeConfig&lt;/code> çš„è¨­ç½®ã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œç•¶æˆ‘å€‘ &lt;code>runtimeConfig&lt;/code> è¨­ç½®å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiSecret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ€éº¼å¯ä»¥è®“ä½ çŸ¥é“å‘¢ :P&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">public&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiBase&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/api&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;strong>.env&lt;/strong> æª”æ¡ˆæˆ–å…¶ä»–æ–¹å¼è¨­ç½®ä¸‹åˆ—ç’°å¢ƒè®Šæ•¸ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-env" data-lang="env">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NUXT_API_SECRET&lt;/span>&lt;span class="o">=&lt;/span>api_secret_token
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NUXT_PUBLIC_API_BASE&lt;/span>&lt;span class="o">=&lt;/span>https://nuxtjs.org
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‚£éº¼ &lt;code>NUXT_API_SECRET&lt;/code> ç’°å¢ƒè®Šæ•¸ï¼Œå°‡æœƒè¦†è“‹ &lt;code>runtimeConfig.apiSecret&lt;/code>ï¼Œè€Œ &lt;code>NUXT_PUBLIC_API_BASE&lt;/code> å°‡æœƒè¦†è“‹ &lt;code>runtimeConfig.public.apiBase&lt;/code>ï¼Œæœ€çµ‚ runtimeConfig çš„è¨­å®šæœƒè®Šæˆå¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">apiSecret:&lt;/span> &lt;span class="nt">&amp;#34;api_secret_token&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// è¢« NUXT_API_SECRET ç’°å¢ƒè®Šæ•¸è¦†è“‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="err">public:&lt;/span> &lt;span class="err">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">apiBase:&lt;/span> &lt;span class="nt">&amp;#34;https://nuxtjs.org&amp;#34;&lt;/span> &lt;span class="c1">// è¢« NUXT_PUBLIC_API_BASE ç’°å¢ƒè®Šæ•¸è¦†è“‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœƒæœ‰é€™æ¨£å­çš„ç‰¹æ€§æ˜¯å› ç‚º Nuxt æœƒåœ¨å•Ÿå‹•æ™‚ï¼Œå…ˆè¼‰å…¥ &lt;code>nuxt.conf.ts&lt;/code> å…§çš„ &lt;code>runtimeConfig&lt;/code>ï¼Œå»ºç«‹å‡ºå‘¼å« &lt;code>useRuntimeConfig()&lt;/code> æ‰€å¾—åˆ°çš„åŸ·è¡Œæ™‚è¨­å®šï¼Œä¾‹å¦‚ï¼Œå…ˆå»ºæ§‹å‡ºäº† &lt;code>_runtimeConfig&lt;/code> ç‰©ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">_runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiSecret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ€éº¼å¯ä»¥è®“ä½ çŸ¥é“å‘¢ :P&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">public&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiBase&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/api&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æœƒèµ°è¨ªé€™å€‹ &lt;strong>_runtimeConfig&lt;/strong> ç‰©ä»¶è£¡é¢çš„ &lt;code>key&lt;/code>ï¼Œé€ä¸€å°‡ &lt;strong>key&lt;/strong> çš„åç¨±è½‰æ›&lt;strong>è›‡å½¢å‘½åæ³• (Snake case)&lt;/strong>ï¼Œä¸¦è½‰æˆå…¨å¤§å¯«å†åŠ ä¸Š &lt;code>NUXT_&lt;/code> å‰ç¶´å¾Œå–å¾—å°æ‡‰çš„ç’°å¢ƒè®Šæ•¸ï¼Œå¦‚æœå­˜åœ¨å°±æœƒä»¥æ–°å€¼ä¾†è¦†è“‹ &lt;strong>_runtimeConfig&lt;/strong> å…§çš„å±¬æ€§ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ &lt;strong>apiSecret&lt;/strong> ç¶“éè½‰æ›è®Šæˆ &lt;strong>api_secret&lt;/strong>ï¼Œæ¥è‘—è½‰å¤§å¯« &lt;strong>API_SECRET&lt;/strong> æœ€å¾ŒåŠ ä¸Šå‰ç¶´è®Šæˆ &lt;strong>NUXT_API_SECRET&lt;/strong>ï¼Œå¦‚æ­¤ç’°å¢ƒè®Šæ•¸ &lt;strong>NUXT_API_SECRET&lt;/strong> çš„å€¼å°±è¦†è“‹ &lt;strong>runtimeConfig.apiSecret&lt;/strong>ã€‚&lt;/p>
&lt;p>è€Œåœ¨ &lt;strong>public&lt;/strong> ä¸‹çš„è¨­ç½®ï¼Œä¹Ÿæœƒå…ˆè½‰ç‚º &lt;strong>public_apiBase&lt;/strong> å†ç¶“éè›‡è¡Œå‘½åæˆ &lt;strong>public_api_base&lt;/strong> ç­‰æ­¥é©Ÿï¼Œæœ€å¾Œè®Šæˆ &lt;strong>NUXT_PUBLIC_API_BASE&lt;/strong> ä¾†è¼‰å…¥ç’°å¢ƒè®Šæ•¸ä¸¦è¦†è“‹ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æœ€å¾Œå°æé†’ï¼Œç•¶å»ºæ§‹å‡ºç”Ÿç”¢ç’°å¢ƒçš„ç¶²ç«™ï¼Œå¦‚ .output ç›®éŒ„å¾Œï¼Œdotenv ä¸¦ä¸æœƒåŒ…å«åœ¨å»ºæ§‹çš„ç¶²ç«™å…§ï¼Œ ä½ éœ€è¦å†è‡ªå·±è¼‰å…¥æˆ–é…ç½®ç’°å¢ƒè®Šæ•¸æ‰èƒ½æ­£å¸¸é‹ä½œå“¦ï¼Œä¾‹å¦‚åœ¨ PM2 é…ç½® envã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="app-config">App Config&lt;/h3>
&lt;h4 id="é…ç½®-appconfig">é…ç½® appConfig&lt;/h4>
&lt;p>åœ¨ &lt;code>nuxt.config.ts&lt;/code> æª”æ¡ˆä¸­ï¼Œå¯ä»¥åœ¨ &lt;code>appConfig&lt;/code> å±¬æ€§å…§æ·»åŠ è¨­ç½®ï¼Œä¾‹å¦‚ï¼Œé€šå¸¸æˆ‘å€‘æœƒæ·»åŠ åƒç¶²ç«™ä¸»é¡Œçš„ä¸»è‰²ç­‰é€™é¡&lt;code>å¯ä»¥å…¬é–‹&lt;/code>çš„é…ç½®ï¼Œè®“ç¶²ç«™å¯ä»¥ä½¿ç”¨é€™å€‹è¨­ç½®ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">appConfig&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">theme&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">primaryColor&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;#0ea5e9&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶å»ºç«‹å¥½ appConfig å¾Œï¼Œå°±å¯ä»¥ä½¿ç”¨çµ„åˆå¼å‡½æ•¸ &lt;code>useAppConfig()&lt;/code> ä¾†å–å¾—è¨­ç½®ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œå»ºç«‹ &lt;strong>./pages/config.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesconfigvue">pages/config.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-24 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-2xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">primaryColor&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-3xl font-semibold text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">primaryColor&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">appConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useAppConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">theme&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">appConfig&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="appconfig-æª”æ¡ˆ">app.config æª”æ¡ˆ&lt;/h4>
&lt;p>ä½ ä¹Ÿå¯ä»¥åœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹å»ºç«‹ &lt;code>app.config.ts&lt;/code> ä¾†é…ç½® App Configï¼Œé€™å€‹æª”æ¡ˆçš„å‰¯æª”åå¯ä»¥æ˜¯ &lt;strong>.ts&lt;/strong>ã€&lt;strong>.js&lt;/strong> æˆ– &lt;strong>.mjs&lt;/strong>ã€‚&lt;/p>
&lt;h5 id="appconfigts">app.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineAppConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">theme&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">primaryColor&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;#3b82f6&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶å»ºç«‹äº† &lt;code>app.config.ts&lt;/code> æª”æ¡ˆï¼Œè©²è¨­å®šæœƒèˆ‡ &lt;strong>nuxt.config.ts&lt;/strong> æª”æ¡ˆä¸­çš„ &lt;strong>appConfig&lt;/strong> å±¬æ€§çµåˆï¼Œå¦‚æœå…·æœ‰ç›¸åŒçš„å‘½åï¼Œå‰‡ä»¥ &lt;code>app.config.ts&lt;/code> æª”æ¡ˆå…§çš„è¨­ç½®ç‚ºä¸»ã€‚&lt;/p>
&lt;h4 id="å…·æœ‰éŸ¿æ‡‰å¼çš„è¨­å®š">å…·æœ‰éŸ¿æ‡‰å¼çš„è¨­å®š&lt;/h4>
&lt;p>ç•¶è¨­å®šå¥½çš„ App Config åœ¨ä½¿ç”¨æ™‚ï¼Œè§£æ§‹å‡ºçš„è®Šæ•¸æ˜¯å…·æœ‰éŸ¿æ‡‰æ€§çš„ï¼Œä¹Ÿå°±æ˜¯èªªåœ¨å…¶ä»–é é¢ä¿®æ”¹ä¸»é¡Œé¡è‰²çš„è¨­å®šï¼Œå¯ä»¥éŸ¿æ‡‰è‡³æ‰€æœ‰ä½¿ç”¨é€™å€‹è¨­å®šçš„å…ƒä»¶ã€‚&lt;/p>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæ–°å¢ä¸€å€‹ &lt;strong>darkMode&lt;/strong> çš„å±¬æ€§è‡³ &lt;strong>app.config.ts&lt;/strong> æª”æ¡ˆå…§çš„ themeï¼š&lt;/p>
&lt;h5 id="appconfigts-1">app.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineAppConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">theme&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">primaryColor&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;#3b82f6&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">darkMode&lt;/span>: &lt;span class="kt">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;strong>./pages/index.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesindexvue-4">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-4 flex flex-col space-y-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/config&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-2xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">darkMode&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-3xl font-semibold text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">darkMode&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">appConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useAppConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">theme&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">appConfig&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;strong>./pages/config.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesconfigvue-1">pages/config.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-24 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-2xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">primaryColor&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-3xl font-semibold text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">primaryColor&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-2xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">darkMode&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-3xl font-semibold text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">darkMode&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-6 rounded-sm bg-blue-500 py-2 px-4 text-base font-medium text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;theme.darkMode = !theme.darkMode&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">darkMode&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;å–æ¶ˆ&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;å•Ÿç”¨&amp;#39;&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">æ·±è‰²æ¨¡å¼`&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å›é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">appConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useAppConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">theme&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">appConfig&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚ä¸‹åœ–ï¼Œæˆ‘å€‘çš„é¦–é å–å¾—äº† &lt;strong>App Config&lt;/strong> ä¸­çš„ &lt;strong>theme.darkMode&lt;/strong> é è¨­ç‚º &lt;code>false&lt;/code>ï¼Œæ¥è‘—æˆ‘å€‘åˆ‡æ›è‡³ &lt;strong>/config&lt;/strong> é é¢ï¼Œå¯ä»¥å°‡å¾ &lt;code>useAppConfig()&lt;/code> è§£æ§‹å‡ºçš„ theme é€²è¡Œè®Šæ›´ï¼Œæˆ‘å€‘ä½¿ç”¨æŒ‰éˆ•ä¾†è¨­ç½® &lt;strong>theme.darkMode&lt;/strong> ç‚º &lt;code>true&lt;/code> æˆ– &lt;code>false&lt;/code> è¡¨ç¤ºå•Ÿç”¨æˆ–å–æ¶ˆæ·±è‰²æ¨¡å¼ã€‚ç•¶è®Šæ›´å®Œæˆå¾Œï¼Œå›è‡³é¦–é ï¼Œå¯ä»¥ç™¼ç¾ &lt;strong>theme.darkMode&lt;/strong> ç™¼ç”Ÿäº†éŸ¿æ‡‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188867_a568b0a7c2_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="å°çµ-1">å°çµ&lt;/h3>
&lt;p>Nuxt 3 æä¾›äº† &lt;strong>Runtime Config&lt;/strong> åŠ &lt;strong>App Config&lt;/strong> ä¾†è®“æˆ‘å€‘å°‡å¸¸ç”¨æˆ–é è¨­è¨­å®šæ‡‰ç”¨åœ¨ä¸åŒçš„æƒ…å¢ƒï¼Œä½¿ç”¨æ™‚ï¼Œæˆ‘å€‘åƒ…éœ€è¨˜å¾—ï¼Œ&lt;code>ä¸èƒ½å…¬é–‹çš„é‡‘é‘°&lt;/code>æˆ–&lt;code>æ•æ„Ÿè¨Šæ¯&lt;/code>ï¼Œåƒ…æ”¾ç½®åœ¨ &lt;code>runtimeConfig&lt;/code> ä¸­è€Œä¸”&lt;code>ä¸åœ¨ public å±¬æ€§å…§&lt;/code>ï¼Œ&lt;code>runtimeConfig.public&lt;/code> é€šå¸¸æ”¾çš„æ˜¯&lt;code>å‰å¾Œç«¯æœƒä½¿ç”¨åˆ°ä¸”ä¸å¸¸ä¿®æ”¹çš„å¸¸æ•¸&lt;/code>ã€‚è€Œ &lt;code>App Config&lt;/code> å‰‡æ˜¯ç•¶ä¼ºæœå™¨ç«¯èˆ‡å®¢æˆ¶ç«¯&lt;code>éœ€è¦ä½¿ç”¨çš„è¨­ç½®&lt;/code>ï¼Œå¦‚ä¸»é¡Œé¡è‰²ã€æ˜¯å¦å•Ÿç”¨æ·±è‰²æ¨¡å¼ç­‰é€™é¡å¯ä»¥è¢«ä½¿ç”¨è€…èª¿æ•´è®Šå‹•çš„ä¸”éœ€è¦å…·æœ‰éŸ¿æ‡‰æ€§ï¼Œå°±å¯ä»¥æ”¾ç½®åœ¨ &lt;code>appConfig&lt;/code> ä¹‹ä¸­ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å¯¦ä½œç·´ç¿’">å¯¦ä½œç·´ç¿’&lt;/h2>
&lt;p>é€™è£¡ä»‹ç´¹ç¶²ç«™çš„æœƒå“¡ç³»çµ±å¸¸æœƒä½¿ç”¨åˆ°ç¬¬ä¸‰æ–¹ç™»å…¥ï¼Œå°‡ä»¥ Google OAuth ç‚ºä¾‹ä¾†å¯¦éš›æ–¼ Nuxt 3 ä¸­åšä¸²æ¥ã€‚&lt;/p>
&lt;h3 id="ä¸²æ¥-google-oauth-ç™»å…¥">ä¸²æ¥ Google OAuth ç™»å…¥&lt;/h3>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘éœ€è¦æœ‰ä¸€çµ„ Google OAuth ä½¿ç”¨çš„ &lt;code>Client ID&lt;/code>ï¼Œä½ å¯ä»¥åˆ° &lt;a class="link" href="https://console.cloud.google.com/apis/credentials" target="_blank" rel="noopener"
>Google Console&lt;/a> æ–°å¢ä¸€å€‹ã€Œ&lt;strong>OAuth 2.0 ç”¨æˆ¶ç«¯ ID&lt;/strong>ã€ï¼Œé€™è£¡æˆ‘å°±ä¸å†è´…è¿°ç¶²é æ‡‰ç”¨ç¨‹å¼ç”¨çš„ç”³è«‹éç¨‹ã€‚&lt;/p>
&lt;p>é€™é‚Šå°æé†’ä¸€ä¸‹ï¼Œåœ¨å»ºç«‹ OAuth Client ID æ™‚ï¼Œ&lt;strong>å·²æˆæ¬Šçš„ JavaScript ä¾†æº&lt;/strong>ï¼Œè¨˜å¾—å¡«å¯«ä¸Šæ‚¨çš„æ­£å¼ç’°å¢ƒæˆ–é–‹ç™¼ç’°å¢ƒçš„ Domainï¼Œä¸”å»ºè­°ä½¿ç”¨ HTTPSã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618245251_3509e645c4_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å®Œæˆå¾Œï¼Œè¨˜å¾—ä¿ç®¡å¥½&lt;code>ç”¨æˆ¶ç«¯å¯†ç¢¼&lt;/code>ã€&lt;code>ç”¨æˆ¶ç«¯ ID (Client ID)&lt;/code> æ˜¯æˆ‘å€‘ç¨å¾Œæœƒéœ€è¦çš„ï¼Œç”¨æˆ¶ç«¯ç·¨è™Ÿæ ¼å¼å¤§æ¦‚å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">168152363730-b37gnijdpa2rdvvbq0qc29cjh4082t3b.apps.googleusercontent.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°‡é€™çµ„ Client IDï¼Œæ”¾ç½®åœ¨ Nuxt çš„ Runtime Config ä¹‹ä¸­ã€‚èª¿æ•´ &lt;strong>nuxt.config.ts&lt;/strong> å…§å®¹ï¼Œåœ¨ runtimeConfig.public æ·»åŠ  &lt;code>googleClientId&lt;/code>ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts-6">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">public&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">googleClientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;é€™é‚Šæ”¾ä¸Šä½ çš„ Google Client ID&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥ä¸‹ä¾†ï¼Œå®‰è£ Vue çš„ Google OAuth æ’ä»¶ï¼Œé€™é‚Šä½¿ç”¨çš„æ˜¯ &lt;a class="link" href="https://github.com/yobaji/vue3-google-login" target="_blank" rel="noopener"
>vue3-google-login&lt;/a>ï¼Œä¹Ÿæœ‰è©³ç´°çš„&lt;a class="link" href="https://yobaji.github.io/vue3-google-login/" target="_blank" rel="noopener"
>èªªæ˜æ–‡ä»¶&lt;/a>å¯ä»¥åƒè€ƒã€‚&lt;/p>
&lt;p>å®‰è£ &lt;a class="link" href="https://yobaji.github.io/vue3-google-login/" target="_blank" rel="noopener"
>vue3-google-login&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D vue3-google-login
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D vue3-google-login&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ Nuxt 3 æ’ä»¶ä¾†ä½¿ç”¨ &lt;a class="link" href="https://yobaji.github.io/vue3-google-login/" target="_blank" rel="noopener"
>vue3-google-login&lt;/a>ï¼Œæ–°å¢ &lt;strong>./plugins/vue3-google-login.client.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pluginsvue3-google-loginclientjs">plugins/vue3-google-login.client.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">vue3GoogleLogin&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue3-google-login&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtPlugin&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleClientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">public&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vueApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">vue3GoogleLogin&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘åœ¨å…ƒä»¶ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;code>&amp;lt;GoogleLogin&amp;gt;&lt;/code> å…ƒä»¶ï¼Œä¸¦æ·»åŠ ä¸€å€‹ &lt;code>callback&lt;/code> å±¬æ€§ï¼›æ­¤å¤–ï¼Œæˆ‘ä½¿ç”¨äº† Nuxt 3 æä¾›çš„ &lt;code>&amp;lt;ClientOnly&amp;gt;&lt;/code> å…ƒä»¶ï¼Œå°‡ &lt;code>&amp;lt;GoogleLogin&amp;gt;&lt;/code> åŒ…è£¹èµ·ä¾†ï¼Œä»¥ç¢ºä¿è©²å…ƒä»¶åƒ…åœ¨å®¢æˆ¶ç«¯åšæ¸²æŸ“ï¼Œä»¥å…ç™»å…¥æŒ‰éˆ•åœ¨åˆå§‹åŒ–ç™¼ç”Ÿå•é¡Œã€‚&lt;/p>
&lt;h5 id="pagesloginvue">pages/login.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">GoogleLogin&lt;/span> &lt;span class="nt">:callback&lt;/span>&lt;span class="s">=&amp;#34;callback&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">callback&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘å•Ÿå‹• Nuxt ä¼ºæœå™¨ï¼Œé€™é‚Šæˆ‘æœƒç¿’æ…£ä½¿ç”¨ &lt;code>yarn run dev -- --https&lt;/code> ä¾†å•Ÿç”¨ &lt;strong>HTTPS&lt;/strong> åšæ¸¬è©¦ï¼Œå°±èƒ½ç™¼ç¾ä½¿ç”¨ Google å¸³è™Ÿç™»å…¥æˆåŠŸå¾Œï¼Œæ‰€è¿”å›çš„ Credentialã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618682810_b13a4d8304_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="one-tap-prompt">One Tap prompt&lt;/h3>
&lt;p>ä½ å¯ä»¥åœ¨ &lt;code>&amp;lt;GoogleLogin&amp;gt;&lt;/code> å…ƒä»¶æ·»åŠ  &lt;code>prompt&lt;/code> å±¬æ€§ä¸¦è¨­ç‚º &lt;code>true&lt;/code>ï¼Œé€™æ¨£å°±èƒ½åŒæ™‚å•Ÿç”¨ &lt;strong>Google ä¸€éµç™»å…¥ (One Tap prompt)&lt;/strong> çš„åŠŸèƒ½å›‰ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">GoogleLogin&lt;/span> &lt;span class="nt">:callback&lt;/span>&lt;span class="s">=&amp;#34;callback&amp;#34;&lt;/span> &lt;span class="na">prompt&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ–è€…ä¹Ÿå¯ä»¥åœ¨ &lt;code>onMounted&lt;/code> ä¸­å‘¼å« &lt;strong>vue3-google-login&lt;/strong> çš„ &lt;code>googleOneTap()&lt;/code> æ–¹æ³•ï¼Œä¾†å–®ç¨ä½¿ç”¨ &lt;strong>One Tap prompt&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleOneTap&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue3-google-login&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">onMounted&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">googleOneTap&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è‡ªè¨‚æŒ‰éˆ•">è‡ªè¨‚æŒ‰éˆ•&lt;/h3>
&lt;p>å¦‚æœä½ æƒ³è‡ªè¨‚ç™»å…¥æŒ‰éˆ•çš„æ¨£å¼ï¼Œå¯ä»¥åœ¨ &lt;code>&amp;lt;GoogleLogin&amp;gt;&lt;/code> çš„é è¨­æ’æ§½ (Slot) åšå»ºç«‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">GoogleLogin&lt;/span> &lt;span class="nt">:callback&lt;/span>&lt;span class="s">=&amp;#34;callback&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ä½¿ç”¨&lt;/span> &lt;span class="nx">Google&lt;/span> &lt;span class="nx">é€²è¡Œç™»å…¥&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">GoogleLogin&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨è‡ªè¨‚æŒ‰éˆ•æœƒè®“ OAuth æµç¨‹ç¨å¾®æœ‰é»ä¸ä¸€æ¨£ï¼Œç•¶ä½ ç™»å…¥æˆåŠŸå¾Œé è¨­æœƒå›å‚³ &lt;a class="link" href="https://developers.google.com/identity/oauth2/web/guides/use-code-model#auth_code_handling" target="_blank" rel="noopener"
>Auth Code&lt;/a>ã€‚&lt;/p>
&lt;p>å¦‚æœè¨­å®šå±¬æ€§ &lt;code>popup-type=&amp;quot;TOKEN&amp;quot;&lt;/code>ï¼Œå‰‡å›å‚³ &lt;a class="link" href="https://developers.google.com/identity/oauth2/web/guides/use-token-model" target="_blank" rel="noopener"
>Access Token&lt;/a>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">GoogleLogin&lt;/span> &lt;span class="nt">:callback&lt;/span>&lt;span class="s">=&amp;#34;callback&amp;#34;&lt;/span> &lt;span class="na">popup&lt;/span>&lt;span class="nt">-type&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">TOKEN&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ä½¿ç”¨&lt;/span> &lt;span class="nx">Google&lt;/span> &lt;span class="nx">é€²è¡Œç™»å…¥&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">GoogleLogin&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä½¿ç”¨-googletokenlogin">ä½¿ç”¨ googleTokenLogin()&lt;/h3>
&lt;p>åœ¨å…ƒä»¶ä¸­æˆ‘å€‘ä¹Ÿå¯ä»¥è‡ªå·±å»ºç«‹ &lt;code>handleGoogleLogin&lt;/code> é»æ“Šäº‹ä»¶ï¼Œå‘¼å« &lt;code>googleTokenLogin()&lt;/code> æ–¹æ³•ä¸¦å‚³å…¥è¨­å®šåœ¨ &lt;strong>Runtime Config&lt;/strong> ä¸­çš„ &lt;strong>Google Client ID&lt;/strong>ï¼Œé€™æ¨£é»æ“Šç™»å…¥æŒ‰éˆ•å°±èƒ½è™•ç† Google ç™»å…¥å–å¾— &lt;strong>Access Token&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleTokenLogin&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue3-google-login&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleClientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">public&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">handleGoogleLogin&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">googleTokenLogin&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ä¸€å€‹ç™»å…¥æŒ‰éˆ•ä¾†å‘¼å« &lt;code>handleGoogleLogin&lt;/code> é»æ“Šäº‹ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;handleGoogleLogin&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ä½¿ç”¨&lt;/span> &lt;span class="nx">Google&lt;/span> &lt;span class="nx">ç¹¼çºŒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;strong>vue3-google-login&lt;/strong> æä¾›çš„ &lt;code>googleTokenLogin()&lt;/code> æ–¹æ³•ï¼Œæˆ‘å€‘å°±èƒ½å–å¾— Google ä½¿ç”¨è€…çš„ &lt;strong>Access Token&lt;/strong> å›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617734947_56a5365817_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="ä½¿ç”¨-googleauthcodelogin">ä½¿ç”¨ googleAuthCodeLogin()&lt;/h3>
&lt;p>æˆ‘å€‘ä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code>googleAuthCodeLogin()&lt;/code> ä¾†å–å¾— &lt;strong>Auth Code&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleAuthCodeLogin&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue3-google-login&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleClientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">public&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">handleGoogleLogin&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">googleAuthCodeLogin&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618245191_6103912bce_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="ä¼ºæœå™¨ç«¯é©—è­‰">ä¼ºæœå™¨ç«¯é©—è­‰&lt;/h3>
&lt;p>ç•¶ä½¿ç”¨è€…æ–¼å‰ç«¯æˆåŠŸç™»å…¥å¾Œï¼Œé€šå¸¸æœƒå‚³è‡³å¾Œç«¯é€²è¡Œç™»å…¥æˆ–è¨˜éŒ„ä½¿ç”¨è€…ï¼Œå†ç”¢ç”Ÿä½¿ç”¨æ–¼ç¶²ç«™çš„ Tokenã€Cookie æˆ– Session ç­‰ï¼Œä»¥ä¾›å¾ŒçºŒçš„ç¶²ç«™é©—è­‰åšä½¿ç”¨ã€‚&lt;/p>
&lt;p>æˆ‘å€‘å¯ä½¿ç”¨ &lt;a class="link" href="https://github.com/googleapis/google-auth-library-nodejs" target="_blank" rel="noopener"
>google-auth-library&lt;/a> æ–¼å¾Œç«¯é€²è¡Œä¸€ç³»åˆ—çš„é©—è­‰æˆ–å–å¾—ä½¿ç”¨è€…è³‡è¨Šã€‚&lt;/p>
&lt;p>å®‰è£ &lt;a class="link" href="https://github.com/googleapis/google-auth-library-nodejs" target="_blank" rel="noopener"
>google-auth-library&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D google-auth-library
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D google-auth-library&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘å°±èƒ½ä¾ç…§ä¸åŒçš„ç™»å…¥æ–¹å¼å–å¾—çš„ &lt;code>Credential&lt;/code>ã€&lt;code>Access Token&lt;/code> æˆ– &lt;code>Auth Code&lt;/code> é€è‡³å¾Œç«¯åšé©—è­‰ã€‚&lt;/p>
&lt;h4 id="é©—è­‰-access-token">é©—è­‰ Access Token&lt;/h4>
&lt;p>æ–°å¢ä¸€å€‹ Server APIï¼Œåªæ¥å— POST æ–¹æ³•ï¼Œåœ¨ Body ä¸­å¤¾å¸¶ &lt;code>accessToken&lt;/code> ç™¼é€è‡³å¾Œç«¯ã€‚&lt;/p>
&lt;p>å»ºç«‹ &lt;strong>./server/api/auth/google.post.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiauthgooglepostjs">server/api/auth/google.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;google-auth-library&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">oauth2Client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setCredentials&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">access_token&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">accessToken&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">oauth2Client&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://www.googleapis.com/oauth2/v3/userinfo&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">revokeCredentials&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userInfo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Invalid token&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sub&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">picture&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emailVerified&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email_verified&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èª¿æ•´å…ƒä»¶å…§çš„ç™»å…¥æµç¨‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleTokenLogin&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue3-google-login&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleClientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">public&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">handleGoogleLogin&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">accessToken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">googleTokenLogin&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">access_token&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">accessToken&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s1">&amp;#39;ç™»å…¥å¤±æ•—&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/auth/google&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">method&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;POST&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">body&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">accessToken&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">initialCache&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘ä½¿ç”¨ Google OAuth ç™»å…¥æˆåŠŸå¾Œï¼Œæœƒå–å¾— &lt;strong>Access Token&lt;/strong>ï¼Œä¸¦å°‡å…¶å‚³è‡³ Server APIï¼Œ&lt;code>/api/auth/google&lt;/code> æ¥æ”¶ &lt;strong>Access Token&lt;/strong> ä¸¦ä½¿ç”¨ Google API å–å¾—ä½¿ç”¨è€…çš„è³‡è¨Šï¼Œæœ€å¾Œå›å‚³çµ¦å‰ç«¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618245256_903381f8c0_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="é©—è­‰-credential">é©—è­‰ Credential&lt;/h4>
&lt;p>åœ¨å…ƒä»¶ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨çš„ç™»å…¥æ–¹å¼å¦‚æœæ˜¯ &lt;code>Google æ¸²æŸ“çš„é è¨­æŒ‰éˆ•&lt;/code>æˆ– &lt;code>One Tap prompt&lt;/code>ï¼Œå›å‚³å€¼å°±æœƒåŒ…å« &lt;code>Credential&lt;/code>ï¼Œæˆ‘å€‘å°‡å°±å¯ä½¿ç”¨ä¸‹é¢ä¿®æ”¹å¾Œçš„ Server API é€²è¡Œé©—è­‰ã€‚&lt;/p>
&lt;p>&lt;strong>server/api/auth/google.post.js&lt;/strong> å…§å®¹ä¿®æ”¹ç‚ºå¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiauthgooglepostjs-1">server/api/auth/google.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;google-auth-library&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">oauth2Client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">ticket&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">verifyIdToken&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">idToken&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">credential&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">payload&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ticket&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getPayload&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Invalid token&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sub&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">picture&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emailVerified&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email_verified&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="é©—è­‰-auth-code">é©—è­‰ Auth Code&lt;/h4>
&lt;p>æˆ‘å€‘ä½¿ç”¨çš„ç™»å…¥æ–¹å¼å¦‚æœæ˜¯å‘¼å« &lt;strong>vue3-google-login&lt;/strong> çš„ &lt;code>googleAuthCodeLogin()&lt;/code>ï¼Œå›å‚³å€¼å°±æœƒåŒ…å« &lt;code>Auth Code&lt;/code>ï¼Œæˆ‘å€‘å°±å¯ä½¿ç”¨ä¸‹é¢ä¿®æ”¹å¾Œçš„ Server API é€²è¡Œé©—è­‰ã€‚&lt;/p>
&lt;p>&lt;strong>server/api/auth/google.post.js&lt;/strong> å…§å®¹ä¿®æ”¹ç‚ºå¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiauthgooglepostjs-2">server/api/auth/google.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;google-auth-library&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">oauth2Client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ä½ çš„ Google Client ID&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clientSecret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ä½ çš„ Google Client Secret&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">redirectUri&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ä½ çš„ Google Redirect Uri&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">tokens&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getToken&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authCode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setCredentials&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">access_token&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">tokens&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">access_token&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">oauth2Client&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://www.googleapis.com/oauth2/v3/userinfo&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">revokeCredentials&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userInfo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Invalid token&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sub&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">picture&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emailVerified&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email_verified&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»¥ä¸Šå¯¦ç¾äº†ä¸²æ¥ Google OAuth ç™»å…¥ï¼Œä¸¦å°‡ &lt;code>Access Token&lt;/code> è³‡è¨Šç™¼é€è‡³å¾Œç«¯é€²è¡Œé©—è­‰ï¼Œå¤§å®¶å¯ä»¥åœ¨ä¾ç…§ä½¿ç”¨æƒ…å¢ƒè‡ªå·±æŒ‘é¸ç™»å…¥æ–¹å¼åŠé©—è­‰æ–¹å¼ï¼Œå¾ŒçºŒä¹Ÿèƒ½å°‡ä½¿ç”¨è€…è³‡è¨Šå„²å­˜åˆ°è³‡æ–™åº«ä¸­ï¼Œæœ‰äº†è³‡æ–™åº«æˆ‘å€‘å°±èƒ½ä¾ç…§ä½¿ç”¨è€…è³‡è¨Šï¼Œä¾†æ¯”å°è³‡æ–™åº«é€²è¡Œè¨»å†Šã€é©—è­‰ç™»å…¥åŠç”¢ç”Ÿå¾ŒçºŒçš„ Session æˆ– Cookie ç­‰ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="cookie-çš„è¨­ç½®èˆ‡-jwt-çš„æ­é…">Cookie çš„è¨­ç½®èˆ‡ JWT çš„æ­é…&lt;/h2>
&lt;p>Cookie åœ¨ç€è¦½ç¶²ç«™æ™‚å¤šæœƒä½¿ç”¨åˆ°ï¼Œä¸è«–æ˜¯ç”¨ä¾†å„²å­˜è‡¨æ™‚çš„è³‡è¨Šæˆ–æ˜¯è¾¨è­˜ä½¿ç”¨è€…ç­‰ï¼Œé€™ä¸€å€‹å„²å­˜åœ¨ç€è¦½å™¨çš„ä¸€å°æ®µæ–‡å­—è³‡æ–™ï¼Œæœƒåœ¨æ¯æ¬¡ç™¼é€ HTTP è«‹æ±‚æ™‚è‡ªå‹•å¤¾å¸¶ï¼Œæ‰€ä»¥ Cookie æœ€å¸¸è¦‹çš„ç”¨é€”å°±åŒ…å«äº†ç™»å…¥ç‹€æ…‹ã€é©—è­‰èº«ä»½ç­‰ã€‚&lt;/p>
&lt;p>ä»¥ä¸‹å°‡è¬›è¿°åœ¨ Nuxt 3 å¦‚ä½•è¨­ç½® Cookieï¼Œä¸¦çµåˆ JWT (JSON Web Token) ä¾†åšä¸€å€‹å¯¦éš›ä½¿ç”¨è€…é©—è­‰ã€‚&lt;/p>
&lt;h3 id="nuxt-3-cookie-çš„è¨­ç½®æ–¹å¼">Nuxt 3 Cookie çš„è¨­ç½®æ–¹å¼&lt;/h3>
&lt;h4 id="usecookie">useCookie&lt;/h4>
&lt;p>Nuxt 3 æä¾›äº†ä¸€å€‹çµ„åˆå¼å‡½æ•¸ &lt;code>useCookie()&lt;/code> ä¾†è®“æˆ‘å€‘å¯ä»¥è®€å¯« Cookieï¼Œä¸¦ä¸”å°æ–¼ SSR ä¹Ÿæœ‰æ”¯æ´ï¼Œåœ¨é é¢ã€å…ƒä»¶æˆ–æ’ä»¶ä¸­ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ &lt;code>useCookie()&lt;/code> ä¾†å»ºç«‹ä¸€å€‹ cookie å…·æœ‰éŸ¿æ‡‰æ€§çš„åƒè€ƒã€‚&lt;/p>
&lt;p>ä½¿ç”¨æ–¹å¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">cookie&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;strong>name&lt;/strong>ï¼šå°æ‡‰çš„å°±æ˜¯ cookie çš„ keyã€‚&lt;/li>
&lt;li>&lt;strong>options&lt;/strong>ï¼šå‚³å…¥ä¸€å€‹ç‰©ä»¶ä¾†è¨­ç½®å¤šå€‹ cookie å±¬æ€§ï¼š
&lt;ul>
&lt;li>&lt;strong>maxAge&lt;/strong>ï¼šæŒ‡å®š &lt;code>Max-Age&lt;/code> å±¬æ€§çš„å€¼ï¼Œå–®ä½æ˜¯ç§’ã€‚å¦‚æœæ²’æœ‰è¨­ç½®ï¼Œå‰‡é€™å€‹ cookie å°‡æœƒæ˜¯ Session Onlyï¼Œæ„å³ç¶²é é—œé–‰å¾Œå°±æœƒæ¶ˆå¤±ã€‚&lt;/li>
&lt;li>&lt;strong>expires&lt;/strong>ï¼šæŒ‡å®šä¸€å€‹ Date ç‰©ä»¶ä¾†ä½œç‚ºéæœŸçš„æ™‚é–“ï¼Œé€šå¸¸æ˜¯è¦ç›¸å®¹æ¯”è¼ƒèˆŠçš„ç€è¦½å™¨åšä½¿ç”¨ï¼Œå¦‚æœ &lt;strong>maxAge&lt;/strong> èˆ‡ &lt;strong>expires&lt;/strong> å±¬æ€§éƒ½æœ‰è¨­å®šï¼Œå‰‡éæœŸæ™‚é–“æ‡‰è©²è¦è¨­å®šç‚ºä¸€æ¨£ã€‚&lt;/li>
&lt;li>&lt;strong>httpOnly&lt;/strong>ï¼šæ˜¯ä¸€å€‹å¸ƒæ—å€¼ï¼Œé è¨­ç‚º &lt;code>false&lt;/code>ï¼Œç•¶è¨­ç½®ç‚º &lt;code>true&lt;/code> æ™‚ï¼Œè¡¨ç¤ºå®¢æˆ¶ç«¯çš„ JavaScript å°‡ç„¡æ³•ä½¿ç”¨ &lt;code>document.cookie&lt;/code> ä¾†æŸ¥çœ‹é€™å€‹ cookieã€‚é€šå¸¸æ˜¯æ¯”è¼ƒæ•æ„Ÿæˆ–æ©Ÿå¯†çš„è¨Šæ¯ï¼Œå¦‚ Token æˆ– Session Id æœƒè¨­å®šç‚º &lt;code>true&lt;/code>ï¼Œåªè®“ç€è¦½å™¨ç™¼å‡ºè«‹æ±‚æ™‚è‡ªå‹•å¤¾å¸¶ã€‚&lt;/li>
&lt;li>&lt;strong>secure&lt;/strong>ï¼šæ˜¯ä¸€å€‹å¸ƒæ—å€¼ï¼Œé è¨­ç‚º &lt;code>false&lt;/code>ï¼Œç•¶è¨­ç½®ç‚º &lt;code>true&lt;/code> æ™‚ç€è¦½å™¨å¾—æ˜¯ HTTPS çš„åŠ å¯†å‚³è¼¸å”å®šçš„æƒ…å¢ƒä¸‹ï¼Œæ‰æœƒè‡ªå‹•å¤¾å¸¶é€™å€‹ cookieã€‚&lt;/li>
&lt;li>&lt;strong>domain&lt;/strong>ï¼šæŒ‡å®š cookie å¯ä»¥é©ç”¨çš„ Domainï¼Œé€šå¸¸æœƒä¿æŒé è¨­ï¼Œè¡¨ç¤ºé©ç”¨æ–¼è‡ªå·±çš„ Domain ä¹‹ä¸‹ã€‚&lt;/li>
&lt;li>&lt;strong>path&lt;/strong>ï¼šæŒ‡å®š cookie é©ç”¨çš„è·¯å¾‘ã€‚&lt;/li>
&lt;li>&lt;strong>sameSite&lt;/strong>ï¼šç‚ºä¸€å€‹å¸ƒæ—å€¼æˆ–æ˜¯å­—ä¸²ï¼Œç”¨æ–¼è¨­å®š&lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite" target="_blank" rel="noopener"
>å®‰å…¨ç­–ç•¥&lt;/a>ã€‚&lt;/li>
&lt;li>&lt;strong>encode&lt;/strong>ï¼šç”±æ–¼ cookie çš„å€¼åªèƒ½ä½¿ç”¨æœ‰é™çš„å­—å…ƒé›†ï¼Œæ‰€ä»¥é€™å€‹è¨­ç½®å¯ä»¥å°‡ cookie ç·¨ç¢¼æˆåˆæ³•çš„å­—ä¸²å€¼ï¼Œé è¨­çš„ç·¨ç¢¼æ˜¯ä½¿ç”¨ &lt;code>JSON.stringify&lt;/code> + &lt;code>encodeURIComponent()&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>decode&lt;/strong>ï¼šcookie æœƒç¶“éä¸€å€‹è§£ç¢¼çš„éç¨‹ï¼Œé è¨­çš„è§£ç¢¼æ˜¯ä½¿ç”¨ &lt;code>decodeURIComponent&lt;/code> + &lt;code>destr&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>default&lt;/strong>ï¼šç‚ºä¸€å€‹å‡½æ•¸ï¼Œå¯ä»¥ç”¨æ–¼å›å‚³ cookie çš„é è¨­å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯å›å‚³ä¸€å€‹ &lt;code>Ref&lt;/code>ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæ–°å¢ &lt;strong>pages/cookie.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescookievue">pages/cookie.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center justify-center py-12 px-4 sm:px-6 lg:px-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;w-full max-w-md&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 text-center text-3xl font-bold tracking-tight text-gray-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Cookie&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 flex w-full max-w-md flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 w-fit rounded-sm bg-emerald-500 py-2 px-4 text-sm text-white hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;setNameCookie&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">è¨­ç½®&lt;/span> &lt;span class="nx">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 flex&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-lg font-semibold text-emerald-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ml-2 flex text-lg text-slate-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 flex w-full max-w-md flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 w-fit rounded-sm bg-emerald-500 py-2 px-4 text-sm text-white hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;setCounterCookie&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">è¨­ç½®&lt;/span> &lt;span class="nx">counter&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 flex&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-lg font-semibold text-emerald-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">counter&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ml-2 flex text-lg text-slate-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">maxAge&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">setNameCookie&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Ryan&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">setCounterCookie&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">round&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°±å¯ä»¥è¨­ç½®ä¸€å€‹åªæœ‰ç›®å‰ç¶²é æœ‰æ•ˆçš„ cookie åç‚º &lt;code>name&lt;/code> åŠä¸€å€‹éæœŸæ™‚é–“ç‚º 60 ç§’å¾Œçš„ &lt;code>counter&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618245241_9307ee8408_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="ä¼ºæœå™¨ç«¯ä½¿ç”¨-getcookie-èˆ‡-setcookie">ä¼ºæœå™¨ç«¯ä½¿ç”¨ getCookie èˆ‡ setCookie&lt;/h3>
&lt;p>ä½ å¯ä»¥åœ¨ä¼ºæœå™¨ç«¯ä½¿ç”¨ &lt;code>getCookie()&lt;/code> ä¾†å–å¾—å‰ç«¯å¤¾å¸¶éä¾†çš„ cookieï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code>setCookie&lt;/code> ä¾†è¨­ç½® cookie å›æ‡‰çµ¦å‰ç«¯ã€‚&lt;/p>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæ–°å¢ &lt;strong>server/api/coookie.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapicoookiejs">server/api/coookie.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">parseInt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">counter&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">counter&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶å‰ç«¯æ‰“ &lt;code>/api/cookie&lt;/code> é€™éš» Server API æ™‚ï¼Œå°±æœƒè‡ªå‹•å¤¾å¸¶ç€è¦½å™¨ä¸­çš„ cookieï¼Œä¼ºæœå™¨ç«¯æ”¶åˆ°è«‹æ±‚è§£æ cookie å¾Œå¾—åˆ° &lt;code>counter&lt;/code>ï¼Œå°‡å…¶è½‰ç‚ºæ•¸å€¼æˆ–é è¨­ç‚º 0 å¾Œå¢åŠ  1ï¼Œå†é‡æ–°è¨­å®šå›å»çµ¦å‰ç«¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618682865_832fc7b792_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="ä½¿ç”¨-cookie-åšä½¿ç”¨è€…é©—è­‰">ä½¿ç”¨ Cookie åšä½¿ç”¨è€…é©—è­‰&lt;/h3>
&lt;p>æˆ‘å€‘å¯ä»¥å°‡ Cookie çš„é‹ä½œæ©Ÿåˆ¶æ‡‰ç”¨åœ¨æœƒå“¡ç³»çµ±ç•¶ä¸­ï¼Œä½¿ç”¨è€…ç™»å…¥æˆåŠŸå¾Œï¼Œå¾Œç«¯ç”¢ç”Ÿçš„ Token æˆ– Session å›å‚³ä¸¦å„²å­˜åœ¨ä½¿ç”¨è€…çš„ç€è¦½å™¨ä¸­ï¼Œä¹‹å¾Œçš„è«‹æ±‚å°‡æœƒè‡ªå‹•å¤¾å¸¶å¯ä»¥è¾¨è­˜å‡ºä½¿ç”¨è€…çš„ cookieï¼Œæˆ‘å€‘å°±å¯ä»¥åœ¨å¾Œç«¯è§£ææˆ–æ¯”å° cookie ä¾†é©—è­‰ä½¿ç”¨è€…çš„è³‡è¨Šï¼Œä¸¦ä¾ç…§ç­–ç•¥çµ¦äºˆä¸åŒçš„è™•ç†é‚è¼¯ã€‚&lt;/p>
&lt;p>æˆ‘å€‘å»¶çºŒä¸Šè¿°çš„&lt;a class="link" href="#%e4%b8%b2%e6%8e%a5-google-oauth-%e7%99%bb%e5%85%a5" >ä½¿ç”¨ Google OAuth ç™»å…¥&lt;/a>ï¼Œæˆ‘å€‘å¯ä»¥åœ¨å¾Œç«¯å¯¦ä½œç”¢ç”Ÿæˆ‘å€‘è‡ªå·±ç³»çµ±ä½¿ç”¨çš„ Tokenï¼Œä¸¦è¨­ç½®åœ¨ &lt;code>access_token&lt;/code> é€™å€‹ cookie ä¹‹ä¸­ï¼Œå¾Œç«¯å¯ä»¥å¯«å¦‚ä¸‹ç¨‹å¼ç¢¼ï¼Œä¾†è¨­ç½® &lt;code>httpOnly&lt;/code> åŠ &lt;code>maxAge&lt;/code> éæœŸæ™‚é–“ç­‰åƒæ•¸ã€‚&lt;/p>
&lt;h5 id="serverapiauthgooglepostjs-3">server/api/auth/google.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;access_token&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">accessToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">httpOnly&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">maxAge&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expires&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">expires&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">secure&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NODE_ENV&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;production&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘ä½¿ç”¨ &lt;a class="link" href="https://github.com/auth0/node-jsonwebtoken" target="_blank" rel="noopener"
>jsonwebtoken&lt;/a> ç”¢ç”Ÿ JWTï¼Œè£¡é¢çš„ Payload æ”¾ç½®äº†ä½¿ç”¨è€…è³‡è¨Šï¼Œå…¶ä¸­ &lt;code>jwtSignSecret&lt;/code> ä½œç‚ºæ ¸ç™¼ JWT çš„ç°½ç½²é‡‘é‘°ï¼Œæˆ‘å€‘å®šç¾©åœ¨ &lt;code>nuxt.config.ts&lt;/code> ä¸­çš„ &lt;code>runtimeConfig.jwtSignSecret&lt;/code>ã€‚&lt;/p>
&lt;p>å®‰è£ &lt;a class="link" href="https://github.com/auth0/node-jsonwebtoken" target="_blank" rel="noopener"
>jsonwebtoken&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install jsonwebtoken
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add jsonwebtoken&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®Œæ•´çš„ &lt;strong>./server/api/auth/google.post.js&lt;/strong> ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiauthgooglepostjs-4">server/api/auth/google.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;google-auth-library&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">jwt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;jsonwebtoken&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">oauth2Client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setCredentials&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">access_token&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">accessToken&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">oauth2Client&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://www.googleapis.com/oauth2/v3/userinfo&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">revokeCredentials&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userInfo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Invalid token&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtTokenPayload&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sub&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">maxAge&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">24&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">7&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">expires&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">now&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">maxAge&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtToken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">jwt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sign&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">exp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">expires&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">jwtTokenPayload&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jwtSignSecret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;access_token&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">jwtToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">httpOnly&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">maxAge&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expires&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">expires&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">secure&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NODE_ENV&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;production&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">picture&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>JWT åœ¨æ ¸ç™¼æ™‚ä½¿ç”¨çš„åŠ å¯†é‡‘é‘°ï¼Œå»ºè­°ä½¿ç”¨éå°ç¨±å¼çš„é‡‘é‘°é€²è¡ŒåŠ å¯†ï¼Œé€™é‚Šåƒ…æ˜¯ç‚ºäº†ç¯„ä¾‹å±•ç¤ºæ–¹ä¾¿è€Œä½¿ç”¨ç›¸åŒçš„ Secret é€²è¡ŒåŠ è§£å¯†ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æ¥è‘—ï¼Œæˆ‘å€‘å¯ä»¥å¯¦ä½œä¸€å€‹ Server APIï¼Œ&lt;strong>./server/api/whoami.js&lt;/strong> ä¾†å¾ cookie å¾—åˆ° &lt;code>access_token&lt;/code>ï¼Œå†ç”¨ &lt;code>jwt.verify()&lt;/code> æ–¹æ³•ï¼Œä¾†é©—è­‰ JTW å¾Œçš„åˆ°ä½¿ç”¨è€…è³‡è¨Šã€‚&lt;/p>
&lt;h5 id="serverapiwhoamijs">server/api/whoami.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">jwt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;jsonwebtoken&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtToken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;access_token&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">jwt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">verify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">jwtToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jwtSignSecret&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nickname&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">401&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Unauthorized&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘åœ¨å‰ç«¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ &lt;code>/api/whoami&lt;/code> é€™éš» API ä¾†å¾—åˆ°ä½¿ç”¨è€…çš„è³‡è¨Šå›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618515934_2af8149c8f_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ä¸Šåœ–çš„æµç¨‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>å‰å¾€ç™»å…¥é é¢ï¼Œä¸¦ä½¿ç”¨ Google é€²è¡Œç™»å…¥&lt;/li>
&lt;li>ç™»å…¥æˆåŠŸå¾Œï¼Œæ‰“ &lt;strong>/api/auth/google&lt;/strong> APIï¼ŒBody å¤¾å¸¶ Google OAuth å›å‚³çš„ &lt;code>access_token&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>/api/auth/google&lt;/strong> API å›å‚³å¾Œç«¯ç”¢ç”Ÿçš„æ™‚æ•ˆä¸ƒå¤©çš„ JWTï¼Œä¸¦è¨­ç½®æ–¼ cookie çš„ &lt;code>access_token&lt;/code>ï¼Œä¸¦å°‡å‰ç«¯é é¢å°èˆªè‡³ &lt;strong>/whoami&lt;/strong> é é¢ã€‚&lt;/li>
&lt;li>åœ¨ &lt;strong>/whoami&lt;/strong> é é¢ï¼Œé»æ“Šã€Œ&lt;strong>æ‰“ /api/whoami API&lt;/strong>ã€æŒ‰éˆ•ï¼Œé€å‡º &lt;strong>/api/whoami&lt;/strong> API è«‹æ±‚ï¼Œç€è¦½å™¨æœƒè‡ªå‹•å¤¾å¸¶ cookie è‡³å¾Œç«¯ã€‚&lt;/li>
&lt;li>å¾Œç«¯ API &lt;strong>/api/whoami&lt;/strong> æ”¶åˆ°è«‹æ±‚å¾Œï¼Œå¾ cookie ä¸­è§£æå‡º &lt;code>access_token&lt;/code> çš„å€¼ï¼Œä¸¦é©—è­‰è§£æå‡º JWT å…§å«çš„ä½¿ç”¨è€…è³‡è¨Šï¼Œä¸¦å°‡å…¶å›å‚³è‡³å‰ç«¯æ¸²æŸ“ã€‚&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>pages/whoami.vue&lt;/strong> å®Œæ•´ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;h5 id="pageswhoamivue">pages/whoami.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center justify-center py-12 px-4 sm:px-6 lg:px-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;w-full max-w-md&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-6 text-center text-3xl font-bold tracking-tight text-gray-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">æˆ‘æ˜¯èª°&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-6 flex w-full max-w-md flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 w-fit rounded-sm bg-emerald-500 py-2 px-4 text-sm text-white hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;whoami&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">æ‰“&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nx">api&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">whoami&lt;/span> &lt;span class="nx">API&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="nt">v-if&lt;/span>&lt;span class="s">=&amp;#34;userInfo&amp;#34; class=&amp;#34;mt-8 flex w-full max-w-md flex-col&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;div v-for=&amp;#34;key in Object.keys(userInfo)&amp;#34; :key=&amp;#34;key&amp;#34; class=&amp;#34;mt-1 flex flex-wrap break-all&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;label class=&amp;#34;text-lg font-semibold text-emerald-500&amp;#34;&amp;gt; {{ key }}:&amp;lt;/label&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;span class=&amp;#34;ml-2 flex flex-1 text-lg text-slate-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="na">userInfo&lt;/span>&lt;span class="err">[&lt;/span>&lt;span class="na">key&lt;/span>&lt;span class="err">]&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">whoami&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/whoami&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡³æ­¤ï¼Œæˆ‘å€‘å°±å¯¦ä½œå‡ºä¸€å€‹ Google OAuth çš„ç™»å…¥åŠé©—è­‰æ©Ÿåˆ¶ï¼Œå¾ŒçºŒå¯ä»¥å†å°‡é€™äº›è³‡è¨Šå„²å­˜è‡³è³‡æ–™åº«ä¹‹ä¸­åšå¾ŒçºŒçš„ä½¿ç”¨ã€‚&lt;/p>
&lt;p>é€™å€‹ç¯„ä¾‹çš„å®Œæ•´ç¨‹å¼ç¢¼å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://github.com/wjdesign/ithome-2022-ironman-nuxt3/tree/day20/nuxt-app-whoami" target="_blank" rel="noopener"
>Nuxt 3 - ä½¿ç”¨ Cookie èˆ‡ JWT åšä½¿ç”¨è€…é©—è­‰&lt;/a>&lt;/p>
&lt;p>å°æé†’ï¼Œå¦‚æœæ˜¯åœ¨ä¼ºæœå™¨ç«¯æ‰“ APIï¼Œå¯ä»¥ä½¿ç”¨ &lt;a class="link" href="https://nuxt.com/docs/api/composables/use-request-headers" target="_blank" rel="noopener"
>useRequestHeaders&lt;/a> å°±å¯ä»¥å¾ä¼ºæœå™¨ç«¯è¨ªå•å’Œä»£ç† cookie åˆ° APIã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/whoami&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">headers&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">useRequestHeaders&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;cookie&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="cookielocalstoragetoken-èˆ‡-jwt">Cookieã€LocalStorageã€Token èˆ‡ JWT&lt;/h3>
&lt;p>åœ¨åšä½¿ç”¨è€…é©—è­‰çš„æ™‚å€™ï¼ŒCookieã€LocalStorageã€Token èˆ‡ JWT æ˜¯å€‹é‡è¦çš„æ¦‚å¿µï¼Œé€™é‚Šç¨å¾®ç°¡è¿°ä¸€ä¸‹ä¹‹é–“çš„å·®ç•°èˆ‡ä½¿ç”¨æƒ…å¢ƒã€‚&lt;/p>
&lt;h4 id="cookie">Cookie&lt;/h4>
&lt;p>é€šå¸¸æ¡ç”¨ Cookie ä¾†é©—è­‰ä½¿ç”¨è€…æ™‚ï¼Œç•¶ä½¿ç”¨è€…ç™»å…¥æˆåŠŸï¼Œæœƒç”±ä¼ºæœå™¨ç«¯ç”¢ç”Ÿä¸€çµ„ cookie ä¾†ç•¶ä½œå¾ŒçºŒé©—è­‰ä½¿ç”¨çš„ä¾æ“šï¼Œé€™å€‹ä¾æ“šæœƒæ˜¯ä¸€å€‹å­—ä¸²å½¢å¼ï¼Œç€è¦½å™¨æ¯æ¬¡ç™¼é€è«‹æ±‚æ™‚æœƒ&lt;code>è‡ªå‹•å¤¾å¸¶&lt;/code>ç¬¦åˆ Domainã€è·¯å¾‘è¨­å®šç­‰çš„ cookieï¼Œä¼ºæœå™¨ç«¯å°±å¯ä»¥ä¾æ“š cookie ä¾†è§£æé©—è­‰é€™å€‹å­—ä¸²æ‰€ä»£è¡¨çš„æ¶µæ„ï¼Œä¾‹å¦‚æ˜¯ä¸æ˜¯åŒ¹é…ä»£è¡¨æŸä½ä½¿ç”¨è€…å­—ä¸²ã€‚&lt;/p>
&lt;p>å¦‚åŒå‰é¢çš„ä¾‹å­ï¼Œæˆ‘å€‘å°‡ä¸€çµ„èƒ½å¤ ä»£è¡¨ &lt;strong>Ryan&lt;/strong> çš„ JWT ç”±ç™»å…¥å¾Œç”¢ç”Ÿï¼Œä¸¦åœ¨å¾ŒçºŒè«‹æ±‚ä¸­å¤¾å¸¶ï¼Œä»¥é”åˆ°é©—è­‰ä½¿ç”¨è€…çš„æ•ˆæœã€‚&lt;/p>
&lt;p>é€™ä¸²å­—ä¸²ï¼Œä¸ä¸€å®šæ˜¯è¦ JWTï¼Œåªè¦ä¼ºæœå™¨ç«¯èƒ½å›æ¨æˆ–å¾è³‡æ–™åº«æ¯”å°å‡ºæ‰€ä»£è¡¨çš„ä½¿ç”¨è€…æˆ–ç‰¹å®šè³‡è¨Šï¼Œé‚£éº¼ä¹Ÿå¯ä»¥æ˜¯éš¨æ„ç”¢ç”Ÿçš„å­—ä¸²ã€‚&lt;/p>
&lt;h4 id="localstorage">LocalStorage&lt;/h4>
&lt;p>LocalStorage æ˜¯ç¾ä»Šç€è¦½å™¨åŸºæœ¬ä¸Šéƒ½æ”¯æ´çš„ä¸€å€‹å„²å­˜ç©ºé–“ï¼ŒåŒæ¨£å…·æœ‰ Domain çš„å¯«å…¥èˆ‡è®€å–çš„æ¦‚å¿µï¼Œåœ¨ cookie æˆ‘å€‘æœ€å¤šåªèƒ½å„²å­˜ &lt;strong>4KB&lt;/strong> å·¦å³çš„å­—ä¸²è³‡æ–™ï¼Œä½†æ˜¯åœ¨ LocalStorage é€šå¸¸æœ‰ &lt;code>5MB&lt;/code> æ‰€ä»¥èƒ½å¤ å„²å­˜æ›´å¤šçš„è³‡è¨Šã€‚&lt;/p>
&lt;p>ä¹Ÿæœ‰ç¶²ç«™æœƒæŠŠé©—è­‰ä½¿ç”¨è€…çš„ Token æˆ–æ†‘è­‰ä¾æ“šå„²å­˜åœ¨ LocalStorageï¼Œä¹‹å¾Œç™¼é€è«‹æ±‚æˆ–éœ€è¦æ™‚å†å¾ä¸­æ‹¿å–å‡ºä¾†ä¸¦æ‰‹å‹•å¤¾å¸¶å‡ºå»ï¼ŒåŒæ¨£ä¹Ÿå¯ä»¥å¯¦ä½œå‡ºé©—è­‰ä½¿ç”¨è€…çš„æµç¨‹ã€‚&lt;/p>
&lt;p>åœ¨ç€è¦½å™¨çš„å„²å­˜ç©ºé–“ï¼Œé‚„æœ‰ä¸€å€‹ SessionStorageï¼Œå„²å­˜åœ¨é€™è£¡é¢çš„è³‡æ–™ï¼Œç•¶ç¶²é é—œé–‰æ™‚ï¼Œå°±æœƒè‡ªå‹•æ¸…é™¤ã€‚èˆ‡ LocalStorage ä¸åŒï¼Œé™¤éæ‰‹å‹•æˆ–ä½¿ç”¨ JS æ¸…é™¤ï¼Œä¸ç„¶è³‡æ–™æ°¸é å­˜åœ¨ï¼Œä¹Ÿä¸æœƒæœ‰éæœŸæ™‚é–“ã€‚&lt;/p>
&lt;h4 id="token">Token&lt;/h4>
&lt;p>ç”¨æ–¼æä¾›çµ¦ä½¿ç”¨è€…å¾ŒçºŒå¤¾å¸¶çµ¦å¾Œç«¯çš„æ†‘æ“šï¼Œç›¸ç•¶æ–¼ä¸€å€‹èº«åˆ†è­‰ï¼ŒToken é€šå¸¸ç”±å­—ä¸²çµ„æˆï¼Œä¸”éœ€è¦å¤ é•·ä¸å®¹æ˜“è¢«æš´åŠ›å˜—è©¦ç ´è§£ï¼ŒToken å­—ä¸²é€šå¸¸ä¸å…·æœ‰ä»»ä½•æ„ç¾©ï¼Œç›´è‡³å¾Œç«¯èˆ‡è³‡æ–™åº«æˆ–å…¶ä»–æ–¹å¼æ¯”å°å¾Œï¼Œæœƒå°æ‡‰å‡º Token æ‰€ä»£è¡¨çš„æ„ç¾©ï¼Œä¾‹å¦‚ä½¿ç”¨è€…è³‡è¨Šã€‚&lt;/p>
&lt;p>é€šå¸¸è«‹æ±‚å¤¾å¸¶çš„ Tokenï¼Œéœ€è¦æ¯æ¬¡å¾€å¿«å–æˆ–è³‡æ–™åº«åšæ¯”å°ï¼Œæ‰èƒ½çŸ¥é“ Token æ‰€ä»£è¡¨çš„ä½¿ç”¨è€…ã€‚&lt;/p>
&lt;h4 id="jwtjson-web-token">JWT(JSON Web Token)&lt;/h4>
&lt;p>JWT æ˜¯ä¸€ç¨®é–‹æ”¾çš„æ¨™æº– &lt;a class="link" href="https://www.rfc-editor.org/rfc/rfc7519" target="_blank" rel="noopener"
>RFC 7519&lt;/a>ï¼Œå¦‚åŒåå­— JWT æ˜¯åŸºæ–¼ JSON Object æ‰€ç·¨ç¢¼å‡ºä¾†çš„ï¼ŒJWT æ˜¯ç”±ä¸‰å€‹éƒ¨åˆ† &lt;code>Header&lt;/code>ã€&lt;code>Payload&lt;/code> åŠ &lt;code>Signature&lt;/code> çµ„åˆè€Œæˆã€‚&lt;/p>
&lt;p>å…¶ä¸­æœ€å¤§çš„ç‰¹è‰²å°±æ˜¯ &lt;code>Payload&lt;/code> é€™å€‹éƒ¨åˆ†ï¼Œç•¶å¾Œç«¯ä¼ºæœå™¨æ”¶åˆ° JWT æ™‚ï¼Œå¯ä»¥å¾ &lt;code>Payload&lt;/code> è§£æå‡ºç•¶åˆç°½ç™¼ JWT æ‰€åŒ…å«çš„è³‡è¨Šï¼Œé€šå¸¸æœƒåœ¨ &lt;code>Payload&lt;/code> æ”¾ç½®ä½¿ç”¨è€…çš„ç›¸é—œè³‡æ–™ï¼Œå¦‚ Idã€å§“åæˆ–ä¿¡ç®±ç­‰ï¼Œå› ç‚ºé€™å€‹ç‰¹è‰²æˆ‘å€‘ä¸éœ€è¦å†æ¯”å°å¿«å–æˆ–è³‡æ–™åº«ï¼Œå°±å¯ä»¥ç›´æ¥è§£æå‡ºä½¿ç”¨è€…è³‡æ–™ã€‚&lt;/p>
&lt;p>è€Œ &lt;code>Payload&lt;/code> é€™å€‹æ¬„ä½ï¼Œå› ç‚ºå¯ä»¥è¢«è§£ç¢¼å‡ºä¾†ï¼Œå†ä»»æ„çš„ä¿®æ”¹å¾Œé‡æ–°ç·¨ç¢¼ï¼Œæ‰€ä»¥æˆ‘å€‘å°±æœƒå€ŸåŠ© &lt;code>Header&lt;/code> åŠ &lt;code>Signature&lt;/code> é€™å…©å€‹éƒ¨åˆ†ï¼Œä¾†ç¢ºèªç•¶åˆåŠ å¯†çš„æ¼”ç®—æ³•åŠé©—è­‰ç°½ç« æ˜¯å¦ç¬¦åˆï¼Œä»¥é˜²æ­¢ &lt;code>Payload&lt;/code> è¢«ä»»æ„çš„ç«„æ”¹ã€‚&lt;/p>
&lt;h4 id="token-æˆ–-jwt-é¸å“ªä¸€å€‹">Token æˆ– JWT é¸å“ªä¸€å€‹ï¼Ÿ&lt;/h4>
&lt;p>é€™å…©è€…ä¹‹é–“å„æœ‰å„ªç¼ºé»ï¼Œé›–ç„¶è‡ªç”¢ Token éœ€è¦æ¯æ¬¡æ¯”å°è³‡æ–™åº«ï¼Œä½†æ˜¯èƒ½æœ‰æ•ˆçš„è¨˜éŒ„ä½¿ç”¨è€… Token æ ¸ç™¼ä½¿ç”¨çš„ä½ç½®åŠè¨»éŠ·ç‰¹å®šçš„ Tokenï¼Œå› ç‚º JWT åœ¨ç°½ç™¼å¾Œï¼Œä¸€å®šå¾—ç­‰åˆ°éæœŸæ‰æœƒå¤±æ•ˆç„¡æ³•ä½¿ç”¨ï¼Œä¹Ÿå°±å°è‡´ JWT åœ¨æ ¸ç™¼ä¹‹å¾Œæ˜¯ç„¡æ³•è¨»éŠ·çš„ï¼Œé™¤éè‡ªå·±åœ¨å¯¦ä½œä¸€å€‹é»‘åå–®æˆ–ç™½åå–®çš„æ©Ÿåˆ¶ã€‚&lt;/p>
&lt;p>å¯ä»¥ä¾æ“šä½¿ç”¨çš„æƒ…å¢ƒä¾†æ±ºå®š Token æˆ– JWTï¼Œåªè¦è¨˜å¾—ä½¿ç”¨ Token ä½œç‚ºè§£æ±ºæ–¹æ¡ˆï¼Œè¦ä¿è­‰ Token è¶³å¤ è¤‡é›œæˆ–éš¨æ©Ÿï¼Œä¸å®¹æ˜“è¢«æ¨æ¸¬æˆ–æš´åŠ›å˜—è©¦ï¼Œå¦‚æœçœŸçš„è¦ä½¿ç”¨æ¯”è¼ƒçŸ­çš„ Token ä¹Ÿç¢ºä¿éæœŸçš„æ™‚é–“ä¸è¦è¨­å®šå¤ªé•·ï¼Œè¦é »ç¹çš„æ›´æ›é€™çµ„ Token æˆ–æ·»åŠ å…¶ä»–é©—è­‰æ©Ÿåˆ¶ã€‚&lt;/p>
&lt;p>è€Œ JWT çš„åˆ©æ–¼å¯ä»¥åŒ…å« Payloadï¼Œä¹Ÿåˆ‡è¨˜åœ¨å¾Œç«¯æ ¸ç™¼æ™‚ä¸è¦å°‡æ•æ„Ÿè³‡æ–™æˆ–å¯†é‘°å¤¾å¸¶åœ¨ Payload ä¹‹ä¸­ï¼Œå› ç‚º JWT çš„ Payload å°±ç®—ä¸çŸ¥é“åŠ å¯†çš„ç§é‘°é‚„æ˜¯å¯ä»¥è¢«è§£ç¢¼çš„ã€‚è€Œç°½ç™¼ JWT é¸æ“‡åŠ å¯†çš„æ–¹å¼ä¹Ÿç›¡é‡æ¡ç”¨éå°ç¨±å¼çš„å®¶å§å¯†ï¼Œä¾‹å¦‚ä½¿ç”¨ ES256 (ECDSA-SHA256) æ¼”ç®—æ³•ç”¢ç”Ÿçš„éå°ç¨±é‡‘é‘°ä¾†é€²è¡ŒåŠ å¯†ã€‚&lt;/p>
&lt;h4 id="token-è¦æ”¾åœ¨-cookie-é‚„æ˜¯-localstorage">Token è¦æ”¾åœ¨ Cookie é‚„æ˜¯ LocalStorageï¼Ÿ&lt;/h4>
&lt;p>å¾Œç«¯ç”¢ç”Ÿçš„ Token æˆ– JWTï¼Œä¸ç®¡å­˜æ”¾åœ¨ Cookie æˆ– LocalStorage åªè¦æ³¨æ„å…¶ç‰¹æ€§åŠå®‰å…¨ï¼Œé‚£éº¼æƒ³å­˜åœ¨å“ªè£¡ï¼Œéƒ½æ˜¯å¯ä»¥è¢«æ¥å—çš„ã€‚&lt;/p>
&lt;ul>
&lt;li>æ”¾åœ¨ Cookie&lt;/li>
&lt;/ul>
&lt;p>å°‡ Token å­˜æ”¾åœ¨ Cookie çš„å¥½è™•ï¼Œå¯ä»¥ç”¨ä¾†æ§åˆ¶ç¶²ç«™çš„ Domain æˆ– SubDomain é€²è¡Œå­˜å–ï¼Œä¹Ÿå¯ä»¥è¨­å®šéæœŸæ™‚é–“ä¾†æ§åˆ¶å‰ç«¯æ˜¯å¦è¦é‡æ–°å•å¾Œç«¯ç”¢ç”Ÿæ–°çš„ Tokenï¼Œæœ€å¤§çš„ç‰¹é»å°±æ˜¯è‡ªå‹•å¤¾å¸¶åœ¨æ¯å€‹è«‹æ±‚ç•¶ä¸­ï¼Œä¹Ÿå› ç‚ºé€™é …ç‰¹æ€§ï¼Œæœ‰ä¸€äº›è³‡å®‰é¢¨éšªå°±éœ€è¦ç¨å¾®æ³¨æ„ä¸€ä¸‹ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://owasp.org/www-community/attacks/csrf" target="_blank" rel="noopener"
>è·¨ç«™è«‹æ±‚å½é€  (Cross Site Request Forgery, CSRF)&lt;/a> å°±æ˜¯ä¸€å€‹ cookie ä½¿ç”¨æ™‚æ‰€éœ€è¦æ³¨æ„çš„è³‡å®‰å•é¡Œï¼Œæ‰€ä»¥ç•¶ä½¿ç”¨ cookie ä½œç‚ºé©—è­‰æ©Ÿåˆ¶æ™‚ï¼Œå»ºè­°åœ¨æ•æ„Ÿçš„æ“ä½œä¸Šå¤šæ·»åŠ é©—è­‰çš„æ©Ÿåˆ¶ï¼Œæˆ–ä½¿ç”¨ CSRF Token ä¾†ä¿è­·ä½ çš„ cookie ä¸è¢«éš¨æ„å½é€ è«‹æ±‚çš„å¤¾å¸¶å‡ºå»ã€‚&lt;/p>
&lt;p>å°‡ Token æˆ–æ•æ„Ÿè³‡æ–™å„²å­˜åœ¨ cooike æ™‚ï¼Œé‚„æ˜¯å¯ä»¥é€é JavaScript çš„ &lt;code>document.cookie&lt;/code> åšå­˜å–ï¼Œæ‰€ä»¥å¦‚æœç¶²ç«™æœ‰å­˜åœ¨&lt;a class="link" href="https://owasp.org/www-community/attacks/xss/" target="_blank" rel="noopener"
>è·¨ç¶²ç«™æŒ‡ä»¤ç¢¼ (Cross-site scripting, XSS)&lt;/a> çš„å¼±é»ï¼Œä½ çš„ cookie å¾ˆå¯èƒ½å°±æœƒç›´æ¥è¢«å·èµ°ï¼Œç‚ºäº†é˜²æ­¢ XSS å¼±é»å°è‡´ cookie å¤–æ´©ï¼Œä½ å¯ä»¥å°‡ cookie è¨­å€¼æ™‚çš„å±¬æ€§ &lt;code>httpOnly&lt;/code> è¨­ç½®ç‚º &lt;code>true&lt;/code>ï¼Œè®“å®¢æˆ¶ç«¯ç€è¦½å™¨ç„¡æ³•ç›´æ¥å­˜å–ï¼Œåƒ…æœ‰åœ¨ç™¼é€è«‹æ±‚æ™‚ï¼Œç”±ç€è¦½å™¨è‡ªå‹•å¤¾å¸¶è‡³å¾Œç«¯ï¼Œæ­¤å¤–ï¼Œä¹Ÿå¯ä»¥è¨­ç½® &lt;code>secure&lt;/code> è®“ cookie åªåœ¨ HTTPS ä¸‹å‚³è¼¸ã€‚&lt;/p>
&lt;ul>
&lt;li>æ”¾åœ¨ LocalStorage&lt;/li>
&lt;/ul>
&lt;p>é—œæ–¼ Token æ˜¯å¦å„²å­˜åœ¨ LocalStorage å…¶å¯¦æœ‰ä¸åŒçš„çœ‹æ³•ï¼Œå› ç‚º cookie å­˜åœ¨è‘— CSRF æˆ– XSS ç­‰å•é¡Œéœ€è¦è§£æ±ºï¼Œè€Œå­˜æ”¾åœ¨ LocalStorage ä¸åƒ…æœ‰æ›´å¤§çš„ç©ºé–“ï¼Œé‚„ä¸è‡ªå¸¶å…ç–« CSRFï¼Œé›£é“ä¸é¦™å—ï¼Ÿ&lt;/p>
&lt;p>ä½†æ˜¯åˆ¥å¿˜äº† LocalStorage ä¹Ÿæ˜¯é€é JS ä¾†åšå„²å­˜èˆ‡è®€å–ï¼Œæ‰€ä»¥å°±ç®—ä½¿ç”¨ LocalStorage äº†ï¼Œä½† XSS å¼±é»å¦‚æœå­˜åœ¨ï¼Œä½ çš„ Token ä¸€æ¨£æœ‰å¤–æ´©çš„å¯èƒ½æ€§ã€‚&lt;/p>
&lt;p>è€Œä¸” LocalStorage ä¸å…·æœ‰éæœŸè‡ªå‹•åˆªé™¤çš„ç‰¹æ€§ï¼Œé™¤éè‡ªå·±å¯¦ä½œæˆ–åˆªé™¤å¦å‰‡å°‡æ°¸é çš„å­˜åœ¨ç€è¦½å™¨ä¹‹ä¸­ã€‚&lt;/p>
&lt;p>æ‰€ä»¥ï¼Ÿ&lt;/p>
&lt;p>ç¶²è·¯ä¸Šæœ‰è¨±å¤šä½¿ç”¨ Cookie æˆ– LocalStorage å„²å­˜ Token èªªæ³•ï¼Œæœ‰èˆˆè¶£ä¹Ÿå¯ä»¥çœ‹çœ‹å…©æ´¾å„è‡ªè«–è¿°çš„å„ªç¼ºé»ï¼Œæ‰€ä»¥ï¼Œä¸ç®¡æ˜¯ Cookie é‚„æ˜¯ LocalStorage æ²’æœ‰èªªä¸€å®šä¸èƒ½ä½¿ç”¨èª°ï¼Œè€Œæ˜¯è¦ä¾æ“šç‰¹æ€§åŠæƒ…å¢ƒä¾†åšä½¿ç”¨ï¼Œä¸¦åšå¥½å®šæœŸé‡æ–°ç”¢ç”ŸåŠç›¸é—œçš„å®‰å…¨é…ç½®ã€‚&lt;/p>
&lt;p>æˆ‘è‡ªå·±å¤§æ¦‚æœƒä¾ç…§é€™å€‹ç¶²ç«™æˆ–æœå‹™ï¼Œæ˜¯ç›¸å°ç°¡å–®ä¹Ÿæ¯”è¼ƒä¸æœƒæœ‰æœƒé€ æˆæ‚²åŠ‡çš„æ“ä½œæˆ–å…§å®¹ç®¡ç†ç‚ºä¸»çš„æœå‹™ï¼Œæˆ‘å¯èƒ½å°±æœƒæ¡ç”¨ cookie çš„æ–¹æ¡ˆè™•ç†é©—è­‰ï¼Œå› ç‚ºç›¸å°ä¾†èªªè‡ªå‹•å¤¾å¸¶èˆ‡æœ‰æ•ˆæœŸé™åŠ &lt;code>httpOnly&lt;/code> ä¾†æ§åˆ¶å®¢æˆ¶ç«¯æ˜¯å¦èƒ½ç›´æ¥å­˜å–ï¼Œå°æˆ‘ä¾†èªªé‚„æ˜¯æŒºæ–¹ä¾¿èˆ‡å®‰å…¨çš„ï¼Œå¯èƒ½åœ¨é©ç•¶çš„æ™‚æ©Ÿå†æ·»åŠ  CSRF Token æˆ–å¤šé“é©—è­‰æ©Ÿåˆ¶ï¼Œå°±èƒ½å®‰å…¨çš„ä½¿ç”¨ cookieã€‚&lt;/p>
&lt;p>è€Œåœ¨å¤šç‚ºå…§éƒ¨ç³»çµ±ä½¿ç”¨æˆ–æ˜¯ API åœ¨ Mobile App ç”šè‡³æ˜¯ä¸æ”¯æ´ Cookie ç’°å¢ƒä¹‹ä¸‹éœ€è¦ä½¿ç”¨ Token ä¾†é©—è­‰ï¼Œæˆ‘å°±æœƒæ¡ç´å°‡ Token å„²å­˜åœ¨ LocalStorageã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æœå°‹å¼•æ“æœ€ä½³åŒ–-seo-èˆ‡-html-meta-tag">æœå°‹å¼•æ“æœ€ä½³åŒ– (SEO) èˆ‡ HTML Meta Tag&lt;/h2>
&lt;p>é¸æ“‡ä½¿ç”¨ Nuxt 3 ä½œç‚ºç¶²ç«™é–‹ç™¼æ¡†æ¶çš„é–‹ç™¼è€…ï¼Œå¤šæ•¸éƒ½æ˜¯ç‚ºäº†è¦ä½¿ç”¨ SSR æˆ– SSG ä¾†åŠ å¼·å° SEO çš„å„ªåŒ–è¨­ç½®ï¼Œé€™ç¯‡å°‡æœƒè¬›è¿° Nuxt æä¾›çš„å¹¾å€‹çµ„åˆå¼å‡½æ•¸ï¼Œä¾†å”åŠ©æˆ‘å€‘è¨­ç½®ç¶²é çš„æ¨™é¡Œã€å…§æ–‡ã€Meta ç­‰ï¼Œä»¥æ­¤ä¾†è¨­ç½® SEO æˆ–å¤–éƒ¨é€£çµå¯èƒ½æœƒè§£æåˆ°çš„æ¨™ç±¤èˆ‡æ•¸å€¼å…§å®¹ã€‚&lt;/p>
&lt;h3 id="æœå°‹å¼•æ“æœ€ä½³åŒ–-seo---ç¶²ç«™çš„æ¨™é¡Œ-title-èˆ‡æè¿°-description">æœå°‹å¼•æ“æœ€ä½³åŒ– (SEO) - ç¶²ç«™çš„æ¨™é¡Œ (Title) èˆ‡æè¿° (Description)&lt;/h3>
&lt;p>ç•¶ç¶²ç«™éœ€è¦åšæœå°‹å¼•æ“æœ€ä½³åŒ– (SEO) çš„æ™‚å€™ï¼Œ&lt;strong>Meta Tag&lt;/strong> é€™å€‹åè©ä½ ä¸€å®šä¸èƒ½å¿½ç•¥ï¼Œ&lt;strong>Meta Tag&lt;/strong> ç¨±ä¹‹ç‚º&lt;strong>å…ƒæ¨™ç±¤&lt;/strong>æˆ–&lt;strong>æè¿°æ¨™ç±¤&lt;/strong>ï¼Œé¡§åæ€ç¾©ï¼Œæ˜¯ä¾†é¡å¤–æè¿°ç¶²é çš„è³‡æ–™ä½¿ç”¨ï¼›&lt;strong>Meta Tag&lt;/strong> é€šå¸¸æ”¾ç½®åœ¨ HTML çš„ ä¸­ï¼Œé›–ç„¶ &lt;strong>Meta Tag&lt;/strong> ä¸æœƒç›´æ¥é¡¯ç¤ºåœ¨ç¶²é ä¸Šï¼Œä½†å°æ–¼æœå°‹å¼•æ“çš„çˆ¬èŸ²ä¾†èªªï¼Œæ˜¯ç›¸ç•¶é‡è¦çš„ä¸€é …è­˜åˆ¥è³‡è¨Šï¼Œä¹Ÿæ˜¯ Facebook æå‡ºçš„ &lt;strong>Open Graph&lt;/strong> æ”¾ç½®çš„ä½ç½®ï¼Œè®“ç¶²é çš„æ¨™é¡Œã€æè¿°æˆ–ç¸®åœ–ç­‰ï¼Œèƒ½æ­£ç¢ºçš„è¢«è§£æé¡¯ç¤ºå‡ºä¾†ã€‚&lt;/p>
&lt;p>é‚£éº¼ç¶²é æ¨™é¡Œèˆ‡æè¿°ï¼Œå¦‚æœæ­£ç¢ºè¨­å®šæœƒæœ‰ä»€éº¼æ¨£å­çš„æ•ˆæœå‘¢ï¼Ÿèˆ‰ä¾‹ä¾†èªªï¼Œå‰é¢çš„ã€ä¸²æ¥ Google OAuth ç™»å…¥ã€‘æˆ‘å€‘å¯ä»¥é€éç¶²é åŸå§‹ç¢¼ä¾†æŸ¥çœ‹ï¼Œå¯ä»¥ç™¼ç¾ &lt;code>&amp;lt;title&amp;gt;&lt;/code> èˆ‡ &lt;code>&amp;lt;meta name=&amp;quot;description&amp;quot; â€¦ /&amp;gt;&lt;/code> éƒ½æœ‰è¨­å®šã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618814898_c2eb521b53_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æœå°‹å¼•æ“çˆ¬èŸ²åœ¨æ”¶éŒ„ç¶²é æ™‚ï¼Œå°±æœƒè§£æé€™äº›æ¨™ç±¤ä¾†å»ºç«‹ç´¢å¼•ï¼Œæˆ‘å€‘åœ¨ä½¿ç”¨æœå°‹è³‡æ–™æ™‚ï¼Œç¶²é çš„è³‡è¨Šä¹Ÿå°±å°æ‡‰è‘—é¡¯ç¤ºå‡ºä¾†ï¼Œå¦‚ä¸‹åœ–ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618326416_00c8081182_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å„å®¶çš„æœå°‹å¼•æ“çˆ¬èŸ²ï¼Œé›–ç„¶éƒ½æœ‰è‡ªå·±è§£æçš„è¦å‰‡ï¼Œä¸éæ ¹æ“š SEO çš„ç¶“é©—éƒ½æœ‰å¤§æ–¹å‘èƒ½å¤ ä¾å¾ªåšå»ºç«‹ï¼Œæ­¤å¤–å°±æ˜¯åœ¨é‡å°ç‰¹å®šçš„æœå°‹å¼•æ“åŠ å¼·è­˜åˆ¥æ¨™è¨˜ï¼Œéµç…§å®˜æ–¹æŒ‡å¼•å°±èƒ½è®“ç¶²ç«™çš„å…§å®¹èƒ½è¦‹åº¦æœ‰é¡¯è‘—æå‡ã€‚&lt;/p>
&lt;h3 id="ç¶²ç«™çš„-open-graph-og">ç¶²ç«™çš„ Open Graph (OG)&lt;/h3>
&lt;p>&lt;strong>OG&lt;/strong> æ˜¯ç”± Facebook æ‰€æå‡ºçš„è¨­å®šï¼Œå…¨åç‚º &lt;strong>Open Graph Protocol&lt;/strong>ï¼Œå®˜æ–¹ç¿»è­¯ç‚ºã€Œ&lt;strong>é–‹æ”¾ç¤¾äº¤é—œä¿‚åœ–&lt;/strong>ã€ï¼Œåœ¨è¨­å®šç¶²ç«™çš„ &lt;strong>Meta&lt;/strong> æ™‚é€šå¸¸ä¹Ÿç¨± &lt;strong>OG Tag&lt;/strong>ï¼ŒFacebook æä¾›äº†&lt;a class="link" href="https://developers.facebook.com/docs/sharing/webmasters" target="_blank" rel="noopener"
>ç¶²ç«™ç®¡ç†å“¡åˆ†äº«æŒ‡å—&lt;/a>ï¼Œç•¶åˆè¨­è¨ˆçš„ç›®çš„æ˜¯ï¼Œç•¶ç¶²é ä¸­è¨­å®šäº† &lt;strong>OG Tag&lt;/strong>ï¼Œèƒ½è®“ç¶²é è¢«åˆ†äº«è‡³ç¤¾ç¾¤åª’é«”æ™‚ï¼Œèƒ½æœ‰å‘ˆç¾æ›´ç‚ºè±å¯Œçš„å…§å®¹ï¼Œä¾‹å¦‚æ¨™é¡Œã€æè¿°åŠç¸®åœ–ç­‰ã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œç•¶&lt;a class="link" href="https://wayneblog.ga/2022-12-12/nodejs-create-openai-line-bot/" target="_blank" rel="noopener"
>ç¶²é &lt;/a>è¨­å®šäº† &lt;strong>OG Tag&lt;/strong>ï¼Œä»¥é€£çµå½¢å¼è¢«åˆ†äº«è‡³ Facebookï¼Œæœƒå‘ˆç¾å¦‚ä¸‹çš„è³‡è¨Šï¼ŒFacebook æœƒè§£æç¶²é å…§çš„ &lt;strong>OG Tag&lt;/strong> å°‡å°æ‡‰çš„å¦‚æ¨™é¡ŒåŠç¸®åœ–ç­‰è³‡è¨Šé¡¯ç¤ºå‡ºä¾†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618326446_7205784c15_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å…¶ä¸­ç¸®åœ–ä¾ç…§ Facebook çš„æŒ‡å¼•ï¼Œå³æ˜¯å°æ‡‰ç¶²é ä¸­çš„ &lt;code>&amp;lt;meta property=&amp;quot;og:image&amp;quot; ... /&amp;gt;&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617815467_ca6f72b1e6_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ä¸åªæ˜¯åœ¨ Facebook ä¸Šåˆ†äº«é€£çµæœƒæœ‰&lt;code>é€£çµé è¦½&lt;/code>çš„æ•ˆæœï¼Œä¹Ÿå› ç‚ºå¤§å®¶éƒ½éµå¾ªè‘— &lt;strong>OG Tag&lt;/strong> é€²è¡Œè¨­å®šï¼Œæ‰€ä»¥åœ¨å…¶ä»–ä¸»æµçš„ç¤¾ç¾¤åª’é«”æˆ–é€šè¨Šè»Ÿé«”ç­‰ä¹Ÿéƒ½æœ‰è·Ÿé€²è§£æã€‚ä¾‹å¦‚ï¼Œæˆ‘å€‘ä½¿ç”¨ LINE å‚³é€ä¸€æ¢é€£çµï¼Œä¹Ÿæœƒå› ç‚ºè¨­ç½®äº† &lt;strong>OG Tag&lt;/strong> ä¹Ÿæœ‰æˆåŠŸè§£æå‡º&lt;code>é€£çµé è¦½&lt;/code>çš„æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618814953_27c41dfc45_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>LINE é–‹ç™¼è€…ä¹Ÿæœ‰æä¾›ä¸€äº›å•ç­”æŒ‡å¼•å¯ä»¥åšåƒè€ƒï¼Œ&lt;code>é€£çµé è¦½&lt;/code>èˆ‡ &lt;code>og:title&lt;/code>ã€&lt;code>og:description&lt;/code> å’Œ &lt;code>og:image&lt;/code> æœ‰è‘—ç›¸æ‡‰çš„è¨­å®šé—œä¿‚ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618595494_9fd4af0f1e_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="usehead">useHead&lt;/h3>
&lt;p>æˆ‘å€‘å¯ä»¥ä½¿ç”¨ Nuxt 3 æä¾›çš„ &lt;code>useHead()&lt;/code> çµ„åˆå¼å‡½æ•¸ï¼Œä¾†è¨­å®šç¶²ç«™çš„ä¸€äº›æ¨™ç±¤æˆ–æ¨™è¨˜ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Nuxt 3 Blog&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">viewport&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;width=device-width, initial-scale=1, maximum-scale=1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">charset&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;utf-8&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">meta&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;description&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;é€™è£¡æ˜¯ Nuxt 3 å­¸ç¿’ç­†è¨˜ å¯¦æˆ°éƒ¨è½æ ¼&amp;#39;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">bodyAttrs&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">class&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>useHead()&lt;/code> å‡½æ•¸æ¥å—åƒæ•¸çš„é¡å‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useHead&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">meta&lt;/span>: &lt;span class="kt">Computable&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MetaObject&lt;/span>&lt;span class="p">&amp;gt;)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">MetaObject&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Record&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">charset?&lt;/span>: &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">viewport?&lt;/span>: &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">meta?&lt;/span>: &lt;span class="kt">Array&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Record&lt;/span>&lt;span class="err">&amp;lt;&lt;/span>&lt;span class="na">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">link?&lt;/span>: &lt;span class="kt">Array&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Record&lt;/span>&lt;span class="err">&amp;lt;&lt;/span>&lt;span class="na">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">style?&lt;/span>: &lt;span class="kt">Array&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Record&lt;/span>&lt;span class="err">&amp;lt;&lt;/span>&lt;span class="na">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">script?&lt;/span>: &lt;span class="kt">Array&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Record&lt;/span>&lt;span class="err">&amp;lt;&lt;/span>&lt;span class="na">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">noscript?&lt;/span>: &lt;span class="kt">Array&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Record&lt;/span>&lt;span class="err">&amp;lt;&lt;/span>&lt;span class="na">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">titleTemplate?&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="nx">title&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title?&lt;/span>: &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">bodyAttrs?&lt;/span>: &lt;span class="kt">Record&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">htmlAttrs?&lt;/span>: &lt;span class="kt">Record&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;strong>charset&lt;/strong>ï¼šæŒ‡å®š HTML çš„å­—å…ƒç·¨ç¢¼ï¼Œé è¨­ç‚º &lt;code>utf-8&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>viewport&lt;/strong>ï¼šè¨­å®šç¶²é çš„å¯è¦‹å€åŸŸï¼Œé è¨­ç‚º &lt;code>width=device-width, initial-scale=1&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>meta&lt;/strong>ï¼šæ¥å—ä¸€å€‹é™£åˆ—ï¼Œé™£åˆ—ä¸­çš„æ¯å€‹å…ƒç´ ï¼Œéƒ½å°‡æœƒå»ºç«‹ä¸€å€‹ &lt;code>&amp;lt;meta&amp;gt;&lt;/code> æ¨™è¨˜ï¼Œå…ƒç´ ä¸­ç‰©ä»¶çš„å±¬æ€§å°‡å°æ‡‰è‡³ çš„å±¬æ€§ã€‚&lt;/li>
&lt;li>&lt;strong>link&lt;/strong>ï¼šæ¥å—ä¸€å€‹é™£åˆ—ï¼Œé™£åˆ—ä¸­çš„æ¯å€‹å…ƒç´ ï¼Œéƒ½å°‡æœƒå»ºç«‹ä¸€å€‹ &lt;code>&amp;lt;link&amp;gt;&lt;/code> æ¨™è¨˜ï¼Œå…ƒç´ ä¸­ç‰©ä»¶çš„å±¬æ€§å°‡å°æ‡‰è‡³ çš„å±¬æ€§ã€‚&lt;/li>
&lt;li>&lt;strong>style&lt;/strong>ï¼šæ¥å—ä¸€å€‹é™£åˆ—ï¼Œé™£åˆ—ä¸­çš„æ¯å€‹å…ƒç´ ï¼Œéƒ½å°‡æœƒå»ºç«‹ä¸€å€‹ &lt;code>&amp;lt;style&amp;gt;&lt;/code> æ¨™è¨˜ï¼Œå…ƒç´ ä¸­ç‰©ä»¶çš„å±¬æ€§å°‡å°æ‡‰è‡³ çš„å±¬æ€§ã€‚&lt;/li>
&lt;li>&lt;strong>script&lt;/strong>ï¼šæ¥å—ä¸€å€‹é™£åˆ—ï¼Œé™£åˆ—ä¸­çš„æ¯å€‹å…ƒç´ ï¼Œéƒ½å°‡æœƒå»ºç«‹ä¸€å€‹ &lt;code>&amp;lt;script&amp;gt;&lt;/code> æ¨™è¨˜ï¼Œå…ƒç´ ä¸­ç‰©ä»¶çš„å±¬æ€§å°‡å°æ‡‰è‡³ çš„å±¬æ€§ã€‚&lt;/li>
&lt;li>&lt;strong>noscript&lt;/strong>ï¼šæ¥å—ä¸€å€‹é™£åˆ—ï¼Œé™£åˆ—ä¸­çš„æ¯å€‹å…ƒç´ ï¼Œéƒ½å°‡æœƒå»ºç«‹ä¸€å€‹ &lt;code>&amp;lt;noscript&amp;gt;&lt;/code> æ¨™è¨˜ï¼Œå…ƒç´ ä¸­ç‰©ä»¶çš„å±¬æ€§å°‡å°æ‡‰è‡³ çš„å±¬æ€§ã€‚&lt;/li>
&lt;li>&lt;strong>titleTemplage&lt;/strong>ï¼šæ¥å—ä¸€å€‹å­—ä¸²æˆ–å‡½æ•¸ï¼Œç”¨ä¾†å‹•æ…‹çš„è¨­å®šè©²é é¢å…ƒä»¶çš„&lt;code>ç¶²é æ¨™é¡Œ&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>title&lt;/strong>ï¼šåœ¨é é¢å…ƒä»¶è¨­ç½®éœæ…‹çš„&lt;code>ç¶²é æ¨™é¡Œ&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>bodyAttrs&lt;/strong>ï¼šæ¥å—ä¸€å€‹ç‰©ä»¶ï¼Œè¨­ç½®ç¶²é ä¸­ æ¨™ç±¤çš„å±¬æ€§ï¼Œç‰©ä»¶ä¸­çš„å±¬æ€§å°‡å°æ‡‰è‡³ çš„å±¬æ€§ã€‚&lt;/li>
&lt;li>&lt;strong>htmlAttrs&lt;/strong>ï¼šæ¥å—ä¸€å€‹ç‰©ä»¶ï¼Œè¨­ç½®ç¶²é ä¸­ æ¨™ç±¤çš„å±¬æ€§ï¼Œç‰©ä»¶ä¸­çš„å±¬æ€§å°‡å°æ‡‰è‡³ çš„å±¬æ€§ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="è‡ªè¨‚-metadata">è‡ªè¨‚ Metadata&lt;/h4>
&lt;p>ä½¿ç”¨ &lt;code>useHead()&lt;/code> å‡½æ•¸è¨­å®šå±¬æ€§æ‰€å‚³å…¥çš„å­—ä¸²æˆ–ç‰©ä»¶å¯ä»¥æ˜¯å…·æœ‰éŸ¿æ‡‰æ€§çš„è®Šæ•¸ï¼Œç•¶æ•¸å€¼è®Šå‹•æ™‚ï¼Œç›¸å°æ‡‰çš„æ•¸å€¼ä¹Ÿæœƒä¸€åŒéŸ¿æ‡‰ï¼Œä¾‹å¦‚ä¸‹é¢çš„ç¨‹å¼ç¢¼ï¼Œå¯ä»¥å‹•æ…‹çš„è®Šæ›´æ¨™é¡Œæˆ–æè¿°ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Nuxt 3 Blog&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">description&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é€™è£¡æ˜¯ Nuxt 3 å­¸ç¿’ç­†è¨˜ å¯¦æˆ°éƒ¨è½æ ¼&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">meta&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;description&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">description&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ·»åŠ å‹•æ…‹ç¶²é çš„æ¨™é¡Œ">æ·»åŠ å‹•æ…‹ç¶²é çš„æ¨™é¡Œ&lt;/h4>
&lt;p>æˆ‘å€‘å¯ä»¥åœ¨ &lt;strong>app.vue&lt;/strong> æ·»åŠ å¦‚ä¸‹ç¨‹å¼ç¢¼ï¼Œ&lt;strong>titleTemplage&lt;/strong> ä¸­çš„ &lt;code>%s&lt;/code> å°‡æœƒå¸¶å…¥ç›®å‰é é¢ &lt;code>title&lt;/code> æˆ–æ›´ä¸Šå±¤é é¢çš„ &lt;code>title&lt;/code> å±¬æ€§ï¼š&lt;/p>
&lt;h5 id="appvue-12">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Nuxt 3 Blog&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">titleTemplate&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;%s - é¦–é &amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°ç¶²é çš„æ¨™é¡Œè®Šç‚ºã€ŒNuxt 3 Blog - é¦–é ã€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618326576_756d879b60_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ä½ ä¹Ÿå¯ä»¥å‚³å…¥ä¸€å€‹å‡½æ•¸ä¾†å‹•æ…‹çš„æ·»åŠ ç¶²é çš„æ¨™é¡Œã€‚&lt;/p>
&lt;h5 id="appvue-13">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Nuxt 3 Blog&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">titleTemplate&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> - é¦–é `&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;é¦–é &amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ·»åŠ å¤–éƒ¨-css">æ·»åŠ å¤–éƒ¨ CSS&lt;/h4>
&lt;p>æˆ‘å¯ä»¥ä½¿ç”¨ &lt;code>useHead()&lt;/code> ä¾†æ·»åŠ  Google å­—é«”è‡³ &lt;code>link&lt;/code> å±¬æ€§ä¹‹ä¸­ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">link&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rel&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;preconnect&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">href&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://fonts.googleapis.com&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rel&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;stylesheet&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">href&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://fonts.googleapis.com/css2?family=Roboto&amp;amp;display=swap&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">crossorigin&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ·»åŠ ç¬¬ä¸‰æ–¹çš„-javascript">æ·»åŠ ç¬¬ä¸‰æ–¹çš„ JavaScript&lt;/h4>
&lt;p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code>useHead()&lt;/code> ä¾†æ’å…¥ç¬¬ä¸‰æ–¹çš„ JSã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">script&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">src&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://third-party-script.com&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">body&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ç›¸å°æ‡‰çš„å…ƒä»¶è¨­ç½®å±¬æ€§åŠæ¨™ç±¤">åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ç›¸å°æ‡‰çš„å…ƒä»¶è¨­ç½®å±¬æ€§åŠæ¨™ç±¤&lt;/h4>
&lt;p>Nuxt æä¾› &lt;code>&amp;lt;Title&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;Base&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;Script&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;NoScript&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;Style&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;Meta&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;Link&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;Body&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;Html&amp;gt;&lt;/code> å’Œ &lt;code>&amp;lt;Head&amp;gt;&lt;/code>ï¼Œæˆ‘å€‘å¯ä»¥ç›´æ¥åœ¨å…ƒä»¶ä¸­æ¨¡æ¿ (Template) ä½¿ç”¨é€™äº›å…ƒä»¶é€²è¡Œè¨­å®šç¶²é çš„å±¬æ€§åŠæ¨™ç±¤ã€‚&lt;/p>
&lt;p>å› ç‚ºé€™äº›å…ƒä»¶åç¨±èˆ‡åŸç”Ÿ HTML æ¨™è¨˜ç›¸ä¼¼ï¼Œæ‰€ä»¥è¨˜å¾—åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨è¦é–‹é ­ç‚º&lt;code>å¤§å¯«&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Title&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">Title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Meta&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;description&amp;#34;&lt;/span> &lt;span class="nt">:content&lt;/span>&lt;span class="s">=&amp;#34;description&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Style&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text/css&amp;#34;&lt;/span> &lt;span class="na">children&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;body { background-color: green; }&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">Style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Nuxt 3 Blog&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">description&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é€™è£¡æ˜¯ Nuxt 3 å­¸ç¿’ç­†è¨˜ å¯¦æˆ°éƒ¨è½æ ¼&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="definepagemeta">definePageMeta()&lt;/h3>
&lt;p>æˆ‘å€‘å…¶å¯¦åœ¨å‰é¢å°±æœ‰ä½¿ç”¨é &lt;code>definePageMeta()&lt;/code> ä¾†è¨­ç½®é é¢çš„å¸ƒå±€æˆ–ä¸­é–“ä»¶ï¼Œåœ¨å„å€‹é é¢ä¹‹ä¸­ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†è¨­ç½®ä¸€äº›å±¬æ€§èˆ‡ &lt;code>useHead()&lt;/code> é€²è¡Œæ­é…ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘çš„ &lt;strong>app.vue&lt;/strong> ä½¿ç”¨ &lt;code>useHead&lt;/code> è¨­å®šçš„ä¸€å€‹ &lt;strong>meta&lt;/strong>ï¼Œä¸¦ä¸”æ˜¯æ ¹æ“š &lt;strong>route.meta.title&lt;/strong> æ‰€å‹•æ…‹çš„è¨­å®šã€‚&lt;/p>
&lt;h5 id="appvue-14">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">route&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRoute&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">meta&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;og:title&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">meta&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> | Nuxt 3 Blog`&lt;/span> &lt;span class="p">}]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘åœ¨ &lt;strong>pages/articles.vue&lt;/strong> æ·»åŠ å¦‚ä¸‹ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;h5 id="pagesarticlesvue">pages/articles.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ‰€æœ‰æ–‡ç« &amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘ç€è¦½ &lt;strong>/articles&lt;/strong> é é¢æ™‚ï¼ŒNuxt åœ¨ä¼ºæœå™¨ç«¯å°±å¹«æˆ‘å€‘æ¸²æŸ“å¥½ &lt;code>og:title&lt;/code> çš„ &lt;code>meta&lt;/code> äº†ã€‚æˆ‘å€‘å¯ä»¥é€éæª¢è¦–åŸå§‹ç¢¼çš„æ–¹å¼ä¾†çœ‹çœ‹æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618815023_04fb4a9b6a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>åœ¨ Nuxt 3 æä¾›äº†ä¸€äº›å¯ä»¥è¨­ç½®ç¶²é å±¬æ€§èˆ‡ &lt;strong>Meta&lt;/strong> çš„çµ„åˆå¼å‡½æ•¸ï¼Œæ›´èƒ½å‹•æ…‹çš„èª¿æ•´èˆ‡éŸ¿æ‡‰ï¼Œçµåˆ SSR è®“é€™äº›æ¨™è¨˜åœ¨ä¼ºæœå™¨ç«¯å°±èƒ½æ¸²æŸ“å‡ºä¾†ï¼Œå°ç¶²ç«™åšæœå°‹å¼•æ“æœ€ä½³åŒ– (SEO) éå¸¸å¾—å‹å–„ï¼Œä¹Ÿæ˜¯å¤šæ•¸äººé¸æ“‡ Nuxt 3 ä¾†è™•ç† SSR èˆ‡ SEO çš„åŸå› ã€‚é™¤äº† SEO å¯èƒ½æœƒä½¿ç”¨åˆ°çš„æ¨™è¨˜å¤–ï¼Œä¹Ÿæœ‰ &lt;strong>OG Tag&lt;/strong> å¯ä»¥åŠ å¼·ç¶²é çš„é€£çµé è¦½æ•ˆæœï¼Œé›–ç„¶ &lt;strong>OG Tag&lt;/strong> èˆ‡ SEO æ²’æœ‰çµ•å°çš„é—œä¿‚ï¼Œä½†æ˜¯é€éä¼ºæœå™¨ç«¯æ¸²æŸ“èª¿æ•´é€™äº› &lt;strong>Meta&lt;/strong> å°æœå°‹å¼•æ“æˆ–ç¶²ç«™éƒ½éå¸¸çš„æ–¹ä¾¿ï¼Œæˆ‘å€‘åªè¦æ ¹æ“šéœ€æ±‚åŠæŒ‡å¼•åšè¨­å®šï¼Œå°±èƒ½å°ç¶²ç«™çš„èƒ½è¦‹åº¦æœ‰æ‰€æå‡ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="public-èˆ‡-assets-è³‡æºç›®éŒ„nuxt-3-çš„éœæ…‹è³‡æº">Public èˆ‡ Assets è³‡æºç›®éŒ„(Nuxt 3 çš„éœæ…‹è³‡æº)&lt;/h2>
&lt;p>åœ¨ç¶²ç«™çš„é–‹ç™¼éç¨‹ä¸­ï¼Œå¤šå°‘æœƒä½¿ç”¨åˆ°åœ–ç‰‡ã€æ¨£å¼æˆ–è¨­å®šå­—é«”ï¼Œè€Œç•¶é€™äº›æª”æ¡ˆè‹¥æ²’æœ‰å¤–éƒ¨é€£çµæˆ–æŸäº›éœ€æ±‚ä¸‹éœ€è¦åŒ…å«åœ¨å°ˆæ¡ˆå…§åšä½¿ç”¨ï¼Œæœ€å¾Œé€£å¸¶é€™äº›æª”æ¡ˆä¸€èµ·éƒ¨ç½²ã€‚åœ¨ä½¿ç”¨ &lt;a class="link" href="https://github.com/vuejs/create-vue" target="_blank" rel="noopener"
>create-vue&lt;/a> å»ºç«‹çš„ Vue çš„å°ˆæ¡ˆä¸‹åŒ…å«äº† &lt;code>public&lt;/code> èˆ‡ src å…§çš„ &lt;code>assets&lt;/code> ç›®éŒ„ï¼Œé€™å…©å€‹ç›®éŒ„éƒ½æ˜¯å¯ä»¥æ”¾ç½®é€™é¡ä¸å¸¸è®Šå‹•çš„éœæ…‹è³‡æºï¼Œä½†é€™å…©å€‹ç›®éŒ„å„è‡ªå› ç‚ºä¸€äº›ç‰¹æ€§ï¼Œå»ºè­°æ”¾ç½®çš„æª”æ¡ˆé¡å‹ä¾æ“šä½¿ç”¨ç›®çš„æœ‰æ‰€å€åˆ¥ã€‚&lt;/p>
&lt;p>Nuxt 3 ä½¿ç”¨å°ˆæ¡ˆä¸‹çš„å…©å€‹ç›®éŒ„ä¾†æä¾›ä½¿ç”¨è€…è™•ç†åœ–ç‰‡ã€æ¨£å¼æˆ–å­—é«”ï¼Œé€™å…©å€‹ç›®éŒ„åˆ†åˆ¥ç‚º &lt;code>public&lt;/code> èˆ‡ &lt;code>assets&lt;/code>ã€‚&lt;/p>
&lt;h3 id="public-ç›®éŒ„">public ç›®éŒ„&lt;/h3>
&lt;p>åœ¨ Nuxt 3 çš„å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹ï¼Œå­˜åœ¨ä¸€å€‹åç‚º &lt;code>public&lt;/code> çš„ç›®éŒ„ï¼Œé€™å€‹ç›®éŒ„å¦‚åŒ Vue ä¸­çš„ &lt;code>public&lt;/code> ç›®éŒ„æˆ– Nuxt 2 ä¸­çš„ &lt;code>static&lt;/code> ç›®éŒ„ã€‚é€™å€‹ç›®éŒ„ä¸‹çš„æª”æ¡ˆï¼Œå°‡æœƒç”± Nuxt ç›´æ¥æ–¼ç¶²ç«™çš„æ ¹è·¯å¾‘ï¼Œä¾‹å¦‚ &lt;code>/&lt;/code> æä¾›å­˜å–ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚å»ºç«‹ &lt;strong>public/robots.txt&lt;/strong> å°‡å¯ä»¥ä½¿ç”¨ &lt;a class="link" href="http://localhost:3000/robots.txt" target="_blank" rel="noopener"
>http://localhost:3000/robots.txt&lt;/a> å­˜å–ã€‚&lt;/p>
&lt;p>é€šå¸¸æˆ‘å€‘æœƒåœ¨ &lt;code>public&lt;/code> ç›®éŒ„æ”¾ç½®ä¸å¸¸æ›´å‹•çš„æª”æ¡ˆï¼Œæˆ–æ˜¯éœ€è¦ä¿ç•™æª”æ¡ˆçš„åç¨±ï¼Œä¾‹å¦‚ &lt;strong>robots.txt&lt;/strong> å°±éœ€è¦ä¸€å€‹å›ºå®šçš„åç¨±ï¼Œæ‰èƒ½æ­£ç¢ºçš„è¢«æœå°‹å¼•æ“çš„çˆ¬èŸ²æ‰€è§£æå†æ±ºå®šæª¢ç´¢çš„è¦å‰‡ï¼ŒæŠ‘æˆ– &lt;strong>sitemap.xml&lt;/strong> èˆ‡ &lt;strong>favicon.ico&lt;/strong> æª”æ¡ˆç­‰ï¼Œéƒ½å¾ˆé©åˆæ”¾ç½®åœ¨ &lt;code>public&lt;/code> ç›®éŒ„ã€‚&lt;/p>
&lt;p>ä½ å¯èƒ½ä¹Ÿæœƒæƒ³ï¼Œé‚£åœ–ç‰‡æˆ– CSS æ¨£å¼ï¼Œæˆ‘ä¹Ÿä¸å¸¸è®Šå‹•ï¼Œé›£é“å°±ä¸èƒ½æ”¾ç½®åœ¨ public ç›®éŒ„å—ï¼Ÿ&lt;/p>
&lt;p>&lt;strong>è¡Œï¼Œç•¶ç„¶è¡Œï¼Œå“ªæ¬¡ä¸è¡Œï¼&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630176588_1a720e08f8_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæˆ‘å€‘å°‡é€™å¼µåœ–ç‰‡æ”¾ç½®æ–¼ &lt;code>public&lt;/code> ç›®éŒ„ä¸‹ä¸¦å‘½åç‚º &lt;strong>bg.png&lt;/strong>ï¼Œå°ˆæ¡ˆç›®éŒ„ä¸‹å…¶ä»–æª”æ¡ˆå°±å…ˆä¸åˆ—ï¼Œæ•´å€‹çµæ§‹å¤§æ¦‚é•·çš„åƒä¸‹é¢é€™æ¨£ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nuxt-app/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ public/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ bg.png
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ app.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ ¹æ“šè¦å‰‡ï¼Œæˆ‘å¯ä»¥ä½¿ç”¨ &lt;a class="link" href="http://localhost:3000/bg.png" target="_blank" rel="noopener"
>http://localhost:3000/bg.png&lt;/a> å­˜å–ï¼Œå¦‚ä¸‹åœ–æˆ‘å€‘ç¢ºå¯¦æˆåŠŸçš„èƒ½å­˜å–åˆ°åœ–ç‰‡ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630176003_baa9c8737a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æ‰€ä»¥ï¼Œæˆ‘å€‘åœ¨ &lt;strong>app.vue&lt;/strong> æ–°å¢å¦‚ä¸‹ç¨‹å¼ç¢¼ï¼Œä½¿ç”¨ &lt;code>/bg.png&lt;/code> ä¾†ç­‰åŒè¨ªå• &lt;strong>public/bg.png&lt;/strong> æª”æ¡ˆï¼š&lt;/p>
&lt;h5 id="appvue-15">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/bg.png&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹Ÿç¢ºå¯¦èƒ½åœ¨ç¶²é ä¸­ä½¿ç”¨ &lt;code>&amp;lt;img src=&amp;quot;/bg.png&amp;quot; /&amp;gt;&lt;/code> ä¾†é¡¯ç¤ºåœ–ç‰‡ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629175752_c8f3b2c406_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æ—¢ç„¶ &lt;code>public&lt;/code> ç›®éŒ„å·²ç¶“èƒ½æä¾›éœæ…‹è³‡æºçš„é€£çµï¼Œé‚£éº¼ç‚ºä»€éº¼é‚„æœ‰ä¸€å€‹åç‚º &lt;code>assets&lt;/code> çš„ç›®éŒ„å‘¢ï¼Ÿæ¥ä¸‹ä¾†æˆ‘å€‘å…ˆä»‹ç´¹ &lt;code>assets&lt;/code> ç›®éŒ„ï¼Œæœ€å¾Œå†ä¾†ç¸½çµä¸€ä¸‹å·®ç•°ã€‚&lt;/p>
&lt;h3 id="assets-ç›®éŒ„-1">assets ç›®éŒ„&lt;/h3>
&lt;p>Nuxt 3 ä½¿ç”¨ &lt;a class="link" href="https://vitejs.dev/guide/assets.html" target="_blank" rel="noopener"
>Vite&lt;/a> æˆ– &lt;a class="link" href="https://webpack.js.org/guides/asset-management/" target="_blank" rel="noopener"
>Webpack&lt;/a> ä¾†å»ºæ§‹å°ˆæ¡ˆé€²è¡Œæ‰“åŒ…ï¼Œé€™äº›å»ºæ§‹å·¥å…·ä¸»è¦åŠŸèƒ½æ˜¯ç”¨ä¾†è™•ç† JavaScript æª”æ¡ˆå°‡å…¶ç·¨è­¯ã€è½‰æ›æˆ–å£“ç¸®ç­‰ï¼Œä½†å®ƒå€‘å¯ä»¥é€éå„è‡ªçš„&lt;strong>æ’ä»¶&lt;/strong>æˆ– &lt;strong>Loader&lt;/strong> ä¾†è™•ç†å…¶ä»–æª”æ¡ˆé¡å‹çš„è³‡æºï¼Œä¾‹å¦‚æ¨£å¼ã€å­—é«”æˆ– SVG ç­‰ã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘åœ¨ &lt;code>assets&lt;/code> ä¸‹å»ºç«‹ä¸€å€‹ Sass çš„æ¨£å¼ï¼Œç•¶é€™å€‹ Sass æª”æ¡ˆè¢«è¼‰å…¥ä½¿ç”¨ï¼Œå°±æœƒç¶“é&lt;strong>æ’ä»¶&lt;/strong>æˆ– &lt;strong>Loader&lt;/strong> ä¾†é€²è¡Œ CSS çš„é è™•ç†åŠç·¨è­¯ï¼Œæœ€çµ‚ç”¢ç”Ÿä¸€å€‹ CSS æª”æ¡ˆï¼Œä¹Ÿå¯ä»¥é‡å°å–®ç´”çš„ CSS æª”æ¡ˆé€²è¡Œå£“ç¸®ã€‚åˆæˆ–è€…èªªï¼Œç•¶ä½¿ç”¨ &lt;code>&amp;lt;img&amp;gt;&lt;/code> çš„ &lt;strong>src&lt;/strong> å±¬æ€§è¨­å®šè¼‰å…¥æˆ‘å€‘æ”¾ç½®åœ¨ &lt;code>assets&lt;/code> çš„åœ–ç‰‡æˆ–åœ–ç¤ºï¼Œæœ€çµ‚éœ€è¦è½‰æ›ç‚º Base64 ç·¨ç¢¼è€Œä¸æ˜¯ç”¢ç”Ÿä¸€å€‹é€£çµï¼Œæˆ‘å€‘ä¹Ÿéœ€è¦ä¾è³´å»ºæ§‹å·¥å…·æ’ä»¶çš„æ“´å±•ä¾†å¹«åŠ©ã€‚&lt;/p>
&lt;p>å…¶ä¸»è¦çš„ç›®çš„ï¼Œä¸å¤–ä¹å°±æ˜¯ç‚ºäº†æ•ˆèƒ½èˆ‡è§£æ±ºç€è¦½å™¨çš„å¿«å–ã€‚æ”¾ç½®åœ¨ &lt;code>assets&lt;/code> ç›®éŒ„ä¸‹çš„æª”æ¡ˆï¼Œå¯èƒ½æœƒè¢«&lt;strong>æ’ä»¶&lt;/strong>æˆ– &lt;strong>Loader&lt;/strong> é€²è¡Œè½‰æ›æˆ–å£“ç¸®ï¼Œæœ€çµ‚ç”¢ç”Ÿå‡ºä¾†çš„æª”æ¡ˆä¹Ÿå…·å‚™é€£çµå¯ä»¥é€²è¡Œå­˜å–ã€‚&lt;/p>
&lt;p>å¦‚æœä½¿ç”¨ &lt;code>public&lt;/code> ç›®éŒ„ä¸‹å°å‡ºçš„ &lt;strong>/bg.png&lt;/strong>ï¼Œå°±ç®—æˆ‘å€‘æ›¿æ›äº† &lt;strong>bg.png&lt;/strong> åœ–ç‰‡ï¼Œå¯èƒ½å°±æœƒå› ç‚ºæª”æ¡ˆæ ¹æ“šæª”æ¡ˆåç¨±è¢«ç€è¦½å™¨å¿«å–ä½ï¼Œå°è‡´å‰ç«¯é‚„æ˜¯çœ‹åˆ°èˆŠçš„æª”æ¡ˆã€‚æˆ‘å€‘åœ¨ä½¿ç”¨ &lt;code>assets&lt;/code> ç›®éŒ„ä¸‹çš„æª”æ¡ˆæ™‚é›–ç„¶æª”åéƒ½æ˜¯ &lt;strong>bg.png&lt;/strong>ï¼Œä½†åœ¨å»ºæ§‹æ™‚ç”¢ç”Ÿçš„æª”æ¡ˆé€šå¸¸æœƒå¤¾å¸¶ &lt;code>Hash&lt;/code>ï¼Œä¾‹å¦‚ï¼š&lt;strong>bg.16a2f98c.png&lt;/strong>ï¼Œå¦‚æ­¤ä¸€ä¾†æˆ‘å€‘æ¯æ¬¡æ›´æ–°åœ–ç‰‡ï¼Œéƒ½éƒ½æœƒéš¨æ©Ÿçš„ç”¢ç”Ÿä¸€çµ„ Hash å°±èƒ½é˜²æ­¢ç€è¦½å™¨å¿«å–ï¼Œå°è‡´å¥½åƒç¶²ç«™æ›´æ–°å¤±æ•ˆçš„éŒ¯è¦ºã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘ä»¥ç›¸åŒçš„åœ–ç‰‡ï¼Œæ”¹æ”¾ç½®æ–¼ &lt;strong>assets/bg.png&lt;/strong>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nuxt-app/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ assets/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ bg.png
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ app.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="appvue-16">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;~/assets/bg.png&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨é–‹ç™¼ç’°å¢ƒ &lt;code>~/assets/bg.png&lt;/code> æœƒè½‰æ›ç‚º &lt;code>/_nuxt/assets/bg.png&lt;/code>ï¼Œå¯¦éš›ä¸Šä¹Ÿèƒ½ä½¿ç”¨ &lt;a class="link" href="http://localhost:3000/_nuxt/assets/bg.png" target="_blank" rel="noopener"
>http://localhost:3000/_nuxt/assets/bg.png&lt;/a> é€²è¡Œè¨ªå•ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630134105_59cf185408_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;blockquote>
&lt;p>é™¤äº† ~/assets å¯ä»¥å°æ‡‰ assets ç›®éŒ„å¤–ï¼Œä¹Ÿå¯ä»¥åƒè€ƒå®˜æ–¹çš„ &lt;a class="link" href="https://nuxt.com/docs/api/configuration/nuxt-config#alias" target="_blank" rel="noopener"
>alias&lt;/a> æ›´å¤šæˆ–è‡ªè¨‚åˆ¥åä¾†ä½¿ç”¨ç›¸å°è·¯å¾‘ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ä½†ç•¶ä½ çš„ç¶²ç«™éƒ¨ç½²å®Œæˆæˆ–å•Ÿå‹•å»ºæ§‹å‡ºä¾†çš„å°ˆæ¡ˆï¼Œæœƒç™¼ç¾åœ–ç‰‡æª”ååŒ…å«äº† &lt;code>Hash&lt;/code>ï¼Œä¾‹å¦‚ &lt;code>/_nuxt/bg.0a299ea1.png&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630176173_dd37d79c67_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æœ€å¾Œæˆ‘å€‘ä»¥æœ€çµ‚å»ºæ§‹å‡ºä¾†çš„å°ˆæ¡ˆçµæ§‹å°æ¯”å¦‚ä¸‹åœ–ï¼Œåœ¨ &lt;code>public&lt;/code> ç›®éŒ„ä¸‹çš„æª”æ¡ˆï¼ŒæœƒåŸå°ä¸å‹•çš„ç…§æ¬è‡³ &lt;code>.output/public&lt;/code> ä¸‹ï¼Œä¹Ÿå°±å¯ä»¥ä½¿ç”¨ &lt;strong>/bg.png&lt;/strong> å­˜å–ï¼›è€Œæ”¾ç½®åœ¨ &lt;code>assets&lt;/code> ä¸‹çš„æª”æ¡ˆï¼Œå¯èƒ½æœƒè¢«è™•ç†åŠ å·¥ï¼Œæœ€å¾Œæª”æ¡ˆåç¨±æœƒåŠ ä¸Šä¸€å€‹ &lt;code>Hash&lt;/code> ä¸¦æ”¾ç½®åœ¨ &lt;code>.output/public/_nuxt&lt;/code> ä¸‹ï¼Œä¹Ÿå°±éœ€è¦ä½¿ç”¨ &lt;strong>/_nuxt/bg.0a299ea1.png&lt;/strong> å­˜å–ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629175877_933064e5f8_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç¸½çµä¾†èªªå¤šæ•¸æƒ…æ³å»ºè­°æŠŠéœæ…‹è³‡æºæ”¾ç½®åœ¨ &lt;code>assets&lt;/code>ï¼Œä¹Ÿå› ç‚ºéœæ…‹è³‡æºå¤šç‚º SFC æ‰€ä½¿ç”¨ï¼Œé€šå¸¸ä¹Ÿæœƒæ”¾ç½®æœ€å¤šæª”æ¡ˆï¼Œæœ€å¾Œå»ºæ§‹æ™‚ä¹Ÿæœƒå› ç‚ºå»ºæ§‹å·¥å…·çš„è¨­å®šä¾†é€²è¡Œè½‰æ›æˆ–å£“ç¸®ï¼Œæœ€å¾Œæ·»åŠ  &lt;code>Hash&lt;/code> ä¾†æä¾›å­˜å–ï¼Œä¹Ÿå› ç‚ºæ¯æ¬¡å»ºæ§‹ç”¢ç”Ÿçš„æª”æ¡ˆéƒ½ä¸ä¸€æ¨£ï¼Œæ‰€ä»¥ä¸é©åˆç›´æ¥ä»¥å®Œæ•´çš„ URL ä¾›å¤–éƒ¨é€£çµä½¿ç”¨ã€‚è€Œç•¶æœ‰äº›ä¾‹å¤–æƒ…æ³ä¸é©åˆï¼Œä¾‹å¦‚ &lt;code>robots.txt&lt;/code> æˆ– &lt;code>sitemap.xml&lt;/code> é€™é¡çš„æª”æ¡ˆä¸éœ€è¦ç¶“éé¡å¤–è™•ç†ä¸”éœ€è¦çµ•å°è·¯å¾‘ä¿æŒæª”æ¡ˆåç¨±ï¼Œé‚£å°±å¾—æ”¾ç½®åœ¨ &lt;code>public&lt;/code> ç›®éŒ„ä¸‹æä¾›å­˜å–ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ç™¼å¸ƒç¶²ç«™å‰çš„å»ºæ§‹æ‰“åŒ…-build-èˆ‡éœæ…‹ç¶²ç«™ç”Ÿæˆ-static-site-generation">ç™¼å¸ƒç¶²ç«™å‰çš„å»ºæ§‹æ‰“åŒ… (Build) èˆ‡éœæ…‹ç¶²ç«™ç”Ÿæˆ (Static Site Generation)&lt;/h2>
&lt;p>ç•¶ç¶²ç«™é–‹ç™¼å®Œæˆæˆ–æœ‰å°å…¥ CI/CDï¼Œåœ¨æº–å‚™ç™¼å¸ƒç¶²ç«™å‰ï¼Œæˆ‘å€‘æœƒå°‡ Nuxt ç¶²ç«™çš„é–‹ç™¼å°ˆæ¡ˆé€é Nuxt æä¾›çš„æŒ‡ä»¤ï¼Œæˆ‘å€‘å¯ä»¥ä¾†å»ºæ§‹å‡º&lt;strong>æ­£å¼ç’°å¢ƒ&lt;/strong>æ‰€éœ€è¦çš„ç‰ˆæœ¬ï¼Œé€™å€‹å»ºæ§‹çš„éç¨‹ä½ å¯ä»¥ç†è§£ç‚ºå°ˆæ¡ˆå°‡æœƒæ‰“åŒ…éœ€è¦çš„ä¾è³´å¥—ä»¶ã€ç·¨è­¯èˆ‡è½‰æ›ç›¸é—œçš„ Vue SFC èˆ‡æ¨£å¼ç­‰ï¼Œç”šè‡³å¹«ä½ å£“ç¸®é€™äº›æª”æ¡ˆç­‰è¨±å¤šæ­¥é©Ÿï¼Œé€™äº›ç¹ç‘£çš„éç¨‹éƒ½é€é Nuxt çš„å»ºæ§‹æŒ‡ä»¤ä¾†å¹«ä½ å®Œæˆï¼Œä½ å¯ä»¥çµåˆä¸€äº›è¨­å®šåƒæ•¸èˆ‡æŒ‡ä»¤ï¼Œä¾†å¹«åŠ©ä½ å»ºæ§‹å‡º&lt;strong>æ­£å¼ç’°å¢ƒ&lt;/strong>æ‰€éœ€è¦çš„ç¶²ç«™å°ˆæ¡ˆï¼Œæœ€å¾Œå†é€²è¡Œéƒ¨ç½²çš„å‹•ä½œã€‚&lt;/p>
&lt;h3 id="nuxt-3-å°ˆæ¡ˆå¦‚ä½•å»ºæ§‹æ­£å¼ç’°å¢ƒç‰ˆæœ¬">Nuxt 3 å°ˆæ¡ˆå¦‚ä½•å»ºæ§‹æ­£å¼ç’°å¢ƒç‰ˆæœ¬ï¼Ÿ&lt;/h3>
&lt;p>ç•¶æˆ‘å€‘å»ºç«‹ä¸€å€‹ä¹¾æ·¨çš„ Nuxt 3 å°ˆæ¡ˆï¼Œå¯ä»¥ä½¿ç”¨ &lt;strong>package.json&lt;/strong> ä¸­ &lt;strong>scripts&lt;/strong> å…§çš„æŒ‡ä»¤ä¾†é€²è¡Œå»ºæ§‹æˆ–é æ¸²æŸ“ç”¢ç”Ÿéœæ…‹é é¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm run generate
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run build&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run generate&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ–è€…ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ Nuxt CLI ä¾†é”åˆ°ä¸€æ¨£çš„æ•ˆæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx nuxi build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npx nuxi generate
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>generate&lt;/code> æŒ‡ä»¤æœƒè§¸ç™¼ &lt;code>build&lt;/code> çš„æŒ‡ä»¤ä¸¦å¸¶æœ‰ &lt;strong>prerender&lt;/strong> ç‚º &lt;code>true&lt;/code> çš„åƒæ•¸ï¼Œæœ€çµ‚ç”¢ç”Ÿå‡ºä¾†çš„ç›®éŒ„å¯ä»¥ç›´æ¥é€²è¡Œéƒ¨ç½²ï¼Œä¸éœ€è¦å†åŸ·è¡Œä¸€æ¬¡ &lt;code>build&lt;/code> çš„æŒ‡ä»¤ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨é è¨­é…ç½®é€²è¡Œå»ºæ§‹---å»ºæ§‹é€šç”¨æ¸²æŸ“-universal-rendering-çš„ç¶²ç«™">ä½¿ç”¨é è¨­é…ç½®é€²è¡Œå»ºæ§‹ - å»ºæ§‹é€šç”¨æ¸²æŸ“ (Universal Rendering) çš„ç¶²ç«™&lt;/h3>
&lt;p>é€™é‚Šæˆ‘å€‘ä»¥ &lt;a class="link" href="https://wayneblog.ga/2023-01-16/nuxt-nuxt3-practice-project/" >ã€Nuxt3ã€‘å¯¦æˆ°ç·´ç¿’ - å¯¦ä½œéƒ¨è½æ ¼&lt;/a> æ‰€å»ºç«‹çš„&lt;a class="link" href="https://github.com/wjdesign/ithome-2022-ironman-nuxt3/tree/nuxt-app-blog" target="_blank" rel="noopener"
>éƒ¨è½æ ¼&lt;/a>ä½œç‚ºç¯„ä¾‹ï¼Œä¾†å˜—è©¦ä»¥é è¨­çš„é…ç½®é€²è¡Œå»ºæ§‹ï¼Œç›®å‰ Nuxt 3 é è¨­ &lt;code>nuxt.config.ts&lt;/code> ä¸­ &lt;code>ssr&lt;/code> å±¬æ€§ç‚º &lt;code>true&lt;/code>ï¼Œä¹Ÿå°±ä½¿ç”¨&lt;strong>é€šç”¨æ¸²æŸ“ (Universal Rendering)&lt;/strong>ã€‚&lt;/p>
&lt;p>æˆ‘å€‘é€²å…¥å°ˆæ¡ˆç›®éŒ„ï¼ŒåŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run build&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸éœ€è¦åœ¨é¡å¤–çš„é…ç½®æˆ–æ­¥é©Ÿï¼ŒNuxt å°±æœƒè‡ªå‹•å¹«æˆ‘å€‘æ‰“åŒ…ä¸¦å»ºæ§‹å‡ºå¯ä»¥éƒ¨ç½²çš„ç¶²ç«™ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630176278_33ffb31297_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å»ºæ§‹å®Œæˆå¾Œæœƒåœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹å¤šå‡ºä¸€å€‹ &lt;code>.output&lt;/code> ç›®éŒ„ï¼Œ&lt;code>public&lt;/code> å°±æ˜¯åœ¨ç¶²ç«™æ ¹ç›®éŒ„ç›´æ¥å…¬é–‹æ‰“åŒ…å¾Œçš„ JSã€CSS åœ–ç‰‡ç­‰ç›¸é—œæª”æ¡ˆã€‚ç”±æ–¼é€šç”¨æ¸²æŸ“ä½¿ç”¨ Nitro ä½œç‚ºæœå‹™å¼•æ“ï¼Œæ‰€ä»¥æœƒéœ€è¦ä½¿ç”¨ Node.js ä¾†å•Ÿå‹•æˆ‘å€‘çš„æœå‹™ï¼Œæ‰€ä»¥ &lt;code>server&lt;/code> å‰‡æ˜¯æœƒæ”¾ç½®ä¼ºæœå™¨ç«¯çš„ Nitroã€Server API è™•ç†é‚è¼¯ç­‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630134450_bf00a38cea_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æˆ‘å€‘å¯ä»¥å…ˆåœ¨æœ¬åœ°åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ä¾†é è¦½å»ºæ§‹å‡ºä¾†çš„ç¶²ç«™èˆ‡ Nitro æ˜¯å¦èƒ½é‹ä½œæ­£å¸¸ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">node .output/server/index.mjs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ç¢ºèªæ²’å•é¡Œå¾Œï¼Œå°±èƒ½ä»¥ &lt;code>.output&lt;/code> ç›®éŒ„é€²è¡Œç¶²ç«™éƒ¨ç½²ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨é æ¸²æŸ“å»ºç½®å…¨éœæ…‹é é¢ç¶²ç«™">ä½¿ç”¨é æ¸²æŸ“å»ºç½®å…¨éœæ…‹é é¢ç¶²ç«™&lt;/h3>
&lt;p>æˆ‘å€‘å¯ä»¥åœ¨ Nuxt 3 å»ºæ§‹æ™‚æœŸä¾†é€²è¡Œ&lt;strong>é æ¸²æŸ“ (pre-rendering)&lt;/strong>ï¼Œå°‡å°ˆæ¡ˆå…§éœ€è¦æ‰“ API è«‹æ±‚åŠå‹•æ…‹æ¸²æŸ“å…ƒä»¶çš„åœ°æ–¹ï¼Œå…ˆæ¸²æŸ“ç”Ÿæˆå‡º HTML ç¶²é ï¼Œé€™å€‹éç¨‹ä¹Ÿç¨±ä¹‹ç‚º&lt;strong>éœæ…‹ç¶²ç«™ç”Ÿæˆ (Static Site Generation)&lt;/strong>ï¼Œé€²è€Œå»ºæ§‹å‡ºå…¨éœæ…‹é é¢çš„ç¶²ç«™ã€‚&lt;/p>
&lt;p>åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤é€²è¡Œéœæ…‹é é¢ç”Ÿæˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run generate
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run generate&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>generate&lt;/code> æŒ‡ä»¤æœƒè§¸ç™¼ &lt;code>build&lt;/code> çš„æŒ‡ä»¤ä¸¦å¸¶æœ‰ &lt;strong>prerender&lt;/strong> ç‚º &lt;code>true&lt;/code> çš„åƒæ•¸ï¼Œæœ€çµ‚æœƒæç¤ºç”¢ç”Ÿçš„ç›®éŒ„ &lt;code>.output/public&lt;/code> å¯ä»¥ç”¨ä¾†éƒ¨ç½²è‡³éœæ…‹è¨—ç®¡ä¼ºæœå™¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629943864_15a3b70736_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç•¶å»ºæ§‹å®Œæˆå¾Œï¼Œæœƒåœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹å¤šå‡ºä¸€å€‹ &lt;code>.output&lt;/code> ç›®éŒ„åŒæ™‚ä¹Ÿæœƒæœ‰ &lt;code>dist&lt;/code> ç›®éŒ„ï¼Œå¯ä»¥ç™¼ç¾ &lt;code>.output/public&lt;/code> ç›®éŒ„å…§å®¹èˆ‡ &lt;code>dist&lt;/code> ç›®éŒ„ç›¸åŒã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629176072_058cbabe22_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>éœæ…‹é é¢çš„ç”Ÿæˆå› ç‚º Nuxt ä½¿ç”¨åŸºæ–¼çˆ¬èŸ²çš„æŠ€è¡“ç‚ºæ¯å€‹é é¢ç”¢ç”Ÿ HTML èˆ‡ Payload æª”æ¡ˆï¼Œå¯ä»¥ç™¼ç¾ç”¢ç”Ÿçš„éœæ…‹é é¢ç›®éŒ„çµæ§‹ï¼Œä¹Ÿå°æ‡‰è‘—æˆ‘å€‘å°ˆæ¡ˆçš„è·¯ç”±é é¢ï¼Œè€Œé é¢å…ƒä»¶è³‡æ–™å¤¾å…§æœƒç”±ä¸€å€‹ &lt;code>index.html&lt;/code> èˆ‡ &lt;code>_payload.js&lt;/code> çµ„æˆã€‚&lt;/p>
&lt;p>ä¸‹åœ–æ‰€ç”¢ç”Ÿçš„çµæ§‹ï¼Œæ˜¯å› ç‚ºæˆ‘å€‘çš„éƒ¨è½æ ¼è³‡æ–™åº«å…§å·²ç¶“æœ‰ä¸‰ç­†æ–‡ç« è³‡æ–™ï¼Œ&lt;code>/articles&lt;/code> é é¢æœƒå–å¾—æ‰€æœ‰çš„æ–‡ç« ï¼Œä¸¦åˆ—å‡ºå°æ‡‰è‘— &lt;code>/articles/1&lt;/code>ã€&lt;code>/articles/2&lt;/code> èˆ‡ &lt;code>/articles/3&lt;/code> ç›®éŒ„ï¼Œæ¯å€‹é é¢å…§ä¹Ÿéƒ½åŒ…å«é å…ˆå¾ Server API è«‹æ±‚å¥½çš„æ–‡ç« è³‡æ–™ä¸¦å­˜æ–¼ &lt;code>_payload.js&lt;/code> ä¹‹ä¸­ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630134335_4a264f46cd_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>è‡³æ­¤æˆ‘å€‘å°±å¯ä»¥å°‡ &lt;code>.output&lt;/code> ç›®éŒ„éƒ¨ç½²è‡³ä¼ºæœå™¨æˆ–éœæ…‹è¨—ç®¡æœå‹™ï¼Œè€Œä¸”ä¹Ÿä¸éœ€è¦åœ¨ä½¿ç”¨ Node.js ä¼ºæœå™¨ä¾†æœå‹™é€™äº›éœæ…‹æª”æ¡ˆã€‚&lt;/p>
&lt;h3 id="æ‰‹å‹•è¨­å®šé æ¸²æŸ“çš„è·¯ç”±è¦å‰‡">æ‰‹å‹•è¨­å®šé æ¸²æŸ“çš„è·¯ç”±è¦å‰‡&lt;/h3>
&lt;p>æˆ‘å€‘ä½¿ç”¨ &lt;code>generate&lt;/code> æŒ‡ä»¤æ‰€ç”¢ç”Ÿçš„å…¨éœæ…‹é é¢ç¶²ç«™ï¼Œæ˜¯åŸºæ–¼ Nuxt çš„çˆ¬èŸ²æŠ€è¡“ä¾†åˆ†æé é¢ï¼Œå¦‚åŒå‰å€‹ä¾‹å­æ–‡ç« é é¢çš„ç”¢ç”Ÿæ‰€æè¿°ï¼Œå¦‚æœæˆ‘å€‘çš„è³‡æ–™åº«å­˜åœ¨è‘— &lt;strong>200&lt;/strong> ç­†è³‡æ–™ï¼Œä½† &lt;code>/articles&lt;/code> é é¢æ‰€æ‰“çš„ API ç¸½æ˜¯åªå›å‚³æœ€æ–°çš„ &lt;strong>10&lt;/strong> ç­†ï¼Œé‚£éº¼é‚£äº›æ²’æœ‰è·¯ç”±é€£çµå¯ä»¥é€£çµéå»çš„æ–‡ç« é é¢ï¼Œå°±ç„¡æ³•è¢« Nuxt çš„çˆ¬èŸ²æ‰€åˆ†æåˆ°ï¼Œä¹Ÿå°±ç„¡æ³•ç”¢ç”Ÿå°æ‡‰çš„éœæ…‹é é¢ã€‚&lt;/p>
&lt;p>ç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼Œæˆ‘å€‘å¯ä»¥è—‰ç”±é…ç½® Nitro çš„é æ¸²æŸ“è·¯ç”±ï¼Œä¾†æ‰‹å‹•çš„è¨­å®šå“ªäº›é é¢è¦é€²è¡Œé æ¸²æŸ“ç”¢ç”Ÿéœæ…‹é é¢ï¼Œæˆ–è€…å¿½ç•¥ç”¢ç”Ÿéœæ…‹é é¢ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts-7">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nitro&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prerender&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ignore&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[],&lt;/span> &lt;span class="c1">// å¿½ç•¥ç‰¹å®šè·¯ç”±ä¸é€²è¡Œé æ¸²æŸ“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">routes&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[],&lt;/span> &lt;span class="c1">// æŒ‡å®šè·¯ç”±é€²è¡Œé æ¸²æŸ“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">crawlLinks&lt;/span>: &lt;span class="kt">true&lt;/span> &lt;span class="c1">// å•Ÿç”¨ Nuxt çˆ¬èŸ²è’é›†é é¢é€£çµä¾†é€²è¡Œé æ¸²æŸ“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ç„¶ï¼Œä¹Ÿå¯ä»¥æ­é… &lt;code>build&lt;/code> æˆ– &lt;code>generate&lt;/code> æŒ‡ä»¤åšä½¿ç”¨ï¼Œä½†æœƒç¨å¾®æœ‰äº›ä¸ä¸€æ¨£ã€‚&lt;/p>
&lt;h4 id="build">build&lt;/h4>
&lt;p>ä¾‹å¦‚ï¼šè¨­ç½®å¦‚ä¸‹ï¼Œä¸¦ä½¿ç”¨ &lt;code>npm run build&lt;/code> æŒ‡ä»¤ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nitro&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prerender&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">routes&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;/articles&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;/articles/2&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‚£éº¼å»ºæ§‹å‡ºä¾†çš„é€šç”¨æ¸²æŸ“ç¶²ç«™ï¼Œå°±æœƒåŒ…å«éƒ¨åˆ†é é¢æ˜¯å·²ç¶“é æ¸²æŸ“å¥½çš„éœæ…‹é é¢ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629696171_a693e5422d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="generate">generate&lt;/h4>
&lt;p>ç•¶æˆ‘å€‘ä½¿ç”¨ &lt;code>generate&lt;/code> æ™‚ï¼Œå› ç‚ºæ˜¯é€²è¡Œå…¨ç«™çš„éœæ…‹é é¢ç”Ÿæˆï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šæ¶µè“‹äº†æ‰€æœ‰è·¯ç”±é é¢ï¼Œä¸¦ä¸” &lt;code>nitro.prerender.crawlLinks&lt;/code> å±¬æ€§é è¨­ç‚º &lt;code>true&lt;/code> æœƒå•Ÿç”¨ Nuxt çˆ¬èŸ²ä¾†è’é›†æ•´çš„ç¶²ç«™çš„è·¯ç”±é é¢ï¼Œé€²è€Œé–‹å§‹é æ¸²æŸ“ç”¢ç”Ÿéœæ…‹é é¢ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼šè¨­ç½®å¦‚ä¸‹ï¼Œä¸¦ä½¿ç”¨ &lt;code>npm run generate&lt;/code> æŒ‡ä»¤ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nitro&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prerender&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ignore&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;/login&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;/register&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">routes&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;/articles/2&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">crawlLinks&lt;/span>: &lt;span class="kt">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‚£éº¼å»ºæ§‹å‡ºä¾†çš„ &lt;code>.output&lt;/code> ç›®éŒ„ï¼Œå°±æœƒå› ç‚ºè¨­ç½®äº† &lt;code>nitro.prerender.ignore&lt;/code> è€Œå¿½ç•¥ &lt;strong>/login&lt;/strong> èˆ‡ &lt;strong>/register&lt;/strong> é é¢çš„éœæ…‹ç”Ÿæˆ ï¼Œè€Œ &lt;strong>/articles/2&lt;/strong> åœ¨ç¶²ç«™ä¸­å› ç‚ºæ²’æœ‰ä»»ä½•é é¢èƒ½é€£çµåˆ°æ­¤ï¼Œæ‰€ä»¥ Nuxy çˆ¬èŸ²ç„¡æ³•è’é›†åˆ°ï¼Œæ‰€ä»¥å¯ä»¥æ‰‹å‹•æ·»åŠ é€² &lt;code>nitro.prerender.routes&lt;/code> ä¹‹ä¸­ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629696156_f6e435c338_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å¦‚æœæˆ‘å€‘å°‡ &lt;code>nitro.prerender.crawlLinks&lt;/code> å±¬æ€§è¨­ç‚º &lt;code>false&lt;/code>ï¼Œé‚£éº¼åœ¨ç”¢ç”Ÿéœæ…‹é é¢çš„æ™‚å€™ï¼Œå°±ç®— &lt;code>/articles&lt;/code> åŒ…å«äº†æ‰€æœ‰æ–‡ç« çš„é€£çµï¼ŒNuxt çˆ¬èŸ²ä¹Ÿå°±ä¸æœƒè’é›†é€£çµä¾†ç”¢ç”Ÿéœæ…‹é é¢ï¼Œè€Œæ˜¯åƒ…ä¾ç…§å°ˆæ¡ˆç›®éŒ„ä¸‹çš„ &lt;code>pages&lt;/code> æ‰€ç”¢ç”Ÿå‡ºçš„è·¯ç”±ä½†ä¸åŒ…å« &lt;code>[id].vue&lt;/code> é€™é¡å‹•æ…‹åŒ¹é…çš„è·¯ç”±ä¾†ç”¢ç”Ÿéœæ…‹é é¢ã€‚&lt;/p>
&lt;h3 id="å»ºæ§‹åƒ…åœ¨å®¢æˆ¶ç«¯æ¸²æŸ“çš„ç¶²ç«™">å»ºæ§‹åƒ…åœ¨å®¢æˆ¶ç«¯æ¸²æŸ“çš„ç¶²ç«™&lt;/h3>
&lt;p>åŒæ¨£çš„ä½¿ç”¨&lt;a class="link" href="https://github.com/wjdesign/ithome-2022-ironman-nuxt3/tree/nuxt-app-blog" target="_blank" rel="noopener"
>éƒ¨è½æ ¼&lt;/a>ä½œç‚ºç¯„ä¾‹ï¼Œä¾†å˜—è©¦å°‡ &lt;code>nuxt.config.ts&lt;/code> ä¸­ &lt;code>ssr&lt;/code> å±¬æ€§è¨­ç‚º &lt;code>false&lt;/code>ï¼Œä¹Ÿå°±è®“ç¶²ç«™&lt;strong>åƒ…åœ¨å®¢æˆ¶ç«¯æ¸²æŸ“ (Client-side Only Rendering)&lt;/strong>ã€‚&lt;/p>
&lt;p>åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤é€²è¡Œå»ºæ§‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run build&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºæ§‹å®Œæˆå¾Œï¼Œæœƒåœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹å¤šå‡ºä¸€å€‹ &lt;code>.output&lt;/code> ç›®éŒ„ï¼Œå¯ä»¥ç™¼ç¾ &lt;code>public&lt;/code> ç›®éŒ„çµæ§‹èˆ‡é€šç”¨æ¸²æŸ“å»ºæ§‹å‡ºçš„ä¸å¤§ä¸€æ¨£ï¼Œå¤šå‡ºäº†åƒ Vue å°ˆæ¡ˆå»ºæ§‹å®Œæˆå¾Œçš„ &lt;code>index.html&lt;/code> æª”æ¡ˆï¼Œä¾†ä½œç‚ºé¡¯ç¤ºçš„å®¹å™¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629176037_b1ec094f74_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é€™é‚Šæ¯”è¼ƒéœ€è¦ç•™æ„çš„åœ°æ–¹æ˜¯ï¼Œç•¶æˆ‘å€‘å°‡ &lt;code>ssr&lt;/code> å±¬æ€§è¨­ç‚º &lt;code>false&lt;/code>ï¼Œä¹Ÿé‚„æ˜¯æœƒåœ¨ &lt;code>.output&lt;/code> å»ºæ§‹å‡º &lt;code>server&lt;/code> ç›®éŒ„ï¼Œä¹Ÿæ“æœ‰è‘— &lt;code>.output/server/index.mjs&lt;/code>ã€‚&lt;/p>
&lt;p>é‚£é€™ä¸å°±æ„è¬‚è‘—æˆ‘é‚„æ˜¯å¾—æœ‰ Node.js æœå‹™æ‰èƒ½éƒ¨ç½²å—ï¼Ÿå…¶å¯¦ä½ å¯ä»¥é€™éº¼ç†è§£ï¼Œç•¶æˆ‘å€‘è¨­å®š Nuxt åƒ…åœ¨å®¢æˆ¶ç«¯é€²è¡Œæ¸²æŸ“ï¼Œä½† Nuxt å°ˆæ¡ˆä¸­ä»ç„¶å¯èƒ½æœ‰ Server APIï¼Œé€™å€‹å±¬æ–¼ä¼ºæœå™¨ç«¯çš„ APIï¼Œç¸½ä¸å¯èƒ½ä¸€åŒæ‰“åŒ…è‡³å‰ç«¯å»åšæ¶è¨­å§ï¼æ‰€ä»¥ä½¿ç”¨ &lt;code>npm run build&lt;/code> å»ºæ§‹å‡ºä¾†çš„å°ˆæ¡ˆï¼Œéƒ½æœƒä½¿ç”¨ Nitro å¼•æ“ä¾†å•Ÿå‹•æœå‹™ï¼Œè‹¥æœ‰ Server API çš„è™•ç†é‚è¼¯ï¼Œå‰‡æœƒé€£å¸¶æ‰“åŒ…é€² &lt;code>.output/server&lt;/code> ç›®éŒ„ä¹‹ä¸‹ã€‚&lt;/p>
&lt;p>å¦‚æœä½ ç¢ºå®š Nuxt çš„å°ˆæ¡ˆå…§æ²’æœ‰è‡ªå·±å¯¦ä½œçš„ Server APIï¼Œå…¨éƒ¨æ˜¯ä¾è³´éå°ˆæ¡ˆå…§çš„ Server APIï¼Œé‚£éº¼ä½ å¯ä»¥ç›´æ¥å°‡ &lt;code>public&lt;/code> ç›®éŒ„ï¼Œè¦–ç‚º Vue å»ºæ§‹å‡ºçš„ &lt;code>dist&lt;/code> ç›®éŒ„ä¾†é€²è¡Œéƒ¨ç½²ï¼Œå› ç‚ºé¸æ“‡ä¸å†éœ€è¦ Nitro å¼•æ“ä¾†ç‚ºæˆ‘å€‘æä¾› Web Server çš„æœå‹™ï¼Œä¸”å°ˆæ¡ˆå…§çš„å‰ç«¯ä¹Ÿéƒ½æ‰“åŒ…å®Œåœ¨ &lt;code>public&lt;/code> ä¸‹å¯ä»¥è¦–ç‚º SPA ç¶²ç«™ã€‚&lt;/p>
&lt;h3 id="æ•´ç†é€™äº›æ’åˆ—å»ºæ§‹åƒæ•¸çš„çµ„åˆ">æ•´ç†é€™äº›æ’åˆ—å»ºæ§‹åƒæ•¸çš„çµ„åˆ&lt;/h3>
&lt;p>ç›¸ä¿¡çœ‹åˆ°é€™è£¡ï¼Œå¯èƒ½å°å»ºæ§‹èˆ‡ç”¢ç”Ÿéœæ…‹é é¢æœ‰ä¸€é»æ··äº‚äº†ï¼Œé€™é‚Šç¨å¾®æ•´ç†äº†ä¸€ä¸‹ï¼Œå¤§å®¶å¯ä»¥å†ä¾æ“šéœ€æ±‚ä¾†å•Ÿç”¨ç›¸å°æ‡‰çš„é…ç½®ï¼š&lt;/p>
&lt;h4 id="npm-run-build--ssr-true">npm run build + ssr: true&lt;/h4>
&lt;ul>
&lt;li>build + ssr: true&lt;/li>
&lt;/ul>
&lt;p>Nuxt 3 é è¨­çš„å»ºæ§‹åƒæ•¸ï¼Œä½¿ç”¨&lt;strong>é€šç”¨æ¸²æŸ“ (Universal Rendering) æ¨¡å¼&lt;/strong>ã€‚&lt;/p>
&lt;ul>
&lt;li>build + ssr: true + nitro.prerender.crawlLinks: true&lt;/li>
&lt;/ul>
&lt;p>ä½¿ç”¨é€šç”¨æ¸²æŸ“æ¨¡å¼ï¼Œé é¢ä¸­éœ€è¦æ‰“ API å‹•æ…‹ç”¢ç”Ÿçš„é€£çµè€Œè¢« Nuxt çˆ¬èŸ²æ‰€è’é›†åˆ°çš„é é¢å°‡è¢«é æ¸²æŸ“æˆéœæ…‹é é¢ã€‚&lt;/p>
&lt;ul>
&lt;li>build + ssr: true + nitro.prerender.routes + nitro.prerender.crawlLinks: false&lt;/li>
&lt;/ul>
&lt;p>ä½¿ç”¨é€šç”¨æ¸²æŸ“æ¨¡å¼ï¼Œä½†æŒ‡å®šé é¢é æ¸²æŸ“æˆéœæ…‹é é¢ã€‚&lt;/p>
&lt;h4 id="npm-run-build--ssr-false">npm run build + ssr: false&lt;/h4>
&lt;ul>
&lt;li>build + ssr: false&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>åƒ…åœ¨å®¢æˆ¶ç«¯æ¸²æŸ“ (Client-side Only Rendering)&lt;/strong> çš„æ¨¡å¼ï¼Œéƒ¨ç½²æ™‚åŒæ¨£éœ€è¦ä½¿ç”¨ &lt;code>server&lt;/code> ä¸­çš„ &lt;code>index.mjs&lt;/code> ä¾†å•Ÿå‹• Nitro ä¼ºæœå™¨ï¼Œé€™æ¨£æ‰èƒ½æ­£ç¢ºçš„é‹ä½œ Server APIï¼›é™¤éç¢ºèªå°ˆæ¡ˆå…§å®Œå…¨ç„¡ä¾è³´å°ˆæ¡ˆå…§çš„ Server APIï¼Œå‰‡å¯ä»¥ç›´æ¥å°‡ &lt;code>.output/public&lt;/code> è¦–ç‚º Vue çš„ &lt;code>dist&lt;/code> ç›®éŒ„é€²è¡Œéƒ¨ç½²ã€‚&lt;/p>
&lt;h4 id="npm-run-generate--ssr-true">npm run generate + ssr: true&lt;/h4>
&lt;ul>
&lt;li>generate + ssr: true&lt;/li>
&lt;/ul>
&lt;p>ä½¿ç”¨é æ¸²æŸ“ç”¢ç”Ÿéœæ…‹é é¢ï¼Œé è¨­ç”¢ç”Ÿå…¨ç«™éœæ…‹é é¢ï¼Œ&lt;code>generate&lt;/code> ä¸‹ &lt;code>nitro.prerender.crawlLinks&lt;/code> å±¬æ€§é è¨­è®Šç‚º &lt;code>true&lt;/code>ï¼Œæ•´å€‹ç¶²ç«™åŒ…å« Nuxt çˆ¬èŸ²æ‰€è’é›†åˆ°çš„é é¢å°‡è¢«é æ¸²æŸ“æˆéœæ…‹é é¢ã€‚&lt;/p>
&lt;ul>
&lt;li>generate + ssr: true + nitro.prerender.ignore&lt;/li>
&lt;/ul>
&lt;p>ä½¿ç”¨ &lt;code>generate&lt;/code> å·²ç¶“åŒ…å«æ•´å€‹ç¶²ç«™ï¼Œå¦‚æœæƒ³è¦å¿½ç•¥æŸäº›é é¢é€²è¡Œé æ¸²æŸ“ï¼Œå¯ä»¥æ·»åŠ è·¯ç”±è‡³ &lt;code>nitro.prerender.ignore&lt;/code> ä¸­ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„ï¼Œé€™äº›è¢«å¿½ç•¥çš„é é¢å¦‚æœæœ‰ä½¿ç”¨å°ˆæ¡ˆå…§çš„ Server API éœ€æ±‚ï¼Œå¯èƒ½å°±ç„¡æ³•æ­£ç¢ºçš„åœ¨éœæ…‹è¨—ç®¡å¹³å°é‹ä½œï¼Œè€Œå¤–éƒ¨çš„å€’æ˜¯ä¸å—å½±éŸ¿ã€‚&lt;/p>
&lt;ul>
&lt;li>generate + ssr: true + nitro.prerender.routes&lt;/li>
&lt;/ul>
&lt;p>é›–ç„¶ä½¿ç”¨ &lt;code>generate&lt;/code> å·²ç¶“åŒ…å«æ•´å€‹ç¶²ç«™ï¼Œä½† Nuxt çˆ¬èŸ²æ‰€è’é›†åˆ°çš„é é¢åƒ…ç‚ºé é¢ä¸­ç”¢ç”Ÿçš„ï¼Œå¦‚æœé€£çµä¸å­˜åœ¨é€™äº›é é¢å…§ï¼Œåªèƒ½ç›´æ¥å¾ç€è¦½å™¨ç¶²å€åˆ—è¼¸å…¥é€²å…¥ï¼Œé‚£éº¼æˆ‘å€‘å¯ä»¥å°‡è·¯ç”±æ·»åŠ è‡³ &lt;code>nitro.prerender.routes&lt;/code> ä¾†é¡å¤–è£œå……éœ€è¦é æ¸²æŸ“çš„é é¢ã€‚&lt;/p>
&lt;ul>
&lt;li>generate + ssr: true + nitro.prerender.routes + nitro.prerender.crawlLinks: false&lt;/li>
&lt;/ul>
&lt;p>åŒæ¨£æœƒç”¢ç”Ÿå…¨ç«™éœæ…‹é é¢ï¼Œä½†ä¸ä½¿ç”¨ Nuxt çˆ¬èŸ²æ‰€è’é›†åˆ°çš„é€£çµé é¢ï¼Œæ‰€ä»¥é€™äº›å‹•æ…‹åŒ¹é…æˆ–éœ€è¦æ‰“ API ç²å–è³‡æ–™å†æ¸²æŸ“çš„é é¢ï¼Œå°‡ä¸æœƒæ˜¯éœæ…‹é é¢ï¼Œå› æ­¤ä¹Ÿéœ€è¦æ³¨æ„ï¼Œå¦‚æœé€™äº›é é¢æœ‰ä½¿ç”¨å°ˆæ¡ˆå…§çš„ Server API éœ€æ±‚ï¼Œå¯èƒ½å°±ç„¡æ³•æ­£ç¢ºçš„åœ¨éœæ…‹è¨—ç®¡å¹³å°é‹ä½œï¼Œè€Œå¤–éƒ¨çš„å€’æ˜¯ä¸å—å½±éŸ¿ã€‚&lt;/p>
&lt;blockquote>
&lt;p>å…¶å®ƒè·Ÿå»ºæ§‹æœ‰é—œçš„åƒæ•¸å±¬æ€§å¯ä»¥å†åƒè€ƒ&lt;a class="link" href="https://nuxt.com/docs/api/configuration/nuxt-config/#build" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ã€&lt;a class="link" href="https://nuxt.com/docs/api/configuration/nuxt-config/#vite" target="_blank" rel="noopener"
>Vite&lt;/a> èˆ‡ &lt;a class="link" href="https://nuxt.com/docs/api/configuration/nuxt-config/#webpack-1" target="_blank" rel="noopener"
>webpack&lt;/a> å»ºæ§‹å·¥å…·ä¹Ÿéƒ½èƒ½é¡å¤–è¨­å®šåƒæ•¸å±¬æ€§ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>Nuxt çš„å»ºæ§‹æŒ‡ä»¤ &lt;code>build&lt;/code> èˆ‡ç”¢ç”Ÿéœæ…‹é é¢çš„ &lt;code>generate&lt;/code> æŒ‡ä»¤ï¼Œè®“æˆ‘å€‘å¯ä»¥ä¾æ“šä¸åŒçš„æƒ…å¢ƒä¾†æ±ºå®šæ¸²æŸ“æ¨¡å¼èˆ‡é æ¸²æŸ“çš„é é¢ï¼Œæœ€çµ‚ç”¢ç”Ÿçš„ &lt;code>.output&lt;/code> ç›®éŒ„ä¹Ÿæœƒæœ‰ä¸ä¸€æ¨£çš„çµæ§‹ã€‚é æ¸²æŸ“çš„é é¢èˆ‡å–®ç´”çš„ SPA ä¹Ÿè¦æ³¨æ„ä½¿å¦æœ‰ä½¿ç”¨åˆ° Nuxt å°ˆæ¡ˆå»ºç«‹çš„ Server APIï¼Œå†æ±ºå®šæ˜¯å¦éœ€è¦ Nitro ä¼ºæœå™¨ä¾†å•Ÿå‹•æ­£å¼ç’°å¢ƒçš„ç¶²ç«™æœå‹™ã€‚ç•¶ä¸€åˆ‡å°±ç·’ä¹‹å¾Œæœ€å¾Œå°±èƒ½å°‡è¼¸å‡ºçš„ç›®éŒ„æ‰“åŒ…é€²è¡Œéƒ¨ç½²ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å°±å‰©æœ€å¾Œä¸€æ­¥äº†---éƒ¨ç½²-deployment">å°±å‰©æœ€å¾Œä¸€æ­¥äº† - éƒ¨ç½² (Deployment)&lt;/h2>
&lt;p>Nuxt 3 çš„å°ˆæ¡ˆæ‡‰ç”¨ç¨‹å¼ï¼Œå¯ä»¥éƒ¨ç½²åœ¨ Node.js çš„ä¼ºæœå™¨ä¸Šé¢ï¼Œä¹Ÿå¯ä»¥å°‡é æ¸²æŸ“çš„éœæ…‹ç¶²ç«™ç”±éœæ…‹è¨—ç®¡å¹³å°ä¾†æœå‹™ï¼Œæˆ–é€™éƒ¨ç½²è‡³ç„¡ä¼ºæœå™¨ (serverless) æˆ– CDN ç’°å¢ƒä¸Šã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨-nodejs-ä¼ºæœå™¨">ä½¿ç”¨ Node.js ä¼ºæœå™¨&lt;/h3>
&lt;p>Nuxt 3 çš„å°ˆæ¡ˆé è¨­ä½¿ç”¨ &lt;a class="link" href="https://nuxt.com/docs/guide/concepts/server-engine/" target="_blank" rel="noopener"
>Nitro&lt;/a> ä¾†ä½œç‚ºæœå‹™å¼•æ“ï¼Œæ‰€ä»¥æˆ‘å€‘åœ¨ä»»ä½• Node.js ä¼ºæœå™¨ç’°å¢ƒä¹‹ä¸‹ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥å•Ÿå‹• Nuxt å»ºç½®å‡ºä¾†çš„ Nitro Serverã€‚&lt;/p>
&lt;p>ç•¶æˆ‘å€‘ä½¿ç”¨ &lt;code>npm run build&lt;/code> å»ºæ§‹å°ˆæ¡ˆå¾Œï¼Œè¼¸å‡ºçš„ &lt;code>.output/server/index.mjs&lt;/code> æª”æ¡ˆï¼Œå³æ˜¯ä¸€å€‹æº–å‚™å•Ÿå‹• Node ä¼ºæœå™¨çš„å…¥å£é»ã€‚&lt;/p>
&lt;p>æˆ‘å€‘å¯ä»¥é€éä¸‹åˆ—æŒ‡ä»¤ä¾†å•Ÿå‹•æˆ‘å€‘å»ºæ§‹å¥½çš„å°ˆæ¡ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">node .output/server/index.mjs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸ·è¡Œå¾Œå¦‚ä¸‹é¢åœ–ç¤ºé¡¯ç¤ºï¼Œç¶²ç«™å°‡æ–¼ &lt;strong>Prot: 3000&lt;/strong> é€²è¡Œæœå‹™ç›£è½ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629762661_a3a806890c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ä½ å¯ä»¥è¨­å®šä¸‹åˆ—ç’°å¢ƒè®Šæ•¸ä¾†èª¿æ•´é è¨­ç›£è½çš„ &lt;strong>Port&lt;/strong> æˆ– &lt;strong>Host&lt;/strong>ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;strong>NITRO_PORT&lt;/strong> æˆ– &lt;strong>PORT&lt;/strong>ï¼šç›£è½çš„ Port (é è¨­ç‚º &lt;strong>3000&lt;/strong>)&lt;/li>
&lt;li>&lt;strong>NITRO_HOST&lt;/strong> æˆ– &lt;strong>HOST&lt;/strong>ï¼šæœå‹™çš„ Host (æ²’æœ‰é è¨­å€¼ï¼Œä½†é è¨­ç›£è½æ‰€æœ‰çš„ç¶²è·¯ä»‹é¢åŒ…å« IPv4 èˆ‡ IPv6 çš„ä½å€ )&lt;/li>
&lt;li>&lt;strong>NITRO_SSL_CERT&lt;/strong> èˆ‡ &lt;strong>NITRO_SSL_KEY&lt;/strong>ï¼šå¦‚æœå…©è€…çš†è¨­å®šï¼Œå°‡ä»¥ HTTPS æ¨¡å¼ä¸‹å•Ÿå‹•ä¼ºæœå™¨ï¼Œé€šå¸¸åƒ…ä½œç‚ºæ¸¬è©¦ç”¨é€”ï¼Œå› ç‚ºå»ºè­°å°‡ SSL æ†‘è­‰ç­‰è¨­å®šæ–¼æä¾›åå‘ä»£ç†çš„æœå‹™ï¼Œä¾‹å¦‚ NGINX æˆ– CloudFlareï¼ŒNitro ä¼ºæœå™¨å‰‡åŸ·è¡Œåœ¨åå‘ä»£ç†å¾Œé¢ã€‚&lt;/li>
&lt;/ul>
&lt;p>éƒ¨ç½²æ™‚ï¼Œä½ å¯ä»¥å°‡æ•´å€‹ &lt;code>.output&lt;/code> ä¸Šå‚³è‡³æ­£å¼ç’°å¢ƒçš„æ©Ÿå™¨ä¸Šï¼Œä¸¦ä½¿ç”¨ Node.js åšåŸ·è¡Œï¼Œä½†ç‚ºäº†é˜²æ­¢æˆ‘å€‘çš„æœå‹™å› ç‚ºç•°å¸¸ï¼Œå°è‡´ Node.js æœå‹™æ„å¤–å´©æ½°ï¼Œæˆ‘å€‘éœ€è¦ä¸€å€‹ &lt;strong>Process&lt;/strong> çš„ &lt;strong>Daemon&lt;/strong>ï¼Œä¾†å°‡æœå‹™å¸¸é§ï¼Œæ„å¤–å´©æ½°æ™‚èƒ½è‡ªå‹•é‡å•Ÿï¼Œä¾†ç¶­æŒæ•´å€‹ç¶²ç«™çš„æ­£å¸¸æœå‹™ã€‚&lt;/p>
&lt;p>é€šå¸¸æˆ‘å€‘æœƒåœ¨æ­£å¼ç’°å¢ƒä½¿ç”¨ &lt;a class="link" href="https://pm2.keymetrics.io/" target="_blank" rel="noopener"
>PM2&lt;/a> ä¾†ç®¡ç† Node.js çš„æœå‹™ï¼Œ&lt;a class="link" href="https://pm2.keymetrics.io/" target="_blank" rel="noopener"
>PM2&lt;/a> æ˜¯ç¶­æŒä¸€å€‹ Process åŸ·è¡Œçš„ç®¡ç†å™¨ï¼Œæˆ‘å€‘å¯ä»¥è—‰ç”± &lt;a class="link" href="https://pm2.keymetrics.io/" target="_blank" rel="noopener"
>PM2&lt;/a> ä¾†å•Ÿå‹•æˆ‘å€‘çš„ Nitro Serverï¼Œç•¶æœå‹™å´©æ½°æ™‚èƒ½è‡ªå‹•çš„é‡æ–°å•Ÿå‹•ï¼Œä»¥ç¶­æŒæœå‹™çš„æ­£å¸¸é‹ä½œï¼Œé™¤æ­¤ä¹‹å¤– &lt;a class="link" href="https://pm2.keymetrics.io/" target="_blank" rel="noopener"
>PM2&lt;/a> å¯ä»¥å•Ÿç”¨å¢é›† (Cluster) çš„åŠŸèƒ½çµåˆè«‹æ±‚çš„é™„è¼‰å¹³è¡¡ï¼Œä¾†è®“å¤šæ ¸å¿ƒçš„æ©Ÿå™¨æå‡è³‡æºçš„åˆ©ç”¨ç‡èˆ‡æ•ˆèƒ½ï¼Œæ›´é‚„æœ‰ç›£æ¸¬å¤šé …æ•¸æ“šç­‰åŠŸèƒ½å¯ä¾›æ­£å¼ç’°å¢ƒåšä½¿ç”¨ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨-pm2">ä½¿ç”¨ PM2&lt;/h3>
&lt;p>ä½¿ç”¨çš„æ–¹å¼ä¹Ÿå¾ˆç°¡å–®ï¼Œé¦–å…ˆä½¿ç”¨ NPM å®‰è£ &lt;a class="link" href="https://pm2.keymetrics.io/" target="_blank" rel="noopener"
>PM2&lt;/a>ï¼Œå¯ä»¥åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -g pm2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ Nuxt å°ˆæ¡ˆç›®éŒ„ä¸‹å»ºç«‹ &lt;code>ecosystem.config.js&lt;/code> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="ecosystemconfigjs">ecosystem.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apps&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;NuxtAppName&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">exec_mode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;cluster&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">instances&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;max&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">script&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;./.output/server/index.mjs&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘å°±èƒ½ä½¿ç”¨ &lt;a class="link" href="https://pm2.keymetrics.io/" target="_blank" rel="noopener"
>PM2&lt;/a> ä¾†åŸ·è¡Œæˆ‘å€‘çš„æœå‹™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pm2 start ecosystem.config.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630242508_e873a0929c_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ä½ ä¹Ÿå¯ä»¥åœ¨ &lt;code>ecosystem.config.js&lt;/code> ä¸­æ·»åŠ ç’°å¢ƒè®Šæ•¸ã€‚&lt;/p>
&lt;h5 id="ecosystemconfigjs-1">ecosystem.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apps&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;NuxtAppName&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">exec_mode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;cluster&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">instances&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;max&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">script&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;./.output/server/index.mjs&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">env&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">NITRO_PORT&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3001&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">NITRO_HOST&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;127.0.0.1&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è£½ä½œ-docker-image">è£½ä½œ Docker Image&lt;/h3>
&lt;p>ç›®å‰ä½¿ç”¨ Docker ä¾†éƒ¨ç½²æœå‹™çš„ä¹Ÿä¸åœ¨å°‘æ•¸ï¼Œå€‹äººä¹Ÿæ˜¯æ¡ç”¨å®¹å™¨åŒ–ä¾†å•Ÿå‹•ç¶²ç«™æœå‹™ä¸¦æ•´åˆ CI/CD è‡ªå‹•åŒ–çš„æµç¨‹ä¾†å»ºæ§‹èˆ‡éƒ¨ç½² Nuxt 3 å°ˆæ¡ˆï¼Œä»¥ä¸‹å°‡åˆ—å‡ºè‡ªå·±ä½¿ç”¨çš„ Dockerfileï¼Œæœ‰èˆˆè¶£çš„å¯ä»¥å†åƒè€ƒçœ‹çœ‹ã€‚&lt;/p>
&lt;p>å°ˆæ¡ˆç›®éŒ„ä¸‹å»ºç«‹ &lt;code>Dockerfile&lt;/code> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="dockerfile">Dockerfile&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span>&lt;span class="s"> node:16-alpine AS builder&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> mkdir -p /nuxt-app&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /nuxt-app&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> . .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> npm ci &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> npm cache clean --force&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> npm run build&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> keymetrics/pm2:16-alpine&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> mkdir -p /nuxt-app/.output&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /nuxt-app/.output&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> --from&lt;span class="o">=&lt;/span>builder /nuxt-app/.output .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> ./ecosystem.config.js /nuxt-app&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> &lt;span class="nv">NUXT_HOST&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>.0.0.0&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> &lt;span class="nv">NUXT_PORT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">3000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">EXPOSE&lt;/span>&lt;span class="s"> 3000 &lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENTRYPOINT&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;pm2-runtime&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;start&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;/nuxt-app/ecosystem.config.js&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ‰“é–‹çµ‚ç«¯æ©Ÿ (Terminal)ï¼Œä¸¦æ–¼å°ˆæ¡ˆç›®éŒ„ä¸‹åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker build -t nuxt-app .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶é–‹å§‹è£½ä½œ Docker Image æ™‚ï¼Œæœƒä¾ç…§ Dockerfile ä¾†å»ºç½®ï¼Œä¸»è¦åˆ†æˆå…©å€‹éƒ¨åˆ†ï¼Œé¦–å…ˆæˆ‘æœƒå…ˆåœ¨ &lt;code>node:16-alpine&lt;/code> å®¹å™¨ç’°å¢ƒä¸­åŸ·è¡Œå»ºæ§‹ (build) çš„æŒ‡ä»¤ï¼Œä¸¦å°‡éœ€è¦éƒ¨ç½²çš„ç›®éŒ„ &lt;code>.output&lt;/code> è¤‡è£½è‡³ &lt;code>keymetrics/pm2:16-alpine&lt;/code> å®¹å™¨ç’°å¢ƒä¸­ï¼Œé€™æ¨£æœ€çµ‚ä½¿ç”¨ PM2 åŸ·è¡Œæœå‹™çš„ Image å¤§å°å°±æœƒç¨å¾®å°ä¸€äº›ã€‚&lt;/p>
&lt;p>ç•¶ Docker Image è£½ä½œå®Œç•¢å¾Œï¼Œå¯ä»¥å†è—‰ç”± docker run æˆ– docker compose ç”šè‡³ k8s ä¾†å•Ÿå‹•æœå‹™å¾Œï¼Œå†ç”±å¦‚ NGINX æä¾›åå‘ä»£ç†æœå‹™é€£æ¥åˆ°å…§éƒ¨çš„ Nitro Serverã€‚&lt;/p>
&lt;h3 id="éƒ¨ç½²è‡³-cloudflare-workers">éƒ¨ç½²è‡³ CloudFlare Workers&lt;/h3>
&lt;p>æˆ‘å€‘ä¹Ÿå¯ä»¥å°‡ Nuxt éƒ¨ç½²åˆ°ç„¡ä¼ºæœå™¨ (Serverless) çš„ç’°å¢ƒï¼Œå®˜æ–¹æä¾›äº†å¤šç¨®çš„é è¨­éƒ¨ç½²å¯ä»¥åšä½¿ç”¨ï¼Œæˆ‘å€‘å°±ç°¡å–®ä»¥ä¸€å€‹ä¹¾æ·¨çš„ Nuxt 3 å°ˆæ¡ˆä¾†åšç¯„ä¾‹ï¼Œå˜—è©¦éƒ¨ç½²åˆ° &lt;a class="link" href="https://workers.cloudflare.com/" target="_blank" rel="noopener"
>CloudFlare Workers&lt;/a>ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘å…ˆæº–å‚™ä¸€å€‹ Nuxt 3 å°ˆæ¡ˆï¼Œåœ¨æ­¤æˆ‘ä½¿ç”¨ä¸‹åˆ—æŒ‡ä»¤å»ºç«‹ä¸€å€‹ä¹¾æ·¨çš„ Nuxt 3 å°ˆæ¡ˆï¼Œä¸¦é€²å…¥å°ˆæ¡ˆç›®éŒ„å®‰è£å¥—ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx nuxi init nuxt-app
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> nuxt-app
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ NPM å®‰è£ &lt;a class="link" href="https://www.npmjs.com/package/wrangler" target="_blank" rel="noopener"
>wrangler&lt;/a>ï¼Œå®ƒæ˜¯ç”¨æ–¼å»ºæ§‹ Cloudflare Workers çš„å‘½ä»¤åˆ—å·¥å…· (command line tool)ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -g wrangler
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½ å¯èƒ½éœ€è¦è¨»å†Šä¸€å€‹ CloudFlare çš„å¸³è™Ÿï¼Œä¸¦ä½¿ç”¨ä¸‹åˆ—æŒ‡ä»¤ä¾†ç™»å…¥ CloudFlare å¸³è™Ÿä¸¦æˆæ¬Š Wrangler ä¾†å»ºç«‹ CloudFlare Workersï¼Œæˆ‘å€‘é¸æ“‡å…è¨± (Allow) å³å¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wrangler login
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–¼å°ˆæ¡ˆç›®éŒ„ä¸‹å»ºç«‹ &lt;code>wrangler.toml&lt;/code> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="wranglertoml">wrangler.toml&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">name&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;nuxt-app-hello&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">main&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;./.output/server/index.mjs&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">workers_dev&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">compatibility_date&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;2022-10-15&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">site&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">bucket&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;.output/public&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°‡ &lt;code>NITRO_PRESET&lt;/code> ç’°å¢ƒè®Šæ•¸ï¼Œè¨­ç½®ç‚º &lt;code>cloudflare&lt;/code> ä¸¦é–‹å§‹å»ºæ§‹æˆ‘å€‘çš„å°ˆæ¡ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NITRO_PRESET&lt;/span>&lt;span class="o">=&lt;/span>cloudflare npm run build
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630011164_8598f2fb8a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æ¥ä¸‹ä¾†ï¼Œå¯ä»¥é¸æ“‡åŸ·è¡Œçµ‚ç«¯æ©Ÿæç¤ºçš„æŒ‡ä»¤ä¾†å•Ÿå‹•ä¼ºæœå™¨é€²è¡Œç›¸é—œæ¸¬è©¦ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx wrangler dev .output/server/index.mjs --site .output/public --local
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630011119_2100d3cd32_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç•¶ç¢ºèªå°ˆæ¡ˆæœå‹™é‹ä½œä¸Šæ²’å•é¡Œå¾Œï¼Œå¯ä»¥åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤é€²è¡Œç™¼å¸ƒã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx wrangler publish
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®Œæˆç™¼å¸ƒå¾Œï¼Œå°±æœƒæç¤ºæˆ‘å€‘ç™¼å¸ƒå®ŒæˆåŠæœå‹™çš„ç¶²å€ï¼Œä¾‹å¦‚ &lt;a class="link" href="https://nuxt-app-hello.ryanchien8125.workers.dev" target="_blank" rel="noopener"
>https://nuxt-app-hello.ryanchien8125.workers.dev&lt;/a>ï¼Œæˆ‘å€‘å°±å¯ä»¥ç€è¦½æˆ‘å€‘éƒ¨ç½²å¥½çš„ç¶²ç«™å›‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630011089_34c0659438_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="éœæ…‹çš„ç¶²ç«™éƒ¨ç½²è‡³-cloudflare-pages">éœæ…‹çš„ç¶²ç«™éƒ¨ç½²è‡³ CloudFlare Pages&lt;/h3>
&lt;p>æˆ‘å€‘ä½¿ç”¨ Nuxt 3 å¯ä»¥é æ¸²æŸ“å…¨éœæ…‹çš„ç¶²ç«™ï¼Œå› æ­¤ä¹Ÿå¯ä»¥å°‡å°ˆæ¡ˆéƒ¨ç½²è‡³éœæ…‹è¨—ç®¡å¹³å°ï¼Œä»¥ CloudFlare Pages ç‚ºä¾‹ï¼Œéƒ¨ç½²çš„æ­¥é©Ÿå¦‚ä¸‹ï¼š&lt;/p>
&lt;p>é¦–å…ˆï¼Œå…ˆåŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤é€²è¡Œå…¨ç«™çš„é æ¸²æŸ“ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run generate
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run generate&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ NPM å®‰è£ &lt;a class="link" href="https://www.npmjs.com/package/wrangler" target="_blank" rel="noopener"
>wrangler&lt;/a>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -g wrangler
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½ å¯èƒ½éœ€è¦è¨»å†Šä¸€å€‹ CloudFlare çš„å¸³è™Ÿï¼Œä¸¦ä½¿ç”¨ä¸‹åˆ—æŒ‡ä»¤ä¾†ç™»å…¥ CloudFlare å¸³è™Ÿä¸¦æˆæ¬Š Wranglerï¼Œæˆ‘å€‘é¸æ“‡å…è¨± (Allow) å³å¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wrangler login
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ä¸€å€‹ CloudFlare Pages åç‚º &lt;code>nuxt-app-blog&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wrangler pages project create nuxt-app-blog
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630242568_959e7a5907_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ä½¿ç”¨ä¸‹åˆ—æŒ‡ä»¤ï¼Œå°‡é æ¸²æŸ“çš„ç¶²ç«™ç›®éŒ„é€²è¡Œéƒ¨ç½²ï¼Œä¸¦æŒ‡å®šå°ˆæ¡ˆåç¨±ç‚º &lt;code>nuxt-app-blog&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wrangler pages publish ./.output/public --project-name nuxt-app-blog
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶éƒ¨ç½²å®Œæˆå¾Œï¼Œå°±æœƒå¾—åˆ°ä¸€å€‹é€£çµä¾†æŸ¥çœ‹éƒ¨ç½²çš„éœæ…‹ç¶²é ï¼Œä½ ä¹Ÿå¯ä»¥å¾ CloudFlare Pages å¾Œå°ï¼Œçœ‹è¦‹ç¶²ç«™ç¶²å€çš„åˆ¥å Aliases ä¾†ä½¿ç”¨è‡ªè¨‚çš„ç¶²å€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629762746_a0dc3bb113_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ä»¥ä¸Šæ˜¯ä»‹ç´¹ Nuxt 3 çš„å¹¾å€‹éƒ¨ç½²æ–¹å¼çš„ä¾‹å­ï¼Œæ›´å¤šé›²ç«¯å¹³å°ä¸Šé¢çš„éƒ¨ç½²ï¼Œä¹Ÿå¯ä»¥åƒè€ƒ &lt;a class="link" href="https://nuxt.com/docs/getting-started/deployment#deployment" target="_blank" rel="noopener"
>Nuxt&lt;/a> èˆ‡ &lt;a class="link" href="https://nitro.unjs.io/deploy/node" target="_blank" rel="noopener"
>Nitro&lt;/a> å®˜æ–¹æ–‡ä»¶ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä¸Šç·šå‰çš„æ¸¬è©¦é …ç›®">ä¸Šç·šå‰çš„æ¸¬è©¦é …ç›®&lt;/h2>
&lt;p>æœ€å¾Œèˆ‡å¤§å®¶åˆ†äº«ä¸€ä¸‹ç¶²ç«™å°ˆæ¡ˆä¸Šç·šå‰çš„å¹¾å€‹æˆ‘æœƒç‰¹åˆ¥æ³¨æ„çš„å¹¾å€‹å°ç´°ç¯€ï¼Œä¹Ÿæ­¡è¿å¤§å®¶ä¸€èµ·ä¾†äº¤æµã€‚&lt;/p>
&lt;h3 id="å‰ç«¯ç´°ç¯€">å‰ç«¯ç´°ç¯€&lt;/h3>
&lt;ul>
&lt;li>ç¶²é çš„æ¨™é¡Œ (Title)&lt;/li>
&lt;li>ä½¿ç”¨ä¹‹è³‡æºæˆæ¬Š (ä½¿ç”¨æ¬Šã€æ™ºè²¡æ¬Š)&lt;/li>
&lt;li>åœ–ç‰‡æ›¿ä»£æ–‡å­—&lt;/li>
&lt;li>Favicon&lt;/li>
&lt;li>HTML Meta data&lt;/li>
&lt;li>Google Analytics&lt;/li>
&lt;/ul>
&lt;h3 id="ç€è¦½å™¨ç›¸å®¹æ€§æ¸¬è©¦">ç€è¦½å™¨ç›¸å®¹æ€§æ¸¬è©¦&lt;/h3>
&lt;ul>
&lt;li>RWD&lt;/li>
&lt;li>è·¨ç€è¦½å™¨
&lt;ul>
&lt;li>BrowserStack&lt;/li>
&lt;li>Comparium&lt;/li>
&lt;li>TestingBot&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="api-æ¸¬è©¦">API æ¸¬è©¦&lt;/h3>
&lt;ul>
&lt;li>å–®å…ƒæ¸¬è©¦&lt;/li>
&lt;li>ä¸åŒå ´æ™¯æ¸¬è©¦ (æ¸¬è©¦ç’°å¢ƒã€æ­£å¼ç’°å¢ƒ)&lt;/li>
&lt;li>æ•ˆèƒ½æ¸¬è©¦
&lt;ul>
&lt;li>JMeter&lt;/li>
&lt;li>k6&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>å®‰å…¨æ€§æ¸¬è©¦&lt;/li>
&lt;/ul>
&lt;h3 id="å£“åŠ›æ¸¬è©¦">å£“åŠ›æ¸¬è©¦&lt;/h3>
&lt;ul>
&lt;li>æ¨¡æ“¬ä½¿ç”¨è€…æˆ–é€£ç·šæ•¸&lt;/li>
&lt;li>è§€å¯Ÿæ©Ÿå™¨è³‡æºä½¿ç”¨é‡&lt;/li>
&lt;li>è³‡æ–™åº«é€£ç·šæ•¸è§€å¯Ÿ&lt;/li>
&lt;li>æŒçºŒæé«˜æ¨¡æ“¬æ•¸é‡è§€å¯Ÿåˆ†æ&lt;/li>
&lt;li>åˆ†ææ¯å€‹è«‹æ±‚æ–¼ä½µç™¼çš„å¹³å‡éŸ¿æ‡‰æ™‚é–“&lt;/li>
&lt;li>æ˜¯å¦è«‹æ±‚ä¸­å¤¾é›œéé æœŸä¹‹ç‹€æ…‹ç¢¼ (HTTP Status Code)&lt;/li>
&lt;/ul>
&lt;h3 id="api-æˆ–ç¶²ç«™å®‰å…¨æ€§">API æˆ–ç¶²ç«™å®‰å…¨æ€§&lt;/h3>
&lt;ul>
&lt;li>åƒè€ƒ OWASP Top 10&lt;/li>
&lt;li>SQL åƒæ•¸åŒ–æŸ¥è©¢&lt;/li>
&lt;li>è³‡å®‰å…¬å¸æ»²é€æ¸¬è©¦ã€ç´…éšŠæ¼”ç·´&lt;/li>
&lt;/ul>
&lt;h3 id="é–‹ç™¼æˆ–é™¤éŒ¯ç”¨çš„è¨Šæ¯">é–‹ç™¼æˆ–é™¤éŒ¯ç”¨çš„è¨Šæ¯&lt;/h3>
&lt;ul>
&lt;li>è­¦å‘Šè¨Šæ¯æˆ–ç•°å¸¸è¨Šæ¯ç§»é™¤ï¼ˆconsole.log æˆ–è­¦å‘Šè¨Šæ¯ç­‰ï¼‰&lt;/li>
&lt;li>JavaScript Source Maps è¨˜å¾—ç§»é™¤&lt;/li>
&lt;li>æ•æ„Ÿè³‡è¨Šè¨˜å¾—ç§»é™¤ (é–‹ç™¼ç”¨ Keyã€å¸³è™Ÿå¯†ç¢¼ç­‰)&lt;/li>
&lt;/ul>
&lt;h3 id="ç¶²ç«™ç›¸ä¾æ€§æª¢æŸ¥">ç¶²ç«™ç›¸ä¾æ€§æª¢æŸ¥&lt;/h3>
&lt;ul>
&lt;li>ä½¿ç”¨åˆ°ç¬¬ä¸‰æ–¹ç¶²ç«™è³‡æºåŠç©©å®šæ€§&lt;/li>
&lt;li>æª¢æŸ¥æ‰€æœ‰ç¶²å€çš†èƒ½æ­£å¸¸é‹ä½œ&lt;/li>
&lt;li>ç•¶ç¬¬ä¸‰æ–¹ç¶²ç«™ç•°å¸¸æ™‚æ‡‰å°æªæ–½&lt;/li>
&lt;/ul>
&lt;h3 id="éƒ¨ç½²ç›¸é—œ">éƒ¨ç½²ç›¸é—œ&lt;/h3>
&lt;ul>
&lt;li>æ˜¯å¦æœ‰é«˜å¯ç”¨æ€§ (HA)&lt;/li>
&lt;li>Docker æˆ– Kubernetes æ•´åˆ&lt;/li>
&lt;li>ç¶²åŸŸæ™‚æ•ˆ&lt;/li>
&lt;li>SSL è­‰æ›¸æ—¥æœŸ&lt;/li>
&lt;li>é˜²ç«ç‰†æˆ– WAF è¨­å®š&lt;/li>
&lt;li>å…§ç¶²æˆ–å¤–ç¶²å€éš”&lt;/li>
&lt;/ul>
&lt;h3 id="å‚™ä»½æ©Ÿåˆ¶">å‚™ä»½æ©Ÿåˆ¶&lt;/h3>
&lt;ul>
&lt;li>éœæ…‹æœ‰ç‹€æ…‹è³‡æ–™ (ä½¿ç”¨è€…ä¸Šå‚³çš„)&lt;/li>
&lt;li>è³‡æ–™åº«è³‡æ–™&lt;/li>
&lt;/ul>
&lt;p>é€™é‚Šä¸»è¦èˆ‡å¤§å®¶åˆ†äº«å¹¾ç¨® Nuxt çš„éƒ¨ç½²æ–¹å¼ï¼Œä¸ç®¡æ˜¯éƒ¨ç½²åœ¨è‡ªå·±çš„æ©Ÿæˆ¿ä¸»æ©Ÿæˆ–é›²ç«¯ï¼Œå¤§å®¶å¯ä»¥åœ¨æŒ‘é¸åˆé©çš„è§£æ±ºæ–¹æ¡ˆï¼ŒNitro ä¹Ÿæ”¯æ´ç„¡ä¼ºæœå™¨ (Serverless) ç­‰éƒ¨ç½²æ–¹å¼éå¸¸çš„æ–¹ä¾¿ï¼Œåªæ˜¯è¦ç‰¹åˆ¥æ³¨æ„åˆ° Serverless åŸ·è¡Œä¸€äº› binary çš„å•é¡Œï¼Œå†æŒ‘é¸è‡ªå·±é©åˆçš„éƒ¨ç½²èˆ‡æœå‹™æ–¹å¼ã€‚&lt;/p>
&lt;p>ç¶“éæœ¬ç¯‡æ–‡ç« ï¼Œå¤§å®¶æ‡‰è©²éƒ½å°æ–¼ Nuxt 3 æœ‰åˆæ­¥çš„ç†è§£ï¼Œæ¥ä¸‹ä¾†ä¸‹ä¸€ç¯‡æ–‡ç« æˆ‘å€‘å°‡æœƒé€²å…¥å¯¦æˆ°ç·´ç¿’ï¼Œå°‡æœƒä»¥ Nuxt 3 ä¾†å¯¦ä½œä¸€å€‹éƒ¨è½æ ¼ç¶²ç«™ï¼&lt;/p>
&lt;hr></description></item><item><title>ã€VueUseã€‘ä¸€æ¬¾åŸºæ–¼ Vue Composition API çš„å‡½å¼å·¥å…·é›†</title><link>https://wayneblog.ga/2022-12-30/npm-vueuse/</link><pubDate>Fri, 30 Dec 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-12-30/npm-vueuse/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52595409644_aa1fd7bf45_o.png" alt="Featured image of post ã€VueUseã€‘ä¸€æ¬¾åŸºæ–¼ Vue Composition API çš„å‡½å¼å·¥å…·é›†" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://ithelp.ithome.com.tw/articles/10278366" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://juejin.cn/post/7030395303433863205" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="vueuse-æ˜¯ä»€éº¼">VueUse æ˜¯ä»€éº¼ï¼Ÿ&lt;/h2>
&lt;p>&lt;a class="link" href="https://vueuse.org/" target="_blank" rel="noopener"
>VueUse&lt;/a> ä½œè€…ç‚º Anthony Fuï¼Œæ˜¯ä¸€æ¬¾åŸºæ–¼ Vue çµ„åˆå¼ API (Composition API) çš„å‡½æ•¸å·¥å…·é›†ï¼Œå…¶ä¸­ &lt;a class="link" href="https://vueuse.org/" target="_blank" rel="noopener"
>VueUse&lt;/a> ä¸»è¦ç‰¹è‰²å¯ä»¥åˆ†ç‚ºä»¥ä¸‹å¹¾é»ï¼š&lt;/p>
&lt;ul>
&lt;li>Vue 2 å’Œ Vue 3 éƒ½æ”¯æ´&lt;/li>
&lt;li>æ¡å– Tree Shaking çµæ§‹ï¼Œåªæœƒæ‰“åŒ…å¼•å…¥çš„ç¨‹å¼ç¢¼&lt;/li>
&lt;li>æ”¯æŒå„ç¨®å¥—ä»¶&lt;/li>
&lt;li>å¯é…ç½®äº‹ä»¶éæ¿¾å™¨å’Œç›®æ¨™&lt;/li>
&lt;/ul>
&lt;p>ä»¥ä¸Šæ˜¯&lt;a class="link" href="https://vueuse.org/" target="_blank" rel="noopener"
>å®˜æ–¹ç¶²ç«™&lt;/a>é—œæ–¼å®ƒçš„å®šç¾©ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œå®ƒåŸºæ–¼ Vue Composition API (çµ„åˆå¼API)ï¼Œåªæœ‰åœ¨æ”¯æŒçµ„åˆå¼ API çš„ç’°å¢ƒä¸‹ï¼Œæ‰å¯ä»¥æ­£å¸¸ä½¿ç”¨å®ƒã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://cn.vuejs.org/guide/extras/composition-api-faq.html" target="_blank" rel="noopener"
>ä»€éº¼æ˜¯çµ„åˆå¼ APIï¼Ÿ&lt;/a>&lt;/p>
&lt;p>ç„¶å¾Œï¼Œå®ƒæ˜¯ä¸€æ¬¾å‡½æ•¸å·¥å…·é›†(å¯é¡æ¯”ç‚º &lt;a class="link" href="https://www.lodashjs.com/" target="_blank" rel="noopener"
>lodash.js&lt;/a> / &lt;a class="link" href="https://ramda.cn/" target="_blank" rel="noopener"
>ramda.js&lt;/a>)&lt;/p>
&lt;p>ç°¡å–®ä¾†èªªï¼Œé€™æ˜¯ä¸€å€‹èƒ½è®“ä½ &lt;strong>æ›´æ—©ä¸‹ç­&lt;/strong>çš„å·¥å…·åº«ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="vueuse-é–‹æºå—ç¾ç‹€å¦‚ä½•">VueUse é–‹æºå—ï¼Ÿç¾ç‹€å¦‚ä½•ï¼Ÿ&lt;/h2>
&lt;p>&lt;strong>ç•¶ç„¶é–‹æºï¼&lt;/strong> &lt;a class="link" href="https://github.com/vueuse/vueuse" target="_blank" rel="noopener"
>github/vueuse&lt;/a>&lt;/p>
&lt;p>ç¤¾å€æ´»èºåº¦ï¼šç¤¾å€éå¸¸æ´»èºï¼Œæˆªæ­¢ 2021 å¹´ 11 æœˆï¼Œä¸€ç›´æœ‰ mr è¢«åˆå…¥ä¸»ç·šã€‚&lt;/p>
&lt;p>è¢«å¼•ç”¨æƒ…æ³ï¼šæˆªæ­¢ 2021 å¹´ 11 æœˆ 13 æ—¥ï¼Œnpm ä¸Šå¯æŸ¥è©¢åˆ°ä¾è³´å®ƒçš„åº«å°±æœ‰ 172 å€‹ï¼Œå…¶ä¸­åŒ…æ‹¬è‘—åUIåº«ï¼š&lt;a class="link" href="https://element-plus.org/zh-CN/" target="_blank" rel="noopener"
>Element-Plus&lt;/a>&lt;/p>
&lt;p>Vue çš„è‘—åé–‹æºä½œè€… Evan You ä¹Ÿæ˜¯æ­¤åº«çš„é‡‘ç‰Œè´ŠåŠ©å•†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52595668748_bb0dc1189c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="å®‰è£-vueuse">å®‰è£ VueUse&lt;/h2>
&lt;p>NPM æˆ– YARNï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm i @vueuse/core
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yarn add @vueuse/core
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>CDN å¼•å…¥ï¼š&lt;/p>
&lt;blockquote>
&lt;p>é€™é‚Šæ³¨æ„ &lt;strong>shared ä¸€å®šè¦åœ¨å‰é¢&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://unpkg.com/@vueuse/shared&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://unpkg.com/@vueuse/core&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>æ³¨ï¼šVueUse å€ŸåŠ© vue-demi çš„å¼·å¤§åŠŸèƒ½ï¼Œå¯ä»¥åœ¨ä¸€å€‹åŒ…ä¸­åŒæ™‚é©ç”¨æ–¼ Vue 2ã€3ï¼&lt;/p>
&lt;/blockquote>
&lt;p>Vue 3 Demo&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/vueuse/vueuse-vite-starter" target="_blank" rel="noopener"
>ä½¿ç”¨ Vite&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/vueuse/vueuse-vue3-example" target="_blank" rel="noopener"
>ä½¿ç”¨ Webpack&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Vue 2 Demo (Vue CLI)&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/vueuse/vueuse-vue2-example" target="_blank" rel="noopener"
>ä½¿ç”¨ Vue CLI&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>å¦å¤–ï¼Œè¦æ³¨æ„åº«çš„ç‰ˆæœ¬ï¼š&lt;/p>
&lt;p>å¾ &lt;code>v6.0&lt;/code> ç‰ˆæœ¬èµ·ï¼Œvue3 éœ€è¦ &lt;code>vue &amp;gt;= v3.2&lt;/code>ï¼Œvue2 éœ€è¦ä¾è³´ &lt;a class="link" href="https://github.com/vuejs/composition-api" target="_blank" rel="noopener"
>@vue/composition-api&lt;/a>ï¼š&lt;code>@vue/composition &amp;gt;= v1.1&lt;/code>ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="vueuse-èƒ½åšä»€éº¼">VueUse èƒ½åšä»€éº¼ï¼Ÿ&lt;/h2>
&lt;p>èƒ½åšçš„é‚£å¯å¤ªå¤šäº†ï¼Œä½†ç¸½é«”ä¸Šåˆ†ç‚ºä»¥ä¸‹å¹¾å€‹é¡åˆ¥æä¾›å·¥å…·å‡½æ•¸ï¼š&lt;/p>
&lt;ul>
&lt;li>Animation å‹•ç•«&lt;/li>
&lt;li>Browser ç€è¦½å™¨&lt;/li>
&lt;li>Component çµ„ä»¶&lt;/li>
&lt;li>Formatters æ ¼å¼åŒ–&lt;/li>
&lt;li>Sensors å‚³æ„Ÿå™¨&lt;/li>
&lt;li>State ç‹€æ…‹æ©Ÿ&lt;/li>
&lt;li>Utility å¯¦ç”¨æ–¹æ³•&lt;/li>
&lt;li>Watch ç›£è½&lt;/li>
&lt;li>Misc å„å¼å„æ¨£çš„é›œé …&lt;/li>
&lt;/ul>
&lt;p>é€™éº¼åˆ—äº†ä¸€éï¼Œä¼°è¨ˆä½ é‚„æ˜¯å¾ˆæ‡µï¼Œä½†å› ç‚ºæ–¹æ³•å¯¦åœ¨å¤ªå¤šï¼Œä¹Ÿä¸å¯èƒ½ä¸€å€‹å€‹éƒ½åˆ—å‡ºä¾†ã€‚&lt;/p>
&lt;p>é‚£æˆ‘å°±èˆ‰å¹¾å€‹æœ‰ä»£è¡¨æ€§çš„ä¾‹å­ï¼Œå¸¶ä½ å¿«é€Ÿç†è§£é€™äº›æ–¹æ³•å¤§æ¦‚æ˜¯åšä»€éº¼çš„ï¼Œæœ‰ä»€éº¼ç‰¹é»ã€‚&lt;/p>
&lt;h3 id="ä¾‹å­ä¸€usemouse">ä¾‹å­(ä¸€)ï¼šuseMouse&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;app&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Mouse&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">}}&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="p">{{&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useMouse&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@vueuse/core&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useMouse&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ•ˆæœï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52595149366_78bc02b664_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>Wooooow~~~ é€™å¯å¤ªç°¡å–®æ˜“ç”¨äº†ï¼&lt;/p>
&lt;p>ç¶“éæºç¢¼é–±è®€ï¼Œæˆ‘å€‘å¯ä»¥ç™¼ç¾ï¼Œé€™çŸ­çŸ­çš„ä¸€å€‹æ–¹æ³•ï¼Œè‡³å°‘åšäº†ä»¥ä¸‹é€™äº›äº‹ï¼š&lt;/p>
&lt;ul>
&lt;li>å‰µå»ºäº† x å’Œ y é€™å…©å€‹éŸ¿æ‡‰å¼å°è±¡(Ref)&lt;/li>
&lt;li>çµ¦ window æ·»åŠ äº†é¼ æ¨™äº‹ä»¶ç›£è½ï¼Œå°‡é¼ æ¨™çš„åæ¨™å¯¦æ™‚è³¦çµ¦ xã€y (ä¸¦ä¸”é‚„åšäº†ç§»å‹•ç«¯å…¼å®¹)&lt;/li>
&lt;/ul>
&lt;p>å¦‚æœé€™äº›é‚è¼¯æ”¾åˆ°é é¢è£¡ï¼Œè‡³å°‘éœ€è¦ 6 è¡Œä»£ç¢¼ï¼Œé€™äº›ä»£ç¢¼å¾ŒæœŸéƒ½æœƒå¢åŠ ç¶­è­·äººå“¡ç†è§£é é¢çš„æˆæœ¬ï¼Œè€Œç¾åœ¨ï¼Œä½ åªéœ€è¦ä¸€è¡Œä»£ç¢¼ã€‚&lt;/p>
&lt;p>é™¤æ­¤ä¹‹å¤–ï¼Œè©²æ–¹æ³•é‚„æœ‰çµ„ä»¶å¼ç”¨æ³•ï¼Œé©åˆæ›´ç†±æ„›æ¨™ç±¤çš„ç›†å‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">UseMouse&lt;/span> &lt;span class="nt">v-slot&lt;/span>&lt;span class="s">=&amp;#34;{ x, y }&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">x&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{{&lt;/span> &lt;span class="na">x&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">y&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{{&lt;/span> &lt;span class="na">y&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">UseMouse&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä¾‹å­äºŒuseinterval">ä¾‹å­(äºŒ)ï¼šuseInterval&lt;/h3>
&lt;p>é¡§åæ€ç¾©ï¼Œé€™å€‹æ–¹æ³•æ˜¯å°&lt;strong>å»¶æ—¶é‡è¤‡èª¿ç”¨&lt;/strong>èƒ½åŠ›çš„å°è£ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useInterval&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;.&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">counter&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pause&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">resume&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useInterval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">200&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">controls&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// counter ä¸€å€‹ Ref å°è±¡ï¼Œå®ƒæ˜¯éŸ¿æ‡‰å¼çš„ï¼Œcounter.value ç­‰æ–¼å·²ç¶“è¨ˆç®—çš„æ¬¡æ•¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// pause() æš«åœ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// resume() æ¢å¾©
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;APP&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Interval&lt;/span> &lt;span class="nx">fired&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{{&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ•ˆæœï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52595409614_bbf967ebb4_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æ˜¯ä¸æ˜¯å¾ˆå¥½ç”¨ï¼Ÿç›¸æ¯”æ‰‹å¯« setInterval æ›´ç‚ºä¾¿æ·ã€‚&lt;/p>
&lt;p>å¦‚æœå¾’æ‰‹å¯¦ç¾é€™æ¨£ä¸€æ•´å¥—æ–¹æ³•ï¼Œå¤šå°‘è¡Œæš«ä¸”ä¸èªªï¼Œæˆ‘å€‘éœ€è¦åœ¨æ¥­å‹™ä¸­å¯«ä¸‹å¤§é‡çš„é‚è¼¯ä»£ç¢¼ã€‚&lt;/p>
&lt;p>è€Œçœ¾æ‰€å‘¨çŸ¥ï¼š&lt;/p>
&lt;p>å¯«çš„ä»£ç¢¼è¶Šå¤šï¼Œå‡º Bug çš„å¯èƒ½æ€§è¶Šå¤§ï¼Œç¶­è­·å’Œç†è§£çš„é›£åº¦å°±è¶Šé«˜ã€‚å¾é€™å€‹è§’åº¦çœ‹ï¼Œé€™å€‹åº«ç¢ºå¯¦æ˜¯ä¸€å€‹åˆæ ¼çš„å‡½æ•¸å·¥å…·é›†ã€‚&lt;/p>
&lt;h3 id="ä¾‹å­ä¸‰useclipboard">ä¾‹å­(ä¸‰)ï¼šuseClipboard&lt;/h3>
&lt;p>ä»¥è¤‡è£½æ–‡å­—ç‚ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useClipboard&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@vueuse/core&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// åªéœ€è¦å¼•å…¥æ‰€ä½¿ç”¨åˆ°çš„ API
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æˆ‘æ˜¯ Winnie&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">text&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// è¤‡è£½çš„å€¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">isSupported&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ç€è¦½å™¨æœ‰ç„¡æ”¯æ´
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">copy&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æ–¹æ³•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">copied&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useClipboard&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="nt">v-if&lt;/span>&lt;span class="s">=&amp;#34;isSupported&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">useClipboard&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">è¤‡è£½å…§å®¹&lt;/span>&lt;span class="err">ï¼š&lt;/span>&lt;span class="p">{{&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="nt">v-model&lt;/span>&lt;span class="s">=&amp;#34;input&amp;#34; /&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;a @click=&amp;#34;copy(input)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="na">copied&lt;/span> &lt;span class="err">?&lt;/span> &lt;span class="err">&amp;#34;å·²è¤‡è£½&amp;#34;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="err">&amp;#34;è¤‡è£½&amp;#34;&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="nt">v-else&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">Your&lt;/span> &lt;span class="na">browser&lt;/span> &lt;span class="na">does&lt;/span> &lt;span class="na">not&lt;/span> &lt;span class="na">support&lt;/span> &lt;span class="na">Clipboard&lt;/span> &lt;span class="na">API&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ•ˆæœï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52595409639_2ccc3500ea_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="ä¾‹å­å››usevmodel">ä¾‹å­(å››)ï¼šuseVModel&lt;/h3>
&lt;p>é€™æ˜¯ä¸€å€‹çµ¦&lt;strong>ç¶“å¸¸å°è£çµ„ä»¶&lt;/strong>çš„å°ä¼™ä¼´å€‘çš„å¤§å¥½åˆ©å™¨ã€‚&lt;/p>
&lt;p>å…ˆå‰µå»ºä¸€å€‹çµ„ä»¶ï¼š&lt;code>Test.vue&lt;/code>&lt;/p>
&lt;h5 id="testvue">Test.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">v&lt;/span>&lt;span class="nt">-model&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">_name&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">v&lt;/span>&lt;span class="nt">-model&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">_age&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">v&lt;/span>&lt;span class="nt">-model&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">_sex&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useVModel&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@vueuse/core&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">props&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineProps&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nb">String&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">emit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineEmits&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;update:name&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;update:age&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;update:sex&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useVModel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">emit&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">_age&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useVModel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;age&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">emit&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">_sex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useVModel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;sex&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">emit&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—ï¼Œåœ¨ index.vue ä¸­ä½¿ç”¨å®ƒ&lt;/p>
&lt;h5 id="indexvue">index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">v&lt;/span>&lt;span class="nt">-model:name&lt;/span>&lt;span class="s">=&amp;#34;formData.name&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">v&lt;/span>&lt;span class="nt">-model:age&lt;/span>&lt;span class="s">=&amp;#34;formData.age&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">v&lt;/span>&lt;span class="nt">-model:sex&lt;/span>&lt;span class="s">=&amp;#34;formData.sex&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">Test&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">formData&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">reactive&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-demi&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Test&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./Test.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">formData&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">reactive&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;lily&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;8&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sex&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;boy&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ•ˆæœï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52594662992_38c1bfd956_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å°æ–¼æœ‰çµ„ä»¶å°è£éœ€æ±‚çš„æœ‹å‹ï¼Œé€™å€‹æ–¹æ³•å¼·çƒˆæ¨è–¦ï¼&lt;/p>
&lt;p>ä¸ç”¨å†ç‚ºäº†å–®å‘æ•¸æ“šæµçš„çµ„ä»¶å°è£ï¼Œè€Œåœ¨çµ„ä»¶å…§å¯«å†—é¤˜çš„ä»£ç¢¼äº†ã€‚&lt;/p>
&lt;p>ç›´æ¥å°‡ &lt;code>useVModel&lt;/code> è¿”å›çš„æ•¸æ“šä½œç‚ºéŸ¿æ‡‰å¼å°è±¡ç”¨å³å¯ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æœ€å¾Œ">æœ€å¾Œ&lt;/h2>
&lt;p>ä¾‹å­å¤ªå¤šï¼Œå°±ä¸å†ä¸€ä¸€ä»‹ç´¹äº†ï¼Œä½†å¤§å®¶æ‡‰è©²å·²ç¶“æœ‰äº†ä¸€å€‹åˆæ­¥çš„æ¦‚å¿µï¼ŒçŸ¥é“äº†æ­¤åº«çš„ä½œç”¨ï¼Œä¸€è¨€ä»¥è”½ä¹‹ï¼š&lt;strong>åŠ©åŠ›æ‘¸é±¼ï¼Œæå‰ä¸‹ç­&lt;/strong>ã€‚&lt;/p>
&lt;p>å®ƒæ²’è¾¦æ³•åšåˆ°ä½ ä¹‹å‰åšä¸åˆ°çš„äº‹æƒ…ã€‚&lt;/p>
&lt;p>å®ƒåªèƒ½åšåˆ°è®“ä½ æ›´è¼•é¬†çš„å®Œæˆå·¥ä½œï¼é¡˜ä½ ä»Šå¤©ä¹Ÿèƒ½æŒ‰æ™‚ä¸‹ç­ã€‚&lt;/p>
&lt;hr></description></item><item><title>æ·ºè«‡ç‚ºä»€éº¼ Vue å’Œ React éƒ½é¸æ“‡äº† Hooksï¼Ÿ</title><link>https://wayneblog.ga/2022-12-30/why-use-hooks/</link><pubDate>Fri, 30 Dec 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-12-30/why-use-hooks/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52595598278_3dc955c418_o.png" alt="Featured image of post æ·ºè«‡ç‚ºä»€éº¼ Vue å’Œ React éƒ½é¸æ“‡äº† Hooksï¼Ÿ" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://juejin.cn/post/7066951709678895141" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="ä¸€hooksä»€éº¼å«å¤§å‹¢æ‰€è¶¨">ä¸€ã€hooksï¼šä»€éº¼å«å¤§å‹¢æ‰€è¶¨ï¼Ÿ&lt;/h2>
&lt;p>2019å¹´å¹´åˆï¼Œ&lt;code>react&lt;/code> åœ¨ &lt;code>16.8.x&lt;/code> ç‰ˆæœ¬æ­£å¼å…·å‚™äº† &lt;code>hooks&lt;/code> èƒ½åŠ›ã€‚&lt;/p>
&lt;p>2019å¹´6æœˆï¼Œå°¤é›¨æºªåœ¨ &lt;a class="link" href="https://github.com/vuejs/rfcs/pull/42" target="_blank" rel="noopener"
>vue/github-issues&lt;/a> è£¡æå‡ºäº†é—œæ–¼ &lt;code>vue3 Composition API&lt;/code> çš„ææ¡ˆã€‚(vue hooksçš„åŸºç¤)&lt;/p>
&lt;p>åœ¨å¾ŒçºŒçš„ &lt;code>react&lt;/code> å’Œ &lt;code>vue3&lt;/code> ç›¸é—œç‰ˆæœ¬ä¸­ï¼Œç›¸é—œ &lt;code>hooks&lt;/code> èƒ½åŠ›éƒ½é–‹å§‹è¢«æ›´å¤šäººæ‰€æ¥å—ã€‚&lt;/p>
&lt;p>é™¤æ­¤ä¹‹å¤–ï¼Œ&lt;code>solid.js&lt;/code>ã€&lt;code>preact&lt;/code> ç­‰æ¡†æ¶ï¼Œä¹Ÿæ˜¯é–‹å§‹é¸æ“‡åŠ å…¥ &lt;code>hooks&lt;/code> å¤§å®¶åº­ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52595337539_162e880f36_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å¯ä»¥é è¦‹ï¼Œé›–ç„¶ç›®å‰ä»ç„¶æ˜¯ class Component å’Œ hooks api ä¸¦é§•é½Šé©…çš„å ´é¢ï¼Œä½†æœªä¾†å¹¾å¹´è£¡ï¼Œhooks æ¥µæœ‰å¯èƒ½å–ä»£ class Component æˆç‚ºæ¥­å…§çœŸæ­£çš„ä¸»æµã€‚&lt;/p>
&lt;hr>
&lt;h2 id="äºŒä»€éº¼æ˜¯-hooks">äºŒã€ä»€éº¼æ˜¯ hooksï¼Ÿ&lt;/h2>
&lt;h3 id="hooks-çš„å®šç¾©">hooks çš„å®šç¾©&lt;/h3>
&lt;p>hooks ç›´è­¯æ˜¯&lt;code>&amp;quot;é‰¤å­&amp;quot;&lt;/code>ï¼Œå®ƒä¸¦ä¸åƒ…æ˜¯ &lt;code>react&lt;/code>ï¼Œç”šè‡³ä¸åƒ…æ˜¯å‰ç«¯ç•Œçš„å°ˆç”¨è¡“èªï¼Œè€Œæ˜¯æ•´å€‹è¡Œæ¥­æ‰€ç†ŸçŸ¥çš„ç”¨èªã€‚&lt;/p>
&lt;p>é€šå¸¸æŒ‡ï¼š&lt;/p>
&lt;blockquote>
&lt;p>ç³»çµ±é‹è¡Œåˆ°æŸä¸€æ™‚æœŸæ™‚ï¼Œæœƒèª¿ç”¨è¢«è¨»å†Šåˆ°è©²æ™‚æ©Ÿçš„å›èª¿å‡½æ•¸ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æ¯”è¼ƒå¸¸è¦‹çš„é‰¤å­æœ‰ï¼š&lt;code>windows&lt;/code> ç³»çµ±çš„é‰¤å­èƒ½ç›£è½åˆ°ç³»çµ±çš„å„ç¨®äº‹ä»¶ï¼Œç€è¦½å™¨æä¾›çš„ &lt;code>onload&lt;/code> æˆ– &lt;code>addEventListener&lt;/code> èƒ½è¨»å†Šåœ¨ç€è¦½å™¨å„ç¨®æ™‚æ©Ÿè¢«èª¿ç”¨çš„æ–¹æ³•ã€‚&lt;/p>
&lt;p>ä»¥ä¸Šé€™äº›ï¼Œéƒ½å¯ä»¥è¢«ç¨±ä¸€è² &lt;code>hook&lt;/code>ã€‚&lt;/p>
&lt;p>ä½†æ˜¯å¾ˆé¡¯ç„¶ï¼Œåœ¨ç‰¹å®šé ˜åŸŸçš„ç‰¹å®šè©±é¡Œä¸‹ï¼Œ&lt;code>hooks&lt;/code> é€™å€‹è©è¢«è³¦äºˆäº†ä¸€äº›ç‰¹æ®Šçš„å«ç¾©ã€‚&lt;/p>
&lt;p>åœ¨ &lt;code>react@16.x&lt;/code> ä¹‹å‰ï¼Œç•¶æˆ‘å€‘è«‡è«– &lt;code>hooks&lt;/code> æ™‚ï¼Œæˆ‘å€‘å¯èƒ½è«‡è«–çš„æ˜¯&amp;quot;çµ„ä»¶çš„ç”Ÿå‘½é€±æœŸ&amp;quot;ã€‚&lt;/p>
&lt;p>ä½†æ˜¯ç¾åœ¨ï¼Œ&lt;code>hooks&lt;/code> å‰‡æœ‰äº†å…¨æ–°çš„å«ç¾©ã€‚&lt;/p>
&lt;p>ä»¥ &lt;code>react&lt;/code> ç‚ºä¾‹ï¼Œ&lt;code>hooks&lt;/code> æ˜¯ï¼š&lt;/p>
&lt;blockquote>
&lt;p>ä¸€ç³»åˆ—ä»¥ &amp;ldquo;use&amp;rdquo; ä½œç‚ºé–‹é ­çš„æ–¹æ³•ï¼Œå®ƒå€‘æä¾›äº†è®“ä½ å¯ä»¥å®Œå…¨é¿é–‹ class å¼å¯«æ³•ï¼Œåœ¨å‡½æ•¸å¼çµ„ä»¶ä¸­å®Œæˆç”Ÿå‘½é€±æœŸã€ç‹€æ…‹ç®¡ç†ã€é‚è¼¯è¤‡ç”¨ç­‰å¹¾ä¹å…¨éƒ¨çµ„ä»¶é–‹ç™¼å·¥ä½œçš„èƒ½åŠ›ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ç°¡åŒ–ä¸€ä¸‹ï¼š&lt;/p>
&lt;blockquote>
&lt;p>ä¸€ç³»åˆ—æ–¹æ³•ï¼Œæä¾›äº†åœ¨&lt;strong>å‡½æ•¸å¼çµ„ä»¶&lt;/strong>ä¸­å®Œæˆé–‹ç™¼å·¥ä½œçš„èƒ½åŠ›ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>(è¨˜ä½é€™å€‹é—œéµè©ï¼š&lt;code>å‡½æ•¸å¼çµ„ä»¶&lt;/code>)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">useEffect&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">useCallback&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;react&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ¯”å¦‚ä»¥ä¸Šé€™å¹¾å€‹æ–¹æ³•ï¼Œå°±æ˜¯æœ€ç‚ºå…¸å‹çš„ Hooks
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œåœ¨ &lt;code>vue&lt;/code> ä¸­ï¼Œ&lt;code>hooks&lt;/code> çš„å®šç¾©å¯èƒ½æ›´æ¨¡ç³Šï¼Œå§‘ä¸”ç¸½çµä¸€ä¸‹ï¼š&lt;/p>
&lt;blockquote>
&lt;p>åœ¨ &lt;code>vue&lt;/code> çµ„åˆå¼ API è£¡ï¼Œä»¥ &amp;ldquo;use&amp;rdquo; ä½œç‚ºé–‹é ­çš„ï¼Œä¸€ç³»åˆ—æä¾›äº†&lt;strong>çµ„ä»¶è¤‡ç”¨&lt;/strong>ã€&lt;strong>ç‹€æ…‹ç®¡ç†&lt;/strong>&amp;hellip;ç­‰é–‹ç™¼èƒ½åŠ›çš„æ–¹æ³•ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>(é—œéµè©ï¼š&lt;code>çµ„åˆå¼API&lt;/code>)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useSlots&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">useAttrs&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useRouter&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-router&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä»¥ä¸Šé€™äº›æ–¹æ³•ï¼Œä¹Ÿæ˜¯ vue3 ä¸­ç›¸é—œçš„ Hookï¼
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚ï¼š&lt;code>useSlots&lt;/code>ã€&lt;code>useAttrs&lt;/code>ã€&lt;code>useRouter&lt;/code> ç­‰ã€‚&lt;/p>
&lt;p>ä½†ä¸»è§€ä¾†èªªï¼Œæˆ‘èªç‚º vue çµ„åˆå¼ API å…¶æœ¬èº«å°±æ˜¯ &amp;ldquo;vue hooks&amp;rdquo; çš„é—œéµä¸€ç’°ï¼Œèµ·åˆ°äº† &lt;code>react hooks&lt;/code> è£¡å°&lt;strong>ç”Ÿå‘½é€±æœŸ&lt;/strong>ã€&lt;strong>ç‹€æ…‹ç®¡ç†&lt;/strong>çš„æ ¸å¿ƒä½œç”¨ã€‚(å¦‚ &lt;code>onMounted&lt;/code>ã€&lt;code>ref&lt;/code> ç­‰ç­‰)ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52594591157_e812d218e1_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å¦‚æœæŒ‰é€™å€‹æ¨™æº–ä¾†çœ‹çš„è©±ï¼Œ&lt;code>vue&lt;/code> å’Œ &lt;code>react&lt;/code> ä¸­ &lt;code>hooks&lt;/code> çš„å®šç¾©ï¼Œä¼¼ä¹éƒ½å·®ä¸å¤šã€‚&lt;/p>
&lt;p>é‚£éº¼ç‚ºä»€éº¼è¦æåˆ°æ˜¯ä»¥ &lt;code>&amp;quot;use&amp;quot;&lt;/code> ä½œç‚ºé–‹é ­çš„æ–¹æ³•å‘¢ï¼Ÿ&lt;/p>
&lt;h3 id="å‘½åè¦ç¯„å’ŒæŒ‡å°æ€æƒ³">å‘½åè¦ç¯„å’ŒæŒ‡å°æ€æƒ³&lt;/h3>
&lt;p>é€šå¸¸ä¾†èªªï¼Œ&lt;code>hooks&lt;/code> çš„å‘½åéƒ½æ˜¯ä»¥ &lt;code>use&lt;/code> ä½œç‚ºé–‹é ­ï¼Œé€™å€‹è¦ç¯„ä¹ŸåŒ…æ‹¬äº†é‚£éº¼æˆ‘å€‘è‡ªå®šç¾©çš„ &lt;code>hooks&lt;/code>ã€‚&lt;/p>
&lt;p>ç‚ºä»€éº¼ï¼Ÿ&lt;/p>
&lt;p>åœ¨ &lt;code>react&lt;/code> &lt;a class="link" href="https://zh-hant.reactjs.org/docs/hooks-intro.html" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æª”&lt;/a>è£¡ï¼Œå° hooks çš„å®šç¾©å’Œä½¿ç”¨æå‡ºäº† &lt;span class="focus">ä¸€å€‹å‡è¨­ã€å…©å€‹åªåœ¨&lt;/span> æ ¸å¿ƒæŒ‡å°æ€æƒ³ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52595337519_42d965b186_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;span class="focus">ä¸€å€‹å‡è¨­&lt;/span>ï¼šå‡è¨­ä»»ä½•ä»¥ã€Œ&lt;code>use&lt;/code>ã€ é–‹é ­ä¸¦ç·Šè·Ÿè‘—ä¸€å€‹å¤§å¯«å­—æ¯çš„å‡½æ•¸å°±æ˜¯ä¸€å€‹ &lt;code>Hook&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;span class="focus">ç¬¬ä¸€å€‹åªåœ¨&lt;/span>ï¼šåªåœ¨ &lt;code>React&lt;/code> å‡½æ•¸çµ„ä»¶ä¸­èª¿ç”¨ &lt;code>Hook&lt;/code>ï¼Œè€Œä¸åœ¨æ™®é€šå‡½æ•¸ä¸­èª¿ç”¨ &lt;code>Hook&lt;/code>ã€‚(&lt;code>Eslint&lt;/code> é€šéåˆ¤æ–·ä¸€å€‹æ–¹æ³•æ˜¯ä¸æ˜¯å¤§å¨å³°å‘½åä¾†åˆ¤æ–·å®ƒæ˜¯å¦æ˜¯ &lt;code>React&lt;/code> å‡½æ•¸)&lt;/p>
&lt;p>&lt;span class="focus">ç¬¬äºŒå€‹åªåœ¨&lt;/span>ï¼šåªåœ¨æœ€é ‚å±¤ä½¿ç”¨ &lt;code>Hook&lt;/code>ï¼Œè€Œä¸è¦åœ¨å¾ªç’°ã€æ¢ä»¶æˆ–åµŒå¥—å‡½æ•¸ä¸­èª¿ç”¨ &lt;code>Hook&lt;/code>ã€‚&lt;/p>
&lt;p>å› ç‚ºç´„å®šçš„åŠ›é‡åœ¨æ–¼ï¼šæˆ‘å€‘ä¸ç”¨ç´°çœ‹å¯¦ç¾ï¼Œä¹Ÿèƒ½é€šéå‘½åä¾†äº†è§£ä¸€å€‹å®ƒæ˜¯ä»€éº¼ã€‚&lt;/p>
&lt;p>ä»¥ä¸Š &lt;span class="focus">ä¸€å€‹å‡è¨­ã€å…©å€‹åªåœ¨&lt;/span> ç¸½çµè‡ª react å®˜ç¶²ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://zh-hant.reactjs.org/docs/hooks-rules.html" target="_blank" rel="noopener"
>Hook çš„è¦å‰‡&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://zh-hant.reactjs.org/docs/hooks-faq.html#what-exactly-do-the-lint-rules-enforce" target="_blank" rel="noopener"
>Lint è¦å‰‡ç©¶ç«Ÿå¼·åˆ¶äº†äº›ä»€éº¼ï¼Ÿ&lt;/a>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="ä¸‰ç‚ºä»€éº¼æˆ‘å€‘éœ€è¦-hooks">ä¸‰ã€ç‚ºä»€éº¼æˆ‘å€‘éœ€è¦ hooksï¼Ÿ&lt;/h2>
&lt;h3 id="æ›´å¥½çš„ç‹€æ…‹è¤‡ç”¨">æ›´å¥½çš„ç‹€æ…‹è¤‡ç”¨&lt;/h3>
&lt;blockquote>
&lt;p>é‡å°çš„å°±æ˜¯ä½ ï¼Œmixinï¼&lt;/p>
&lt;/blockquote>
&lt;p>åœ¨ &lt;code>class&lt;/code> çµ„ä»¶æ¨¡å¼ä¸‹ï¼Œç‹€æ…‹é‚è¼¯çš„è¤‡ç”¨æ˜¯ä¸€ä»¶å›°é›£çš„äº‹æƒ…ã€‚&lt;/p>
&lt;p>å‡è¨­æœ‰å¦‚ä¸‹éœ€æ±‚ï¼š&lt;/p>
&lt;blockquote>
&lt;p>ç•¶çµ„ä»¶å¯¦ä¾‹å‰µå»ºæ™‚ï¼Œéœ€è¦å‰µå»ºä¸€å€‹ &lt;code>state&lt;/code> å±¬æ€§ï¼š&lt;code>name&lt;/code>ï¼Œä¸¦éš¨æ©Ÿçµ¦æ­¤ &lt;code>name&lt;/code> å±¬æ€§é™„ä¸€å€‹åˆå§‹å€¼ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œé‚„å¾—æä¾›ä¸€å€‹ &lt;code>setName&lt;/code> æ–¹æ³•ã€‚ä½ å¯ä»¥åœ¨çµ„ä»¶å…¶ä»–åœ°æ–¹å–å¾—å’Œä¿®æ”¹æ­¤ç‹€æ…‹å±¬æ€§ã€‚&lt;br>
æ›´é‡è¦çš„æ˜¯ï¼šé€™å€‹é‚è¼¯è¦å¯ä»¥è¤‡ç”¨ï¼Œåœ¨å„ç¨®æ¥­å‹™çµ„ä»¶è£¡è¤‡ç”¨é€™å€‹é‚è¼¯ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>åœ¨æ“æœ‰ &lt;code>Hooks&lt;/code> ä¹‹å‰ï¼Œæˆ‘é¦–å…ˆæœƒæƒ³åˆ°çš„è§£æ±ºæ–¹æ¡ˆä¸€å®šæ˜¯ &lt;code>mixin&lt;/code>ã€‚&lt;/p>
&lt;p>ä»£ç¢¼å¦‚ä¸‹ï¼š(æ­¤ç¤ºä¾‹æ¡ç”¨ vue2 mixin å¯«æ³•)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ··å…¥æ–‡ä»¶ï¼šname-mixin.js
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">genRandomName&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// å‡è£å®ƒèƒ½ç”Ÿæˆéš¨æ©Ÿçš„åå­—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">ç»„ä»¶&lt;/span>&lt;span class="err">ï¼š&lt;/span>&lt;span class="nx">my&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vue&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">nameMixin&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./name-mixin&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mixins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">nameMixin&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é€šé mixinsï¼Œä½ å¯ä»¥ç›´æ¥ç²å¾— nameMixin ä¸­æ‰€å®šç¾©çš„ç‹€æ…‹ã€æ–¹æ³•ã€ç”Ÿå‘½å‘¨æœŸä¸­çš„äº‹ä»¶...ç­‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">mounted&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Tom&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="mi">3000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç²—ç•¥çœ‹ä¾†ï¼Œ&lt;code>mixins&lt;/code> ä¼¼ä¹æä¾›äº†éå¸¸ä¸éŒ¯çš„è¤‡ç”¨èƒ½åŠ›ï¼Œä½†æ˜¯ï¼Œreact å®˜æ–¹æ–‡æª”ç›´æ¥è¡¨æ˜ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52595501320_19a324aa37_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç‚ºä»€éº¼å‘¢ï¼Ÿ&lt;/p>
&lt;p>å› ç‚º &lt;code>mixins&lt;/code> é›–ç„¶æä¾›äº†é€™ç¨®ç‹€æ…‹è¤‡ç”¨çš„èƒ½åŠ›ï¼Œä½†å®ƒçš„å¼Šç«¯å¯¦åœ¨å¤ªå¤šäº†ã€‚&lt;/p>
&lt;h4 id="å¼Šç«¯ä¸€é›£ä»¥è¿½æº¯çš„æ–¹æ³•èˆ‡å±¬æ€§">å¼Šç«¯ä¸€ï¼šé›£ä»¥è¿½æº¯çš„æ–¹æ³•èˆ‡å±¬æ€§ï¼&lt;/h4>
&lt;p>è©¦æƒ³ä¸€ä¸‹ï¼Œå¦‚æœå‡ºç¾é€™ç¨®ä»£ç¢¼ï¼Œä½ æ˜¯å¦æœƒæ‡·ç–‘äººç”Ÿï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mixins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">g&lt;/span> &lt;span class="p">],&lt;/span> &lt;span class="c1">// ç•¶ç„¶ï¼Œé€™åªæ˜¯è¡¨ç¤ºå®ƒæ··å…¥äº†å¾ˆå¤šèƒ½åŠ›
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">mounted&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å—¯...é€™å€‹ this.name ä¾†è‡ªæ–¼èª°ï¼Ÿæˆ‘é›£é“è¦ä¸€å€‹å€‹æ··å…¥çœ‹å¯¦ç¾ï¼Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆæˆ–è€…ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">js&lt;/span> &lt;span class="nx">mixins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">js&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">js&lt;/span> &lt;span class="nx">mixins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">js&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">c&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">js&lt;/span> &lt;span class="nx">mixins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">js&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä½ çŒœçŒœçœ‹ï¼Œthis.name ä¾†è‡ªæ–¼èª°ï¼Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ±‚æ±‚ä½ åˆ«å†èªªäº†ï¼Œæˆ‘è¡€å£“å·²ç»ä¸Šæ¥äº†
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="å¼Šç«¯äºŒè¦†è“‹åŒåè²´åœˆçœŸäº‚">å¼Šç«¯äºŒï¼šè¦†è“‹ã€åŒåï¼Ÿè²´åœˆçœŸäº‚ï¼&lt;/h4>
&lt;p>ç•¶æˆ‘åŒæ™‚æƒ³æ··å…¥ &lt;code>mixin-a.js&lt;/code> å’Œ &lt;code>mixin-b.js&lt;/code> ä»¥åŒæ™‚ç²å¾—å®ƒå€‘èƒ½åŠ›çš„æ™‚å€™ï¼Œä¸å¹¸çš„äº‹æƒ…ç™¼ç”Ÿäº†ï¼š&lt;/p>
&lt;p>ç”±æ–¼é€™å…©å€‹ &lt;code>mixin&lt;/code> åŠŸèƒ½çš„é–‹ç™¼è€…æƒºæƒºç›¸æƒœï¼Œå®ƒå€‘éƒ½å®šç¾©äº† &lt;code>this.name&lt;/code> ä½œç‚ºå±¬æ€§ã€‚&lt;/p>
&lt;p>é€™ç¨®æ™‚å€™ï¼Œä½ æœƒæ·±æ·±æ‡·ç–‘ï¼Œ&lt;code>mixins&lt;/code> ç©¶ç«Ÿæ˜¯ä¸æ˜¯ä¸€ç¨®ç§‘å­¸çš„è¤‡ç”¨æ–¹å¼ã€‚&lt;/p>
&lt;h4 id="å¼Šç«¯ä¸‰æ¢…é–‹äºŒåº¦ä»£åƒ¹å¾ˆå¤§">å¼Šç«¯ä¸‰ï¼šæ¢…é–‹äºŒåº¦ï¼Ÿä»£åƒ¹å¾ˆå¤§ï¼&lt;/h4>
&lt;p>ä»ç„¶èªªä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æœæˆ‘çš„éœ€æ±‚ç™¼ç”Ÿäº†æ”¹è®Šï¼Œæˆ‘éœ€è¦çš„ä¸å†æ˜¯ä¸€å€‹ç°¡å–®çš„ç‹€æ…‹ &lt;code>name&lt;/code>ï¼Œè€Œæ˜¯åˆ†åˆ¥éœ€è¦ &lt;code>firstName&lt;/code> å’Œ &lt;code>lastName&lt;/code>ã€‚&lt;/p>
&lt;p>æ­¤æ™‚ &lt;code>name-mixin.js&lt;/code> æ··å…¥çš„èƒ½åŠ›å°±æœƒéå¸¸å°·å°¬ï¼Œå› ç‚ºæˆ‘ç„¡æ³•å…©æ¬¡ &lt;code>mixins&lt;/code> åŒä¸€å€‹æ–‡ä»¶ã€‚&lt;/p>
&lt;p>ç•¶ç„¶ï¼Œä¹Ÿæ˜¯æœ‰è§£æ±ºæ–¹æ¡ˆçš„ï¼Œå¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å‹•æ…‹ç”Ÿæˆ mixin
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">genNameMixin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">key&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">funcKey&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="nx">key&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">genRandomName&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="nx">funcKey&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.[&lt;/span>&lt;span class="nx">key&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">v&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mixins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">genNameMixin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;firstName&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;setFirstName&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">genNameMixin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;lastName&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;setLastName&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¢ºå¯¦é€šéå‹•æ…‹ç”Ÿæˆ &lt;code>mixin&lt;/code> å®Œæˆäº†èƒ½åŠ›çš„è¤‡ç”¨ï¼Œä½†é€™æ¨£ä¸€ä¾†ï¼Œç„¡ç–‘æ›´åŠ åœ°å¢å¤§äº†ç¨‹åºçš„è¤‡é›œæ€§ï¼Œé™ä½äº†å¯è®€æ€§ã€‚&lt;/p>
&lt;p>å› æ­¤ä¸€ç¨®æ–°çš„&lt;strong>ç‹€æ…‹é‚è¼¯è¤‡ç”¨&lt;/strong>ï¼Œå°±è®Šå¾—æ¥µç‚ºè¿«åˆ‡äº†â€”â€”â€”â€”â€”â€”å®ƒå°±æ˜¯ &lt;code>Hooks&lt;/code>ï¼&lt;/p>
&lt;h4 id="hook-çš„ç‹€æ…‹è¤‡ç”¨å¯«æ³•">Hook çš„ç‹€æ…‹è¤‡ç”¨å¯«æ³•ï¼š&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å–®å€‹ name çš„å¯«æ³•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setName&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useName&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ¢…é–‹äºŒåº¦çš„å¯«æ³•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">firstName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">setFirstName&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useName&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">secondName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">setSecondName&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useName&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç›¸æ¯”æ–¼ &lt;code>mixins&lt;/code>ï¼Œå®ƒå€‘ç°¡ç›´å¤ªæ£’äº†ï¼&lt;/p>
&lt;ol>
&lt;li>æ–¹æ³•å’Œå±¬æ€§å¥½è¿½æº¯å—ï¼Ÿé€™å¯å¤ªå¥½äº†ï¼Œèª°ç”¢ç”Ÿçš„ï¼Œå“ªå…’ä¾†çš„ä¸€ç›®äº†ç„¶ã€‚&lt;/li>
&lt;li>æœƒæœ‰é‡åã€è¦†è“‹å•é¡Œå—ï¼Ÿå®Œå…¨æ²’æœ‰ï¼å…§éƒ¨çš„è®Šé‡åœ¨é–‰åŒ…å…§ï¼Œè¿”å›çš„è®Šé‡æ”¯æŒå®šç¾©åˆ¥åã€‚&lt;/li>
&lt;li>å¤šæ¬¡ä½¿ç”¨ï¼Œæ²’é–‹ N åº¦ï¼Ÿä½ çœ‹ä¸Šé¢çš„ä»£ç¢¼å¡Šå…§ä¸å°± &amp;ldquo;æ¢…é–‹ä¸‰åº¦&amp;rdquo; äº†å—ï¼Ÿ&lt;/li>
&lt;/ol>
&lt;p>å°±è¡ &lt;span class="focus">ç‹€æ…‹é‚è¼¯å¾©ç”¨&lt;/span> é€™å€‹ç†ç”±ï¼ŒHooks å°±å·²ç¶“é¦™å¾—æˆ‘å£æ°´ç›´æµäº†ã€‚&lt;/p>
&lt;h3 id="ä»£ç¢¼çµ„ç¹”">ä»£ç¢¼çµ„ç¹”&lt;/h3>
&lt;blockquote>
&lt;p>ç†µæ¸›ï¼Œå®‡å®™å“²å­¸åˆ°ç·¨ç¢¼å“²å­¸ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>é …ç›®ã€æ¨¡å¡Šã€é é¢ã€åŠŸèƒ½ï¼Œå¦‚ä½•é«˜æ•ˆè€Œæ¸…æ™°åœ°çµ„ç¹”ä»£ç¢¼ï¼Œé€™ä¸€å€‹çœ‹ä¼¼ç°¡å–®çš„å‘½é¡Œå°±ç®—å¯«å¹¾æœ¬æ›¸ä¹Ÿç„¡æ³•å®Œå…¨èªªæ¸…æ¥šã€‚&lt;/p>
&lt;p>ä½†ä¸€å€‹é é¢ä¸­ï¼ŒN ä»¶äº‹æƒ…çš„ä»£ç¢¼åœ¨ä¸€å€‹çµ„ä»¶å…§äº’ç›¸ç³¾çºç¢ºå¯¦æ˜¯åœ¨ &lt;code>Hooks&lt;/code> å‡ºç¾ä¹‹å‰éå¸¸å¸¸è¦‹çš„ä¸€ç¨®ç‹€æ…‹ã€‚&lt;/p>
&lt;p>é‚£éº¼ &lt;code>Hooks&lt;/code> å¯«æ³•åœ¨ä»£ç¢¼çµ„ç¹”ä¸Šç©¶ç«Ÿèƒ½å¸¶ä¾†æ€æ¨£çš„æå‡å‘¢ï¼Ÿ&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52595337489_c4ff52d48d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>(å‡è¨­ä¸Šåœ–ä¸­æ¯ä¸€ç¨®é¡è‰²å°±ä»£ç¢¼ä¸€ç¨®é«˜åº¦ç›¸é—œçš„æ¥­å‹™é‚è¼¯)&lt;/p>
&lt;p>ç„¡è«–æ˜¯ &lt;code>vue&lt;/code> é‚„æ˜¯ &lt;code>react&lt;/code>ï¼Œé€šé &lt;code>Hooks&lt;/code> å¯«æ³•éƒ½èƒ½åšåˆ°ï¼Œå°‡&amp;quot;åˆ†æ•£åœ¨å„ç¨®è²æ˜å‘¨æœŸè£¡çš„ä»£ç¢¼å¡Š&amp;quot;ï¼Œé€šé &lt;code>Hooks&lt;/code> çš„æ–¹å¼å°‡ç›¸é—œçš„å…§å®¹èšåˆåˆ°ä¸€èµ·ã€‚&lt;/p>
&lt;p>é€™æ¨£å¸¶ä¾†çš„å¥½è™•æ˜¯é¡¯è€Œæ˜“è¦‹çš„ï¼š&lt;span class="focus">é«˜åº¦èšåˆï¼Œå¯é–±è®€æ€§æå‡&lt;/span>ã€‚ä¼´éš¨è€Œä¾†çš„ä¾¿æ˜¯&lt;span class="focus">æ•ˆç‡æå‡ï¼Œbugè®Šå°‘&lt;/span>ã€‚&lt;/p>
&lt;p>æŒ‰ç…§&amp;quot;ç‰©ç†å­¸&amp;quot;è£¡çš„ç†è«–ä¾†èªªï¼Œé€™ç¨®ä»£ç¢¼çµ„ç¹”æ–¹å¼ï¼Œå°±ç®—æ˜¯&amp;quot;ç†µæ¸›&amp;quot;äº†ã€‚&lt;/p>
&lt;h3 id="æ¯”-class-çµ„ä»¶æ›´å®¹æ˜“ç†è§£">æ¯” class çµ„ä»¶æ›´å®¹æ˜“ç†è§£&lt;/h3>
&lt;blockquote>
&lt;p>å°¤å…¶æ˜¯ &lt;strong>this&lt;/strong>ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>åœ¨ &lt;code>react&lt;/code> çš„ &lt;code>class&lt;/code> å¯«æ³•ä¸­ï¼Œéš¨è™•å¯è¦‹å„ç¨®å„æ¨£çš„ &lt;code>.bind(this)&lt;/code>ã€‚(ç”šè‡³å®˜æ–¹æ–‡æª”è£¡ä¹Ÿæœ‰å°ˆé–€çš„ç« ç¯€æè¿°äº†&amp;quot;&lt;a class="link" href="https://zh-hant.reactjs.org/docs/faq-functions.html#why-is-binding-necessary-at-all" target="_blank" rel="noopener"
>ç‚ºä»€éº¼ç¶å®šæ˜¯å¿…è¦çš„ï¼Ÿ&lt;/a>&amp;ldquo;é€™ä¸€å•é¡Œ)&lt;/p>
&lt;p>&lt;code>vue&lt;/code> ç©å®¶åˆ¥ç¬‘ï¼Œ&lt;code>computed: { a: () =&amp;gt; { this } }&lt;/code> è£¡çš„ &lt;code>this&lt;/code> ä¹Ÿæ˜¯ &lt;code>undefined&lt;/code>ã€‚&lt;/p>
&lt;p>å¾ˆé¡¯ç„¶ï¼Œç¶å®šé›–ç„¶&amp;quot;å¿…è¦&amp;rdquo;ï¼Œä½†ä¸¦ä¸æ˜¯&amp;quot;å„ªé»&amp;quot;ï¼Œåè€Œæ˜¯&amp;quot;æ•…éšœé«˜ç™¼&amp;quot;åœ°æ®µã€‚&lt;/p>
&lt;p>ä½†åœ¨ &lt;code>Hooks&lt;/code> å¯«æ³•ä¸­ï¼Œä½ å°±å®Œå…¨ä¸å¿…æ“”å¿ƒ &lt;code>this&lt;/code> çš„å•é¡Œäº†ã€‚&lt;/p>
&lt;p>å› ç‚ºï¼š&lt;/p>
&lt;blockquote>
&lt;p>æœ¬ä¾†ç„¡ä¸€ç‰©ï¼Œä½•è™•æƒ¹å¡µåŸƒã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;code>Hooks&lt;/code> å¯«æ³•ç›´æ¥å‘Šåˆ¥äº† &lt;code>this&lt;/code>ï¼Œå¾&amp;quot;å‡½æ•¸&amp;quot;ä¾†ï¼Œåˆ°&amp;quot;å‡½æ•¸&amp;quot;å»ã€‚&lt;/p>
&lt;p>åª½åª½å†ä¹Ÿä¸ç”¨æ“”å¿ƒæˆ‘å¿˜è¨˜å¯« bind äº†ã€‚&lt;/p>
&lt;h3 id="å‹å¥½çš„æ¼¸é€²å¼">å‹å¥½çš„æ¼¸é€²å¼&lt;/h3>
&lt;blockquote>
&lt;p>éš¨é¢¨æ½›å…¥å¤œï¼Œæ½¤ç‰©ç´°ç„¡è²ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æ¼¸é€²å¼çš„å«ç¾©æ˜¯ï¼šä½ å¯ä»¥ä¸€é»é»æ·±å…¥ä½¿ç”¨ã€‚&lt;/p>
&lt;p>ç„¡è«–æ˜¯ &lt;code>vue&lt;/code> é‚„æ˜¯ &lt;code>react&lt;/code>ï¼Œéƒ½åªæ˜¯æä¾›äº† &lt;code>Hooks&lt;/code> APIï¼Œä¸¦å°‡å®ƒå€‘çš„å„ªåŠ£åˆ©å¼Šæ“ºåœ¨äº†é‚£è£¡ã€‚ä¸¦æ²’æœ‰é€šéç„¡æ³•æ¥å—çš„ &lt;code>break change&lt;/code> ä¾†å¼·è¿«ä½ å¿…é ˆä½¿ç”¨ &lt;code>Hooks&lt;/code> å»æ”¹å¯«ä¹‹å‰çš„ &lt;code>class&lt;/code> çµ„ä»¶ã€‚&lt;/p>
&lt;p>ä½ ä¾ç„¶å¯ä»¥åœ¨é …ç›®è£¡ä¸€é‚Šå¯« &lt;code>class&lt;/code> çµ„ä»¶ï¼Œä¸€é‚Šå¯« &lt;code>Hooks&lt;/code> çµ„ä»¶ï¼Œåœ¨é …ç›®çš„æ¼”é€²å’Œé–‹ç™¼éç¨‹ä¸­ï¼Œé€™æ˜¯ä¸€ä»¶æ²’æœ‰ç—›æ„Ÿï¼Œå»æ‚„ç„¡è²æ¯æ”¹è®Šè‘—ä¸€åˆ‡çš„äº‹æƒ…ã€‚&lt;/p>
&lt;p>ä½†æ˜¯äº‹æƒ…ç™¼å±•çš„è¶¨å‹¢å»å¾ˆæ˜é¡¯ï¼Œè¶Šä¾†è¶Šå¤šçš„äººåŠ å…¥äº† &lt;code>Hooks&lt;/code> å’Œ &lt;code>ç»„åˆå¼ API&lt;/code> çš„å¤§è»ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å¦‚ä½•é–‹å§‹ç©-hooks">å¦‚ä½•é–‹å§‹ç© hooksï¼Ÿ&lt;/h2>
&lt;h3 id="ç’°å¢ƒå’Œç‰ˆæœ¬">ç’°å¢ƒå’Œç‰ˆæœ¬&lt;/h3>
&lt;p>åœ¨ &lt;code>react&lt;/code> é …ç›®ä¸­ï¼Œ&lt;code>react&lt;/code> çš„ç‰ˆæœ¬éœ€è¦é«˜æ–¼ &lt;code>16.8.0&lt;/code>ã€‚&lt;/p>
&lt;p>è€Œåœ¨ &lt;code>vue&lt;/code> é …ç›®ä¸­ï¼Œ&lt;code>vue3.x&lt;/code> æ˜¯æœ€å¥½çš„é¸æ“‡ï¼Œä½† &lt;code>vue2.6+&lt;/code> é…åˆ &lt;a class="link" href="https://github.com/vuejs/composition-api" target="_blank" rel="noopener"
>@vue/composition-api&lt;/a>ï¼Œä¹Ÿå¯ä»¥é–‹å§‹äº«å— &amp;ldquo;çµ„åˆå¼ API&amp;rdquo; çš„å¿«æ¨‚ã€‚&lt;/p>
&lt;h3 id="react-çš„-hooks-å¯«æ³•">react çš„ Hooks å¯«æ³•&lt;/h3>
&lt;p>å› ç‚º &lt;code>react&lt;/code> &lt;code>Hooks&lt;/code> åƒ…æ”¯æŒ &amp;ldquo;å‡½æ•¸å¼&amp;rdquo; çµ„ä»¶ï¼Œå› æ­¤éœ€è¦å‰µå»ºä¸€å€‹å‡½æ•¸å¼çµ„ä»¶ &lt;code>my-component.js&lt;/code>ã€‚&lt;/p>
&lt;h5 id="my-componentjs">my-component.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">useEffect&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">useMemo&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;React&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é€šé useState å¯ä»¥å‰µå»ºä¸€å€‹ ç‹€æ…‹å±¬æ€§ å’Œä¸€å€‹ è³¦å€¼æ–¹æ³•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setName&lt;/span> &lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é€šé useEffect å¯ä»¥å°å‰¯ä½œç”¨é€²è¡Œè™•ç†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">useEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="p">[&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é€šé useMemo èƒ½ç”Ÿæˆä¸€å€‹ä¾è³´ name çš„è®Šé‡ message
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">message&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useMemo&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`hello, my name is &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">div&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="nx">message&lt;/span> &lt;span class="p">}&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/div&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç´°ç¯€å¯åƒè€ƒ &lt;a class="link" href="https://zh-hant.reactjs.org/docs/hooks-intro.html" target="_blank" rel="noopener"
>react å®˜æ–¹ç¶²ç«™&lt;/a>&lt;/p>
&lt;h3 id="vue-çš„-hooks-å¯«æ³•">vue çš„ Hooks å¯«æ³•&lt;/h3>
&lt;p>&lt;code>vue&lt;/code> çš„ &lt;code>Hooks&lt;/code> å¯«æ³•ä¾è³´æ–¼ç»„åˆå¼APIï¼Œå› æ­¤æœ¬ä¾‹æ¡ç”¨ &lt;code>&amp;lt;script setup&amp;gt;&lt;/code> ä¾†å¯«ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">message&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å®šç¾©äº†ä¸€å€‹ ref å°è±¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å®šç¾©äº†ä¸€å€‹ä¾è³´ name.value çš„è¨ˆç®—å±¬æ€§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">message&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`hello, my name is &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¾ˆæ˜é¡¯ï¼Œvue &lt;code>çµ„åˆå¼API&lt;/code> è£¡å®Œæˆ &lt;code>useState&lt;/code> å’Œ &lt;code>useMemo&lt;/code> ç›¸é—œå·¥ä½œçš„ API ä¸¦æ²’æœ‰é€šé &lt;code>useXxx&lt;/code> ä¾†å‘½åï¼Œè€Œæ˜¯éµå¾äº† &lt;code>Vue&lt;/code> ä¸€è„ˆç›¸æ‰¿è€Œä¾†çš„ &lt;code>ref&lt;/code> å’Œ &lt;code>computed&lt;/code>ã€‚&lt;/p>
&lt;p>é›–ç„¶ä¸ç¬¦åˆ &lt;code>react Hook&lt;/code> å®šç¾©çš„ &lt;code>Hook&lt;/code> ç´„å®šï¼Œä½† &lt;code>vue&lt;/code> çš„ &lt;code>api&lt;/code> ä¸æŒ‰ç…§ &lt;code>react&lt;/code> çš„ç´„å®šå¥½åƒä¹Ÿä¸¦æ²’æœ‰ä»€éº¼ä¸å¦¥ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://cn.vuejs.org/api/#composition-api" target="_blank" rel="noopener"
>åƒè€ƒç¶²å€&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="äº”é–‹å§‹ç¬¬ä¸€å€‹è‡ªå®šç¾©-hook">äº”ã€é–‹å§‹ç¬¬ä¸€å€‹è‡ªå®šç¾© hook&lt;/h2>
&lt;p>é™¤äº†å®˜æ–¹æä¾›çš„ &lt;code>Hooks Api&lt;/code>ï¼Œ&lt;code>Hooks&lt;/code> çš„å¦å¤–ä¸€å€‹é‡è¦ç‰¹è³ªï¼Œå°±æ˜¯å¯ä»¥è‡ªå·±é€²è¡Œ &amp;ldquo;è‡ªå®šç¾© Hooks&amp;rdquo; çš„å®šç¾©ï¼Œå¾è€Œå®Œæˆ&lt;strong>ç‹€æ…‹é‚è¼¯&lt;/strong>çš„è¤‡ç”¨ã€‚&lt;/p>
&lt;p>é–‹æºç¤¾å€ä¹Ÿéƒ½æœ‰å¾ˆå¤šä¸éŒ¯çš„åŸºæ–¼ &lt;code>Hooks&lt;/code> çš„å°è£ï¼Œæ¯”å¦‚ &lt;a class="link" href="https://ahooks.js.org/zh-CN" target="_blank" rel="noopener"
>ahooks&lt;/a>ï¼Œåˆæ¯”å¦‚ &lt;a class="link" href="https://vueuse.org/" target="_blank" rel="noopener"
>VueUse&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52595598223_119a5f0e21_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é‚£éº¼ï¼Œæˆ‘å€‘æ‡‰è©²æ€éº¼é–‹å§‹æ’°å¯« &amp;ldquo;è‡ªå®šç¾© Hooks&amp;rdquo; å‘¢ï¼Ÿå¾€ä¸‹çœ‹å§ï¼&lt;/p>
&lt;h3 id="react-ç©å®¶çœ‹é€™è£¡">react ç©å®¶çœ‹é€™è£¡&lt;/h3>
&lt;p>&lt;a class="link" href="https://zh-hant.reactjs.org/" target="_blank" rel="noopener"
>react å®˜æ–¹ç¶²ç«™&lt;/a>å°±å°ˆé–€æœ‰ä¸€å€‹ç« ç¯€è¬›è¿° &amp;ldquo;&lt;a class="link" href="https://zh-hant.reactjs.org/docs/hooks-custom.html" target="_blank" rel="noopener"
>è‡ªå®šç¾© Hook&lt;/a>&amp;quot;ã€‚&lt;/p>
&lt;p>é€™è£¡ï¼Œæˆ‘å€‘æ‰”ç”¨æ–‡ç« é–‹é ­é‚£å€‹ &lt;code>useName&lt;/code> çš„éœ€æ±‚ç‚ºä¾‹ï¼Œå¸Œæœ›é”åˆ°æ•ˆæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setName&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useName&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// éš¨æ©Ÿç”Ÿæˆä¸€å€‹ç‹€æ…‹å±¬æ€§ nameï¼Œå®ƒæœ‰ä¸€å€‹éš¨æ©Ÿåä½œç‚ºåˆå§‹å€¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä¸¦ä¸”æä¾›äº†ä¸€å€‹å¯éš¨æ™‚æ›´æ–°è©²å€¼çš„æ–¹æ³• setName
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœæˆ‘å€‘è¦å¯¦ç¾ä¸Šé¢æ•ˆæœï¼Œæˆ‘å€‘è©²æ€éº¼å¯«ä»£ç¢¼å‘¢ï¼Ÿ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">React&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;react&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é€™å€‹ useMemo å¾ˆé—œéµ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">randomName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">useMemo&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">genRandomName&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="p">[]);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setName&lt;/span> &lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">randomName&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setName&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¿ä¸ä½è¦å†æ¬¡æ„Ÿå˜†ä¸€æ¬¡ï¼Œå’Œ &lt;code>mixins&lt;/code> ç›¸æ¯”ï¼Œå®ƒä¸åƒ…ä½¿ç”¨èµ·ä¾†æ›´æ£’ï¼Œå°±é€£å®šç¾©èµ·ä¾†ä¹Ÿé‚£éº¼ç°¡å–®ã€‚&lt;/p>
&lt;p>å¯èƒ½æœ‰æœ‹å‹æœƒå¥½å¥‡ï¼Œç‚ºä»€éº¼ä¸ç›´æ¥é€™æ¨£å¯«ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setName&lt;/span> &lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">React&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">genRandomName&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› ç‚ºé€™æ¨£å¯«æ˜¯ä¸å°çš„ï¼Œæ¯æ¬¡ä½¿ç”¨è©² &lt;code>Hook&lt;/code> çš„å‡½æ•¸çµ„ä»¶è¢«æ¸²æŸ“ä¸€æ¬¡æ™‚ï¼Œ&lt;code>genRandom()&lt;/code> æ–¹æ³•å°±æœƒè¢«åŸ·è¡Œä¸€æ¬¡ï¼Œé›–ç„¶ä¸å½±éŸ¿ &lt;code>name&lt;/code> çš„å€¼ï¼Œä½†å­˜åœ¨æ€§èƒ½æ¶ˆè€—ï¼Œç”šè‡³ç”¢ç”Ÿå…¶ä»– bugã€‚&lt;/p>
&lt;p>ç‚ºæ­¤ï¼Œæˆ‘å¯«äº†ä¸€å€‹èƒ½è¤‡ç¾éŒ¯èª¤çš„ demoï¼Œæœ‰èˆˆè¶£çš„æœ‹å‹å¯ä»¥é©—è­‰ï¼š&lt;/p>
&lt;iframe src="https://codesandbox.io/embed/naughty-bash-znffif?fontsize=14&amp;hidenavigation=1&amp;theme=dark" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" title="naughty-bash-znffif" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts">&lt;/iframe>
&lt;blockquote>
&lt;p>å¯ä»¥é€šé React.useState(() =&amp;gt; randomName()) å‚³åƒä¾†é¿å…é‡è¤‡åŸ·è¡Œï¼Œé€™æ¨£å°±ä¸éœ€è¦ useMemo äº†ï¼&lt;/p>
&lt;/blockquote>
&lt;h3 id="vue-ç©å®¶çœ‹é€™è£¡">vue ç©å®¶çœ‹é€™è£¡&lt;/h3>
&lt;p>&lt;a class="link" href="https://cn.vuejs.org/" target="_blank" rel="noopener"
>vue3 å®˜ç¶²&lt;/a> æ²’æœ‰é—œæ–¼ è‡ªå®šç¾© Hook çš„ç©æ³•ä»‹ç´¹ï¼Œä½†å¯¦è¸èµ·ä¾†ä¹Ÿä¸¦ä¸å›°é›£ã€‚&lt;/p>
&lt;p>ç›®æ¨™ä¹Ÿå®šä½å¯¦ç¾ä¸€å€‹ &lt;code>useName&lt;/code> æ–¹æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">genRandomName&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">setName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">v&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setName&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="vue-å’Œ-react-è‡ªå®šç¾©-hook-çš„å·®ç•°">vue å’Œ react è‡ªå®šç¾© Hook çš„å·®ç•°&lt;/h3>
&lt;ul>
&lt;li>ç›¸ä¼¼é»ï¼šç¸½é«”æ€è·¯æ˜¯ä¸€è‡´çš„éƒ½éµç…§è‘— &lt;strong>å®šç¾©ç‹€æ…‹æ•¸æ“š&lt;/strong>ã€&lt;strong>æ“ä½œç‹€æ…‹æ•¸æ“š&lt;/strong>ã€&lt;strong>éš±è—ç´°ç¯€&lt;/strong> ä½œç‚ºæ ¸å¿ƒæ€è·¯ã€‚&lt;/li>
&lt;li>å·®ç•°é»ï¼šç»„åˆå¼ API å’Œ React å‡½æ•°ç»„ä»¶ï¼Œæœ‰è‘—æœ¬è³ªå·®ç•°ï¼š
&lt;ul>
&lt;li>Vue3 çš„çµ„ä»¶è£¡ï¼Œsetup æ˜¯ä½œç‚ºä¸€å€‹æ—©æ–¼ &amp;ldquo;created&amp;rdquo; çš„ç”Ÿå‘½é€±æœŸå­˜åœ¨çš„ï¼Œç„¡è«–å¦‚ä½•ï¼Œåœ¨ä¸€å€‹çµ„ä»¶çš„æ¸²æŸ“éç¨‹ä¸­åªæœƒé€²å…¥ä¸€æ¬¡ã€‚&lt;/li>
&lt;li>React å‡½æ•°ç»„ä»¶å‰‡å®Œå…¨ä¸åŒï¼Œå¦‚æœæ²’æœ‰è¢« memorizedï¼Œå®ƒå€‘å¯èƒ½æœƒè¢«ä¸åœåœ°è§¸ç™¼ï¼Œä¸åœåœ°é€²å…¥ä¸¦åŸ·è¡Œæ–¹æ³•ï¼Œå› æ­¤éœ€è¦é–‹éŠ·çš„å¿ƒæ™ºç›¸æ¯”æ–¼ Vue å…¶å¯¦æ˜¯æ›´å¤šçš„ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;hr></description></item><item><title>é—¡è¿°å–®å…ƒæ¸¬è©¦ã€å…ƒä»¶æ¸¬è©¦ï¼Œä¸¦å­¸ç¿’åœ¨è‡ªå·±çš„ Vue3 å°ˆæ¡ˆä¸­åŠ å…¥ Vitestï¼</title><link>https://wayneblog.ga/2022-12-29/vitest-unit-test/</link><pubDate>Thu, 29 Dec 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-12-29/vitest-unit-test/</guid><description>&lt;img src="https://madewithnetworkfra.fra1.digitaloceanspaces.com/spatie-space-production/29079/vitest.jpg" alt="Featured image of post é—¡è¿°å–®å…ƒæ¸¬è©¦ã€å…ƒä»¶æ¸¬è©¦ï¼Œä¸¦å­¸ç¿’åœ¨è‡ªå·±çš„ Vue3 å°ˆæ¡ˆä¸­åŠ å…¥ Vitestï¼" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://blog.miniasp.com/post/2019/02/18/Unit-testing-Integration-testing-e2e-testing" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/articles/10278764" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/articles/10298229" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/articles/10293368" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>ç¶²ç«™å»ºç½®ä¸æ˜¯ä»¶ç°¡å–®çš„äº‹ï¼Œæˆ‘å€‘éƒ½çŸ¥é“ç¶²ç«™åšå¥½ä¹‹å¾Œï¼Œæœ‰å¥½å¤šç´°ç¯€éœ€è¦å…¼é¡§ï¼Œæ‰€ä»¥è¨±å¤šå…¬å¸èŠ±äº†å¤§é‡çš„æ™‚é–“èˆ‡é‡‘éŒ¢ï¼Œè€—ç”¨äººåŠ›å°ç¶­è­·ä¸­çš„ç¶²ç«™é€²è¡Œä¸æ–·çš„ã€é‡è¤‡çš„äººå·¥æ¸¬è©¦ï¼Œæƒ³é”åˆ°çš„ç›®çš„ä¸å¤–ä¹æ˜¯å¸Œæœ›ç¶²ç«™ä¸è¦å‡ºéŒ¯ï¼Œå¯ä»¥çµ¦å®¢æˆ¶/ä½¿ç”¨è€…æœ€å¥½çš„ç¶²ç«™ä½¿ç”¨é«”é©—ã€‚æœ¬ç¯‡ç« èªªæ˜ä½¿ç”¨ Vue3 é–‹ç™¼çš„å°ˆæ¡ˆï¼Œå°å…¥ Vitest é€²è¡Œæ¥µé€Ÿå–®å…ƒæ¸¬è©¦çš„é«”é©—ï¼&lt;/p>
&lt;hr>
&lt;h2 id="æ¸¬è©¦çš„ç¨®é¡">æ¸¬è©¦çš„ç¨®é¡&lt;/h2>
&lt;p>åœ¨ä¸åŒçš„æ¸¬è©¦é¡å‹ä¸­ï¼Œæ‰€éœ€è¦ä¿è­·çš„é¢å‘ä¸å¤ªç›¸åŒï¼Œä»¥ä¸‹æ˜¯ä¸åŒæ¸¬è©¦é¡å‹çš„å¤§è‡´ä»‹ç´¹ï¼š&lt;/p>
&lt;h3 id="å–®å…ƒæ¸¬è©¦-unit-testing">å–®å…ƒæ¸¬è©¦ (Unit testing)&lt;/h3>
&lt;p>ä»¥ç¨‹å¼ç¢¼çš„æœ€å°å–®ä½é€²è¡Œæ¸¬è©¦ï¼Œä¿è­·ç¨‹å¼é‚è¼¯ä¸æœƒåœ¨ç³»çµ±ç¶­è­·çš„éç¨‹ä¸­é­åˆ°ç ´å£ï¼Œä¹Ÿé€²ä¸€æ­¥ç¢ºä¿ç¶­è­·ä¸­çš„ç¨‹å¼ç¢¼å“è³ªã€‚&lt;/p>
&lt;p>é€™ç¨®æ¸¬è©¦é¡å‹é€šå¸¸ç”±é–‹ç™¼äººå“¡è‡ªè¡Œæ’°å¯«ï¼Œè‡ªå·±å¯«çš„ Code è‡ªå·±å¯«æ¸¬è©¦ï¼Œæœ‰ç¶“é©—çš„é–‹ç™¼äººå“¡å¯ä»¥ç”¨éå¸¸æœ‰æ•ˆç‡çš„æ–¹å¼æ’°å¯«å–®å…ƒæ¸¬è©¦ï¼Œå› ç‚ºæ¸¬è©¦ç¯„åœå°ï¼Œé€™ç¨®é¡å‹çš„æ¸¬è©¦é€šå¸¸ä¸éœ€è¦è¨­ç«‹æ¸¬è©¦ç’°å¢ƒï¼Œå› æ­¤å¯ä»¥å¾—åˆ°è¼ƒé«˜çš„æ’°å¯«æ•ˆç‡ï¼Œä¹Ÿæ˜¯æ‰€æœ‰æ¸¬è©¦é¡å‹ä¸­æœ€å®¹æ˜“æ’°å¯«çš„æ¸¬è©¦é¡å‹ã€‚ä¸éï¼Œå°æ–¼ä¸€å€‹æ²’æœ‰ç¶“é©—çš„é–‹ç™¼è€…ä¾†èªªï¼Œæ’°å¯«å–®å…ƒæ¸¬è©¦å¯èƒ½æœƒè€—ç”¨å¤§é‡æ™‚é–“ï¼Œå¯«æ¸¬è©¦ç¨‹å¼çš„æ™‚é–“å¾ˆæœ‰å¯èƒ½æœƒé å¤§æ–¼å¯¦éš›æ’°å¯«ç¨‹å¼ç¢¼çš„æ™‚é–“ï¼Œæœ‰è »å¤šäººæœƒå› ç‚ºé€™æ¨£è€Œæ”¾æ£„æ’°å¯«å–®å…ƒæ¸¬è©¦ã€‚&lt;/p>
&lt;h3 id="æ•´åˆæ¸¬è©¦-integration-testing">æ•´åˆæ¸¬è©¦ (Integration testing)&lt;/h3>
&lt;p>æ•´åˆå¤šæ–¹è³‡æºé€²è¡Œæ¸¬è©¦ï¼Œç¢ºä¿æ¨¡çµ„èˆ‡æ¨¡çµ„ä¹‹é–“çš„äº’å‹•è¡Œç‚ºæ­£ç¢ºç„¡èª¤ï¼Œä¹Ÿè®“ä¸åŒæ¨¡çµ„åœ¨å„è‡ªé–‹ç™¼ç¶­è­·çš„éç¨‹ä¸­ä¸æœƒå› ç‚ºåŠŸèƒ½èª¿æ•´è€Œé­åˆ°ç ´å£ã€‚&lt;/p>
&lt;p>é€™ç¨®é¡å‹çš„æ¸¬è©¦é€šå¸¸ä»‹æ–¼å–®å…ƒæ¸¬è©¦èˆ‡ç«¯å°ç«¯æ¸¬è©¦ä¹‹é–“ï¼Œæœ‰æ™‚å€™æœƒç”±å°ˆè·çš„æ¸¬è©¦äººå“¡é€²è¡Œé–‹ç™¼ï¼Œä½†å¤§éƒ¨åˆ†é‚„æ˜¯ç”±é–‹ç™¼åœ˜éšŠä¸­è² è²¬ç‰¹å®šæ¨¡çµ„çš„äººä¾†æ’°å¯«ã€‚æœ‰æ™‚å€™å–®ä¸€æ¨¡çµ„å³ä¾¿å®Œå…¨é€šéå–®å…ƒæ¸¬è©¦ï¼Œç¨ç«‹é‹ä½œä¹Ÿæ­£å¸¸ï¼Œä½†æ˜¯ç•¶éœ€è¦èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•æ™‚ï¼Œä¹Ÿæ˜¯æœ‰å¯èƒ½ç™¼ç”ŸéŒ¯èª¤ï¼Œé€™æ™‚å°±æ˜¯æ•´åˆæ¸¬è©¦çš„ä¸»è¦è² è²¬é ˜åŸŸã€‚&lt;/p>
&lt;p>ä»¥ä¸‹æ˜¯æœªé€šéæ•´åˆæ¸¬è©¦çš„æ¡ˆä¾‹ï¼š(å…©å€‹å…ƒä»¶åœ¨æ•´åˆæ™‚ç™¼ç¾å•é¡Œ)&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593420093_cb58f5a813_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="ç«¯å°ç«¯æ¸¬è©¦-end-to-end-testing-e2e-testing">ç«¯å°ç«¯æ¸¬è©¦ (End-to-end testing) (E2E testing)&lt;/h3>
&lt;p>æ‰€è¬‚çš„ã€Œç«¯å°ç«¯ã€(E2E) æ˜¯æŒ‡å¾ä½¿ç”¨è€…çš„è§’åº¦å‡ºç™¼(ä¸€ç«¯)ï¼Œå°çœŸå¯¦ç³»çµ±(å¦ä¸€ç«¯)é€²è¡Œæ¸¬è©¦ã€‚&lt;/p>
&lt;p>é€™ç¨®é¡å‹çš„æ¸¬è©¦å°è¨±å¤šå…¬å¸ä¾†èªªï¼Œå°±æ˜¯ã€Œäººå·¥æ¸¬è©¦ã€çš„ä¸»è¦ç¯„åœï¼Œå› ç‚ºä½ å¯ä»¥é€éäººå·¥å°å·²ç¶“å®Œæ•´éƒ¨å±¬çš„ç¶²ç«™é€²è¡Œæ¸¬è©¦ï¼Œå› æ­¤å¯ä»¥é©—è­‰å‡ºç³»çµ±æ˜¯å¦ç¬¦åˆå®¢æˆ¶çš„å¯¦éš›éœ€æ±‚ã€‚é€™éƒ¨åˆ†ä¹Ÿå¯ä»¥é€éæ’°å¯« E2E æ¸¬è©¦ç¨‹å¼ä¾†é€²è¡Œè‡ªå‹•åŒ–ï¼Œå¢åŠ æ¸¬è©¦æ•ˆç‡ã€‚&lt;/p>
&lt;p>é€™è£¡æœ‰å€‹&lt;a class="link" href="https://twitter.com/i/status/1078363114666627072" target="_blank" rel="noopener"
>æœªé€šé E2E æ¸¬è©¦çš„æ¡ˆä¾‹&lt;/a>ç›¸ç•¶æœ‰è¶£ï¼Œé›–ç„¶æ¯å€‹æ•´å¥—ç³»çµ±æ¯å€‹æ¨¡çµ„éƒ½é€šéæ‰€æœ‰å–®å…ƒæ¸¬è©¦èˆ‡æ•´åˆæ¸¬è©¦ï¼Œä½†æœ€å¾Œçµ„è£èµ·ä¾†å¾Œï¼Œå¾ä½¿ç”¨è€…çš„è§’åº¦ç„¡æ³•æ¥å—ï¼&lt;/p>
&lt;hr>
&lt;h2 id="æ¸¬è©¦æ¡ˆä¾‹ä¸­çš„-3a-æ¨¡å¼">æ¸¬è©¦æ¡ˆä¾‹ä¸­çš„ 3A æ¨¡å¼&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è²“å’ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é¤µé£Ÿï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‹¿ç©å…·é€—ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ä»€éº¼éƒ½ä¸åšï¼Œæ‡‰è©²æ¨å€’çœ¼å‰çœ‹åˆ°çš„æ‰€æœ‰æ±è¥¿&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘è¨­ç«‹å¥½æ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹çš„æ•˜è¿°çµæ§‹ä¹‹å¾Œï¼Œè¦é–‹å§‹æ’°å¯«æ¸¬è©¦æ¡ˆä¾‹å…§éƒ¨çš„å¯¦ä½œæ™‚å°±å¯ä»¥åˆ©ç”¨æ‰€è¬‚çš„ 3A æ¨¡å¼ä¾†å®‰æ’ã€‚&lt;/p>
&lt;p>&lt;strong>3A&lt;/strong> æ¨¡å¼ä¸»è¦æ˜¯ç‚º(&lt;strong>Arrange-Act-Assert&lt;/strong>)ä¸‰å€‹è‹±æ–‡å­—çš„ç¸®å¯«ï¼Œè€Œä»–å€‘åˆ†åˆ¥ä»£è¡¨äº†ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>æº–å‚™(Arrange)&lt;/strong>ï¼šæº–å‚™å¥½å—æ¸¬ç›®æ¨™éœ€è¦çš„ä¸€åˆ‡ï¼ŒåŒ…å«ä¾è³´çš„éš”é›¢ç­‰&lt;/li>
&lt;li>&lt;strong>æ“ä½œ(Act)&lt;/strong>ï¼šæ“ä½œå—æ¸¬ç‰©ç›®æ¨™&lt;/li>
&lt;li>&lt;strong>æ–·è¨€(Assert)&lt;/strong>ï¼šé æœŸå—æ¸¬ç‰©çš„æŸå€‹ç‹€æ…‹æ˜¯å¦ç‚ºæˆ‘å€‘æ‰€é æœŸ&lt;/li>
&lt;/ul>
&lt;p>ä»¥ä¸Šæ–¹ç¬¬ä¸€é …æ¸¬è©¦æ¡ˆä¾‹ä¾†å¥—ç”¨ 3A æ¨¡å¼çš„è©±å°±æœƒåƒæ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Arrange: æº–å‚™å¥½ä¸€éš»è²“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cat&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Act: æ‘¸æ‘¸é‚£éš»è²“å’ª
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touch&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Assert: è§€å¯Ÿé‚£éš»è²“æ˜¯å¦ç™¼å‡ºå‘¼åš•åš•å«è²
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‚£å¦‚æœé€™æ™‚å€™ä½ å¯èƒ½æœƒæƒ³åˆ°æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹éƒ½è¦æº–å‚™ä¸€éš»è²“è²“ï¼Œå°æ–¼æ¸¬è©¦æ¡ˆä¾‹ä¾†èªªå°±æœƒä¸€ç›´ä¸æ–·åœ°å»åšã€Œ&lt;strong>æº–å‚™(Arrange)&lt;/strong>ã€é€™å€‹è¡Œç‚ºï¼Œå› æ­¤ä½ å¯èƒ½æœƒå¾ˆç›´è¦ºçš„é€™éº¼è™•ç†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è²“å’ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cat&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touch&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é¤µé£Ÿï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">feed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ä¹¾ä¹¾&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‹¿ç©å…·é€—ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">play&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†é€™æ¨£çš„å¾Œæœå°±æ˜¯æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹ä¹‹é–“å°±æœƒæœ‰é—œè¯äº†ï¼Œæ¯”æ–¹è²“è²“å…¶å¯¦æ‘¸å¤ªå¤šä¸‹ä»–ä¹Ÿæœƒè¦ºå¾—å­ç…©ï¼Œå¾è€Œå°è‡´æ¸¬è©¦å¤±æ•—ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è²“å’ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cat&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸ä¸‹å·´ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touch&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å†æ‘¸ä¸€æ¬¡ä¸‹å·´ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touch&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å†æ‘¸ä¸€æ¬¡ä¸‹å·´ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touch&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// é æœŸå‘¼åš•åš•ï¼Œçµæœè²“å’ªç”Ÿæ°£äº†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œè¦å¯«å¥½æ¸¬è©¦æ¡ˆä¾‹çš„å…¶ä¸­å¹¾å€‹æ¦‚å¿µå°±æ˜¯è¦ç›¡é‡è®“æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹ä¹‹é–“ã€Œ&lt;strong>ä¸å—é †åºå½±éŸ¿æ¸¬è©¦çµæœ&lt;/strong>ã€èˆ‡ã€Œ&lt;strong>ä¿æŒç¨ç«‹&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>å› æ­¤å¤§å¤šæ•¸çš„ã€Œæ¸¬è©¦ç’°å¢ƒã€çš„å·¥å…·éƒ½æœƒæä¾›é¡ä¼¼ç›¸é—œçš„ API ä¾†å”åŠ©è™•ç†æ¸¬è©¦é–‹å§‹å‰çš„ã€Œ&lt;strong>Setup&lt;/strong>ã€èˆ‡çµæŸå¾Œçš„ã€Œ&lt;strong>Teardown&lt;/strong>ã€ç’°ç¯€ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è²“å’ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cat&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹é–‹å§‹å‰è¦åšçš„äº‹æƒ…
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// åˆå§‹åŒ–è²“è²“çš„å„ç¨®ç‹€æ…‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹çµæŸå¾Œè¦åšçš„äº‹æƒ…
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touch&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// é€™æ™‚å€™çš„ target å·²ç¶“æ˜¯ç¶“é init() çš„ç‰ˆæœ¬äº†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é¤µé£Ÿï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">feed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ä¹¾ä¹¾&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// é€™æ™‚å€™çš„ target å·²ç¶“æ˜¯ç¶“é init() çš„ç‰ˆæœ¬äº†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‹¿ç©å…·é€—ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">play&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// é€™æ™‚å€™çš„ target å·²ç¶“æ˜¯ç¶“é init() çš„ç‰ˆæœ¬äº†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¶œåˆä¸Šè¿° &lt;strong>3A&lt;/strong> èˆ‡è™•ç† &lt;strong>Setup&lt;/strong> &amp;amp; &lt;strong>Teardown&lt;/strong> çš„è§€å¿µï¼Œä¹‹å¾Œå†å¯«æ¸¬è©¦æ¡ˆä¾‹æ™‚ï¼Œæˆ‘å€‘å¯ä»¥å…ˆå¾åŸºç¤çš„ &lt;strong>3A&lt;/strong> æ¨¡å¼é–‹å§‹æ’°å¯«ï¼Œè€Œåˆ°æœ‰éœ€è¦è™•ç†é‡è¤‡çš„äº‹å‰æº–å‚™(Setup)èˆ‡å¾ŒçºŒæ¸…ç†æ™‚(Teardown)ï¼Œå°±å¯ä»¥è—‰ç”±å·¥å…·ä¾†æ›¿æˆ‘å€‘çµ±ä¸€è™•ç†ã€‚&lt;/p>
&lt;p>çœ‹åˆ°é€™é‚Šè®€è€…æ‡‰è©²æœƒç™¼ç¾ï¼Œæ¸¬è©¦çš„åŸºæœ¬æ¦‚å¿µå…¶å¯¦ä¸é›£æ‡‚ï¼Œè€Œåœ¨ç­è§£æ¸¬è©¦çš„æ¦‚å¿µå¾Œï¼Œå‰©ä¸‹çš„å°±æ˜¯æŠŠæ¦‚å¿µè½‰æ›ç‚ºæ¸¬è©¦å·¥å…·å¯è®€æ‡‚æ¸¬è©¦ç¨‹å¼ç¢¼å°±å¥½äº†ï¼&lt;/p>
&lt;hr>
&lt;h2 id="å°ˆæ¡ˆåŠ å…¥-vitest">å°ˆæ¡ˆåŠ å…¥ Vitest&lt;/h2>
&lt;h3 id="åœ¨åˆå§‹åŒ–å°ˆæ¡ˆéç¨‹åŠ å…¥-vitest">åœ¨åˆå§‹åŒ–å°ˆæ¡ˆéç¨‹åŠ å…¥ Vitest&lt;/h3>
&lt;p>å»ºç«‹å°ˆæ¡ˆæ™‚è‹¥è¦åŠ å…¥å–®å…ƒæ¸¬è©¦è¦æ³¨æ„åˆ°çš„æ˜¯ï¼šNode.js ç‰ˆæœ¬å¿…é ˆç‚º 14 ä»¥ä¸Šï¼Œå¦å‰‡ Vitest æœƒç„¡æ³•é †åˆ©åŸ·è¡Œï¼&lt;/p>
&lt;p>ç¢ºèª Node.js ç‰ˆæœ¬å¾Œï¼Œåœ¨è¦å»ºç«‹å°ˆæ¡ˆçš„çˆ¶å±¤è·¯å¾‘åº•ä¸‹é€éçµ‚ç«¯æ©ŸæŒ‡ä»¤è¼¸å…¥ &lt;code>npm create vite@latest&lt;/code> ä¾†å»ºç«‹ä¸€å€‹åŸºæ–¼ Vite æ‰€å»ºæ§‹çš„å°ˆæ¡ˆï¼Œæ¥è‘—çµ‚ç«¯æ©Ÿæœƒå‡ºç¾ä¸€äº›å•é¡Œï¼Œè¦–å°ˆæ¡ˆéœ€æ±‚é¸æ“‡ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593587230_cdfd077261_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;ul>
&lt;li>Project name â‡’ è¼¸å…¥è‡ªè¨‚çš„å°ˆæ¡ˆåç¨±å¾ŒæŒ‰ä¸‹ Enter&lt;/li>
&lt;li>Select a framework â‡’ é¸æ“‡ &lt;code>Vue&lt;/code> å¾ŒæŒ‰ä¸‹ Enter&lt;/li>
&lt;li>Select a variant â‡’ é¸æ“‡ &lt;code>Customize with create-vue&lt;/code> å¾ŒæŒ‰ä¸‹ Enter&lt;/li>
&lt;li>ä¸­é–“å¯èƒ½é‚„æœƒæœ‰ TypeScript, ESLintâ‹¯â‹¯ç­‰ç­‰å•é¡Œï¼Œè«‹è¦–å°ˆæ¡ˆéœ€è¦åŠ å…¥&lt;/li>
&lt;li>Add Vitest for Unit Testing(y/n) â‡’ é¸æ“‡ &lt;code>Yes&lt;/code> å¾ŒæŒ‰ä¸‹ Enter &lt;strong>(æœ€é‡è¦çš„éƒ¨åˆ†&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>å›ç­”å®Œä¸Šé¢çš„å•é¡Œå¾Œï¼Œå»ºæ§‹å·¥å…·å°±æœƒä¾æ“šå‰›æ‰ç­”è¦†çš„å…§å®¹ï¼Œè‡ªå‹•ç”Ÿæˆéœ€è¦çš„éƒ¨åˆ†ã€‚&lt;/p>
&lt;p>æ¯”æ–¹åœ¨ &lt;code>Add Vitest for Unit Testing&lt;/code> å•é¡Œå›ç­” &lt;code>Yes&lt;/code> çš„è©±ï¼Œé€™æ™‚å»ºæ§‹å·¥å…·å°±æœƒåœ¨å°ˆæ¡ˆä¸­ç”Ÿæˆå–®å…ƒæ¸¬è©¦æ‰€éœ€è¦çš„ç›¸é—œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>ä¸€å€‹ä½æ–¼ &lt;code>~å°ˆæ¡ˆæ ¹ç›®éŒ„/src/components/__test__/HelloWorld.spec.js&lt;/code> çš„æ¸¬è©¦ç¯„ä¾‹&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">describe&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">mount&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@vue/test-utils&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">HelloWorld&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;../HelloWorld.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;HelloWorld&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;renders properly&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">HelloWorld&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">msg&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello Vitest&amp;#39;&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello Vitest&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>åœ¨ &lt;code>~å°ˆæ¡ˆæ ¹ç›®éŒ„/package.json&lt;/code> è‡ªå‹•æ–°å¢ä¸€å€‹å•Ÿå‹•å–®å…ƒæ¸¬è©¦çš„ scripts æŒ‡ä»¤&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;test:unit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vitest --environment jsdom&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>åœ¨ &lt;code>~å°ˆæ¡ˆæ ¹ç›®éŒ„/package.json&lt;/code> è‡ªå‹•æ–°å¢å–®å…ƒæ¸¬è©¦æ‰€éœ€è¦çš„å·¥å…·å€‘&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;devDependencies&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@vue/test-utils&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^2.0.2&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;jsdom&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^20.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;vitest&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^0.23.0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—å¦‚å‰›å‰›çµ‚ç«¯æ©Ÿå¾Œæ–¹çš„æç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593586900_2fbde224e0_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;ul>
&lt;li>åŸ·è¡Œ &lt;code>cd {å‰›æ‰å°ˆæ¡ˆåç¨±}&lt;/code> åˆ‡æ›åˆ°å°ˆæ¡ˆç›®éŒ„åº•ä¸‹&lt;/li>
&lt;li>åŸ·è¡Œ &lt;code>npm install&lt;/code> å®‰è£å°ˆæ¡ˆæ‰€éœ€è¦çš„å…§å®¹&lt;/li>
&lt;/ul>
&lt;p>å®‰è£å®Œç•¢å¾Œï¼Œæ¥è‘—å°±å¯ä»¥åŸ·è¡Œ &lt;code>npm run dev&lt;/code> ç¢ºèªç’°å¢ƒï¼Œå¾ŒçºŒè¦åŸ·è¡Œæ¸¬è©¦çš„è©±ï¼ŒåŸ·è¡Œ &lt;code>npm run test:unit&lt;/code> å°±èƒ½ç«‹å³é‹ä½œäº†ã€‚&lt;/p>
&lt;h3 id="åœ¨æ—¢æœ‰å°ˆæ¡ˆä¸­åŠ å…¥-vitest">åœ¨æ—¢æœ‰å°ˆæ¡ˆä¸­åŠ å…¥ Vitest&lt;/h3>
&lt;p>åœ¨æ—¢æœ‰å°ˆæ¡ˆä¸­åŠ å…¥ &lt;code>Vitest&lt;/code> ä¾†ä½œç‚ºåŸ·è¡Œæ¸¬è©¦çš„ç’°å¢ƒæ™‚ï¼Œéœ€ç¢ºèªå°ˆæ¡ˆæœ¬èº«æ˜¯ç”± &lt;code>Vite&lt;/code>(&lt;code>2.7.10&lt;/code> ç‰ˆæœ¬ä»¥ä¸Š)æ‰€å»ºæ§‹çš„ä¹‹å¤–ï¼Œå…¶ &lt;code>Node.js&lt;/code> ç‰ˆæœ¬ä¹Ÿå¿…é ˆç‚º &lt;code>14&lt;/code> ä»¥ä¸Šï¼Œå¦å‰‡æœƒç„¡æ³•é †åˆ©åŸ·è¡Œæ¸¬è©¦ï¼&lt;/p>
&lt;p>ç¢ºèªå¥½å¿…è¦æ¢ä»¶å¾Œå°±å¯ä»¥é–‹å§‹å®‰è£æ¸¬è©¦å·¥å…·ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>vitest&lt;/code>ï¼šå–®å…ƒæ¸¬è©¦æ¡†æ¶(æä¾›äº†åŸ·è¡Œæ¸¬è©¦çš„ç’°å¢ƒã€æ–·è¨€ã€éš”é›¢åº«â‹¯â‹¯ç­‰ç­‰åŠŸèƒ½èˆ‡ API)&lt;/li>
&lt;li>&lt;code>@vue/test-utils&lt;/code>ï¼šæ¸¬è©¦ &lt;code>Vue&lt;/code> å…ƒä»¶çš„å·¥å…·&lt;/li>
&lt;li>&lt;code>jsdom&lt;/code>ï¼šè®“æˆ‘å€‘å¯ä»¥åœ¨ &lt;code>Node&lt;/code> ç’°å¢ƒæ¨¡æ“¬å‡ºç€è¦½å™¨ä¸­çš„ &lt;code>DOM&lt;/code> ç’°å¢ƒ(æ–¹ä¾¿æ¸¬è©¦)&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹åŸ·è¡Œï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D vitest @vue/test-utils jsdom
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>æ–°å¢ npm åŸ·è¡Œå–®å…ƒæ¸¬è©¦çš„æŒ‡ä»¤ï¼š&lt;/li>
&lt;/ol>
&lt;h5 id="packagejson">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;test:unit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vitest --environment jsdom&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ™‚è‹¥å¿ƒæ€¥çš„åŸ·è¡Œ &lt;code>npm run test:unit&lt;/code> æœƒç™¼ç¾çµ‚ç«¯æ©Ÿå‘Šè¨´ä½  &lt;code>No test files found, exiting with code 1&lt;/code>ï¼ŒåŸå› æ˜¯ä½ &lt;strong>å°šæœªåŠ å…¥ä»»ä½•ä¸€å€‹æ¸¬è©¦æ¡ˆä¾‹&lt;/strong>ã€‚&lt;/p>
&lt;p>è€Œä¸€é–‹å§‹ &lt;code>Vitest&lt;/code> é è¨­æ¸¬è©¦çš„æ¯”å°è¦å‰‡æ˜¯ &lt;code>*/*.{test,spec}.{js,mjs,cjs,ts,mts,cts,jsx,tsx}&lt;/code>ï¼Œç°¡å–®ä¾†èªªä½ åœ¨å°ˆæ¡ˆåº•ä¸‹ä½¿ç”¨ &lt;code>A.test.js&lt;/code> æˆ–æ˜¯ &lt;code>B.spec.ts&lt;/code> çš„æ–¹å¼éƒ½æœƒè¢« Vitest èªç‚ºæ˜¯æ¸¬è©¦ç¨‹å¼æª”ã€‚&lt;/p>
&lt;p>é€™æ™‚ï¼Œæˆ‘å€‘å¯ä»¥åœ¨ &lt;code>~å°ˆæ¡ˆæ ¹ç›®éŒ„/src/components/__test__/&lt;/code> åº•ä¸‹æ–°å»º &lt;code>HelloWorld.spec.js&lt;/code>ï¼š&lt;/p>
&lt;h5 id="srccomponents__test__helloworldspecjs">src/components/&lt;strong>test&lt;/strong>/HelloWorld.spec.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">describe&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;HelloWorld&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1 + 1 should be 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†æ¬¡åŸ·è¡Œ &lt;code>npm run test:unit&lt;/code> çµ‚ç«¯æ©Ÿå°±æœƒé¡¯ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421644_db0c07f63f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>åˆ°é€™è£¡å°±ç®—æ˜¯æˆåŠŸå®‰è£å¥½å›‰ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘æœƒå†æŠŠ &lt;code>Vitest Config&lt;/code> åˆæœŸéœ€è¦è¨­å®šçš„éƒ¨åˆ†èª¿æ•´å¥½å¾Œï¼Œå»ºç½®çš„éƒ¨åˆ†å°±å®Œæˆäº†ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="vitest-config-è¨­å®šæ–¹å¼">Vitest Config è¨­å®šæ–¹å¼&lt;/h2>
&lt;p>Vitest æ¸¬è©¦åœ¨åŸ·è¡Œçš„æ™‚å€™é è¨­æœƒåŸºæ–¼åŸå…ˆå°ˆæ¡ˆä¸­çš„ &lt;code>vite.config.js&lt;/code> è¨­å®šæª”ï¼Œæ‰€ä»¥æ²’æœ‰éœ€è¦èª¿æ•´çš„è©±ä¸å¤ªéœ€è¦å¦å¤–è¨­ç½®ï¼Œéœ€è¦èª¿æ•´çš„è©± Vitest ä¹Ÿæä¾›äº†ä¸‰ç¨®æ–¹æ³•è®“ä½ åœ¨ä¸åŒé–‹ç™¼æƒ…å¢ƒä¸‹é¸æ“‡èª¿æ•´æ–¹å¼ï¼š&lt;/p>
&lt;ul>
&lt;li>åŸ·è¡Œ &lt;code>npm&lt;/code> æŒ‡ä»¤æ™‚å¸¶åƒæ•¸æŒ‡å®šè¨­å®šæª”æ¡ˆè·¯å¾‘&lt;/li>
&lt;li>ç›´æ¥åœ¨åŸå…ˆ &lt;code>vite.config.js&lt;/code> ä¸­èª¿æ•´&lt;/li>
&lt;li>é€é &lt;code>vitest.config.js&lt;/code> æª”æ¡ˆèª¿æ•´æ¸¬è©¦è¨­å®š&lt;/li>
&lt;/ul>
&lt;h3 id="åŸ·è¡Œ-npm-æŒ‡ä»¤æ™‚å¸¶åƒæ•¸æŒ‡å®šè¨­å®šæª”æ¡ˆè·¯å¾‘">åŸ·è¡Œ npm æŒ‡ä»¤æ™‚å¸¶åƒæ•¸æŒ‡å®šè¨­å®šæª”æ¡ˆè·¯å¾‘&lt;/h3>
&lt;p>è‹¥æƒ³è¦åœ¨åŸ·è¡Œçš„æ™‚å€™å»å¼•å…¥ä¸åŒçš„è¨­å®šæª”æ¡ˆï¼Œå‰‡å¯ä»¥åœ¨ &lt;code>package.json&lt;/code> æŒ‡ä»¤ä¸­é€é &lt;code>--config&lt;/code> åŠ ä¸Šè¨­å®šæª”æ¡ˆçš„è·¯å¾‘(e.g. &lt;code>vitest --config ./src/scripts/vitest.config.js&lt;/code> )ï¼š&lt;/p>
&lt;h5 id="packagejson-1">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;test:unit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vitest --config ./src/__test__/config/vitest.config.js&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—è©²æª”æ¡ˆå°±å¦‚è¨­å®š &lt;code>vitest.config.js&lt;/code> ä¸€æ¨£èª¿æ•´å°±å¯ä»¥äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vite&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">vue&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@vitejs/plugin-vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// https://vitejs.dev/config/
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vue&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨é€™é‚ŠåŠ å…¥è¨­å®š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åœ¨å°ˆæ¡ˆä¸­çš„-viteconfigjs-ä¸­èª¿æ•´æ¸¬è©¦è¨­å®š">åœ¨å°ˆæ¡ˆä¸­çš„ vite.config.js ä¸­èª¿æ•´æ¸¬è©¦è¨­å®š&lt;/h3>
&lt;p>è‹¥æƒ³åœ¨åŸå…ˆçš„ &lt;code>vite.config.js&lt;/code> ä¸­èª¿æ•´æ¸¬è©¦è¨­å®šï¼Œæœ‰å…©ç¨®æ–¹å¼å¯ä»¥ä½¿ç”¨ï¼š&lt;/p>
&lt;ul>
&lt;li>ç¬¬ä¸€ç¨®æ˜¯ç›´æ¥åœ¨æœ€ä¸Šæ–¹åŠ å…¥ &lt;code>/// &amp;lt;reference types=&amp;quot;vitest&amp;quot; /&amp;gt;&lt;/code> å¾Œï¼Œåœ¨ test å±¬æ€§ä¸­åŠ å…¥è¨­å®šï¼š&lt;/li>
&lt;/ul>
&lt;h5 id="viteconfigjs">vite.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">/// &amp;lt;reference types=&amp;#34;vitest&amp;#34; /&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vite&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨é€™é‚ŠåŠ å…¥è¨­å®š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ç¬¬äºŒç¨®ï¼ŒæŠŠåŸå…ˆçš„ &lt;code>defineConfig&lt;/code> æ”¹ç”± &lt;code>vitest/config&lt;/code> å‚³å…¥å¾Œï¼Œåœ¨ &lt;code>test&lt;/code> å±¬æ€§ä¸­åŠ å…¥è¨­å®šï¼š&lt;/li>
&lt;/ul>
&lt;h5 id="viteconfigjs-1">vite.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest/config&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨é€™é‚ŠåŠ å…¥è¨­å®š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é€é-vitestconfigjs-æª”æ¡ˆèª¿æ•´æ¸¬è©¦è¨­å®š">é€é vitest.config.js æª”æ¡ˆèª¿æ•´æ¸¬è©¦è¨­å®š&lt;/h3>
&lt;p>è‹¥æƒ³å€éš”é–‹ç™¼èˆ‡æ¸¬è©¦ç”¨çš„è¨­å®šæ™‚ï¼Œå¯ä»¥åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸­æ–°å¢ &lt;code>vitest.config.js&lt;/code> æª”æ¡ˆï¼Œé€™æœƒæ¯”åŸå…ˆåƒè€ƒçš„ &lt;code>vite.config.js&lt;/code> æ“æœ‰æ›´é«˜çš„å„ªå…ˆæ¬Šã€‚&lt;/p>
&lt;p>ä¸æƒ³å°‡åŸå…ˆåœ¨ &lt;code>vite.config.js&lt;/code> è¨­å®šéƒ½é‡æ–°å…¨å¯«ä¸€æ¬¡çš„è©±ï¼Œä¹Ÿå¯ä»¥åœ¨ &lt;code>vitest.config.js&lt;/code> ä¸­ï¼Œä½¿ç”¨ &lt;code>mergeConfig&lt;/code> ä¾†èåˆ &lt;code>vite.config.js&lt;/code> çš„è¨­å®šï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">mergeConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vite&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest/config&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">viteConfig&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./vite.config&amp;#39;&lt;/span> &lt;span class="c1">// åŸå…ˆçš„ vite è¨­å®šæª”æ¡ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">mergeConfig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">viteConfig&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨é€™è£¡åŠ å…¥æ¸¬è©¦è¨­å®š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="vitest-config-option">Vitest config option&lt;/h2>
&lt;p>è‡³æ–¼ Vitest config èƒ½èª¿æ•´ä»€éº¼å…§å®¹å‘¢ï¼Œé€™è£¡åˆ—äº†å¹¾å€‹å¸¸è¦‹çš„èª¿æ•´é¸é …ï¼š&lt;/p>
&lt;ul>
&lt;li>include&lt;/li>
&lt;li>exclude&lt;/li>
&lt;li>globals&lt;/li>
&lt;li>environment&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>è¨»ï¼šä»¥ä¸‹éƒ¨åˆ†è³‡æ–™å¼•ç”¨ &lt;a class="link" href="https://cn.vitest.dev/config/" target="_blank" rel="noopener"
>Vitest Config Option&lt;/a> ä¸¦ç¿»è­¯èˆ‡è£œå……ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="include">include&lt;/h3>
&lt;ul>
&lt;li>Typeï¼š string[]&lt;/li>
&lt;li>é è¨­å€¼ï¼š [&amp;rsquo;**/*.{test,spec}.{js,mjs,cjs,ts,mts,cts,jsx,tsx}']&lt;/li>
&lt;/ul>
&lt;p>è—‰ç”±é€™å€‹æ¬„ä½æˆ‘å€‘å¯ä»¥æä¾› glob æ ¼å¼è®“ vitest å»æ¯”å°å“ªäº›æ˜¯æ¸¬è©¦æª”æ¡ˆï¼Œä¹Ÿå¯ä»¥æ”¾å…¥å¤šå€‹æ¢ä»¶åœ¨é™£åˆ—ä¸­ã€‚&lt;/p>
&lt;h5 id="vitestconfigjs">vitest.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest/config&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">include&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;**/*.spec.js&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹è¨­å®šä¸»è¦æœƒå½±éŸ¿åˆ°å¾ŒçºŒæˆ‘å€‘è¦å¦‚ä½•æ“ºæ”¾æ¸¬è©¦ç¨‹å¼ç¢¼ï¼Œå› æ­¤åšè¦åŠƒæ™‚å¯ä»¥æŒ‰éœ€æ±‚è€ƒé‡èª¿æ•´ã€‚&lt;/p>
&lt;h3 id="exclude">exclude&lt;/h3>
&lt;ul>
&lt;li>Typeï¼š string[]&lt;/li>
&lt;li>é è¨­å€¼ï¼š [&amp;rsquo;&lt;strong>/node_modules/&lt;/strong>&amp;rsquo;, &amp;lsquo;&lt;strong>/dist/&lt;/strong>&amp;rsquo;, &amp;lsquo;&lt;strong>/cypress/&lt;/strong>&amp;rsquo;, &amp;lsquo;&lt;strong>/.{idea,git,cache,output,temp}/&lt;/strong>&amp;rsquo;]&lt;/li>
&lt;/ul>
&lt;p>è—‰ç”±é€™å€‹æ¬„ä½æˆ‘å€‘å¯ä»¥æä¾› glob æ ¼å¼è®“ vitest å»æ’é™¤å“ªäº›ä¸æ˜¯æ¸¬è©¦æª”æ¡ˆï¼Œä¹Ÿå¯ä»¥æ”¾å…¥å¤šå€‹æ¢ä»¶åœ¨é™£åˆ—ä¸­ã€‚&lt;/p>
&lt;h5 id="vitestconfigjs-1">vitest.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest/config&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">exclude&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;**/node_modules/**&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;**/dist/**&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;**/cypress/**&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;**/.{idea,git,cache,output,temp}/**&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èˆ‡ &lt;code>include&lt;/code> ç›¸åï¼Œé€™æ¬¡å‰‡æ˜¯è¦æ’é™¤å“ªäº›è·¯å¾‘ä¸éœ€è¦å°‹æ‰¾æ˜¯å¦æœ‰æ¸¬è©¦æª”æ¡ˆï¼Œå…¶ä¸­å¦‚æœæœ‰ç”¨åˆ° &lt;code>cypress&lt;/code> åš E2E æ¸¬è©¦çš„è©±ï¼Œé è¨­è¦å‰‡ä¸­å°±å·²ç¶“æœ‰å¦å¤–æ’é™¤äº†ï¼Œæ‰€ä»¥æ²’å¿…è¦çš„è©±ä¸å¿…ç‰¹åˆ¥è¨­ç½®ï¼Œä½†å¯ä»¥å…ˆè¨˜å¾—æœ‰é€™å€‹æ–¹ä¾¿çš„æ¬„ä½ã€‚&lt;/p>
&lt;h3 id="globals">Globals&lt;/h3>
&lt;ul>
&lt;li>Typeï¼š boolean&lt;/li>
&lt;li>é è¨­å€¼ï¼š false&lt;/li>
&lt;/ul>
&lt;p>ç”±æ–¼åœ¨æ’°å¯«æ¸¬è©¦æ™‚ï¼ŒVitest é è¨­æ˜¯éœ€è¦è‡ªå·±æŒ‰éœ€è¦å¼•å…¥å°æ‡‰çš„æ–¹æ³•ç­‰ç­‰ï¼Œå¦‚æœè¦é¡ä¼¼åƒ Jest ä»¥&lt;strong>å…¨åŸŸ&lt;/strong>çš„æ–¹å¼æ³¨å…¥åˆ°æ¸¬è©¦ä¸­ï¼Œå°±å¯ä»¥é€éåœ¨åŸ·è¡Œæ™‚åŠ ä¸Š &lt;code>--globals&lt;/code> é¸é …ï¼Œæˆ–æ˜¯åœ¨ &lt;code>vitest config&lt;/code> é¸é …ä¸­åŠ å…¥ &lt;code>globals: true&lt;/code>ã€‚&lt;/p>
&lt;h5 id="vitestconfigjs-2">vitest.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest/config&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">globals&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸå…ˆè¨­å®šå‰ï¼Œæ¸¬è©¦ç¨‹å¼ç¢¼éœ€è¦å¦‚ä¸‹æ–¹å¼•å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">describe&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;HelloWorld&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1 + 1 should be 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŠ å…¥ &lt;code>Globals: true&lt;/code> å¾Œï¼Œå°±ä¸éœ€è¦é¡¯ç¤ºå¼•å…¥ vitest æ¸¬è©¦ç›¸é—œçš„ APIï¼Œè®“æ¸¬è©¦çœ‹èµ·ä¾†æ›´ä¹¾æ·¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;HelloWorld&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1 + 1 should be 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="environment">environment&lt;/h3>
&lt;ul>
&lt;li>Typeï¼š &amp;rsquo;node&amp;rsquo; | &amp;lsquo;jsdom&amp;rsquo; | &amp;lsquo;happy-dom&amp;rsquo; | &amp;rsquo;edge-runtime&amp;rsquo; | string&lt;/li>
&lt;li>é è¨­å€¼ï¼š &amp;rsquo;node&amp;rsquo;&lt;/li>
&lt;/ul>
&lt;p>ç”±æ–¼ Vitest æœ¬èº«é»˜èªç’°å¢ƒ Node.jsï¼Œå› æ­¤è‹¥è¦åœ¨æ¸¬è©¦ä¸­ä»¿é€ ç€è¦½å™¨çš„æ‡‰ç”¨ç¨‹å¼ï¼Œå¯ä»¥é€éé¡ä¼¼ &lt;code>jsdom&lt;/code> ç­‰å·¥å…·ä¾†å–ä»£ï¼Œè€Œå·²ç¶“ä»‹ç´¹éçš„ npm æŒ‡ä»¤çš„å¯«æ³•ä¹‹å¤– &lt;code>-environment jsdom&lt;/code> ï¼Œé‚„å¯ä»¥åœ¨æ¸¬è©¦æª”æ¡ˆä¸Šä»¥ docblock æˆ– comment é¢¨æ ¼çš„æ–¹å¼è¨»è¨˜ã€‚&lt;/p>
&lt;p>Docblock é¢¨æ ¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @vitest-environment jsdom
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">**/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;use jsdom in this test file&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;div&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">element&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerHTML&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;p&amp;gt;Hello, HTML!&amp;lt;/p&amp;gt;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerHTML&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;lt;p&amp;gt;Hello, HTML!&amp;lt;/p&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Comment é¢¨æ ¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @vitest-environment jsdom
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;use jsdom in this test file&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;div&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">element&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerHTML&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;p&amp;gt;Hello, HTML!&amp;lt;/p&amp;gt;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerHTML&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;lt;p&amp;gt;Hello, HTML!&amp;lt;/p&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯«åœ¨ &lt;code>vitest config&lt;/code> ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest/config&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">environment&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;jsdom&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†åœ¨æ¸¬è©¦ä¸­æˆ‘å€‘å°±å¯ä»¥æ¨¡æ“¬ Web ç«¯ç’°å¢ƒä¾†æ“ä½œäº†ã€‚&lt;/p>
&lt;p>ä»¥ä¸Šæ˜¯ Vitest å¹¾å€‹æ¯”è¼ƒå¸¸è¦‹çš„è¨­å®šï¼Œå…¶é¤˜çš„è¨­å®šå¾ŒçºŒä¹ŸæœƒæŒ‰éœ€æ±‚é™¸çºŒæåˆ°ï¼Œè‹¥å°æ–¼å…¶ä»–è¨­å®šé¸é …æœ‰èˆˆè¶£çš„ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åˆ°å®˜æ–¹æ–‡ä»¶ä¸­çš„ &lt;a class="link" href="https://cn.vitest.dev/config/" target="_blank" rel="noopener"
>config åˆ†é &lt;/a> æŸ¥çœ‹ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æ¸¬è©¦çš„æœ¬è³ª">æ¸¬è©¦çš„æœ¬è³ª&lt;/h2>
&lt;p>æ¸¬è©¦çš„æœ¬è³ªç©¶ç«Ÿæ˜¯ä»€éº¼ï¼Ÿæ¸¬è©¦ç°¡å–®çš„ä¾†èªªä¸»è¦å°±æ˜¯è—‰ç”±æ“æ§å—æ¸¬ç‰©(SUT, System Under Test)ï¼Œè§€å¯Ÿç”±å—æ¸¬ç‰©ç”¢ç”Ÿçš„æœ€çµ‚ç‹€æ…‹æ˜¯å¦å¦‚æˆ‘å€‘æ‰€é æœŸçš„æ¨£å­ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421659_5c5cde3ea2_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>è‹¥æœ€çµ‚ç‹€æ…‹ç¬¦åˆæˆ‘å€‘çš„é æœŸï¼Œå°æ–¼é–‹ç™¼è€…çš„å«ç¾©ä¾†èªªï¼Œå°±æ˜¯å—æ¸¬ç‰©ç¬¦åˆäº†æˆ‘å€‘çš„æœŸå¾…ã€‚&lt;/p>
&lt;p>ä½†é€™é»å¥½è™•çœ‹ä¼¼æ²’æœ‰åšã€Œæ¸¬è©¦ã€çš„å¿…è¦ï¼Œç•¢ç«Ÿæˆ‘å€‘å¹³æ™‚é–‹ç™¼èƒ½é©—æ”¶å®Œæˆä¸å°±æ˜¯ç¬¦åˆäº†è¦æ ¼æ›¸çš„æœŸå¾…å—ï¼Ÿ&lt;/p>
&lt;p>å› æ­¤ç‚ºäº†èƒ½å¤ æ›´åŠ é«”æœƒæ¸¬è©¦èƒŒå¾Œçš„åƒ¹å€¼ï¼Œæˆ‘å€‘æ¥ä¸‹ä¾†å°‡å¯¦éš›åšä¸€å€‹æ¸¬è©¦å·¥å…·ä¾†ä¾†æª¢é©—æˆ‘å€‘è‡ªå·±æ‰€å¯«çš„å‡½å¼ã€‚&lt;/p>
&lt;h3 id="æƒ…å¢ƒèˆ‰ä¾‹">æƒ…å¢ƒèˆ‰ä¾‹&lt;/h3>
&lt;p>é¦–å…ˆï¼Œæƒ…å¢ƒå‡è¨­åœ¨å°ˆæ¡ˆä¸­æœ‰ä¸€è™•é‚è¼¯åˆ¤æ–·éœ€è¦æª¢æ¸¬å‚³é€²ä¾†è³‡æ–™çš„æ˜¯å¦ç‚ºæ•¸å€¼(Numeric)ï¼Œè€Œå‚³é€²ä¾†çš„è³‡æ–™å¯èƒ½æœ‰ &lt;code>1&lt;/code>, &lt;code>null&lt;/code>, &lt;code>'100'&lt;/code>, &lt;code>NaN&lt;/code> ç­‰ã€‚&lt;/p>
&lt;p>æˆ‘å€‘å¸Œæœ›ç•¶ &lt;code>1&lt;/code> å’Œ &lt;code>'100'&lt;/code> æ™‚ï¼Œè©²åˆ¤æ–·æ‡‰è©²è¦ç‚º &lt;code>true&lt;/code>ï¼Œè€Œ &lt;code>null&lt;/code> èˆ‡ &lt;code>NaN&lt;/code> å‰‡æ˜¯è¦ç‚º &lt;code>false&lt;/code>ã€‚&lt;/p>
&lt;p>æ¥ä¸‹ä¾†çš„ç›®æ¨™æˆ‘å€‘è¦åšçš„å°±æ˜¯ï¼š&lt;/p>
&lt;ol>
&lt;li>è£½ä½œä¸€å€‹ç°¡æ˜“çš„æ¸¬è©¦å·¥å…·&lt;/li>
&lt;li>å¯«æ¸¬è©¦æ¡ˆä¾‹&lt;/li>
&lt;li>å¯«å—æ¸¬ç¨‹å¼ç¢¼çš„å¯¦ä½œ&lt;/li>
&lt;/ol>
&lt;h3 id="ç°¡æ˜“çš„æ¸¬è©¦å·¥å…·">ç°¡æ˜“çš„æ¸¬è©¦å·¥å…·&lt;/h3>
&lt;p>é¦–å…ˆè¦åŠƒä¸€ä¸‹å·¥å…·æˆ‘æœ€å¾Œå¸Œæœ›ç”¨èµ·ä¾†åƒæ˜¯é€™å€‹æ¨£å­ï¼š&lt;/p>
&lt;p>&lt;code>expect(å—æ¸¬ç‰©).toBe(é æœŸç‹€æ…‹)&lt;/code>&lt;/p>
&lt;ul>
&lt;li>å›å‚³ &lt;code>true&lt;/code> è¡¨ç¤ºæ¸¬è©¦æˆåŠŸ (å³ç‚ºæœ€çµ‚ç‹€æ…‹èˆ‡é æœŸç‹€æ…‹ç›¸åŒ)&lt;/li>
&lt;li>å›å‚³ &lt;code>false&lt;/code> è¡¨ç¤ºæ¸¬è©¦å¤±æ•— (å³ç‚ºæœ€çµ‚ç‹€æ…‹èˆ‡é æœŸç‹€æ…‹ä¸åŒ)ï¼Œç„¶å¾ŒåŠ ä¸Š error æç¤ºé æœŸç‹€æ…‹æ‡‰è©²è¦æ˜¯ä»€éº¼ï¼Œæœ€çµ‚ç‹€æ…‹ç›®å‰æ˜¯ä»€éº¼ã€‚&lt;/li>
&lt;/ul>
&lt;p>æ¥è‘—æŒ‰ç…§ä¸Šé¢çš„è¨­æƒ³ï¼Œå…ˆå®šç¾©äº†ä¸€å€‹å®£å‘Šå‡½å¼ &lt;code>expect&lt;/code>ï¼Œåƒæ•¸å‰‡æ˜¯é è¨ˆè¼¸å…¥å—æ¸¬ç‰©(&lt;code>input&lt;/code>)èˆ‡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†ä¾†å·¥å…·æœ¬èº«å‘¼å«æ™‚éœ€å›å‚³äº†ä¸€å€‹å«åš &lt;code>toBe&lt;/code> çš„é©—è­‰æ–¹æ³•ï¼Œè©²é©—è­‰æ–¹æ³•çš„åƒæ•¸ç‚ºé æœŸç›®æ¨™(&lt;code>expected&lt;/code>)ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">toBe&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">toBe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—è¨­è¨ˆè©²é©—è­‰çš„æ–¹æ³•ï¼Œä½¿å…¶èƒ½å¤ å›æ‡‰æ¸¬è©¦çš„çµæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">toBe&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">expected&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">toBe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¾åœ¨æˆ‘å€‘é€éç¶²é ç€è¦½å™¨çš„ devtool console æ§åˆ¶å°ï¼Œå°±å¯ä»¥é€éè©²æ¸¬è©¦å·¥å…·åšç°¡æ˜“çš„æ¸¬è©¦æ¡ˆä¾‹äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">toBe&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">expected&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">toBe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†æˆ‘å€‘å¸Œæœ›ä»–èƒ½å¤ åœ¨æ¸¬è©¦æ¡ˆä¾‹å¤±æ•—çš„æ™‚å€™å›æ‡‰ä¸€ä¸‹ç•¶ä¸‹é æœŸèˆ‡çµæœçš„ç‹€æ³ï¼Œå¾ŒçºŒæˆ‘å€‘æ‰èƒ½é‡å°ç´€éŒ„çš„çµæœåšä¿®æ­£ã€‚å› æ­¤æˆ‘å€‘å†ä¿®æ”¹ä¸€ä¸‹æ¸¬è©¦æ–¹æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">handleOnError&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`æ¸¬è©¦å¤±æ•—ï¼šé æœŸæ‡‰è©²ç‚º &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">expected&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">ï¼Œçµæœç¾åœ¨ç‚º &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">toBe&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">expected&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">handleOnError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">toBe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†åŸ·è¡Œä¸€å€‹æ•…æ„å¯«éŒ¯çš„æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593679828_d73a14781b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç¾åœ¨å¯ä»¥çœ‹åˆ°ç•¶æ¸¬è©¦æ¡ˆä¾‹ç™¼ç”ŸéŒ¯èª¤çš„æ™‚å€™ï¼Œé™¤äº†æœƒå›å‚³æ¸¬è©¦çµæœä¹‹å¤–ï¼Œé‚„æœƒå¤šå€‹éŒ¯èª¤æé†’ç›®å‰éŒ¯èª¤çš„åŸå› äº†ï¼&lt;/p>
&lt;h3 id="å¯«æ¸¬è©¦æ¡ˆä¾‹">å¯«æ¸¬è©¦æ¡ˆä¾‹&lt;/h3>
&lt;p>åœ¨å®Œæˆæ¸¬è©¦å·¥å…·å¾Œï¼Œç¾åœ¨æˆ‘å€‘è¦ä¾†å¯«æ¸¬è©¦æ¡ˆä¾‹ï¼Œé¦–å…ˆæˆ‘å€‘å…ˆå¯«ä¸€å€‹é‚„æ²’æœ‰å¯«å¯¦ä½œéƒ¨åˆ†çš„åˆ¤æ–·å‡½å¼(&lt;code>isNumeric&lt;/code>)ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">isNumeric&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æŒ‰ç…§é¡Œç›®æ‰€è¨­å®šçš„æ¢ä»¶ï¼Œä¾†æ’°å¯«æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;blockquote>
&lt;p>é¡Œç›®è¨­å®šï¼š&lt;br>
ç•¶ &lt;code>1&lt;/code> å’Œ &lt;code>'100'&lt;/code> æ™‚ï¼Œè©²åˆ¤æ–·æ‡‰è©²è¦ç‚º &lt;code>true&lt;/code>ï¼Œ&lt;br>
è€Œ &lt;code>null&lt;/code> èˆ‡ &lt;code>NaN&lt;/code> å‰‡æ˜¯è¦ç‚º &lt;code>false&lt;/code>ã€‚&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">isNumeric&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;100&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">NaN&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ™‚åŸ·è¡Œå¾Œæœƒç™¼ç¾æœƒç™¼ç¾å››å€‹æ¡ˆä¾‹éƒ½å ±éŒ¯ï¼Œå› ç‚ºç›®å‰æˆ‘å€‘é‚„æ²’æ’°å¯« &lt;code>isNumeric&lt;/code> çš„åˆ¤æ–·å¯¦ä½œï¼Œä½†åˆ°é€™ä¸€æ­¥æ¸¬è©¦æ¡ˆä¾‹å°±å·²ç¶“ç®—æ˜¯å¯«å¥½äº†ï¼Œå› ç‚ºæˆ‘å€‘çš„ç›®çš„æ˜¯è¦å¯«å°çš„æ¸¬è©¦æ¡ˆä¾‹ï¼Œè®“å¯¦ä½œå»ç¬¦åˆã€‚&lt;/p>
&lt;h3 id="å¯«å—æ¸¬ç¨‹å¼ç¢¼çš„å¯¦ä½œ">å¯«å—æ¸¬ç¨‹å¼ç¢¼çš„å¯¦ä½œ&lt;/h3>
&lt;p>å®Œæˆæ¸¬è©¦æ¡ˆä¾‹å¾Œï¼Œæˆ‘å€‘å°‡è¦ä¾†å¯«æ¸¬è©¦ç¨‹å¼ç¢¼çš„å¯¦ä½œéƒ¨åˆ†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">isNumeric&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="nb">isNaN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nb">parseFloat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ€å¾Œï¼Œå°‡æ•´å€‹æ¸¬è©¦èˆ‡å¯¦ä½œåˆä½µèµ·ä¾†å°±æœƒåƒé€™æ¨£å­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ¸¬è©¦å·¥å…·ç¨‹å¼ç¢¼éƒ¨åˆ†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">handleOnError&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`æ¸¬è©¦å¤±æ•—ï¼šé æœŸæ‡‰è©²ç‚º &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">expected&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">ï¼Œçµæœç¾åœ¨ç‚º &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">toBe&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">expected&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">handleOnError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">toBe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å¯¦ä½œç¨‹å¼ç¢¼éƒ¨åˆ†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">isNumeric&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="nb">isNaN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nb">parseFloat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ¸¬è©¦æ¡ˆä¾‹éƒ¨åˆ†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// trueï¼Œå³ç‚ºé€šéæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;100&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// trueï¼Œå³ç‚ºé€šéæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// trueï¼Œå³ç‚ºé€šéæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">NaN&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// trueï¼Œå³ç‚ºé€šéæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®Œæˆï¼ç¾åœ¨å·²ç¶“ä¸æœƒé¡¯ç¤ºæ¸¬è©¦å¤±æ•—çš„è¨Šæ¯äº†ï¼Œä¹Ÿå°±è¡¨ç¤º &lt;code>isNumeric&lt;/code> æ–¹æ³•ç¬¦åˆæˆ‘å€‘çš„é æœŸå›‰ã€‚&lt;/p>
&lt;p>è€Œç¾åœ¨å‡ä½¿æˆ‘æƒ³ä½¿å¯¦ä½œç¨‹å¼ç¢¼çš„éƒ¨åˆ†æ›´åŠ çš„å®Œå–„ï¼Œåªè¦å¢åŠ åˆé©çš„æ¸¬è©¦æ¡ˆä¾‹é€²å»å°±å¯ä»¥å¢æ·»å—æ¸¬ç‰©æœ¬èº«çš„ä¿¡è³´èˆ‡ç©©å®šåº¦ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">1.123&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mh">0xFFF&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;100&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">undefined&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">NaN&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”šè‡³å°‡ä¾†æ”¹å¯«å¯¦ä½œ(&lt;code>isNumeric&lt;/code>)çš„æ™‚å€™ï¼Œæ—¢æœ‰çš„æ¸¬è©¦å…§å®¹å°±æœƒæé†’ä½ æ˜¯å¦é•åäº†ä¹‹å‰æ‰€å¯«çš„æ¸¬è©¦æ¡ˆä¾‹ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æ¸¬è©¦å·¥å…·çš„é¸æ“‡">æ¸¬è©¦å·¥å…·çš„é¸æ“‡&lt;/h2>
&lt;p>ä¸Šé¢æœ‰æåˆ°ç°¡æ˜“çš„æ¸¬è©¦å·¥å…·æ˜¯å¦‚ä½•æ‰‹åˆ»å‡ºä¾†çš„ï¼Œä¹Ÿç¨å¾®è«‡åˆ°äº†æ‰‹åˆ»æ¸¬è©¦å·¥å…·çš„å›°é›£ï¼Œå› æ­¤é¸æ“‡ä¸€å€‹é©ç•¶çš„æ¸¬è©¦å·¥å…·ä¾†è¼”åŠ©æˆ‘å€‘é€²è¡Œæ¸¬è©¦æ˜¯æœ‰å¿…è¦æ€§çš„ã€‚&lt;/p>
&lt;p>ä½†æ¸¬è©¦å·¥å…·ç™¾ç™¾ç¨®ï¼Œè¨±å¤šå·¥å…·åœ¨æä¾›çš„åŠŸèƒ½ä¸Šåˆé‡ç–Šï¼Œé‚£éº¼æˆ‘å€‘è©²å¦‚ä½•é¸æ“‡å·¥å…·å‘¢ï¼Ÿ&lt;/p>
&lt;p>è‹¥æ˜¯ä»¥ã€Œ&lt;strong>å–®å…ƒæ¸¬è©¦&lt;/strong>ã€ä¾†èªªçš„è©±ï¼Œæˆ‘å€‘åœ¨æ’°å¯«æ¸¬è©¦ç¨‹å¼ç¢¼æ™‚å¯èƒ½è‡³å°‘å°±æœƒæœ‰ä»¥ä¸‹çš„éœ€æ±‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* å¼•å…¥ç›¸é—œæª”æ¡ˆ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒæè¿°&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹æè¿°&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, World&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å¦ä¸€å€‹æ¸¬è©¦æ¡ˆä¾‹æè¿°&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Unit-test!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Unit-test!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>æ¸¬è©¦ç’°å¢ƒ(test runner)ï¼šæä¾›ä¸Šæ–¹æ¸¬è©¦ç¨‹å¼ç¢¼åŸ·è¡Œçš„ç’°å¢ƒã€‚&lt;/li>
&lt;li>æ¸¬è©¦æƒ…å¢ƒ(test suite)ï¼šå¦‚ä¸Šæ–¹çš„ &lt;code>describe&lt;/code>ï¼Œç”¨ä¾†åŒ…è£¹å¤šå€‹æ¸¬è©¦æ¡ˆä¾‹ï¼Œä»¥åŠæè¿°æ¸¬è©¦æƒ…å¢ƒâ‹¯â‹¯ç­‰åŠŸèƒ½ã€‚&lt;/li>
&lt;li>æ¸¬è©¦æ¡ˆä¾‹(test case)ï¼šå¦‚ä¸Šæ–¹çš„ &lt;code>it&lt;/code>ï¼Œç”¨ä¾†åŒ…è£¹è©²æ¸¬è©¦æ¡ˆä¾‹çš„å¯¦éš›æƒ…æ³ï¼Œè‹¥æœ‰éŒ¯èª¤æ™‚éœ€è®“æˆ‘å€‘èƒ½å¤ è¼•æ˜“æ‰¾åˆ°æ˜¯å“ªå€‹æ¡ˆä¾‹ç™¼ç”Ÿçš„â‹¯â‹¯ç­‰ç­‰åŠŸèƒ½ã€‚&lt;/li>
&lt;li>æ–·è¨€(Assertion)ï¼šå¦‚ä¸Šæ–¹çš„ expectï¼Œä¸»è¦æ˜¯ç”¨ä¾†åˆ¤æ–·å—æ¸¬ç‰©èˆ‡é æœŸçµæœæ˜¯å¦ä¸€è‡´çš„æ–¹æ³•ï¼Œç”šè‡³ä¾æ“šä¸åŒåˆ¤æ–·æ–¹å¼å…§éƒ¨ä¹Ÿæä¾›äº†å¤šç¨®åˆ¤æ–·æ–¹å¼ï¼Œå¦‚ .toBe å¯ç”¨ä¾†åˆ¤æ–·é¸å–çš„ç›®æ¨™èˆ‡é æœŸçµæœæ˜¯å¦ç›¸ç­‰ã€‚&lt;/li>
&lt;/ul>
&lt;p>é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨å¿…è¦çš„æƒ…æ³ä¸‹ç”šè‡³æœƒéœ€è¦ï¼š&lt;/p>
&lt;ul>
&lt;li>æ¸¬è©¦æ›¿èº«(test double)ï¼šç”¨ä¾†æ¨¡ä»¿ä¾è³´å·¥å…·æˆ–å‡½å¼åŸå…ˆçš„åŠŸèƒ½ç‹€æ³&lt;/li>
&lt;li>è§£ææˆ–æ¨¡æ“¬å…ƒä»¶å®¹å™¨&lt;/li>
&lt;li>æ¨¡æ“¬ç€è¦½å™¨ä¸­ DOM çš„ç’°å¢ƒ&lt;/li>
&lt;/ul>
&lt;p>è€Œæ ¹æ“šä¸Šè¿°éœ€æ±‚ï¼Œå°±èƒ½å¤ åˆ—å‡ºä¸€å€‹éœ€æ±‚è¡¨ï¼Œä¾†è©•ä¼°å„å€‹æ¸¬è©¦å·¥å…·æ˜¯å¦ç¬¦åˆæˆ‘å€‘æ¸¬è©¦éœ€è¦çš„éƒ¨åˆ†ï¼š&lt;/p>
&lt;blockquote>
&lt;p>æ¸¬è©¦å·¥å…·åˆ—è¡¨å¯åƒè€ƒå€‹æ¡†æ¶ä¸­çš„æ¸¬è©¦å»ºè­°æŒ‡å—ï¼Œæ¯”æ–¹ &lt;a class="link" href="https://cn.vuejs.org/guide/scaling-up/testing.html#component-testing" target="_blank" rel="noopener"
>Vue çš„æ¸¬è©¦å»ºè­°æŒ‡å—&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>éœ€æ±‚&lt;/th>
&lt;th>Vitest&lt;/th>
&lt;th>Jest&lt;/th>
&lt;th>Mocha&lt;/th>
&lt;th>Chai.js&lt;/th>
&lt;th>Sinon.js&lt;/th>
&lt;th>Vue-test-utils&lt;/th>
&lt;th>jsdom&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>æ¸¬è©¦ç’°å¢ƒ(test runner)&lt;/td>
&lt;td>âœ”(è¨»1)&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ¸¬è©¦æƒ…å¢ƒ(test suite)&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ¸¬è©¦æ¡ˆä¾‹(test case)&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ–·è¨€(Assertion)&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ¸¬è©¦æ›¿èº«(test double)&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>è§£ææˆ–æ¨¡æ“¬å…ƒä»¶å®¹å™¨&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æä¾›æ¨¡æ“¬ DOM ç’°å¢ƒ&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>è¨»1ï¼šVitest æœ¬èº«åŸºæ–¼ Vite ç’°å¢ƒï¼Œå› æ­¤å°ˆæ¡ˆè‹¥éé€é Vite æ‰€æ§‹å»ºçš„è©±å°±ç„¡æ³•ä½¿ç”¨ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ç¾åœ¨é€éé€™å€‹è¡¨æˆ‘å€‘å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹è¦‹ï¼Œå‡è¨­å°ˆæ¡ˆæ˜¯åŸºæ–¼ &lt;code>Vite&lt;/code> æ‰€å»ºç«‹çš„é‚£éº¼æˆ‘å¯ä»¥é¸æ“‡ä¸‹åˆ—é€™å€‹çµ„åˆï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>Vitest&lt;/code> + &lt;code>Vue-test-utils&lt;/code> + &lt;code>jsdom&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>å¦‚æœå°ˆæ¡ˆæ˜¯åŸºæ–¼ &lt;code>Vue-cli&lt;/code> æ‰€å»ºç«‹çš„ï¼Œé‚£éº¼å°±ç„¡æ³•ä½¿ç”¨äº† &lt;code>Vitest&lt;/code> ä½œç‚ºæ¸¬è©¦é‹è¡Œçš„ç’°å¢ƒäº†ï¼Œæ­¤æ™‚æ ¹æ“šè¡¨ä¸­æˆ‘å€‘å°±å¯ä»¥æ›¿æ›ç‚ºï¼š&lt;/p>
&lt;ul>
&lt;li>æ–¹æ¡ˆä¸€ï¼š&lt;code>Jest&lt;/code> + &lt;code>Vue-test-utils&lt;/code> + &lt;code>jsdom&lt;/code>&lt;/li>
&lt;li>æ–¹æ¡ˆäºŒï¼š&lt;code>Mocha&lt;/code> + &lt;code>Chai.js&lt;/code> + &lt;code>Sinon.js&lt;/code> + &lt;code>Vue-test-utils&lt;/code> + &lt;code>jsdom&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>è€Œåœ¨åšå·¥å…·æ›¿æ›æ™‚ï¼Œéœ€è¦æ³¨æ„åˆ°çš„æ˜¯ï¼Œä¸åŒçš„æ¸¬è©¦ç’°å¢ƒ(test runner)å¯èƒ½æœƒå°æ–¼å¼•å…¥(&lt;code>import&lt;/code>)æª”æ¡ˆæ™‚ç™¼ç”Ÿè§£æä¸Šçš„å•é¡Œï¼Œæ¯”æ–¹è‹¥ç”¨åˆ° Vue ä¸­çš„ &lt;code>SFC&lt;/code> é¡å‹æª”æ¡ˆä½œç‚ºé–‹ç™¼ï¼Œé‚£åœ¨ &lt;code>Jest&lt;/code> åšç‚ºæ¸¬è©¦ç’°å¢ƒæ™‚æˆ‘å€‘å°±éœ€è¦å¦å¤–å®‰è£ &lt;code>vue-jest&lt;/code> ä¾†åšè½‰æ› &lt;code>SFC&lt;/code> ä¸Šçš„è™•ç†ã€‚&lt;/p>
&lt;p>ç•¶ç„¶ï¼Œä¸Šè¿°çš„éœ€æ±‚è¡¨åªæ˜¯ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼Œè€Œéš¨è‘—æ’°å¯«æ¸¬è©¦çš„ç¶“é©—è¶Šå¤šï¼Œå¾ŒçºŒæ…¢æ…¢å°±æœƒç­è§£åˆ°å°ˆæ¡ˆä¸­æœƒéœ€è¦å“ªäº›æ¸¬è©¦å·¥å…·ä¾†å”åŠ©æˆ‘å€‘é€²è¡Œæ¸¬è©¦ï¼Œç”šè‡³æ¯”è¼ƒå„ç¨®æ¸¬è©¦å·¥å…·çš„å„ªç¼ºé»å¾è€Œé¸å‡ºæœ€é©åˆåœ˜éšŠçš„æ¸¬è©¦å·¥å…·ï¼&lt;/p>
&lt;p>ç¾åœ¨æˆ‘å€‘å·²ç¶“äº†è§£è¦å¦‚ä½•æŒ‘é¸æ¸¬è©¦å·¥å…·äº†ï¼Œæ¥ä¸‹ä¾†è¦é–‹å§‹èŠèŠæ’°å¯«æ¸¬è©¦æ¡ˆä¾‹æ™‚æ‡‰è©²è¦å¦‚ä½•æ€è€ƒï¼&lt;/p>
&lt;hr>
&lt;h2 id="æ±ºå®šæ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹">æ±ºå®šæ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹&lt;/h2>
&lt;p>å†ä¾†è«‡è«‡åœ¨é¸æ“‡é€™äº›å·¥å…·å¾Œï¼Œæˆ‘å€‘è¦å¦‚ä½•ä¾†æ€è€ƒé‡å°ã€Œå–®å…ƒæ¸¬è©¦ã€çš„éƒ¨åˆ†ï¼Œæ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹è¦æ€éº¼æ’°å¯«ä»¥åŠéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚&lt;/p>
&lt;h3 id="æ¸¬è©¦æƒ…å¢ƒtest-suiteæ¸¬è©¦æ¡ˆä¾‹test-case">æ¸¬è©¦æƒ…å¢ƒ(test suite)æ¸¬è©¦æ¡ˆä¾‹(test case)&lt;/h3>
&lt;p>æä¾›æ¸¬è©¦ç’°å¢ƒçš„å·¥å…·ä¸€èˆ¬æœƒçµ¦äºˆæ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹çš„ç›¸é—œ APIï¼Œè€Œæ¸¬è©¦æƒ…å¢ƒèˆ‡æ¡ˆä¾‹æœ€ä¸»è¦çš„ç”¨æ„æ˜¯ç”¨ä¾†å¹«åŠ©æˆ‘å€‘è¦åŠƒèˆ‡æ•´ç†æ•´å€‹æ¸¬è©¦é‚è¼¯ï¼Œä¸¦ä¸”åœ¨æˆ‘å€‘æ¸¬è©¦æ¡ˆä¾‹éŒ¯èª¤çš„æ™‚å€™åŒæ™‚æä¾›ç›¸å°æ‡‰çš„è³‡è¨Šã€‚&lt;/p>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘ä»¥ã€Œ&lt;strong>è²“å’ªä½œç‚ºå…ƒä»¶&lt;/strong>ã€ç‚ºæ•…äº‹ä¸»è»¸ä¾†è«‡è«‡å–®å…ƒæ¸¬è©¦çš„æ€è·¯æœƒæ˜¯æ€éº¼æ’°å¯«ã€‚&lt;/p>
&lt;p>é¦–å…ˆæˆ‘å€‘å‡è¨­ã€Œ&lt;strong>è²“å’ª&lt;/strong>ã€å…ƒä»¶æœƒæä¾›ä¸‹åˆ—åŠŸèƒ½ï¼š&lt;/p>
&lt;ul>
&lt;li>ç™¼å‡ºå‘¼åš•åš•å«è²&lt;/li>
&lt;li>æ¨å€’çœ¼å‰çœ‹åˆ°çš„æ‰€æœ‰æ±è¥¿&lt;/li>
&lt;/ul>
&lt;p>è€Œä»¥ä½¿ç”¨è€…è§’åº¦ä¸Šä¾†çœ‹ï¼Œæˆ‘å€‘æœƒå°ã€Œ&lt;strong>è²“å’ª&lt;/strong>ã€åšå‡ºé€™äº›äº‹æƒ…ï¼š&lt;/p>
&lt;ul>
&lt;li>æ‘¸æ‘¸&lt;/li>
&lt;li>é¤µé£Ÿ&lt;/li>
&lt;li>æ‹¿ç©å…·é€—&lt;/li>
&lt;/ul>
&lt;p>æ¥è‘—æˆ‘å€‘å°±å¯ä»¥ä»¥å…ƒä»¶ä½œç‚ºæƒ…å¢ƒä¾†å®šç¾©å‡ºå„ç¨®ä½¿ç”¨ä¸Šçš„æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è²“å’ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é¤µé£Ÿï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‹¿ç©å…·é€—ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ä»€éº¼éƒ½ä¸åšï¼Œæ‡‰è©²æ¨å€’çœ¼å‰çœ‹åˆ°çš„æ‰€æœ‰æ±è¥¿&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†çœŸå¯¦çš„æ¸¬è©¦æ¡ˆä¾‹ä¸æœƒé€™éº¼ç°¡å–®ï¼Œç¸½æœƒæœ‰ä¸€äº›ä¾‹å¤–ç‹€æ³ï¼Œé‚£éº¼æ¸¬è©¦æ¡ˆä¾‹æ‡‰è©²è¦åŒ…å«å“ªäº›è¦ç´ æ¯”è¼ƒå¥½ï¼Ÿ&lt;/p>
&lt;h3 id="æ¡ˆä¾‹è·¯å¾‘happy-pathsad-pathbad-path">æ¡ˆä¾‹è·¯å¾‘(happy pathã€sad pathã€bad path)&lt;/h3>
&lt;p>åœ¨è¨­å®šæ¸¬è©¦æ¡ˆä¾‹æ™‚ï¼Œç¸½æœƒæœ‰ç™¾ç™¾ç¨®æƒ…æ³ï¼Œä½†æ˜¯æˆ‘å€‘ä¸å¯èƒ½æ¯å€‹éƒ½å¯«å‡ºä¾†ï¼Œè€Œæ ¹æ“šæ¸¬è©¦æ¡ˆä¾‹çš„é¡å‹ä¸»è¦å¯ä»¥åˆ†ç‚ºä¸‰ç¨®è·¯å¾‘ï¼š&lt;/p>
&lt;ul>
&lt;li>Happy Pathï¼šåœ¨æˆ‘å€‘å®šç¾©æ‰€è¬‚ã€Œ&lt;strong>æ­£å¸¸çš„ä½¿ç”¨ç‹€æ³&lt;/strong>ã€ä¸‹ï¼Œé‡å°ã€Œ&lt;strong>æ­£ç¢ºçš„å…§å®¹&lt;/strong>ã€ï¼Œæˆ‘å€‘é æœŸæ‡‰è©²è¦åšå‡ºçš„åæ‡‰ã€‚&lt;/li>
&lt;li>Sad Pathï¼šåœ¨æˆ‘å€‘å®šç¾©æ‰€è¬‚ã€Œ&lt;strong>æ­£å¸¸çš„ä½¿ç”¨ç‹€æ³&lt;/strong>ã€ä¸‹ï¼Œé‡å°ã€Œ&lt;strong>éŒ¯èª¤çš„å…§å®¹&lt;/strong>ã€ï¼Œæˆ‘å€‘é æœŸæ‡‰è©²è¦åšå‡ºçš„åæ‡‰ã€‚&lt;/li>
&lt;li>Bad Pathï¼šåœ¨æˆ‘å€‘å®šç¾©æ‰€è¬‚ã€Œ&lt;strong>éŒ¯èª¤&lt;/strong>ã€çš„ä½¿ç”¨ç‹€æ³ä¸‹ï¼Œæˆ‘å€‘é æœŸæ‡‰è©²è¦åšå‡ºçš„åæ‡‰ã€‚&lt;/li>
&lt;/ul>
&lt;p>åŒæ¨£ä»¥è²“è¢«æ‘¸æ‘¸ä½œç‚ºä¾‹å­ä¾†çœ‹ï¼Œå‡è¨­å°æ–¼è²“ä¾†èªªèƒ½å¤ æ¥å—æ‘¸æ‘¸çš„æƒ…æ³åªé™æ–¼ã€Œ&lt;strong>é ­èˆ‡ä¸‹å·´&lt;/strong>ã€ï¼Œè€Œå–œæ­¡è¢«æ‘¸çš„éƒ¨åˆ†åªæœ‰ã€Œ&lt;strong>ä¸‹å·´&lt;/strong>ã€ï¼Œé‚£éº¼æ¸¬è©¦æ¡ˆä¾‹è·¯å¾‘å°±å¯ä»¥é€™éº¼å®šç¾©ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è²“å’ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Happy Path
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸ä¸‹å·´ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Sad Path
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸é ­ï¼Œæ‡‰è©²æ²’åæ‡‰&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Bad Path
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸è‚šå­ï¼Œæ‡‰è©²æ‹‹å‡ºéŒ¯èª¤&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è·¯å¾‘å„ªå…ˆåº¦">è·¯å¾‘å„ªå…ˆåº¦&lt;/h3>
&lt;p>è€Œä»¥å„å€‹è·¯å¾‘å„ªå…ˆåº¦ä¾†èªªï¼Œæˆ‘å€‘æ‡‰ç•¶ç›¡å¯èƒ½çš„å…ˆå®Œå–„ Happy Path èˆ‡ Sad Path çš„å„ç¨®æ¡ˆä¾‹ï¼Œå› ç‚ºå°æ–¼å¯¦éš›å°ˆæ¡ˆä¸Šä¾†èªªï¼Œé€™äº›å…§å®¹æ˜¯æˆ‘å€‘é æœŸå…ƒä»¶æˆ–å‡½å¼æœ¬èº«æ‡‰æä¾›çš„å…§å®¹ã€‚&lt;/p>
&lt;p>ç„¶è€Œ Bad Path é€šå¸¸æ˜¯å»ºç«‹å·²çŸ¥å“ªäº›æƒ…æ³æœƒæ˜¯ã€Œä¸æ­£ç¢ºçš„ä½¿ç”¨ã€ï¼Œæˆ‘å€‘åªèƒ½å°±å·²çŸ¥çš„ç‹€æ³ä¾†é é˜²ã€‚ç„¶è€Œï¼Œé€™ä¸€éƒ¨åˆ†å…¶å¯¦å†æ€éº¼ç¸å¯†ï¼Œéƒ½é‚„æ˜¯æœƒæœ‰æ¥µå…¶ä¾‹å¤–çš„äº‹æƒ…ç™¼ç”Ÿï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è²“å’ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Bad Path
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸è‚šå­ï¼Œæ‡‰è©²æ‹‹å‡ºéŒ¯èª¤&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸å°¾å·´ï¼Œæ‡‰è©²æ‹‹å‡ºéŒ¯èª¤&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸æ‰‹ï¼Œæ‡‰è©²æ‹‹å‡ºéŒ¯èª¤&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸è…³ï¼Œæ‡‰è©²æ‹‹å‡ºéŒ¯èª¤&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// èˆ‰ä¸å®Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤é€éæ¸¬è©¦ä¾†ä½œé˜²ç¦¦æ‰€æœ‰ä¸åˆç†çš„è¡Œç‚ºæ˜¯ä¸æ²»æœ¬çš„è¡Œç‚ºï¼Œæˆ‘æ‡‰è©²å¾å—æ¸¬ç‰©æœ¬èº«æä¾›çš„æ“ä½œæˆ–æ˜¯ç”¢å“è¦åŠƒä¸Šä¾†å»è€ƒé‡ç›¸å°æ²»æœ¬çš„æ–¹å¼ï¼›æ¯”æ–¹åœ¨ã€Œ&lt;strong>è²“å’ª&lt;/strong>ã€å…ƒä»¶ä¸Šé€éç¨‹å¼è¨­è¨ˆçš„éƒ¨åˆ†ï¼Œè¦åŠƒã€Œ&lt;strong>æ‘¸æ‘¸&lt;/strong>ã€è¡Œç‚ºåªé–‹æ”¾ã€Œ**é ­ã€**èˆ‡ã€Œ&lt;strong>ä¸‹å·´&lt;/strong>ã€çš„éƒ¨ä½ï¼Œå¾é–‹ç™¼éšæ®µå°±é˜»æ­¢å…¶ä»–é–‹ç™¼è€…èª¤ç”¨ã€Œ&lt;strong>æ‘¸æ‘¸&lt;/strong>ã€æ–¹æ³•ï¼Œåˆ°æœ€å¾ŒçœŸçš„æœ‰å…¶å¿…è¦ç‰¹åˆ¥æ‹‹å‡ºæ™‚æ‰é‡å°é€™ä¸€éƒ¨åˆ†å¯« Bad Path æ¡ˆä¾‹ã€‚&lt;/p>
&lt;p>æœ€å¾Œï¼Œå†ç”¨ä¸€å€‹å¯¦éš›ä¸€é»çš„ä¾‹å­èªªæ˜ï¼Œå‡è¨­ä»Šå¤©æœ‰å€‹ç™»å…¥çš„è¡¨å–®å…ƒä»¶ï¼Œé‚£éº¼æœ€ç°¡å–®é æœŸæœƒæœ‰çš„æ¡ˆä¾‹å°±æœƒæ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ç™»å…¥å…ƒä»¶&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Happy Path
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è¼¸å…¥æ­£ç¢ºå¸³è™Ÿå¯†ç¢¼ï¼Œæ‡‰ç™»å…¥åˆ°ï¼¯ï¼¯é é¢&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Sad Path
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;åªè¼¸å…¥å¸³è™Ÿï¼Œæ‡‰è©²é¡¯ç¤ºè«‹è¼¸å…¥å¯†ç¢¼&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;åªè¼¸å…¥å¯†ç¢¼ï¼Œæ‡‰è©²é¡¯ç¤ºè«‹è¼¸å…¥å¸³è™Ÿ&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è¼¸å…¥éŒ¯èª¤å¸³è™Ÿå¯†ç¢¼ï¼Œæ‡‰è©²é¡¯ç¤ºç™»å…¥è³‡è¨ŠéŒ¯èª¤&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»¥ä¸Šå°±æ˜¯æ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹æœ€åŸºæœ¬éœ€è¦ç­è§£çš„éƒ¨åˆ†ï¼Œæ¥è‘—æˆ‘å€‘ä¾†é—œæ³¨æ–¼æ¸¬è©¦æ¡ˆä¾‹ä¸­å…§éƒ¨æ‡‰è©²è¦å¦‚ä½•ä¾†æ’°å¯«ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æ’°å¯«æ¸¬è©¦ç¨‹å¼ç¢¼çš„å‰è¨€">æ’°å¯«æ¸¬è©¦ç¨‹å¼ç¢¼çš„å‰è¨€&lt;/h2>
&lt;h3 id="æ’°å¯«æ¸¬è©¦ç¨‹å¼ç¢¼éœ€ä¿æŒçš„å¿ƒå¢ƒ">æ’°å¯«æ¸¬è©¦ç¨‹å¼ç¢¼éœ€ä¿æŒçš„å¿ƒå¢ƒ&lt;/h3>
&lt;p>è«‡åˆ°æ’°å¯«æ¸¬è©¦ï¼Œä¸å¾—ä¸æåˆ° Robert Cecil Martin æœ‰æœ¬ç¶“å…¸çš„ã€Šç„¡ç‘•çš„ç¨‹å¼ç¢¼ï¼šæ•æ·è»Ÿé«”é–‹ç™¼æŠ€å·§å®ˆå‰‡ã€‹ï¼Œä½œè€…åœ¨å…¶ä¸­é‡å°äº†ç¨‹å¼ç¢¼çš„éƒ¨åˆ†æäº†å¾ˆå¤šå„ªè‰¯çš„å»ºè­°ï¼Œä¸è«–æ˜¯æ’°å¯«ç¨‹å¼ç¢¼ä¸­çš„å‘½åã€å‡½å¼åƒæ•¸ç­‰ç­‰åšæ¢è¨ï¼Œä¹Ÿåœ¨å¯¦éš›çš„æ¡ˆä¾‹ä¸­åšä¸€äº›è¨è«–èˆ‡é‡æ§‹ï¼Œæœ€å¾Œå›é¡§é‚£äº›ç¨‹å¼ç¢¼ä¸­çš„æ°£å‘³ã€æ¸…ç†ç¨‹å¼ç¢¼ï¼Œä¸€æ°£å‘µæˆã€‚&lt;/p>
&lt;p>è€Œå…¶ä¸­æœ‰ä¸€å€‹ç« ç¯€æœ€ä¸»è¦å°±æ˜¯åœ¨è¬›æœ‰é—œã€Œå–®å…ƒæ¸¬è©¦ã€çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯ç³»åˆ—æ–‡å‰è¨€æåˆ°ã€Œè¢«æ¨å‘ã€çš„éƒ¨åˆ†ï¼Œæˆ‘æŠŠè£¡é¢çš„æ¦‚å¿µçµåˆæˆ‘çš„ç¶“é©—ä¾†é‡æ–°é—¡è¿°ä¸€æ¬¡ï¼š&lt;/p>
&lt;p>è‹¥å¸¶è‘—å–®ç´”å­¸ç¿’çš„å¿ƒæ…‹ä¾†çœ‹å¾…æ¸¬è©¦ç¨‹å¼ç¢¼ï¼Œå…¶å¯¦å¾ˆå®¹æ˜“æŠŠå®ƒç•¶ä½œä¸€é …è¼”åŠ©å·¥å…·åœ¨è™•ç†ï¼Œè¦ºå¾—æ²’æœ‰ä¹Ÿæ²’ä»€éº¼é—œä¿‚ï¼Œç”šè‡³ç¤™æ‰‹ç¤™è…³çš„ï¼Œç”šè‡³å¯èƒ½è¦ºå¾—é‚„è¦ç‰¹åœ°èŠ±äº†ä¸å°‘å¿ƒåŠ›ä¾†ç­è§£å®ƒï¼Œä½†é€™æ˜¯ä¸€é«”å…©é¢çš„ã€‚&lt;/p>
&lt;p>è‹¥ä½ æŠŠå®ƒç•¶ä½œç”¢å“ä¸­çš„ä¸€éƒ¨åˆ†å°±æœƒç™¼ç¾ï¼Œé›–ç„¶é–‹ç™¼æ™‚æœƒå—åˆ°æ¸¬è©¦ç¨‹å¼ç¢¼çš„ã€Œé™åˆ¶ã€ï¼Œä½†åŒæ™‚ä»–å…¶å¯¦ä¹Ÿæ˜¯åœ¨åšã€Œå®ˆè­·ã€ç”¢å“ç¨‹å¼ç¢¼é€™ä»¶äº‹æƒ…ï¼›ç”šè‡³å› ç‚ºæœ‰äº†ã€Œå¯ä¿¡è³´çš„æ¸¬è©¦ã€ï¼Œæ‰€ä»¥ç•¶æˆ‘å€‘åœ¨é€²è¡Œã€Œé‡æ§‹ã€ç­‰ç­‰èª¿æ•´æ™‚ä¹Ÿæ‰èƒ½æ›´æœ‰ä¿¡å¿ƒåœ°å»è™•ç†ã€‚&lt;/p>
&lt;p>å› æ­¤åªè¦ç¢ºä¿æˆ‘å€‘åœ¨é©ç•¶çš„æ™‚æ©ŸåŠ å…¥å®ƒï¼Œé‚£éº¼å®ƒå°±èƒ½å¤ å¸¶ä¾†å¯è§€çš„å¾ŒçºŒæ•ˆç›Šï¼Œè€Œæ—¢ç„¶ä»–èƒ½å¤ æ›¿æˆ‘å€‘å¸¶ä¾†æ•ˆç›Šï¼Œé‚£æˆ‘å€‘å°å¾…æ¸¬è©¦ç¨‹å¼ç¢¼çš„æ…‹åº¦å…¶å¯¦ä¹Ÿæ‡‰è©²è¦åŒç†ç”¢å“ç¨‹å¼ç¢¼ï¼Œå¯æ˜¯é™¤äº†è®“æ¸¬è©¦ç¨‹å¼ç¢¼å¦‚åŒç”¢å“ç¨‹å¼ç¢¼ä¸€æ¨£ä¿æŒã€Œæ•´æ½”ã€èˆ‡ã€Œå¯è®€æ€§ã€ä¹‹å¤–ï¼Œæˆ‘å€‘é‚„æœ‰ä»€éº¼è¾¦æ³•å‘¢ï¼Ÿ&lt;/p>
&lt;p>å°æ–¼é€™å€‹å•é¡Œ Martin çµ¦äº†ä¸€å€‹æ’°å¯«æ¸¬è©¦ç¢¼çš„å„ªè‰¯æº–å‰‡ï¼Œé‚£å°±æ˜¯ F.I.R.S.T æ³•å‰‡ã€‚&lt;/p>
&lt;h3 id="first-æ³•å‰‡">F.I.R.S.T æ³•å‰‡&lt;/h3>
&lt;p>F.I.R.S.T æ³•å‰‡é¡§åæ€ç¾©å…¶å¯¦å°±æ˜¯äº”å€‹è‹±æ–‡å–®å­—çš„ç¸®å¯«ï¼Œä»–å€‘åˆ†åˆ¥æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>Fast&lt;/li>
&lt;li>Independent&lt;/li>
&lt;li>Repeatable&lt;/li>
&lt;li>Self-Validating&lt;/li>
&lt;li>Timely&lt;/li>
&lt;/ul>
&lt;h4 id="fastå¿«">Fast(å¿«)&lt;/h4>
&lt;p>ç°¡å–®ä¾†èªªå°±æ˜¯å¿«ï¼Œå› ç‚ºå¿«æ‰èƒ½è®“æˆ‘å€‘å¿«é€Ÿé‡è¤‡å¤§é‡åœ°æª¢é©—ç”¢å“ç¨‹å¼ç¢¼ï¼›é€™æ„å‘³è‘—æˆ‘å€‘åœ¨æ¸¬è©¦ç¨‹å¼ç¢¼ä¸­æœ‰å¯èƒ½æœƒé‡åˆ°è¦ call API çš„æƒ…æ³ï¼Œé‚£éº¼æˆ‘å€‘å¯ä»¥å°‡å…¶éš”é›¢ä¸¦ç«‹åˆ»å›å‚³æˆ‘å€‘é å®šå¥½çš„è³‡æ–™ä¾†æ¸›å°‘ç­‰å¾…å›æ‡‰çš„æ™‚é–“ã€‚&lt;/p>
&lt;h4 id="independentç¨ç«‹">Independent(ç¨ç«‹)&lt;/h4>
&lt;p>å¦‚æˆ‘å€‘ä¸Šä¸€ç¯‡æ–‡ç« æ‰€æåˆ°çš„ï¼Œæ¯å€‹æ¸¬è©¦æ¡ˆä¾‹æ‡‰è©²è¦äº’ç›¸ç¨ç«‹ï¼Œå½¼æ­¤ä¸å—å¹²æ“¾ä¹‹å¤–ï¼Œç”šè‡³é€£åŸ·è¡Œé †åºä¸Šéƒ½ä¸æœƒå½±éŸ¿åˆ°æœ€çµ‚çµæœã€‚&lt;/p>
&lt;h4 id="repeatableå¯é‡è¤‡">Repeatable(å¯é‡è¤‡)&lt;/h4>
&lt;p>å¯é‡è¤‡æ€§ä¸»è¦æçš„å°±æ˜¯ä¸è«–åœ¨ä»€éº¼è¨­å‚™ç‹€æ³ä¸‹ï¼Œæ‡‰è©²éƒ½è¦ä¿æŒè‘—ä¸€è‡´çš„çµæœï¼Œé€™æ¨£æˆ‘å€‘æ‰èƒ½æ’é™¤æ‰å…¶ä»–ä¸å¿…è¦çš„åŸå› ï¼Œå°ˆæ³¨åœ¨ç™¼ç”Ÿå•é¡Œçš„ç¨‹å¼ç¢¼ä¸Šã€‚&lt;/p>
&lt;h4 id="self-validatingèƒ½è‡ªæˆ‘é©—è­‰">Self-Validating(èƒ½è‡ªæˆ‘é©—è­‰)&lt;/h4>
&lt;p>æ¸¬è©¦çš„æœ€çµ‚ç‹€æ…‹æ‡‰è©²è¦èƒ½å¤ é¡¯ç¤ºã€Œé€šéèˆ‡å¦ã€ï¼Œè€Œé€™ä¸€éƒ¨åˆ†æ¸¬è©¦å·¥å…·æˆ–æ¡†æ¶éƒ½æœƒå¹«æˆ‘å€‘è™•ç†å¥½ï¼Œç”šè‡³éƒ½é‚„æœ‰æä¾›é¡å¤–çš„ diff å·®ç•°è®“æˆ‘å€‘å¿«é€ŸæŸ¥çœ‹éŒ¯èª¤çš„åœ°æ–¹ã€‚&lt;/p>
&lt;h4 id="timelyå³æ™‚">Timely(å³æ™‚)&lt;/h4>
&lt;p>æ¸¬è©¦ç¨‹å¼ç¢¼è¦ç›¡å¯èƒ½çš„èˆ‡ç”¢å“ç¨‹å¼ç¢¼åŒé€²é€€ï¼Œå¦‚æœæ¸¬è©¦ç¨‹å¼ç¢¼è½å¾Œç”¢å“ç¨‹å¼ç¢¼å¤ªå¤šï¼Œæ¸¬è©¦ç¨‹å¼ç¢¼æœƒè¶Šä¾†è¶Šé›£è·Ÿä¸Šç”¢å“ç¨‹å¼ç¢¼çš„æ­¥èª¿ã€‚&lt;/p>
&lt;p>è€Œæ ¹æ“šå°å¾…æ¸¬è©¦ç¨‹å¼ç¢¼å¿ƒæ…‹çš„å„ªè‰¯æ³•å‰‡ï¼Œåœ¨æ’°å¯«æ¸¬è©¦ç¨‹å¼ç¢¼æ™‚å°±èƒ½æ›´å®¹æ˜“é«”æœƒåˆ°ä»–çš„é­…åŠ›ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="describe--it-èˆ‡-è¼”åŠ©-api">describe &amp;amp; it èˆ‡ è¼”åŠ© API&lt;/h2>
&lt;h3 id="describe--it-åŸºç¤ç”¨æ³•">describe &amp;amp; it åŸºç¤ç”¨æ³•&lt;/h3>
&lt;p>ç¨æ—©æœ‰æåˆ°çš„æ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹åœ¨ &lt;code>Vitest&lt;/code> å·¥å…·ä¸­ä¸»è¦ä¾¿æ˜¯é€é &lt;code>describe&lt;/code> èˆ‡ &lt;code>it&lt;/code>(æˆ– &lt;code>test&lt;/code>) ä¾†æ’°å¯«ï¼Œè€Œä»–å€‘çš„ç”¨æ„é™¤äº†è¦åŠƒæ¸¬è©¦çš„è„ˆçµ¡ä¹‹å¤–ï¼Œæœ€ä¸»è¦æ˜¯ç”¨ä¾†åŒ…è£æ–·è¨€çµæœçš„è³‡è¨Šï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">describe&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒçš„æè¿°&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ç¬¬ä¸€å€‹æ¸¬è©¦æ¡ˆä¾‹çš„æè¿°&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">add&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">y&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‡è¨­åœ¨çµ‚ç«¯æ©ŸåŸ·è¡Œä¸Šæ–¹çš„æ¸¬è©¦ç¨‹å¼ç¢¼æ™‚ï¼Œä¾æ“šå·¥å…·é è¨­è¨­å®šæœƒåœ¨çµ‚ç«¯æ©Ÿé¡¯ç¤ºã€ŒéŒ¯èª¤çš„ç›¸é—œè³‡è¨Šã€èˆ‡ã€Œç¶œåˆçµæœã€ã€‚&lt;/p>
&lt;p>éŒ¯èª¤çš„ç›¸é—œè³‡è¨Šï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161161_6eaf044f61_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;ul>
&lt;li>FAILï¼šç™¼ç”Ÿæ–·è¨€éŒ¯èª¤æª”æ¡ˆè·¯å¾‘ + æƒ…å¢ƒæè¿° + æ¡ˆä¾‹æè¿°(è¦–ç•¶ä¸‹éŒ¯èª¤æ‰€å±¬çš„æƒ…å¢ƒèˆ‡æ¡ˆä¾‹)ã€‚&lt;/li>
&lt;li>AssertionErrorï¼šç™¼ç”Ÿæ–·è¨€éŒ¯èª¤çš„åŸå› ï¼Œèˆ‡ç™¼ç”ŸéŒ¯èª¤çš„æ®µè½ã€‚&lt;/li>
&lt;li>Expectedï¼šé æœŸçµæœã€‚&lt;/li>
&lt;li>Receivedï¼šå¯¦éš›çµæœã€‚&lt;/li>
&lt;/ul>
&lt;p>ç¶œåˆçµæœï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421709_7ab116b4c3_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;ul>
&lt;li>Test Filesï¼šç¸½å…±æ¸¬è©¦äº†å¹¾éš»æ¸¬è©¦æª”æ¡ˆï¼Œä¸¦é¡¯ç¤ºæˆåŠŸã€å¤±æ•—èˆ‡è·³éçš„æ•¸é‡ã€‚&lt;/li>
&lt;li>Testsï¼šç¸½å…±æ¸¬äº†å¹¾å€‹æ¸¬è©¦æ¡ˆä¾‹ï¼Œä¸¦é¡¯ç¤ºæˆåŠŸã€å¤±æ•—èˆ‡è·³éçš„æ•¸é‡ã€‚&lt;/li>
&lt;li>Startï¼šæ¸¬è©¦é–‹å§‹æ™‚é–“ã€‚&lt;/li>
&lt;li>Durationï¼šæ¸¬è©¦éç¨‹ç¸½å…±è€—è²»æ™‚é–“ã€‚&lt;/li>
&lt;/ul>
&lt;p>è€Œé™¤äº†ä¸Šè¿°åŸºæœ¬ç”¨æ³•ä¹‹å¤–ï¼Œåœ¨åŒä¸€å€‹æ¸¬è©¦æƒ…å¢ƒä¸­ä¹Ÿèƒ½å®¹ç´æ•¸å€‹æ¸¬è©¦æ¡ˆä¾‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒçš„æè¿°&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ç¬¬ä¸€å€‹æ¸¬è©¦æ¡ˆä¾‹çš„æè¿°&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ç¬¬äºŒå€‹æ¸¬è©¦æ¡ˆä¾‹çš„æè¿°&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”šè‡³æ¸¬è©¦æƒ…å¢ƒè¼ƒç‚ºè¤‡é›œçš„æƒ…æ³ï¼Œæ¸¬è©¦æƒ…å¢ƒ(&lt;code>describe&lt;/code>)ä¹Ÿå…è¨±å·¢ç‹€çš„æ–¹å¼ä¾†å»ºæ§‹æ¸¬è©¦ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;çˆ¶å±¤æƒ…å¢ƒ&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;åŸºæ–¼çˆ¶å±¤æƒ…å¢ƒçš„æƒ…å¢ƒä¸€&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;åŸºæ–¼çˆ¶å±¤æƒ…å¢ƒçš„æƒ…å¢ƒäºŒ&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‡ºç¾æç¤ºå¯„ä»¶è€…å§“åèˆ‡é›»è©±å°‡ç›´æ¥è¨»å†Šæˆæœƒå“¡&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç›¸ååœ°ï¼Œè‹¥åœ¨ç°¡å–®çš„æƒ…å¢ƒçš„ä¹‹ä¸‹ï¼Œåªæœ‰æ¸¬è©¦æ¡ˆä¾‹ä¹Ÿæ˜¯å…è¨±çš„æ–¹å¼ä¹‹ä¸€ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="describe--it-è¼”åŠ©-api">describe &amp;amp; it è¼”åŠ© API&lt;/h3>
&lt;p>é™¤äº†ä¸Šè¿°çš„åŸºæœ¬ç”¨æ³•ä¹‹å¤–ï¼Œé€é &lt;code>describe&lt;/code> èˆ‡ &lt;code>it&lt;/code> æ’°å¯«æ¸¬è©¦çš„éç¨‹ä¸­ä¹Ÿèƒ½é€é&lt;code>è¼”åŠ©çš„ API&lt;/code> ä¾†æ•´ç†æ¸¬è©¦ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>.only&lt;/code>ï¼šæ¸¬è©¦æƒ…å¢ƒã€æ¸¬è©¦æ¡ˆä¾‹çš†å¯ä½¿ç”¨&lt;/li>
&lt;li>&lt;code>.skip&lt;/code>ï¼šæ¸¬è©¦æƒ…å¢ƒã€æ¸¬è©¦æ¡ˆä¾‹çš†å¯ä½¿ç”¨&lt;/li>
&lt;li>&lt;code>.todo&lt;/code>ï¼šæ¸¬è©¦æƒ…å¢ƒã€æ¸¬è©¦æ¡ˆä¾‹çš†å¯ä½¿ç”¨&lt;/li>
&lt;li>&lt;code>.fails&lt;/code>ï¼šæ¸¬è©¦æ¡ˆä¾‹æ‰èƒ½ä½¿ç”¨&lt;/li>
&lt;/ul>
&lt;h4 id="only">only&lt;/h4>
&lt;p>è‹¥åœ¨&lt;strong>æ¸¬è©¦æƒ…å¢ƒ&lt;/strong>ç”¨äº†æ­¤æŒ‡ä»¤ï¼Œå‰‡åœ¨åŒå€‹æ¸¬è©¦æª”æ¡ˆä¸­åªæœƒåŸ·è¡Œå¸¶æœ‰ &lt;code>.only&lt;/code> çš„æ¸¬è©¦æƒ…å¢ƒï¼Œè€Œå…¶é¤˜æ¸¬è©¦æƒ…å¢ƒåº•ä¸‹æ‰€æœ‰çš„æ¸¬è©¦æ¡ˆä¾‹å°‡æœƒè¢«è·³é(&lt;code>skipped&lt;/code>)ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">only&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 3&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥åœ¨&lt;strong>æ¸¬è©¦æ¡ˆä¾‹&lt;/strong>ä¸­ä½¿ç”¨ï¼Œå‰‡é™¤äº†å¸¶æœ‰ &lt;code>.only&lt;/code> ä¹‹å¤–çš„æ¸¬è©¦æ¡ˆä¾‹éƒ½å°‡æœƒè¢«è·³éï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">only&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">only&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 3&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="skip">skip&lt;/h4>
&lt;p>æ¸¬è©¦æƒ…å¢ƒæˆ–æ¸¬è©¦æ¡ˆä¾‹è¢«æ¨™æ³¨æ™‚ï¼Œå°‡è‡ªå‹•è·³éè©²ç¯„ç–‡å…§çš„æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">skip&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">skip&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="todo">todo&lt;/h4>
&lt;p>æ¸¬è©¦æƒ…å¢ƒæˆ–æ¸¬è©¦æ¡ˆä¾‹è¢«æ¨™æ³¨æ™‚ï¼ŒåŒæ¨£å°‡è‡ªå‹•è·³éè©²ç¯„ç–‡å…§çš„æ¸¬è©¦æ¡ˆä¾‹ï¼Œä½† &lt;code>todo&lt;/code> å«ç¾©æ¯”è¼ƒæ¥è¿‘å¾…åŠ å…¥æ¸¬è©¦çš„å€å¡Šï¼Œä¸¦ä¸”å°‡ä¾†è‹¥ç”¢å‡ºå ±å‘Šæ™‚ä¹Ÿæœƒç‰¹åˆ¥æ•´ç†å‡ºé‚„æœ‰å“ªäº›åœ°æ–¹éœ€è¦è£œä¸Šæ¸¬è©¦ã€‚&lt;/p>
&lt;h4 id="fails">fails&lt;/h4>
&lt;p>æœ€å¾Œä¸€å€‹ä»‹ç´¹çš„æ˜¯æ¸¬è©¦æ¡ˆä¾‹æ‰èƒ½ä½¿ç”¨çš„è¼”åŠ© APIï¼Œé‚„è¨˜å¾—åˆ—æ¸¬è©¦æ¡ˆä¾‹æ™‚çš„ &lt;code>sad path&lt;/code> å—ï¼Ÿç•¶æ¸¬è©¦æ¡ˆä¾‹æ‡‰è©²è¦å¤±æ•—çš„æ™‚å€™å°±å¯ä»¥é€é &lt;code>fails&lt;/code> é¡¯æ€§æ¨™è¨»ä»–å€‘ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fails&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&amp;#39;1&amp;#39; + &amp;#39;1&amp;#39; should not to be &amp;#39;11&amp;#39;`&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">add&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">Number&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">Number&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;11&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ç„¶ä½ ä¹Ÿå¯ä»¥å–®ç´”è—‰ç”±æ–·è¨€ä¸­çš„ &lt;code>.not&lt;/code> é”åˆ°åŒæ¨£çš„æ•ˆæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&amp;#39;1&amp;#39; + &amp;#39;1&amp;#39; should not to be &amp;#39;11&amp;#39;`&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">add&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">Number&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">Number&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">not&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;11&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»¥ä¸Šä¾¿æ˜¯æ¸¬è©¦ç¨‹å¼ç¢¼ä¸­æ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹çš„éƒ¨åˆ†ï¼Œæœ‰é—œæ–¼è¼”åŠ© API çš„éƒ¨åˆ†æœ‰äº›å…§å®¹ä¸ä¸€å®šæœƒä½¿ç”¨çš„åˆ°ï¼Œè‹¥æƒ³æ›´åŠ ç­è§£æ‰€æœ‰å¯ç”¨çš„éƒ¨åˆ†å¯ä»¥åƒè€ƒ Vitest &lt;a class="link" href="https://cn.vitest.dev/api/#describe" target="_blank" rel="noopener"
>æ¸¬è©¦æƒ…å¢ƒ&lt;/a> èˆ‡ &lt;a class="link" href="https://cn.vitest.dev/api/#test" target="_blank" rel="noopener"
>æ¸¬è©¦æ¡ˆä¾‹&lt;/a> çš„æ–‡ä»¶å›‰ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æº–å‚™setupèˆ‡æ¸…ç†teardown">æº–å‚™(Setup)èˆ‡æ¸…ç†(Teardown)&lt;/h2>
&lt;p>ç¶“éäº†åŸºæœ¬çš„æ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹èªæ³•ï¼ŒåŠ ä¸Šç°¡å–®çš„æ–·è¨€èªæ³• &lt;code>expect().toBe()&lt;/code> å°±èƒ½å¤ æ¸¬è©¦è¨±å¤šç°¡å–®çš„æ±è¥¿äº†ï¼Œç„¶è€Œåœ¨æ¸¬è©¦éç¨‹ä¸­æœ‰æ™‚æœƒé‡åˆ°å¤§é‡é‡è¤‡çš„ã€Œ&lt;strong>å‰ç½®æ“ä½œ&lt;/strong>ã€æˆ–æ˜¯æ¯æ¬¡æ¸¬è©¦å¾Œã€Œ&lt;strong>éœ€è¦æ¸…ç†æ¸¬è©¦ä¸­çš„ç’°å¢ƒ&lt;/strong>ã€ï¼Œé€™æ™‚æˆ‘å€‘å¯ä»¥é€é &lt;code>Vitest&lt;/code> æä¾›çš„ &lt;code>Setup&lt;/code> &amp;amp; &lt;code>Teardown&lt;/code> API ä¾†è™•ç†ï¼š&lt;/p>
&lt;ul>
&lt;li>beforeEachï¼šåœ¨æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹åŸ·è¡Œå‰å‘¼å«ä¸€æ¬¡ã€‚&lt;/li>
&lt;li>beforeAllï¼šåœ¨æ‰€æœ‰æ¸¬è©¦æ¡ˆä¾‹åŸ·è¡Œå‰å‘¼å«ä¸€æ¬¡ã€‚&lt;/li>
&lt;li>afterEachï¼šåœ¨æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹åŸ·è¡Œå¾Œå‘¼å«ä¸€æ¬¡ã€‚&lt;/li>
&lt;li>afterAllï¼šåœ¨æ‰€æœ‰æ¸¬è©¦æ¡ˆä¾‹åŸ·è¡Œå¾Œå‘¼å«ä¸€æ¬¡ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é‡å°æ¸¬è©¦æ¡ˆä¾‹é‡æ–°åˆå§‹åŒ–
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">initTestEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="setup--teardown-api-çš„ç¯„ç–‡">Setup &amp;amp; Teardown API çš„ç¯„ç–‡&lt;/h3>
&lt;p>&lt;code>Setup&lt;/code> &amp;amp; &lt;code>Teardown&lt;/code> API ã€Œ&lt;strong>æ‰€æœ‰&lt;/strong>ã€çš„å®šç¾©æ˜¯æ ¹æ“šç•¶ä¸‹çš„ç¯„ç–‡(&lt;code>context&lt;/code>)ä¾†æ±ºå®šï¼Œé™¤äº†æ¸¬è©¦æª”æ¡ˆæœ¬èº«ä¹‹å¤–ï¼Œä½¿ç”¨ &lt;code>describe&lt;/code> ä¾†å®šç¾©æ¸¬è©¦æƒ…å¢ƒä¹Ÿæœƒå½¢æˆä¸€å€‹ &lt;code>context&lt;/code>ï¼Œå› æ­¤å‡å¦‚æ¸¬è©¦æƒ…å¢ƒæœ‰å·¢ç‹€çš„æƒ…æ³å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">history&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;çˆ¶å±¤æƒ…å¢ƒ&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeAll&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeAll - çˆ¶å±¤æƒ…å¢ƒ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeEach - çˆ¶å±¤æƒ…å¢ƒ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterAll&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;afterAll - çˆ¶å±¤æƒ…å¢ƒ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;afterEach - çˆ¶å±¤æƒ…å¢ƒ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å­å±¤æƒ…å¢ƒ A&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeAll&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeAll - å­å±¤æƒ…å¢ƒ A&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeEach - å­å±¤æƒ…å¢ƒ A&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterAll&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;afterAll - å­å±¤æƒ…å¢ƒ A&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;afterEach - å­å±¤æƒ…å¢ƒ A&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¡ˆä¾‹ 1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å­å±¤æƒ…å¢ƒ A æ¡ˆä¾‹ 1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¡ˆä¾‹ 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å­å±¤æƒ…å¢ƒ A æ¡ˆä¾‹ 2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å­å±¤æƒ…å¢ƒ B&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeAll&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeAll - å­å±¤æƒ…å¢ƒ B&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeEach - å­å±¤æƒ…å¢ƒ B&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterAll&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;afterAll - å­å±¤æƒ…å¢ƒ B&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;afterEach - å­å±¤æƒ…å¢ƒ B&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¡ˆä¾‹ 1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å­å±¤æƒ…å¢ƒ B æ¡ˆä¾‹ 1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¡ˆä¾‹ 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å­å±¤æƒ…å¢ƒ B æ¡ˆä¾‹ 2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ™‚å°‡é€é &lt;code>console.log(history)&lt;/code> æŸ¥çœ‹ä¸¦æ­¸ç´æ•´ç†å°±èƒ½å¾—åˆ°ä»¥ä¸‹çµæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">--- é€²å…¥æ¸¬è©¦ç¨‹å¼ç¢¼æœ¬èº«çš„ Context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- é€²å…¥çˆ¶å±¤æƒ…å¢ƒçš„ Context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeAll - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- é€²å…¥å­å±¤æƒ…å¢ƒ A çš„ Context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeAll - å­å±¤æƒ…å¢ƒ A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - å­å±¤æƒ…å¢ƒ A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">å­å±¤æƒ…å¢ƒ A æ¡ˆä¾‹ &lt;span class="m">1&lt;/span> // åŸ·è¡Œ æƒ…å¢ƒ A æ¡ˆä¾‹ &lt;span class="m">1&lt;/span> çš„æ™‚é–“é»
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - å­å±¤æƒ…å¢ƒ A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - å­å±¤æƒ…å¢ƒ A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">å­å±¤æƒ…å¢ƒ A æ¡ˆä¾‹ &lt;span class="m">2&lt;/span> // åŸ·è¡Œ æƒ…å¢ƒ A æ¡ˆä¾‹ &lt;span class="m">2&lt;/span> çš„æ™‚é–“é»
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - å­å±¤æƒ…å¢ƒ A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterAll - å­å±¤æƒ…å¢ƒ A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- é›¢é–‹å­å±¤æƒ…å¢ƒ A çš„ Context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- é€²å…¥å­å±¤æƒ…å¢ƒ B çš„ Context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeAll - å­å±¤æƒ…å¢ƒ B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - å­å±¤æƒ…å¢ƒ B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">å­å±¤æƒ…å¢ƒ B æ¡ˆä¾‹ &lt;span class="m">1&lt;/span> // åŸ·è¡Œ æƒ…å¢ƒ B æ¡ˆä¾‹ &lt;span class="m">1&lt;/span> çš„æ™‚é–“é»
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - å­å±¤æƒ…å¢ƒ B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - å­å±¤æƒ…å¢ƒ B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">å­å±¤æƒ…å¢ƒ B æ¡ˆä¾‹ &lt;span class="m">2&lt;/span> // åŸ·è¡Œ æƒ…å¢ƒ B æ¡ˆä¾‹ &lt;span class="m">2&lt;/span> çš„æ™‚é–“é»
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - å­å±¤æƒ…å¢ƒ B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterAll - å­å±¤æƒ…å¢ƒ B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- é›¢é–‹å­å±¤æƒ…å¢ƒ B çš„ Context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterAll - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- é›¢é–‹çˆ¶å±¤æƒ…å¢ƒçš„ Context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- é›¢é–‹æ¸¬è©¦ç¨‹å¼ç¢¼æœ¬èº«çš„ Context
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤æˆ‘å€‘åœ¨ä½¿ç”¨é€™é¡ API æ™‚è¦æ³¨æ„ç•¶ä¸‹ &lt;code>context&lt;/code> æ‰€åŒ…å«çš„ç¯„åœã€‚&lt;/p>
&lt;h3 id="é¿å…èª¤å€åœ¨-expect-å¾Œåšæ¸…æƒè™•ç†">é¿å…èª¤å€ï¼šåœ¨ expect å¾Œåšæ¸…æƒè™•ç†&lt;/h3>
&lt;p>é™¤äº†ä¸Šé¢çš„ç”¨æ³•ï¼Œæœ‰æ™‚å€™ä½ å¯èƒ½æœƒèªç‚ºæ—¢ç„¶è¦æ¸…æƒï¼Œé‚£æˆ‘ä½•ä¸åœ¨æ–·è¨€å¾Œè™•ç†å°±å¥½å‘¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨é€™è£¡åšæ¸…é™¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">resetTestingEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™éº¼åšç•¶ä½ åœ¨æ¸¬è©¦æ¡ˆä¾‹éƒ½æ˜¯é€šéçš„æƒ…æ³ä¸‹éƒ½æ²’æœ‰å•é¡Œï¼Œä½†æ˜¯ä¸€ä½†æŸå€‹æ¸¬è©¦æ¡ˆä¾‹ç™¼ç”Ÿäº†éŒ¯èª¤ï¼Œç”±æ–¼æ¸¬è©¦æ¡ˆä¾‹å°±æœƒåœ¨æ–·è¨€æ™‚æ‹‹å‡º &lt;code>AssertionError&lt;/code> å¾Œåœæ­¢ï¼Œå› æ­¤å¾ˆæœ‰å¯èƒ½å› ç‚ºä¸€å€‹æ¸¬è©¦æ¡ˆä¾‹å£äº†å°è‡´æ¥ä¸‹ä¾†æ‰€æœ‰æ¸¬è©¦éƒ½å—åˆ°å½±éŸ¿ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// AssertionErrorï¼Œé€™å€‹æ¸¬è©¦æ¡ˆä¾‹å°±åœåœ¨é€™äº†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">resetTestingEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨æ²’æœ‰ç¶“é `resetTestingEnv()` ä¸‹é€²è¡Œæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨æ²’æœ‰ç¶“é `resetTestingEnv()` ä¸‹é€²è¡Œæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨æ²’æœ‰ç¶“é `resetTestingEnv()` ä¸‹é€²è¡Œæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨æ²’æœ‰ç¶“é `resetTestingEnv()` ä¸‹é€²è¡Œæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤è¼ƒä½³çš„ä½œæ³•é‚„æ˜¯ä½¿ç”¨ &lt;code>Setup&lt;/code> &amp;amp; &lt;code>Teardown&lt;/code> API ä¾†è™•ç†æœƒæ¯”è¼ƒå¥½ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setupTestingEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterEach&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resetTestingEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é¿å…éåº¦ä½¿ç”¨-setup--teardown-api">é¿å…éåº¦ä½¿ç”¨ Setup &amp;amp; Teardown API&lt;/h3>
&lt;p>ä¸€åå°æ–¼æ¸¬è©¦é ˜åŸŸé —æœ‰ç ”ç©¶çš„ Kent C. Dodds åœ¨ twitter ä¸Šç™¼è¡¨ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593679893_c0af1b393a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>è¨±å¤šäººä¸€çœ‹äº†ç´›ç´›è¡¨ç¤ºä¸­æ§ï¼Œå¿ƒæƒ³é€™ä¸å°±æ˜¯æˆ‘åœ¨å¯«çš„æ±è¥¿å—ï¼Ÿå› æ­¤ç™¼æ–‡ä¸€å‡ºä¸å°‘äººå°±å¥½å¥‡é‚£éº¼åˆ°åº•ç‚ºä»€éº¼ä¸Šæ–¹çš„ç”¨æ³•æœƒæ¯”è¼ƒå¥½å‘¢ï¼Ÿä¸”è®“æˆ‘å€‘å¾æŠ½è±¡å…‰è­œä»‹ç´¹èµ·ã€‚&lt;/p>
&lt;h3 id="æŠ½è±¡å…‰è­œthe-spectrum-of-abstraction">æŠ½è±¡å…‰è­œ(The Spectrum of Abstraction)&lt;/h3>
&lt;p>Kent C. Dodds &lt;a class="link" href="https://kentcdodds.com/blog/aha-testing" target="_blank" rel="noopener"
>æå‡º&lt;/a>åœ¨æŠ½è±¡å…‰è­œä¸­ä¸»è¦åˆ†æˆäº†ä¸‰ç¨®æ¦‚å¿µï¼š&lt;/p>
&lt;ul>
&lt;li>ANAï¼šAbsolutely No Abstraction&lt;/li>
&lt;li>AHAï¼šAvoid Hasty Abstraction&lt;/li>
&lt;li>DRYï¼šDon&amp;rsquo;t Repeat Yourself&lt;/li>
&lt;/ul>
&lt;p>è€Œå¾Œä¸¦å°‡æ­¤æ¦‚å¿µæ‡‰ç”¨åœ¨ Testing èº«ä¸Šä¸¦åˆ†åˆ¥è§£èªªäº†ä¸‰ç¨®æŠ½è±¡å‹æ…‹ä¸‹çš„æ¸¬è©¦çš„å„ªåŠ£åˆ†æã€‚&lt;/p>
&lt;p>å…¶ä¸­æˆ‘å€‘å¾€å¾€ä¸€é–‹å§‹å­¸ç¿’å¯èƒ½å› ç‚ºå°èªæ³•ä¸ç†Ÿç¨”ï¼Œå› æ­¤å¯èƒ½æœƒå¯«å‡º ANA Testing å½¢å¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æº–å‚™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ“ä½œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ–·è¨€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æº–å‚™ï¼šé‡è¤‡çš„æº–å‚™é¡ä¼¼çš„å…§å®¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ“ä½œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ–·è¨€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æº–å‚™ï¼šé‡è¤‡çš„æº–å‚™é¡ä¼¼çš„å…§å®¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ“ä½œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ–·è¨€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œéš¨è‘—æ¸¬è©¦ç¶“é©—è¶Šä¾†è¶Šç†Ÿç¨”ä¹‹å¾Œï¼Œæˆ‘å€‘å¯èƒ½æœƒæƒ³ç›¡å„ç¨®æ–¹æ³•ä¾†ã€Œç¯€çœã€æ’°å¯«æ¸¬è©¦ä¸Šçš„æ™‚é–“ï¼Œç”šè‡³åƒè€ƒ DRY å¿ƒæ³•å¯«å‡ºé€™æ¨£çš„æ¸¬è©¦ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// çµ±ä¸€çš„äº‹å‰æº–å‚™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">testEnv&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">TestEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">testEnv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç›´æ¥æ“ä½œäº‹å…ˆæº–å‚™å¥½çš„å…§å®¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ–·è¨€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç›´æ¥æ“ä½œäº‹å…ˆæº–å‚™å¥½çš„å…§å®¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ–·è¨€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œé€™æ¨£çš„ä¸‹å ´å°‡æœƒåœ¨è¤‡é›œçš„å·¢ç‹€æ¸¬è©¦æƒ…å¢ƒä¸‹è¶Šä¾†è¶Šé›£ä»¥é–±è®€èˆ‡èª¿æ•´ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">testEnv&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">TestEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">testEnv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">testEnv&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">TestEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">testEnv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">testEnv&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">TestEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">testEnv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ... ç­‰ç­‰ é€™è£¡çš„åˆå§‹æº–å‚™æœ‰ä»€éº¼ ï¼Ÿï¼Ÿï¼Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œé™¤äº†å·¢ç‹€æƒ…å¢ƒæœ¬èº«æ˜¯å€‹è­°é¡Œä¹‹å¤–ï¼ŒKent C. Dodds èªç‚ºæˆ‘å€‘æ‡‰è©²å…¼å®¹çš„æ–¹å¼å»çœ‹å¾…ä»–ï¼Œä¹Ÿå°±æ˜¯èªªä»–ä¸æ’æ–¥æˆ‘å€‘å»åšæŠ½è±¡é€™ä»¶äº‹æƒ…ï¼Œä½†æ˜¯é¦–å…ˆè¦åšçš„æ‡‰è©²æ˜¯å…ˆä¿æŒå–®ç´”ï¼Œç›´åˆ°æˆ‘å€‘çœ‹åˆ°è¶³å¤ å¤šå…±åŒçš„æ¡ˆä¾‹ä¾†åˆ†æèƒ½æŠ½å–å‡ºçš„éƒ¨åˆ†ï¼Œå¦‚æœä¸å¤ å¤šé‚£ç”šè‡³åŸå…ˆ &lt;code>inline&lt;/code> çš„æ¸¬è©¦æ¡ˆä¾‹ç‰ˆæœ¬ä¹Ÿæ¯”éå¤šæŠ½è±¡çš„ç‰ˆæœ¬è¦å¥½å¾—å¤šã€‚&lt;/p>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://kentcdodds.com/blog/avoid-nesting-when-youre-testing" target="_blank" rel="noopener"
>é¿å…éåº¦å·¢ç‹€æƒ…å¢ƒ&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>æœ€å¾Œï¼Œå…±ç”¨çš„éƒ¨åˆ†é™¤éçœŸçš„æœ‰å¿…è¦é€é &lt;code>setup&lt;/code> &amp;amp; &lt;code>teardown&lt;/code> å¯¦ä½œè™•ç†ï¼Œå¦å‰‡å…±ç”¨çš„éƒ¨åˆ†å¤§å¤šä¹Ÿå¯ä»¥é€éè«¸å¦‚&lt;code>å·¥å» æ¨¡å¼&lt;/code>(&lt;code>factory pattern&lt;/code>)çš„å½¢å¼ç”¢ç”Ÿã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* æ“·å–è‡ªæˆ‘æŸå€‹å°ˆæ¡ˆå…§çš„å…ƒä»¶æ¸¬è©¦ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">factory&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">options&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">createSpy&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">createTestingPinia&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">options&lt;/span>&lt;span class="p">)],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">store&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useMainStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">store&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ‰€ä»¥å¾€å¾Œè‹¥æœ‰ä½¿ç”¨åˆ°é€™é¡ API æ™‚ä¸ä»¿å…ˆæ€è€ƒä¸€ä¸‹æˆ‘å€‘çœŸçš„éœ€è¦å—ï¼Œé‚„æ˜¯æœ‰æ›´åŠ å„ªé›…çš„æ–¹å¼èƒ½å¤ è§£æ±ºé‡è¤‡çš„å•é¡Œå‘¢ï¼Ÿ&lt;/p>
&lt;hr>
&lt;h2 id="æ–·è¨€èªæ³•èˆ‡-matchers">æ–·è¨€èªæ³•èˆ‡ Matchers&lt;/h2>
&lt;p>æ–·è¨€(Assertion)åœ¨ç¨‹å¼è¨­è¨ˆé ˜åŸŸä¸­ä¸»è¦æŒ‡çš„æ˜¯ã€Œé‡å°ä¸€å€‹çµæœæŒ‡å‡ºç‚ºçœŸ(&lt;code>true&lt;/code>)æˆ–å‡(&lt;code>false&lt;/code>)ã€çš„é‚è¼¯åˆ¤æ–·å¼ã€‚&lt;/p>
&lt;p>è€Œåœ¨æ¸¬è©¦ä¸­æ–·è¨€ä¸»è¦æŒ‡çš„éƒ¨åˆ†å¦‚å…ˆå‰æåˆ°çš„ 3A æ¨¡å¼ä¸­çš„(Assert)æ­¥é©Ÿï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æº–å‚™ï¼šArrange
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello, Unit-test!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ“ä½œï¼šAct
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;button&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ–·è¨€ï¼šAssert
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;content&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, Unit-test!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­æ–·è¨€(Assert)éšæ®µä¸­åœ¨èªæ³•çš„éƒ¨åˆ†å‰‡æœƒä½¿ç”¨åˆ°æ‰€è¬‚çš„ã€ŒMatchersã€ï¼Œä»¥ä¸Šæ–¹ç¨‹å¼ç¢¼ç‚ºä¾‹çš„è©±å°±æœƒæ˜¯ &lt;code>expect()&lt;/code> å¾Œæ–¹çš„ &lt;code>toBe()&lt;/code> é€™å€‹èªæ³•ï¼Œè€Œä¸åŒçš„ã€ŒMatchersã€èƒ½æ¯”å°çš„æ±è¥¿ä¹Ÿä¸å¤ªä¸€æ¨£ï¼Œç­è§£ä»€éº¼æ™‚å€™è©²é¸ä»€éº¼ Matchers åŸºæœ¬ä¸Šå¯«æ–·è¨€çš„æ™‚å€™å°±èƒ½ä¿¡æ‰‹æ»ä¾†ã€‚&lt;/p>
&lt;h3 id="æ–·è¨€èªæ³•">æ–·è¨€èªæ³•&lt;/h3>
&lt;p>ä¾æ“šä¸åŒå·¥å…·æˆ–æ¡†æ¶æ‰€æä¾›çš„æ–·è¨€èªæ³•(Assertion)ï¼Œå°æ–¼ Matchers ä¾†èªªå°±æœƒæœ‰ä¸åŒçš„å¯«æ³•ï¼Œæ‰€ä»¥é¦–å…ˆæˆ‘å€‘è¦å…ˆä¾†ç°¡å–®èªè­˜ä¸€ä¸‹ä¸åŒå·¥å…·ä¹‹é–“çš„æ–·è¨€èªæ³•é¢¨æ ¼ä¸Šçš„å·®ç•°ï¼ŒæŒ‘é¸èƒ½æ¥å—çš„æ–·è¨€é¢¨æ ¼å¾Œå†ä¾†çœ‹è©²é¢¨æ ¼çš„ Matcher ç”¨æ³•ï¼Œè€Œé¢¨æ ¼çš„éƒ¨åˆ†ä»¥ä¸‹å°‡ä¾åºä»‹ç´¹ï¼š&lt;/p>
&lt;ul>
&lt;li>Chai æ–·è¨€åº«&lt;/li>
&lt;li>Jest æ¡†æ¶ä¸­çš„æ–·è¨€èªæ³•&lt;/li>
&lt;li>Vitest ä¸­æ‰€èƒ½ç”¨çš„éƒ¨åˆ†&lt;/li>
&lt;/ul>
&lt;h4 id="chai-assertion">Chai Assertion&lt;/h4>
&lt;p>&lt;a class="link" href="https://www.chaijs.com/" target="_blank" rel="noopener"
>Chai.js&lt;/a> æœ¬èº«æ˜¯ä¸€å€‹å°ˆæ³¨åœ¨æä¾›æ–·è¨€èªæ³•çš„å·¥å…·åº«ï¼Œå®ƒæä¾›äº†&lt;a class="link" href="https://www.chaijs.com/guide/styles/" target="_blank" rel="noopener"
>ä¸‰ç¨®å¯«æ³•&lt;/a>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>Assert&lt;/code>(TDD style)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Chai/Assert&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Orange tabby cat&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;fat&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Orange tabby cat is not fat&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>Expect&lt;/code>(BDD style)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Chai/Expect&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">be&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">an&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;array&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">that&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">does&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">not&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">include&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>Should&lt;/code>(BDD style)ï¼šé€éæ“´å……ç‰©ä»¶ &lt;code>prototype&lt;/code> çµ¦äºˆ &lt;code>should&lt;/code> å±¬æ€§çš„æ–¹å¼ä½¿æˆ‘å€‘å¯ä»¥ç›´æ¥éˆå¼åŠ å…¥ Matchers åœ¨å®šç¾©å¥½çš„è®Šæ•¸å¾Œã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// é¸æ“‡ä¸€ï¼šåœ¨æ–·è¨€å‰éœ€è¦å‘¼å« `chai.should` æ–¹æ³•ï¼Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">chai&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;chai&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">chai&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">should&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// é¸æ“‡äºŒï¼šç›´æ¥å¼•å…¥ä¸‹æ–¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="s1">&amp;#39;chai/register-should&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// åº•ä¸‹çš„æ¸¬è©¦æ¡ˆä¾‹å°±èƒ½ç›´æ¥éˆå¼åŠ ä¸Š Matchers
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Chai/Assert&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">foo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">beverages&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">tea&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;chai&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;matcha&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;oolong&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">foo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">should&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">be&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">foo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">should&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">equal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">foo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">should&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">have&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lengthOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beverages&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">should&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">have&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">property&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;tea&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="kd">with&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lengthOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="jest-assertion">Jest Assertion&lt;/h4>
&lt;p>ä»¥ &lt;a class="link" href="https://jestjs.io/" target="_blank" rel="noopener"
>Jest&lt;/a> æ¸¬è©¦æ¡†æ¶ä¸­æ‰€æä¾›çš„æ–·è¨€æ–¹æ³•å‰‡åªæœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>Expect&lt;/code>(BDD style)ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;expect/ BDD style&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>éœ€ç‰¹åˆ¥æ³¨æ„çš„æ˜¯ Jest ä¸­çš„ &lt;code>expect&lt;/code> èˆ‡ Chai çš„ &lt;code>expect&lt;/code> æ‰€æä¾›çš„ Matchers æ˜¯ä¸ä¸€æ¨£çš„ã€‚&lt;/p>
&lt;/blockquote>
&lt;h4 id="vitest">Vitest&lt;/h4>
&lt;p>ä»¥ &lt;a class="link" href="https://cn.vitest.dev/" target="_blank" rel="noopener"
>Vitest&lt;/a> æ¸¬è©¦å·¥å…·ä¾†èªªï¼Œæ–·è¨€(Assertion)èªæ³•çš„éƒ¨åˆ†ä»–å…§å»ºäº† Chai æ–·è¨€åº«èˆ‡å…¼å®¹äº† Jest ä¸­çš„æ–·è¨€èªæ³•ï¼Œå› æ­¤ä¸»è¦å°±æ˜¯åœ¨ä»¥ä¸Šä»‹ç´¹çš„å››ç¨®å¯«æ³•ä¸­é¸æ“‡ä¸€ç¨®ä½¿ç”¨ï¼&lt;/p>
&lt;p>è€Œæ¥ä¸‹ä¾†ä¸»è¦è‘—é‡ä»‹ç´¹ Jest Assertion ä¸­çš„ &lt;code>expect&lt;/code> èªæ³•çš„ Matchers è¦å¦‚ä½•ä½¿ç”¨ï¼&lt;/p>
&lt;h3 id="vitestjest-expect-matchers">Vitest(Jest expect Matchers)&lt;/h3>
&lt;p>è¦å­¸ç¿’é€™é¡ Matchers é™¤äº†æŠŠ API doc ç¿»ä¸€è¼ªä¹‹å¤–ï¼Œæœ€å¿«çš„æ–¹å¼ä¹‹ä¸€å°±æ˜¯é‡å°ä¸åŒçš„æ¸¬è©¦çµæœç›®æ¨™é¡å‹å»æ­¸ç´ï¼Œè€Œä¾ç…§ç¶“é©—å¸¸è¦‹ç¨®é¡æœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>å¸¸ç”¨ï¼štoBe, not&lt;/li>
&lt;li>ç´”å€¼æ¯”å°(Primitive)é¡å‹ï¼šString, Number, Boolean&amp;hellip;, etc.&lt;/li>
&lt;li>é™£åˆ—æ¯”å°èˆ‡æª¢æŸ¥&lt;/li>
&lt;li>ç‰©ä»¶æ¯”å°èˆ‡æª¢æŸ¥&lt;/li>
&lt;li>ç›£è½å‡½å¼&lt;/li>
&lt;li>å¿«ç…§&lt;/li>
&lt;li>Error&lt;/li>
&lt;/ul>
&lt;p>ç”±æ–¼ Matchers ç¹å¤šï¼Œæ‰€ä»¥å¾å¸¸ç”¨è·Ÿæ¦‚å¿µå®¹æ˜“ææ··çš„å¹¾å€‹é–‹å§‹å…ˆä»‹ç´¹èµ·ï¼š&lt;/p>
&lt;h4 id="å¸¸ç”¨">å¸¸ç”¨&lt;/h4>
&lt;ul>
&lt;li>toBeï¼šå°è³‡æ–™é¡å‹ç‚ºç´”å€¼(Primitive Value)ä¾†èªªå°±æ˜¯æ¯”å°å€¼ç›¸ç­‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°éç´”å€¼(Non-Primitive Value)ä¾†èªªå°±æ˜¯æ¯”è¨˜æ†¶é«”ä½ç½®(reference)æ˜¯å¦ç›¸ç­‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">obj&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">({}).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">({})&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// `not`ï¼šç”¨æ–¼åè½‰æ–·è¨€çš„é‚è¼¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">not&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">not&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ç´”å€¼è³‡æ–™é¡å‹æ¯”å°">ç´”å€¼è³‡æ–™é¡å‹æ¯”å°&lt;/h4>
&lt;ul>
&lt;li>toBeCloseToï¼šè™•ç†æµ®é»æ•¸é‹ç®—æ™‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">0.1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mf">0.2&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">0.3&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// failed ç¬¦é»æº¢å‡ºï¼Œçµæœæ‡‰è©²æœƒç‚º 0.30000000000000004
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">0.1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mf">0.2&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeCloseTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">0.3&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toBeGreaterThanã€toBeGreaterThanOrEqualã€toBeLessThanã€toBeLessThanOrEqual&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeGreaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeGreaterThanOrEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeLessThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeLessThanOrEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toBeDefinedã€toBeUndefined&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">b&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeDefined&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeUndefined&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toBeTruthyã€toBeFalsy&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeTruthy&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeFalsy&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toBeNullã€toBeNaN&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeNull&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toMatchï¼šå­—ä¸²æˆ–æ­£å‰‡æ¯”å°&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;0912345678&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sr">/^09[0-9]{8}$/&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="é™£åˆ—æ¯”å°èˆ‡æª¢æŸ¥">é™£åˆ—æ¯”å°èˆ‡æª¢æŸ¥&lt;/h4>
&lt;ul>
&lt;li>toContainï¼šé™£åˆ—æ˜¯å¦å«æœ‰ç›®æ¨™å€¼&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;4&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toContainEqualï¼š é™£åˆ—æ˜¯å¦å«æœ‰è©²å€¼(é¡å‹ç‚ºç´”å€¼æ™‚æª¢é©—æ˜¯å¦ç›¸ç­‰ï¼Œé¡å‹ç‚ºç‰©ä»¶æ™‚æª¢é©—çµæ§‹æ˜¯å¦å…¨ç­‰)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">toContainEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">([{&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span> &lt;span class="p">}]).&lt;/span>&lt;span class="nx">toContainEqual&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">([{&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">something&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;other&amp;#39;&lt;/span> &lt;span class="p">}]).&lt;/span>&lt;span class="nx">toContainEqual&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveLengthï¼šç¢ºèªå…¶å±¬æ€§çš„é•·åº¦æ˜¯å¦ç›¸ç­‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;12&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveLength&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">toHaveLength&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">length&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">toHaveLength&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ç‰©ä»¶æ¯”å°èˆ‡æª¢æŸ¥">ç‰©ä»¶æ¯”å°èˆ‡æª¢æŸ¥&lt;/h4>
&lt;ul>
&lt;li>toEqualï¼šæ¯”å°ç‰©ä»¶çµæ§‹æ˜¯å¦ç›¸åŒï¼Œè€Œéæ¯”å°åƒç…§ä¾†æº(reference)ï¼Œè€Œçµæ§‹ä¸­è‹¥å€¼ç‚º undefined æœƒå¿½ç•¥&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">A&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">B&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">secret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">undefined&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">A&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toStrictEqualï¼šèˆ‡ toEqual é¡ä¼¼ï¼Œä½† undefined ä¸æœƒè¢«å¿½ç•¥&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">A&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">B&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">C&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">secret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">undefined&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">A&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toStrictEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">A&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toStrictEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”šè‡³ Class æ‰€å‰µé€ çš„ç‰©ä»¶èˆ‡ç‰©ä»¶å¯¦å­—(Object Literals)ç›¸æ¯”ä¹Ÿè¦–ç‚ºä¸åŒã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">MockClass&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">num&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">num&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">}).&lt;/span>&lt;span class="nx">toStrictEqual&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">})&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nx">MockClass&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toStrictEqual&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">})&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHavePropertyï¼šæª¢æŸ¥ç‰©ä»¶å«æœ‰å±¬æ€§èˆ‡å…¶å±¬æ€§å€¼&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveProperty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;num&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveProperty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;num&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveProperty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;num&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toMatchObjectï¼š æª¢æŸ¥ç‰©ä»¶çš„å­å±¤&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">nested&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchObject&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchObject&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchObject&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">nested&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchObject&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">nested&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¹¼çºŒè¬›è§£ä¸‹åˆ—å¹¾å€‹æ¯”è¼ƒç‰¹åˆ¥çš„ Matcher&lt;/p>
&lt;h4 id="ç›£è½å‡½å¼">ç›£è½å‡½å¼&lt;/h4>
&lt;p>åœ¨æ¸¬è©¦çš„éç¨‹ä¸­ï¼Œæœ‰æ™‚å€™æˆ‘å€‘ä¸åƒ…åªæ˜¯æ–·è¨€å—æ¸¬ç‰©(SUT, System Under Test)çš„ç‹€æ…‹ï¼Œæœ‰æ™‚å€™å¯èƒ½æœƒå°å—æ¸¬ç›®æ¨™çš„ã€Œä¾è³´ç‰©ã€(DOC, Depended-on Component)ç‹€æ…‹æœ‰èˆˆè¶£ï¼Œè€Œé€™æ™‚æˆ‘å€‘å°±ç„¡æ³•å–®ç´”ä»¥ Matchers ä¾†æ–·è¨€ï¼Œå› ç‚ºæˆ‘å€‘éœ€è¦ç›£è½ä¾è³´ç‰©å‰å¾Œçš„è®ŠåŒ–ã€‚&lt;/p>
&lt;p>è€Œåœ¨ç¨‹å¼æ¸¬è©¦é ˜åŸŸä¸­ï¼Œæ¸¬è©¦æ›¿èº«(&lt;code>test double&lt;/code>)ä¸»è¦å°±æ˜¯è² è²¬è™•ç†é€™ä¸€é¡éå—æ¸¬ç‰©æœ¬èº«æ‰€åšçš„äº‹æƒ…ï¼Œä¸¦ä¸”åœ¨éœ€è¦æ™‚é‚„èƒ½å¹«æˆ‘å€‘ç´€éŒ„å¿…è¦çš„è³‡è¨Šã€‚&lt;/p>
&lt;p>å‡è‹¥æˆ‘å€‘ä»Šå¤©æ¸¬è©¦æ¡ˆä¾‹å—æ¸¬ç‰©æœ¬èº«æœƒå»å‘¼å«åˆ°çš„ä¾è³´ç›®æ¨™æ˜¯å€‹ã€Œå‡½å¼ã€æ™‚ï¼Œé€™æ™‚æˆ‘å€‘å¯ä»¥é€é &lt;code>Vitest&lt;/code> æ‰€æä¾›çš„ &lt;code>vi.fn()&lt;/code> ä¾†æ¨¡ä»¿(spy)å‡½å¼ã€‚&lt;/p>
&lt;p>&lt;code>vi.fn()&lt;/code> æœ¬èº«æœƒå›å‚³ä¸€å€‹å¯¦é«”(&lt;code>CallableMockInstance&lt;/code>)ï¼Œåœ¨é€™å€‹å¯¦é«”ä¸­æœƒè¨˜éŒ„è‘—æœ‰é—œæ¸¬è©¦å‡½å¼æ™‚æœƒéœ€è¦çš„è³‡æ–™èˆ‡æ–¹æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> called: false,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> callCount: 0,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> results: [],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> calls: [],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> impl: [Function (anonymous)],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> reset: [Function: i],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> nextError: [Function (anonymous)],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> nextResult: [Function (anonymous)],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> restore: [Function: w],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤å°‡å—æ¸¬çš„ç›®æ¨™å‡½å¼æ”¾å…¥ &lt;code>vi.fn&lt;/code> ä¸­ï¼Œå¾ŒçºŒåªè¦æ¸¬è©¦éç¨‹ä¸­å¦‚æœæ¸¬è©¦ç›®æ¨™å»èª¿ç”¨äº†å·²è¢« Spy éçš„å‡½å¼æ™‚ï¼Œ&lt;code>CallableMockInstance&lt;/code> å°±æœƒå¹«æˆ‘å€‘ç´€éŒ„ç›¸é—œçš„è³‡è¨Šï¼Œæ¥è‘—æˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨æ–·è¨€èªæ³•ç›¸é—œçš„ Matcher å»æ¯”å°æˆ‘å€‘é æœŸçš„çµæœï¼Œæ¯”æ–¹èªªï¼š&lt;/p>
&lt;ul>
&lt;li>toHaveBeenCalledï¼šæ–·è¨€å‡½å¼æœ‰è¢«å‘¼å«é&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sayHi&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveBeenCalled&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveBeenCalledTimesï¼šæ–·è¨€å‡½å¼è¢«å‘¼å«éå¹¾æ¬¡&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sayHi&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveBeenCalledTimes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveBeenCalledWithï¼šæ–·è¨€å‡½å¼è¢«å‘¼å«æ™‚æ‰€å¸¶çš„åƒæ•¸&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sayHi&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, Unit-Test!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveBeenCalledWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, Unit-Test!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveReturnedï¼šæ–·è¨€å‡½å¼å‘¼å«å¾Œæ‡‰è©²è‡³å°‘è¦è¿”å›å€¼ä¸€æ¬¡&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39; Hello, Spy!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">sayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, Unit-Test!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveReturned&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveReturnedTimesï¼šæ–·è¨€å‡½å¼ç¶“éæ“ä½œå¾Œæ‡‰è©²è¦è¿”å›å€¼å¹¾æ¬¡&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">sayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Nice to meet you!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;See you again!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveReturnedTimes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveLastReturnedWithï¼šæ–·è¨€å‡½å¼ç¶“éæ“ä½œå¾Œæœ€å¾Œæ‡‰è©²è¦è¿”å›çš„å€¼&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">sayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Nice to meet you!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;See you again!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveLastReturnedWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;See you again!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveNthReturnedWithï¼šæ–·è¨€å‡½å¼ç¶“éæ“ä½œå¾Œç¬¬ N æ¬¡æ‡‰è©²è¦è¿”å›çš„å€¼&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">sayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Nice to meet you!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;See you again!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveNthReturnedWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Nice to meet you!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveReturnedWithï¼šæ–·è¨€å‡½å¼å‘¼å«å¾Œè¿”å›çš„å€¼&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39; Hello, Spy!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">sayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, Unit-Test!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveReturnedWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, Unit-Test! Hello, Spy!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œæ¸¬è©¦æ›¿èº«(test double)é™¤äº†åƒæ˜¯ vi.fn() é€™é¡é–“è«œé¡å‹(Spy)ä¹‹å¤–ï¼Œé‚„æœ‰è¨±å¤šä¸åŒçš„æ¸¬è©¦æ›¿èº«ï¼Œå®ƒå€‘åœ¨æ¸¬è©¦ä¸­éƒ½æœ‰å„è‡ªçš„ç”¨é€”ä¾†å”åŠ©æˆ‘å€‘æ›´å¥½çš„æ¸¬è©¦ã€‚&lt;/p>
&lt;h3 id="å¿«ç…§æ¸¬è©¦snapshot-testingèˆ‡å¿«ç…§-matchers">å¿«ç…§æ¸¬è©¦(Snapshot Testing)èˆ‡å¿«ç…§ matchers&lt;/h3>
&lt;h4 id="jest-snapshot">Jest Snapshot&lt;/h4>
&lt;p>åœ¨ Jest çš„ &lt;a class="link" href="https://jestjs.io/docs/snapshot-testing" target="_blank" rel="noopener"
>Snapshot Testing&lt;/a> èªªæ˜æ–‡ä»¶çš„å®šç¾©ä¸­ä¸»è¦æŒ‡çš„æ˜¯ç”¨ä¾†é˜²æ­¢ UI å‡ºç¾å°šæœªé æœŸçš„è®ŠåŒ–ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">data-test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;link&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;http://ithelp.ithome.com.tw&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> Ithelp &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">mount&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@vue/test-utils&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸²æŸ“é€£çµ&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;link&amp;#34;&lt;/span>&lt;span class="p">])).&lt;/span>&lt;span class="nx">toMatchSnapshot&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶è€Œé€™é‚Šçš„è®ŠåŒ–ï¼Œä¸¦éä½ æ‰€æƒ³åƒçš„æŠŠè¦–è¦ºç•«é¢çµ¦ç…§ç›¸ä¸‹ä¾†æ¯”å°åƒç´ æˆ–æ¯”ä¾‹çš„é‚£ç¨®è¦–è¦ºå›æ­¸æ¸¬è©¦(Visual Regression Testing)ï¼Œè€Œæ˜¯è—‰ç”±å°‡ç›®æ¨™å…ƒä»¶é€éæ¸²æŸ“(Render)å…ƒä»¶ç”¢ç”Ÿäº†ä¸€å€‹ DOM çµæ§‹çš„æ–‡å­—ï¼Œä¸¦åœ¨æ¸¬è©¦ç¨‹å¼æª”è·¯å¾‘åº•ä¸‹çš„ &lt;code>__snapshots__&lt;/code> è³‡æ–™å¤¾ç”Ÿæˆä¸€å€‹ &lt;code>.snap&lt;/code> æª”æ¡ˆä¾†åšç´€éŒ„ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">exports&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="sb">`æ¸²æŸ“é€£çµ`&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">&amp;lt;a
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> data-test=&amp;#34;link&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> href=&amp;#34;http://ithelp.ithome.com.tw&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> Ithelp
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">&amp;lt;/a&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>æˆªè‡³ Jest Snapshot é é¢ä¸­çš„&lt;a class="link" href="https://jestjs.io/docs/snapshot-testing" target="_blank" rel="noopener"
>ç¨‹å¼ç¢¼&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>åœ¨ç¬¬äºŒæ¬¡åŸ·è¡Œæ¸¬è©¦çš„æ™‚å€™ï¼Œå°±æœƒå†æ¬¡åšä¸€æ¬¡åŒæ¨£çš„æµç¨‹ï¼Œè€Œé€™æ¬¡æ‰€ç”¢ç”Ÿçš„çµæœæœƒèˆ‡å…ˆå‰çš„ &lt;code>.snap&lt;/code> ç´€éŒ„åšæ¯”å°ã€‚&lt;/p>
&lt;p>å‡è¨­æ¯”å°ä¸Šæœ‰è½å·®å°±æœƒæ‹‹å‡ºéŒ¯èª¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">- Snapshot - 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ Received + 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">-&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;http://ithelp.ithome.com.tw&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">+&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://ithelp.ithome.com.tw&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;gt;&lt;/span> Ithelp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è—‰ç”±é€™å€‹æ¯”å°æ©Ÿåˆ¶å¾è€Œå¯¦ç¾ã€Œ&lt;strong>é˜²æ­¢ UI å‡ºç¾å°šæœªé æœŸçš„è®ŠåŒ–&lt;/strong>ã€çš„åŠŸèƒ½ã€‚&lt;/p>
&lt;h4 id="vitest-snapshot">Vitest Snapshot&lt;/h4>
&lt;p>è€Œå‰é¢æœ‰æåˆ° &lt;code>Vitest&lt;/code> æœ¬èº«å…¼å®¹äº† &lt;code>Jest&lt;/code> çš„æ–·è¨€(assertion)èªæ³•ï¼Œæ‰€ä»¥å¿«ç…§(Snapshot)çš„ matcher è‡ªç„¶ä¹Ÿæ˜¯ä¸èƒ½æ”¾éã€‚&lt;/p>
&lt;p>åœ¨ &lt;code>Vitest&lt;/code> ä¸­ä¸»è¦å…¼å®¹çš„ matcher éƒ¨åˆ†æœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>toMatchSnapshot&lt;/li>
&lt;li>toMatchInlineSnapshot&lt;/li>
&lt;/ul>
&lt;p>åŸºæœ¬ä¸Šæ¦‚å¿µèˆ‡ Jest Snapshot ç›¸ä¼¼ï¼Œéƒ½æ˜¯åœ¨åšçµæ§‹å¿«ç…§é€™ä»¶äº‹æƒ…ï¼Œç„¶è€Œ &lt;code>Vitest&lt;/code> æ–‡ä»¶éƒ¨åˆ†å‰‡æ˜¯æ²’æœ‰ç‰¹åœ°å¼·èª¿ UI çš„éƒ¨åˆ†ï¼Œè€Œæ˜¯é—œæ³¨åœ¨å€¼(&lt;code>value&lt;/code>)çš„æ¯”å°ã€‚&lt;/p>
&lt;p>å› æ­¤æˆ‘å€‘å–®ç´”æ”¾å…¥ä¸€å€‹é™£åˆ—ç‰©ä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;cat snapshot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Orange&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Blank&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchSnapshot&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>.snap&lt;/code> çš„çµæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">exports&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="sb">`component &amp;gt; cat snapshot 1`&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> [
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;age&amp;#34;: 4,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;name&amp;#34;: &amp;#34;Orange&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> },
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;age&amp;#34;: 6,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;name&amp;#34;: &amp;#34;Blank&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> },
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> ]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”šè‡³ä¹Ÿå¯ä»¥å¼•å…¥ JSON æª”æ¡ˆä¾†åšå¿«ç…§ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Area&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./area.json&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;static json snapshot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Area&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchSnapshot&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ç„¶å…ƒä»¶å¿«ç…§ä¹Ÿæ˜¯èƒ½åšçš„ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">mount&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@vue/test-utils&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;snapshot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;content&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchSnapshot&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œä»¥ä¸Šå¿«ç…§éƒ¨åˆ†å¦‚æœä½ è¦ºå¾—è¦ç”Ÿæˆä¸€å€‹æª”æ¡ˆä¾†ç®¡ç†æœ‰é»å›‰å”†ï¼Œé‚£éº¼ä½ å¯ä»¥é€é &lt;code>toMatchInlineSnapshot&lt;/code> ä¾†è™•ç†é€™é¡çš„éœ€æ±‚ï¼Œå…¶å·®åˆ¥åœ¨æ–¼ç”Ÿæˆçš„ä½ç½®æœƒæ˜¯åœ¨ &lt;code>toMatchInlineSnapshot()&lt;/code> å‡½å¼æœ¬èº«è£¡é¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;cat snapshot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Orange&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Blank&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åŸå…ˆ toMatchInlineSnapshot å…§æ²’æœ‰ä»»ä½•æ±è¥¿
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// åœ¨åŸ·è¡Œæ¸¬è©¦å¾Œå°±æœƒå°‡å¿«ç…§å…§å®¹è‡ªå‹•ç”Ÿæˆåœ¨ toMatchInlineSnapshot è£¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchInlineSnapshot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> [
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;age&amp;#34;: 4,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;name&amp;#34;: &amp;#34;Orange&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> },
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;age&amp;#34;: 6,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;name&amp;#34;: &amp;#34;Blank&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> },
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> ]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> `&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ€å¾Œï¼Œå¦‚æœé‡åˆ°è®Šæ›´çš„éƒ¨åˆ†æ˜¯æˆ‘å€‘æ‰€é æœŸçš„æ™‚å€™ï¼Œæ­¤æ™‚å°±éœ€è¦æ›´æ–°å¿«ç…§çš„éƒ¨åˆ†ï¼Œå¯ä»¥åœ¨åŸ·è¡Œæ¸¬è©¦çš„ &lt;code>watch&lt;/code> æ¨¡å¼æ™‚æŒ‰ä¸‹ &lt;code>u&lt;/code> éµï¼Œå°±å°‡æ–°çš„å¿«ç…§ä¿å­˜èµ·ä¾†ï¼Œæˆ–æ˜¯é€éæ–°å¢ &lt;code>npm scripts&lt;/code> æŒ‡ä»¤ä¾†åŸ·è¡Œå‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;test:update&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vitest -u&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="error">Error&lt;/h3>
&lt;p>æœ€å¾Œä»‹ç´¹åˆ°çš„å‰‡æ˜¯&lt;strong>éŒ¯èª¤é¡å‹&lt;/strong>çš„ Matcherï¼š&lt;/p>
&lt;ul>
&lt;li>toThrowError&lt;/li>
&lt;li>toThrowErrorMatchingSnapshot&lt;/li>
&lt;li>toThrowErrorMatchingInlineSnapshot&lt;/li>
&lt;/ul>
&lt;p>å…ˆå‰æˆ‘å€‘æœ‰æåˆ°æ¸¬è©¦æ¡ˆä¾‹é æƒ³çš„ä¸‰å€‹è·¯å¾‘(Happy pathã€sad Pathã€Bad Path)ï¼Œ&lt;code>Bad Path&lt;/code> å¾ç”¢å“è§’åº¦ä¸Šä¾†èªª End-User ä½¿ç”¨ä¸Šçš„éŒ¯èª¤ï¼Œæ‡‰è©²è€ƒæ…®å¾ç”¢å“ä½¿ç”¨è§’åº¦ä¸Šå»æ€è€ƒè¦æ€éº¼å”åŠ©ä»–å€‘å»ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸æ‡‰è©²ç‚ºäº†æ‹‹å‡ºéŒ¯èª¤è€Œæ‹‹å‡ºã€‚&lt;/p>
&lt;p>ä½†å‡è¨­ä»Šå¤©æ‹‹å‡ºéŒ¯èª¤çš„æƒ…å¢ƒæ˜¯è¼ƒç‚ºåˆç†çš„éƒ¨åˆ†ï¼Œæ¯”æ–¹æ˜¯é‡å°é–‹ç™¼äººå“¡åœ¨é–‹ç™¼æ™‚æœŸèª¤ç”¨å°è‡´çš„éŒ¯èª¤â‹¯â‹¯ç­‰ç­‰æƒ…æ³ï¼Œé€™æ™‚æˆ‘å€‘å°±å¯ä»¥é€éé€™ä¸€é¡ Matcher ä¾†è™•ç†ã€‚&lt;/p>
&lt;p>è€Œä½¿ç”¨ä¸Šè¦æ¯”è¼ƒå°å¿ƒçš„æ˜¯ï¼Œå—æ¸¬ç›®æ¨™è‹¥æœƒæ‹‹å‡ºéŒ¯èª¤å‰‡è¦é€é wrap function çš„å½¢å¼ä¾†è™•ç†ï¼Œå¦å‰‡æ‹‹å‡ºçš„éŒ¯èª¤æœƒé€ æˆæ¸¬è©¦æ¡ˆä¾‹çš„æ–·è¨€éŒ¯èª¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">food&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;å°é»ƒç“œ&amp;#39;&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æˆ‘ä¸åƒå°é»ƒç“œ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">food&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å°é»ƒç“œ&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toThrowError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æˆ‘ä¸åƒå°é»ƒç“œ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// è‹¥é€™æ¨£å¯«çš„è©±è£¡é ­çš„ Error æœƒå°è‡´æ¸¬è©¦æ¡ˆä¾‹å¤±æ•—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">food&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å°é»ƒç“œ&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toThrowError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æˆ‘ä¸åƒå°é»ƒç“œ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// éœ€è¦é€éé€™ç¨®æ–¹å¼æ‰èƒ½æ­£ç¢ºæ–·è¨€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å…ƒä»¶æ¸¬è©¦">å…ƒä»¶æ¸¬è©¦&lt;/h2>
&lt;h3 id="vue-test-utils-èˆ‡å…ƒä»¶æ¸¬è©¦">Vue Test Utils èˆ‡å…ƒä»¶æ¸¬è©¦&lt;/h3>
&lt;p>æ¥è‘—ï¼Œè‹¥æˆ‘å€‘æƒ³é€²ä¸€æ­¥åœ¨å°ˆæ¡ˆä¸­æ¸¬è©¦ Vue å…ƒä»¶çš„è©±ï¼Œæˆ‘å€‘é™¤äº†åŸºæ–¼å‰é¢çš„æ¦‚å¿µèˆ‡èªæ³•ä¹‹å¤–ï¼Œé‚„å¾—ä¾é èƒ½å¤ å¹«åŠ©èƒ½å¤ è§£æ Vue å…ƒä»¶ä¸¦èˆ‡å…¶æ¨¡æ“¬äº’å‹•çš„å·¥å…·ï¼š&lt;/p>
&lt;ul>
&lt;li>Vue Test Utils&lt;/li>
&lt;li>Cypress&lt;/li>
&lt;li>Vue Testing Library&lt;/li>
&lt;/ul>
&lt;p>è€Œæœ¬ç¯‡å°‡è‘—é‡åœ¨ä»‹ç´¹è¦æ€éº¼é€é &lt;a class="link" href="https://test-utils.vuejs.org/" target="_blank" rel="noopener"
>Vue Test Utils&lt;/a> ä¾†é€²è¡Œèˆ‡ Vue å…ƒä»¶æœ‰é—œçš„ã€Œ&lt;strong>å…ƒä»¶æ¸¬è©¦&lt;/strong>ã€ï¼Œå› æ­¤æœ¬æ–‡è¦ä¾†ä»‹ç´¹ä¸€ä¸‹ Vue Test Utils èˆ‡å…ƒä»¶æ¸¬è©¦æ˜¯åœ¨åšä»€éº¼ï¼Œåˆé€™åˆè·Ÿå–®å…ƒæ¸¬è©¦æœ‰ä»€éº¼é—œä¿‚å‘¢ã€‚&lt;/p>
&lt;h3 id="vue-test-utils">Vue-Test-Utils&lt;/h3>
&lt;p>é¦–å…ˆå€è¾¨ä¸€ä¸‹ä»–èˆ‡æˆ‘å€‘ç›®å‰ç”¨åˆ°çš„æ¸¬è©¦å·¥å…·çš„å„è‡ªç”¨è™•ï¼Œæ‰èƒ½æ›´ç­è§£æ¥ä¸‹å­¸çš„å…§å®¹æ˜¯ç”±å“ªå€‹å·¥å…·è² è²¬çš„ï¼Œå°‡ä¾†æœ‰å¿…è¦æŸ¥é–±è³‡æ–™æ™‚å°±èƒ½æ›´æ¸…æ¥šçš„å€åˆ¥ä»–å€‘ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://test-utils.vuejs.org/" target="_blank" rel="noopener"
>Vue Test Utils&lt;/a> ä¸»è¦æ˜¯ä½œç‚ºæä¾›æ¸¬è©¦ Vue å…ƒä»¶çš„ç›¸é—œå·¥å…·é›†ï¼Œè®“æˆ‘å€‘èƒ½æ›´è¼•æ˜“çš„æ¨¡æ“¬æ“ä½œå…ƒä»¶ä¾†é€²è¡Œæ¸¬è©¦ï¼Œä½†æœ¬èº«ä¸¦æ²’æœ‰é‹è¡Œæ¸¬è©¦ç’°å¢ƒ(test runner)çš„åŠŸèƒ½ï¼Œå› æ­¤æˆ‘å€‘æœƒéœ€è¦è—‰ç”± Vitest ä¾†ä½œç‚ºæ¸¬è©¦ç’°å¢ƒä»¥åŠç›¸é—œçš„æ¸¬è©¦æƒ…å¢ƒæ¡ˆä¾‹èˆ‡æ–·è¨€ Matcherï¼›é™¤æ­¤ä¹‹å¤–æˆ‘å€‘é‚„éœ€è¦ç”¨ä¾†åœ¨ Node ç’°å¢ƒä¸­æ¨¡æ“¬ç€è¦½å™¨ç’°å¢ƒçš„ &lt;code>jsdom&lt;/code> ä¾†å”åŠ©è™•ç†æœ‰é—œ DOM ä¸Šçš„æ“ä½œï¼Œå¦‚æ­¤ä¸€ä¾†æ‰èƒ½é †åˆ©åœ°ä½¿ç”¨ &lt;a class="link" href="https://test-utils.vuejs.org/" target="_blank" rel="noopener"
>Vue Test Utils&lt;/a>ã€‚&lt;/p>
&lt;p>è€Œç‰ˆæœ¬çš„éƒ¨åˆ†è¦ç‰¹åˆ¥æ³¨æ„åˆ°ï¼Œç”±æ–¼ &lt;a class="link" href="https://test-utils.vuejs.org/" target="_blank" rel="noopener"
>Vue Test Utils&lt;/a> ç‚ºäº†ç›¸å®¹ Vue ä¸åŒç‰ˆæœ¬ä¹‹é–“çš„ API å› æ­¤æˆ‘å€‘è¦å®‰è£å°æ‡‰çš„ç‰ˆæœ¬æœªä¾†æ‰ä¸æœƒå‡ºéŒ¯ï¼š&lt;/p>
&lt;ul>
&lt;li>Vue 2ï¼šå®‰è£ &lt;a class="link" href="https://v1.test-utils.vuejs.org/" target="_blank" rel="noopener"
>Vue Test Utils 1&lt;/a>&lt;/li>
&lt;li>Vue 3ï¼šå®‰è£ &lt;a class="link" href="https://test-utils.vuejs.org/" target="_blank" rel="noopener"
>Vue Test Utils 2&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ç¢ºèªç‰ˆæœ¬æ²’å•é¡Œå¾Œï¼Œæ¨¡æ“¬å…ƒä»¶çš„éƒ¨åˆ†äº¤çµ¦ &lt;a class="link" href="https://test-utils.vuejs.org/" target="_blank" rel="noopener"
>Vue Test Utils&lt;/a> åŸºæœ¬ä¸Šå°±æ²’å•é¡Œäº†ï¼Œä½†é—œæ–¼ã€Œå…ƒä»¶æ¸¬è©¦ã€ç›®æ¨™ä¸»è¦æ˜¯è¦æ¸¬è©¦ä»€éº¼æ±è¥¿å‘¢ï¼Ÿ&lt;/p>
&lt;h3 id="å…ƒä»¶æ¸¬è©¦çš„ç›®æ¨™">å…ƒä»¶æ¸¬è©¦çš„ç›®æ¨™&lt;/h3>
&lt;p>æ¸¬è©¦æœ¬è³ªä¸»è¦æ˜¯åœ¨é æœŸçµæœèˆ‡å¯¦éš›æ˜¯å¦ç›¸ç­‰ï¼Œè€Œåœ¨å…ƒä»¶æ¸¬è©¦ä¸­ä½œç‚ºå—æ¸¬ç‰©çš„å…ƒä»¶ï¼Œå…¶æœ¬èº«ä¸»è¦æ˜¯è² è²¬ UI ä¸Šçš„ä¸€åˆ‡å…§å®¹ï¼Œå› æ­¤æˆ‘å€‘æ¸¬è©¦ç›®æ¨™åœ¨è‘—é‡æ–¼å®ƒçš„ã€Œ&lt;strong>ç•«é¢&lt;/strong>ã€èˆ‡ã€Œ&lt;strong>è¡Œç‚º&lt;/strong>ã€ä¸Šæ˜¯å¦å¦‚æˆ‘å€‘æ‰€é æœŸã€‚&lt;/p>
&lt;p>å› æ­¤ï¼Œåœ¨æ¸¬è©¦æ¡ˆä¾‹çš„æ“ä½œéç¨‹ä¸­(ä¹Ÿå°±æ˜¯ 3A ä¸­çš„ Action éšæ®µ)ï¼Œæˆ‘å€‘ä¸»è¦æ˜¯è—‰ç”±æ“ä½œå°å…ƒä»¶ä»‹é¢ä¸­çš„ï¼š&lt;/p>
&lt;ul>
&lt;li>data&lt;/li>
&lt;li>props&lt;/li>
&lt;li>slot&lt;/li>
&lt;li>provide&lt;/li>
&lt;li>directive&lt;/li>
&lt;li>Event(ç€è¦½å™¨ä¸­çš„äº’å‹•è¡Œç‚º)&lt;/li>
&lt;li>API response(æ¨¡æ“¬å›æ‡‰)&lt;/li>
&lt;/ul>
&lt;p>ä¾†åˆ¤æ–·ä¸‹åˆ—æ˜¯å¦å¦‚æˆ‘å€‘æ‰€é æœŸï¼š&lt;/p>
&lt;ul>
&lt;li>DOM æ¸²æŸ“çµæœ&lt;/li>
&lt;li>emit è¡Œç‚º&lt;/li>
&lt;/ul>
&lt;h3 id="å¥½çš„å…ƒä»¶æ¸¬è©¦">å¥½çš„å…ƒä»¶æ¸¬è©¦&lt;/h3>
&lt;p>ç•¶ç„¶ï¼Œåšåˆ°ä¸Šé¢çš„äº‹é …åŸºæœ¬ä¸Šå·²ç¶“å¯ä»¥ç®—æ˜¯å€‹å…ƒä»¶æ¸¬è©¦äº†ï¼Œè‹¥æˆ‘å€‘æƒ³è®“å…ƒä»¶æ¸¬è©¦å¯«å¾—æ›´å¥½ï¼Œé™¤äº†å…ˆå‰åœ¨å–®å…ƒæ¸¬è©¦æéçš„ä¸€äº›æ¦‚å¿µä¹‹å¤–ï¼Œé‚„æœ‰ä¸€äº›å€¼å¾—æ³¨æ„çš„äº‹é …ï¼š&lt;/p>
&lt;p>é¦–å…ˆï¼Œåœ¨æ’°å¯«å…ƒä»¶æ¸¬è©¦æ™‚çš„è§’åº¦ï¼Œæˆ‘å€‘ä¸¦æ²’æœ‰è¦ç•¶å€‹å…¨èƒ½å…¨çŸ¥çš„ç¥ï¼Œè€Œæ˜¯ä½œç‚ºã€Œ&lt;strong>ä½¿ç”¨è€…çš„è§’åº¦&lt;/strong>ã€é—œæ³¨å…ƒä»¶ä»‹é¢ä¸Šä¾†é æœŸçµæœï¼Œæ‰€ä»¥åœ¨æ¸¬è©¦çš„éç¨‹ä¸­æˆ‘å€‘è¦ã€Œ&lt;strong>é¿å…åˆå¯«äº†ä¸€æ¬¡å¯¦ä½œ&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>å¦å¤–ï¼Œå¦‚æœå…§éƒ¨é‚è¼¯éæ–¼è¤‡é›œæ™‚ï¼Œæˆ‘å€‘å‰‡æ‡‰è©²å…ˆæŠ½å–(extract)å…¶é‚è¼¯ï¼Œé€é composables çš„å¯«æ³•ä¾†å¼•å…¥ï¼Œå¦‚æ­¤ä¸€ä¾†æˆ‘å€‘å°±èƒ½ã€Œ&lt;strong>å°ˆæ³¨æ–¼åœ¨å…ƒä»¶æœ¬èº«çš„è¡Œç‚ºä¸Š&lt;/strong>ã€ï¼Œå¦å¤–ä¹Ÿèƒ½ã€Œ&lt;strong>é‡å° composable çš„é‚è¼¯å–®ç¨åšæ¸¬è©¦&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>æœ€å¾Œï¼Œè‹¥å…ƒä»¶ä¸­æœ‰ä½¿ç”¨åˆ° API çš„éƒ¨åˆ†ï¼ŒåŒæ¨£çš„æˆ‘å€‘æ‡‰è©²æŠŠå®ƒç•¶ä½œæˆæ˜¯ä»–æä¾›çµ¦å…ƒä»¶å»ä½¿ç”¨ï¼Œè€Œå…ƒä»¶ä¸»è¦æ˜¯ã€Œ&lt;strong>æ¥æ”¶å›æ‡‰&lt;/strong>ã€å¾Œå°±èƒ½è‡ªè¡Œè™•ç†å¾ŒçºŒçš„å…§å®¹äº†ï¼Œæ‰€ä»¥åœ¨æ¸¬è©¦ä¸Šæˆ‘å€‘æ‡‰è©²å°ˆæ³¨åœ¨ API æä¾›äº†ä»€éº¼çµ¦å…ƒä»¶ï¼Œé€éæ¨¡æ“¬è³‡æ–™çš„éƒ¨åˆ†ä¾†é”æˆå…ˆå‰æéçš„ FIRST åŸå‰‡ä¸­çš„ Fastï¼Œæœ€å¾Œæ–·è¨€å…ƒä»¶æœ€çµ‚çš„è¡Œç‚ºæ˜¯å¦å¦‚é æœŸå³å¯ã€‚&lt;/p>
&lt;p>ç¾åœ¨æˆ‘å€‘çŸ¥é“ Vue Test Utils åœ¨åšä»€éº¼äº†ï¼Œä¹ŸçŸ¥é“ã€Œå…ƒä»¶æ¸¬è©¦ã€åœ¨åšä»€éº¼äº†ï¼Œä½†é€™è·Ÿå–®å…ƒæ¸¬è©¦åˆæœ‰ä»€éº¼é—œä¿‚å‘¢ï¼Ÿ&lt;/p>
&lt;h3 id="å…ƒä»¶æ¸¬è©¦èˆ‡å–®å…ƒæ¸¬è©¦çš„é—œä¿‚">å…ƒä»¶æ¸¬è©¦èˆ‡å–®å…ƒæ¸¬è©¦çš„é—œä¿‚&lt;/h3>
&lt;p>åœ¨å®˜æ–¹æ–‡ä»¶ä¸­&lt;a class="link" href="https://cn.vuejs.org/guide/scaling-up/testing.html#component-testing" target="_blank" rel="noopener"
>æ¸¬è©¦ç« ç¯€&lt;/a>æœ‰æåˆ°ï¼Œå…ƒä»¶æ¸¬è©¦(component testing)åœ¨é¡†ç²’åº¦ä¸Šå…¶å¯¦æ˜¯é«˜æ–¼å–®å…ƒæ¸¬è©¦(unit testing)çš„ï¼Œç”šè‡³å¯ä»¥è¢«è¦–ç‚ºæ˜¯æ•´åˆæ¸¬è©¦(integration testing)çš„ä¸€ç¨®å½¢å¼ã€‚&lt;/p>
&lt;p>è€ŒåŠé–“æœ‰ä¸å°‘æ–‡ç« ç¿’æ…£ä»¥å–®å…ƒæ¸¬è©¦ä¾†çµ±ç¨±é€™ä¸€é¡æ¸¬è©¦ï¼Œæœ€ä¸»è¦åŸå› æ˜¯å–®å…ƒæ¸¬è©¦çš„å®šç¾©ç‚ºã€Œè»Ÿé«”è¨­è¨ˆã€ä¸­æœ€å°å–®ä½çš„ç¨‹å¼æˆ–è¡Œç‚ºï¼Œåœ¨ Vue å°ˆæ¡ˆä¸­ï¼Œè‹¥ä»¥ Vue SFC é¡å‹æª”æ¡ˆ(.vue)ä¾†çœ‹å…¶å¯¦æ¸¬è©¦å…ƒä»¶ä¹Ÿç®—æ˜¯æœ€å°å–®ä½æ²’éŒ¯ã€‚&lt;/p>
&lt;p>æ‰€ä»¥å¾æ„ç¾©ä¸Šä¾†åŠƒåˆ†å–®å…ƒæ¸¬è©¦èˆ‡å…ƒä»¶æ¸¬è©¦ï¼ŒæŸæ–¹é¢ä¾†èªªå¾ˆå®¹æ˜“å‡ºç¾æ­§ç•°(ç”šè‡³å–®å…ƒæ¸¬è©¦æœ¬èº«å°±å·²ç¶“æœ‰åˆ†ç‚ºç¨ç«‹å‹èˆ‡ç¤¾äº¤å‹å¯«æ³•äº†)ã€‚&lt;/p>
&lt;p>ç„¶è€Œç‚ºäº†æ¥ä¸‹ä¾†åœ¨æœ¬ç³»åˆ—æ–‡ä¸­æ–¹ä¾¿å€åˆ†æŒ‡çš„æ¸¬è©¦å°è±¡æ˜¯å“ªéƒ¨åˆ†ï¼Œæˆ‘å°‡åç¨±å«ç¾©åˆ†ç‚ºï¼š&lt;/p>
&lt;ul>
&lt;li>å…ƒä»¶æ¸¬è©¦ï¼šé‡å° Vue å…ƒä»¶æ‰€é€²è¡Œçš„æ¸¬è©¦&lt;/li>
&lt;li>å–®å…ƒæ¸¬è©¦ï¼šé‡å°å…ƒä»¶å¼•å…¥å‡½å¼ã€é¡åˆ¥ç­‰ utilsã€helper èˆ‡ composable çš„æ¸¬è©¦ã€‚&lt;/li>
&lt;li>å·¥å…·æœ¬èº«ï¼šPinia æ¸¬è©¦ã€Vue Router æ¸¬è©¦ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="å…ƒä»¶æ¸¬è©¦å®¹å™¨wrapper">å…ƒä»¶æ¸¬è©¦ï¼šå®¹å™¨(Wrapper)&lt;/h2>
&lt;h3 id="mount">mount&lt;/h3>
&lt;p>ç•¶æˆ‘å€‘éœ€è¦åœ¨æ¸¬è©¦æ¡ˆä¾‹ä¸­å¼•å…¥å…ƒä»¶æ™‚ï¼Œæˆ‘å€‘å¯ä»¥é€é Vue Test Utils æä¾›çš„æ–¹æ³• &lt;code>mount&lt;/code> ä¾†åŒ…è£¹ Vue å…ƒä»¶ã€‚è€Œ &lt;code>mount&lt;/code> æ‰€è¿”å›çš„å…§å®¹é™¤äº† Vue å¯¦é«”ä¹‹å¤–ï¼Œé‚„åŒ…å«äº†ä¸€äº›æ–¹æ³•ï¼ˆWrapper methodsï¼‰å¯ä»¥è®“æˆ‘å€‘æ“ä½œå…ƒä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">component&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/component/BaseButton.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should emit clicked event after clicking button&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Arrange
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Act
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Assert
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">export&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">emitted&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toHaveProperty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;clicked&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‡è‹¥æˆ‘å€‘å¸Œæœ›åœ¨æ¸²æŸ“å…ƒä»¶çš„æ™‚å€™åŒæ™‚å¸¶è‘—é è¨­åƒæ•¸èˆ‡ç‹€æ…‹æ™‚ï¼ˆå¦‚ &lt;code>props&lt;/code>ã€&lt;code>slots&lt;/code>&amp;hellip;ç­‰ï¼‰ï¼Œå°±èƒ½å¤ é€é &lt;code>mount&lt;/code> æ–¹æ³•çš„ç¬¬äºŒå€‹åƒæ•¸å‚³å…¥è¨­å®šï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">options&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello, Props!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mounted&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, Props!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>è€Œé—œæ–¼æ–¹æ³•ï¼ˆWrapper methodsï¼‰èˆ‡é¸é …ï¼ˆWrapper optionsï¼‰çš„éƒ¨åˆ†ï¼Œæœƒæ ¹æ“šå…ƒä»¶ä½¿ç”¨ &lt;strong>Options API&lt;/strong> / &lt;strong>Composition API&lt;/strong> / &lt;strong>setup script&lt;/strong> èªæ³•ç³– è€Œæœ‰ä¸åŒçš„ç”¨æ³•èˆ‡é™åˆ¶ï¼Œå› æ­¤ä½¿ç”¨æ–¹æ³•èˆ‡å·®ç•°çš„éƒ¨åˆ†å°‡åœ¨å¾ŒçºŒæ¸¬è©¦å„ç¨®å…ƒä»¶æ™‚é™¸çºŒæœƒæåˆ°ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="shallowmount">shallowMount&lt;/h3>
&lt;p>åœ¨æ­£å¸¸çš„å°ˆæ¡ˆé–‹ç™¼ä¸‹ï¼Œå…ƒä»¶æ™‚å¸¸æœƒåµŒå…¥äº†å¦ä¸€å€‹å…ƒä»¶ï¼š&lt;/p>
&lt;h5 id="rootcomponentvue">RootComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ParentComponent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">ParentComponent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="parentcomponentvue">ParentComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ChildComponent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">ChildComponent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ChildComponent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">ChildComponent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ChildComponent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">ChildComponent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="childcomponentvue">ChildComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">baby&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>RootComponent çš„å…ƒä»¶æ¸¬è©¦ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">component&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./RootComponent.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should render corrent content&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;baby&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;baby&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;baby&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> `&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†å¦‚æ­¤ä¸€ä¾†è‹¥æˆ‘å€‘åœ¨æ¸¬è©¦ RootComponent å…ƒä»¶çš„æ™‚å€™ï¼Œå°±æœ‰å¯èƒ½å› ç‚ºåº•ä¸‹çš„ ChildComponent å…ƒä»¶æ›´æ”¹äº†å…§å®¹å°è‡´ RootComponent æ¸¬è©¦æ¡ˆä¾‹ä¹Ÿè·Ÿè‘—å¤±æ•—ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">baby&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥ã€Œæœ‰æ„ã€æƒ³è¦é¿å…é€™ç¨®æƒ…æ³ç™¼ç”Ÿï¼Œæ­¤æ™‚å°±å¯ä»¥å°‡ &lt;code>mount&lt;/code> æ›¿æ›æ‰ï¼Œæ”¹ä½¿ç”¨ &lt;code>shallowMount&lt;/code> ä¾†ä½œç‚ºå®¹å™¨ä½¿ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">component&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./RootComponent.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should render corrent content&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">shallowMount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>shallowMount&lt;/code> èˆ‡ &lt;code>mount&lt;/code> åœ¨ä½¿ç”¨ä¸Šå¹¾ä¹å¤§åŒå°ç•°ï¼Œè€Œå”¯ä¸€æœ‰å·®åˆ¥åœ¨æ–¼ä»–æœƒå°‡åŸå…ˆå…§éƒ¨æœ‰ç”¨åˆ°å…ƒä»¶çš„éƒ¨åˆ†ä»¥æ›¿æ›ç‚ºä¸€å€‹æ¨¡æ“¬å…ƒä»¶ï¼ˆstub componentï¼‰ï¼Œä¸¦ä¸”å‘½åæ”¹ä»¥çƒ¤è‚‰ä¸²å‘½åæ³•ï¼ˆ&lt;code>Kebab case&lt;/code>ï¼‰ä¸¦ä¸”åœ¨æœ€æœ«ç«¯åŠ ä¸Š &lt;code>-stub&lt;/code> ä¾›è¾¨è­˜ï¼š&lt;/p>
&lt;h5 id="rootcomponentvue-1">RootComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ParentComponent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">ParentComponent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¶“ shallowMount æ¸²æŸ“çµæœè®Šæˆï¼š&lt;/p>
&lt;h5 id="rootcomponentvue-2">RootComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">parent-component-stub&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/parent-component-stub&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†åœ¨æ’°å¯«æ¸¬è©¦æ¡ˆä¾‹æ™‚ï¼Œå°±å¯ä»¥é—œæ³¨åœ¨ç•¶ä¸‹ã€Œ&lt;strong>çˆ¶å±¤å…ƒä»¶&lt;/strong>ã€èˆ‡ã€Œ&lt;strong>å­å±¤å…ƒä»¶&lt;/strong>ã€çš„ä¹‹é–“çš„å…§å®¹ï¼Œè€Œä¸ç®¡ã€Œ&lt;strong>å­å±¤å…ƒä»¶&lt;/strong>ã€åº•ä¸‹æ‰€ç™¼ç”Ÿçš„äº‹æƒ…ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">component&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./RootComponent.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should render corrent content&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">shallowMount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&amp;lt;parent-component-stub&amp;gt;&amp;lt;/parent-component-stub&amp;gt;`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å®¹å™¨çš„æ–¹æ³•wrapper-methods---é¸æ“‡å™¨">å®¹å™¨çš„æ–¹æ³•ï¼ˆWrapper methodsï¼‰ - é¸æ“‡å™¨&lt;/h2>
&lt;p>åœ¨é€²è¡Œæ¸¬è©¦æ™‚ï¼Œå‰é¢ç« ç¯€æœ‰æåˆ°æˆ‘å€‘æœƒä½¿ç”¨ &lt;code>mount&lt;/code> æˆ– &lt;code>shallowMount&lt;/code> ä¾†åŒ…è£¹å…ƒä»¶ï¼Œå¾è€Œå¾—åˆ°ä¸€å€‹ &lt;code>VueWrapper&lt;/code>ï¼Œè€Œåœ¨é€™å€‹ &lt;code>VueWrapper&lt;/code> è£¡é ­æœ‰è¨±å¤šå¯¦ç”¨çš„å®¹å™¨æ–¹æ³•ï¼ˆWrapper methodsï¼‰ï¼Œé›–ç„¶å®˜æ–¹æ–‡ä»¶ä¸­ä¸¦æ²’æœ‰ç‰¹æ„åˆ†é¡ï¼Œä½†å¤§æ„ä¸Šå¯åˆ†ç‚ºå¹¾ç¨®æ–¹æ³•ï¼š&lt;/p>
&lt;ul>
&lt;li>æŸ¥è©¢ã€é¸æ“‡æŒ‡å®šçš„å…ƒç´ ã€å…ƒä»¶ç­‰é¸æ“‡å™¨&lt;/li>
&lt;li>å–å¾—ç›®æ¨™å±¬æ€§æˆ–å…§å®¹ï¼ˆclass, attributeï¼‰&lt;/li>
&lt;li>è§¸ç™¼ DOM äº‹ä»¶ï¼ˆå¦‚æ»‘é¼ é»æ“Šã€éµç›¤è¼¸å…¥èˆ‡æŒ‰éµâ‹¯â‹¯ç­‰ï¼‰&lt;/li>
&lt;li>å–å¾— emit äº‹ä»¶ã€è¨­ç½® data æˆ– propã€ç”šè‡³è§¸ç™¼å…ƒä»¶ &lt;code>unmmount&lt;/code> ç­‰ Vue API ç›¸é—œçš„æ–¹æ³•&lt;/li>
&lt;/ul>
&lt;p>é€™é‚Šè‘—é‡åœ¨æ–¼ä»‹ç´¹é¸æ“‡å™¨çš„æ–¹æ³•ä½¿ç”¨èˆ‡æ¸¬è©¦æ‡‰ç”¨ï¼Œæœ€å¾Œè£œä¸Šç›¸é—œçš„è¨è«–ï¼š&lt;/p>
&lt;ul>
&lt;li>å…ƒç´ ã€å…ƒä»¶é¸æ“‡å™¨&lt;/li>
&lt;li>åˆ¤æ–·ç›®æ¨™æ˜¯å¦å­˜åœ¨ï¼š&lt;code>exists&lt;/code> èˆ‡ &lt;code>isVisible&lt;/code>&lt;/li>
&lt;li>ä½¿ç”¨ &lt;code>data-* attribute&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="é¸æ“‡å™¨">é¸æ“‡å™¨&lt;/h3>
&lt;p>åœ¨é€²è¡Œå…ƒä»¶æ¸¬è©¦ï¼ˆcomponent testingï¼‰çš„éç¨‹ä¸­ï¼Œæœ‰æ™‚æˆ‘å€‘å¯èƒ½åªæƒ³é—œæ³¨åœ¨æŸå€‹ç‰¹å®š DOM æˆ–å…ƒä»¶çš„ç›¸é—œè³‡è¨Šæ™‚ï¼Œé€™æ™‚æˆ‘å€‘å°±å¯ä»¥é€éå®¹å™¨ä¸­çš„é¸æ“‡å™¨æ–¹æ³•ä¾†å°‹æ‰¾ï¼Œè€Œé¸æ“‡å™¨æ ¹æ“šé¸å–å°è±¡çš„ä¸åŒï¼Œä¸»è¦åˆ†ç‚ºï¼š&lt;/p>
&lt;ul>
&lt;li>å…ƒç´ ï¼ˆelementï¼‰é¸æ“‡å™¨&lt;/li>
&lt;li>å…ƒä»¶ï¼ˆcomponentï¼‰é¸æ“‡å™¨&lt;/li>
&lt;/ul>
&lt;h4 id="å…ƒç´ é¸æ“‡å™¨">å…ƒç´ é¸æ“‡å™¨&lt;/h4>
&lt;p>å…ƒç´ é¸æ“‡å™¨èªæ³•åŸºæœ¬ä¸Šæœ‰å…©ç¨®å¯«æ³•ï¼Œä¸€ç¨®æ˜¯åŸºæ–¼å…ƒç´ çš„ &lt;code>refs&lt;/code>ï¼Œå¦ä¸€ç¨®å‰‡æ˜¯ &lt;code>querySelector&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;dogcat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">???&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;dog&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ç§‘åŸº&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;cat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">æ©˜è²“&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;cat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é»‘é»‘&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* ref */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;span&amp;#39;&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* querySelector */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#dog&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.cat&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œå®¹å™¨æ–¹æ³•æœ‰é—œé¸å–å…ƒç´ çš„é¸æ“‡å™¨ä¸€å…±åˆ†ç‚ºä¸‰ç¨®ï¼š&lt;/p>
&lt;ul>
&lt;li>find&lt;/li>
&lt;li>findAll&lt;/li>
&lt;li>get&lt;/li>
&lt;/ul>
&lt;p>é€™ä¸‰ç¨®é¸æ“‡å™¨åœ¨é¸å–åˆ°ç›®æ¨™å¾Œä¸»è¦éƒ½æ˜¯è¿”å› &lt;code>DOMWrapper&lt;/code>ï¼Œæ­¤æ™‚æˆ‘å€‘å°±å¯ä»¥åœ¨ä¸²é€£å…¶ä»–å®¹å™¨æ–¹æ³•ï¼ˆWrapper methodsï¼‰å¦‚ &lt;code>classes&lt;/code> æˆ– &lt;code>text&lt;/code> ç­‰ç­‰ä¾†å–å¾—å±¬æ€§æˆ–å…§å®¹è³‡è¨Šï¼Œåªæ˜¯è¿”å›çš„çµæœå…§å®¹æœƒæœ‰äº›å·®ç•°ã€‚&lt;/p>
&lt;p>æ¯”æ–¹ &lt;code>find&lt;/code>ã€&lt;code>findAll&lt;/code> çš„éƒ¨åˆ†ä¸»è¦å·®åˆ¥åœ¨æ–¼ &lt;code>findAll&lt;/code> è¿”å›çš„å…§å®¹æœƒè¢«æ”¾ç½®æ–¼é™£åˆ—ç•¶ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;dog&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ç§‘åŸº&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;cat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">æ©˜è²“&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;cat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é»‘é»‘&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œæˆ‘å€‘å¯ä»¥é€éåƒé€™æ¨£çš„æ–¹å¼å–å¾—é™£åˆ—å…§çš„è³‡è¨Šï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should be display correct content&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#dog&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// &amp;lt;DOMWrapper&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ç§‘åŸº&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should be display correct content&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">findAll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.cat&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// &amp;lt;DOMWrapper&amp;gt;[]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ©˜è²“&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é»‘é»‘&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>æ³¨æ„ï¼šé€é findAll æ–·è¨€æ™‚æ˜¯ã€Œ&lt;strong>æœ‰åº&lt;/strong>ã€çš„ï¼Œå¾ˆå®¹æ˜“å—åˆ°é †åºæ”¹è®Šè€Œå°è‡´æ¸¬è©¦æ¡ˆä¾‹å¤±æ•—ï¼Œé™¤éæ’°å¯«æ¸¬è©¦æ¡ˆä¾‹ç›®æ¨™ä¹‹ä¸€å°±æ˜¯è¦ç¢ºä¿é †åºä¸æœƒèª¿å‹•ï¼Œå¦å‰‡æ”¹ç”¨ find æ–·è¨€æœƒæ¯”è¼ƒä¸å®¹æ˜“å—å½±éŸ¿ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>è€Œ &lt;code>find&lt;/code> èˆ‡ &lt;code>get&lt;/code> çš„å·®åˆ¥åœ¨æ–¼ &lt;code>find&lt;/code> æ‰¾ä¸åˆ°ç›®æ¨™æ™‚è¿”å›çš„æ˜¯ &lt;code>{}&lt;/code> å¾ŒçºŒè‹¥ä»ç¹¼çºŒæ“ä½œã€æ–·è¨€æ™‚æ‰æœƒç”±æ‹‹å‡ºéŒ¯èª¤ï¼ˆç”± &lt;code>ErrorWrapper&lt;/code> æä¾›ï¼‰ï¼›ç„¶è€Œ &lt;code>get&lt;/code> ä¸€é–‹å§‹è‹¥æ‰¾ä¸åˆ°ç›®æ¨™æ™‚å°±ç›´æ¥æ‹‹å‡ºéŒ¯èª¤ï¼ˆ&lt;code>throw Error&lt;/code>ï¼‰äº†ã€‚&lt;/p>
&lt;p>æ ¹æ“š &lt;a class="link" href="https://github.com/vuejs/test-utils/blob/f61b8aeb84352b29e29666326939531cd81c3bd6/src/errorWrapper.ts" target="_blank" rel="noopener"
>ErrorWrapper åŸå§‹ç¢¼&lt;/a>ï¼Œå¯ä»¥çœ‹è¦‹ä»–ä¸»è¦æ˜¯é‡å°å®¹å™¨æ–¹æ³•ä¸­çš„ &lt;code>exists()&lt;/code> æœƒè¿”å› &lt;code>false&lt;/code>ã€‚&lt;/p>
&lt;p>å› æ­¤åœ¨é‡å°æ‰¾ä¸åˆ°å…ƒç´ çš„æ¸¬è©¦æ¡ˆä¾‹åˆæ³•çš„å¯«æ³•å¯ä»¥é€™éº¼åšï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.something-that-does-not-exist&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toThrowError&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.something-that-does-not-exist&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">exists&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBeFalsy&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="find-åˆ¤æ–·å…ƒç´ é™·é˜±">find åˆ¤æ–·å…ƒç´ é™·é˜±&lt;/h4>
&lt;p>é­”é¬¼è—åœ¨ç´°ç¯€è£¡ï¼Œæˆ–è¨±ä½ å¯èƒ½æœƒæƒ³èªªç‚ºä»€éº¼ä¸ç›´æ¥ç”¨ &lt;code>find&lt;/code> é‚„è¦å†å¦å¤–é€é &lt;code>exists&lt;/code> åˆ¤æ–·å‘¢ï¼Œè®“æˆ‘å€‘çœ‹çœ‹ä¸€å€‹æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ç„¡é—œç·Šè¦çš„æ±è¥¿&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœé€™æ™‚ä½ é€™éº¼å¯«äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.something-that-does-not-exist&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBeTruthy&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// é€šé ï¼ï¼Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸå› åœ¨æ–¼ &lt;code>find&lt;/code> åœ¨æ‰¾ä¸åˆ°çš„æƒ…æ³ä¸‹ç›®æ¨™çš„æƒ…æ³æ‰€è¿”å›çš„å€¼æœƒæ˜¯ &lt;code>ErrorWrapper&lt;/code> ç‰©ä»¶ï¼Œæ‰€ä»¥é€é &lt;code>toBeTruthy&lt;/code> æ–·è¨€å°±æœƒé€šéã€‚&lt;/p>
&lt;blockquote>
&lt;p>è€Œç‚ºäº†é¿å…é€™ç¨®æƒ…æ³ç™¼ç”Ÿï¼Œå®˜æ–¹æ–‡ä»¶å…¶å¯¦åªæœ‰è¼•ææ·¡è¿°åœ°èªªé“ï¼š&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>As a rule of thumb&lt;/strong>, always use get except when you are asserting something doesn&amp;rsquo;t exist. In that case use find.&lt;br>
ä½†ä¸Šæ–¹ç¶“é©—è€ƒé‡åœ¨å“ªï¼Œåªæœ‰åœ¨è¿½äº†ä»–å€‘ç›¸é—œçš„ &lt;a class="link" href="https://github.com/vuejs/test-utils/issues/138" target="_blank" rel="noopener"
>issue&lt;/a> æ‰æœƒé€æ¼¸æ˜ç™½è€ƒé‡çš„æ ¹æ“šï¼Œè€Œé—œæ–¼é€™éƒ¨åˆ†ï¼Œç”šè‡³é–‹ç™¼åœ˜éšŠæœªä¾†å¯èƒ½ä¹Ÿæœƒè€ƒæ…®å°‡ find æ–¹æ³•çµ¦æ‹”æ‰ï¼Œå‰©ä¸‹ exists æœ¬èº«ï¼Œä½†ç¤™æ–¼é€™æœƒæ˜¯å€‹ breaking change çš„åšæ³•ï¼Œæ‰€ä»¥åœ¨ vue-test-utils è·³å¤§ç‰ˆæœ¬è™Ÿä¹‹å‰æ‡‰è©²éƒ½æœƒæš«æ™‚ç¶­æŒåŸæ¨£ã€‚&lt;/p>
&lt;/blockquote>
&lt;/blockquote>
&lt;h4 id="å…ƒä»¶componenté¸æ“‡å™¨">å…ƒä»¶ï¼ˆcomponentï¼‰é¸æ“‡å™¨&lt;/h4>
&lt;ul>
&lt;li>findComponent&lt;/li>
&lt;li>findAllfindComponents (æ³¨æ„æœ‰å€‹ sï¼‰&lt;/li>
&lt;li>getComponent&lt;/li>
&lt;/ul>
&lt;p>åŸå‰‡ä¸Šä½¿ç”¨æ–¹å¼èˆ‡å…ƒç´ é¸æ“‡å™¨å·®ä¸å¤šï¼Œåªæ˜¯é¸å–èªæ³•ä¸Šé™¤äº† &lt;code>refs&lt;/code> èˆ‡ &lt;code>querySelector&lt;/code> èªæ³•ä¹‹å¤–ï¼Œé‚„å¤šäº†ï¼š&lt;/p>
&lt;ul>
&lt;li>Component nameï¼š &lt;code>findComponent({name: 'å…ƒä»¶åç¨±'})&lt;/code>&lt;/li>
&lt;li>å°‡ import SFC ç›´æ¥æ”¾å…¥æ–¹æ³•ä¸­ï¼š &lt;code>findComponent(Component)&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ä½†ç”±æ–¼ä½¿ç”¨ &lt;code>querySelector&lt;/code> ä¸Šä¹Ÿæœ‰ä¸€äº›&lt;a class="link" href="https://test-utils.vuejs.org/api/#findcomponent" target="_blank" rel="noopener"
>å°é™·é˜±&lt;/a>ï¼Œæ‰€ä»¥å€‹äººå»ºè­°ä»¥ SFC æ–¹å¼å¼•å…¥æˆ–æ˜¯ä¹¾è„†é€é &lt;code>shallowMount&lt;/code> å°‡å­å±¤å…ƒä»¶ stub æ‰ä¹Ÿæ˜¯ä¸€ç¨®æ–¹å¼ã€‚&lt;/p>
&lt;h3 id="åˆ¤æ–·ç›®æ¨™å­˜åœ¨">åˆ¤æ–·ç›®æ¨™å­˜åœ¨&lt;/h3>
&lt;p>ç¶“ç”±å‰›å‰›é™·é˜±çš„éƒ¨åˆ†å¤§å®¶æ‡‰è©²éƒ½å¾ˆæ¸…æ¥š &lt;code>exists()&lt;/code> çš„å­˜åœ¨äº†ï¼Œè€Œåˆ¤æ–·é¸å–ç›®æ¨™å…¶å¯¦ä»–é‚„æœ‰å€‹å¥½æœ‹å‹å°±æ˜¯ &lt;code>isVisible()&lt;/code>ï¼Œä½†ä»–å€‘åˆ¤æ–·å­˜åœ¨çš„å®šç¾©ä¸Šæœ‰ä¸€äº›å·®åˆ¥ï¼š&lt;/p>
&lt;ul>
&lt;li>exists()ï¼šä¸»è¦åˆ¤æ–·çš„æ˜¯è©²ç›®æ¨™å­˜ä¸å­˜åœ¨ DOM ä¸Šï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Hello&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">exist&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;p&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">exists&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;span&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">exists&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>isVisable()ï¼šä¸»è¦åˆ¤æ–·çš„æ˜¯è©²ç›®æ¨™å­˜åœ¨ DOM ä¸Šä¹‹å¤–ï¼Œè¦–è¦ºä¸Šæœ‰ç„¡é¡¯ç¤ºåœ¨ç•«é¢ä¸­ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="nt">v-if&lt;/span>&lt;span class="s">=&amp;#34;false&amp;#34; class=&amp;#34;dog&amp;#34;&amp;gt;ç§‘åŸº&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;p v-show=&amp;#34;true&amp;#34; class=&amp;#34;orange-cat&amp;#34;&amp;gt;æ©˜è²“&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;p v-show=&amp;#34;false&amp;#34; class=&amp;#34;black-cat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">é»‘é»‘&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;v-if false&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.dog&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">isVisible&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBeFalsy&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// Errorï¼š ç›´æ¥å™´éŒ¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;v-show true&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.orange-cat&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">isVisible&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBeTruthy&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// æ¸¬è©¦é€šé
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;v-show false&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.black-cat&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">isVisible&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBeFalsy&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// æ¸¬è©¦é€šé
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é—œæ–¼ &lt;code>isVibile&lt;/code> æ›´ç‚ºè©³ç´°çš„åˆ¤æ–·å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>CSS style ä¸­ å«æœ‰ display: none =&amp;gt; &lt;code>false&lt;/code>&lt;/li>
&lt;li>CSS style ä¸­ å«æœ‰ visibility: hidden =&amp;gt; &lt;code>false&lt;/code>&lt;/li>
&lt;li>CSS style ä¸­ å«æœ‰ opacity :0 =&amp;gt; &lt;code>false&lt;/code>&lt;/li>
&lt;li>å…ƒç´ ä¸­ hidden å±¬æ€§ç‚º true =&amp;gt; &lt;code>false&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ç¶œåˆçµè«–ä¸Šæ–¹é™·é˜±èˆ‡åˆ¤æ–·æ–¹æ³•ï¼š&lt;/p>
&lt;ul>
&lt;li>è‹¥è¦åˆ¤æ–·å…ƒç´ æ˜¯å¦å­˜åœ¨ æˆ– &lt;code>v-if&lt;/code>ï¼šä½¿ç”¨ &lt;code>get&lt;/code> æ–¹æ³•æ˜¯æœ€ä¿éšªçš„ï¼ŒçœŸçš„è¦ç”¨ &lt;code>find&lt;/code> å‰‡ä¸€å®šè¦æ­é… &lt;code>exists&lt;/code>&lt;/li>
&lt;li>è‹¥è¦åˆ¤æ–· &lt;code>v-show&lt;/code>ï¼šä½¿ç”¨ &lt;code>find().isVisible()&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="ä½¿ç”¨-data--attribute">ä½¿ç”¨ data-* attribute&lt;/h3>
&lt;p>åœ¨æ’°å¯«æ¸¬è©¦æƒ…å¢ƒæ™‚ï¼Œè‹¥ä¾ç…§ä¸Šé¢çš„ &lt;code>querySelector&lt;/code> é¸äº†å…ƒç´ ã€id æˆ– class æ™‚ï¼ŒåˆæœŸä¸€å®šæœƒå¾ˆé–‹å¿ƒï¼Œå› ç‚ºä¸æœƒé‡åˆ°å¤ªå¤šå›°é›£ï¼Œä½†å¾€å¾Œåœ¨é–‹ç™¼çš„éç¨‹åŸ·è¡Œæ¸¬è©¦æ™‚å°±å¾ˆå®¹æ˜“æœ‰æ©Ÿæœƒé‡åˆ°å„ç¨®å•é¡Œã€‚&lt;/p>
&lt;p>åŸå…ˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;content&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ”¹æˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;content&amp;#34;&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">content&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>data-*&lt;/code> ä½œç‚ºé¸æ“‡ç›®æ¨™å¥½è™•æœ€ä¸»è¦åœ¨æ–¼é¡¯è‘—æ¨™è¨˜æ¸¬è©¦å…§å®¹ï¼Œè€Œé€™å½±éŸ¿åˆ°çš„ç¯„åœæœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>é–‹ç™¼æœŸï¼Œéç¨‹ä¸ç”¨æ“”å¿ƒæœƒå½±éŸ¿åˆ°æ¸¬è©¦ï¼Œå¦‚ä¸Šæ–¹æ‰€è¦‹ï¼Œæˆ‘åªè¦è®Šæ›´ data-test ä»¥å¤–çš„å…§å®¹ï¼Œé æœŸæ‡‰è©²ä¸æœƒå½±éŸ¿åˆ°æ¸¬è©¦é¸æ“‡çš„ç›®æ¨™ï¼Œä½¿æ¸¬è©¦æ¡ˆä¾‹éŒ¯èª¤èƒ½æ›´å°ˆæ³¨åœ¨æ–·è¨€çš„ç›®æ¨™ä¸Šï¼Œè€Œéé¸æ“‡ç›®æ¨™è¢«æ›¿æ›å°è‡´çš„éŒ¯èª¤ã€‚&lt;/li>
&lt;li>é‡æ§‹ï¼ˆrefactorï¼‰éç¨‹ï¼Œèƒ½æ¸…æ¥šæ¯”è¼ƒç¯„åœï¼Œè‹¥å°‡ä¾†èª¿æ•´çµæ§‹ï¼Œåªè¦å°‡å±¬æ€§è½‰ç§»åˆ°å°æ‡‰çš„ä½ç½®å³å¯ã€‚&lt;/li>
&lt;li>ç”Ÿç”¢æœŸï¼Œèƒ½å¤ é‡å°ç‰¹å®šçš„å±¬æ€§ç§»é™¤ï¼Œé¿å…ç•™ä¸‹å„ç¨®æ¸¬è©¦ç—•è·¡ï¼Œå°æ–¼åƒæ˜¯è¼”åŠ©é–±è®€è£ç½®ç­‰æŠ€è¡“ä¾†èªªå°±ä¸æœƒè¢«å½±éŸ¿åˆ°ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="åœ¨ç”Ÿç”¢ç’°å¢ƒåˆªé™¤-data--attribute">åœ¨ç”Ÿç”¢ç’°å¢ƒåˆªé™¤ data-* attribute&lt;/h4>
&lt;p>è‹¥æƒ³åœ¨ &lt;code>vitest&lt;/code> ä¸­ç§»é™¤ &lt;code>data-*&lt;/code> ä¹Ÿéå¸¸çš„ç°¡å–®ï¼Œæˆ‘å€‘åªéœ€è¦åœ¨ &lt;code>vite.config.js&lt;/code> è¨­å®šä¸­ï¼Œé‡å° Vue åº•ä¸‹çš„ç·¨è­¯é¸é …åšä¸€äº›èª¿æ•´å³å¯ï¼ˆåº•ä¸‹ç¤ºç¯„çš„ç‰ˆæœ¬ç‚ºç§»é™¤ &lt;code>data-test&lt;/code>ï¼Œè‹¥ä½¿ç”¨å…¶ä»–å‘½åè«‹è‡ªè¡Œèª¿æ•´å›‰ï¼‰ï¼š&lt;/p>
&lt;h5 id="viteconfigjs-2">vite.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">isProd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NODE_ENV&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;production&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">removeDataTestAttrs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">node&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">NodeTypes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">freeze&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ELEMENT&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ATTRIBUTE&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">node&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">type&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">NodeTypes&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;ELEMENT&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">node&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">node&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">prop&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">prop&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">type&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">NodeTypes&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;ATTRIBUTE&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nx">prop&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s1">&amp;#39;data-test&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1">// è«‹è‡ªè¡Œæ›¿æ›å‘½å data-test
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">compilerOptions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nodeTransforms&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">isProd&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">removeDataTestAttrs&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å®¹å™¨çš„æ–¹æ³•wrapper-methods---å–å¾—ç›®æ¨™è³‡è¨Š">å®¹å™¨çš„æ–¹æ³•(Wrapper methods) - å–å¾—ç›®æ¨™è³‡è¨Š&lt;/h2>
&lt;h3 id="åˆ¤æ–·å±¬æ€§">åˆ¤æ–·å±¬æ€§&lt;/h3>
&lt;h4 id="attributes">attributes&lt;/h4>
&lt;p>ç•¶ä½ æƒ³è¦ç¢ºèª &lt;code>&amp;lt;a&amp;gt;&lt;/code> ä¸­çš„ &lt;code>href&lt;/code> æ˜¯å¦å¸¶æœ‰æŒ‡å®šçš„é€£çµæˆ–æ˜¯æª¢æŸ¥ &lt;code>&amp;lt;img&amp;gt;&lt;/code> ä¸Šçš„å±¬æ€§æ™‚ï¼Œé€™æ™‚å°±å¯ä»¥é€é &lt;code>attributes&lt;/code> å–å¾—å±¬æ€§ã€‚&lt;/p>
&lt;p>è€Œ &lt;code>attributes&lt;/code> ç”¨æ³•ä¸»è¦æœ‰å…©ç¨®ï¼Œç›´æ¥ä½¿ç”¨æ™‚æœƒç²å–ç›®æ¨™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">link&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://ithelp.ithome.com.tw/&amp;#34;&lt;/span> &lt;span class="na">target&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;_blank&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ithelp&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;link&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">attributes&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// { href: &amp;#39;https://ithelp.ithome.com.tw/&amp;#39;, &amp;#39;target&amp;#39;: &amp;#39;_blank&amp;#39; }
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æƒ³è¦ç›´æ¥å–å¾—ç‰¹å®šå±¬æ€§å€¼æ™‚ä¹Ÿå¯ä»¥ç›´æ¥å°‡å±¬æ€§åç¨±å¸¶å…¥åƒæ•¸ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">attributes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;target&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// &amp;#39;_blank&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="classes">classes&lt;/h4>
&lt;p>åŒæ¨£çš„ï¼Œè‹¥æƒ³è¦å°‹æ‰¾ &lt;code>class&lt;/code> å±¬æ€§çš„è©±å¯ä»¥é€é &lt;code>classes&lt;/code> èªæ³•å–å¾—è³‡è¨Šã€‚ä½ å¯èƒ½æœƒç›´è¦ºåœ°æƒ³åˆ° &lt;code>class&lt;/code> ä¹Ÿæ˜¯å±¬æ€§çš„ä¸€ç¨®é‚£æ‡‰è©²ç”¨ &lt;code>attributes('class')&lt;/code> æŸ¥è©¢ï¼Œç„¶è€Œé€™å…©è€…çš„å·®åˆ¥æœ€ä¸»è¦åœ¨æ–¼ç”¢å‡ºçš„çµæœæœƒæœ‰æ‰€ä¸åŒã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">section&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">wrap&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;container w-full h-full&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Title&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">section&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥ä½¿ç”¨ &lt;code>attributes('class')&lt;/code> æŸ¥è©¢çµæœå°‡æœƒæ˜¯å­—ä¸²å½¢å¼çš„è³‡æ–™ï¼Œå¾ŒçºŒè¦è™•ç†æ¯”å°ä¸Šçš„å•é¡Œæœƒç¨å¾®éº»ç…©ä¸€é»ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;wrap&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">attributes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;class&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// &amp;#34;container w-full h-full&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥æ˜¯ä½¿ç”¨ &lt;code>classes&lt;/code> èªæ³•æŸ¥è©¢çš„è©±å°‡å¾—åˆ°ä¸€å€‹é™£åˆ—çš„çµæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;wrap&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">classes&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// [&amp;#34;container&amp;#34;, &amp;#34;w-full&amp;#34;, &amp;#34;h-full&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ™‚å°±å¯ä»¥é…åˆ &lt;code>toContain&lt;/code> ç­‰é™£åˆ—çš„æ–·è¨€ Matcher å¿«é€Ÿè™•ç†æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;wrap&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">classes&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;container&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å°æ–¼æ¸¬è©¦æ¨£å¼æ¡ç”¨åŸå­åŒ–è¨­è¨ˆçš„å·¥å…·ï¼ˆTailwind CSSã€Windi CSS ç­‰ï¼‰æœ‰å¥‡æ•ˆï¼Œæˆ‘å€‘å¯ä»¥å°‡è¦–è¦ºå±¤çš„é‚è¼¯é€é &lt;code>classes&lt;/code> çš„çµæœæ–·è¨€ã€‚&lt;/p>
&lt;p>å› ç‚ºé€™é¡åŸå­åŒ–è¨­è¨ˆå·¥å…·å¾€å¾€ä¾è³´ &lt;code>class&lt;/code> å±¬æ€§ä¾†åšæ¨£å¼ä¸Šçš„èª¿æ•´èˆ‡æ“´å……ï¼Œé€šå¸¸ç‚ºäº†ç¾è§€èˆ‡ç®¡ç†æ–¹ä¾¿æœƒé †ä¾¿åœ¨ä½¿ç”¨é€™é¡å·¥å…·æ™‚åŠ è£è‡ªå‹•æ’åºï¼ˆsortingï¼‰ &lt;code>class&lt;/code> å±¬æ€§ç­‰æ“´å……å·¥å…·ï¼Œå› æ­¤ &lt;code>class&lt;/code> çš„é †åºå°‡è®Šæˆä¸ç©©å®šçš„ç‹€æ…‹ã€‚&lt;/p>
&lt;p>å› æ­¤å…ƒç´ è‹¥å¾ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">content&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;A B C&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è®Šæˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">content&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;A C B&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°æ–¼å¿«ç…§æ¸¬è©¦ç­‰ Matcher (&lt;code>toMatchSnapshot&lt;/code>ã€&lt;code>toMatchInlineSnapshot&lt;/code>)ä¾†èªªå°‡æœƒé¡¯ç¤ºæ¸¬è©¦å¤±æ•—ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.content&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toMatchSnapshot&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¿«ç…§æ¯”å°çµæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">- &lt;span class="nv">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;A B C&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ &lt;span class="nv">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;A C B&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œä»¥é™£åˆ—æ¯”å°æ˜¯å¦ã€ŒåŒ…å«ã€çš„æ–¹å¼ï¼Œå°‡ä¸å—å½±éŸ¿ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.content&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">classes&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;A&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.content&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">classes&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;B&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.content&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">classes&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;C&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åˆ¤æ–·å…§å®¹ç‰©">åˆ¤æ–·å…§å®¹ç‰©&lt;/h3>
&lt;h4 id="text">text&lt;/h4>
&lt;p>&lt;code>text&lt;/code> ä¸»è¦æ˜¯å–å¾—ç›®æ¨™å…ƒç´ ç¯€é»å¾Œä»£çš„æ‰€æœ‰æ–‡å­—ï¼š&lt;/p>
&lt;h5 id="rootcomponentvue-3">RootComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">target&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Root&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="childcomponentvue-1">ChildComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">child&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>mount&lt;/code> åŒ…è£å…ƒä»¶æ™‚ &lt;code>wrapper.find('[data-test=&amp;quot;target&amp;quot;]').text()&lt;/code> çš„çµæœå°‡æœƒæ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Rootchildchildchild
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>shallowMount&lt;/code> åŒ…è£å…ƒä»¶æ™‚ &lt;code>wrapper.find('[data-test=&amp;quot;target&amp;quot;]').text()&lt;/code> çš„çµæœå°‡æœƒæ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Root
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="html">html&lt;/h4>
&lt;p>èˆ‡ &lt;code>text&lt;/code> é¡ä¼¼ï¼Œä½† &lt;code>html&lt;/code> æœƒå°‡ç›®æ¨™å…ƒç´ å¾Œä»£æ‰€æœ‰å…ƒç´ éƒ½è¨˜éŒ„ä¸‹ä¾†ï¼š&lt;/p>
&lt;h5 id="rootcomponentvue-4">RootComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">target&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Root&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="childcomponentvue-2">ChildComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">child&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>mount&lt;/code> åŒ…è£å…ƒä»¶æ™‚ &lt;code>wrapper.find('[data-test=&amp;quot;target&amp;quot;]').html()&lt;/code> çš„çµæœå°‡æœƒæ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">Root
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>child&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>child&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>child&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>shallowMount&lt;/code> åŒ…è£å…ƒä»¶æ™‚ &lt;code>wrapper.find('[data-test=&amp;quot;target&amp;quot;]').html()&lt;/code> çš„çµæœå°‡æœƒæ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">Root
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component-stub&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">child-component-stub&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component-stub&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">child-component-stub&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component-stub&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">child-component-stub&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤åœ¨ä½¿ç”¨ &lt;code>text&lt;/code> èˆ‡ &lt;code>html&lt;/code> ä¾†é€²è¡Œæ–·è¨€æ™‚ï¼Œè¦æ³¨æ„åˆ°ã€Œ&lt;strong>æ¸¬è©¦æ‰€éœ€åŒ…å«çš„ç¯„åœ&lt;/strong>ã€ä»¥åŠã€Œ&lt;strong>å…ƒä»¶å®¹å™¨&lt;/strong>ã€æ‡‰æ¡ç”¨ &lt;code>mount&lt;/code> é‚„æ˜¯ &lt;code>shallowMount&lt;/code> ç­‰è­°é¡Œï¼Œæ‰èƒ½è®“æ¸¬è©¦æ›´åŠ å¼·éŸŒä¸”ä¸æœƒè®“å¾ŒçºŒé–‹ç™¼ç„¡ç›¸é—œçš„å…§å®¹æ™‚ä¸€ç›´è¢«æ¸¬è©¦æ””ä½ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å®¹å™¨çš„æ–¹æ³•wrapper-methods---æ¨¡æ“¬äº‹ä»¶">å®¹å™¨çš„æ–¹æ³•(Wrapper methods) - æ¨¡æ“¬äº‹ä»¶&lt;/h2>
&lt;h3 id="æ»‘é¼ äº‹ä»¶">æ»‘é¼ äº‹ä»¶&lt;/h3>
&lt;p>å¸¸è¦‹çš„ DOM äº‹ä»¶æœ‰ä¸‹åˆ—å¹¾ç¨®ï¼š&lt;/p>
&lt;ul>
&lt;li>æ»‘é¼ äº‹ä»¶ï¼šé»æ“Šï¼ˆclickï¼‰&lt;/li>
&lt;li>éµç›¤äº‹ä»¶ï¼šæŒ‰ä¸‹æŸéµï¼ˆkeydownï¼‰ã€é¬†é–‹æŸéµï¼ˆkeyupï¼‰&lt;/li>
&lt;li>è¡¨å–®äº‹ä»¶ï¼šé‡å° &lt;code>&amp;lt;input&amp;gt;&lt;/code> è¼¸å…¥å…§å®¹ã€&lt;code>checkbox&lt;/code> èˆ‡ &lt;code>radio&lt;/code> å‹¾é¸æˆ– &lt;code>&amp;lt;select&amp;gt;&lt;/code> ä¸­çš„é¸æ“‡å…§å®¹&lt;/li>
&lt;/ul>
&lt;p>é¦–å…ˆï¼Œèªæ³•æ–¹é¢é™¤äº†è¡¨å–®äº‹ä»¶ä¹‹å¤–ï¼Œè¦æ¨¡æ“¬å¤§éƒ¨åˆ†çš„äº‹ä»¶æˆ‘å€‘å¯ä»¥é€éå®¹å™¨æ–¹æ³•ä¸­çš„ &lt;code>trigger&lt;/code> æ–¹æ³•å³å¯è§¸ç™¼äº‹ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”¨æ³•æ˜¯åœ¨ç¬¬ä¸€å€‹åƒæ•¸ä¸­å‚³å…¥è¦è§¸ç™¼çš„ &lt;code>DOM&lt;/code> äº‹ä»¶åç¨±ï¼ˆe.g. &lt;code>click&lt;/code>ã€&lt;code>drag&lt;/code>ï¼‰ï¼Œå¦‚æœæœ‰éœ€è¦è£œå……è§¸ç™¼äº‹ä»¶çš„æ¢ä»¶ï¼Œæ¯”æ–¹åƒæ˜¯æŒ‰ä¸‹å“ªå€‹éµç›¤ï¼Œå°±å¯ä»¥é€éç¬¬äºŒå€‹åƒæ•¸å¸¶å…¥è³‡è¨Šï¼ˆe.g. &lt;code>{ keyCode: 65 }&lt;/code>ï¼‰ã€‚&lt;/p>
&lt;p>è€Œè¦æ³¨æ„åˆ°çš„æ˜¯ç”±æ–¼é€™äº›äº‹ä»¶åŸºæœ¬ä¸Šéƒ½æœƒæ˜¯&lt;strong>éåŒæ­¥&lt;/strong>çš„ç”¨æ³•ï¼Œæ‰€ä»¥åœ¨æ’°å¯«æ¸¬è©¦æ¡ˆä¾‹æ™‚å¯ä»¥ä½¿ç”¨ &lt;code>async/await&lt;/code> ä¾†è®“æ–·è¨€ï¼ˆAssertionï¼‰ä¿æŒæ­£ç¢ºçš„çµæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Arrange
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Act
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Assert
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="cm">/* ... */&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="cm">/* ... */&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ‰äº†é€™å€‹æ¦‚å¿µä¹‹å¾Œï¼Œæ¥ä¸‹ä¾†ä¾¿å¯ä»¥å¿«é€Ÿä¾†çœ‹çœ‹å¯¦éš›ä¸Šå„å€‹äº‹ä»¶è§¸ç™¼çš„å¯¦éš›æ¡ˆä¾‹èˆ‡äº‹ä»¶åç¨±ï¼Œä¸¦ä¸”è‘—é‡é—œæ³¨è¦ç‰¹åˆ¥æ³¨æ„çš„åœ°æ–¹ã€‚&lt;/p>
&lt;h3 id="æ»‘é¼ äº‹ä»¶-1">æ»‘é¼ äº‹ä»¶&lt;/h3>
&lt;ul>
&lt;li>é»æ“Šï¼š &lt;code>click&lt;/code>&lt;/li>
&lt;li>é›™æ“Šï¼š &lt;code>dblclick&lt;/code>&lt;/li>
&lt;li>æŒ‡å®šé»æ“Šï¼š &lt;code>click.left&lt;/code>ã€&lt;code>click.middle&lt;/code>ã€&lt;code>click.right&lt;/code>&lt;/li>
&lt;/ul>
&lt;h4 id="é»æ“Šèˆ‡é›™æ“Š">é»æ“Šèˆ‡é›™æ“Š&lt;/h4>
&lt;p>é»æ“Šèˆ‡é›™æ“Šçš„éƒ¨åˆ†æœ€ä¸»è¦éœ€è¦æ³¨æ„çš„éƒ¨åˆ†æ˜¯ï¼Œä»¥äº‹ä»¶ä¾†èªªçš„æ¦‚å¿µã€Œ&lt;strong>é›™æ“Šï¼ˆdblclickï¼‰&lt;/strong>ã€æ˜¯ä¸€å€‹äº‹ä»¶ï¼Œä¸¦éã€Œå…©å€‹ã€ã€Œ&lt;strong>é»æ“Šï¼ˆclickï¼‰&lt;/strong>ã€äº‹ä»¶ï¼š&lt;/p>
&lt;h5 id="å…ƒä»¶">å…ƒä»¶&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">content&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">button&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;count++&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">Add&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="æ¸¬è©¦ç¨‹å¼ç¢¼">æ¸¬è©¦ç¨‹å¼ç¢¼&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;after click button should display correct content&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;button&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;content&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;button&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;content&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;button&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;dblclick&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// è§¸ç™¼ä¸åˆ° @click äº‹ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;content&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;4&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// AssertionError
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æŒ‡å®šæŒ‰éµé»æ“Š">æŒ‡å®šæŒ‰éµé»æ“Š&lt;/h4>
&lt;p>æœ‰æ™‚å€™ä½ å¯ä»¥æœƒæƒ³è¦æŒ‡å®šæ»‘é¼ çš„æŒ‰éµä¾†è§¸ç™¼äº‹ä»¶ï¼Œé€™æ™‚å°±å¯ä»¥ä½¿ç”¨é¡ä¼¼ä¿®é£¾ç¬¦ï¼ˆmodifierï¼‰ä¸€æ¨£çš„æ–¹å¼ä¾†è§¸ç™¼äº‹ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>click.left&lt;/code>&lt;/li>
&lt;li>&lt;code>click.middle&lt;/code>&lt;/li>
&lt;li>&lt;code>click.right&lt;/code>&lt;/li>
&lt;/ul>
&lt;h5 id="å…ƒä»¶-1">å…ƒä»¶&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">button&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click.right&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">result &lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#39;here we go!&amp;#39;&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Are&lt;/span> &lt;span class="nx">You&lt;/span> &lt;span class="nx">ready&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">target&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="æ¸¬è©¦ç¨‹å¼ç¢¼-1">æ¸¬è©¦ç¨‹å¼ç¢¼&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should be display correct text&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;button&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click.right&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;here we go!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é™¤æ­¤ä¹‹å¤–ï¼Œéµç›¤èˆ‡æ»‘é¼ çš„æ“ä½œä¹Ÿå¯ä»¥èåˆå†ä¸€èµ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click.ctrl.left&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// å·¦éµé»æ“Šæ™‚åŒæ™‚æŒ‰è‘— ctrl éµ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click.alt.right&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// å³éµé»æ“Šæ™‚åŒæ™‚æŒ‰è‘— alt éµ
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="éµç›¤äº‹ä»¶">éµç›¤äº‹ä»¶&lt;/h3>
&lt;p>éµç›¤æœ€å¸¸è¦‹çš„æ ¸å¿ƒäº‹ä»¶ä¸»è¦ç‚ºï¼š&lt;/p>
&lt;ul>
&lt;li>æŒ‰ä¸‹æŸå€‹æŒ‰éˆ• &lt;code>keydown&lt;/code>&lt;/li>
&lt;li>é¬†é–‹æŸå€‹æŒ‰éˆ• &lt;code>keyup&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ä¸Šè¿°äº‹ä»¶å¦‚åŒæŒ‡å®šæ»‘é¼ æŒ‰éµçš„å¯«æ³•ï¼Œä¸€æ¨£æ“æœ‰ä¿®é£¾ç¬¦çš„ç›¸é—œèªæ³•ï¼Œè€Œå¾Œæ–¹å¸¶çš„ä¿®é£¾ç¬¦ä¸»è¦ç‚ºæŒ‰éµçš„åç¨±ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;keydown.enter&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// æŒ‰ä¸‹ enter éµ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;keyup.up&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// é¬†é–‹ ä¸Šæ–¹å‘éµ
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŒæ¨£åœ°ï¼Œéµç›¤äº‹ä»¶ä¹Ÿæ”¯æ´å¤šé‡çš„çµ„åˆä¿®é£¾ç¬¦å¯«æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;keydown.ctrl.tab&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// æŒ‰ä¸‹ ctrl éµ + tab éµ
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥ä½ æƒ³è¦æ›´éˆæ´»çš„ä½¿ç”¨éµç›¤äº‹ä»¶ï¼Œä¹Ÿå¯ä»¥ç”¨ &lt;code>trigger&lt;/code> æ–¹æ³•çš„ç¬¬äºŒå€‹åƒæ•¸å¸¶å…¥éµç›¤çš„åç¨±ï¼Œè€Œç›®å‰æœ‰æ”¯æ´çš„å¯«æ³•ä¸»è¦æœ‰ä¸‹åˆ—ä¸‰ç¨®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;äº‹ä»¶åç¨±&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">code?&lt;/span>: &lt;span class="kt">event.code&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">key?&lt;/span>: &lt;span class="kt">event.key&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">keyCode?&lt;/span>: &lt;span class="kt">event.keycode&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥ä¸æ¸…æ¥šéµç›¤å°æ‡‰çš„ä»£è™Ÿä¹Ÿæ²’æœ‰é—œä¿‚ï¼Œæœ‰ä¸å°‘ç¶²ç«™å°ˆé–€æä¾›é¡ä¼¼çš„æœå‹™ä¾›æŸ¥è©¢ï¼Œæ¯”æ–¹åƒé€™å€‹ &lt;a class="link" href="https://www.toptal.com/developers/keycode/for/enter" target="_blank" rel="noopener"
>ç¶²ç«™&lt;/a> åªè¦æŒ‰ä¸‹ä»»ä¸€æŒ‰éµå°±æœƒå³æ™‚é¡¯ç¤ºéµç›¤å°æ‡‰çš„ä»£è™Ÿã€åç¨±ç­‰ç­‰ç›¸é—œè³‡è¨Šã€‚&lt;/p>
&lt;p>åœ¨æŸ¥åˆ°ä»£è™Ÿå¾Œæˆ‘å€‘å°±å¯ä»¥å°‡å…¶å¸¶å…¥å‰›æ‰çš„æ–¹æ³•ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;keydown&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">keyCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">13&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡³æ–¼è¦é¸æ“‡å“ªç¨®å¯«æ³•å°±çœ‹å ´æ™¯æœ¬èº«çš„éœ€æ±‚ä¾†åšæ±ºå®šå›‰ï¼&lt;/p>
&lt;h3 id="è¡¨å–®äº‹ä»¶">è¡¨å–®äº‹ä»¶&lt;/h3>
&lt;ul>
&lt;li>&lt;code>input&lt;/code> è¼¸å…¥&lt;/li>
&lt;li>&lt;code>checkbox&lt;/code> / &lt;code>radio&lt;/code> å‹¾é¸&lt;/li>
&lt;li>&lt;code>&amp;lt;select&amp;gt;&lt;/code> ä¸­çš„é¸æ“‡å…§å®¹&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>åŸå…ˆç‚ºäº†é‡å°ä¸åŒè¡¨å–®é¡å‹ï¼ŒVue Test Utils 1 ç‰ˆï¼ˆfor Vue2ï¼‰å·¥å…·æä¾›äº†ä¸€å€‹å°ˆå±¬çš„ &lt;code>setChecked&lt;/code> çš„ä¾†å°æ‡‰ &lt;code>checkbox&lt;/code> / &lt;code>radio&lt;/code> å‹¾é¸ç‹€æ…‹ï¼ˆcheckedï¼‰ï¼›é™¤æ­¤ä¹‹å¤–æ›¿ &lt;code>&amp;lt;select&amp;gt;&lt;/code> å…ƒç´ çš„é¸æ“‡æä¾›äº† &lt;code>setSelected&lt;/code> æ–¹æ³•ä¾†æ¨¡æ“¬é¸æ“‡è¡Œç‚ºã€‚&lt;/p>
&lt;/blockquote>
&lt;p>è€Œåœ¨ Vue Test utils 2 ç‰ˆæ™‚ï¼Œæˆ‘å€‘å°‡åªè¦çµ±ä¸€ä½¿ç”¨ &lt;code>setValue&lt;/code> å³å¯è‡ªå‹•å°æ‡‰æ‰€æœ‰è¡¨å–®çš„è¡Œç‚ºï¼&lt;/p>
&lt;h4 id="æ¨¡æ“¬-input-è¼¸å…¥">æ¨¡æ“¬ input è¼¸å…¥&lt;/h4>
&lt;p>è¼¸å…¥è¡¨å–®æˆ–æ˜¯æ“ä½œæ—¥æœŸé¸æ“‡å™¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="nt">v-model&lt;/span>&lt;span class="s">=&amp;#34;textResult&amp;#34; type=&amp;#34;text&amp;#34; data-test=&amp;#34;text&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;p data-test=&amp;#34;result_text&amp;#34;&amp;gt;{{textResult}}&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;input v-model=&amp;#34;dateResult&amp;#34; type=&amp;#34;date&amp;#34; data-test=&amp;#34;date&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;p data-test=&amp;#34;result_date&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span>&lt;span class="na">dateResult&lt;/span>&lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–‡å­—è¼¸å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¨¡æ“¬ input è¼¸å…¥&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;text&amp;#34;&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, World!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;result_text&amp;#34;&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, World!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é¸æ“‡æ—¥æœŸï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¨¡æ“¬ æ—¥æœŸ è¼¸å…¥&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;date&amp;#34;&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2022/10/06&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;result_date&amp;#34;&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2022/10/06&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ¨¡æ“¬-radio-å‹¾é¸">æ¨¡æ“¬ radio å‹¾é¸&lt;/h4>
&lt;h5 id="å…ƒä»¶-2">å…ƒä»¶&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">radio_1&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;radio&amp;#34;&lt;/span> &lt;span class="nt">v-model&lt;/span>&lt;span class="s">=&amp;#34;radioResult&amp;#34; value=&amp;#34;1&amp;#34; /&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;input data-test=&amp;#34;radio_2&amp;#34; type=&amp;#34;radio&amp;#34; v-model=&amp;#34;radioResult&amp;#34; value=&amp;#34;2&amp;#34; /&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;p data-test=&amp;#34;result&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="na">radioResult&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="æ¸¬è©¦ç¨‹å¼ç¢¼-2">æ¸¬è©¦ç¨‹å¼ç¢¼&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¨¡æ“¬ radio å‹¾é¸è¡Œç‚º&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;radio_1&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;result&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;radio_2&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;result&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ¨¡æ“¬-checkbox-å‹¾é¸">æ¨¡æ“¬ checkbox å‹¾é¸&lt;/h4>
&lt;h5 id="å…ƒä»¶-3">å…ƒä»¶&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">checkbox_1&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;checkbox&amp;#34;&lt;/span> &lt;span class="nt">v-model&lt;/span>&lt;span class="s">=&amp;#34;checkboxResult&amp;#34; value=&amp;#34;1&amp;#34; /&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;input data-test=&amp;#34;checkbox_2&amp;#34; type=&amp;#34;checkbox&amp;#34; v-model=&amp;#34;checkboxResult&amp;#34; value=&amp;#34;2&amp;#34; /&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;p data-test=&amp;#34;result&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="na">checkboxResult.join&lt;/span>&lt;span class="err">(&amp;#39;,&amp;#39;)&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="æ¸¬è©¦ç¨‹å¼ç¢¼-3">æ¸¬è©¦ç¨‹å¼ç¢¼&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¨¡æ“¬ checkbox å‹¾é¸è¡Œç‚º&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;checkbox_1&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;result&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;checkbox_2&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;result&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1,2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;checkbox_1&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;result&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ¨¡æ“¬-select-é¸æ“‡">æ¨¡æ“¬ select é¸æ“‡&lt;/h4>
&lt;h5 id="å…ƒä»¶-4">å…ƒä»¶&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">select&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">target&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="nt">v-model&lt;/span>&lt;span class="s">=&amp;#34;result&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;orange&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Orange&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;black&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Black&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">select&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">result&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="æ¸¬è©¦ç¨‹å¼ç¢¼-4">æ¸¬è©¦ç¨‹å¼ç¢¼&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¨¡æ“¬ select é¸æ“‡&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;orange&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;result&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;orange&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="æ¨¡æ“¬-vue-apis">æ¨¡æ“¬ Vue APIs&lt;/h2>
&lt;h3 id="data">data&lt;/h3>
&lt;p>æ³¨æ„ï¼šåœ¨æ¨¡æ“¬ data ä¹‹å‰éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å¤§éƒ¨åˆ†çš„æ¸¬è©¦æ™‚æˆ‘å€‘é€šå¸¸ä¸å¿…ç‰¹æ„å»æ¨¡æ“¬ dataï¼Œæ‡‰è©²è®“å…¶èˆ‡å…ƒä»¶æœ¬èº«çš„ç§æœ‰æ–¹æ³•ï¼ˆprivate methodï¼‰è‡ªç„¶äº’å‹•å³å¯ï¼Œè‹¥æœƒéœ€è¦é€éæ¨¡æ“¬ data ä¾†æ“ä½œå…ƒä»¶å‰‡è¦è§€å¯Ÿæ˜¯å¦è³‡æ–™èˆ‡å…ƒä»¶æœ¬èº«è€¦åˆäº†ï¼Œé€™ç¨®æƒ…æ³ä¸‹å¯èƒ½é€ æˆå…ƒä»¶æœ¬èº«ç„¡æ³•é«˜åº¦é‡è¤‡åˆ©ç”¨ã€‚&lt;/p>
&lt;h4 id="ç§æœ‰æ–¹æ³•private-method">ç§æœ‰æ–¹æ³•ï¼ˆprivate methodï¼‰&lt;/h4>
&lt;p>å°é–‰åœ¨å…ƒä»¶ã€ç‰©ä»¶&amp;hellip;ç­‰ç­‰ä¸­çš„å‡½å¼ï¼Œåœ¨å¤–éƒ¨ç„¡æ³•å­˜å–å¾—åˆ°ï¼Œe.gï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">add5&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">add&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">,)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">y&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">add5&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è£¡é ­çš„ add å‡½å¼å³ç‚ºç§æœ‰æ–¹æ³•ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥æ˜¯çœŸçš„æœ‰éœ€è¦ç”¨åˆ°æ¨¡æ“¬ &lt;code>data&lt;/code> å±¬æ€§æ™‚ï¼Œé¦–å…ˆè¦æ³¨æ„å…ƒä»¶æ˜¯ç”¨ä½•ç¨®æ–¹å¼ï¼ˆ&lt;strong>options API&lt;/strong> /&lt;strong>composition API&lt;/strong> èˆ‡ &lt;strong>&lt;code>&amp;lt;script setup&amp;gt;&lt;/code>&lt;/strong>ï¼‰ä¾†ä½¿ç”¨ &lt;code>data&lt;/code>ï¼Œå› ç‚ºå¯«æ³•ä¸Šå°‡æœƒæœ‰æ‰€ä¸åŒï¼›ä¸”ä¾ç…§è¨­å®šçš„æ™‚æ©Ÿé‚„å¯åˆ†ç‚ºã€Œ&lt;strong>åˆå§‹ç‹€æ…‹&lt;/strong>ã€èˆ‡ã€Œ&lt;strong>å¾ŒçºŒæ“ä½œ&lt;/strong>ã€ã€‚&lt;/p>
&lt;h3 id="dataoptions-api">dataï¼ˆoptions APIï¼‰&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">target&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">content&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>dataï¼ˆoption APIï¼‰åˆå§‹ç‹€æ…‹æ¨¡æ“¬ï¼Œå¯é€éå®¹å™¨ï¼ˆwrapperï¼‰çš„ç¬¬äºŒå€‹åƒæ•¸å¸¶å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* æ¸¬è©¦ç¨‹å¼ç¢¼ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥è¦æ¨¡æ“¬å¾ŒçºŒæ‰è¨­å®š dataï¼ˆoption APIï¼‰ï¼Œå‰‡å¯ä»¥é€éå®¹å™¨æ–¹æ³•ä¸­çš„ &lt;code>setData()&lt;/code> è¨­ç½®ï¼Œæ­¤å¤–ç”±æ–¼æ˜¯éåŒæ­¥çš„æ–¹æ³•ï¼Œè¦è¨˜å¾— &lt;code>async/await&lt;/code> æ‰èƒ½ç¢ºä¿æ–·è¨€æ­£ç¢ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setData&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="datacomposition-api-script-setup-èªæ³•ç³–">dataï¼ˆcomposition API, &lt;code>&amp;lt;script setup&amp;gt;&lt;/code> èªæ³•ç³–ï¼‰&lt;/h3>
&lt;h4 id="composition-api">composition APIï¼š&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">content&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="script-setup-èªæ³•ç³–">&lt;code>&amp;lt;script setup&amp;gt;&lt;/code> èªæ³•ç³–ï¼š&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">content&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™ä¸€é¡é€é &lt;code>setup()&lt;/code> æ‰€è™•ç†çš„è³‡æ–™ï¼Œè‹¥è¦æ¨¡æ“¬æœƒé‡åˆ°ä¸å°‘å•é¡Œã€‚&lt;/p>
&lt;p>åœ¨å®¹å™¨æ–¹æ³•ä¸­çš„ç¬¬äºŒå€‹åƒæ•¸æ‰€æä¾›çš„æ–¹å¼ï¼ŒåŸå…ˆæ˜¯ä¾›æ‡‰çµ¦ &lt;code>options&lt;/code> API ä¸­çš„ &lt;code>data&lt;/code> å±¬æ€§æ‰€ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘å€‘å¿…é ˆæ”¹ä»¥æ³¨å…¥çš„æ–¹å¼åµŒå…¥ &lt;code>setup()&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* æ¸¬è©¦ç¨‹å¼ç¢¼ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">monut&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†å¦‚æ­¤ä¸€ä¾†ï¼Œå…ƒä»¶ä¸­åŸå…ˆå…¶ä»–å¯«åœ¨ &lt;code>setup()&lt;/code> å…§çš„ç‹€æ…‹ç­‰å°±å¿…é ˆä¸€èµ·æ¨¡æ“¬ï¼Œé‚„è¨˜å¾—å¥½çš„å…ƒä»¶æ¸¬è©¦å®ˆå‰‡ä¹‹ä¸€å—ï¼Ÿæ²’éŒ¯ï¼Œå°±æ˜¯ä¸è¦é‡è¤‡å¯¦è¸å¯¦ä½œã€‚&lt;/p>
&lt;p>é‚£æ¯”è¼ƒå¥½çš„æ–¹å¼ä¹‹ä¸€å°±æ˜¯é€éå®¹å™¨æ–¹æ³•ä¸­ï¼ˆwrapperï¼‰å–å¾—å¯¦é«”ä¾†è¨­ç½®è®Šæ•¸ï¼Œä¸¦ä¸”é€é &lt;code>nextTick&lt;/code> æ–¹æ³•ç¢ºä¿æ¸²æŸ“çµæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* æ¸¬è©¦ç¨‹å¼ç¢¼ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">monut&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">content&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;text&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç‰ˆæœ¬1: ç›´æ¥ä½¿ç”¨ vm å…§çš„ $nextTick
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$nextTick&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç‰ˆæœ¬2: ä½¿ç”¨ vue çš„ nextTick
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// import { nextTick } from &amp;#39;vue&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// await nextTick()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œé—œæ–¼ç§æœ‰æ–¹æ³•æˆ–è®Šæ•¸çš„æ¨¡æ“¬ï¼Œæˆ–è¨±å°‡ä¾† Vue Test Utils é–‹ç™¼åœ˜éšŠæœƒå°æ­¤æœ‰äº›æ”¹è§€æä¾›ä¸€äº›é€ƒç”Ÿè‰™çš„æ–¹æ³•ï¼Œä¸éç›®å‰æ¯”è¼ƒä¸€è‡´çš„è§’åº¦æ˜¯ç›¡é‡åˆ¥å°é€™ä¸€é¡çš„ç§æœ‰ç’°å¢ƒæ‰æœ‰çš„è®Šæ•¸èˆ‡æ–¹æ³•å»åšæ¨¡æ“¬ï¼Œå³æ™‚çš„ç›¸é—œè¨è«–å¯è¦‹æ–¼&lt;a class="link" href="https://github.com/vuejs/test-utils/pulls?q=composition" target="_blank" rel="noopener"
>é€™è£¡&lt;/a>ã€‚&lt;/p>
&lt;h3 id="props">props&lt;/h3>
&lt;p>åœ¨ä¸æ¨¡æ“¬ç§æœ‰æƒ…å¢ƒçš„å‰æä¹‹ä¸‹ï¼Œprop ç›¸è¼ƒèµ·ä¾†å–®ç´”å¤šäº†ï¼Œè€Œé—œæ–¼æ¸¬è©¦ props çš„éƒ¨åˆ†ä¸»è¦æœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>æ¨¡æ“¬ props å‚³å…¥å¾Œï¼Œæ–·è¨€ã€Œå¾ŒçºŒçš„ç‹€æ…‹ã€ã€‚&lt;/li>
&lt;li>æ–·è¨€ã€Œæ˜¯å¦å‚³å…¥å°çš„åƒæ•¸çµ¦å­å…ƒä»¶ã€ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="æ¨¡æ“¬-props-å‚³å…¥">æ¨¡æ“¬ props å‚³å…¥&lt;/h4>
&lt;p>è¦æ¨¡æ“¬ props å‚³å…¥çš„æ–¹æ³•ä¾ç…§æ™‚æ©Ÿå¯åˆ†ç‚ºã€Œ&lt;strong>åˆå§‹ç‹€æ…‹&lt;/strong>ã€èˆ‡ã€Œ&lt;strong>å¾ŒçºŒæ“ä½œ&lt;/strong>ã€ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">target&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">content&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆå§‹ç‹€æ…‹åŒæ¨£æ˜¯è—‰ç”±å®¹å™¨ï¼ˆWrapperï¼‰ä¸­çš„ç¬¬äºŒå€‹åƒæ•¸å‚³å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥æƒ³è¦å¾ŒçºŒæ‰å‚³å…¥ &lt;code>props&lt;/code> å‰‡å¯ä»¥é€éå®¹å™¨æ–¹æ³• &lt;code>setProps&lt;/code> æ¨¡æ“¬ï¼Œä¸¦ä¸”ä¸€æ¨£è¦å°å¿ƒéåŒæ­¥çš„å•é¡Œï¼Œè¨˜å¾—è£œä¸Š &lt;code>async / await&lt;/code> ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setProps&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Good bye&amp;#39;&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Good bye&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ–·è¨€æ˜¯å¦å‚³å…¥å°-props-åƒæ•¸çµ¦å­å…ƒä»¶">æ–·è¨€æ˜¯å¦å‚³å…¥å° props åƒæ•¸çµ¦å­å…ƒä»¶&lt;/h3>
&lt;p>æ—¢ç„¶æœ‰æ¥æ”¶çš„ä¸€æ–¹ï¼Œé‚£å°±è‡³å°‘æœƒæœ‰çµ¦äºˆçš„ä¸€æ–¹ã€‚&lt;/p>
&lt;p>åœ¨ &lt;code>props&lt;/code> é©—è­‰ä¸­çš„å¦ä¸€ç¨®æ–¹å¼å°±æ˜¯é©—è­‰çµ¦äºˆå…¶ä»–å…ƒä»¶çš„åƒæ•¸æ˜¯å¦æ­£ç¢ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">BaseLightbox&lt;/span> &lt;span class="na">content&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="na">Hello&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">enableMask&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;true&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é¦–å…ˆæˆ‘å€‘è¦åšçš„æ˜¯é€éä¹‹å‰å­¸çš„é¸æ“‡å™¨æ–¹æ³•é¸åˆ°ç‰¹å®šçš„å…ƒä»¶ï¼Œæ¥è‘—é€éå®¹å™¨æ–¹æ³•åº•ä¸‹çš„ &lt;code>props()&lt;/code> ä¾†å–çš„å‚³é€è³‡è¨Šï¼Œæ¥è‘—å°±å¯ä»¥é€éæ–·è¨€ Matcher ä¾†æ¯”å° props çµ¦å…ƒä»¶çš„è³‡è¨Šæ˜¯å¦æ­£ç¢ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">BaseLightbox&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./BaseLightbox.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">BaseLightbox&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">enableMask&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">enableMask&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="emit">emit&lt;/h3>
&lt;p>åœ¨æ–·è¨€ä¸­æˆ‘å€‘è¦æ¸¬è©¦ &lt;code>emit&lt;/code> ä¸»è¦æ˜¯è©¦åœ–æ•ç²å…ƒä»¶æ‰€ç™¼ç”Ÿçš„äº‹ä»¶ï¼Œä¸¦æ–·è¨€äº‹ä»¶èˆ‡å€¼æ˜¯å¦å¦‚æˆ‘å€‘æ‰€é æœŸï¼Œè€Œé€™æ™‚å¯ä»¥é€éå®¹å™¨æ–¹æ³•ä¸­çš„ &lt;code>emitted()&lt;/code> ä¾†å–å¾—äº‹ä»¶ç™¼é€æ‰€æœ‰çš„ç´€éŒ„ã€‚&lt;/p>
&lt;p>è€Œ &lt;code>emitted&lt;/code> ä¸­æ‰€ç´€éŒ„çš„æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">&amp;#39;äº‹ä»¶åç¨±&amp;#39;:&lt;/span> &lt;span class="err">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">[/*&lt;/span> &lt;span class="err">ç¬¬ä¸€æ¬¡ç™¼é€çš„å€¼&lt;/span> &lt;span class="err">*/],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">[/*&lt;/span> &lt;span class="err">ç¬¬äºŒæ¬¡ç™¼é€çš„å€¼&lt;/span> &lt;span class="err">*/],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">[/*&lt;/span> &lt;span class="err">ç¬¬&lt;/span> &lt;span class="err">n&lt;/span> &lt;span class="err">æ¬¡ç™¼é€çš„å€¼&lt;/span> &lt;span class="err">*/]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤å‡è¨­æˆ‘å€‘æœ‰ä¸€å€‹ &lt;code>pagination&lt;/code> å…ƒä»¶å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">first&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;$emit(&amp;#39;changePage&amp;#39;, &amp;#39;first&amp;#39;)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç¬¬ä¸€é &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">prev&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;$emit(&amp;#39;changePage&amp;#39;, &amp;#39;prev&amp;#39;)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ä¸Šä¸€é &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;$emit(&amp;#39;changePage&amp;#39;, &amp;#39;next&amp;#39;)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ä¸‹ä¸€é &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">last&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;$emit(&amp;#39;changePage&amp;#39;, &amp;#39;last&amp;#39;)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">æœ€å¾Œä¸€é &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨æ–·è¨€çš„æ™‚å€™æˆ‘å€‘å¯ä»¥é€éä¸‹åˆ—æ–¹å¼æª¢æŸ¥æ˜¯å¦ç™¼é€å°æ‡‰çš„ emit äº‹ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>é€é &lt;code>toHaveProperty&lt;/code> ç¢ºèª &lt;code>emitted&lt;/code> å±¬æ€§ç¢ºèªæ˜¯å¦ç™¼é€ã€Œ&lt;strong>é æœŸäº‹ä»¶åç¨±&lt;/strong>ã€&lt;/li>
&lt;li>é€é &lt;code>emitted().äº‹ä»¶åç¨±&lt;/code> ç¢ºèªè©²äº‹ä»¶åç¨±ã€Œ&lt;strong>ç™¼ç”Ÿæ¬¡æ•¸&lt;/strong>ã€&lt;/li>
&lt;li>é€é &lt;code>emitted().äº‹ä»¶åç¨±[index]&lt;/code> ç¢ºèªè©²äº‹ä»¶åç¨±ï¼Œç¬¬å¹¾æ¬¡é€å‡ºçš„ã€Œ&lt;strong>å€¼&lt;/strong>ã€&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;first&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">emitted&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toHaveProperty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;changePage&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">emitted&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">changePage&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveLength&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">emitted&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">changePage&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;first&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="provide">provide&lt;/h3>
&lt;p>å°æ–¼æœ‰ä½¿ç”¨åˆ° &lt;code>provide&lt;/code> çš„å…ƒä»¶ä¾†èªªï¼Œæˆ‘å€‘éœ€è¦ç¢ºä¿ä»–æä¾›é æœŸçš„ &lt;code>inject&lt;/code> å…§å®¹ï¼Œå› æ­¤æˆ‘å€‘è¦å»ºç«‹ä¸€å€‹ç”¨ä¾†æ¥æ”¶ &lt;code>provide&lt;/code> çš„å…ƒä»¶ï¼Œæ¥è‘—æ‰èƒ½é€éæ–·è¨€ä¾†æ¸¬è©¦å‚³éçš„å…§å®¹æ˜¯å¦å¦‚é æœŸã€‚&lt;/p>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘ä»¥é€™å€‹å…ƒä»¶ç‚ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ChildComponent&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">provide&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">readonly&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provide&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">readonly&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶è€Œæˆ‘å€‘ç‚ºäº†è®“æ¸¬è©¦æ¡ˆä¾‹ä¿æŒç¨ç«‹æ€§ï¼Œå› æ­¤æˆ‘å€‘è¦é€éé€ å‡çš„å…ƒä»¶ä¾†æ¸¬è©¦ &lt;code>inject&lt;/code> æ‰€æ¥æ”¶åˆ°çš„æ˜¯å¦å¦‚é æœŸã€‚&lt;/p>
&lt;h4 id="é€éå…ƒä»¶å®¹å™¨ä¸­çš„-globalstubs-æ¨¡æ“¬å‡å…ƒä»¶">é€éå…ƒä»¶å®¹å™¨ä¸­çš„ global.stubs æ¨¡æ“¬å‡å…ƒä»¶&lt;/h4>
&lt;p>é€éå…ƒä»¶å®¹å™¨ï¼ˆWrapperï¼‰ä¸­çš„ç¬¬äºŒå€‹åƒæ•¸ &lt;code>global.stubs&lt;/code> æˆ‘å€‘å¯ä»¥å°‡å­å…ƒä»¶æ¸²æŸ“æˆæˆ‘å€‘æƒ³è¦çš„æ¨£å­ï¼Œè€Œæ¨¡æ“¬çš„æ–¹å¼ä¸€å…±åˆ†ç‚ºå…©ç¨®ï¼š&lt;/p>
&lt;ul>
&lt;li>æ¸²æŸ“æˆ &lt;code>&amp;lt;-stub&amp;gt;&lt;/code> å…ƒä»¶&lt;/li>
&lt;/ul>
&lt;p>ç•¶ &lt;code>global.stub[ç›®æ¨™å…ƒä»¶åç¨±]&lt;/code> ç‚º &lt;code>true&lt;/code> æ™‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">TargetComponent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">stubs&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChildComponent&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘çš„ç›®æ¨™å…ƒä»¶å°‡æœƒè¢«æ¸²æŸ“ç‚ºå¸¶æœ‰ &lt;code>-stub&lt;/code> å¾Œç¶´çš„å…ƒç´ ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ChildComponent&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span> &lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">æœƒè®Šæˆ&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component-stub&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/child-component-stub&amp;gt; --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶è€Œé€™å°æ–¼æˆ‘å€‘è¦æ¸¬è©¦ &lt;code>provide&lt;/code> ä¾†èªªæ²’æœ‰å¹«åŠ©ï¼Œå› ç‚ºä»–æ²’æœ‰è¾¦æ³•æ¥æ”¶ &lt;code>inject&lt;/code> è³‡è¨Šï¼Œå› æ­¤æˆ‘å€‘è¦æ¡ç”¨ä¸‹é¢ç¬¬äºŒç¨®æ–¹æ³•ã€‚&lt;/p>
&lt;ul>
&lt;li>æ¸²æŸ“æˆç‰¹å®šå…ƒä»¶&lt;/li>
&lt;/ul>
&lt;p>è¦æ¸²æŸ“æˆç‰¹å®šå…ƒä»¶çš„æ–¹å¼ï¼Œå°±æ˜¯å…ˆè£½ä½œä¸€å€‹å‡å…ƒä»¶ï¼Œæ¥è‘—å†æä¾›çµ¦ &lt;code>global.stubs&lt;/code> ä¾†ç•¶ä½œåŸå…ˆæ‡‰è©²è¦æ¸²æŸ“çš„å…ƒä»¶ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘å¯ä»¥é€é Vue æä¾›çš„ &lt;code>defineComponent&lt;/code> å»ºé€ å…ƒä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineComponent&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">TestComponent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineComponent&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;p data-test=&amp;#34;target&amp;#34;&amp;gt;{{ count }}&amp;lt;/p&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">inject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">value&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—åœ¨æ¸¬è©¦æ¡ˆä¾‹å°±å¯ä»¥é€é &lt;code>global.stubs&lt;/code> ä¸­ç›´æ¥ä½¿ç”¨é€™å€‹æ¸¬è©¦å…ƒä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineComponent&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">TestComponent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineComponent&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;p data-test=&amp;#34;target&amp;#34;&amp;gt;{{ count }}&amp;lt;/p&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">inject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">value&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">TargetComponent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">stubs&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChildComponent&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">TestComponent&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†å…ƒä»¶ &lt;code>ChildComponent&lt;/code> åœ¨æ¸¬è©¦æ¡ˆä¾‹ä¸­çš„æ¸²æŸ“çµæœå°‡è®Šæˆæˆ‘å€‘æŒ‡å®šçš„æ¨£å­ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data-test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;target&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>1&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤æˆ‘å€‘ç¾åœ¨å°±å¯ä»¥æ–·è¨€ &lt;code>provide&lt;/code> æä¾›çš„å…§å®¹æ˜¯å¦æ­£ç¢ºäº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">TestComponent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineComponent&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;p data-test=&amp;#34;target&amp;#34;&amp;gt;{{ count }}&amp;lt;/p&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">inject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">TargetComponent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">stubs&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChildComponent&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">TestComponent&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="inject">inject&lt;/h3>
&lt;p>å°æ–¼æœ‰ä½¿ç”¨åˆ° &lt;code>inject&lt;/code> çš„å…ƒä»¶ä¾†èªªï¼Œæˆ‘å€‘åœ¨æ„çš„æ˜¯æä¾› &lt;code>provide&lt;/code> ç‰¹å®šçš„å€¼ä¹‹å¾Œï¼Œç•«é¢ä¸Šæ¸²æŸ“çš„çµæœæ˜¯å¦æ­£ç¢ºã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">target&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">inject&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">inject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ™‚æˆ‘å€‘å¯ä»¥é€éå…ƒä»¶å®¹å™¨ï¼ˆWrapperï¼‰ä¸­çš„ç¬¬äºŒå€‹åƒæ•¸ &lt;code>global&lt;/code> ä¾†æŒ‡å®šè¦æä¾›çš„ &lt;code>provide&lt;/code> å€¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">TargetComponent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provide&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ€å¾Œæˆ‘å€‘å°±å¯ä»¥ç›´æ¥æ–·è¨€æ¸²æŸ“çš„çµæœæ˜¯å¦å¦‚é æœŸï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should be render correct content after providing count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">TargetComponent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provide&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="slots">slots&lt;/h3>
&lt;p>è€Œåœ¨é‡å° &lt;code>slots&lt;/code> æ’°å¯«æ¸¬è©¦æ™‚ï¼Œè¦æ³¨æ„çš„åœ°æ–¹æœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>slots&lt;/code> è‡³å°‘æœƒæœ‰é è¨­æœªå‚³å…¥çš„ç‹€æ…‹èˆ‡å‚³å…¥è³‡æ–™å¾Œçš„ç‹€æ…‹å…©ç¨®ï¼Œæ–·è¨€æ™‚æ‡‰è©²è‡³å°‘åŒ…å«é€™å…©ç¨®ç‹€æ…‹ã€‚&lt;/li>
&lt;li>ä»¥ &lt;code>slots&lt;/code> è¡Œç‚ºä½œç‚ºæ¡ˆä¾‹æ–·è¨€æ™‚ï¼Œæ–·è¨€å…§å®¹è¦å°ˆæ³¨åœ¨ &lt;code>slots&lt;/code> æ‰€å½±éŸ¿ç¯„åœå…§ï¼Œå¦å‰‡å¯èƒ½æœƒå—å…¶ä»–å› ç´ å¹²æ“¾ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="é è¨­æ’æ§½default-slots">é è¨­æ’æ§½ï¼ˆDefault slotsï¼‰&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¦é‡å°æœ€åŸºæœ¬çš„é è¨­æ’æ§½åšæ–·è¨€æ™‚ï¼Œæˆ‘å€‘å¯ä»¥é€éå®¹å™¨ä¸­ç¬¬äºŒå€‹åƒæ•¸å¸¶å…¥ &lt;code>slots&lt;/code> æ¬„ä½ä¾†æ¨¡æ“¬å¸¶å…¥å…§å®¹ä¸¦é€é &lt;code>default&lt;/code> å±¬æ€§å‚³å…¥æŒ‡å®šçš„ç¯„åœå…§ã€‚&lt;/p>
&lt;p>æœªå‚³å…¥æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;default slot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toMatchInlineSnapshot&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‚³å…¥æ™‚æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;default slot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">slots&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Slot Content&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Slot Content&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="å…·åæ’æ§½named-slots">å…·åæ’æ§½ï¼ˆNamed slotsï¼‰&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;header&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;body&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;footer&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥åœ¨æ’æ§½çš„å‹æ…‹ç‚ºå…·åæ’æ§½ï¼Œåœ¨æ’°å¯«æ¸¬è©¦æ¡ˆä¾‹æ™‚çš„å®¹å™¨é¸é … &lt;code>slots&lt;/code> å°±å¯ä»¥ä¾æ“šæ’æ§½åç¨± &lt;code>name&lt;/code> æŒ‡å®šè¦å‚³å…¥çš„å…§å®¹ã€‚&lt;/p>
&lt;p>æœªå‚³å…¥æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;named slot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toMatchInlineSnapshot&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‚³å…¥æ™‚æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;named slot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">slots&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">header&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ithelp 2022 éµäººè³½&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">body&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;vue3 å–®å…ƒæ¸¬è©¦&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">footer&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;by Shawn&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toMatchInlineSnapshot&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä½œç”¨åŸŸæ’æ§½scoped-slots">ä½œç”¨åŸŸæ’æ§½ï¼ˆScoped slotsï¼‰&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">è²“å’ªå’–å•¡å»³&lt;/span>&lt;span class="err">ï¼š&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">åº—é•·&lt;/span>&lt;span class="err">ï¼š&lt;/span>&lt;span class="nx">Shawn&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="nt">:staffInfo&lt;/span>&lt;span class="s">=&amp;#34;staffInfo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">staffInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;black-cat&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;é»‘é»‘&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;signature-dish&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ‹¿éµ&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;orange-cat&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;é˜¿æ©˜&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;signature-dish&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ç„¦ç³–ç‘ªå¥‡æœµ&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ‰æ™‚å€™æˆ‘å€‘å¯èƒ½æƒ³è¦çµ¦äºˆæ›´é«˜åº¦çš„å½ˆæ€§ï¼Œä½¿å…ƒä»¶é€é &lt;code>&amp;lt;slot&amp;gt;&lt;/code> å‚³éè³‡æ–™çµ¦çˆ¶å±¤æ™‚ï¼Œé€™æ™‚å€™å°±æœƒç”¨åˆ°ä½œç”¨åŸŸæ’æ§½ã€‚&lt;/p>
&lt;p>æœªå‚³å…¥æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;scoped slots&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toMatchInlineSnapshot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;&amp;lt;div&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;è²“å’ªå’–å•¡å»³ï¼š&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;åº—é•·ï¼šShawn&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;/div&amp;gt;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> `&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‚³å…¥æ™‚æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;scoped slots&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">slots&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;template #staffInfo&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;åº—å“¡ï¼š{{ staffInfo[&amp;#39;orange-cat&amp;#39;][&amp;#39;name&amp;#39;] }}&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;é™å®šé …ç›®ï¼š{{ staffInfo[&amp;#39;black-cat&amp;#39;][&amp;#39;signature-dish&amp;#39;] }}&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;/template&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> `&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toMatchInlineSnapshot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;&amp;lt;div&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;è²“å’ªå’–å•¡å»³ï¼š&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;åº—é•·ï¼šShawn&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;åº—å“¡ï¼šé˜¿æ©˜&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;é™å®šé …ç›®ï¼šæ‹¿éµ&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;/div&amp;gt;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> `&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ’æ§½è¼‰å…¥é¸é …mounting-options">æ’æ§½è¼‰å…¥é¸é …ï¼ˆMounting optionsï¼‰&lt;/h4>
&lt;p>è‹¥æƒ³åœ¨æ¸¬è©¦æ¡ˆä¾‹ä¸­ç”¨ä¸åŒçš„æ–¹å¼ä¾†æ¨¡æ“¬ slotsï¼Œå¯ä»¥é€éä¸‹é¢å››ç¨®èªæ³•ï¼š&lt;/p>
&lt;ul>
&lt;li>å‚³å…¥ SFC æª”æ¡ˆ&lt;/li>
&lt;li>&lt;code>render function&lt;/code>&lt;/li>
&lt;li>åŒ…å« &lt;code>template&lt;/code> å±¬æ€§çš„ç‰©ä»¶&lt;/li>
&lt;li>ç›´æ¥å‚³å…¥ä¸€å€‹å­—ä¸²&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should render same layout&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Layout&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">slots&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Component&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// default: h(&amp;#39;div&amp;#39;, &amp;#39;ç›¸åŒå…§å®¹&amp;#39;),
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// default: { template: &amp;#39;&amp;lt;div&amp;gt;ç›¸åŒå…§å®¹&amp;lt;/div&amp;gt;&amp;#39; },
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// default: &amp;#39;&amp;lt;div&amp;gt;ç›¸åŒå…§å®¹&amp;lt;/div&amp;gt;&amp;#39;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;lt;div&amp;gt;ç›¸åŒå…§å®¹&amp;lt;/div&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="custom-directives">custom directives&lt;/h3>
&lt;p>å®¢è£½åŒ–æŒ‡ä»¤æœ¬èº«æ­é…äº†é¡ä¼¼å…ƒä»¶ç”Ÿå‘½é€±æœŸçš„ Hooksï¼Œè€Œæˆ‘å€‘å¯ä»¥åœ¨é‚£äº› Hook ä¸­ä»»æ„å°æˆ‘å€‘æ‰€ç¶å®šçš„å…ƒç´ åšé–‹ç™¼ï¼Œè®“ç¹è¤‡çš„é‚è¼¯é€éç°¡å–®çš„æŒ‡ä»¤å°±èƒ½å¤ é‡è¤‡åˆ©ç”¨ï¼Œä½¿æˆ‘å€‘åœ¨é–‹ç™¼éç¨‹ä¸­çš„é–‹ç™¼è€…é«”é©—ï¼ˆDeveloper experience, DXï¼‰æœ‰éå¸¸è‰¯å¥½çš„é«”é©—ã€‚&lt;/p>
&lt;p>ä½†ç›¸å°çš„ä¾†èªªï¼Œè¦æ¸¬è©¦å®¢è£½åŒ–æŒ‡ä»¤å°±æœ‰æ©Ÿæœƒé‹ç”¨åˆ°å„ç¨®æˆ‘å€‘è‡³ä»Šå­¸éçš„è¨±å¤šæŠ€å·§ä¾†æ–·è¨€ï¼Œå¾è€Œä½¿é›£åº¦å¤§å¤§æå‡ï¼Œä½†æˆ‘å€‘åªè¦ç†Ÿæ‚‰ä¹‹å‰çš„æ¨¡æ“¬æŠ€å·§å¾Œï¼Œæœ€å¾Œåªéœ€è¦é—œæ³¨çš„ä¸€å€‹åœ°æ–¹å°±æ˜¯ï¼Œé æœŸæŒ‡ä»¤æ”¾å…¥å¾Œæ‡‰é”æˆä»€éº¼ç›®æ¨™ï¼Œæ¥è‘—å†å»å°‹æ‰¾è¦å¾ä»€éº¼è§’åº¦æˆ–å¯å–å¾—çš„è³‡è¨Šå»æ¯”å°ä¾†ä½œç‚ºæˆ‘å€‘æ–·è¨€çš„å…§å®¹å³å¯ã€‚&lt;/p>
&lt;p>è€Œæ¥ä¸‹ä¾†æˆ‘å€‘ä»¥ä¸€å€‹ &lt;code>v-foucs&lt;/code> çš„å®¢è£½åŒ–æŒ‡ä»¤ä¾†ä»‹ç´¹å¦‚ä½•æ–·è¨€å®¢è£½åŒ–æŒ‡ä»¤èˆ‡å°‹æ‰¾æ¯”å°è³‡è¨Šï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">vFocus&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mounted&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">el&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">el&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>è¨»å†ŠæŒ‡ä»¤&lt;/li>
&lt;/ol>
&lt;p>é¦–å…ˆï¼Œè¦é€²è¡Œæ–·è¨€æˆ‘å€‘å¯ä»¥é€éå®¹å™¨ä¸­ç¬¬äºŒå€‹åƒæ•¸çš„ &lt;code>global.directives&lt;/code> ä¾†è¨»å†Šæˆ‘å€‘çš„å®¢è£½åŒ–æŒ‡ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(...,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">directives&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Focus&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">vFocus&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å±¬æ€§åŒ¹é…çš„åç¨±è¦å‰‡ Abc æœƒ match åˆ° v-abc
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>ä»¿é€ å…ƒä»¶ä¸¦æ”¾å…¥æŒ‡ä»¤&lt;/li>
&lt;/ol>
&lt;p>æ¥è‘—æˆ‘å€‘è¦ä½¿ç”¨åˆ°ä»¿é€ å…ƒä»¶çš„æŠ€å·§ï¼Œè®“å®¹å™¨ä¸€é–‹å§‹å°±è¼‰å…¥ä¸€å€‹å‡çš„å…ƒä»¶ï¼Œä¸¦ä¸”æ”¾å…¥æŒ‡ä»¤èˆ‡ &lt;code>data-test&lt;/code> å±¬æ€§ä¾›æ•ç²ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">Component&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;input v-focus data-test=&amp;#34;target&amp;#34; type=&amp;#34;text&amp;#34;/&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(...,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">directives&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Focus&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">vFocus&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>å°‹æ‰¾æ¯”å°ç›®æ¨™&lt;/li>
&lt;/ol>
&lt;p>å†ä¾†ï¼Œç”±æ–¼ç›®æ¨™æ˜¯ç‚ºäº†é©—è­‰æ˜¯å¦è©²å…ƒç´ ç‚ºç€è¦½å™¨ä¸­çš„ &lt;code>focus&lt;/code> å…ƒç´ ï¼Œå› æ­¤è¦åˆ©ç”¨åˆ°ç€è¦½å™¨ç‰©ä»¶ &lt;code>Document&lt;/code> ä¸­çš„ &lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/API/Document/activeElement" target="_blank" rel="noopener"
>activeElement&lt;/a> å±¬æ€§ï¼Œè‹¥æœ‰è¢«èšç„¦çš„æƒ…æ³ä¸‹é‚£æ‡‰è©²è¦èƒ½å¤ æ¯”å°åˆ°åŒå€‹å…ƒç´ ã€‚ï¼ˆç”± &lt;code>jsdom&lt;/code> æä¾›æ¨¡æ“¬çš„ç€è¦½å™¨ç’°å¢ƒï¼‰&lt;/p>
&lt;ol start="4">
&lt;li>æ–·è¨€&lt;/li>
&lt;/ol>
&lt;p>æœ€å¾Œåœ¨æ–·è¨€çš„éƒ¨åˆ†ï¼Œç‚ºäº†å–å¾—ç›®æ¨™å…ƒç´ ï¼Œæˆ‘å€‘å¯ä»¥é€é &lt;code>wrapper.find().element&lt;/code> å–å¾—ç›®æ¨™çš„å…ƒç´ å¯¦é«”ï¼Œæœ€å¾Œå°±å¯ä»¥æ‹¿ä»–èˆ‡ &lt;code>document.activeElement&lt;/code> åšæ¯”å°ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;v-focus&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">Component&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;input v-focus data-test=&amp;#34;target&amp;#34; type=&amp;#34;text&amp;#34;/&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">attachTo&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">directives&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Focus&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">vFocus&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">activeElement&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†æˆ‘å€‘å°±å¯ä»¥ç¢ºä¿å°‡ä¾†åœ¨ä½¿ç”¨ &lt;code>v-focus&lt;/code> æŒ‡ä»¤æ™‚ï¼Œè©²å…ƒç´ åœ¨ &lt;code>mounted&lt;/code> å¾Œæœƒæ˜¯èšç„¦çš„å…ƒç´ ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="vitest-ui">Vitest UI&lt;/h2>
&lt;p>&lt;a class="link" href="https://cn.vitest.dev/guide/ui.html" target="_blank" rel="noopener"
>Vitest UI&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161206_9aa54df3c4_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;a class="link" href="https://cn.vitest.dev/guide/ui.html" target="_blank" rel="noopener"
>Vitest UI&lt;/a> ç°¡å–®ä¾†èªªï¼Œæ˜¯å¦ä¸€ç¨®ä¾›æˆ‘å€‘æŸ¥çœ‹æ¸¬è©¦èˆ‡ç·¨å¯«æ¸¬è©¦çš„æ–¹å¼ï¼Œå®ƒçš„ç‰¹è‰²åœ¨æ–¼åŸºæ–¼ Vite çš„ dev server ç’°å¢ƒï¼Œè®“æˆ‘å€‘å¯ä»¥ç›´æ¥åœ¨ç€è¦½å™¨ä¸Šç›´æ¥è§€çœ‹æ¸¬è©¦æ¡ˆä¾‹çš„æ¸¬è©¦çµæœï¼Œç”šè‡³æ”¯æ´ç›´æ¥åœ¨ç€è¦½å™¨ä¸­ç·¨å¯«æ¸¬è©¦æ¡ˆä¾‹å¾ŒåŒæ­¥æ›´æ–°æ¸¬è©¦æª”æ¡ˆã€‚&lt;/p>
&lt;p>è€Œåœ¨ä½¿ç”¨é€™é …é…·é…·çš„åŠŸèƒ½ä¹‹å‰ï¼Œæˆ‘å€‘éœ€è¦å¦å¤–å®‰è£ &lt;code>@vitest/ui&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm i -D @vitest/ui
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—å°±å¯ä»¥åœ¨ &lt;code>package.json&lt;/code> ä¸­æ–°å¢ä¸€å€‹ &lt;code>vitest&lt;/code> æŒ‡ä»¤ï¼Œä¸¦å¸¶ä¸Šåƒæ•¸ &lt;code>--ui&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;vitest:ui&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vitest --ui&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†å¾Œå€‘åªè¦åŸ·è¡Œ &lt;code>npm run vitest:ui&lt;/code>ï¼Œå°±å¯ä»¥åœ¨å•Ÿå‹•é€™é …åŠŸèƒ½ï¼Œä¸¦çœ‹åˆ°ä¸‹åˆ—ç•«é¢ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421744_551a7db867_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="ä»‹é¢">ä»‹é¢&lt;/h3>
&lt;p>åœ¨ Vitest UI ä¸­ï¼Œå·¦å´æ˜¯æ‰€æœ‰æ¸¬è©¦æ¡ˆä¾‹çš„æ¸¬è©¦çµæœï¼ˆPass / Fail / Skipï¼‰ï¼Œæˆ‘å€‘å¯ä»¥é€éä¸Šæ–¹çš„æœå°‹æ¬„è¼¸å…¥æª”åæˆ–è·¯å¾‘æ‰¾åˆ°æˆ‘å€‘è¦è§€å¯Ÿçš„æ¸¬è©¦ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593587045_97da336a0d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é»æ“Šå·¦å´çš„æ¸¬è©¦è·¯å¾‘å¾Œï¼Œå³å´æœƒå‡ºç¾æ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹çš„æè¿°è®“æˆ‘å€‘æ›´å¥½è§€å¯Ÿç•¶ä¸‹æª”æ¡ˆä¸­çš„æ‰€æœ‰æ¡ˆä¾‹&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161251_c8b36c5b5e_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é™¤æ­¤ä¹‹å¤–ï¼Œå†å¾€å³å´æœƒçœ‹åˆ°å››é …è³‡è¨Šï¼Œåˆ†åˆ¥ç‚ºï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421784_8bdb3d761f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;ul>
&lt;li>Reportï¼ˆé è¨­é¡¯ç¤ºé …ç›®ï¼‰&lt;/li>
&lt;li>Module Graph&lt;/li>
&lt;li>Console&lt;/li>
&lt;li>Code&lt;/li>
&lt;/ul>
&lt;h3 id="report">Report&lt;/h3>
&lt;p>é»æ“Š Report é ç±¤æ™‚ï¼Œæœƒåœ¨å³å´é¡¯ç¤ºè©²æ¸¬è©¦æª”æ¡ˆä¸­çš„æ‰€æœ‰æ¸¬è©¦æ¡ˆä¾‹çµæœã€‚&lt;/p>
&lt;p>è‹¥ç‚ºå…¨é€šéçš„æƒ…æ³æœƒé¡¯ç¤º &lt;code>All tests passed in this file&lt;/code>ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161276_9256c5cd61_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>è‹¥æœ‰éŒ¯èª¤æœƒé¡¯ç¤ºæ˜¯å“ªä¸€æ¢æ¸¬è©¦æ¡ˆä¾‹ç™¼ç”ŸéŒ¯èª¤ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52592678942_4d1f1140cd_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æˆ‘å€‘ç”šè‡³èƒ½é»æ“ŠéŒ¯èª¤è¨Šæ¯å³æ–¹çš„é–‹å•Ÿè¦–çª— Iconï¼ŒVitest UI å°‡æœƒç›´æ¥å•Ÿå‹•ç³»çµ±é è¨­çš„ç¨‹å¼ç¢¼ç·¨è¼¯å™¨ï¼Œé–‹å•Ÿæ¸¬è©¦æª”æ¡ˆå¾Œå°‡è¼¸å…¥æ¸¸æ¨™èšç„¦åœ¨éŒ¯èª¤çš„è¡Œæ•¸èˆ‡ä½ç½®ã€‚ï¼ˆe.g. åœ–ä¸­çš„ &lt;code>toEqual&lt;/code> Assertion Matcherï¼‰&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161331_e16935173c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="module-graph">Module Graph&lt;/h3>
&lt;p>æ¥è‘—æ˜¯ç¬¬äºŒå€‹é ç±¤çš„ &lt;code>Module Graph&lt;/code>ï¼Œé€™é çš„å…§å®¹ä¸»è¦æ˜¯é€éæª¢æ¸¬è¡Œå…§å¼•å…¥æ¨¡çµ„ï¼Œå‘ˆç¾æª”æ¡ˆä¹‹é–“ä¾è³´é—œä¿‚ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421854_0fbbe57891_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é»æ“Šåœ–ä¸­çš„ç¯€é»å¯ä»¥çœ‹åˆ°è©²æ¨¡çµ„çš„ Source æª”èˆ‡ç¶“ç”± Transformed å¾Œçš„ç¨‹å¼ç¢¼ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593587155_3ee1de6d49_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>è€Œé€™å€‹åœ–è¡¨æœ€å¤§çš„ç”¨è™•åœ¨æ–¼ï¼Œé€éå¯è¦–åŒ–çš„æ–¹å¼å‘ˆç¾å‡ºæ¸¬è©¦ç¨‹å¼ç¢¼ä¸­å—æ¸¬ç‰©ï¼ˆSUTï¼‰èˆ‡ä¾è³´ç‰©ï¼ˆDOCï¼‰çš„ä¾è³´ç‹€æ³ã€‚&lt;/p>
&lt;h3 id="console">Console&lt;/h3>
&lt;p>Console é ç±¤ä¸»è¦æ˜¯é¡¯ç¤ºåœ¨æ¸¬è©¦ç¨‹å¼ç¢¼ä¸­çš„ &lt;code>console.log&lt;/code> è³‡è¨Šï¼Œç”±æ–¼èˆ‡æ¸¬è©¦çµæœåˆ†é›¢çš„æƒ…æ³ä¸‹ï¼Œç›¸è¼ƒæ–¼åœ¨çµ‚ç«¯æ©Ÿä¸­è§€å¯Ÿ Consoleï¼Œé€™è£¡æœƒé¡¯ç¤ºå¾—æ›´åŠ æ¸…æ¥šã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421919_3ea6a5b14f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="code">Code&lt;/h3>
&lt;p>æœ€å¾Œå£“è»¸ä»‹ç´¹çš„éƒ¨åˆ†ï¼Œå‰‡æ˜¯ Code é ç±¤ï¼Œä½ å¯èƒ½æœƒè¦ºå¾—é€™æœ‰ä»€éº¼ç‰¹åˆ¥çš„ï¼Œä¸å°±æ˜¯é¡¯ç¤ºæ¸¬è©¦æª”æ¡ˆç¨‹å¼ç¢¼å—ï¼Ÿ&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161396_0a9ca152a2_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç„¶è€Œï¼Œé€™è£¡çš„æ¸¬è©¦ç¨‹å¼ç¢¼é™¤äº†é è¦½ä¹‹å¤–ï¼Œé‚„èƒ½å¤ ç›´æ¥åœ¨ç€è¦½å™¨ä¸­ç›´æ¥ç·¨å¯«ä¸¦åŸ·è¡Œæ¸¬è©¦æŸ¥çœ‹çµæœï¼Œæ›´é‡è¦çš„æ˜¯å¯«å®Œçš„ç•¶ä¸‹æŒ‰ä¸‹å„²å­˜å®ƒé‚„èƒ½å¤ åŒæ­¥èª¿æ•´åˆ°å¯¦éš›çš„ç¨‹å¼ç¢¼ä¸­ï¼&lt;/p>
&lt;p>æ¯”æ–¹åœ¨ç€è¦½å™¨ä¸­çš„æ¸¬è©¦ç¨‹å¼ç¢¼ä¸­åŠ å€‹è¨»è§£ï¼Œä¸¦å„²å­˜ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421979_128985ea34_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å¯¦éš›æ¸¬è©¦ç¨‹å¼ç¢¼æª”æ¡ˆä¹ŸåŠ ä¸Šäº†è¨»è§£ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593680043_347cf27fd6_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å¦‚æ­¤ä¸€ä¾†ï¼Œæˆ‘å€‘å°±å¯ä»¥ç›´æ¥åœ¨é€™å€‹è¦–çª—å…§æ’°å¯«æˆ‘å€‘çš„æ¸¬è©¦æ¡ˆä¾‹ï¼Œä¸¦ä¸”åœ¨ç€è¦½å™¨ä¸­å³æ™‚çœ‹åˆ°æ¸¬è©¦çµæœã€‚&lt;/p>
&lt;p>ä¸éé€™è£¡æœ‰å€‹å°å°ç¼ºé»æ˜¯ï¼Œè‹¥åœ¨å°ˆæ¡ˆä¸­æœ‰è¨­å®š eslint + prettier çš„è©±ï¼Œåœ¨ç¨‹å¼ç·¨è¼¯å™¨æ’°å¯«æ¸¬è©¦æ™‚å¯ä»¥è¨­å®šå„²å­˜ç•¶ä¸‹çš„è‡ªå‹•åšæ ¼å¼åŒ–ï¼Œä½†æ˜¯ç€è¦½å™¨ä¸­çš„ç·¨è¼¯å™¨ç’°å¢ƒä¸åŒï¼Œæ‰€ä»¥å¯«æ¸¬è©¦æ™‚æœƒæ”¶åˆ°æ ¼å¼éŒ¯èª¤çš„è­¦å‘Šï¼Œä½†åœ¨ä¸è€ƒæ…®é€™é»çš„æƒ…æ³ä¸‹ï¼Œé€™å€‹å·¥å…·æ˜¯å€‹ç”¨ä¾†æª¢è¦–æ¸¬è©¦çµæœèˆ‡ä¾è³´é—œä¿‚çš„å¥½å·¥å…·ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52592679007_e8b05c17bd_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="ç¨‹å¼ç¢¼è¦†è“‹ç‡code-coverage">ç¨‹å¼ç¢¼è¦†è“‹ç‡ï¼ˆCode Coverageï¼‰&lt;/h2>
&lt;p>åœ¨æ¸¬è©¦é ˜åŸŸä¸­ï¼Œè¦†è“‹ç‡ï¼ˆCoverageï¼‰ä¸€è©æ³›æŒ‡çš„æ˜¯ä»¥ç™¾åˆ†æ¯”è¡¨ç¤ºæ¸¬è©¦ç¨‹å¼ç¢¼èƒ½å¤ æ¶µè“‹å¤šå°‘ç”¢å“ç¨‹å¼ç¢¼çš„ç¯„åœï¼Œè€Œä¾æ“šä¸åŒçš„è¦†è“‹ç‡ç¨®é¡ï¼Œå…¶ç´°å¾®çš„å®šç¾©ä¹Ÿæœƒæœ‰æ‰€ä¸åŒã€‚&lt;/p>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘ä»¥è¦†è“‹ç‡å·¥å…·åº« &lt;a class="link" href="https://cn.vitest.dev/guide/coverage.html" target="_blank" rel="noopener"
>c8&lt;/a> ä¾†èªªæ˜è¦†è“‹ç‡çš„æ¦‚å¿µèˆ‡å¦‚ä½•é€é &lt;a class="link" href="https://cn.vitest.dev/guide/coverage.html" target="_blank" rel="noopener"
>c8&lt;/a> åœ¨ Vitest æ¸¬è©¦ç’°å¢ƒä¸­æª¢è¦–ç•¶ä¸‹çš„æ¸¬è©¦è¦†è“‹ç‡ï¼Œæœ€å¾Œå†ä¾†è«‡è«‡æœ‰é—œæ–¼è¦†è“‹ç‡çš„ç›¸é—œè­°é¡Œã€‚&lt;/p>
&lt;h3 id="c8">c8&lt;/h3>
&lt;p>è¦åœ¨ Vitest æ¸¬è©¦ç’°å¢ƒä¸­ä½¿ç”¨ c8 ç”¢ç”Ÿè¦†è“‹ç‡å ±å‘Šï¼Œæˆ‘å€‘é¦–å…ˆéœ€è¦å®‰è£ &lt;code>@vitest/coverage-c8&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm i -D @vitest/coverage-c8
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—å°±å¯ä»¥åœ¨ &lt;code>package.json&lt;/code> ä¸­æ–°å¢æŒ‡ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;test:coverage&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vitest --environment jsdom --coverage&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸ·è¡Œ &lt;code>npm run test:coverage&lt;/code> å¾Œï¼Œé è¨­æœƒåœ¨çµ‚ç«¯æ©Ÿç”¢ç”Ÿå‡ºè¦†è“‹ç‡å ±å‘Šï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593680098_635ca46745_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>è€Œ c8 è¦†è“‹ç‡å ±å‘Šç¸½å…±æœ‰å››ç¨®é¡å‹ï¼š&lt;/p>
&lt;ul>
&lt;li>è¡Œæ•¸è¦†è“‹ç‡ï¼ˆline coverageï¼‰ï¼šä»¥è¡Œæ•¸ç‚ºå–®ä½ä¾†è¨ˆç®—ã€‚&lt;/li>
&lt;li>å‡½å¼è¦†è“‹ç‡ï¼ˆfunction coverageï¼‰ï¼šä»¥å…§éƒ¨çš„å‡½å¼ç‚ºå–®ä½ä¾†è¨ˆç®—ã€‚&lt;/li>
&lt;li>åˆ†æè¦†è“‹ç‡ï¼ˆbranch coverageï¼‰ï¼šä»¥æ¯å€‹åˆ¤æ–·å¼ç‚ºå–®ä½ä¾†è¨ˆç®—ã€‚&lt;/li>
&lt;li>èªå¥è¦†è“‹ç‡ï¼ˆstatement coverageï¼‰ï¼šä»¥æ¯å€‹èªå¥ï¼ˆstatementï¼‰ç‚ºå–®ä½è¨ˆç®—ã€‚&lt;/li>
&lt;/ul>
&lt;p>æ¸¬è©¦ç¨‹å¼ç¢¼æ¶µè“‹å¤šå°‘ç¯„åœçš„ç”¢å“ç¨‹å¼ç¢¼ï¼Œç”šè‡³æ–¼æ¯è¡Œç¨‹å¼ç¢¼å€‹è¢«åŸ·è¡Œäº†å¹¾æ¬¡&lt;/p>
&lt;p>ä¸¦ä¸”è‹¥æœ‰æœªè¦†è“‹è¡Œæ•¸çš„æƒ…æ³ï¼Œ c8 å‰‡æœƒåœ¨ Uncovered Line ä¸­é¡¯ç¤ºæœªæ¶µè“‹çš„è¡Œæ•¸ç¯„åœï¼Œå¦‚ä¸‹åœ–ä¸­çš„ &lt;code>13-17&lt;/code>ã€&lt;code>19-28&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593587235_4ceba72a25_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å€˜è‹¥ä½ è¦ºå¾—é€™ç¨®å ±å‘Šå½¢å¼ä¸æ–¹ä¾¿è§€çœ‹ï¼Œæˆ–æ˜¯å¸Œæœ›å°‡å®ƒè£½ä½œæˆæ–‡ä»¶ï¼Œå‰‡å¯ä»¥åœ¨ config.js æª”ä¸­è¨­å®š &lt;code>coverage.reporter&lt;/code> çš„å½¢å¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// vite.config.js or vitest.config.js
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">coverage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">reporter&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;text&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;json&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;html&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­ c8 æä¾›çš„å ±å‘Šï¼ˆreporterï¼‰é¸é …æœ‰ä»¥ä¸‹ä¸‰ç¨®ï¼š&lt;/p>
&lt;ul>
&lt;li>textï¼š åœ¨çµ‚ç«¯æ©Ÿä¸­å‘ˆç¾è¦†è“‹ç‡å ±å‘Šã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593587245_730913e23b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;ul>
&lt;li>jsonï¼š ä»¥ JSON æ ¼å¼ç”¢ç”Ÿè¦†è“‹ç‡å ±å‘Šã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161446_55167b6751_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;ul>
&lt;li>htmlï¼š ç”¢ç”Ÿä¸€å€‹å¯äº’å‹•çš„ HTML è¦†è“‹ç‡å ±å‘Šã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161441_82a1a13832_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å…¶ä¸­ HTML çš„ç‰ˆæœ¬ä¸­ï¼Œæˆ‘å€‘é‚„å¯ä»¥é»æ“Šæ¸¬è©¦æª”æ¡ˆä¾†æŸ¥çœ‹æœªè¦†è“‹çš„è¡Œæ•¸æœ‰å“ªäº›ï¼Œç›¸è¼ƒçµ‚ç«¯æ©Ÿçš„ç‰ˆæœ¬ï¼Œæˆ‘å€‘å°±ä¸å¿…å†æ‹¿è‘—è¡Œæ•¸å»å°ç¨‹å¼ç¢¼äº†ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593422039_9e7c2cf245_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="è¦†è“‹ç‡ç›®æ¨™">è¦†è“‹ç‡ç›®æ¨™&lt;/h3>
&lt;p>è€Œåœ¨ç­è§£æ€éº¼æŸ¥çœ‹è¦†è“‹ç‡å ±å‘Šå¾Œï¼Œé‚£éº¼ç©¶ç«Ÿè¦†è“‹ç‡ç›®æ¨™è¦é”åˆ°å¤šå°‘æ‰æ˜¯åˆç†å‘¢ï¼Ÿ&lt;/p>
&lt;p>ä»¥ ã€Šå¯æ¸¬è©¦çš„ JavaScriptã€‹ä¸€æ›¸ä½œè€… Mark Ethan Trostler æä¾›çš„ç­”æ¡ˆæ˜¯å–®å…ƒæ¸¬è©¦å¤§ç´„è¦ä»‹æ–¼ 80 % å·¦å³ã€‚&lt;/p>
&lt;p>ä»¥ Martin Fowler æ–¼ &lt;a class="link" href="https://martinfowler.com/bliki/TestCoverage.html" target="_blank" rel="noopener"
>Test Coverage&lt;/a> ä¸€æ–‡ä¸­ï¼Œå‰‡æ˜¯æŒ‡å‡ºå¤§ç´„æœƒåœ¨æ–¼ 80 è‡³ 90 % é™„è¿‘ã€‚&lt;/p>
&lt;p>è‡³æ–¼ç‚ºä»€éº¼ä¸æ˜¯é”åˆ°ç™¾åˆ†ä¹‹ç™¾å‘¢ï¼Ÿæ¥ä¸‹ä¾†æˆ‘å€‘ä¾†æ¢è¨æœ‰é—œæ–¼è¦†è“‹ç‡ç›¸é—œçš„è­°é¡Œã€‚&lt;/p>
&lt;h3 id="è¦†è“‹ç‡è­°é¡Œ">è¦†è“‹ç‡è­°é¡Œ&lt;/h3>
&lt;h4 id="è¦†è“‹ç‡èˆ‡ä»˜å‡ºçš„å¿ƒåŠ›">è¦†è“‹ç‡èˆ‡ä»˜å‡ºçš„å¿ƒåŠ›&lt;/h4>
&lt;p>é›–ç„¶ä»¥ç†è«–ä¸Šä¾†èªªç›¡å¯èƒ½å¾—é”åˆ°é«˜è¦†è“‹ç‡ï¼Œæ¸¬è©¦ç¨‹å¼ç¢¼å°‡æ¶µè“‹çš„è¶Šå®Œå…¨ï¼Œç„¶è€Œç‚ºäº†è¿½æ±‚ 100 % çš„è¦†è“‹ç‡æ‰€è¦ä»˜å‡ºçš„å¿ƒç†å°‡æœƒæˆªç„¶ä¸åŒã€‚&lt;/p>
&lt;p>Jeroen Mols åœ¨ &lt;a class="link" href="https://jeroenmols.com/blog/2017/11/28/coveragproblem/" target="_blank" rel="noopener"
>The 100% code coverage problem&lt;/a> ä¸€æ–‡ä¸­çš„æåˆ°äº†å¿ƒåŠ›ä»˜å‡ºèˆ‡è¦†è“‹ç‡çš„é—œä¿‚è¡¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593422044_6d565f4119_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;blockquote>
&lt;p>å¼•ç”¨è‡ª Jeroen Mols ã€ŠThe 100% code coverage problemã€‹ä¸€æ–‡ä¸­çš„åœ–&lt;/p>
&lt;/blockquote>
&lt;p>å¾ä¸Šåœ–ä¸­å¯ä»¥çœ‹è¦‹ï¼Œåœ¨è¦†è“‹ç‡å¾ 0 æå‡è‡³ 80% æˆ‘å€‘åƒ…éœ€è¦ä»˜å‡ºä¸€äº›å¿ƒåŠ›å°±å¯ä»¥è¼•æ˜“é”æˆï¼Œç„¶è€Œè¦å°‡ 90% æå‡è‡³æ¥è¿‘ 100% æˆ‘å€‘å‰‡å¹¾ä¹è¦æŠ•å…¥å…©åˆ°ä¸‰å€ä»¥ä¸Šçš„å¿ƒåŠ›æ‰èƒ½å®Œæˆã€‚&lt;/p>
&lt;p>å› æ­¤ï¼Œæœ‰äº›äººé›–ç„¶æœƒèªç‚º 100% çš„è¦†è“‹ç‡æ˜¯ä¸€å€‹ä¸éŒ¯çš„ç›®æ¨™ï¼Œä½†æ˜¯åœ¨å¯¦éš›ä¸Šï¼Œæˆ‘å€‘å¯èƒ½æœƒå› ç‚ºè¿½æ±‚ 100% çš„è¦†è“‹ç‡è€Œä»˜å‡ºéå¤šçš„å¿ƒåŠ›ï¼Œè€Œå°è‡´æ¸¬è©¦ç¨‹å¼ç¢¼çš„å“è³ªåè€Œè®Šå·®ã€‚&lt;/p>
&lt;h4 id="è¦†è“‹ç‡-100-çš„èª¤å€">è¦†è“‹ç‡ 100% çš„èª¤å€&lt;/h4>
&lt;p>åœ¨è²»ç›¡åƒè¾›è¬è‹¦å¾Œï¼Œæˆ‘å€‘çµ‚æ–¼é”åˆ°äº† 100% è¦†è“‹ç‡çš„æƒ…æ³äº†ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼Œ100 % çš„è¦†è“‹ç‡åƒ…èƒ½ä»£è¡¨æ¸¬è©¦ç¨‹å¼ç¢¼å®Œæ•´ï¼ˆCompleteï¼‰çš„è¦†è“‹äº†ç”¢å“ç¨‹å¼ç¢¼ï¼Œä¸¦éä»£è¡¨æ¸¬è©¦ç¨‹å¼ç¢¼çš„å“è³ªé”åˆ°å®Œç¾ï¼ˆPerfectï¼‰ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘ç”¨å€‹ç°¡å–®çš„ä¾‹å­ä¾†èªªæ˜ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">x&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;max&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ä¸Šæ–¹æ¡ˆä¾‹ä¸­ï¼Œæˆ‘å€‘å¯ä»¥çœ‹è¦‹ max æ¸¬è©¦æ¡ˆä¾‹åŸºæœ¬ä¸Šå·²ç¶“å®Œå…¨è¦†è“‹äº† max å‡½å¼çš„å¯¦ä½œæƒ…æ³ï¼Œè€Œæˆ‘å€‘å¯ä»¥å¾é€™å€‹æ¡ˆä¾‹ä¸­çœ‹å‡ºå…©å€‹å•é¡Œï¼š&lt;/p>
&lt;ul>
&lt;li>ç”¢å“ç¨‹å¼ç¢¼æœ¬èº«æœ‰å•é¡Œï¼Œå³ä¾¿æ¸¬è©¦ç¨‹å¼ç¢¼è¦†è“‹äº† 100% çš„æƒ…æ³ä¸‹ï¼Œç”¢å“ç¨‹å¼ç¢¼æœ¬èº«ä»ç„¶æ˜¯æœ‰å•é¡Œçš„ã€‚&lt;/li>
&lt;li>æ¸¬è©¦ç¨‹å¼ç¢¼æ¡ˆä¾‹èˆ‡è·¯å¾‘ä¸è¶³ï¼Œå°è‡´è¦†è“‹ç‡ç‚º 100% çš„æƒ…æ³ä¸‹ï¼Œä¸¦æ²’æœ‰æ¸¬å‡ºç”¢å“ç¨‹å¼ç¢¼ä¸­çš„å•é¡Œèˆ‡é‚Šéš›æ¡ˆä¾‹ï¼ˆedge caseï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;p>å› æ­¤è¦†è“‹ç‡ 100% å……å…¶é‡åªæ˜¯ä¸€å€‹æŒ‡æ¨™ï¼Œç”¨ä¾†å‘Šè¨´æˆ‘å€‘æ¸¬è©¦ç¨‹å¼ç¢¼æ˜¯å¦å®Œæ•´çš„è¦†è“‹äº†ç”¢å“ç¨‹å¼ç¢¼ï¼Œè€Œéã€Œå®Œå…¨æ²’æœ‰å•é¡Œã€ã€‚&lt;/p>
&lt;p>å€˜è‹¥æˆ‘å€‘æƒ³è¦ç›¡å¯èƒ½é¿å…é€™ç¨®æƒ…æ³çš„ç™¼ç”Ÿï¼Œé€™æ™‚æˆ‘å€‘å°±å¯ä»¥é€éçªè®Šæ¸¬è©¦ï¼ˆMutation Testingï¼‰ä¾†å”åŠ©æˆ‘å€‘ã€‚&lt;/p>
&lt;h4 id="çªè®Šæ¸¬è©¦mutation-testing">çªè®Šæ¸¬è©¦ï¼ˆmutation testingï¼‰&lt;/h4>
&lt;p>çªè®Šæ¸¬è©¦ï¼ˆMutation Testingï¼‰æ˜¯ä¸€ç¨®é©—è­‰èˆ‡æ”¹å–„æ¸¬è©¦ç¨‹å¼ç¢¼çš„æ¸¬è©¦æ–¹æ³•ï¼Œæ¦‚å¿µä¸Šä¾†èªªï¼Œä»–æœƒç›¡å¯èƒ½çš„æŠ½æ›ç”¢å“ç¨‹å¼ç¢¼ä¸­çš„æ¯å€‹è§’è½ï¼Œæ¥è‘—ä¾ç…§æŠ½æ›è¦å‰‡ä¾†é æœŸæ¸¬è©¦ç¨‹å¼ç¢¼çš„æª¢æ¸¬çµæœã€‚&lt;/p>
&lt;p>å‡è¨­æˆ‘å€‘æœ‰å€‹æ¯”è¼ƒå‡½å¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">greaterThan&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">y&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œé€™æ™‚æˆ‘å€‘æ¸¬è©¦ç¨‹å¼ç¢¼å¯èƒ½æœƒé€™éº¼è™•ç†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should return true if x is greater than y&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should return false if x is less than y&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—çªè®Šæ¸¬è©¦å¯èƒ½æœƒå°‡ &lt;code>greaterThan&lt;/code> å‡½å¼ä¸­çš„ &lt;code>&amp;gt;&lt;/code> ç¬¦è™Ÿæ›¿æ›æˆ &lt;code>&amp;gt;=&lt;/code> ç¬¦è™Ÿï¼Œæ­¤æ™‚ç†è«–ä¸Šä¾†èªªæ‡‰è©²æœƒæœ‰æ¸¬è©¦æ¡ˆä¾‹å¤±æ•—ï¼Œä½†æ˜¯å¯¦éš›ä¸Šæ¸¬è©¦ç¨‹å¼ç¢¼å»æ²’æœ‰æª¢æ¸¬åˆ°é€™å€‹å•é¡Œï¼Œé‚£å°±è¡¨ç¤ºæˆ‘å€‘çš„æ¸¬è©¦ç¨‹å¼ç¢¼ä¸¦æ²’æœ‰è¦†è“‹åˆ°é€™å€‹æ¡ˆä¾‹ã€‚&lt;/p>
&lt;p>æ­¤æ™‚æˆ‘å€‘å°±å¯ä»¥é‡å°é€™ç¨®æƒ…æ³ï¼Œå†è£œä¸Šå°æ‡‰çš„æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should return true if x is greater than y&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should return false if x is less than y&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ–°å¢æ¡ˆä¾‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should return false if x is equal y&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—çªè®Šæ¸¬è©¦å†åº¦å°‡ &lt;code>&amp;gt;&lt;/code> ç¬¦è™Ÿæ›¿æ›æˆå„ç¨®ç¬¦è™Ÿï¼ˆe.g. &lt;code>&amp;lt;=&lt;/code>ï¼‰ï¼Œç”šè‡³æ˜¯å°‡ &lt;code>{}&lt;/code> èªå¥ï¼ˆstatementï¼‰æ¸…ç©ºï¼Œè€Œè«¸å¦‚æ­¤é¡çš„æ‰‹æ³•ï¼Œå°±æ˜¯çªè®Šæ¸¬è©¦çš„æ ¸å¿ƒæ¦‚å¿µã€‚&lt;/p>
&lt;blockquote>
&lt;p>è‹¥æƒ³æ‰‹å‹•ç½®æ›ç”¢å“ç¨‹å¼ç¢¼ä¸­çš„ç¬¦è™Ÿï¼Œå¯ä»¥å¾é€™äº›æ–¹æ³•ä¸‹æ‰‹&lt;/p>
&lt;ul>
&lt;li>operator: +, -, *, /&lt;/li>
&lt;li>condition: &amp;lt;, &amp;gt;, &amp;lt;=, &amp;gt;=, ==, ===, !=, !==&lt;/li>
&lt;li>statement: {}, if, else, for, return, throw, try, catch&lt;/li>
&lt;li>expression: &amp;amp;&amp;amp;, ||, !&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h4 id="çªè®Šæ¸¬è©¦çš„å·¥å…·">çªè®Šæ¸¬è©¦çš„å·¥å…·&lt;/h4>
&lt;p>é›–ç„¶èªªæˆ‘å€‘å¯ä»¥æ‰‹å‹•ç½®æ›ç”¢å“ç¨‹å¼ç¢¼ä¸­çš„å„ç¨®ç¬¦è™Ÿï¼Œä½†æ˜¯é€™æ¨£çš„ä½œæ³•æœƒè®“æˆ‘å€‘çš„å·¥ä½œé‡è®Šå¾—éå¸¸é¾å¤§ï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥é€éå·¥å…·ä¾†å”åŠ©æˆ‘å€‘å®Œæˆé€™äº›å·¥ä½œã€‚&lt;/p>
&lt;p>ä»¥å‰ç«¯é ˜åŸŸä¾†èªªï¼Œæˆ‘å€‘å¯ä»¥é€é &lt;a class="link" href="https://stryker-mutator.io/" target="_blank" rel="noopener"
>Stryker Mutator&lt;/a> åº•ä¸‹çš„ &lt;code>stryker-js&lt;/code> å·¥å…·ä¾†å®Œæˆé€™äº›å·¥ä½œã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593422049_ccee2eefd4_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>Stryker Mutator çš„æ¦‚å¿µå°±æ˜¯é€éæ›¿æ›ä¸åŒçš„ç¬¦è™Ÿç”¢ç”Ÿå‡ºçªè®Šçš„å…§å®¹ï¼Œè€Œæˆ‘å€‘çš„æ¸¬è©¦ç¨‹å¼ç¢¼æ‡‰è©²è¦æ•æ‰åˆ°é‚£äº›ä¸åˆç†çš„æƒ…æ³ï¼Œè—‰æ­¤ä¾†ä¿è­‰æˆ‘å€‘çš„æ¸¬è©¦æ¡ˆä¾‹æœ‰ä¸€å®šçš„ç©©å›ºæ€§ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼Œå¯æƒœçš„æ˜¯ &lt;code>stryker-js&lt;/code> ç›®å‰åƒ…æ”¯æ´åˆ° Jest ç’°å¢ƒï¼Œå°šæœªæ”¯æ´ Vitest çš„ç’°å¢ƒï¼Œå› æ­¤æˆ‘é€™é‚Šå°±æš«ä¸åšä»‹ç´¹äº†ï¼Œæœ‰èˆˆè¶£è€…å¯ä»¥è¿½è¹¤è©² &lt;a class="link" href="https://github.com/stryker-mutator/stryker-js/issues/3465" target="_blank" rel="noopener"
>issue&lt;/a> ç›®å‰çš„æœ€æ–°é€²åº¦ã€‚&lt;/p>
&lt;hr></description></item><item><title>å‰ç«¯é¢è©¦å¸¸è€ƒçš„ JavaScript æ‰‹å¯«é¡Œå½™æ•´</title><link>https://wayneblog.ga/2022-12-26/js-rebuild-common-function/</link><pubDate>Mon, 26 Dec 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-12-26/js-rebuild-common-function/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52586703288_92fa0363b4_o.jpg" alt="Featured image of post å‰ç«¯é¢è©¦å¸¸è€ƒçš„ JavaScript æ‰‹å¯«é¡Œå½™æ•´" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://www.explainthis.io/zh-hant/interview-guides/javascript-whiteboard/javascript-utility-functions" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>å‰ç«¯æ‰‹å¯«é¡Œæ˜¯è¨±å¤šé¢è©¦æœƒè€ƒçš„é¡Œå‹ï¼Œå¾æœ€åŸºæœ¬ä¸Šçš„å„é¡æ•ˆç”¨å‡½å¼ (ä¾‹å¦‚ &lt;code>debounce&lt;/code>ã€&lt;code>curry&lt;/code>ã€&lt;code>deepClone&lt;/code> ç­‰ç­‰)ï¼Œåˆ°å¸¸è¦‹çš„ JavaScript æ–¹æ³• (ä¾‹å¦‚ &lt;code>Promise.all&lt;/code>)ï¼Œéƒ½ä¸èƒ½åªæœƒç”¨ï¼Œé‚„è¦æœƒè‡ªå·±æ‰‹å¯«å‡ºä¾†ã€‚&lt;/p>
&lt;p>æœ¬ç¯‡æ–‡ç« å°‡æœƒç¯€éŒ„å¸¸è¦‹çš„æ‰‹å¯«é¡Œç›®ï¼Œä¸¦é™„ä¸Šè§£ç­”ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ¯ä¸€é¡Œéƒ½æœ‰è©³ç´°è§£èªªï¼Œä¾›è®€è€…å€‘åƒè€ƒã€‚&lt;/p>
&lt;hr>
&lt;h2 id="promiseall">Promise.all&lt;/h2>
&lt;h3 id="promiseall-æ˜¯ä»€éº¼">Promise.all() æ˜¯ä»€éº¼ï¼Ÿ&lt;/h3>
&lt;p>è¦å¯¦ç¾é€™å€‹æ–¹æ³•å‰ï¼Œæˆ‘å€‘è¦å…ˆçŸ¥é“å®ƒåœ¨åšä»€éº¼ã€‚æ ¹æ“š &lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all" target="_blank" rel="noopener"
>MDN çš„å®šç¾©&lt;/a>ï¼Œ&lt;code>Promise.all()&lt;/code> æœƒï¼š&lt;/p>
&lt;ul>
&lt;li>æ¥æ”¶ä¸€å€‹å…§æœ‰å¤šå€‹ promises çš„ &lt;code>Iterable&lt;/code> ï¼Œä¾‹å¦‚ Arrayã€Mapã€Setã€‚&lt;/li>
&lt;li>å¦‚æœ &lt;code>Iterable&lt;/code> æ˜¯ç©ºçš„ï¼Œä¾‹å¦‚ç©º Arrayï¼Œå‰‡ fulfilled å€¼æœƒæ˜¯ç©ºçš„ Arrayã€‚&lt;/li>
&lt;li>å¦‚æœ &lt;code>Iterable&lt;/code> ä¸æ˜¯ç©ºçš„ï¼Œå‰‡å¦‚æœæ‰€æœ‰çš„ promises éƒ½ fulfilledï¼Œå‰‡ä¾åºå›å‚³ fulfilled çš„å€¼ï¼›å¦‚æœå…¶ä¸­æœ‰ä¸€å€‹ promise è¢« rejectedï¼Œå‰‡æœƒé¦¬ä¸Š rejectã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">promise1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">promise2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">42&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">promise3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;foo&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">Promise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">all&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">promise1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">promise2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">promise3&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">values&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">values&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// expected output: Array [3, 42, &amp;#34;foo&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¦‚ä½•å¯¦ç¾ç°¡å–®ç‰ˆçš„-promiseall">å¦‚ä½•å¯¦ç¾ç°¡å–®ç‰ˆçš„ Promise.all()&lt;/h3>
&lt;p>åœ¨å¯¦ç¾å®Œæ•´ç‰ˆä¹‹å‰ï¼Œæˆ‘å€‘å…ˆä»¥ä¸€å€‹åƒ…è™•ç† Array çš„ &lt;code>Promise.all&lt;/code> ç‚ºä¾‹å­ï¼Œäº†è§£å¦‚ä½•å¯¦ç¾æ ¸å¿ƒæ¦‚å¿µï¼Œå¾€ä¸‹å†é€²ä¸€æ­¥æ¢è¨å¦‚ä½•è™•ç† &lt;code>Iterable&lt;/code>ã€‚æˆ‘å€‘å…ˆç›´æ¥çœ‹ç¨‹å¼ç¢¼ï¼Œçœ‹çœ‹ä½ èƒ½äº†è§£å¤šå°‘ã€‚æœ‰ä¸æ‡‚çš„åœ°æ–¹ä¹Ÿä¸æ“”å¿ƒï¼Œä¸‹é¢æœƒé€éè¨»è§£ï¼Œä¸€è¡Œè¡Œè§£é‡‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">promiseAll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">promises&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nb">Array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isArray&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">promises&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">TypeError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Arguments must be an array&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">promises&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">([]);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">outputs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">resolveCounter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">promises&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forEach&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">promise&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">index&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">promise&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">outputs&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolveCounter&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">resolveCounter&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">promises&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">outputs&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">reject&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è®“æˆ‘å€‘é€éä»¥ä¸‹ç¨‹å¼ç¢¼èˆ‡è¨»è§£ä¾†çœ‹å¦‚ä½•å¯¦ç¾å§ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">promiseAll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">promises&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å…ˆæª¢æŸ¥è¼¸å…¥æ˜¯ä¸æ˜¯ arrayï¼Œå¦‚æœä¸æ˜¯çš„è©±å°±å›å‚³éŒ¯èª¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nb">Array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isArray&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">promises&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">TypeError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Arguments must be an array&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å®šç¾©ä¸­æœ‰æåˆ°ï¼Œå¦‚æœè¼¸å…¥æ˜¯ç©ºçš„ï¼Œä¾‹å¦‚ç©º arrayï¼Œå°± resolve ä¸€å€‹ç©º array
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">promises&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">([]);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å…ˆå®£å‘Šä¸€å€‹æœ€çµ‚è¦ resolve çš„ outputsï¼Œä¹‹å¾Œæ¯å€‹ promise è¢« fulfilled æ™‚ï¼Œå°±æ”¾åˆ° outputs è£¡é¢
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">outputs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æˆ‘å€‘éœ€è¦é€™å€‹ counter è®“æˆ‘å€‘çŸ¥é“æœ‰å¤šå°‘å€‹ promise å·²ç¶“ fulfilled
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">resolveCounter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Promise.all() æœ€çµ‚è¦å›å‚³ä¸€å€‹ promise
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">promises&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forEach&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">promise&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">index&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">promise&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç•¶è¼¸å…¥çš„æ¯å€‹ promise æˆåŠŸ fulfilled æ™‚ï¼Œå°±æ”¾åˆ° outputs
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// é€é indexï¼Œæˆ‘å€‘å¯ä»¥ç¢ºä¿é †åºæ­£ç¢º
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">outputs&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¯æ¬¡æˆåŠŸæ”¾å…¥æ™‚ï¼Œcounter è¦åŠ ä¸€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">resolveCounter&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç•¶ counter ç­‰æ–¼ promises çš„é•·åº¦æ™‚ï¼Œä»£è¡¨æ‰€æœ‰çš„ promise éƒ½ fulfilled
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// é€™æ™‚æœ€å¤–é¢çš„ promise å°±å¯ä»¥ resolve
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">resolveCounter&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">promises&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">outputs&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">reject&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// å¦‚æœæœ‰ä»»ä½•ä¸€å€‹ rejectï¼Œå°±ç›´æ¥ reject
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¯¦ç¾å®Œæ•´ç‰ˆçš„-promiseall">å¯¦ç¾å®Œæ•´ç‰ˆçš„ Promise.all()&lt;/h3>
&lt;p>ä¸Šé¢é€™å€‹ç‰ˆæœ¬çš„ &lt;code>Promise.all()&lt;/code> åªæœ‰è™•ç† Array é€™ç¨®è¼¸å…¥ï¼Œä½†å¯¦éš›ä¸Šçš„ &lt;code>Promise.all()&lt;/code> æ˜¯èƒ½æ¥æ”¶æ‰€æœ‰çš„ &lt;code>Iterable&lt;/code>ï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥é€²ä¸€æ­¥å„ªåŒ–ä¸Šé¢çš„ç‰ˆæœ¬(å‚™è¨»ï¼šåœ¨é¢è©¦ä¸­èƒ½å¯«å‡ºä¸Šé¢çš„ç‰ˆæœ¬ï¼ŒåŸºæœ¬ä¸Šè¦éé—œæ˜¯æ²’å•é¡Œï¼Œç•¶ç„¶å¦‚æœæƒ³åœ¨é¢è©¦ä¸­å±•ç¾è‡ªå·±çš„ç´°å¿ƒåº¦ï¼Œé‚£éº¼é€²ä¸€æ­¥å„ªåŒ–æ˜¯æ›´å¥½çš„é¸æ“‡)ã€‚&lt;/p>
&lt;p>å…ˆæƒ³æƒ³ï¼Œå¦‚æœè¦è™•ç†ä»»æ„çš„ &lt;code>Iterable&lt;/code> å¯ä»¥æ€éº¼åšï¼Ÿæˆ‘å€‘å¯ä»¥å…ˆåˆ¤æ–·ä¸Ÿé€²ä¾†çš„è¼¸å…¥æ˜¯ä¸æ˜¯å¯ä»¥è¿­ä»£çš„ï¼Œå¦‚æœä¸æ˜¯çš„è©±ï¼Œå°±ææ—©å›å‚³éŒ¯èª¤ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">isIterable&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">((&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">promises&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">promises&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="k">typeof&lt;/span> &lt;span class="nx">promises&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">typeof&lt;/span> &lt;span class="nx">promises&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Symbol&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">iterator&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;function&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">isIterable&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">TypeError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Arguments must be iterable&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸºæœ¬ä¸Šå¤šäº†ä¸Šè¿°æ­¥é©Ÿçš„è™•ç†ï¼Œå‰©ä¸‹çš„é‚è¼¯å°±è·Ÿ Array ç‰ˆæœ¬çš„å·®ä¸å¤šï¼Œç¨‹å¼ç¢¼å¦‚ä¸‹(ä¸åŒä¹‹è™•æœƒæœ‰è¨»è§£)ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">promiseAll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">promises&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åˆ¤æ–·è¼¸å…¥æ˜¯å¦ç‚º Iterable
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">isIterable&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">((&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">promises&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">promises&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="k">typeof&lt;/span> &lt;span class="nx">promises&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">typeof&lt;/span> &lt;span class="nx">promises&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Symbol&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">iterator&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;function&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ä¸æ˜¯çš„è©±å°±å›å‚³éŒ¯èª¤è¨Šæ¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">isIterable&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">TypeError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Arguments must be iterable&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æŠŠ Iterable è½‰æˆ Arrayï¼Œå°±å¯ä»¥é‡è¤‡ç”¨ Array ç‰ˆçš„é‚è¼¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">promises&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">promises&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">promises&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">([]);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">outputs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">resolveCounter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">promises&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forEach&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">promise&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">index&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">promise&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">outputs&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolveCounter&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">resolveCounter&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">promises&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">outputs&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æˆ–æ˜¯åªè¦æœ‰ reject çš„ï¼Œå°±é¦¬ä¸Š reject
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="promiserace">Promise.race()&lt;/h2>
&lt;h3 id="promiserace-æ˜¯ä»€éº¼">Promise.race() æ˜¯ä»€éº¼ï¼Ÿ&lt;/h3>
&lt;p>è¦å¯¦ç¾é€™å€‹æ–¹æ³•å‰ï¼Œæˆ‘å€‘è¦å…ˆçŸ¥é“å®ƒåœ¨åšä»€éº¼ã€‚æ ¹æ“š &lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/race" target="_blank" rel="noopener"
>MDN çš„å®šç¾©&lt;/a>ï¼Œ&lt;code>Promise.race()&lt;/code> æœƒ&lt;/p>
&lt;ul>
&lt;li>æ¥æ”¶ä¸€å€‹å…§æœ‰å¤šå€‹ promises çš„ &lt;code>Iterable&lt;/code>ï¼Œä¾‹å¦‚ Arrayã€Mapã€Set&lt;/li>
&lt;li>å›å‚³æœ€å…ˆ fulfill æˆ–æœ€å…ˆè¢« reject çš„é‚£ä¸€å€‹&lt;/li>
&lt;/ul>
&lt;h3 id="å¦‚ä½•å¯¦ç¾-promiserace">å¦‚ä½•å¯¦ç¾ Promise.race()&lt;/h3>
&lt;p>æˆ‘å€‘å…ˆç›´æ¥çœ‹ç¨‹å¼ç¢¼ï¼Œçœ‹çœ‹ä½ èƒ½äº†è§£å¤šå°‘ã€‚æœ‰ä¸æ‡‚çš„åœ°æ–¹ä¹Ÿä¸æ“”å¿ƒï¼Œä¸‹é¢æœƒé€éè¨»è§£ï¼Œä¸€è¡Œè¡Œè§£é‡‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">promiseRace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">promises&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">p&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">promises&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}).&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">reject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è®“æˆ‘å€‘é€éä»¥ä¸‹ç¨‹å¼ç¢¼èˆ‡è¨»è§£ä¾†çœ‹å¦‚ä½•å¯¦ç¾å§ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">promiseRace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">promises&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è¿­ä»£é promises
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">p&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">promises&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åªè¦æœ‰ fulfill çš„ï¼Œå°±é¦¬ä¸Š resolve
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}).&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æˆ–æ˜¯åªè¦æœ‰ reject çš„ï¼Œå°±é¦¬ä¸Š reject
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="lodash-çš„-get">Lodash çš„ .get()&lt;/h2>
&lt;h3 id="lodash-çš„-get-åœ¨åšä»€éº¼">Lodash çš„ .get() åœ¨åšä»€éº¼ï¼Ÿ&lt;/h3>
&lt;p>&lt;code>.get()&lt;/code> æ˜¯å¾ˆå¸¸è¢«ç”¨åˆ°çš„ä¸€å€‹æ•ˆç”¨å‡½å¼ï¼Œä»–åšçš„äº‹æƒ…æ˜¯çµ¦å®šä¸€å€‹ç‰©ä»¶ï¼Œä»¥åŠæŸå€‹è·¯å¾‘ï¼Œè¦å›å‚³æ­¤è·¯å¾‘çš„å€¼ï¼›å¦‚æœè©²è·¯å¾‘ä¸å­˜åœ¨æ–¼çµ¦å®šçš„ç‰©ä»¶ï¼Œå‰‡è¿”å›é è¨­å€¼ã€‚é€éä¾‹å­æœƒæ¯”è¼ƒå¥½ç†è§£ (ä»¥ä¸‹ä¾‹å­ä¾†è‡ª &lt;a class="link" href="https://github.com/lodash/lodash/blob/es/get.js" target="_blank" rel="noopener"
>Lodash åŸå§‹ç¢¼&lt;/a>)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">object&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[{&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">}]&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//=&amp;gt; 3
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">object&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;a[0].b.c&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//=&amp;gt; 3
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">object&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;a[0][&amp;#34;b&amp;#34;][&amp;#34;c&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//=&amp;gt; &amp;#39;default
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">object&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;a[100].b.c&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;default&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¾ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹åˆ° Lodash é€™å€‹å‡½å¼åº«ï¼Œå¯ä»¥æ¥æ”¶å„ç¨®é¡å‹çš„è·¯å¾‘ï¼Œä¸»è¦æ˜¯åŸå§‹ç¢¼ç•¶ä¸­æœ‰ &lt;a class="link" href="https://github.com/lodash/lodash/blob/es/_castPath.js" target="_blank" rel="noopener"
>castPath&lt;/a> é€™å€‹ helper functionã€‚&lt;code>castPath&lt;/code> æœƒæŠŠä¸Šé¢çš„ &lt;code>&amp;quot;a[0].b.c&amp;quot;&lt;/code>ã€&lt;code>'a[0][&amp;quot;b&amp;quot;][&amp;quot;c&amp;quot;]'&lt;/code> ä»¥åŠ &lt;code>&amp;quot;a[100].b.c&amp;quot;&lt;/code> éƒ½è½‰æˆå¥½è™•ç†çš„ &lt;code>['a', '0', 'b', 'c']&lt;/code>ã€‚&lt;/p>
&lt;p>å› æ­¤ï¼Œå¦‚æœçµ¦å®šæœ‰å…§å»ºçš„ &lt;code>castPath&lt;/code>ï¼Œ&lt;code>.get()&lt;/code> å¯¦éš›åœ¨åšçš„äº‹æƒ…æ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// çµ¦å®šä¸€å€‹ç‰©ä»¶ï¼Œä¾‹å¦‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">object&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[{&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">}]&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// çµ¦ä¸€å€‹è·¯å¾‘ï¼Œé€é .get() æ‰¾åˆ°è©²è·¯å¾‘çš„å€¼ï¼Œä¾‹å¦‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">object&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;b&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;c&amp;#39;&lt;/span>&lt;span class="p">]);&lt;/span> &lt;span class="c1">// å›å‚³ 3
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¦‚ä½•å¯¦ç¾-get">å¦‚ä½•å¯¦ç¾ .get()&lt;/h3>
&lt;p>ä¸€èµ·ä¾†çœ‹çœ‹å¦‚ä½•å¯¦ç¾ &lt;code>.get()&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">lodashGet&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">object&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">path&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">defaultValue&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å…ˆç¢ºèªå‚³é€²ä¾†çš„ object ä¸æ˜¯ nullï¼Œå¦‚æœæ˜¯å‰‡ç›´æ¥å›å‚³ defaultValue
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">object&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">defaultValue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">length&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">path&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ä¾å¾ªè·¯å¾‘ä¸€å±¤å±¤èµ°éè©²ç‰©ä»¶ï¼Œä»¥ä¸Šé¢çš„ä¾‹å­ä¾†èªªï¼Œæœƒæ˜¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// path[0] ç‚º &amp;#39;a&amp;#39;ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡è¿´åœˆ object æœƒè®Šæˆ object[&amp;#39;a&amp;#39;] ä¹Ÿå°±æ˜¯ [{ b: { c: 3 } }]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ç¬¬ä¸€æ¬¡è¿´åœˆå¾Œï¼Œcount åŠ  1ï¼Œæ‰€ä»¥è®Šæˆ object[path[1]]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ä¹Ÿå°±æ˜¯ [object[&amp;#39;0&amp;#39;]]ï¼Œæ„å³ { b: { c: 3 } }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ¥è‘— count å†åŠ ä¸€ï¼Œæ‰€ä»¥ object æœƒæˆç‚º object[path[2]]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ä¹Ÿå°±æ˜¯ object[&amp;#39;b&amp;#39;]ï¼Œæ„å³ { c: 3 }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ¥è‘— count å†åŠ ä¸€ï¼Œæ‰€ä»¥ object æœƒæˆç‚º object[path[3]]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ä¹Ÿå°±æ˜¯ object[&amp;#39;c&amp;#39;]ï¼Œæ„å³ 3
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// é€™æ™‚ count ç‚º 4ï¼Œç”±æ–¼ length ä¹Ÿæ˜¯ 4ï¼Œå› ç‚º 4 ä¸å°æ–¼ 4ï¼Œæ‰€ä»¥è·³å‡ºè¿´åœˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">object&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">length&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">object&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">object&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">]];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å› ç‚ºä¸Šé¢å¦‚æœ object æ˜¯ null çš„è©±ï¼Œåœ¨èµ°å®Œ length é•·åº¦å‰ï¼Œå°±æœƒè·³å‡º while è¿´åœˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// é€™ç¨®æƒ…æ³ä¸‹ï¼Œå°±ä»£è¡¨ä¾å¾ªè©²è·¯å¾‘ï¼Œæœƒæ‰¾ä¸åˆ°å€¼ï¼Œæ‰€ä»¥æœƒæ˜¯ undefined
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// èˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœ path æ˜¯ [&amp;#39;a&amp;#39;, &amp;#39;1&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;c&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// å› ç‚º object[&amp;#39;1&amp;#39;] æœƒæ˜¯ undefinedï¼Œæ‰€ä»¥é€™æ™‚ while è¿´åœˆæœƒåœ¨ count ç‚º 2 æ™‚çµ‚æ­¢
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// é€™ç¨®æƒ…æ³ä¸‹å°±æœƒæ˜¯ count &amp;lt; lengthï¼Œæ‰€ä»¥ç•¶ count &amp;lt; lengthï¼Œresult æœƒæ˜¯ undefined
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nx">length&lt;/span> &lt;span class="err">ï¼Ÿ&lt;/span> &lt;span class="nx">object&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="kc">undefined&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å¦‚æœ result æ˜¯ undefinedï¼Œä»£è¡¨ä¾å¾ªè©²è·¯å¾‘ï¼Œæœƒæ‰¾ä¸åˆ°å€¼ï¼Œæ‰€ä»¥å›å‚³é è¨­å€¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// å¦‚æœä¾å¾ªè·¯å¾‘æœ‰æ‰¾åˆ°å€¼ï¼Œå°±å›å‚³ result
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="kc">undefined&lt;/span> &lt;span class="err">ï¼Ÿ&lt;/span> &lt;span class="nx">defaultValue&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">result&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="é˜²æŠ–å‡½å¼debounce">é˜²æŠ–å‡½å¼(debounce)&lt;/h2>
&lt;p>&lt;strong>é˜²æŠ–(debounce)&lt;/strong> å’Œç¯€æµ(throttle) çµ•å°æ˜¯åœ¨è€ƒæ‰‹å¯«é¡Œæ™‚æœ€å¸¸å‡ºç¾çš„å‰å¹¾åï¼Œé€™å…©è€…éƒ½èƒ½åšåˆ°å„ªåŒ–ï¼Œä½†ä½¿ç”¨æƒ…å¢ƒä¸å¤ªç›¸åŒã€‚&lt;/p>
&lt;h3 id="é˜²æŠ–debounceåœ¨åšä»€éº¼">é˜²æŠ–(debounce)åœ¨åšä»€éº¼ï¼Ÿ&lt;/h3>
&lt;p>é˜²æŠ–å‡½å¼(debounce)æ˜¯æŒ‡ï¼Œ&lt;strong>å°‡å¤šæ¬¡æ“ä½œå„ªåŒ–ç‚ºï¼šåªåœ¨æœ€å¾Œä¸€æ¬¡åŸ·è¡Œ&lt;/strong>ã€‚&lt;/p>
&lt;p>å…·é«”ä¾†èªªï¼Œç•¶ä¸€å®šæ™‚é–“å…§æ²’æœ‰æŒçºŒè§¸ç™¼äº‹ä»¶æ™‚ï¼Œäº‹ä»¶è™•ç†å‡½å¼æ‰æœƒè¢«åŸ·è¡Œä¸€æ¬¡ï¼Œä½†å¦‚æœåœ¨è¨­å®šçš„æ™‚é–“å…§åˆä¸€æ¬¡è§¸ç™¼äº†äº‹ä»¶ï¼Œå°±æœƒé‡æ–°é–‹å§‹è¨ˆæ™‚ã€‚&lt;/p>
&lt;p>åœ¨æ‰‹å¯«**é˜²æŠ–(debounce)**å‡½å¼å‰ï¼Œæˆ‘å€‘å…ˆä¾†äº†è§£é˜²æŠ–çš„ä½¿ç”¨æƒ…å¢ƒã€‚&lt;/p>
&lt;p>æˆ‘å€‘ä»¥ Google æœå°‹æ¡†å’Œæœå°‹å»ºè­°åˆ—è¡¨ç‚ºä¾‹å­ã€‚ç•«é¢å¦‚ä¸‹ï¼Œæœ‰ä¸€å€‹æœå°‹æ¡†ï¼Œå’Œä¸€å€‹æœå°‹å»ºè­°åˆ—è¡¨ï¼Œä½¿ç”¨è€…åœ¨æ­¤æœå°‹æ¡†è¼¸å…¥æ–‡å­—å¾Œï¼Œæœå°‹å»ºè­°åˆ—è¡¨æœƒå³æ™‚å‘ˆç¾çµæœ; æœå°‹æ¡†çš„æ–‡å­—åªè¦ä¸€æ”¹è®Šï¼Œæœå°‹å»ºè­°åˆ—è¡¨ä¹Ÿæœƒå³æ™‚æ›´æ–°çµæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52585711817_1f8977d9ef_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é€™æ¨£çœ‹èµ·ä¾†æ˜¯å¾ˆç†æƒ³çš„è¨­è¨ˆå§ï¼Ÿä½†é¦–å…ˆè¦å»è§£æ±ºä¸€å€‹å•é¡Œï¼šå¦‚æœä½¿ç”¨è€…ä¸€ç›´åœ¨æœå°‹æ¡†å…§æ›¸å¯«æ–‡å­—ï¼Œé€™æ¨£æœƒä¸€ç›´è§¸ç™¼ API å»æ›´æ–°æœå°‹å»ºè­°åˆ—è¡¨ï¼Œä¾‹å¦‚ä½¿ç”¨è€…æƒ³æœå°‹ javascriptï¼Œé€™æ™‚ API ä¹ŸåŠæ™‚è§¸ç™¼ï¼Œæ‰€ä»¥æ­¤ API æœƒè¢«è§¸ç™¼ 10 æ¬¡ï¼Œè€Œä¸”å‰ 9 æ¬¡ä¸æœƒæ˜¯ä½¿ç”¨é€™æƒ³è¦çš„çµæœã€‚&lt;/p>
&lt;p>ç‚ºäº†æå‡ä½¿ç”¨è€…é«”é©—ä»¥åŠå„ªåŒ–ç¨‹å¼å—ï¼Œé€™ä¸€æ®µåŠŸèƒ½æˆ‘å€‘å°±å¯ä»¥é€é**é˜²æŠ–(debounce)**ä¾†å„ªåŒ–ã€‚&lt;/p>
&lt;p>é˜²æŠ–å‡½å¼æœƒæ¥å—å…©å€‹åƒæ•¸ï¼š&lt;/p>
&lt;ul>
&lt;li>å»¶é²çš„æ™‚é–“(ms)&lt;/li>
&lt;li>è¦åŸ·è¡Œçš„å‡½å¼&lt;/li>
&lt;/ul>
&lt;p>ä»¥ä¸Šé¢æœå°‹æ¡†çš„ä¾‹å­ä¾†èªªï¼Œæˆ‘å€‘é€éé˜²æŠ–å°±å¯ä»¥å®Œæˆï¼šç•¶ä½¿ç”¨è€…åœæ­¢åœ¨æœå°‹æ¡†å…§æ‰“å…¥æ–‡å­—è¶…éä¸€å®šçš„æ™‚é–“ï¼Œæ­¤æ™‚æ‰æœƒå»åŸ·è¡Œè§¸ç™¼ API çš„å‡½å¼ã€‚&lt;/p>
&lt;h3 id="å¦‚ä½•å¯¦ç¾é˜²æŠ–å‡½å¼debounce">å¦‚ä½•å¯¦ç¾é˜²æŠ–å‡½å¼(debounce)&lt;/h3>
&lt;p>æˆ‘å€‘å…ˆç›´æ¥çœ‹ç¨‹å¼ç¢¼ï¼Œçœ‹çœ‹ä½ èƒ½äº†è§£å¤šå°‘ã€‚æœ‰ä¸æ‡‚çš„åœ°æ–¹ä¹Ÿä¸æ“”å¿ƒï¼Œä¸‹é¢æœƒé€éè¨»è§£ï¼Œä¸€è¡Œè¡Œè§£é‡‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">debounce&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">delay&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">500&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">timer&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(...&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clearTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">timer&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">timer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fn&lt;/span>&lt;span class="p">(...&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="nx">delay&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¨‹å¼ç¢¼è¨»è§£ç‰ˆæœ¬å’Œå¯¦éš›æ‡‰ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// debounce function æ¥å—å…©å€‹åƒæ•¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä¸€æ˜¯ï¼šè¦åŸ·è¡Œçš„ function
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// äºŒæ˜¯ï¼šè¦å»¶é²çš„è±ªç§’æ•¸ï¼Œé€™é‚Šé è¨­ 500 æ¯«ç§’
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">debounce&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">delay&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">500&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">timer&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// debounce function æœ€çµ‚æœƒå›å‚³ä¸€å€‹ function
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">(...&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¯ä¸€æ¬¡ debounce function è¢«è§¸ç™¼æ™‚ï¼Œæœƒå…ˆæ¸…é™¤ä¹‹å‰çš„ timerï¼Œé¿å…è§¸ç™¼å…ˆå‰çš„ fn å‡½å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// å› æ­¤åªè¦åœ¨ delay æ™‚é–“å…§è§¸ç™¼ debounce functionï¼Œå°±æœƒä¸€ç›´æ¸…é™¤å…ˆå‰çš„ timerï¼Œé¿å… fn ä¸€ç›´è¢«åŸ·è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">clearTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">timer&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¸…é™¤ä¹‹å¾Œï¼Œå†é‡æ–°è¨ˆæ™‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ç•¶ delay æ™‚é–“åˆ°æ™‚ï¼ŒåŸ·è¡Œ fn
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">timer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fn&lt;/span>&lt;span class="p">(...&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="nx">delay&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// updateDebounceText æœƒåœ¨å»¶é² 500 ms å¾ŒåŸ·è¡Œ console.log(&amp;#39;call api get search result&amp;#39;)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">updateDebounceText&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">debounce&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;call api get search result&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span> &lt;span class="mi">500&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æœå°‹æ¡†ç›£è½ input äº‹ä»¶ï¼Œç•¶ input æ”¹è®Šæ™‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è§¸ç™¼ updateDebounceText å‡½å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">searchInput&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;input&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">updateDebounceText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="ç¯€æµå‡½å¼throttle">ç¯€æµå‡½å¼(throttle)&lt;/h2>
&lt;h3 id="ç¯€æµthrottleåœ¨åšä»€éº¼">ç¯€æµ(throttle)åœ¨åšä»€éº¼ï¼Ÿ&lt;/h3>
&lt;p>**ç¯€æµ(throttle)**æŒ‡çš„æ˜¯ï¼Œåœ¨ä¸€æ®µæ™‚é–“å…§åªæœƒåŸ·è¡Œä¸€æ¬¡è§¸ç™¼äº‹ä»¶çš„å›èª¿å‡½å¼(callback)ï¼Œè‹¥åœ¨é€™ä¹‹ä¸­åˆæœ‰æ–°äº‹ä»¶è§¸ç™¼ï¼Œå‰‡ä¸åŸ·è¡Œæ­¤å›èª¿å‡½å¼ã€‚&lt;/p>
&lt;p>åœ¨æ‰‹å¯«**ç¯€æµå‡½å¼(throttle)**å‰ï¼Œæˆ‘å€‘å…ˆä¾†äº†è§£ç¯€æµçš„ä½¿ç”¨æƒ…å¢ƒã€‚&lt;/p>
&lt;p>ç›£è½æ»¾å‹•äº‹ä»¶ï¼Œæ˜¯æ­é…ç¯€æµçš„ä½¿ç”¨å ´æ™¯ä¹‹ä¸€ã€‚èˆ‰ä¾‹ä¾†èªªï¼šè¦åˆ¤æ–·ä½¿ç”¨è€…æ˜¯å¦å·²ç¶“æ»‘å‹•åˆ°é é¢çš„ 30% è™•ï¼Œç•¶åˆ°é”æ™‚æœƒè§¸ç™¼ä¸€äº›å‹•ç•«æ•ˆæœï¼Œå› æ­¤æœƒé€éç›£è½æ»¾å‹•äº‹ä»¶æ™‚ï¼Œè¨ˆç®—æ˜¯å¦å·²åˆ°é”è©²ä½ç½®ï¼Œä½†å¦‚æœåªè¦ä¸€æ»¾å‹•å°±è¨ˆç®—æœƒéå¸¸æ¶ˆè€—æ€§èƒ½ï¼Œé€é**ç¯€æµ(throttle)**å¯ä»¥å°‡è¨ˆç®—çš„é€™å€‹å›èª¿å‡½å¼åœ¨å›ºå®šæ™‚é–“å…§åˆä½µä¸€æ¬¡è¢«åŸ·è¡Œã€‚&lt;/p>
&lt;p>&lt;strong>é€™è£¡ä¸é©åˆä½¿ç”¨é˜²æŠ–çš„åŸå› æ˜¯ï¼Œé˜²æŠ–åªæœƒåœ¨äº‹ä»¶åœæ­¢è¢«è§¸ç™¼å¾Œçš„ä¸€æ®µæ™‚é–“å…§è¢«åŸ·è¡Œä¸€æ¬¡ã€‚å› æ­¤å¦‚æœç”¨é˜²æŠ–ï¼Œç•¶ä½¿ç”¨è€…ä¸€ç›´æ»‘å‹•é é¢ï¼Œå‡½å¼å°±æ°¸é ä¸æœƒè¢«è§¸ç™¼ã€‚é€™é‚Šæˆ‘å€‘ä»æƒ³è¦å‡½å¼åœ¨æ»‘å‹•éç¨‹ä¸­è¢«è§¸ç™¼ï¼Œåªæ˜¯ä¸æƒ³é‚£éº¼é »ç¹è¢«è§¸ç™¼ï¼Œé€™ç¨®æƒ…å¢ƒä¸‹ï¼Œç¯€æµå°±å¯ä»¥æ´¾ä¸Šç”¨å ´ã€‚&lt;/strong>&lt;/p>
&lt;p>**ç¯€æµå‡½å¼(throttle)**æœƒæ¥å—å…©å€‹åƒæ•¸ï¼š&lt;/p>
&lt;ul>
&lt;li>å»¶é²çš„æ™‚é–“(ms)&lt;/li>
&lt;li>è¦åŸ·è¡Œçš„å›èª¿å‡½å¼(callback)&lt;/li>
&lt;/ul>
&lt;h3 id="å¦‚ä½•å¯¦ç¾ç¯€æµå‡½å¼throttle">å¦‚ä½•å¯¦ç¾ç¯€æµå‡½å¼(throttle)&lt;/h3>
&lt;p>æˆ‘å€‘å…ˆç›´æ¥çœ‹ç¨‹å¼ç¢¼ï¼Œçœ‹çœ‹ä½ èƒ½äº†è§£å¤šå°‘ã€‚æœ‰ä¸æ‡‚çš„åœ°æ–¹ä¹Ÿä¸æ“”å¿ƒï¼Œä¸‹é¢æœƒé€éè¨»è§£ï¼Œä¸€è¡Œè¡Œè§£é‡‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">throttle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">delay&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">500&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">timer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(...&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">timer&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">timer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fn&lt;/span>&lt;span class="p">(...&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">timer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="nx">delay&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¨‹å¼ç¢¼è¨»è§£ç‰ˆæœ¬å’Œå¯¦éš›æ‡‰ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">throttle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">delay&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">500&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">timer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// throttle æœ¬èº«æœƒå›å‚³ä¸€å€‹å‡½å¼ï¼Œé€é ...args æ‹¿åˆ°è©²å‡½å¼çš„å¼•æ•¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">(...&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å¦‚æœæœ‰è¨ˆæ™‚å™¨ï¼Œè¡¨ç¤ºé‚„åœ¨ delay çš„ç§’æ•¸å…§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ç›´æ¥ returnï¼Œä¸å¾€ä¸‹åŸ·è¡Œç¨‹å¼ç¢¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">timer&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å¦‚æœè¨ˆæ™‚å™¨ä¸ç­‰æ–¼ nullï¼Œæœƒé€²åˆ°ä»¥ä¸‹é‚è¼¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è¨­å®šè¨ˆæ™‚å™¨ï¼Œåœ¨ delay ç§’æ•¸ä¹‹å¾Œï¼ŒæœƒåŸ·è¡Œå›èª¿å‡½å¼ fnï¼Œä¸¦å°‡è¨ˆæ™‚å™¨å€¼ç‚ºæ”¹ç‚º null
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// å¦‚æœé‚„ä¸åˆ° delay çš„ç§’æ•¸ï¼Œå‰‡ timer çš„å€¼ä¸ç‚º nullï¼Œä¸æœƒé€²åˆ°é€™æ®µé‚è¼¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// å¯ä»¥é”åˆ° throttle çš„ç›®çš„ï¼Œå°‡ä¸€æ®µæ™‚é–“å…§çš„æ“ä½œï¼Œé›†åˆæˆä¸€æ¬¡åŸ·è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">timer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fn&lt;/span>&lt;span class="p">(...&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">timer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="nx">delay&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">updateThrottleText&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">throttle&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;throttle&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span> &lt;span class="mi">500&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å¦‚æœä¸€ç›´æ»‘å‹•ç•«é¢ï¼Œæœƒå›ºå®š 500ms console.log(&amp;#39;throttle&amp;#39;)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;scroll&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">updateThrottleText&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="æ·ºæ‹·è²shallow-copyèˆ‡æ·±æ‹·è²deep-copy">æ·ºæ‹·è²(shallow copy)èˆ‡æ·±æ‹·è²(deep copy)&lt;/h2>
&lt;p>åœ¨ JavaScript è¤‡è£½å€¼æ™‚ï¼Œç•¶è¤‡è£½çš„æ˜¯é**åŸå§‹å‹åˆ¥(primitive type)**çš„è³‡æ–™å‹åˆ¥æ™‚ï¼Œä¾‹å¦‚ï¼š&lt;strong>ç‰©ä»¶(object)&lt;/strong>ã€**æ•¸çµ„(array)**ç­‰ï¼Œæœƒé‡åˆ°&lt;code>æ·ºæ‹·è²(shallow copy)&lt;/code>å’Œ&lt;code>æ·±æ‹·è²(deep copy)&lt;/code>çš„å·®ç•°ã€‚åœ¨é¢è©¦æ™‚è¢«å•åˆ°é€™å…©è€…çš„å·®ç•°ï¼Œä½ æœƒæ€éº¼å›ç­”ï¼Ÿå¦‚æœè¦ä½ ç•¶å ´æ‰‹å¯«æ·±æ‹·è²ï¼Œä½ æœƒæ€éº¼å¯«ï¼Ÿ&lt;/p>
&lt;h3 id="æ¯”è¼ƒæ·ºæ‹·è²shallow-copy-å’Œæ·±æ‹·è²deep-copy">æ¯”è¼ƒæ·ºæ‹·è²(shallow copy) å’Œæ·±æ‹·è²(deep copy)&lt;/h3>
&lt;p>æ·ºæ‹·è²æ˜¯æŒ‡è¤‡è£½å€¼æ™‚ï¼ŒåŸæœ¬çš„è®Šæ•¸å’Œæ–°çš„è®Šæ•¸æœƒæŒ‡å‘&lt;strong>åŒä¸€å€‹å€(reference)&lt;/strong>ï¼Œæ›å¥è©±èªªï¼Œå¦‚æœæ‹·è²çš„ç‰©ä»¶å…§å®¹æœ‰æ”¹è®Šï¼ŒåŸæœ¬çš„ç‰©ä»¶ä¹Ÿæœƒè¢«æ”¹è®Šã€‚&lt;/p>
&lt;p>ä»¥ä¸‹ç¨‹å¼ç¢¼æ˜¯ä¸€å€‹ç°¡å–®çš„ä¾‹å­ã€‚&lt;/p>
&lt;p>å®šç¾©ä¸€å€‹æ–°è®Šæ•¸ &lt;code>objB&lt;/code>ï¼Œä¸¦å°‡å…¶å€¼è³¦äºˆç‚º &lt;code>objA&lt;/code>ï¼Œæ­¤æ™‚æ”¹è®Š &lt;code>objB&lt;/code> ä¹ŸæœƒåŒæ™‚æ”¹è®Š &lt;code>objA&lt;/code>ï¼Œå› ç‚ºé€™å…©å€‹è®Šæ•¸æ˜¯&lt;strong>å…±äº«åŒä¸€å€‹å€(reference)&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">objA&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">objB&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">objA&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">objB&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// å› ç‚ºæ˜¯æ·ºæ‹·è²ï¼ŒobjA çš„ a ä¹Ÿæœƒè¢«æ”¹è®Š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objA&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//{a:3, b:2}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objB&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//{a:3, b:2}
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç›¸ååœ°ï¼Œæ·±æ‹·è²æ˜¯æŒ‡åœ¨æ‹·è²æ™‚&lt;strong>ä¸å…±äº«ç›¸åŒçš„å€(reference)&lt;/strong>ã€‚&lt;/p>
&lt;p>ä»¥ä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æœ &lt;code>objB&lt;/code> æ˜¯é€é&lt;strong>æ·±æ‹·è²&lt;/strong>å‰µå»ºå‡ºä¾†ï¼Œç•¶æˆ‘å€‘åœ¨æ›´æ”¹ &lt;code>objB&lt;/code> çš„å€¼æ™‚ï¼Œä¸¦ä¸ç”¨æ“”å¿ƒ &lt;code>objA&lt;/code> çš„å€¼æœƒåŒæ¨£è¢«æ›´å‹•åˆ°ã€‚&lt;/p>
&lt;p>è£œå……èªªæ˜ï¼Œåœ¨æ‹·è²å€¼æ™‚ï¼Œæœ‰å¯èƒ½æœƒé‡åˆ°è®Šæ•¸æ˜¯å¤šå±¤çš„æƒ…å¢ƒï¼Œä¾‹å¦‚æ˜¯ä¸€å€‹ç‰©ä»¶è£¡é‚„æœ‰ç‰©ä»¶ï¼Œæ·±æ‹·è²çš„å®šç¾©æœƒæ˜¯æ¯ä¸€å±¤çš„å€¼éƒ½&lt;strong>ä¸æœƒå…±äº«å€(reference)&lt;/strong>ã€‚ä»¥ lodash é€™å€‹å¥—ä»¶æä¾›çš„æ•ˆç”¨å‡½å¼èˆ‰ä¾‹ï¼Œä¹Ÿæ˜¯åˆ†æˆ &lt;code>clone&lt;/code> å’Œ &lt;code>cloneDeep&lt;/code> å…©ç¨®ä¸åŒæ•ˆç”¨å‡½å¼ï¼Œ&lt;code>clone&lt;/code> åªç”¨æ–¼æ·ºæ‹·è²(ç¬¬ä¸€å±¤æ‹·è²)ï¼Œä½† &lt;code>cloneDeep&lt;/code> å¯ç”¨æ–¼æ·±æ‹·è²ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// lodash çš„æ·ºæ‹·è² clone
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">objects&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[{&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="p">}];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">shallow&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clone&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objects&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objects&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">shallow&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">shallow&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">objects&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]);&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// lodash çš„æ·±æ‹·è² cloneDeep
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">objects&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[{&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="p">}];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">deep&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cloneDeep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objects&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objects&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">deep&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">deep&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">objects&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨èªªæ˜å®Œæ·ºæ‹·è²èˆ‡æ·±æ‹·è²çš„å·®åˆ¥å¾Œï¼Œå¸¸è¦‹çš„æ¥çºŒå•é¡Œæ˜¯ã€Œæ‰‹å¯«ã€æ·ºæ‹·è²èˆ‡æ·±æ‹·è²ã€‚&lt;/p>
&lt;p>å‡å¦‚ä½ ä¸ç¢ºå®šæ€éº¼æ‰‹å¯«é€™å…©ç¨®æ‹·è²æ–¹å¼ï¼Œå¯ä»¥ç¹¼çºŒå¾€ä¸‹çœ‹ã€‚&lt;/p>
&lt;h3 id="å¦‚ä½•å¯¦ç¾æ·ºæ‹·è²shallow-copy">å¦‚ä½•å¯¦ç¾æ·ºæ‹·è²(shallow copy)&lt;/h3>
&lt;h4 id="æ–¹æ³•ä¸€æ‰‹å‹•è¤‡è£½å€¼">æ–¹æ³•ä¸€ï¼šæ‰‹å‹•è¤‡è£½å€¼&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">objA&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">objB&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">objA&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">objA&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objA&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">objB&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objA&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">objB&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// true, ç¬¬äºŒå±¤çš„ç‰©ä»¶é‚„æ˜¯æŒ‡å‘ç›¸åŒä½ç½®
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ–¹æ³•äºŒä½¿ç”¨-spread-syntax">æ–¹æ³•äºŒï¼šä½¿ç”¨ spread syntax&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">objA&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">objB&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">objA&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objA&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">objB&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objA&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">objB&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// true, ç¬¬äºŒå±¤çš„ç‰©ä»¶é‚„æ˜¯æŒ‡å‘ç›¸åŒä½ç½®
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ–¹æ³•ä¸‰ä½¿ç”¨-objectassign">æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ &lt;code>Object.assign&lt;/code>&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">objA&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">objB&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">assign&lt;/span>&lt;span class="p">({},&lt;/span> &lt;span class="nx">objA&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objA&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">objB&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objA&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">objB&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// true, ç¬¬äºŒå±¤çš„ç‰©ä»¶é‚„æ˜¯æŒ‡å‘ç›¸åŒä½ç½®
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¦‚ä½•å¯¦ç¾æ·±æ‹·è²deep-copy">å¦‚ä½•å¯¦ç¾æ·±æ‹·è²(deep copy)&lt;/h3>
&lt;h4 id="æ–¹æ³•ä¸€ä½¿ç”¨-jsonparsejsonstringify">æ–¹æ³•ä¸€ï¼šä½¿ç”¨ &lt;code>JSON.parse(JSON.stringify(...))&lt;/code>&lt;/h4>
&lt;p>é€™å€‹ä½œæ³•æ˜¯å…ˆå°‡ç‰©ä»¶ç”¨ &lt;code>JSON.stringify&lt;/code> åºåˆ—åŒ–ç‚º stringï¼Œå†é€é &lt;code>JSON.parse&lt;/code> ååºåˆ—åŒ–è½‰æ›å›ç‰©ä»¶ã€‚&lt;/p>
&lt;blockquote>
&lt;p>è¦ç‰¹åˆ¥æ³¨æ„ï¼Œé€™åšæ³•åªèƒ½ç”¨æ–¼&lt;strong>å¯åºåˆ—åŒ–çš„ç‰©ä»¶&lt;/strong>ï¼Œæœ‰äº›ç„¡æ³•åºåˆ—åŒ–çš„ç‰©ä»¶ä¾‹å¦‚ï¼š&lt;strong>function&lt;/strong>ã€&lt;strong>HTML çš„å…ƒç´ &lt;/strong>ï¼Œé€™äº›æ˜¯ç„¡æ³•åºåˆ—åŒ–çš„ï¼æ‰€ä»¥åŸ·è¡Œå‰ï¼Œéœ€è¦å…ˆç¢ºèªæ˜¯å¦å¯ä»¥åºåˆ—åŒ–ï¼Œå¦å‰‡åœ¨åŸ·è¡Œ &lt;code>JSON.stringify&lt;/code> æ™‚æœƒå¤±æ•—ã€‚&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">objA&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">deepCopy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">parse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stringify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">objB&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">deepCopy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objA&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objA&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">objB&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objA&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">objB&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ–¹æ³•äºŒä½¿ç”¨-structuredclonevalue">æ–¹æ³•äºŒï¼šä½¿ç”¨ &lt;code>structuredClone(value)&lt;/code>&lt;/h4>
&lt;p>é‡å°&lt;strong>å¯åºåˆ—åŒ–çš„ç‰©ä»¶&lt;/strong>ï¼Œæœ‰å¦å¤–ä¸€ç¨®é€é JavaScript å…§å»ºçš„æ–¹æ³•é”æˆæ·±æ‹·è²ã€‚é€™ç¨®æ–¹æ³•æ˜¯ &lt;code>structuredClone(value)&lt;/code>ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">objA&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">objB&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">structuredClone&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objA&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objA&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">objB&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">objA&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">objB&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ–¹æ³•ä¸‰è€ƒæ…®å¤šé‡æƒ…æ³çš„éè¿´å¼æ·±æ‹·è²">æ–¹æ³•ä¸‰ï¼šè€ƒæ…®å¤šé‡æƒ…æ³çš„éè¿´å¼æ·±æ‹·è²&lt;/h4>
&lt;p>é€šå¸¸åœ¨é¢è©¦ä¸­ï¼Œç”¨ä¸Šè¿°å…©ç¨®æ–¹å¼ï¼Œå¯èƒ½æœƒè¢«é¢è©¦å®˜è¿½å•èªªï¼Œå¦‚æœä¸ç”¨é€™ç¨®ç¾æˆçš„æ–¹æ³•ï¼Œè¦å¦‚ä½•æ‰‹å¯«ï¼Ÿ&lt;/p>
&lt;p>ä»¥ä¸‹çš„å¯«æ³•æ˜¯é€é&lt;strong>éè¿´&lt;/strong>çš„æ–¹å¼ï¼Œä¾†é€²è¡Œæ·±æ‹·è²ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">deepClone&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç¢ºèªæ˜¯ä¸æ˜¯åŸå§‹å‹æ…‹ï¼Œå¦‚æœæ˜¯çš„è©±å°±ç›´æ¥å›å‚³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="kc">null&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="k">typeof&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç¢ºèªæ˜¯ä¸æ˜¯ Date æˆ– RegExp é€™ç¨®ç‰¹æ®Šå‹æ…‹ï¼Œæ˜¯çš„è©±å°±é€éå»ºæ§‹å¼è¤‡è£½ä¸€å€‹ç›¸åŒçš„å€¼ï¼Œç„¶å¾Œå›å‚³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span> &lt;span class="k">instanceof&lt;/span> &lt;span class="nb">Date&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="k">instanceof&lt;/span> &lt;span class="nb">RegExp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// çœ‹ obj æ˜¯ç‰©ä»¶é‚„æ˜¯é™£åˆ—ï¼Œç„¶å¾Œå…ˆå»ºä¸€å€‹æ–°çš„ç©ºç‰©ä»¶ (æˆ–ç©ºé™£åˆ—)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isArray&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="p">[]&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="p">{};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é€é Ojbect.entries ä¾†è¿­ä»£ï¼Œç„¶å¾Œéè¿´åœ°å°æ¯å€‹å€¼æ·±æ‹·è²
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// å› ç‚º Object.entries ä¸æœƒåˆ—èˆ‰æ•´å€‹åŸå‹éŠ (prototype chain)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ‰€ä»¥ä¸ç”¨é€é obj.hasOwnProperty(key) é¡å¤–æª¢æŸ¥æ˜¯ä¸æ˜¯éåŸå‹éˆä¸Šçš„å±¬æ€§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">key&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">entries&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">result&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">key&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">deepClone&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æœ€å¾Œå›å‚³çµæœ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">result&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="é™£åˆ—å»é™¤é‡è¤‡remove-duplicatesæ–¹æ³•">é™£åˆ—å»é™¤é‡è¤‡(remove duplicates)æ–¹æ³•&lt;/h2>
&lt;p>åœ¨é™£åˆ—ä¸­æŠŠé‡è¤‡çš„é …ç›®å»é™¤æ‰ï¼Œæ˜¯å¾ˆå¸¸åœ¨å¯¦éš›å·¥ä½œä¸­éœ€è¦åŸ·è¡Œçš„æ“ä½œã€‚å› æ­¤åœ¨ JavaScript é¢è©¦æ™‚ï¼Œä¹Ÿå¾ˆå¸¸æœƒè¢«å•ã€‚é€™ç¨®é¡Œç›®é€šå¸¸æœƒè¦ç•¶å ´æ‰‹å¯«ï¼Œæ‰€ä»¥å‡å¦‚ä½ ä¸å¤ªç¢ºå®šè¦æ€éº¼æ‰‹å¯«å»é™¤é‡è¤‡ï¼Œä¸€å®šè¦åœ¨é¢è©¦å‰å¤šç·´ç¿’å¹¾æ¬¡ã€‚&lt;/p>
&lt;h3 id="é™£åˆ—å»é™¤é‡è¤‡é¡Œç›®é•·ä»€éº¼æ¨£">é™£åˆ—å»é™¤é‡è¤‡é¡Œç›®é•·ä»€éº¼æ¨£ï¼Ÿ&lt;/h3>
&lt;p>é™£åˆ—å»é™¤é‡è¤‡çš„é¢è©¦é¡Œï¼Œé€šå¸¸æœƒåƒä¸‹é¢é€™æ¨£ï¼Œçµ¦ä¸€å€‹é™£åˆ—ï¼Œè£¡é¢æœ‰é‡è¤‡çš„æ•¸å­—ï¼Œä¸¦è¦æ±‚å¯«ä¸€å€‹ &lt;code>removeDuplicate&lt;/code> å‡½å¼ï¼Œè¼¸å…¥æ˜¯åŸå§‹é™£åˆ—ï¼Œè¼¸å‡ºæ˜¯å»é™¤é‡è¤‡æ•¸å­—çš„é™£åˆ—ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">originalArr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">removeDuplicate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">array&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">removeDuplicate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">originalArr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ans&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// [9, 1, 2, 3, 4, 8]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é™£åˆ—å»é‡è¤‡å…¶å¯¦æœ‰å¾ˆå¤šç¨®åšæ³•ï¼Œä»¥ä¸‹æœƒåˆ—å‡º 4 ç¨®å¸¸è¦‹åšæ³•ã€‚åœ¨é¢è©¦è€ƒæ‰‹å¯«é¡Œæ™‚ï¼Œé™£åˆ—å»é‡è¤‡æœ‰å¯èƒ½æ˜¯å–®ç¨ä¸€ç¨®é¡Œå‹ï¼Œæˆ–è€…æ˜¯åœ¨è§£æ‰‹å¯«é¡Œæ™‚ä¸€é–‹å§‹éœ€è¦å°‡é™£åˆ—é€²è¡Œå»é‡è¤‡çš„æ“ä½œã€‚&lt;/p>
&lt;p>å»ºè­°è©¢å•é¢è©¦å®˜é¡Œç›®çš„éœ€æ±‚ã€ä¸»å‹•è·Ÿé¢è©¦å®˜è¨è«–æœŸæœ›çš„è§£æ³•ï¼Œå†é¸æ“‡è¦ä½¿ç”¨å“ªä¸€ç¨®è§£æ³•ã€‚&lt;/p>
&lt;h3 id="å››ç¨®è§£æ³•">å››ç¨®è§£æ³•&lt;/h3>
&lt;h4 id="è§£æ³•ä¸€ä½¿ç”¨-set-å»é‡è¤‡">è§£æ³•ä¸€ï¼šä½¿ç”¨ &lt;code>Set&lt;/code> å»é‡è¤‡&lt;/h4>
&lt;p>&lt;code>Set&lt;/code> çš„è³‡æ–™æ ¼å¼èˆ‡ç”¨æ³•é¡ä¼¼æ–¼ &lt;code>Array&lt;/code>ï¼Œä½†æœ‰ä¸€ç‰¹è‰²æ˜¯ &lt;code>Set&lt;/code> ä¸­åªèƒ½å„²å­˜ä»»ä½•è³‡æ–™çš„å”¯ä¸€å€¼ï¼Œå› æ­¤å¯ä»¥å…ˆå°‡ &lt;code>Array&lt;/code> è½‰ç‚º &lt;code>Set&lt;/code>ï¼Œæ­¤æ™‚é‡è¤‡çš„å€¼æœƒè¢«ç§»é™¤ï¼Œå†å°‡ &lt;code>Set&lt;/code> è½‰ç‚º &lt;code>Array&lt;/code>ã€‚ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">removeDuplicate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">Array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nx">Set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä¹Ÿå¯ä»¥åˆ©ç”¨ spread syntax æ›´ç°¡åŒ–ç¨‹å¼ç¢¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// function removeDuplicate(arr) {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// return [...new Set(arr)];
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">arrAfter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">removeDuplicate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr1After&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [1, 2, 3, 8]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="è§£æ³•äºŒ-filter-æ­é…-indexof">è§£æ³•äºŒï¼š &lt;code>filter&lt;/code> æ­é… &lt;code>indexOf&lt;/code>&lt;/h4>
&lt;p>æ­¤è§£æ³•å…ˆç”¨ array çš„ &lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" target="_blank" rel="noopener"
>filter&lt;/a> æ–¹æ³•ï¼Œæ­é… &lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf" target="_blank" rel="noopener"
>indexOf&lt;/a> æ–¹æ³•ï¼Œåªä¿ç•™ç¬¬ä¸€æ¬¡å‡ºç¾çš„å€¼ï¼Œæ‰€ä»¥åªè¦æ˜¯ç¬¬äºŒæ¬¡å‡ºç¾çš„ï¼Œå°±æœƒè¢«ç¯©æ‰ï¼Œé€™èƒ½ç¢ºä¿çµæœä¸æœƒæœ‰é‡è¤‡çš„ã€‚ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">removeDuplicate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// indexOf æœƒå›å‚³åœ¨é€™å€‹ array ç­‰åŒæ–¼æ­¤å€¼ç¬¬ä¸€å€‹ item çš„ indexï¼Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ‰€ä»¥å¦‚æœ indexOf å›å‚³çš„ index ç›¸ç­‰æ–¼ç›®å‰ filter åˆ°çš„å€¼ï¼Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// å‰‡ä»£è¡¨è©²å€¼æ˜¯ç¬¬ä¸€æ¬¡å‡ºç¾ï¼Œæˆ‘å€‘ä¿ç•™èµ·ä¾†ï¼Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// åä¹‹ï¼Œå¦‚æœ index ä¸ç­‰æ–¼ï¼Œå‰‡ä»£è¡¨æ­¤ array ä¸­å‰é¢ä½ç½®å·²ç¶“å‡ºç¾éï¼Œæ‰€ä»¥å°± filter æ‰ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">array&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">indexOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">index&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">arrAfter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">removeDuplicate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arrAfter&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [1, 2, 3, 8]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="è§£æ³•ä¸‰-é›™å±¤-for-loop">è§£æ³•ä¸‰ï¼š é›™å±¤ for loop&lt;/h4>
&lt;p>é›™å±¤ for loop æ˜¯ä¸€ç¨®æš´åŠ›è§£ã€‚ä¾åºéæ­·æ•´å€‹ arrayï¼Œå†é€éç¬¬äºŒå±¤ for loop æ‰¾å‡ºé‡è¤‡çš„å€¼å°‡å…¶ç§»é™¤ã€‚ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">removeDuplicate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç¬¬ä¸€å±¤ for loopï¼Œi å¾ index 0 é–‹å§‹ï¼Œåˆ° arr æœ€å¾Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">len&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">len&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç¬¬äºŒå±¤ for loopï¼Œj å¾ i + 1 é–‹å§‹ï¼Œè¦æª¢æŸ¥å€¼æ˜¯å¦é‡è¤‡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">len&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å¦‚æœå€¼é‡è¤‡ï¼Œå‰‡é€é splice æ–¹æ³•å°‡ j ä½ç½®çš„å€¼å¾ arr å»é™¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">j&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">splice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç§»é™¤é‡è¤‡çš„å€¼ä¹‹å¾Œï¼Œarr length é•·åº¦æœƒéœ€è¦æ¸› 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">len&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// j ä½ç½®çš„å€¼è¢«ç§»é™¤ï¼Œå› æ­¤ j index ä¹Ÿè¦æ¸› 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">j&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">arrAfter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">removeDuplicate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arrAfter&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [1, 2, 3, 8]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="è§£æ³•å››-é€é-object-æˆ–-map-å„²å­˜ä»¥éæ­·éçš„é …ç›®">è§£æ³•å››ï¼š é€é object æˆ– Map å„²å­˜ä»¥éæ­·éçš„é …ç›®&lt;/h4>
&lt;p>æˆ‘å€‘å¯ä»¥é€é object æˆ– Map ä¾†å„²å­˜å·²ç¶“éæ­·éçš„é …ç›®ï¼Œä¾†æ‰¾å‡ºæ˜¯å¦å·²å­˜åœ¨é™£åˆ—ç•¶ä¸­ï¼Œå¦‚æœé‚„ä¸åœ¨ï¼Œé‚£å°±æ”¾é€²è¦è¼¸å‡ºçš„é™£åˆ—ï¼›å¦‚æœå·²ç¶“åœ¨äº†ï¼Œå°±ä¸å†æ”¾å…¥ï¼Œé€™æ¨£ä¸€ä¾†èƒ½ç¢ºä¿é™£åˆ—ä¸­æ²’æœ‰é‡è¤‡çš„å€¼ã€‚ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">removeDuplicate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">seen&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">newArray&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// éæ­·éåŸæœ¬çš„é™£åˆ—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">item&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åˆ¤æ–·ç•¶å‰è¢«éæ­·åˆ°çš„é …ç›®æ˜¯å¦å·²ç¶“æ”¾å…¥é
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">seen&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">newArray&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// å¦‚æœé‚„æ²’ï¼Œå‰‡æ”¾å…¥è¦è¢«è¼¸å‡ºçš„æ–°é™£åˆ—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">seen&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// é€™æ™‚ç´€éŒ„ä¸€ä¸‹é€™å€‹é …ç›®å·²ç¶“è¢«æ”¾å…¥ï¼Œä¸‹æ¬¡å°±ä¸æœƒå†è¢«æ”¾å…¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">newArray&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">arrAfter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">removeDuplicate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arrAfter&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [1, 2, 3, 8]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr></description></item><item><title>Javascript ä¸­ï¼ŒMapã€Setã€WeakMap å’Œ WeakSet çš„å€åˆ¥ï¼Ÿ</title><link>https://wayneblog.ga/2022-12-21/js-map-set-difference/</link><pubDate>Wed, 21 Dec 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-12-21/js-map-set-difference/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52576483407_0c40603733_o.jpg" alt="Featured image of post Javascript ä¸­ï¼ŒMapã€Setã€WeakMap å’Œ WeakSet çš„å€åˆ¥ï¼Ÿ" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://www.zhenghao.io/posts/object-vs-map" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://www.explainthis.io/zh-hant/interview-guides/javascript/set-map-weakset-weakmap" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://www.explainthis.io/zh-hant/interview-guides/javascript/map-vs-object" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>ES6 æ¨å‡ºäº† Map ç‰©ä»¶ï¼Œè®“é–‹ç™¼è€…å¯ä»¥é€éé€™å€‹ç‰¹è£½è³‡æ–™çµæ§‹é€²è¡Œéµå€¼å°(key-value pairs)çš„æ“ä½œã€‚ç„¶è€Œ JavaScript åŸå§‹ç‰©ä»¶(plain object)å°±å¯ä»¥ç”¨ä¾†åšéµå€¼å°çš„æ“ä½œï¼Œç‚ºä»€éº¼é‚„éœ€è¦ Map ç‰©ä»¶å‘¢ï¼Ÿ Map ç‰©ä»¶è§£æ±ºäº†ä»€éº¼å•é¡Œï¼Ÿé‚£èˆ‡ Set åˆæœ‰ä»€éº¼ä¸åŒå‘¢ï¼Ÿæœ¬ç¯‡ä¾†è©³ç´°èªªæ˜ä¸€ä¸‹ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="map-èˆ‡-object-çš„å·®åˆ¥">Map èˆ‡ object çš„å·®åˆ¥&lt;/h2>
&lt;h3 id="åŸå§‹ç‰©ä»¶çš„éµkeyåªå¯ä»¥æ˜¯å­—ä¸²ä½†-map-çš„éµå¯ä»¥æ˜¯ä»»ä½•æ±è¥¿">åŸå§‹ç‰©ä»¶çš„éµ(key)åªå¯ä»¥æ˜¯å­—ä¸²ï¼Œä½† Map çš„éµå¯ä»¥æ˜¯ä»»ä½•æ±è¥¿&lt;/h3>
&lt;p>åœ¨ç”¨éµå€¼å°è™•ç†è³‡æ–™æ™‚ï¼Œå¾ˆå¸¸é–‹ç™¼è€…æœƒç”¨å„é¡æ±è¥¿åšç‚º&lt;strong>éµ(key)&lt;/strong>ï¼Œä½†æ˜¯åœ¨ JavaScriptï¼Œå¦‚æœç”¨åŸå§‹ç‰©ä»¶ï¼Œä¸ç®¡ç”¨ä»€éº¼ç•¶åšéµï¼Œéƒ½æœƒè¢«è½‰æ›æˆ&lt;strong>å­—ä¸²&lt;/strong>ï¼Œé€™å¾€å¾€æœƒé€ æˆä¸€åˆ‡éŒ¯èª¤ï¼Œä¾‹å¦‚è¢«è½‰æˆå­—ä¸²æ™‚ï¼ŒåŸæœ¬å…©æ ¼ä¸åŒçš„éµè¢«è½‰æˆåŒæ¨£çš„å­—ä¸²ï¼Œé€™å°±å°è‡´æ’éµå•é¡Œã€‚è€Œ Map ç‰©ä»¶è§£æ±ºäº†é€™å€‹å•é¡Œï¼Œé–‹ç™¼è€…æƒ³ç”¨ä»€éº¼ç•¶éµéƒ½å¯ä»¥ã€‚&lt;/p>
&lt;h3 id="åŸå§‹ç‰©ä»¶ä¸æ”¯æ´è¿­ä»£iterationä½†-map-ç‰©ä»¶æœ‰">åŸå§‹ç‰©ä»¶ä¸æ”¯æ´è¿­ä»£(iteration)ï¼Œä½† Map ç‰©ä»¶æœ‰&lt;/h3>
&lt;p>éå»æˆ‘å€‘æ²’è¾¦æ³•ç›´æ¥å°ä¸€å€‹åŸå§‹ç‰©ä»¶ç”¨ &lt;code>for...of&lt;/code>ã€&lt;code>forEach&lt;/code> ä¾†è¿­ä»£ï¼Œè€Œæ˜¯éœ€è¦ç”¨é¡å¤–çš„æ–¹æ³•ï¼Œä¾‹å¦‚ &lt;code>Object.entries&lt;/code>ã€&lt;code>Object.keys&lt;/code> ä¾†å”åŠ©ã€‚ä½†æ˜¯ Map ç‰©ä»¶æ˜¯&lt;strong>å¯è¿­ä»£çš„(iterable)&lt;/strong>ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥ç›´æ¥å° Map ç‰©ä»¶ç”¨ &lt;code>for...of&lt;/code>ã€&lt;code>forEach&lt;/code>ã€‚&lt;/p>
&lt;h3 id="åŸå§‹ç‰©ä»¶çš„å…ƒç´ æ²’æœ‰é †åºæ€§map-ç‰©ä»¶å‰‡æœ‰é †åº">åŸå§‹ç‰©ä»¶çš„å…ƒç´ æ²’æœ‰é †åºæ€§ï¼ŒMap ç‰©ä»¶å‰‡æœ‰é †åº&lt;/h3>
&lt;p>ä¸Šé¢æåˆ° Map ç‰©ä»¶æ˜¯&lt;strong>å¯è¿­ä»£çš„&lt;/strong>ï¼Œå®ƒæœ‰ä¸€å€‹ç›¸é—œçš„å„ªé»æ˜¯åœ¨è¿­ä»£æ™‚æ˜¯&lt;strong>æœ‰é †åºæ€§çš„&lt;/strong>ã€‚éå»ç”¨åŸå§‹ç‰©ä»¶ï¼Œå³ä½¿ç”¨ç”¨ç‰©ä»¶æ–¹æ³• (ä¾‹å¦‚ &lt;code>Object.entries&lt;/code>ã€&lt;code>Object.keys&lt;/code> ä¾†å”åŠ©è¿­ä»£)ï¼Œè¿­ä»£å‡ºçš„çµæœé †åºä¸ä¸€å®šæœƒæ˜¯æˆ‘å€‘æ”¾å…¥éµå€¼å°çš„é †åºã€‚&lt;/p>
&lt;p>ä½†æœ‰æ™‚å€™åœ¨å¯«æ¼”ç®—æ³•æ™‚ï¼Œæˆ‘å€‘éœ€è¦ä¿ç•™é †åºï¼Œé€™æ™‚ Map ç‰©ä»¶å°±æœƒå¥½ç”¨å¾ˆå¤šã€‚&lt;/p>
&lt;h3 id="map-æä¾›è¨±å¤šéµå€¼å°å¸¸ç”¨çš„æ–¹æ³•ä½†åŸå§‹ç‰©ä»¶æ²’æœ‰">Map æä¾›è¨±å¤šéµå€¼å°å¸¸ç”¨çš„æ–¹æ³•ï¼Œä½†åŸå§‹ç‰©ä»¶æ²’æœ‰&lt;/h3>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœè¦çŸ¥é“ä¸€å€‹éµå€¼å°çš„å¤§å°ï¼ŒMap æœ‰ &lt;code>size&lt;/code> æ–¹æ³•ï¼Œç°¡å–®åˆå¥½ç”¨ï¼›ä½†å¦‚æœç”¨åŸå§‹ç‰©ä»¶ï¼Œæˆ‘å€‘å¯èƒ½éœ€è¦ä½¿ç”¨ &lt;code>Object.keys&lt;/code> ç„¶å¾Œæ­é… &lt;code>.length&lt;/code> å»è‡ªå·±æ‰¾è©²ç‰©ä»¶æœ‰å¤šå°‘å€‹éµï¼Œé€™å°±éº»ç…©å¾ˆå¤šã€‚&lt;/p>
&lt;p>å¦å¤– Map ä¹Ÿæœ‰æä¾› &lt;code>clear&lt;/code> æ–¹æ³•ï¼Œå¯ä»¥ä¸€æ¬¡æŠŠæ‰€æœ‰éµå€¼å°åˆªæ‰ï¼›å¦‚æœæ˜¯åŸå§‹ç‰©ä»¶å°±éœ€è¦ä¸€å€‹ä¸€å€‹åˆªã€‚&lt;/p>
&lt;hr>
&lt;h2 id="map">Map&lt;/h2>
&lt;p>é¡ä¼¼æ–¼ Object çš„è³‡æ–™çµæ§‹ï¼Œéƒ½æ˜¯ç”¨éµèˆ‡å€¼(key-value pair)çš„å½¢å¼å„²å­˜è³‡æ–™æ ¼å¼ï¼Œä½†é‚„æ˜¯æœ‰è¨±å¤šå·®ç•°ã€‚&lt;/p>
&lt;p>Map æœ¬èº«æ˜¯ä¸€ç¨®&lt;strong>æ§‹é€ å‡½å¼&lt;/strong>ï¼Œç”¨ä¾†ç”Ÿæˆ &lt;code>Map&lt;/code> é€™ç¨®æ•¸æ“šçµæ§‹ï¼Œå…·é«”åšæ³•æ˜¯ &lt;code>new Map()&lt;/code> ä¾†ç”Ÿæˆå¯¦ä¾‹ã€‚&lt;/p>
&lt;h3 id="å¸¸è¦‹æ“ä½œæ–¹æ³•">å¸¸è¦‹æ“ä½œæ–¹æ³•&lt;/h3>
&lt;p>Map å¸¸è¦‹æ“ä½œæ–¹æ³•æœ‰&lt;/p>
&lt;ul>
&lt;li>&lt;code>set(key, value)&lt;/code>ï¼š Map æ–°å¢å…ƒç´ ã€‚&lt;/li>
&lt;li>&lt;code>get(key)&lt;/code>ï¼š é€ééµ(Key)æŸ¥è©¢ç‰¹å®šå…ƒç´ ï¼Œä¸¦è¿”å›ã€‚&lt;/li>
&lt;li>&lt;code>has(key)&lt;/code>ï¼š åˆ¤æ–· Map ä¸­æ˜¯å¦å­˜åœ¨æŸéµ(key)ã€‚&lt;/li>
&lt;li>&lt;code>delete(key)&lt;/code>ï¼š é€ééµ(Key)å¾ Map ä¸­ç§»é™¤ç‰¹å®šå…ƒç´ ã€‚&lt;/li>
&lt;li>&lt;code>size&lt;/code>ï¼š æ–¹æ³•å¾—åˆ°å…ƒç´ çš„æ•¸é‡ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="å¸¸è¦‹éæ­·æ–¹æ³•">å¸¸è¦‹éæ­·æ–¹æ³•&lt;/h3>
&lt;p>Map å¸¸è¦‹éæ­·æ–¹æ³•(éæ­·é †åºæœƒæ˜¯æ’å…¥é †åº)&lt;/p>
&lt;ul>
&lt;li>&lt;code>values()&lt;/code>ï¼š è¿”å› Map ä¸­æ‰€æœ‰å…ƒç´ çš„å€¼ã€‚&lt;/li>
&lt;li>&lt;code>keys()&lt;/code>ï¼š æ–¹æ³•ç­‰åŒæ–¼ &lt;code>values()&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;code>entries()&lt;/code>ï¼š è¿”å› Set ä¸­æ‰€æœ‰çš„å…ƒç´ ï¼Œå› åœ¨ Set ä¸­æ²’æœ‰éµå€¼(Key)ï¼Œè¿”å›çš„å…ƒç´ æœƒæ˜¯ &lt;code>[value, value]&lt;/code> çš„å½¢å¼ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="map-å’Œ-weakmap-çš„å€åˆ¥">Map å’Œ WeakMap çš„å€åˆ¥&lt;/h2>
&lt;p>WeakMap çš„æ–¹æ³•å’Œä½¿ç”¨éƒ¨åˆ†èˆ‡ Map è³‡æ–™çµæ§‹ç›¸è¿‘ï¼Œæœ¬å€å¡Šæœƒå°ˆæ³¨åœ¨é€™å…©è€…ä¸åŒä¹‹è™•ã€‚&lt;/p>
&lt;ul>
&lt;li>WeakMap åªå…è¨±ç‰©ä»¶(Object) ä½œç‚ºéµå(key)ï¼Œä½†æ˜¯ &lt;strong>null&lt;/strong> é™¤å¤–ã€‚è€Œ Map å‰‡æ˜¯å¯æ¥å—å„ç¨®è³‡æ–™é¡å‹ä½œç‚º&lt;strong>éµå(key)&lt;/strong>ã€‚&lt;/li>
&lt;li>WeakMap ä¸­çš„éµåæ˜¯**ã€Œå¼±å¼•ç”¨ã€(weak reference)**ï¼Œéµå(key)æ‰€æŒ‡å‘çš„å°è±¡å¯ä»¥è¢«åƒåœ¾å›æ”¶ï¼Œæ­¤æ™‚çš„éµå(key)æ˜¯ç„¡æ•ˆçš„ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å¦‚æœæ”¾å…¥çš„ç‰©ä»¶åœ¨å¤–é¢æ²’æœ‰å…¶ä»–å¼•ç”¨ï¼Œåœ¨ WeakMap ä¸­æœƒè¢«åƒåœ¾å›æ”¶æ‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">food&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">WeakMap&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">fruit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;apple&amp;#39;&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">food&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fruit&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;good&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// å°‡ apple ç‰©ä»¶ç½®å…¥ WeakMap ä¸­
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">fruit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// ç§»é™¤ apple çš„å¼•ç”¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">food&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// WeakMap(0) fruit å·²ç¶“è¢«åƒåœ¾å›æ”¶ï¼Œå› æ­¤ WeakMap ä¸­æ²’æœ‰é …ç›®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä¸€èˆ¬çš„ Mapï¼Œå³ä½¿æ”¾å…¥çš„ç‰©ä»¶åœ¨å¤–é¢æ²’æœ‰å…¶ä»–å¼•ç”¨ï¼Œä»åœ¨ Map ç•¶ä¸­å­˜æ”¾
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">food&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Map&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">fruit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;apple&amp;#39;&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">food&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fruit&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;good&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">food&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// WeakMap(1)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fruit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">food&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// WeakMap(1) fruit ä¸æœƒè¢«åƒåœ¾å›æ”¶
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ä¸Šæ–¹çš„å¼·å¼•ç”¨ç¨‹å¼ç¢¼ä¸­ï¼Œé›–ç„¶ &lt;code>fruit&lt;/code> ç‰©ä»¶æœ€å¾Œè¢«é‡æ–°è³¦å€¼ç‚º &lt;code>null&lt;/code> (æ„æ€ç­‰åŒæ–¼ç„¡æ³•å†é€é &lt;code>fruit&lt;/code> è®Šæ•¸ç²å–è©²å°è±¡å€¼ï¼Œå› ç‚ºå…¶ä¸­çš„å¼•ç”¨è¢«æ–·é–‹)ï¼Œä½†ç”±æ–¼ &lt;code>food&lt;/code> èˆ‡æ­¤ç‰©ä»¶é–“å­˜åœ¨å¼·å¼•ç”¨ï¼Œæ‰€ä»¥è¢«ä¿ç•™åœ¨è¨˜æ†¶é«”ä¸­ï¼Œé€™å°±æ˜¯å‰é¢æåˆ°çš„ï¼Œ&lt;strong>å¼·å¼•ç”¨æœƒé˜²æ­¢ç‰©ä»¶è¢«åƒåœ¾å›æ”¶ï¼Œä¸¦å°‡ç‰©ä»¶ä¿ç•™åœ¨è¨˜æ†¶é«”ç•¶ä¸­&lt;/strong>ï¼› å¼±å¼•ç”¨å‰‡ç›¸åï¼Œä¸¦&lt;strong>ä¸èƒ½é˜²æ­¢ç‰©ä»¶è¢«åƒåœ¾å›æ”¶&lt;/strong>ï¼Œç•¶ JavaScript åŸ·è¡Œç’°å¢ƒåŸ·è¡Œåƒåœ¾å›æ”¶æ™‚ï¼Œä¸Šè¿°å¼±å¼•ç”¨ä¾‹å­ä¸­çš„ &lt;code>fruit&lt;/code> ç‰©ä»¶æœƒè¢«å¾è¨˜æ†¶é«”å’Œ WeakMap ä¸­åˆªé™¤ã€‚&lt;/p>
&lt;p>å¼±å¼•ç”¨çš„é©ç”¨æƒ…å¢ƒåœ¨æ–¼ï¼Œå¦‚æœå¼•ç”¨çš„ç‰©ä»¶åœ¨æœªä¾†å¯èƒ½æœƒè¢«åˆªé™¤çš„æƒ…æ³ã€ä¸”ä¸æƒ³é˜²æ­¢è¢«åƒåœ¾å›æ”¶æ™‚ï¼Œå°±é©åˆç”¨ WeakMap æˆ– WeakSetã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘å€‘æƒ³è¦è¨˜éŒ„ä¸€äº›èˆ‡ DOM ç¯€é»ç›¸é—œçš„æ•¸æ“šï¼Œæœ‰ä¸€ç¨®æ–¹æ³•æ˜¯ä½¿ç”¨ &lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Glossary/Expando" target="_blank" rel="noopener"
>Expando&lt;/a> æ“´å……ç¯€é»ä¸Šçš„è³‡è¨Šï¼Œä½†å£è™•æ˜¯æœƒç›´æ¥ä¿®æ”¹åˆ°é€™å€‹ DOM ç¯€é»ã€ä¸”å¦‚æœæœªä¾†é€™å€‹ç¯€é»è¢«ç§»é™¤æ™‚ï¼Œç›¸é—œè³‡è¨Šä¸æœƒè¢«åƒåœ¾å›æ”¶æ‰ï¼Œé€™æ™‚å¦‚æœæ˜¯ä½¿ç”¨ WeakMap å°±æœƒæ˜¯å¾ˆå¥½çš„æ›¿ä»£æ–¹æ¡ˆã€‚&lt;/p>
&lt;blockquote>
&lt;p>å‚™è¨»ï¼š å¦‚æœç›´æ¥å°‡å¼±å¼•ç”¨ç¨‹å¼ç¢¼çš„ä¾‹å­åœ¨ JavaScript åŸ·è¡Œç’°å¢ƒä¸­åŸ·è¡Œï¼Œå¯èƒ½é‚„æ˜¯æœƒçœ‹åˆ° WeakMap ä¸­æœ‰å€¼ï¼Œé€™æ˜¯å› ç‚º JavaScript åŸ·è¡Œç’°å¢ƒæœƒåœ¨ç‰¹å®šçš„æ™‚é–“é»åŸ·è¡Œåƒåœ¾å›æ”¶ã€‚&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="set">Set&lt;/h2>
&lt;p>Set é€™å€‹æ•¸æ“šçµæ§‹é¡ä¼¼é™£åˆ—ï¼Œä½†æ˜¯è£¡é¢çš„å…ƒç´ å€¼éƒ½æ˜¯&lt;strong>å”¯ä¸€&lt;/strong>ï¼Œä¸æœƒæœ‰é‡è¤‡çš„å€¼ï¼Œç„¡è«–æ­¤å€¼æ˜¯åŸå§‹å‹åˆ¥(primitive values)æˆ–å¼•ç”¨å‹åˆ¥(object references)ã€‚åœ¨ JavaScript ç•¶ä¸­ï¼ŒSet æœ¬èº«æ˜¯ä¸€ç¨®&lt;strong>æ§‹é€ å‡½å¼&lt;/strong>ï¼Œç”¨ä¾†ç”Ÿæˆ Set é€™ç¨®æ•¸æ“šçµæ§‹ï¼Œå…·é«”çš„åšæ³•æ˜¯é€é &lt;code>new Set()&lt;/code> ä¾†ç”Ÿæˆå¯¦ä¾‹ã€‚&lt;/p>
&lt;h3 id="å¸¸è¦‹æ“ä½œæ–¹æ³•-1">å¸¸è¦‹æ“ä½œæ–¹æ³•&lt;/h3>
&lt;p>Set å¸¸è¦‹æ“ä½œæ–¹æ³•æœ‰&lt;/p>
&lt;ul>
&lt;li>&lt;code>add(value)&lt;/code>ï¼š ç”¨ä¾†æ–°å¢å€¼ã€‚&lt;/li>
&lt;li>&lt;code>delete(value)&lt;/code>ï¼šç”¨ä¾†åˆªé™¤æ¯å€‹ Set ä¸­çš„å€¼ã€‚&lt;/li>
&lt;li>&lt;code>has(value)&lt;/code>ï¼šåˆ¤æ–· Set ä¸­æ˜¯å¦å­˜åœ¨æ¯å€‹å€¼ã€‚&lt;/li>
&lt;li>&lt;code>size&lt;/code>ï¼š æ–¹æ³•å¾—åˆ°å…ƒç´ çš„æ•¸é‡ï¼Œèˆ‡é™£åˆ—ä½¿ç”¨ &lt;code>arr.length&lt;/code> æ–¹æ³•ä¸ä¸€æ¨£ã€‚&lt;/li>
&lt;/ul>
&lt;p>Set ä¸­&lt;strong>æ²’æœ‰éµå€¼(Key)&lt;/strong>ï¼Œå¦‚æœä½¿ç”¨ &lt;code>entries()&lt;/code> éæ­·ï¼Œè¿”å›çš„å…ƒç´ æœƒæ˜¯ &lt;code>[value, value]&lt;/code> çš„å½¢å¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">set1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Set&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">set1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">42&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">set1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;forty two&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">iterator1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">set1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">entries&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">entry&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">iterator1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">entry&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// expected output: [42, 42]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// expected output: [&amp;#34;forty two&amp;#34;, &amp;#34;forty two&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="set-å’Œ-weakset-çš„å€åˆ¥">Set å’Œ WeakSet çš„å€åˆ¥&lt;/h2>
&lt;p>WeakSet çš„æ–¹æ³•å’Œä½¿ç”¨éƒ¨åˆ†èˆ‡ Set è³‡æ–™çµæ§‹ç›¸è¿‘ï¼Œæœ¬å€å¡Šæœƒå°ˆæ³¨åœ¨é€™å…©è€…ä¸åŒä¹‹è™•ã€‚&lt;/p>
&lt;ul>
&lt;li>WeakSet å…§çš„å…ƒç´ å€¼åªå…è¨±æ˜¯&lt;strong>ç‰©ä»¶(Object)&lt;/strong>ï¼Œä½† Set å¯æ¥å—&lt;strong>å„ç¨®è³‡æ–™é¡å‹&lt;/strong>çš„å€¼ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wSet&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">WeakSet&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;explainthis&amp;#39;&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wSet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// WeakSetÂ {Array(3)}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">wSet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// WeakSet {{...}}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">wSet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// Uncaught TypeError: Invalid value used in weak set
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>WeakSet å…§çš„å…ƒç´ éƒ½æ˜¯**ã€Œå¼±å¼•ç”¨ã€(weak reference)**ï¼Œå¯ä»¥è¢«åƒåœ¾å›æ”¶æ©Ÿåˆ¶å›æ”¶ã€‚å‡å¦‚ä½¿ç”¨ Set ï¼Œå³ä½¿æŸå€‹è¢«å­˜å…¥çš„å€¼ï¼Œåœ¨å…¶ä»–åœ°æ–¹å·²ç¶“æ²’æœ‰è¢«å¼•ç”¨ï¼Œè©²å€¼ä»æœƒå­˜åœ¨æ–¼ Set ç•¶ä¸­ï¼Œä¸æœƒè¢«åƒåœ¾å›æ”¶ã€‚ä½†å¦‚æœæ˜¯ WeakSetï¼Œå‰‡æœƒè¢«åƒåœ¾å›æ”¶ã€‚å¦‚æœè¦æ›´æœ‰æ„è­˜åœ°åšè¨˜æ†¶é«”ç®¡ç†ï¼ŒWeakSet åœ¨è¨±å¤šæ™‚å€™èƒ½æ´¾ä¸Šç”¨å ´ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">disableElements&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">WeakSet&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">loginButton&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">querySelector&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#login&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">disableElements&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">loginButton&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä½¿ç”¨çš„æ™‚å€™é€šéæŸ¥è©¢å…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­ï¼Œå°±å¯ä»¥çŸ¥é“å®ƒæ˜¯å¦è¢«ç¦ç”¨ã€‚è€Œä¸€æ—¦å…ƒç´ ä»DOMæ¨¹ä¸­åˆ é™¤ï¼Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// WeakMapä¹Ÿæœƒé‡‹æ”¾å…¶å†…å­˜ï¼ˆç‚ºäº†åš´è¬¹ï¼Œå‡è¨­æ²¡æœ‰å…¶å®ƒåœ°æ–¹å¼•ç”¨é€™å€‹å°è±¡ï¼‰ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">disableElements&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">has&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">loginButton&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr></description></item><item><title>ã€Tampermonkeyã€‘è¼•é¬†ä¸Šæ‰‹ - æ²¹çŒ´è…³æœ¬é–‹ç™¼</title><link>https://wayneblog.ga/2022-12-15/tampermonkey-userscript-tutorial/</link><pubDate>Thu, 15 Dec 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-12-15/tampermonkey-userscript-tutorial/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52564977913_09952966be_o.jpg" alt="Featured image of post ã€Tampermonkeyã€‘è¼•é¬†ä¸Šæ‰‹ - æ²¹çŒ´è…³æœ¬é–‹ç™¼" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://juejin.cn/post/7138346293042085924" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://juejin.cn/post/7022654292880424991" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>æ²¹çŒ´è…³æœ¬é‹è¡Œæ–¼&lt;a class="link" href="https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo?hl=zh-TW" target="_blank" rel="noopener"
>æ²¹çŒ´æ’ä»¶&lt;/a>ä¹‹ä¸Šï¼Œ&lt;a class="link" href="https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo?hl=zh-TW" target="_blank" rel="noopener"
>æ²¹çŒ´æ’ä»¶&lt;/a>æœ¬è³ªä¸Šå°ç€è¦½å™¨èƒ½åŠ›çš„å†å°è£ã€‚æ—¢ç„¶å¦‚æ­¤ï¼Œæˆ‘å€‘å…ˆä¾†ç°¡å–®äº†è§£ä¸€ä¸‹ç€è¦½å™¨æ’ä»¶ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ç€è¦½å™¨æ’ä»¶browser-extensionç€è¦½å™¨çš„æ“´å±•æ‡‰ç”¨">ç€è¦½å™¨æ’ä»¶(Browser Extension)ï¼šç€è¦½å™¨çš„æ“´å±•æ‡‰ç”¨&lt;/h2>
&lt;p>èªªçš„ç›´ç™½ä¸€é»ï¼Œå°±æ˜¯æ‹¿è‘—ç€è¦½å™¨é–‹æ”¾çš„èƒ½åŠ›(æ’ä»¶API)ï¼Œå»å¯¦ç¾ä¸€äº›å°å‹æ‡‰ç”¨ã€‚&lt;/p>
&lt;p>ç€è¦½å™¨æ’ä»¶ä¸»è¦ç”±å››éƒ¨åˆ†æ§‹æˆï¼šbackground scriptsã€content scriptsã€å…¨å±€ UI å…ƒç´ ã€options pageã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;strong>background scrips&lt;/strong>: å¾Œå°è…³æœ¬ï¼Œä¸€å€‹å¾Œå°è…³æœ¬æ˜¯ä¸€å€‹ç¨ç«‹ç·šç¨‹ï¼Œæ˜¯æ¸¸é›¢æ–¼å„å€‹é é¢ä¹‹å¤–çš„&amp;quot;ä¸Šå¸ä¹‹çœ¼&amp;quot;ã€‚å…·æœ‰è¨ªå•å„é¡æ’ä»¶ API çš„èƒ½åŠ›ï¼Œä½†åŒæ™‚ä¹Ÿå–ªå¤±äº†ç›´æ¥æ“ä½œé é¢çš„èƒ½åŠ›ã€‚&lt;/li>
&lt;li>&lt;strong>content scripts&lt;/strong>ï¼šå…§å®¹è…³æœ¬ï¼Œå…·æœ‰ç›´æ¥æ“ä½œé é¢çš„èƒ½åŠ›ã€‚å…¶å¯¦å°±æ˜¯åœ¨é é¢ä¸­é‹è¡Œ js è…³æœ¬ï¼Œå¯ä»¥ä½¿ç”¨ DOM APIã€‚&lt;code>content script&lt;/code> åªèƒ½ç›´æ¥è¨ªå•å°‘é‡æ’ä»¶ APIï¼Œä½†èƒ½å’Œ &lt;code>background script&lt;/code> é€²è¡Œé›™å‘é€šä¿¡å®Œæˆæ•¸æ“šäº¤æ›ã€‚&lt;/li>
&lt;li>&lt;strong>å…¨å±€ UI å…ƒç´ &lt;/strong>ï¼šç€è¦½å™¨å±¤çš„UI äº¤äº’ï¼ŒåŒ…æ‹¬ï¼š
&lt;ul>
&lt;li>åœ¨ Toolbar é¡¯ç¤º iconï¼Œå®šç¾©é»æ“Š icon å¾Œé¡¯ç¤ºçš„ Popup æˆ–å…¶ä»–æ•ˆæœ&lt;/li>
&lt;li>å¢åŠ å³éµé¸é …&lt;/li>
&lt;li>å¢åŠ å…¨å±€å¿«æ·éµ&lt;/li>
&lt;li>æ”¹é€ æ–°Tab é ã€æ­·å²è¨˜éŒ„é ã€æ›¸ç±¤é &lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>options page&lt;/strong>ï¼šæ’ä»¶é…ç½®é ã€‚&lt;/li>
&lt;/ul>
&lt;p>ç€è¦½å™¨æ’ä»¶çš„æ ¸å¿ƒæ©Ÿåˆ¶å¯ä»¥ç”¨ä¸‹åœ–ç°¡å–®æ¦‚æ‹¬ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52564900330_0ebd02f71f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æƒ³å¿…ï¼Œå¤§å®¶æœ€å¥½å¥‡çš„é‚„æ˜¯æœ‰å“ªäº› API ä»¥åŠèƒ½ç”¨é€™äº› API åšä»€éº¼ï¼Œé€™è£¡ä¾‹èˆ‰å¹¾å€‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>contextMenus&lt;/strong>ï¼šå¢åŠ å³éµé¸é …ã€‚
&lt;ul>
&lt;li>ä½¿ç”¨é¸ä¸­æ–‡æœ¬ï¼Œä¾‹å¦‚ï¼šåŠƒè©ç¿»è­¯ã€æ–‡æœ¬æ”¶é›†&lt;/li>
&lt;li>å¿«é€Ÿèª¿ç”¨æ’ä»¶åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šæ‰“é–‹ DevToolï¼Œé é¢å‰ªè—&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>cookies&lt;/strong>ï¼šå¢åˆªæ”¹æŸ¥ cookie(ä»»æ„åŸŸå)ï¼Œç›´æ¥æ‹¿è‘—æœ¬åœ° cookie ç™¼é€è«‹æ±‚ï¼Œä¸å¿…å†åšæˆæ¬Šã€‚åŒæ™‚ç”±æ–¼å¾Œå°è…³æœ¬ä¸æ˜¯ Web é é¢ï¼Œåœ¨ç™¼é€è«‹æ±‚æ™‚æ²’æœ‰è·¨åŸŸé™åˆ¶ã€‚
&lt;ul>
&lt;li>å¤šå¹³å°ä¿¡æ¯èšåˆ&lt;/li>
&lt;li>å¤šå¹³å°ä¿¡æ¯åˆ†ç™¼&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>devtools.panels&lt;/strong>ï¼šå¢åŠ  Devtool é¢æ¿ï¼Œé€™å€‹å°å‰ç«¯é–‹ç™¼è€…ä¾†èªªæ‡‰è©²å¾ˆç†Ÿæ‚‰ï¼ŒReact Developer Toolsã€Vue.js devtoolsã€‚&lt;/li>
&lt;li>&lt;strong>notifications&lt;/strong>ï¼šç€è¦½å™¨é€šçŸ¥ï¼Œæœªæ‰“é–‹é é¢çš„æƒ…æ³ä¸‹é€²è¡Œé€šçŸ¥ï¼Œå¯ä»¥è¼”åŠ©ä¸€äº›å·¥å…·é¡æ‡‰ç”¨ã€‚&lt;/li>
&lt;li>&lt;strong>storage&lt;/strong>ï¼šå…¨å±€ä¿å­˜æ•¸æ“šï¼Œå¯è·Ÿéš¨ç€è¦½å™¨å¸³æˆ¶åŒæ­¥ã€‚&lt;/li>
&lt;/ul>
&lt;p>é€™è£¡ä¾‹èˆ‰çš„åªæ˜¯æˆ‘å¸¸ç”¨çš„ä¸€äº›ï¼Œåªæ˜¯æ»„æµ·ä¸€ç²Ÿï¼Œæ›´å¤š API å¯ä»¥æŸ¥é–±ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://developer.chrome.com/docs/extensions/reference/" target="_blank" rel="noopener"
>Chrome Extension API Reference&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://learn.microsoft.com/zh-cn/microsoft-edge/extensions-chromium/developer-guide/api-support" target="_blank" rel="noopener"
>æ”¯æŒç”¨æ–¼æ“´å±•Microsoft Edge API&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API" target="_blank" rel="noopener"
>Mozilla WebExtensions API&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ç€è¦½å™¨æ’ä»¶å°±ç°¡å–®ä»‹ç´¹åˆ°é€™è£¡ï¼Œå¦‚æœæœ‰èˆˆè¶£ç¹¼çºŒäº†è§£ï¼Œæ¨è–¦ï¼š&lt;a class="link" href="https://developer.chrome.com/docs/extensions/mv3/getstarted/" target="_blank" rel="noopener"
>Chrome&lt;/a>ã€&lt;a class="link" href="https://learn.microsoft.com/zh-cn/microsoft-edge/extensions-chromium/getting-started/" target="_blank" rel="noopener"
>Edge&lt;/a>ã€&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Mozilla/Add-ons/WebExtensions" target="_blank" rel="noopener"
>Mozilla&lt;/a>ä¸‰å®¶çš„æ–‡æª”ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æ²¹çŒ´æ’ä»¶tampermonkey">æ²¹çŒ´æ’ä»¶(Tampermonkey)&lt;/h2>
&lt;p>ç€è¦½å™¨æ’ä»¶å¯ä»¥å¯¦ç¾å„å¼å„æ¨£çš„åŠŸèƒ½ï¼Œä½†æœ‰æ™‚å€™é–‹ç™¼è€…åªæ˜¯æƒ³å°æŸä¸€å€‹ç«™é»åŠ ä¸€é»é»å°åŠŸèƒ½ï¼Œå¦‚æœé€™ä¹Ÿè¦æ§‹å»ºç’°å¢ƒæ‰“åŒ…ä¸Šæ¶åˆ†ç™¼ï¼Œæœªå…å°±å¤ªéº»ç…©äº†ä¸€äº›ï¼›å¾æ‡‰ç”¨å¸‚å ´è§’åº¦ä¾†çœ‹ï¼Œå……æ–¥è‘—é¡†ç²’åŒ–çš„æ‡‰ç”¨ï¼Œå¸‚å ´ä¹Ÿæœƒæ“æ“ ç¹é›œä¸å ªã€‚&lt;/p>
&lt;p>æ²¹çŒ´æ’ä»¶ç‚ºè¼•é‡åŒ–è…³æœ¬æä¾›äº†ä¸€å€‹å¹³å°ï¼Œåœ¨ç·šç·¨è¼¯å™¨ä¸­ç·¨å¯«æ²¹çŒ´è…³æœ¬å³æ™‚ç”Ÿæ•ˆï¼Œé€šé Githubã€GreasyFork å¿«é€Ÿåˆ†ç™¼ã€‚&lt;/p>
&lt;p>åœ¨æ²¹çŒ´æ’ä»¶ä¸­ï¼Œ&lt;code>content script&lt;/code> èµ·åˆ°éå¸¸é‡è¦çš„è§’è‰²ï¼Œå®ƒå°‡ç”¨æˆ¶ç·¨å¯«çš„ä»£ç¢¼é‹è¡Œåœ¨é é¢ä¸­ï¼ŒåŒæ™‚æä¾› &lt;code>GM_xxxx&lt;/code> å‡½æ•¸å°è£ç€è¦½å™¨çš„éƒ¨åˆ†èƒ½åŠ›ã€‚å°è£çš„å…§éƒ¨å¯¦ç¾æ˜¯å’Œ &lt;code>background script&lt;/code> é€šä¿¡ï¼Œé©…å‹• &lt;code>background script&lt;/code> èª¿ç”¨æ’ä»¶APIã€‚&lt;/p>
&lt;p>å°æ²¹çŒ´æ’ä»¶ç°¡å–®äº†è§£ä¹‹å¾Œï¼Œä¾†çœ‹çœ‹å¦‚ä½•ç·¨å¯«æ²¹çŒ´è…³æœ¬ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="tampermonkey-api">Tampermonkey API&lt;/h2>
&lt;p>æ²¹çŒ´è…³æœ¬ç”±&lt;strong>é ­éƒ¨&lt;/strong>å’Œ&lt;strong>æ ¸å¿ƒé‚è¼¯&lt;/strong>å…©éƒ¨åˆ†çµ„æˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ==UserScript==
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @name New Userscript
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @namespace http://tampermonkey.net/
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @version 0.1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @description try to take over the world!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @author You
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @match https://www.tampermonkey.net/documentation.php?ext=dhdg
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @icon https://www.google.com/s2/favicons?domain=tampermonkey.net
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @grant none
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ==/UserScript==
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;use strict&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Your code here...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é ­éƒ¨">é ­éƒ¨&lt;/h3>
&lt;p>&lt;strong>é ­éƒ¨&lt;/strong>æ˜¯è…³æœ¬çš„ä¸€äº›å…ƒä¿¡æ¯ã€æ›´æ–°æ–¹å¼ã€æŒ‡å®šé‹è¡Œé é¢ã€æ¬Šé™è²æ˜ï¼Œé€ä¸€è§£é‡‹ä¸€ä¸‹ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>é…ç½®å&lt;/th>
&lt;th>ä½œç”¨&lt;/th>
&lt;th>ä½¿ç”¨æŠ€å·§&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>@name&lt;/strong>&lt;/td>
&lt;td>è…³æœ¬é¡¯ç¤ºçš„åç¨±&lt;/td>
&lt;td>åŠ å¾Œç¶´å¯¦ç¾åœ‹éš›åŒ–ï¼Œä¾‹å¦‚ï¼š&lt;br/>&lt;strong>@name:zh-CN&lt;/strong> æŒ‡å®šåœ¨ç€è¦½å™¨èªè¨€ç‚ºä¸­æ–‡æ™‚é¡¯ç¤ºçš„åç¨±&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@namespace&lt;/strong>&lt;/td>
&lt;td>è…³æœ¬çš„å‘½åç©ºé–“ï¼Œå¯ä»¥ç†è§£ç‚ºè…³æœ¬çš„æ¨™è­˜&lt;/td>
&lt;td>ç‚ºäº†é¿å…è¡çªä¸€èˆ¬ä½¿ç”¨ Github å€‰åº«åœ°å€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@version&lt;/strong>&lt;/td>
&lt;td>èˆ‡æ›´æ–°ç›¸é—œï¼Œç•¶å‰ç‰ˆæœ¬&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@updateURL&lt;/strong>&lt;/td>
&lt;td>æª¢æŸ¥è…³æœ¬æ˜¯å¦æ›´æ–°åœ°å€&lt;/td>
&lt;td>é…åˆ &lt;strong>@version&lt;/strong> å’Œè‡ªå‹•æ›´æ–°ä½¿ç”¨&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@downloadURL&lt;/strong>&lt;/td>
&lt;td>æª¢æ¸¬åˆ°æ›´æ–°æ™‚ï¼Œå»å“ªä¸‹è¼‰è…³æœ¬&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@supportURL&lt;/strong>&lt;/td>
&lt;td>é‡åˆ°å•é¡Œæ™‚ï¼Œç”¨æˆ¶å»å“ªåé¥‹&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@include&lt;/strong>&lt;/td>
&lt;td>è…³æœ¬åœ¨å“ªäº›é é¢é‹è¡Œ&lt;/td>
&lt;td>å¯ä½¿ç”¨æ­£å‰‡ï¼Œä¸æ”¯æŒ hashtagï¼Œå¤šå€‹é é¢çš„åœ°å€è²æ˜å¤šå€‹ &lt;strong>@include&lt;/strong> å³å¯&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@match&lt;/strong>&lt;/td>
&lt;td>èˆ‡ &lt;strong>@include&lt;/strong> é¡ä¼¼&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@exclude&lt;/strong>&lt;/td>
&lt;td>è…³æœ¬ç¦æ­¢åœ¨å“ªäº›é é¢é‹è¡Œï¼Œå„ªå…ˆæ–¼ &lt;strong>@include&lt;/strong>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@require&lt;/strong>&lt;/td>
&lt;td>åœ¨è…³æœ¬é‹è¡Œå‰å¼•å…¥å¤–éƒ¨ JavaScript æ–‡ä»¶&lt;/td>
&lt;td>ä¾‹å¦‚ï¼šå¼•å…¥ jQuery&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@resource&lt;/strong>&lt;/td>
&lt;td>è²æ˜å¤–éƒ¨è³‡æºæ–‡ä»¶ï¼Œæ­é… &lt;strong>GM_getResourceText&lt;/strong> ä½¿ç”¨&lt;/td>
&lt;td>ä¾‹å¦‚ï¼šå¼•å…¥ htmlã€icon&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@connect&lt;/strong>&lt;/td>
&lt;td>è²æ˜ &lt;strong>GM_xmlhttpRequest&lt;/strong> å¯è¨ªå•çš„åŸŸ&lt;/td>
&lt;td>å¿…é ˆæŒ‡å®šæ‰èƒ½æ­£å¸¸è«‹æ±‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@grant&lt;/strong>&lt;/td>
&lt;td>è²æ˜ &lt;strong>GM_xxx&lt;/strong> å‡½æ•¸çš„ä½¿ç”¨åˆ—è¡¨&lt;/td>
&lt;td>å¿…é ˆå…ˆæŒ‡å®šæ¬Šé™æ‰èƒ½æ­£å¸¸ä½¿ç”¨&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@run-at&lt;/strong>&lt;/td>
&lt;td>æŒ‡å®šè…³æœ¬é‹è¡Œæ™‚æ©Ÿ&lt;/td>
&lt;td>document-startï¼šç›¡å¿«åŸ·è¡Œ&lt;br/>document-bodyï¼šç•¶ body æ›è¼‰æ™‚åŸ·è¡Œ&lt;br/>document-endï¼šDOMContentLoaded è§¸ç™¼æ™‚åŸ·è¡Œ&lt;br/>document-idleï¼šDOMContentLoaded è§¸ç™¼å¾ŒåŸ·è¡Œï¼Œä¹Ÿæ˜¯é»˜èªè¨­ç½®é …&lt;br/>context-menu: å³éµèœå–®é …è¢«é»æ“Šæ™‚åŸ·è¡Œ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@author&lt;/strong>&lt;/td>
&lt;td>ä½œè€…å&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@description&lt;/strong>&lt;/td>
&lt;td>ç°¡çŸ­ä»‹ç´¹&lt;/td>
&lt;td>åŒæ¨£å¯ä»¥åŠ å¾Œç¶´å¯¦ç¾åœ‹éš›åŒ–ï¼Œä¾‹å¦‚ï¼š&lt;br/>&lt;strong>@description:zh-CN&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@homepage&lt;/strong>&lt;/td>
&lt;td>ä¸»é åœ°å€&lt;/td>
&lt;td>å¦‚æœæœªè¨­ç½®ä¸¦ä¸” &lt;strong>@namespace&lt;/strong> æ˜¯å€‰åº«åœ°å€ï¼Œé»˜èªå°å‘å€‰åº«åœ°å€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@icon&lt;/strong>&lt;/td>
&lt;td>è…³æœ¬ icon&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@icon64&lt;/strong>&lt;/td>
&lt;td>64x64 åƒç´ çš„è…³æœ¬ icon&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@antifeature&lt;/strong>&lt;/td>
&lt;td>è…³æœ¬æ˜¯å¦æœ‰å»£å‘Šã€æŒ–ç¤¦ã€æ•¸æ“šæ”¶é›†ç­‰å•†æ¥­è¡Œç‚º&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>@noframes&lt;/strong>&lt;/td>
&lt;td>è²æ˜è…³æœ¬ä¸åœ¨ iframe ä¸­é‹è¡Œ&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="æ ¸å¿ƒé‚è¼¯">æ ¸å¿ƒé‚è¼¯&lt;/h3>
&lt;p>&lt;strong>æ ¸å¿ƒé‚è¼¯&lt;/strong>é€šéä¸€å€‹ç«‹å³åŸ·è¡Œå‡½æ•¸åŒ…è£¹ï¼Œé¿å…å’Œå…¨å±€ä½œç”¨åŸŸç›¸äº’å¹²æ“¾ã€‚Tampermonkey å°‡ç€è¦½å™¨çš„éƒ¨åˆ†èƒ½åŠ›å°è£ç‚º &lt;code>GM_XXX&lt;/code> å‡½æ•¸ä»¥ä¾›èª¿ç”¨ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>API&lt;/th>
&lt;th>ä½œç”¨&lt;/th>
&lt;th>ä½¿ç”¨æŠ€å·§&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>unsafeWindow&lt;/strong>&lt;/td>
&lt;td>è¨ªå•é é¢çš„ Window å°è±¡&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_addStyle(css)&lt;/strong>&lt;/td>
&lt;td>å‰µå»ºå…¨å±€æ¨£å¼çš„å¿«æ·æ–¹å¼ï¼Œå‘é é¢æ’å…¥ style å…ƒç´ &lt;/td>
&lt;td>ä¹Ÿå¯ä»¥ç”¨ DOM æ“ä½œæ‰‹å‹•å‰µå»º&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_addElement(tag_name, attributes)&lt;/strong>&lt;br/>&lt;strong>GM_addElement(parent_node, tag_name, attributes)&lt;/strong>&lt;/td>
&lt;td>å‘ DOM æ–°å»ºå…ƒç´ çš„å¿«æ·æ–¹å¼&lt;/td>
&lt;td>ä¹Ÿå¯ä»¥ç”¨ DOM æ“ä½œæ‰‹å‹•å‰µå»º&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_log(message)&lt;/strong>&lt;/td>
&lt;td>åœ¨ Console ä¸­æ‰“å°ä¿¡æ¯&lt;/td>
&lt;td>console.log çš„å¿«æ·æ–¹å¼&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_getValue(name, defaultValue)&lt;/strong>&lt;/td>
&lt;td>å¾å­˜å„²é«”ä¸­ç²å–æ•¸æ“š&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_deleteValue(name)&lt;/strong>&lt;/td>
&lt;td>å¾å­˜å„²é«”ä¸­åˆªé™¤æ•¸æ“š&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_listValues()&lt;/strong>&lt;/td>
&lt;td>åˆ—èˆ‰å­˜å„²é«”ä¸­æ‰€æœ‰æ•¸æ“šé …&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_addValueChangeListener&lt;/strong>&lt;/td>
&lt;td>ç›£è½æ•¸æ“šæ›´æ–°&lt;/td>
&lt;td>ä¾‹å¦‚è¦ä½¿ Tab é–“æ•¸æ“šåŒæ­¥ï¼Œå¯ä»¥ç”¨ç›£è½ value é”æˆåŒæ­¥&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_removeValueChangeListener&lt;/strong>&lt;/td>
&lt;td>ç§»é™¤ç›£è½&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_getResourceText(name)&lt;/strong>&lt;/td>
&lt;td>ç²å– &lt;strong>@resource&lt;/strong> ä¸­å·²è²æ˜çš„è³‡æº&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_getResourceURL(name)&lt;/strong>&lt;/td>
&lt;td>ç²å– &lt;strong>@resource&lt;/strong> ä¸­å·²è²æ˜çš„è³‡æº(base64 URI å½¢å¼)&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_registerMenuCommand(name, fn, accessKey)&lt;/strong>&lt;/td>
&lt;td>åœ¨ Tampermonkey çš„ popup ä¸­å¢åŠ é¸é …&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_unregisterMenuCommand(menuCmdId)&lt;/strong>&lt;/td>
&lt;td>ç§»é™¤é¸é …&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_openInTab(url, options)&lt;/strong>&lt;/td>
&lt;td>æ–°é–‹ä¸€å€‹ tab é &lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_xmlhttpRequest(details)&lt;/strong>&lt;/td>
&lt;td>ä½¿ç”¨å¾Œå°è…³æœ¬é€²è¡Œè«‹æ±‚ï¼Œè‡ªå‹•å¸¶ä¸Š cookieï¼Œç„¡è·¨åŸŸå•é¡Œï¼Œç›®æ¨™åŸŸéœ€è¦åœ¨ &lt;strong>@connect&lt;/strong> ä¸­æå‰è²æ˜&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_download(details)&lt;/strong>&lt;/td>
&lt;td>ä¸‹è¼‰è³‡æºåˆ°æœ¬åœ°&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_getTab(callback)&lt;/strong>&lt;/td>
&lt;td>ç²å–ç•¶å‰ tab çš„ object å°è±¡&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_saveTab(tab)&lt;/strong>&lt;/td>
&lt;td>é€šé tab çš„ object å°è±¡é‡æ–°æ‰“é–‹ä¸€å€‹ tab&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_getTabs(callback)&lt;/strong>&lt;/td>
&lt;td>ç²å–ç•¶å‰å­˜æ´»çš„æ‰€æœ‰ tab çš„å°è±¡ï¼Œä»¥ä¾¿å’Œå…¶ä»–è…³æœ¬å¯¦ä¾‹æºé€š&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_notification&lt;/strong>&lt;/td>
&lt;td>ä½¿ç”¨æ’ä»¶ notification API å½ˆå‡ºæ¡Œé¢é€šçŸ¥&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_setClipboard&lt;/strong>&lt;/td>
&lt;td>è¤‡è£½å…§å®¹åˆ°å‰ªè²¼æ¿&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>GM_info&lt;/strong>&lt;/td>
&lt;td>ç²å–è…³æœ¬çš„æ²¹çŒ´æ’ä»¶çš„ä¿¡æ¯&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>å®Œæ•´çš„èªªæ˜æ–‡æª”ï¼š&lt;a class="link" href="https://www.tampermonkey.net/documentation.php" target="_blank" rel="noopener"
>Tampermonkey documentation&lt;/a>&lt;/p>
&lt;h2 id="å¯¦è¸æ‰“å°-hello-world">å¯¦è¸ï¼šæ‰“å° &amp;ldquo;Hello, World&amp;rdquo;&lt;/h2>
&lt;p>åšä¸€å€‹éå¸¸ç°¡å–®çš„å°ç·´ç¿’ï¼šå‰µå»ºä¸€å€‹åç‚º &amp;ldquo;Hello&amp;rdquo; çš„è…³æœ¬ï¼Œç•¶é€²å…¥æ˜é‡‘å’ŒçŸ¥ä¹é é¢æ™‚ï¼Œåœ¨ Console ä¸­æ‰“å° &amp;ldquo;Hello, World&amp;rdquo;ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52564900350_360ca23caf_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;ol>
&lt;li>æ–°å»ºè…³æœ¬&lt;/li>
&lt;li>ä¿®æ”¹è…³æœ¬åç¨±&lt;/li>
&lt;li>æŒ‡å®šé‹è¡Œåœ°å€ &lt;code>@match&lt;/code> æˆ– &lt;code>@include&lt;/code>&lt;/li>
&lt;li>ç›´æ¥ä½¿ç”¨ &lt;code>console.log&lt;/code> æˆ–è€…è²æ˜æ¬Šé™èª¿ç”¨ &lt;code>GM_log&lt;/code>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ==UserScript==
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @name Hello
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @namespace http://tampermonkey.net/hello
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @version 0.1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @description try to take over the world!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @author You Name
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @match https://zhihu.com/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @match https://juejin.cn/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @grant GM_log
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ==/UserScript==
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;use strict&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">GM_log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Hello World&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="æ­å»ºèˆ’é©çš„é–‹ç™¼ç’°å¢ƒ">æ­å»ºèˆ’é©çš„é–‹ç™¼ç’°å¢ƒ&lt;/h2>
&lt;p>ä½¿ç”¨åœ¨ç·šç·¨è¼¯å™¨å°è©¦ç‰›åˆ€ä¹‹å¾Œï¼Œæˆ–è¨±ä½ ä¹Ÿç™¼ç¾åœ¨ç·šç·¨è¼¯å™¨ï¼š&lt;/p>
&lt;ul>
&lt;li>ç¼ºå°‘èªæ³•è£œå…¨å’Œè‡ªå‹•æç¤º&lt;/li>
&lt;li>é›£ä»¥æ ¼å¼åŒ–ä»£ç¢¼&lt;/li>
&lt;/ul>
&lt;p>ä¸å…æ‡·å¿µèµ· VSCodeã€‚&lt;/p>
&lt;p>æˆ–è¨±ä½ é‚„æœƒæœ‰æ›´æ·±é çš„è€ƒæ…®ï¼Œåœ¨ç·šç·¨è¼¯å™¨ç·¨è¼¯å®Œæˆå¾Œï¼š&lt;/p>
&lt;ul>
&lt;li>æ€éº¼åŒæ­¥åˆ°é ç¨‹å€‰åº«ï¼Œæ€éº¼åšä»£ç¢¼åˆ†ç™¼&lt;/li>
&lt;li>å¦‚æœè¦ç”¨åˆ°æ–°èªæ³•ï¼Œæ€éº¼ä¿è­‰è·¨ç€è¦½å™¨å…¼å®¹æ€§&lt;/li>
&lt;li>å¦‚æœä»£ç¢¼è¶Šå¯«è¶Šå¤šï¼Œæ²’æœ‰æ¨¡å¡ŠåŒ–æ€éº¼ç®¡ç†&lt;/li>
&lt;li>æ²’æœ‰ TSï¼Œå¾ˆé›£ä¿è­‰é•·æœŸç¶­è­·&lt;/li>
&lt;/ul>
&lt;p>é€™äº›å‘æˆ‘å·²ç¶“è¸©éäº†ï¼Œä¸¦ä¸”æŠ½å‡ºä¸€å€‹è…³æ‰‹æ¶å·¥å…· &lt;a class="link" href="https://www.npmjs.com/package/create-tampermonkey" target="_blank" rel="noopener"
>create-tampermonkey - npm (npmjs.com)&lt;/a>ï¼Œä¸€éµæ­å»ºèˆ’é©çš„æ²¹çŒ´è…³æœ¬é–‹ç™¼ç’°å¢ƒã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52564900355_5c5dab79e3_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>è…³æ‰‹æ¶é›†æˆ rollup + babel + eslint + typescriptï¼Œæ”¯æŒï¼š&lt;/p>
&lt;ul>
&lt;li>è‡ªå‹•ç”Ÿæˆ UserScript Header&lt;/li>
&lt;li>èªæ³•å’Œé¡å‹ç³»çµ±ï¼šESNextã€ES Moduleã€TypeScript&lt;/li>
&lt;li>æ¨£å¼ç³»çµ±ï¼šCSS Modulesï¼Œä»¥åŠ scssã€sassã€lessã€stylus (éœ€å®‰è£å°æ‡‰ä¾è³´)&lt;/li>
&lt;li>éœæ…‹è³‡æºï¼šå°å…¥åœ–ç‰‡ã€SVG è½‰æ›ç‚º Base64ï¼ŒåŒæ™‚æ”¯æŒ SVG Sprite å¤šèªè¨€&lt;/li>
&lt;li>æ“´å±•ï¼šåŸºæ–¼ Rollupï¼Œå¯ä»¥æŒ‰éœ€å®‰è£æ’ä»¶é€²è¡Œæ“´å±•&lt;/li>
&lt;/ul>
&lt;h3 id="create-tampermonkey-å•Ÿå‹•é …ç›®">&lt;strong>create-tampermonkey&lt;/strong> å•Ÿå‹•é …ç›®&lt;/h3>
&lt;h4 id="åˆå§‹åŒ–é …ç›®">åˆå§‹åŒ–é …ç›®&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx create-tampermonkey demo-userscript
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æˆ–è€…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm init tampermonkey demo-userscript
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æˆ–è€…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yarn create tampermonkey demo-userscript
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åˆå§‹åŒ–å®Œç•¢å¾Œé€²å…¥ç›®éŒ„å®‰è£ä¾è³´">åˆå§‹åŒ–å®Œç•¢å¾Œï¼Œé€²å…¥ç›®éŒ„å®‰è£ä¾è³´ã€‚&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run dev &lt;span class="c1"># è·‘èµ·é–‹ç™¼æ¨¡å¼&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52563988282_f3f5fd5df6_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="åˆ°ç€è¦½å™¨ä¸­æ‰“é–‹-devuserjsè‡ªå‹•é€²å…¥-tampermonkey-è…³æœ¬å®‰è£ç•Œé¢">åˆ°ç€è¦½å™¨ä¸­æ‰“é–‹ &lt;code>dev.user.js&lt;/code>ï¼Œè‡ªå‹•é€²å…¥ Tampermonkey è…³æœ¬å®‰è£ç•Œé¢ã€‚&lt;/h4>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52563988297_351ae5b113_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h4 id="æœ€å¾Œä¸€æ­¥é…ç½®æ²¹çŒ´æ’ä»¶">æœ€å¾Œä¸€æ­¥ï¼šé…ç½®æ²¹çŒ´æ’ä»¶&lt;/h4>
&lt;p>è¨ªå• &lt;a class="link" href="chrome://extension" >&lt;code>chrome://extension&lt;/code>&lt;/a>ï¼Œæ‰¾åˆ°æ²¹çŒ´æ’ä»¶çš„å¡ç‰‡ï¼Œé»æ“Š &lt;strong>Details&lt;/strong> é€²å…¥é…ç½®ç•Œé¢ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52564447881_bf4223c421_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å‹¾é¸ &lt;strong>Allow acess to file URLs&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52564447906_3a3c7d450d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>åˆ·æ–°é é¢ï¼Œå‡ºç¾å½ˆçª—ï¼Œä¸€åˆ‡å°±ç·’ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52564726624_5f584154d4_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç”¨ VSCode æ‰“é–‹é …ç›®ï¼Œé€™æ™‚å³ä¸‹è§’æœƒæ¨è–¦ä¸€äº›è¼”åŠ©æ’ä»¶ï¼Œå»ºè­°å®‰è£ã€‚&lt;/p>
&lt;p>ä»£ç¢¼ä¸­ä½¿ç”¨åˆ°çš„ &lt;code>GM_xxx&lt;/code> æœƒè‡ªå‹•æå–åˆ° UserScript Header ä¸­ï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥åœ¨ &lt;code>src/meta.json&lt;/code> ä¸­è‡ªå®šç¾©ã€‚&lt;/p>
&lt;p>ä»£ç¢¼çš„é»˜èªå…¥å£æ˜¯ &lt;code>src/main.js&lt;/code> æ–‡ä»¶ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å¯¦è¸æ˜é‡‘ç°½åˆ°åŠŸèƒ½">å¯¦è¸ï¼šæ˜é‡‘ç°½åˆ°åŠŸèƒ½&lt;/h2>
&lt;p>åŸºæ–¼ä¸Šé¢åˆå§‹åŒ–çš„é …ç›® &lt;code>demo-userscript&lt;/code> åšä¸€å€‹å°åŠŸèƒ½ï¼šæ˜é‡‘ç°½åˆ°åŠŸèƒ½ã€‚&lt;/p>
&lt;h3 id="å®šä½è«‹æ±‚">å®šä½è«‹æ±‚&lt;/h3>
&lt;p>&amp;ldquo;æ˜é‡‘ç°½åˆ°&amp;quot;æœ¬è³ªæ˜¯èª¿ç”¨æ¥å£ï¼Œæˆ‘å€‘çš„å¯¦ç¾æ€è·¯æ˜¯è¿½è¸ªé»æ“Š&amp;quot;ç«‹å³ç°½åˆ°&amp;quot;æŒ‰éˆ•æ™‚è«‹æ±‚ç™¼é€æƒ…æ³ï¼Œå®šä½åˆ°&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52564978003_bab32df628_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="èª¿è©¦æ¥å£">èª¿è©¦æ¥å£&lt;/h3>
&lt;p>æ‰“é–‹ Postman åšä¸€ä¸‹èª¿è©¦ï¼Œé€™è£¡æœ‰ä¸€å€‹å°å…¥å°æŠ€å·§ï¼šå³éµæ‹·è² &lt;strong>cURL&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52564447981_d70749ea73_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>åˆ° Postman ä¸­é€šé curl å°å…¥æ•´å€‹è«‹æ±‚ï¼šé»æ“Šå·¦å´é¢æ¿ä¸­çš„ import æŒ‰éˆ•ï¼Œé¸æ“‡ Raw text è²¼ä¸Šä¸Šä¸€æ­¥è¤‡è£½çš„å…§å®¹å³å¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52564726689_b0091f3b75_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="ç²å–åƒæ•¸">ç²å–åƒæ•¸&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52564978043_fe3c0edc6f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>åœ¨ Postman ä¸­ç™¼ç¾è«‹æ±‚éœ€è¦ &lt;code>aid&lt;/code>ã€&lt;code>uuid&lt;/code>ã€&lt;code>_signature&lt;/code> ä¸‰å€‹åƒæ•¸ï¼Œè©¦è©¦çœ‹ä¸å¸¶åƒæ•¸èƒ½å¦è«‹æ±‚æˆåŠŸï¼Œå…ˆç¢ºå®šå¥½å¿…ä¸å¯å°‘çš„åƒæ•¸å’Œè«‹æ±‚é ­ã€‚&lt;/p>
&lt;p>ç°¡å–®å˜—è©¦å¾Œï¼Œç™¼ç¾é€™è£¡ä¸¦ä¸éœ€è¦å¸¶ &lt;code>aid&lt;/code>ã€&lt;code>uuid&lt;/code>ã€&lt;code>_signature&lt;/code> ä¸‰å€‹åƒæ•¸ï¼Œä¸»è¦æ˜¯ä¾è³´ &lt;code>cookie&lt;/code>ï¼Œä½¿ç”¨ &lt;code>GM_xmlhttpRequest&lt;/code> æœƒè‡ªå‹•å¸¶ä¸Šå°æ‡‰çš„ &lt;code>cookie&lt;/code>ï¼Œäº‹æƒ…è®Šå¾—ç°¡å–®ã€‚&lt;/p>
&lt;p>ä¿®æ”¹ &lt;code>src/main.js&lt;/code> çš„ä»£ç¢¼ï¼š&lt;/p>
&lt;h5 id="srcmainjs">src/main.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">GM_xmlhttpRequest&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;https://api.juejin.cn/growth_api/v1/check_in&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">method&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;POST&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">headers&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;content-type&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;application/json&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;user-agent&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">navigator&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">userAgent&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">responseType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;json&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onload&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">status&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;success&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ç°½åˆ°æˆåŠŸ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">err_msg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆ·æ–°é é¢æ¸¬è©¦ä¸€ä¸‹ã€‚åœ¨å…¶ä»–ç«™é»åˆ·æ–°ä¸€ä¸‹å±…ç„¶ä¹Ÿå¯ä»¥ç™¼é€è«‹æ±‚ï¼Œé€™å°±æ˜¯æ’ä»¶æ²’æœ‰è·¨åŸŸé™åˆ¶çš„å„ªå‹¢äº†ã€‚&lt;/p>
&lt;p>å†åšä¸€ä¸‹ç¯€æµå„ªåŒ–ã€‚åˆ©ç”¨ &lt;code>GM_setValue&lt;/code> å’Œ &lt;code>GM_getValue&lt;/code> åšæŒçºŒå­˜å„²ã€‚&lt;/p>
&lt;h5 id="srcmainjs-1">src/main.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">storageKey&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;last_sign_timestamp&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å–å¾—ä¸Šä¸€æ¬¡ç°½åˆ°çš„æ—¥å­
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">lastSignNumberOfDays&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">GM_getValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">storageKey&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è¨ˆç®—ç¾åœ¨æ‰€åœ¨çš„æ—¥å­
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">currentNumberOfDays&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">valueOf&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">1000&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">24&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å¦‚æœä»Šå¤©å·²ç»è«‹æ±‚éï¼Œä¸å†è«‹æ±‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">currentNumberOfDays&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="nx">lastSignNumberOfDays&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">GM_xmlhttpRequest&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;https://api.juejin.cn/growth_api/v1/check_in&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">method&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;POST&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">headers&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;content-type&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;application/json&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;user-agent&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">navigator&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">userAgent&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">responseType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;json&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onload&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">status&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;success&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ç°½åˆ°æˆåŠŸ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">err_msg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ›´æ–°æœ€è¿‘ä¸€æ¬¡ç°½åˆ°çš„æ—¥å­
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">GM_setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">storageKey&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">currentNumberOfDays&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é›£å…æœƒé‡åˆ°éœ€è¦ç²å–æ•¸æ“šçš„æƒ…æ³ï¼Œå¯è¨ªå•çš„æ•¸æ“šä¸€èˆ¬æœ‰ä¸‰ç¨®ï¼š&lt;/p>
&lt;ol>
&lt;li>é é¢ä¸­åŒ…å«æ•¸æ“šï¼Œé€šéDOM ç²å–&lt;/li>
&lt;li>é€šéæ¥å£è«‹æ±‚å¾—åˆ°&lt;/li>
&lt;li>å­˜å„²åœ¨æœ¬åœ°å­˜å„²ä¸­ï¼ŒlocalStorage æˆ– cookie ä¹‹é¡&lt;/li>
&lt;/ol>
&lt;p>ç¢ºå®šæ–¹å¼å¾ˆç²—æš´ï¼š&lt;/p>
&lt;ol>
&lt;li>è¤‡è£½åƒæ•¸æˆ–åƒæ•¸å€¼åˆ°Element ä¸­æœç´¢&lt;/li>
&lt;li>æŸ¥çœ‹å‰é¢å¹¾å€‹è«‹æ±‚ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰è·¡å¯å¾ª&lt;/li>
&lt;li>åˆ° localStorage æˆ– cookie ä¸­æœç´¢&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h2 id="ç™¼å¸ƒè…³æœ¬">ç™¼å¸ƒè…³æœ¬&lt;/h2>
&lt;p>åœ¨æœ¬åœ°é–‹ç™¼å®Œè…³æœ¬ä¹‹å¾Œï¼Œ&lt;code>npm run build&lt;/code> æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬ä¸¦ä¸Šå‚³ä»£ç¢¼åˆ° Github æˆ– Giteeã€‚&lt;/p>
&lt;p>ç”¨ Github/Gitee ä¸Šæ–‡ä»¶çš„ &lt;strong>Raw URL&lt;/strong> å°±èƒ½ç›´æ¥å¯¦ç¾åˆ†ç™¼ã€‚å¦‚æœåœ¨ package.json ä¸­è¨­ç½®å¥½ &lt;code>repository&lt;/code>ï¼Œ&lt;code>create-tampermonkey&lt;/code> æœƒè‡ªå‹•ç”Ÿæˆ &lt;strong>Raw URL&lt;/strong> ä¸¦è³¦çµ¦ &lt;code>downloadURL&lt;/code>ã€&lt;code>updateURL&lt;/code>ã€‚&lt;/p>
&lt;p>ä½†é€™æ¨£åˆ†ç™¼å­˜åœ¨çš„å•é¡Œæ˜¯ç„¡æ³•çµ±è¨ˆä¸‹è¼‰é‡ã€å¾ç¶²çµ¡è¨ªå•çš„è§’åº¦è€ƒæ…®åŒæ™‚ç¶­è­· Github å’Œ Gitee å…©å€‹å€‰åº«ã€‚&lt;/p>
&lt;p>å¦ä¸€ç¨®åˆ†ç™¼æ–¹å¼æ˜¯ä¸Šå‚³åˆ°è…³æœ¬å¹³å° &lt;a class="link" href="https://greasyfork.org/zh-CN" target="_blank" rel="noopener"
>greasyfork.org/&lt;/a>ï¼Œç™»éŒ„å¾Œå³å¯ç™¼å¸ƒæ–°è…³æœ¬ï¼Œå¦‚æœä»£ç¢¼è¨—ç®¡åœ¨ Github æˆ– GitLab é‚„å¯ä»¥ä½¿ç”¨ &lt;strong>Webhooks&lt;/strong> å¯¦ç¾è‡ªå‹•æ›´æ–°ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="é–‹ç™¼æŠ€å·§">é–‹ç™¼æŠ€å·§&lt;/h2>
&lt;h3 id="èª¿è©¦æ²¹çŒ´è…³æœ¬">èª¿è©¦æ²¹çŒ´è…³æœ¬&lt;/h3>
&lt;p>æ²¹çŒ´è…³æœ¬çš„é‹è¡Œä¾è¨—æ–¼ &lt;code>background script&lt;/code> å’Œ &lt;code>content script&lt;/code>ï¼Œåœ¨èª¿è©¦å‰éœ€è¦å°é‹è¡Œç’°å¢ƒæœ‰æ‰€å€åˆ†ï¼Œä¾‹å¦‚ &lt;code>GM_xmlhttpRequest&lt;/code> è«‹æ±‚æ˜¯ &lt;code>background script&lt;/code> ç™¼å‡ºçš„ï¼ŒDOM è™•ç†å’Œè…³æœ¬é‚è¼¯æ˜¯ &lt;code>content script&lt;/code> åŸ·è¡Œçš„ã€‚&lt;/p>
&lt;p>ç¢ºå®šç’°å¢ƒä¹‹å¾Œï¼Œå°±å¯ä»¥ä½¿ç”¨å°æ‡‰çš„èª¿è©¦æ–¹å¼é€²è¡Œèª¿è©¦äº†ã€‚&lt;/p>
&lt;h4 id="èª¿è©¦-background-script">èª¿è©¦ &lt;code>background script&lt;/code>&lt;/h4>
&lt;p>é‚„æ˜¯è¨ªå• &lt;a class="link" href="chrome://extension" >chrome://extension&lt;/a>ï¼Œæ‰¾åˆ°æ²¹çŒ´æ’ä»¶çš„å¡ç‰‡ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52564726704_a5c5a856d5_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;code>inspect views&lt;/code> å¾Œé¢æœ‰å€‹ &lt;code>background.html&lt;/code>ï¼Œé»æ“Šä¸€ä¸‹å½ˆå‡º &lt;code>background script&lt;/code> çš„èª¿è©¦å½ˆçª—ã€‚&lt;/p>
&lt;h4 id="èª¿è©¦-content-script">èª¿è©¦ &lt;code>content script&lt;/code>&lt;/h4>
&lt;p>åœ¨ç¶²é inspect -&amp;gt; Sources -&amp;gt; Page ä¸‹æ‰¾åˆ° &lt;code>Tampermonkey&lt;/code> ç›®éŒ„ï¼Œé é¢ä¸­é‹è¡Œçš„æ²¹çŒ´è…³æœ¬ä»£ç¢¼éƒ½åœ¨é€™äº†ï¼Œé¸æ“‡ç›®æ¨™ï¼Œæ–·é»èª¿è©¦å³å¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52564726729_292f203646_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;h3 id="ç²å–-userid-ç­‰ä¿¡æ¯">ç²å– &lt;code>userId&lt;/code> ç­‰ä¿¡æ¯&lt;/h3>
&lt;p>æœ‰æ™‚å€™éœ€è¦æ‹¿ä¸€äº›é¡å¤–ä¿¡æ¯åšè«‹æ±‚ï¼Œä¸€èˆ¬æœ‰ä¸‰ç¨®æ–¹å¼ï¼š&lt;/p>
&lt;ol>
&lt;li>çœ‹çœ‹èƒ½ä¸èƒ½åœ¨é é¢ä¸­æœç´¢åˆ°ï¼Œé€šé DOM ç²å–&lt;/li>
&lt;li>çœ‹çœ‹æœ‰æ²’æœ‰æ¥å£å¯ä»¥èª¿ç”¨ç²å–&lt;/li>
&lt;li>çœ‹çœ‹æœ¬åœ°å­˜å„²è£¡æœ‰æ²’æœ‰&lt;/li>
&lt;/ol>
&lt;h3 id="ç›®æ¨™-dom-ç¯€é»æœªæ›è¼‰æ€éº¼è¾¦">ç›®æ¨™ DOM ç¯€é»æœªæ›è¼‰æ€éº¼è¾¦ï¼Ÿ&lt;/h3>
&lt;p>å¦‚æœç¯€é»æ˜¯åœ¨é¦–å±åŠ è¼‰çš„ï¼Œç²—æš´çš„æ–¹æ³•æ˜¯ä½¿ç”¨ &lt;code>setTimeout&lt;/code> åšä¸€ä¸‹å»¶æ™‚ã€‚&lt;/p>
&lt;p>ä½†å¦‚æœæ˜¯åœ¨äº¤äº’éç¨‹ä¸­æœ‰DOM æ›´æ–°ï¼Œå°±åªèƒ½å¼•å…¥ç›£è½æ©Ÿåˆ¶äº†ï¼Œä½¿ç”¨ &lt;code>MutationObserver&lt;/code> ä¾†å¯¦ç¾ã€‚&lt;/p>
&lt;p>å…·é«”çš„å¯¦ä¾‹å¯ä»¥çœ‹&lt;a class="link" href="https://juejin.cn/post/7012565266827739150" target="_blank" rel="noopener"
>ã€é–‹ç™¼è¨˜éŒ„ã€‘æ˜é‡‘&amp;quot;ç ´åœˆè¡Œå‹•&amp;rdquo; è¼”åŠ©è…³æœ¬- æ˜é‡‘(juejin.cn)&lt;/a>&lt;/p>
&lt;h3 id="æŸ¥çœ‹æ’ä»¶æºç¢¼">æŸ¥çœ‹æ’ä»¶æºç¢¼&lt;/h3>
&lt;p>ç€è¦½å™¨æ’ä»¶å®‰è£ä¹‹å¾Œï¼Œæ’ä»¶åŒ…è¢«ä¸‹è¼‰åˆ°æœ¬åœ°ç›®éŒ„ä¸­ï¼Œå¯é€šéä¸‹è¿°æ–¹æ³•è¨ªå•ã€‚&lt;/p>
&lt;p>è¨ªå• &lt;a class="link" href="chrome://version" >chrome://version&lt;/a>ï¼Œæ‰¾åˆ° Profile path(å­˜æ”¾ç”¨æˆ¶æ•¸æ“šçš„è·¯å¾‘)&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52563988382_afd8393105_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>è¨ªå• &lt;a class="link" href="chrome://extensions/" >chrome://extensions/&lt;/a>ï¼Œæ‰¾åˆ°ç›®æ¨™æ’ä»¶çš„ID&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52564900305_7278510b37_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å°‡ Profile Path å’Œæ’ä»¶ ID æ‹¼è£åœ¨ä¸€èµ· &lt;code>${Prifile Path}/Extensions/${Extension Id}&lt;/code>ï¼Œä¾¿æ˜¯æ’ä»¶åŒ…çš„è·¯å¾‘äº†ã€‚å‹æƒ…æç¤ºï¼Œé€šéå‘½ä»¤è¡Œè¨ªå•æ™‚éœ€è¦åœ¨ç©ºæ ¼å‰åŠ å€‹ &lt;code>\&lt;/code> è½‰ç¾©ä¸€ä¸‹ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ç¸½çµ">ç¸½çµ&lt;/h2>
&lt;p>ç€è¦½å™¨æ’ä»¶åˆ©ç”¨ç€è¦½å™¨èƒ½åŠ›é€²è¡ŒåŠŸèƒ½æ“´å±•ï¼Œå…·æœ‰è·¨åŸŸè«‹æ±‚ã€è®€å– cookieã€ç®¡ç†æ­·å²è¨˜éŒ„ã€è¨»å†Šå³éµé …ç­‰èƒ½åŠ›ã€‚&lt;/p>
&lt;p>ç€è¦½å™¨æ’ä»¶çš„èƒ½åŠ›å¾ˆè±å¯Œï¼Œèƒ½å¤ å¯¦ç¾è¤‡é›œçš„åŠŸèƒ½ã€‚ä½†å¦‚æœåªæ˜¯åšä¸€äº›é‡å°é é¢çš„æ“ä½œï¼Œåªéœ€è¦ä¾è³´åŸºç¤èƒ½åŠ›ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨æ²¹çŒ´è…³æœ¬å¯¦ç¾ï¼Œé–‹ç™¼æ›´ä¾¿æ·åˆ†ç™¼æ›´è¿…é€Ÿã€‚&lt;/p>
&lt;p>é–‹ç™¼æ²¹çŒ´è…³æœ¬ï¼Œä¸»è¦æ˜¯ä½¿ç”¨ Tampermonkey API å’Œ JavaScriptã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://www.npmjs.com/package/create-tampermonkey" target="_blank" rel="noopener"
>create-tampermonkey&lt;/a> è…³æ‰‹æ¶æä¾›ä¸€å€‹å…¨é¢çš„æ²¹çŒ´è…³æœ¬é–‹ç™¼ç’°å¢ƒï¼Œä¾æ‰˜é€™å€‹ç’°å¢ƒï¼Œå¯ä»¥ä½¿ç”¨æœ€æ–°çš„ ES èªæ³•ã€TypeScriptã€CSS Modulesï¼Œåœ¨ VSCode ä¸­é€²è¡Œæ¨¡å¡ŠåŒ–é–‹ç™¼ï¼Œå¤§å¤§æé«˜é–‹ç™¼æ•ˆç‡ã€‚&lt;/p>
&lt;p>é–‹ç™¼å®Œç•¢çš„æ²¹çŒ´è…³æœ¬å¯é€šé Github/Gitee Raw URL æˆ– &lt;a class="link" href="https://greasyfork.org/zh-CN" target="_blank" rel="noopener"
>Greasy Fork&lt;/a> å¹³å°åˆ†ç™¼ã€‚&lt;/p>
&lt;p>ç€è¦½å™¨æ’ä»¶çš„ä¸»è¦åˆ†å·¥ç‚º &lt;code>background script&lt;/code> å’Œ &lt;code>content script&lt;/code> å…©éƒ¨åˆ†ï¼Œåœ¨èª¿è©¦æ²¹çŒ´è…³æœ¬æ™‚éœ€è¦æ€è€ƒæ¸…æ¥šæ˜¯å“ªä¸€éƒ¨åˆ†å‡ºç¾çš„å•é¡Œï¼Œå†æ¡ç”¨å°æ‡‰çš„èª¿è©¦æ–¹å¼ã€‚&lt;/p>
&lt;p>å¯¦ç¾äº†å…©å€‹å°å¯¦è¸ï¼Œèµ°å‡ºç¬¬ä¸€æ­¥ï¼Œæ¥ä¸‹ä¾†ç›¡æƒ…ç™¼æ®å‰µé€ åŠ›å§ï¼Œç©å¾—é–‹å¿ƒï½&lt;/p>
&lt;blockquote>
&lt;p>æœ€å¾Œåˆ†äº«ä¸€ä¸‹&lt;a class="link" href="https://github.com/wjdesign/TampermonkeyScripts" target="_blank" rel="noopener"
>æˆ‘çš„ Tampermonkey UserScripts æ¸…å–®&lt;/a>ï¼ŒæŒçºŒæ›´æ–°ï¼Œéœ€è¦çš„æ­¡è¿ä¸‹è¼‰ä¾†ä½¿ç”¨ï¼&lt;/p>
&lt;/blockquote>
&lt;hr></description></item><item><title>JavaScript ä¸­é—œæ–¼ Array çš„ 13 å€‹å…¥é–€å°æŠ€å·§ï¼</title><link>https://wayneblog.ga/2022-12-05/js-13-useful-array-tricks/</link><pubDate>Mon, 05 Dec 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-12-05/js-13-useful-array-tricks/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52544052174_68e62fb7f8_o.png" alt="Featured image of post JavaScript ä¸­é—œæ–¼ Array çš„ 13 å€‹å…¥é–€å°æŠ€å·§ï¼" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://dev.to/duomly/13-useful-javascript-array-tips-and-tricks-you-should-know-2jfo" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://codelove.tw/@tony/post/lqOvap" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>é™£åˆ—æ˜¯ JavaScript ä¸­æœ€å¸¸ç”¨åˆ°çš„æ¦‚å¿µä¹‹ä¸€ã€‚è™•ç†è³‡æ–™æ™‚å¾ˆå¸¸ç”¨åˆ°é€™ç¨®è³‡æ–™çµæ§‹ã€‚é€™ç¯‡æ–‡ç« ä»‹ç´¹ä¸€äº›é™£åˆ—æ“ä½œçš„åŸºæœ¬æ–¹æ³•ï¼Œå¸Œæœ›å°ä½ æœ‰å¹«åŠ©ï¼&lt;/p>
&lt;hr>
&lt;h2 id="å¾é™£åˆ—ä¸­ç§»é™¤é‡è¤‡é …ç›®">å¾é™£åˆ—ä¸­ç§»é™¤é‡è¤‡é …ç›®&lt;/h2>
&lt;p>å¾ˆç¶“å…¸çš„é¢è©¦å•é¡Œï¼Œéœ€è¦å¾é™£åˆ—ä¸­æ‰¾å‡ºç¨ç«‹å€¼ã€‚ä½¿ç”¨ &lt;strong>Set&lt;/strong> è³‡æ–™å‹æ…‹ï¼Œå¯ä»¥è¼•æ˜“å®Œæˆé€™ä»»å‹™ã€‚é€™é‚Šä»‹ç´¹å…©ç¨®æ–¹æ³•ï¼Œä¸€å€‹ä½¿ç”¨ &lt;strong>.from()&lt;/strong> ä¸€å€‹ä½¿ç”¨ &lt;strong>&amp;hellip; å±•é–‹é‹ç®—å­&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">fruits&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;banana&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;apple&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;orange&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;watermelon&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;apple&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;orange&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;grape&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;apple&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// First method
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">uniqueFruits&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nx">Set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fruits&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">uniqueFruits&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// returns [&amp;#34;banana&amp;#34;, &amp;#34;apple&amp;#34;, &amp;#34;orange&amp;#34;, &amp;#34;watermelon&amp;#34;, &amp;#34;grape&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Second method
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">uniqueFruits2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[...&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nx">Set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fruits&lt;/span>&lt;span class="p">)];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">uniqueFruits2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// returns [&amp;#34;banana&amp;#34;, &amp;#34;apple&amp;#34;, &amp;#34;orange&amp;#34;, &amp;#34;watermelon&amp;#34;, &amp;#34;grape&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å¾é™£åˆ—ä¸­æŠ½æ›æ‰æŸå€‹å…ƒç´ ">å¾é™£åˆ—ä¸­æŠ½æ›æ‰æŸå€‹å…ƒç´ &lt;/h2>
&lt;p>é€™å€‹æƒ…å¢ƒä¹Ÿå¾ˆå¸¸è¦‹ã€‚æœ‰ä¸€å€‹ç°¡å–®çš„å¥½æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨ &lt;strong>.splice&lt;/strong> ï¼Œåƒæ•¸åˆ†åˆ¥æ˜¯é–‹å§‹ä¿®æ”¹çš„ä½ç½®ã€ä¿®æ”¹å¹¾å€‹å…ƒç´ ã€è¦æ›´æ”¹æˆå“ªäº›å€¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">fruits&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;banana&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;apple&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;orange&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;watermelon&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;apple&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;orange&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;grape&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;apple&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fruits&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">splice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;potato&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;tomato&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fruits&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// returns [&amp;#34;potato&amp;#34;, &amp;#34;tomato&amp;#34;, &amp;#34;orange&amp;#34;, &amp;#34;watermelon&amp;#34;, &amp;#34;apple&amp;#34;, &amp;#34;orange&amp;#34;, &amp;#34;grape&amp;#34;, &amp;#34;apple&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="ä¸ç”¨-map-çš„-map-åŠŸèƒ½">ä¸ç”¨ &lt;strong>.map()&lt;/strong> çš„ map åŠŸèƒ½&lt;/h2>
&lt;p>&lt;strong>.map()&lt;/strong> å¾ˆå¸¸ç”¨ã€å¤§å®¶éƒ½æœƒç”¨ï¼Œä½†æœ‰ä¸€å€‹æ–¹æ³•ä¹Ÿå¾ˆä¸éŒ¯ï¼Œä¹Ÿå¾ˆç°¡æ½”ï¼Œå°±æ˜¯ &lt;strong>.from()&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">friends&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;John&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">22&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Peter&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">23&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Mark&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">24&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Maria&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">22&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Monica&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">21&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Martha&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">19&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">friendsNames&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">friends&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">({&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">})&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">friendsNames&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// returns [&amp;#34;John&amp;#34;, &amp;#34;Peter&amp;#34;, &amp;#34;Mark&amp;#34;, &amp;#34;Maria&amp;#34;, &amp;#34;Monica&amp;#34;, &amp;#34;Martha&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="æ¸…ç©ºé™£åˆ—">æ¸…ç©ºé™£åˆ—&lt;/h2>
&lt;p>æœ‰æ™‚å€™ä½ æœƒéœ€è¦æ¸…ç©ºä¸€å€‹é™£åˆ—ã€‚ä¸€å€‹ä¸€å€‹æŠŠå…ƒç´ åˆªæ‰å¤ªæ…¢äº†ï¼Œä¸‹é¢é€™å€‹æ–¹æ³•å¿«å¤šäº†ï¼šç›´æ¥æŠŠé•·åº¦è¨­ç‚º 0 å§ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">fruits&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;banana&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;apple&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;orange&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;watermelon&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;apple&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;orange&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;grape&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;apple&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">fruits&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fruits&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// returns []
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="æŠŠé™£åˆ—è½‰æ›ç‚ºç‰©ä»¶">æŠŠé™£åˆ—è½‰æ›ç‚ºç‰©ä»¶&lt;/h2>
&lt;p>æœ‰æ™‚éœ€è¦æŠŠé™£åˆ—è½‰æˆç‰©ä»¶ã€‚ä½¿ç”¨ &lt;strong>&amp;hellip; å±•é–‹é‹ç®—å­&lt;/strong>å¯ä»¥å¾ˆå¿«å®Œæˆé€™ä»»å‹™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">fruits&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;banana&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;apple&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;orange&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;watermelon&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">fruitsObj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">fruits&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fruitsObj&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// returns {0: &amp;#34;banana&amp;#34;, 1: &amp;#34;apple&amp;#34;, 2: &amp;#34;orange&amp;#34;, 3: &amp;#34;watermelon&amp;#34;, 4: &amp;#34;apple&amp;#34;, 5: &amp;#34;orange&amp;#34;, 6: &amp;#34;grape&amp;#34;, 7: &amp;#34;apple&amp;#34;}
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="é™£åˆ—å¡æ»¿è³‡æ–™">é™£åˆ—å¡æ»¿è³‡æ–™&lt;/h2>
&lt;p>æœ‰æ™‚éœ€è¦æŠŠä¸€å€‹é™£åˆ—å¡æ»¿æŸäº›è³‡æ–™ã€‚ä½¿ç”¨ &lt;strong>.fill()&lt;/strong> å¯ä»¥å¿«é€Ÿå®Œæˆé€™ä»»å‹™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">newArray&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Array&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">fill&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">newArray&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// returns [&amp;#34;1&amp;#34;, &amp;#34;1&amp;#34;, &amp;#34;1&amp;#34;, &amp;#34;1&amp;#34;, &amp;#34;1&amp;#34;, &amp;#34;1&amp;#34;, &amp;#34;1&amp;#34;, &amp;#34;1&amp;#34;, &amp;#34;1&amp;#34;, &amp;#34;1&amp;#34;, &amp;#34;1&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="åˆä½µé™£åˆ—">åˆä½µé™£åˆ—&lt;/h2>
&lt;p>è€æ–¹æ³•æ˜¯ä½¿ç”¨ &lt;strong>.concat()&lt;/strong> ä¾†åˆä½µã€‚ä½†æœ‰å€‹æ–°æ–¹æ³•ï¼Œå°±æ˜¯ç”¨ &lt;strong>&amp;hellip; å±•é–‹é‹ç®—å­&lt;/strong>ï¼Œéå¸¸ç°¡å–®ä¿è½ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">fruits&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;apple&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;banana&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;orange&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">meat&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;poultry&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;beef&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;fish&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">vegetables&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;potato&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;tomato&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;cucumber&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">food&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[...&lt;/span>&lt;span class="nx">fruits&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">meat&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">vegetables&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">food&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [&amp;#34;apple&amp;#34;, &amp;#34;banana&amp;#34;, &amp;#34;orange&amp;#34;, &amp;#34;poultry&amp;#34;, &amp;#34;beef&amp;#34;, &amp;#34;fish&amp;#34;, &amp;#34;potato&amp;#34;, &amp;#34;tomato&amp;#34;, &amp;#34;cucumber&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="æ‰¾å‡ºé™£åˆ—äº¤é›†">æ‰¾å‡ºé™£åˆ—äº¤é›†&lt;/h2>
&lt;p>é€™ä¹Ÿæ˜¯ JavaScript é¢è©¦æœ€å¸¸è¦‹çš„å•é¡Œã€‚é€™é‚Šä½¿ç”¨ &lt;strong>filter&lt;/strong> è·Ÿ &lt;strong>.includes()&lt;/strong> ä¾†å®Œæˆé€™ä»»å‹™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">numOne&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">numTwo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">duplicatedValues&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[...&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nx">Set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">numOne&lt;/span>&lt;span class="p">)].&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">numTwo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">includes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">duplicatedValues&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// returns [2, 4, 6]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="æŠŠ-false-ç›¸é—œçš„å€¼å¾é™£åˆ—ç§»é™¤">æŠŠ &lt;strong>false&lt;/strong> ç›¸é—œçš„å€¼å¾é™£åˆ—ç§»é™¤&lt;/h2>
&lt;p>&lt;strong>false&lt;/strong> ç›¸é—œå€¼åŒ…å« &lt;strong>false&lt;/strong>ã€&lt;strong>0&lt;/strong>ã€&lt;strong>&amp;quot;&amp;quot;&lt;/strong>ã€&lt;strong>null&lt;/strong>ã€&lt;strong>NaN&lt;/strong>ã€&lt;strong>undefined&lt;/strong>ã€‚&lt;/p>
&lt;p>ä½¿ç”¨ &lt;strong>.filter()&lt;/strong> å¯ä»¥ä¿è½åœ°éæ¿¾é™£åˆ—ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">mixedArr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;blue&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">NaN&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">undefined&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;white&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">trueArr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mixedArr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Boolean&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">trueArr&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// returns [&amp;#34;blue&amp;#34;, 9, true, &amp;#34;white&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å¾é™£åˆ—æ’ˆå‡ºéš¨æ©Ÿå…ƒç´ ">å¾é™£åˆ—æ’ˆå‡ºéš¨æ©Ÿå…ƒç´ &lt;/h2>
&lt;p>æœ‰æ™‚éœ€è¦éš¨æ©Ÿæ’ˆå…ƒç´ å‡ºä¾†ã€‚æ ¹æ“šé™£åˆ—é•·åº¦ï¼Œéš¨æ©Ÿæ’ˆä¸€å€‹ç´¢å¼•å‡ºä¾†ï¼Œå°±å¯ä»¥å›‰ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">colors&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;blue&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;white&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;green&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;navy&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;pink&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;purple&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;orange&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;yellow&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;black&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;brown&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">randomColor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">colors&lt;/span>&lt;span class="p">[(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">colors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">)))]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="é€†è½‰é™£åˆ—">é€†è½‰é™£åˆ—&lt;/h2>
&lt;p>ä¸éœ€è¦è¤‡é›œçš„è¿´åœˆè·Ÿå‡½æ•¸ï¼Œä¹Ÿèƒ½é€†è½‰ä¸€å€‹é™£åˆ—ã€‚é€™æ¨£ä¸€è¡Œå°±å¯ä»¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">colors&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;blue&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;white&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;green&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;navy&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;pink&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;purple&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;orange&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;yellow&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;black&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;brown&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">reversedColors&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">colors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">reverse&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">reversedColors&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// returns [&amp;#34;brown&amp;#34;, &amp;#34;black&amp;#34;, &amp;#34;yellow&amp;#34;, &amp;#34;orange&amp;#34;, &amp;#34;purple&amp;#34;, &amp;#34;pink&amp;#34;, &amp;#34;navy&amp;#34;, &amp;#34;green&amp;#34;, &amp;#34;white&amp;#34;, &amp;#34;blue&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="lastindexof-æ–¹æ³•">&lt;strong>.lastIndexOf()&lt;/strong> æ–¹æ³•&lt;/h2>
&lt;p>é€™å€‹æœ‰è¶£çš„æ–¹æ³•ï¼Œå¯ä»¥æ‰¾åˆ°ç‰¹å®šå…ƒç´ &lt;strong>æœ€å¾Œä¸€æ¬¡&lt;/strong>å‡ºç¾çš„ç´¢å¼•ã€‚å¦‚æœé™£åˆ—ä¸­æœ‰é‡è¤‡å€¼ï¼Œå°±å¯ç”¨ä¸Šé€™æ–¹æ³•ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">nums&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">lastIndex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">nums&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastIndexOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">lastIndex&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// returns 9
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="é™£åˆ—ä¸­å…¨éƒ¨æ•¸å€¼åŠ ç¸½">é™£åˆ—ä¸­å…¨éƒ¨æ•¸å€¼åŠ ç¸½&lt;/h2>
&lt;p>é€™ä¹Ÿæ˜¯é¢è©¦å¸¸è¦‹è€ƒé¡Œã€‚ä½¿ç”¨ &lt;strong>.reduce&lt;/strong> å¯ä»¥å¿«é€Ÿè§£æ±ºé€™å•é¡Œã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">nums&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">sum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">nums&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">reduce&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sum&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// returns 14
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr></description></item><item><title>ä¸€è¡Œ JavaScript å°±èƒ½å®Œæˆçš„ 7 å€‹å°ä»»å‹™ï¼</title><link>https://wayneblog.ga/2022-12-05/js-7-killer-one-liners/</link><pubDate>Mon, 05 Dec 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-12-05/js-7-killer-one-liners/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52544218553_b60d2ccdec_o.jpg" alt="Featured image of post ä¸€è¡Œ JavaScript å°±èƒ½å®Œæˆçš„ 7 å€‹å°ä»»å‹™ï¼" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://dev.to/ruppysuppy/7-killer-one-liners-in-javascript-one" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://codelove.tw/@tony/post/2anPxn" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>ä¸€è¡Œç¨‹å¼ç¢¼æœ‰æ™‚å¯ä»¥åšåˆ°å¾ˆå¤šäº‹ã€‚é€™é‚Šæœ‰ä¸ƒå€‹å°ä»»å‹™éƒ½ç”¨ä¸€è¡Œå°±å¯ä»¥å®Œæˆï¼Œçµ¦æ‚¨åƒè€ƒï¼&lt;/p>
&lt;hr>
&lt;h2 id="æ´—äº‚é™£åˆ—">æ´—äº‚é™£åˆ—&lt;/h2>
&lt;p>åœ¨éœ€è¦å°‡é™£åˆ—éš¨æ©Ÿæ‰“äº‚çš„æ™‚å€™ï¼Œé€™è¡Œæœƒå¾ˆå¥½ç”¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">shuffleArray&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sort&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Testing
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">shuffleArray&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="è¤‡è£½åˆ°å‰ªè²¼æ¿">è¤‡è£½åˆ°å‰ªè²¼æ¿&lt;/h2>
&lt;p>åœ¨å¯«ç¶²ç«™åŠŸèƒ½çš„æ™‚å€™ï¼Œæœ‰æ™‚æœƒéœ€è¦é€™å€‹åŠŸèƒ½ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">copyToClipboard&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">navigator&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clipboard&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">writeText&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">navigator&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clipboard&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">writeText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Testing
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">copyToClipboard&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Hello World!&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="ä¸é‡è¤‡å…ƒç´ ">ä¸é‡è¤‡å…ƒç´ &lt;/h2>
&lt;p>æ¯ç¨®èªè¨€éƒ½æœ‰å¯¦ä½œè‡ªå·±çš„ &lt;strong>Hash List&lt;/strong>ï¼Œåœ¨ JavaScript ä¸­ï¼Œå«åš &lt;strong>Set&lt;/strong>ã€‚å¯ä»¥ä½¿ç”¨ &lt;strong>Set Data Structure&lt;/strong> è¼•é¬†åœ°æ‰¾å‡ºä¸é‡è¤‡å…ƒç´ ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">getUnique&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">[...&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nx">Set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Testing
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">getUnique&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="æª¢æ¸¬æ·±è‰²æ¨¡å¼">æª¢æ¸¬æ·±è‰²æ¨¡å¼&lt;/h2>
&lt;p>æ·±è‰²æ¨¡å¼æ—¥ç›Šæµè¡Œï¼Œå¦‚æœç”¨æˆ¶åœ¨ä»–å€‘çš„è¨­å‚™ä¸­å•Ÿç”¨äº†æ·±è‰²æ¨¡å¼ï¼Œæœ€å¥½å°‡æ‚¨çš„æ‡‰ç”¨ç¨‹åºä¹Ÿåˆ‡æ›åˆ°æ·±è‰²æ¨¡å¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">isDarkMode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">matchMedia&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">matchMedia&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;(prefers-color-scheme: dark)&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">matches&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Testing
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isDarkMode&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="æ»‘åˆ°é ‚éƒ¨">æ»‘åˆ°é ‚éƒ¨&lt;/h2>
&lt;p>æ–°æ‰‹å¸¸å¸¸ç™¼ç¾æ»‘å‹•å…ƒç´ å¾ˆé›£åšã€‚æœ€ç°¡å–®çš„æ–¹æ³•æ˜¯ä½¿ç”¨ &lt;strong>scrollIntoView&lt;/strong>ã€‚&lt;/p>
&lt;p>åŠ ä¸Š &lt;strong>behavior&lt;/strong> å¯ä»¥è®“å‹•ç•«æ›´æµæš¢ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">scrollToTop&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">element&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">scrollIntoView&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">behavior&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;smooth&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">block&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;start&amp;#34;&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="æ»‘åˆ°åº•éƒ¨">æ»‘åˆ°åº•éƒ¨&lt;/h2>
&lt;p>ä¸€æ¨£ä½¿ç”¨ &lt;strong>scrollIntoView&lt;/strong> å°±å¯ä»¥ï¼Œåªéœ€è¦å°‡ &lt;strong>block&lt;/strong> å€¼æ”¹æˆ &lt;strong>end&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">scrollToBottom&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">element&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">scrollIntoView&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">behavior&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;smooth&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">block&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;end&amp;#34;&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="ç”¢ç”Ÿéš¨æ©Ÿé¡è‰²">ç”¢ç”Ÿéš¨æ©Ÿé¡è‰²&lt;/h2>
&lt;p>å¦‚æœæ‚¨éœ€è¦éš¨æ©Ÿè‰²ç¢¼ï¼Œå¯ä»¥åƒè€ƒé€™æ®µï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">generateRandomHexColor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="sb">`#&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mh">0xffffff&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr></description></item><item><title>TypeScript è£¡ string å’Œ Stringï¼Œé‚„çœŸä¸åƒ…åƒ…æ˜¯å¤§å°å¯«çš„å€åˆ¥ï¼</title><link>https://wayneblog.ga/2022-11-28/ts-string-type-vs-class/</link><pubDate>Mon, 28 Nov 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-11-28/ts-string-type-vs-class/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52549840532_0ea4bef6e7_o.png" alt="Featured image of post TypeScript è£¡ string å’Œ Stringï¼Œé‚„çœŸä¸åƒ…åƒ…æ˜¯å¤§å°å¯«çš„å€åˆ¥ï¼" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://www.geeksforgeeks.org/what-is-the-difference-between-string-and-string-in-typescript/?ref=lbp" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://www.geeksforgeeks.org/variables-datatypes-javascript/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://www.tutorialspoint.com/typescript/typescript_strings.htm" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://www.gushiciku.cn/pl/aSb4/zh-tw" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="èƒŒæ™¯">èƒŒæ™¯&lt;/h2>
&lt;p>èˆ‡ JavaScript èªè¨€ä¸åŒçš„æ˜¯ï¼ŒTypeScript ä½¿ç”¨çš„æ˜¯&lt;strong>éœæ…‹å‹åˆ¥&lt;/strong>(&lt;strong>å¼·å‹åˆ¥&lt;/strong>)ï¼Œæ¯”å¦‚èªªå®ƒæŒ‡å®šäº†è®Šæ•¸å¯ä»¥å„²å­˜çš„è³‡æ–™å‹åˆ¥ã€‚&lt;/p>
&lt;p>å¦‚ä¸‹åœ–æ‰€ç¤ºï¼Œå¦‚æœåœ¨ JS ä¸­ï¼ŒæŒ‡å®šè®Šæ•¸å¯ä»¥å„²å­˜çš„è³‡æ–™å‹åˆ¥ï¼Œæœƒå ±éŒ¯ï¼šâ€œ&lt;strong>å‹åˆ¥è¨»é‡‹åªå¯ä»¥åœ¨TSæª”æ¡ˆä¸­è¢«ä½¿ç”¨&lt;/strong>â€ï¼š&lt;/p>
&lt;p>&lt;img src="https://wayneblog.ga/"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>TypeScript æ˜¯ JavaScript çš„è¶…é›†(superset)ï¼ŒTypeScript éœ€è¦ç·¨è­¯(èªæ³•è½‰æ›)ç”Ÿæˆ JavaScript æ‰èƒ½è¢«ç€è¦½å™¨åŸ·è¡Œï¼Œå®ƒä¹Ÿå€åˆ†äº† string å’Œ String é€™å…©å€‹è³‡æ–™å‹åˆ¥ã€‚é€šå¸¸ä¾†èªªï¼Œstring è¡¨ç¤ºåŸç”Ÿå‹åˆ¥ï¼Œè€Œ String è¡¨ç¤ºç‰©ä»¶ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="åŸç”Ÿ-string">åŸç”Ÿ string&lt;/h2>
&lt;p>JavaScript åœ¨ ES6 æ¨™æº–è£¡æ”¯æ´&lt;code>6ç¨®&lt;/code>åŸç”Ÿå‹åˆ¥ï¼Œ&lt;code>string&lt;/code> æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">testVar1&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">19&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">testVar2&lt;/span>: &lt;span class="kt">boolean&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">testVar3&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Hi Wayne!&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">testVar4&lt;/span>: &lt;span class="kt">null&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">testVar5&lt;/span>: &lt;span class="kt">undefined&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">undefined&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">testVar6&lt;/span>: &lt;span class="kt">object&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Wayne Cloud!&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸç”Ÿçš„ string æ˜¯&lt;strong>ä¸åŒ…å«å±¬æ€§&lt;/strong>çš„å€¼(å³æ²’æœ‰properties)ï¼ŒåŒ…æ‹¬å­—é¢ä¸Šæ²’æœ‰å®šç¾©å‹åˆ¥ã€å­—é¢ä¸Šå®šç¾©äº† stringã€å­—é¢ä¸Šå®šç¾©äº† Stringå’Œä¸€äº›å¾ string å‡½å¼å‘¼å«è¿”å›çš„ strings ä¹Ÿéƒ½å¯ä»¥è¢«æ­¸ç‚ºåŸç”Ÿå‹åˆ¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg1&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Hello world!&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg2&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Hello world!&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg22&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">returnStr&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»¥ä¸Šä¸‰å€‹è®Šæ•¸çš„å‹åˆ¥(&lt;code>typeof()&lt;/code>)æ˜¯ &lt;code>string&lt;/code>ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ç‰©ä»¶-string">ç‰©ä»¶ String&lt;/h2>
&lt;p>ç‰©ä»¶æ˜¯ä¸åŒå±¬æ€§çš„ç´¯ç©ï¼Œä¸€å€‹ç‰©ä»¶å¯ä»¥å‘¼å«è¨±å¤šç›¸æ‡‰çš„æ–¹æ³•ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg3&lt;/span>: &lt;span class="kt">String&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello world!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹è®Šæ•¸ msg3 çš„å‹åˆ¥å°±æ˜¯ &lt;code>object&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg3&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// object
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>String&lt;/code> ç‰©ä»¶æ”¯æ´çš„æ–¹æ³•ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>No.&lt;/th>
&lt;th>Method&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/charAt" target="_blank" rel="noopener"
>charAt()&lt;/a>&lt;/td>
&lt;td>charAt() æ–¹æ³•å¾ä¸€å€‹å­—ç¬¦ä¸²ä¸­è¿”å›æŒ‡å®šçš„å­—ç¬¦&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt" target="_blank" rel="noopener"
>charCodeAt()&lt;/a>&lt;/td>
&lt;td>charCodeAt() æ–¹æ³•è¿”å› 0 åˆ° 65535 ä¹‹é–“çš„æ•´æ•¸ï¼Œè¡¨ç¤ºçµ¦å®šç´¢å¼•è™•çš„ UTF-16 ä»£ç¢¼å–®å…ƒ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/concat" target="_blank" rel="noopener"
>concat()&lt;/a>&lt;/td>
&lt;td>concat() æ–¹æ³•å°‡ä¸€å€‹æˆ–å¤šå€‹å­—ç¬¦ä¸²èˆ‡åŸå­—ç¬¦ä¸²é€£æ¥åˆä½µï¼Œå½¢æˆä¸€å€‹æ–°çš„å­—ç¬¦ä¸²ä¸¦è¿”å›&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf" target="_blank" rel="noopener"
>indexOf()&lt;/a>&lt;/td>
&lt;td>indexOf() æ–¹æ³•ï¼Œçµ¦å®šä¸€å€‹åƒæ•¸ï¼šè¦æœç´¢çš„å­å­—ç¬¦ä¸²ï¼Œæœç´¢æ•´å€‹èª¿ç”¨å­—ç¬¦ä¸²ï¼Œä¸¦è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç¾çš„ç´¢å¼•ã€‚çµ¦å®šç¬¬äºŒå€‹åƒæ•¸ï¼šä¸€å€‹æ•¸å­—ï¼Œè©²æ–¹æ³•å°‡è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨å¤§æ–¼æˆ–ç­‰æ–¼æŒ‡å®šæ•¸å­—çš„ç´¢å¼•è™•çš„ç¬¬ä¸€æ¬¡å‡ºç¾&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/lastIndexOf" target="_blank" rel="noopener"
>lastIndexOf()&lt;/a>&lt;/td>
&lt;td>lastIndexOf() æ–¹æ³•è¿”å›èª¿ç”¨ String å°è±¡çš„æŒ‡å®šå€¼æœ€å¾Œä¸€æ¬¡å‡ºç¾çš„ç´¢å¼•ï¼Œåœ¨ä¸€å€‹å­—ç¬¦ä¸²ä¸­çš„æŒ‡å®šä½ç½® fromIndex è™•å¾å¾Œå‘å‰æœç´¢ã€‚å¦‚æœæ²’æ‰¾åˆ°é€™å€‹ç‰¹å®šå€¼å‰‡è¿”å› -1ã€‚&lt;br/>&lt;br/>è©²æ–¹æ³•å°‡å¾å°¾åˆ°é ­åœ°æª¢ç´¢å­—ç¬¦ä¸² strï¼Œçœ‹å®ƒæ˜¯å¦å«æœ‰å­ä¸² searchValueã€‚é–‹å§‹æª¢ç´¢çš„ä½ç½®åœ¨å­—ç¬¦ä¸²çš„ fromIndex è™•æˆ–å­—ç¬¦ä¸²çš„çµå°¾(æ²’æœ‰æŒ‡å®š fromIndex æ™‚)ã€‚å¦‚æœæ‰¾åˆ°ä¸€å€‹ searchValueï¼Œå‰‡è¿”å› searchValue çš„ç¬¬ä¸€å€‹å­—ç¬¦åœ¨ str ä¸­çš„ä½ç½®ã€‚ str ä¸­çš„å­—ç¬¦ä½ç½®æ˜¯å¾ 0 é–‹å§‹çš„&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare" target="_blank" rel="noopener"
>localeCompare()&lt;/a>&lt;/td>
&lt;td>localeCompare() æ–¹æ³•è¿”å›ä¸€å€‹æ•¸å­—ä¾†æŒ‡ç¤ºä¸€å€‹åƒè€ƒå­—ç¬¦ä¸²æ˜¯å¦åœ¨æ’åºé †åºå‰é¢æˆ–ä¹‹å¾Œæˆ–èˆ‡çµ¦å®šå­—ç¬¦ä¸²ç›¸åŒã€‚&lt;br/>&lt;br/>æ–°çš„ locales å’Œ options åƒæ•¸èƒ½è®“æ‡‰ç”¨ç¨‹åºå®šåˆ¶å‡½æ•¸çš„è¡Œç‚ºï¼Œå³æŒ‡å®šç”¨ä¾†æ’åºçš„èªè¨€ã€‚ locales å’Œ options åƒæ•¸å®Œå…¨å–æ±ºæ–¼å¯¦ç¾ï¼Œåœ¨èˆŠçš„å¯¦ç¾ä¸­å¿½ç•¥é€™å…©å€‹åƒæ•¸&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>7.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/match" target="_blank" rel="noopener"
>match()&lt;/a>&lt;/td>
&lt;td>match() æ–¹æ³•æª¢ç´¢è¿”å›ä¸€å€‹å­—ç¬¦ä¸²åŒ¹é…æ­£å‰‡è¡¨é”å¼çš„çµæœ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>8.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace" target="_blank" rel="noopener"
>replace()&lt;/a>&lt;/td>
&lt;td>replace() æ–¹æ³•è¿”å›ä¸€å€‹ç”±æ›¿æ›å€¼(replacement)æ›¿æ›éƒ¨åˆ†æˆ–æ‰€æœ‰çš„æ¨¡å¼(pattern)åŒ¹é…é …å¾Œçš„æ–°å­—ç¬¦ä¸²ã€‚æ¨¡å¼å¯ä»¥æ˜¯ä¸€å€‹å­—ç¬¦ä¸²æˆ–è€…ä¸€å€‹&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener"
>æ­£å‰‡è¡¨é”å¼&lt;/a>ï¼Œæ›¿æ›å€¼å¯ä»¥æ˜¯ä¸€å€‹å­—ç¬¦ä¸²æˆ–è€…ä¸€å€‹æ¯æ¬¡åŒ¹é…éƒ½è¦èª¿ç”¨çš„å›èª¿å‡½æ•¸ã€‚å¦‚æœ pattern æ˜¯å­—ç¬¦ä¸²ï¼Œå‰‡åƒ…æ›¿æ›ç¬¬ä¸€å€‹åŒ¹é…é …&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>9.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/search" target="_blank" rel="noopener"
>search()&lt;/a>&lt;/td>
&lt;td>search() æ–¹æ³•åŸ·è¡Œæ­£å‰‡è¡¨é”å¼å’Œ &lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noopener"
>String&lt;/a> å°è±¡ä¹‹é–“çš„ä¸€å€‹æœç´¢åŒ¹é…&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>10.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/slice" target="_blank" rel="noopener"
>slice()&lt;/a>&lt;/td>
&lt;td>slice() æ–¹æ³•æå–æŸå€‹å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œä¸¦è¿”å›ä¸€å€‹æ–°çš„å­—ç¬¦ä¸²ï¼Œä¸”ä¸æœƒæ”¹å‹•åŸå­—ç¬¦ä¸²&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>11.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/split" target="_blank" rel="noopener"
>split()&lt;/a>&lt;/td>
&lt;td>split() æ–¹æ³•ä½¿ç”¨æŒ‡å®šçš„åˆ†éš”ç¬¦å­—ç¬¦ä¸²å°‡ä¸€å€‹ &lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noopener"
>String&lt;/a> å°è±¡åˆ†å‰²æˆå­å­—ç¬¦ä¸²æ•¸çµ„ï¼Œä»¥ä¸€å€‹æŒ‡å®šçš„åˆ†å‰²å­—ä¸²ä¾†æ±ºå®šæ¯å€‹æ‹†åˆ†çš„ä½ç½®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>12.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/substr" target="_blank" rel="noopener"
>substr()&lt;/a>&lt;/td>
&lt;td>substr() æ–¹æ³•è¿”å›ä¸€å€‹å­—ç¬¦ä¸²ä¸­å¾æŒ‡å®šä½ç½®é–‹å§‹åˆ°æŒ‡å®šå­—ç¬¦æ•¸çš„å­—ç¬¦&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>13.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/substring" target="_blank" rel="noopener"
>substring()&lt;/a>&lt;/td>
&lt;td>substring() æ–¹æ³•è¿”å›ä¸€å€‹å­—ç¬¦ä¸²åœ¨é–‹å§‹ç´¢å¼•åˆ°çµæŸç´¢å¼•ä¹‹é–“çš„ä¸€å€‹å­é›†ï¼Œæˆ–å¾é–‹å§‹ç´¢å¼•ç›´åˆ°å­—ç¬¦ä¸²çš„æœ«å°¾çš„ä¸€å€‹å­é›†&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>14.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/toLocaleLowerCase" target="_blank" rel="noopener"
>toLocaleLowerCase()&lt;/a>&lt;/td>
&lt;td>toLocaleLowerCase() æ–¹æ³•æ ¹æ“šä»»ä½•æŒ‡å®šå€åŸŸèªè¨€ç’°å¢ƒè¨­ç½®çš„å¤§å°å¯«æ˜ å°„ï¼Œè¿”å›èª¿ç”¨å­—ç¬¦ä¸²è¢«è½‰æ›ç‚ºå°å¯«çš„æ ¼å¼&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>15.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/toLocaleUpperCase" target="_blank" rel="noopener"
>toLocaleUpperCase()&lt;/a>&lt;/td>
&lt;td>toLocaleUpperCase() æ–¹æ³•æ ¹æ“šæœ¬åœ°ä¸»æ©Ÿèªè¨€ç’°å¢ƒæŠŠå­—ç¬¦ä¸²è½‰æ›ç‚ºå¤§å¯«æ ¼å¼ï¼Œä¸¦è¿”è¿´è½‰æ›å¾Œçš„å­—ç¬¦ä¸²&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>16.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase" target="_blank" rel="noopener"
>toLowerCase()&lt;/a>&lt;/td>
&lt;td>toLowerCase() æœƒå°‡èª¿ç”¨è©²æ–¹æ³•çš„å­—ç¬¦ä¸²å€¼è½‰ç‚ºå°å¯«å½¢å¼ï¼Œä¸¦è¿”å›&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>17.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/toString" target="_blank" rel="noopener"
>toString()&lt;/a>&lt;/td>
&lt;td>å­—ç¬¦ä¸²å°è±¡çš„ toString() æ–¹æ³•è¿”å›ä¸€å€‹å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæŒ‡å®šçš„å­—ç¬¦ä¸²&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>18.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase" target="_blank" rel="noopener"
>toUpperCase()&lt;/a>&lt;/td>
&lt;td>toUpperCase() æ–¹æ³•å°‡èª¿ç”¨è©²æ–¹æ³•çš„å­—ç¬¦ä¸²è½‰ç‚ºå¤§å¯«å½¢å¼ä¸¦è¿”å›(å¦‚æœèª¿ç”¨è©²æ–¹æ³•çš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²é¡å‹æœƒè¢«å¼·åˆ¶è½‰æ›)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>19.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/valueOf" target="_blank" rel="noopener"
>valueOf()&lt;/a>&lt;/td>
&lt;td>valueOf() æ–¹æ³•è¿”å› &lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noopener"
>String&lt;/a> å°è±¡çš„åŸå§‹å€¼&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h2 id="ç¨‹å¼ç¢¼å°æ¯”">ç¨‹å¼ç¢¼å°æ¯”&lt;/h2>
&lt;p>æˆ‘å€‘å°ä¸‹é¢4å€‹è®Šæ•¸é€²è¡Œå‹åˆ¥çš„æ¢ç´¢èˆ‡æ¯”è¼ƒï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Hello world!&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg2&lt;/span>: &lt;span class="kt">String&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Hello world!&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg22&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Hello world!&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// å­—é¢ä¸Šæ²’æœ‰å®šç¾©å‹åˆ¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg3&lt;/span>: &lt;span class="kt">String&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello world!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// string
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg2&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// string
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg22&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// string
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg3&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// object
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">msg2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">msg3&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg2&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">msg3&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="ç‚ºä»€éº¼éœ€è¦-string-ç‰©ä»¶">ç‚ºä»€éº¼éœ€è¦ String ç‰©ä»¶&lt;/h2>
&lt;p>é¦–å…ˆï¼Œç•¶æˆ‘å€‘ä½¿ç”¨é—œéµå­— &lt;code>new&lt;/code> æ–°å»ºä¸€å€‹ &lt;code>String&lt;/code> ç‰©ä»¶çš„æ™‚å€™ï¼ŒTypescript æœƒå»ºç«‹ä¸€å€‹&lt;strong>æ–°çš„ç‰©ä»¶&lt;/strong>ï¼›&lt;/p>
&lt;p>å³æˆ‘å€‘ç”¨ &lt;code>new&lt;/code> æ–°å»ºäº†å…©å€‹ &lt;code>String&lt;/code> ç‰©ä»¶ï¼Œå³ä½¿å…§å®¹ç›¸åŒï¼Œå®ƒå€‘ä¹Ÿæ˜¯æŒ‡å‘&lt;code>ä¸åŒ&lt;/code>çš„è¨˜æ†¶é«”ã€‚&lt;/p>
&lt;p>èˆ‰ä¸‹é¢å…©å€‹ä¾‹å­ï¼š&lt;/p>
&lt;ol>
&lt;li>ç•¶ç”¨ a1ã€b1 ä»£è¡¨ç›¸åŒå€¼çš„å…©å€‹è®Šæ•¸çš„æ™‚å€™ï¼Œå®ƒå€‘æ˜¯ç›¸åŒçš„ï¼›è€Œç•¶ç”¨ &lt;strong>new&lt;/strong> æ–°å»ºå…©å€‹ç‰©ä»¶çš„æ™‚å€™ï¼Œå³ä½¿å€¼ç›¸åŒï¼Œå®ƒå€‘ä¹Ÿæ˜¯ä¸åŒçš„ï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">a1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Hello World&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">b2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Hello World&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a1&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">b1&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">a2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Hello World&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">b2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Hello World&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a2&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">b2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>&lt;strong>eval()&lt;/strong> å‡½å¼çš„ä½œç”¨ï¼šç”¨ä¾†è¨ˆç®—è¡¨ç¤ºå¼çš„å€¼ã€‚å¦‚æœæˆ‘å€‘æŠŠ &lt;strong>eval()&lt;/strong> ç›´æ¥è³¦çµ¦ stringï¼Œè€Œ string è£¡é¢æ˜¯è¨ˆç®—å¼çš„å­—ä¸²ï¼Œé‚£éº¼å®ƒæœƒè¿”å›è¨ˆç®—å¾Œçš„å€¼ï¼›è€Œå¦‚æœæˆ‘å€‘æŠŠ &lt;strong>eval()&lt;/strong> è³¦çµ¦ Stringï¼Œå› ç‚ºå®ƒ&lt;strong>ä¸æ˜¯&lt;/strong>åŸç”Ÿå‹åˆ¥ï¼Œå®ƒåªæœƒè¿”å› &lt;strong>String&lt;/strong> é€™å€‹ç‰©ä»¶ï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">a3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;3 * 9&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">eval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a3&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// 27
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">b3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;8 + 20&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">eval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b3&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// Warningï¼šArgument of type &amp;#39;String&amp;#39; is not assignable to parameter of type &amp;#39;string&amp;#39;. &amp;#39;string&amp;#39; is a primitive, but &amp;#39;String&amp;#39; is a wrapper object. Prefer using &amp;#39;string&amp;#39; when possible.ts(2345)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">eval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b3&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toSTring&lt;/span>&lt;span class="p">()));&lt;/span> &lt;span class="c1">// 28
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>å…¶æ¬¡ï¼Œå› ç‚º String ç‰©ä»¶&lt;strong>å¯ä»¥æœ‰å±¬æ€§&lt;/strong>ã€‚æˆ‘å€‘å¯ä»¥ç”¨ String ç‰©ä»¶åœ¨å±¬æ€§è£¡ä¿ç•™ä¸€å€‹é¡å¤–çš„å€¼ã€‚å³ä½¿é€™å€‹ç”¨æ³•ä¸¦ä¸å¸¸è¦‹ï¼Œä½†æ˜¯ä»ç„¶æ˜¯ TS çš„ä¸€å€‹ç‰¹æ€§ï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">prim&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;hello Wayne&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello Wayne Cloud&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">prim&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">property&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;PaaS&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Invalid
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">property&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;PaaS&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Valid
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">property&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// è¼¸å‡ºç‚º PaaS
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å…©è€…å€åˆ¥ç¸½çµ">å…©è€…å€åˆ¥ç¸½çµ&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>string åŸç”Ÿå‹åˆ¥&lt;/th>
&lt;th>String ç‰©ä»¶&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>å»£æ³›è¢«ä½¿ç”¨&lt;/td>
&lt;td>å¹¾ä¹å¾ˆå°‘è¢«ä½¿ç”¨&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>åªæœƒä¿ç•™å€¼&lt;/td>
&lt;td>æœ‰èƒ½åŠ›é™¤äº†å€¼ä¹‹å¤–ï¼Œé‚„å¯ä»¥ä¿ç•™å±¬æ€§&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å€¼æ˜¯ä¸å¯è®Šçš„ï¼Œå› æ­¤åŸ·è¡Œç·’å®‰å…¨&lt;/td>
&lt;td>Stringç‰©ä»¶æ˜¯å¯è®Šçš„&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ²’æœ‰ä»»ä½•æ–¹æ³•&lt;/td>
&lt;td>Stringç‰©ä»¶æœ‰å„ç¨®æ–¹æ³•&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ä¸èƒ½å»ºç«‹å…©å€‹ç¨ç«‹çš„å­—é¢ä¸Šå€¼ç›¸åŒçš„ string&lt;/td>
&lt;td>å¯ä»¥ç”¨ &lt;strong>new&lt;/strong> å»ºç«‹å…©å€‹ç‰©ä»¶&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ˜¯åŸç”Ÿçš„è³‡æ–™å‹åˆ¥&lt;/td>
&lt;td>åŒ…è£åŸç”Ÿè³‡æ–™å‹åˆ¥ä¾†å»ºç«‹ä¸€å€‹ç‰©ä»¶&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å‚³éçš„å€¼æ˜¯åŸç”Ÿè³‡æ–™æœ¬èº«çš„æ‹·è²&lt;/td>
&lt;td>å‚³éçš„å€¼æ˜¯å¯¦éš›è³‡æ–™çš„å¼•ç”¨&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ç•¶ä½¿ç”¨ eval() å‡½å¼æ™‚ï¼Œå°‡&lt;strong>ç›´æ¥ä½œç‚ºåŸå§‹ç¢¼&lt;/strong>é€²è¡Œè™•ç†&lt;/td>
&lt;td>ç•¶ä½¿ç”¨ eval() å‡½å¼æ™‚ï¼Œå°‡è¢«&lt;strong>è½‰æ›ç‚ºå­—ä¸²&lt;/strong>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr></description></item><item><title>ä»Šå¤©ä¾†æä¸€å€‹å±¬æ–¼è‡ªå·±çš„ VScode Extension å§ï¼</title><link>https://wayneblog.ga/2022-11-22/create-own-vscode-extension/</link><pubDate>Tue, 22 Nov 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-11-22/create-own-vscode-extension/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52516420035_bc4b9df19c_o.png" alt="Featured image of post ä»Šå¤©ä¾†æä¸€å€‹å±¬æ–¼è‡ªå·±çš„ VScode Extension å§ï¼" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://ithelp.ithome.com.tw/articles/10240741" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://juejin.cn/post/7076649162653040647" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://wowissu.medium.com/%E4%BE%86%E9%BB%9E-vscode-extension-ac57d67514d" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="å‰è¨€">å‰è¨€&lt;/h2>
&lt;p>VScode ä½¿ç”¨è€…ä¸€å®šæœƒå®‰è£å„ç¨® Extension ä¾†å»ºç«‹ä¸€å€‹é©åˆè‡ªå·±çš„é–‹ç™¼ç’°å¢ƒï¼Œè€Œé€™äº›å¼·å¤§çš„ Extension å¤§éƒ¨åˆ†éƒ½ç”±ä¸–ç•Œå„åœ°çš„æ„›ç”¨è€…é–‹ç™¼ä¸¦ç™¼å¸ƒ(publish) ï¼Œä¸€åˆ‡éƒ½æ˜¯ç‚ºäº†è¦è®“ VSCode æ›´åŠ å¯¦ç”¨ä¸Šæ‰‹ç”šè‡³ç¾è§€ã€‚&lt;/p>
&lt;p>é€™ç¯‡å°±æ˜¯è¦åˆ†äº«å¦‚ä½•å»ºç«‹ä¸¦ç™¼ä½ˆä¸€å€‹ Extensionï¼Œè‹±æ–‡ç¨‹åº¦ä¸éŒ¯çš„å»ºè­°ç›´æ¥é–±è®€&lt;a class="link" href="https://code.visualstudio.com/api/get-started/your-first-extension" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ï¼Œæœƒæœ‰æ›´åŠ è©³ç´°çš„è§£èªª&lt;/p>
&lt;hr>
&lt;h2 id="é–‹ç™¼ç’°å¢ƒé…ç½®">é–‹ç™¼ç’°å¢ƒé…ç½®&lt;/h2>
&lt;p>åœ¨é–‹å§‹å‰ï¼Œè«‹ç…§ä¸‹æ–¹æŒ‡ç¤ºæ­£ç¢ºè¨­ç½®è‡ªå·±çš„ç’°å¢ƒã€‚&lt;/p>
&lt;h3 id="ç¢ºèªå·²å®‰è£-nodejs-èˆ‡-npm">ç¢ºèªå·²å®‰è£ nodejs èˆ‡ npm&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">node -v &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> npm -v
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœªå®‰è£å…©è€…ï¼Œè«‹å…ˆè‡³ &lt;a class="link" href="https://yeoman.io/codelab/setup.html" target="_blank" rel="noopener"
>Nodejs å®˜æ–¹ç¶²ç«™&lt;/a> ä¸‹è¼‰ã€‚npm æœƒéš¨è‘— nodejs ä¸‹è¼‰ä¸€ä½µè¢«å®‰è£ï¼Œæœ‰æ™‚å€™æ‚¨å¯èƒ½ä½¿ç”¨éèˆŠçš„ npmï¼Œé€™æ™‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤æ›´æ–°å®ƒåˆ°æœ€æ–°ç‰ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -g npm@latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœæ­£ç¢ºå®‰è£äº†ä»¥ä¸Šå…©è€…ï¼Œæœƒè·³å‡ºå…©è¡Œç‰ˆæœ¬è™Ÿè³‡è¨Šã€‚&lt;/p>
&lt;h5 id="export">exportï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">v16.15.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">8.15.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å®‰è£-yoman">å®‰è£ yoman&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516668268_b231312990_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;a class="link" href="https://yeoman.io/" target="_blank" rel="noopener"
>Yoman&lt;/a> æ˜¯ä¸€æ¬¾æµè¡Œå·²ä¹…çš„code generatorï¼Œå¯ä»¥å…è¨±æˆ‘å€‘ä½¿ç”¨yomanè¨­ç½®å°ˆæ¡ˆçš„æ¨£æ¿ï¼Œ
ä¸¦è®“æˆ‘å€‘ä½¿ç”¨ &lt;code>yo&lt;/code> æŒ‡ä»¤å¿«é€Ÿç”¢ç”Ÿæ¨£æ¿å°ˆæ¡ˆã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52515645617_10a85c7f0f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>VSCode å®˜æ–¹å·²ç¶“ç™¼å¸ƒäº† &lt;strong>VSCode Yoman&lt;/strong> å°ˆæ¡ˆï¼Œä¸¦ä¸”å®šæœŸæ›´æ–°ï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;code>yo&lt;/code> æŒ‡ä»¤ç”¢ç”Ÿ VSCode Extensionï¼Œç„¡éœ€æ‰‹å‹•é–‹ç™¼ yoman æ¨£æ¿ã€‚&lt;/p>
&lt;p>è«‹ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤å®‰è£yomanèˆ‡VSCode Extension Generatorï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -g yo generator-code
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®‰è£ yoman å¾Œï¼Œå†æ¬¡ä½¿ç”¨ç‰ˆæœ¬è™ŸæŒ‡ä»¤ç¢ºèªæœ‰ç„¡æ­£ç¢ºå®‰è£ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">yo --version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="ä½¿ç”¨-yo-å¿«é€Ÿç”¢ç”Ÿç¬¬ä¸€å€‹-extension-å°ˆæ¡ˆ">ä½¿ç”¨ yo å¿«é€Ÿç”¢ç”Ÿç¬¬ä¸€å€‹ Extension å°ˆæ¡ˆ&lt;/h2>
&lt;p>é¦–å…ˆï¼Œæ–¼ terminal é€²å…¥ä¸€å€‹è¦&lt;strong>æ”¾ç½®å°ˆæ¡ˆ&lt;/strong>çš„è³‡æ–™å¤¾å¾Œï¼Œä½¿ç”¨æŒ‡ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">yo code
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>generator æœƒè·³å‡ºæç¤ºï¼Œè®“æˆ‘å€‘é¸æ“‡è¦ç”¢ç”Ÿçš„ extension ç¨®é¡ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516668248_1f28068fe5_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é€™äº› Extension é¸é …çš„æè¿°èˆ‡èªªæ˜å¦‚ä¸‹ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Extension é¸é …&lt;/th>
&lt;th>æè¿°&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>New Extension(Typescript)&lt;/td>
&lt;td>ç”¢ç”Ÿä½¿ç”¨typescripté–‹ç™¼çš„extensionå°ˆæ¡ˆ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>New Extension(Javascript)&lt;/td>
&lt;td>ç”¢ç”Ÿä½¿ç”¨javascripté–‹ç™¼çš„extensionå°ˆæ¡ˆ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>New Color Theme&lt;/td>
&lt;td>é…ç½®VSCodeä»‹é¢é¡è‰²çš„æ“´å……å¥—ä»¶å°ˆæ¡ˆ(è©³è¦‹: Color Theme)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>New Language Support&lt;/td>
&lt;td>ç¨‹å¼èªè¨€(Programming Languages)æ“´å……å¥—ä»¶&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>New Code Snippets&lt;/td>
&lt;td>ç¨‹å¼ç¢¼ç‰‡æ®µæ“´å……å¥—ä»¶&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>New Keymap&lt;/td>
&lt;td>å¿«æ·éµæ“´å……å¥—ä»¶ï¼Œkeymapè®“ä½¿ç”¨è€…å¾—ä»¥åœ¨vscodeä¸­ä½¿ç”¨vimã€sublimeç­‰ç­‰ä¸åŒç·¨è¼¯å™¨çš„å¿«æ·éµé–‹ç™¼ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>New Extension Pack&lt;/td>
&lt;td>æ‰“åŒ…å¤šå€‹å·²ç™¼ä½ˆçš„extensionï¼Œè®“ä½¿ç”¨è€…ä¸€éµå¿«é€Ÿå®‰è£ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>New Language Pack (Localization)&lt;/td>
&lt;td>é…ç½®VSCodeç·¨è¼¯å™¨å¤šåœ‹èªæ°£çš„æ“´å……å¥—ä»¶ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>æˆ‘å€‘ä¾åºè¼¸å…¥å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>What type of extension do you want to create?&lt;br>
é¸æ“‡ä½ è¦å»ºç«‹çš„å°ˆæ¡ˆé¡å‹&lt;br>
é€™é‚Šæˆ‘é¸æ“‡ç¬¬ä¸€å€‹ &lt;code>New Extension(Typescript)&lt;/code> é¸é …&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Whatâ€™s the name of your extension?&lt;br>
Extension åç¨±: å°æ‡‰åˆ° package.json &amp;ldquo;displayName&amp;rdquo;&lt;br>
é€™è£¡æˆ‘è¼¸å…¥ï¼š &lt;code>wconvert&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Whatâ€™s the identifier of your extension?&lt;br>
è­˜åˆ¥ç¢¼ï¼šå°æ‡‰åˆ° package.json &amp;ldquo;name&amp;rdquo;&lt;br>
é€™è£¡æˆ‘è¼¸å…¥ï¼š &lt;code>wconvert&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Whatâ€™s the description of your extension?&lt;br>
æè¿°: å°æ‡‰åˆ° package.json &amp;ldquo;description&amp;rdquo;&lt;br>
é€™è£¡æˆ‘è¼¸å…¥ï¼š &lt;code>my first vscode extension practice.&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Initialize a git repository?&lt;br>
æ˜¯å¦è¦ä½¿ç”¨ git&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bundle the source code with webpack?&lt;br>
æ˜¯å¦è¦ä½¿ç”¨ webpack åšåŸå§‹ç¢¼çš„ bundle&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Which package manager to use?&lt;br>
è¦ä½¿ç”¨å“ªå€‹å¥—ä»¶ç®¡ç†å·¥å…·&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516598905_e15e8f8c7d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>è®“å­å½ˆé£›ä¸€æœƒå…’ï¼Œæœ€å¾Œ generator æœƒè©¢å•æ˜¯å¦ä½¿ç”¨ vscode æ‰“é–‹ï¼Œé€™é‚Šé¸æ“‡æ‰“é–‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516388099_78c5b73838_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="extension-å°ˆæ¡ˆé‡é»ç›¸é—œæª”æ¡ˆä»‹ç´¹">Extension å°ˆæ¡ˆé‡é»ç›¸é—œæª”æ¡ˆä»‹ç´¹&lt;/h2>
&lt;p>æ‰“é–‹å¾Œï¼Œæˆ‘å€‘æœƒçœ‹åˆ°ä¸€å€‹ nodejs çš„ typescript å°ˆæ¡ˆï¼Œçµæ§‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516668243_abf1262288_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ .vscode
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”œâ”€â”€ extensions.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”œâ”€â”€ launch.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”œâ”€â”€ settings.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â””â”€â”€ tasks.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ node_modules
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ src
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”œâ”€â”€ extension.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â””â”€â”€ &lt;span class="nb">test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”œâ”€â”€ runTest.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â””â”€â”€ suite
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”œâ”€â”€ extension.test.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â””â”€â”€ index.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ .eslintrc.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ .gitignore
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ .vscodeignore
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ CHANGELOG.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ package-lock.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ package.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ tsconfig.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ vsc-extension-quickstart.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>.vscode/*ï¼š &lt;strong>workspace&lt;/strong> è¨­å®š&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>æª”æ¡ˆåç¨±&lt;/th>
&lt;th>èªªæ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>task.json&lt;/td>
&lt;td>è¨­å®š defaultBuild Taskï¼Œç”¨æ–¼ compile extension å°ˆæ¡ˆçš„ typescript ç¨‹å¼ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>launch.json&lt;/td>
&lt;td>é…ç½® debug mode çš„å…©å€‹é¸é …ï¼š&lt;strong>Run extension&lt;/strong> èˆ‡ &lt;strong>Test extension&lt;/strong>ï¼Œç”¨æ–¼åŸ·è¡Œ extension ä¸»ç¨‹å¼èˆ‡ç›¸é—œæ¸¬è©¦ç¨‹å¼ï¼Œç¨‹å¼åŸ·è¡Œå‰ï¼Œæœƒå…ˆåŸ·è¡Œ &lt;strong>defulat buildTask&lt;/strong>ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>settings.json&lt;/td>
&lt;td>extension å°ˆæ¡ˆçš„è¨­å®šæª”ï¼Œæ­¤è™•çš„è¨­å®šæœƒè¦†è“‹ &lt;strong>user settings&lt;/strong> è·Ÿ &lt;strong>default settings&lt;/strong>ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>extensions.json&lt;/td>
&lt;td>è¨­å®šç”¨æ–¼è¼”åŠ© extension å°ˆæ¡ˆå®‰è£çš„ &lt;strong>extension recommendations list&lt;/strong>ï¼Œæ­¤è™•æ¨è–¦å®‰è£ &lt;strong>eslint extension&lt;/strong>ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>src/extensions.tsï¼š &lt;strong>ä¸»ç¨‹å¼&lt;/strong>æª”æ¡ˆ&lt;/li>
&lt;li>src/test.tsï¼š &lt;strong>æ¸¬è©¦ç¨‹å¼&lt;/strong>æª”æ¡ˆ&lt;/li>
&lt;li>.eslintrc.jsonï¼š ç”¨æ–¼ extension å°ˆæ¡ˆçš„ &lt;strong>eslint è¨­ç½®&lt;/strong>&lt;/li>
&lt;li>.vscodeignoreï¼š ç”¨æ–¼å¿½ç•¥&lt;strong>ä¸æ‰“åŒ…&lt;/strong>é€²ç™¼å¸ƒå¥—ä»¶çš„å°ˆæ¡ˆæª”æ¡ˆ&lt;/li>
&lt;li>tsconfig.jsonï¼š ç”¨æ–¼å°ˆæ¡ˆ &lt;strong>ts compiler&lt;/strong> çš„è¨­å®šé¸é …&lt;/li>
&lt;li>package.jsonï¼š ç”¨æ–¼é…ç½® node ç›¸é—œä¾è³´èˆ‡ç›¸é—œ npm scriptï¼Œåœ¨ extension å°ˆæ¡ˆè£¡ï¼Œpackage.json äº¦ç”¨æ–¼é…ç½® extension é‡è¦ç›¸é—œè¨­å®š (è©³è¦‹: &lt;a class="link" href="https://code.visualstudio.com/api/references/extension-manifest" target="_blank" rel="noopener"
>Extension Manifest&lt;/a>)&lt;/li>
&lt;li>vsc-extension-quickstart.mdï¼š ç”¢ç”Ÿçš„ extension å°ˆæ¡ˆçš„ &lt;strong>markdown èªªæ˜æ–‡ä»¶&lt;/strong>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="extension-å°ˆæ¡ˆç¨‹å¼ç°¡ä»‹">Extension å°ˆæ¡ˆç¨‹å¼ç°¡ä»‹&lt;/h2>
&lt;p>è®“æˆ‘å€‘æ‰“é–‹ &lt;code>extension.ts&lt;/code> å§ï¼Œæ‰“é–‹å¾Œå¯ä»¥çœ‹è¦‹ &lt;code>extension.ts&lt;/code> è£¡é¢æœ‰å€‹ &lt;code>active function&lt;/code> è·Ÿ &lt;code>deactive function&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516668223_68bd8009b0_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;code>active function&lt;/code> ç‚º extension ç¨‹å¼çš„&lt;code>é€²å…¥é»&lt;/code>ã€‚ç•¶ extension è¢« active äº‹ä»¶å•Ÿå‹•æ™‚ï¼Œå³æœƒåŸ·è¡Œ extension ç¨‹å¼ã€‚&lt;/p>
&lt;p>å› æ­¤æˆ‘å€‘å¯ä»¥æŸ¥çœ‹ &lt;code>pakcage.json&lt;/code>ï¼Œpackage.json é…ç½®äº† &lt;code>activeEvents&lt;/code> æ¸…å–®ï¼Œå¯ä»¥çœ‹åˆ°æ¸…å–®è£¡åˆ—å‡ºè·Ÿactive æœ‰é—œçš„è¨­å®š &lt;code>activationEvents&lt;/code>ã€‚&lt;/p>
&lt;h5 id="packagejson">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;activationEvents&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;onCommand:wconvert.helloWorld&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>activationEvents&lt;/code> æŒ‡å®šäº†ä¸€å€‹ &lt;code>hello world&lt;/code> commandï¼Œæ­¤å³æ˜¯èªªï¼Œç•¶ä½¿ç”¨è€…åŸ·è¡Œ &lt;code>hello world&lt;/code> command æ™‚ï¼Œextension å³æœƒæ´»èºä¸¦åŸ·è¡Œ &lt;code>active function&lt;/code>ã€‚&lt;/p>
&lt;p>æ­¤è™•çš„ &lt;code>onCommand&lt;/code> èªæ³•ç‚ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">onCommand: &lt;span class="si">${&lt;/span>&lt;span class="nv">commandId&lt;/span>&lt;span class="si">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‚£éº¼ï¼Œcommand çš„ id æ˜¯åœ¨å“ªè£¡é…ç½®çš„å‘¢ï¼Ÿ&lt;/p>
&lt;p>ä¸€æ¨£æ˜¯åœ¨ &lt;code>package.json&lt;/code> è£¡ï¼Œæˆ‘å€‘å¯ä»¥åˆ° &lt;code>contributes&lt;/code> å±¬æ€§ (&lt;code>Contribution Point&lt;/code>: è©³è¦‹ &lt;a class="link" href="https://code.visualstudio.com/api/references/contribution-points#contributes.configurationDefaults" target="_blank" rel="noopener"
>Contribution Point&lt;/a>) ä¸‹é¢æŸ¥çœ‹ï¼š&lt;/p>
&lt;h5 id="packagejson-1">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;contributes&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;commands&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;wconvert.helloWorld&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Hello World&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°åœ¨ &lt;code>contrubutes&lt;/code> å±¬æ€§ä¸‹é¢å·²ç¶“é…ç½®äº† &lt;code>commands&lt;/code> æ¸…å–®ï¼Œè£¡é¢æ¢åˆ—è‘—ä¸€å€‹ &lt;code>command&lt;/code> è¨­å®šï¼Œæ­¤è™• &lt;code>command&lt;/code> è¨­å®šçš„èªæ³•ç‚ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">/**&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">*&lt;/span> &lt;span class="err">è¢«ç”¢ç”Ÿçš„Commandæœƒé è¨­ä½¿ç”¨extensionçš„idä½œç‚ºnamespaceï¼Œäº¦å¯è‡ªè¨‚å…¶ä»–Namespaceåç¨±&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="err">è‡ªå®šç¾©çš„command-id&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="err">Commandçš„æ¨™é¡Œå…§å®¹&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ç•¶æˆ‘å€‘ä½¿ç”¨ Command Palette (&lt;strong>Cmd/Ctrl + Shift + P&lt;/strong>) æœå°‹ Command ä¸¦åŸ·è¡Œæ™‚ï¼Œæ˜¯ä½¿ç”¨ Command çš„ &lt;strong>Title&lt;/strong> æœå°‹ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>å¥½ï¼Œç¾åœ¨æˆ‘å€‘å·²ç¶“äº†è§£å¦‚ä½•åœ¨ &lt;code>Contribution Point&lt;/code> è¨­å®šç°¡å–®çš„ Command id è·Ÿ titleï¼Œä»¥åŠè¨­å®šå®ƒç‚ºæ´»èº extension çš„ eventã€‚ç¾åœ¨å›åˆ° &lt;code>extension.ts&lt;/code> çš„ active function å§ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">activate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">context&lt;/span>: &lt;span class="kt">vscode.ExtensionContext&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Use the console to output diagnostic information (console.log) and errors (console.error)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// This line of code will only be executed once when your extension is activated
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Congratulations, your extension &amp;#34;wconvert&amp;#34; is now active!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// The command has been defined in the package.json file
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Now provide the implementation of the command with registerCommand
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// The commandId parameter must match the command field in package.json
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">disposable&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">registerCommand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;wconvert.helloWorld&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// The code you place here will be executed every time your command is executed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Display a message box to the user
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showInformationMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello World from wconvert!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subscriptions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">disposable&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å¯ä»¥çœ‹åˆ°ï¼Œ&lt;code>active function&lt;/code> è£¡é¢åœ¨ extenions æ´»èºå¾Œå°‡è¨»å†Šæˆ‘å€‘åœ¨ &lt;code>Contribution Point&lt;/code> é‚£é‚Šè¨­å®šçš„ command idï¼Œä¸¦ä¸”æœ‰ä¸€å€‹ callback å‡½å¼ï¼Œç•¶æˆ‘å€‘é…ç½®çš„ command åŸ·è¡Œä¹‹å¾Œï¼Œå³æœƒåœ¨ vscode è£¡è·³å‡ºé¡¯ç¤ºã€Œ&lt;strong>Hello World from day05-first-command!&lt;/strong>ã€çš„è¨Šæ¯ã€‚&lt;/p>
&lt;p>é€™å€‹è¨»å†Šéå¾Œçš„ command å‡½å¼ (disposable) æœƒå† push é€² extension context è£¡é¢ï¼Œå¦‚æ­¤ç•¶ extension è¢«é—œé–‰å¾Œï¼ŒVSCode å°±å¯ä»¥è‡ªå‹•é‡‹æ”¾ listen é€™å€‹ command çš„ç›¸é—œè³‡æºã€‚&lt;/p>
&lt;hr>
&lt;h2 id="åŸ·è¡Œ-extension-å°ˆæ¡ˆæ‡‰ç”¨ç¨‹å¼">åŸ·è¡Œ extension å°ˆæ¡ˆæ‡‰ç”¨ç¨‹å¼&lt;/h2>
&lt;p>è®“æˆ‘å€‘ä¾†åŸ·è¡Œ extension å§ï¼Œvscode å°ˆæ¡ˆå·²ç¶“å¹«æˆ‘å€‘é…ç½®å¥½äº† &lt;code>lanunch.json&lt;/code>ï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥åœ¨ &lt;strong>debug mode&lt;/strong> è£¡åŸ·è¡Œ extensionã€‚è®“æˆ‘å€‘é»é–‹ã€Œ&lt;strong>Run and Debug&lt;/strong>ã€ï¼Œå†é»æ“Š sidebar ä¸Šæ–¹çš„ &lt;code>Run Extension&lt;/code> æ—çš„&lt;strong>åŸ·è¡ŒæŒ‰éˆ•&lt;/strong>é–‹å§‹ extension å§ï¼(æ­¤è™•çš„å¿«æ·éµç‚º &lt;code>F5&lt;/code>)&lt;/p>
&lt;p>åŸ·è¡Œå¾Œï¼Œvscode æœƒé–‹å•Ÿä¸€å€‹&lt;strong>æ–°çš„ vscode çš„ window è¦–çª—&lt;/strong>ï¼Œwindow è¦–çª—ä¸Šçš„ title æœƒè¨»æ˜é€™å€‹è¦–çª—ç‚º &lt;code>[Extension Development Host]&lt;/code> ä¸¦é è¨­è¼‰å…¥ extension äº†ï¼Œæˆ‘å€‘å¯ä»¥åœ¨é€™å€‹è¦–çª—æ“ä½œæˆ‘å€‘é–‹ç™¼ä¸­çš„ extensionï¼Œä¸¦ä¸”ä½¿ç”¨ä¸­æ–·é»åµéŒ¯ã€‚&lt;/p>
&lt;h3 id="æª¢æŸ¥å·²è¢«è¨»å†Šçš„-command">æª¢æŸ¥å·²è¢«è¨»å†Šçš„ command&lt;/h3>
&lt;p>å…ˆä¾†æª¢æŸ¥ä¸€ä¸‹å‰›æ‰è¨»å†Šçš„ commandï¼Œåœ¨ &lt;code>Contribution Point&lt;/code> è£¡å®£å‘Šçš„ Commandï¼Œä¸€æ¨£åœ¨ &lt;code>Keyboard Shortcuts&lt;/code> ä¸‹æ–¹å¯ä»¥æœå°‹çš„åˆ°ã€‚å¾ &lt;strong>Manager &amp;gt; Keyboard Shortcuts&lt;/strong> é€²å…¥ &lt;code>Keyboard Shortcuts&lt;/code> é ä¸­ï¼Œä¸¦åœ¨æœå°‹æ¢ä¸Šè¼¸å…¥ &lt;strong>wconvert&lt;/strong>ï¼Œä½¿ç”¨ extension id ä¾†åˆ—å‡ºå‰›æ‰è¨»å†Šçš„ commandã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516668213_5061107e60_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52515645567_5d83d2fff0_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>è¼¸å…¥å¾Œæˆ‘å€‘å¯ä»¥çœ‹åˆ°ï¼ŒCommand å·²æ­£ç¢ºè¢«è¨»å†Šã€‚&lt;/p>
&lt;h3 id="åŸ·è¡Œè¨»å†Šå¾Œçš„-command">åŸ·è¡Œè¨»å†Šå¾Œçš„ Command&lt;/h3>
&lt;p>ç¾åœ¨ï¼Œæˆ‘å€‘æ‰“é–‹ &lt;strong>Command Palette (å¿«æ·éµï¼šCmd/Ctrl + Shift + P)&lt;/strong>ï¼Œè¼¸å…¥ &lt;code>hello world&lt;/code>ï¼Œä½¿ç”¨è¨»å†Šçš„ &lt;strong>Command Title&lt;/strong> æŸ¥æ‰¾åˆ° commandã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516598845_15b1b64528_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç„¶å¾Œï¼Œé»æ“Šä¸‹å»ï¼Œæˆ‘å€‘å¯ä»¥çœ‹åˆ° vscode çš„ window æ­£ç¢ºè·³å‡ºã€Œ&lt;strong>Hello World from day05-first-command!&lt;/strong>ã€è¨Šæ¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516668188_bc100ba36a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç„¶å¾Œï¼Œæˆ‘å€‘å›åˆ°&lt;strong>åŸæœ¬å°ˆæ¡ˆ&lt;/strong>çš„ Vscode Windowï¼Œæˆ‘å€‘å¯ä»¥åœ¨å°ˆæ¡ˆçš„ &lt;strong>debug console&lt;/strong> æª¢è¦– active function ä¸‹é¢çš„ console.log è¨Šæ¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516388004_f7b61f5236_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="åŠ å…¥å¥—ä»¶é‚è¼¯">åŠ å…¥å¥—ä»¶é‚è¼¯&lt;/h2>
&lt;blockquote>
&lt;p>é€™é‚Šå¯ä»¥ä¾ç…§ä½ çš„éœ€æ±‚é€²è¡Œå¥—ä»¶é‚è¼¯çš„é–‹ç™¼ï¼Œæˆ‘åªæ˜¯å¯«ä¾†ç©è€Œå·²ï¼Œæ­¤è™•åƒè€ƒå³å¯ï¼&lt;/p>
&lt;/blockquote>
&lt;h3 id="è¨»å†Šè‡ªå·±æƒ³è¦ä½¿ç”¨çš„-command">è¨»å†Šè‡ªå·±æƒ³è¦ä½¿ç”¨çš„ Command&lt;/h3>
&lt;p>æˆ‘æ‰“ç®—è£½ä½œä»¥ä¸‹å¹¾å€‹åŠŸèƒ½ï¼š&lt;/p>
&lt;ol>
&lt;li>è¼¸å…¥æŒ‡å®šçš„æ™‚é–“æ ¼å¼ï¼Œæœƒåœ¨&lt;strong>ç•¶å‰æª”æ¡ˆæŒ‡æ¨™ä½ç½®æ’å…¥ç”¢ç”Ÿçš„æ™‚é–“æˆ³&lt;/strong>&lt;/li>
&lt;li>è¼¸å…¥æŒ‡å®šçš„æ™‚é–“æ ¼å¼ï¼Œåƒ…æœƒåœ¨&lt;strong>vscode çš„ window é¡¯ç¤º&lt;/strong>&lt;/li>
&lt;li>å°‡é¸å–èµ·ä¾†çš„æ™‚é–“æˆ³ï¼Œè½‰æ›ç‚ºæŒ‡å®šæ™‚å€çš„æ™‚é–“æ ¼å¼(é€™é‚Šä»¥ &lt;strong>YYYY-MM-DD hh:mm:ss.milsecond&lt;/strong> æ ¼å¼ç‚ºä¸»)&lt;/li>
&lt;/ol>
&lt;p>é™„ä¸Šå®Œæˆå¾Œçš„ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;h5 id="extensionts">extension.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;span class="lnt">87
&lt;/span>&lt;span class="lnt">88
&lt;/span>&lt;span class="lnt">89
&lt;/span>&lt;span class="lnt">90
&lt;/span>&lt;span class="lnt">91
&lt;/span>&lt;span class="lnt">92
&lt;/span>&lt;span class="lnt">93
&lt;/span>&lt;span class="lnt">94
&lt;/span>&lt;span class="lnt">95
&lt;/span>&lt;span class="lnt">96
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="kr">as&lt;/span> &lt;span class="nx">vscode&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;vscode&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">activate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">context&lt;/span>: &lt;span class="kt">vscode.ExtensionContext&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">placeHolder&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showInputBox&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">placeHolder&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">pad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">num&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">size&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">num&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">size&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;0&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// show timestamp at vscode Information Window
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">showTimestamp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">datetime&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">timestamp&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kc">undefined&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">NaN&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">timestamp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">datetime&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">getTime&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">timestamp&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s2">&amp;#34;number&amp;#34;&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nb">isNaN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">timestamp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nx">timestamp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;NaN&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">askDateTime&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showInformationMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">timestamp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showErrorMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Invalid Date.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">askDateTime&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// create input with asking DateTime
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">askDateTime() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">fullDateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;DateTime (format: YYYY-MM-DD hh:mm:ss.ms) (example: 2022-12-31 23:59:59.999)ï¼š&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">fullDateTime&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">showTimestamp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fullDateTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Insert timestamp at cursor position
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">registerTextEditorCommand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;wconvert.genTimestamp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">editor&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">edit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">fullDateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;DateTime (format: YYYY-MM-DD hh:mm:ss.ms) (example: 2022-12-31 23:59:59.999)ï¼š&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">fullDateTime&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">timestamp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fullDateTime&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">getTime&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nb">isNaN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">timestamp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="k">typeof&lt;/span> &lt;span class="nx">timestamp&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;number&amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">timestamp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s2">&amp;#34;NaN&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">editor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">edit&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">editBuilder&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">editor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">selections&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forEach&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">selectionItem&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">editBuilder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">insert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">selectionItem&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">active&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">timestamp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showErrorMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Datetime convert failed.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showErrorMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Invalid Date.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// only show generated timestamp
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">generateTimestamp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">registerCommand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;wconvert.genTimestampJustShow&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">askDateTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// format timestamp to YYYY-MM-DD HH:mm:ss that selections
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">timestamp2DateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">registerTextEditorCommand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;wconvert.timestamp2dateTime&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">editor&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">edit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">offsetStr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Time zone (example: +8)ï¼š&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">offset&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Number&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">offsetStr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">editor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">edit&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">editBuilder&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">editor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">selections&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forEach&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">selectionItem&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">selection&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">editor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">selectionItem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">dateArr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">parseInt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">selection&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">offset&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toISOString&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;T&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">YYYYMMDD&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">hhmmss&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">dateArr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">year&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">month&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">day&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">YYYYMMDD&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;-&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">hour&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">minute&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fullSecond&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">hhmmss&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;:&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">second&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">millionSecondZ&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">fullSecond&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">millionSecond&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">millionSecondZ&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">replace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">fullDateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">year&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">-&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">pad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">month&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">-&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">pad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">day&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">pad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">hour&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">:&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">pad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">minute&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">:&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">pad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">second&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">.&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">pad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">millionSecond&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">&amp;#34;`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">editBuilder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">replace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">selectionItem&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fullDateTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showErrorMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Invalid Date.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subscriptions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">timestamp2DateTime&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">generateTimestamp&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">deactivate() {&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>package.json&lt;/strong> çš„ &lt;strong>activationEvents&lt;/strong> è¨˜å¾—åŠ ä¸Šæ¬²è¨»å†Šä½¿ç”¨çš„ commandï¼Œä¹Ÿå¯ç›´æ¥ä½¿ç”¨ &lt;code>&amp;quot;*&amp;quot;&lt;/code>ï¼Œå°‡å…¨éƒ¨çš„ command æš´éœ²å‡ºå»ï¼&lt;/p>
&lt;h5 id="packagejson-2">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;wconvert&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;displayName&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;wconvert&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;help you convert datetime value&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;1.0.3&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;icon&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;photo.jpeg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;publisher&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;4006wayne&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;repository&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;type&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;git&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://github.com/wjdesign/vscode-extension-wconvert.git&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;homepage&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://github.com/wjdesign/vscode-extension-wconvert/blob/master/README.md&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;pricing&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Free&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;engines&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;vscode&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^1.73.0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;categories&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Other&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;activationEvents&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;onCommand:wconvert.timestamp2dateTime&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;onCommand:wconvert.genTimestamp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;onCommand:wconvert.genTimestampJustShow&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;main&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./out/extension.js&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;contributes&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;commands&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;wconvert.timestamp2dateTime&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;WConvert: DateTime to timestamp&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;wconvert.genTimestamp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;WConvert: Generate Timestamp&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;wconvert.genTimestampJustShow&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;WConvert: Generate Timestamp Only Show&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;vscode:prepublish&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;npm run compile&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;compile&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;tsc -p ./&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;watch&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;tsc -watch -p ./&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;pretest&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;npm run compile &amp;amp;&amp;amp; npm run lint&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;lint&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;eslint src --ext ts&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;node ./out/test/runTest.js&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;devDependencies&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@types/vscode&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^1.73.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@types/glob&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^8.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@types/mocha&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^10.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@types/node&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;16.x&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@typescript-eslint/eslint-plugin&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^5.42.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@typescript-eslint/parser&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^5.42.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;eslint&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^8.26.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;glob&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^8.0.3&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;mocha&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^10.1.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;typescript&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^4.8.4&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@vscode/test-electron&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^2.2.0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://github.com/wjdesign/vscode-extension-wconvert.git" target="_blank" rel="noopener"
>ç¯„ä¾‹ repo&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="vsce">vsce&lt;/h2>
&lt;p>æ‰“åŒ…ä¸¦ç™¼å¸ƒ Extensionï¼Œ&lt;a class="link" href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>&lt;/p>
&lt;p>ä½¿ç”¨ &lt;strong>vsce&lt;/strong> ä¾†&lt;strong>æ‰“åŒ…&lt;/strong>èˆ‡&lt;strong>ç™¼å¸ƒ&lt;/strong>æˆ‘çš„ Extension&lt;/p>
&lt;p>é¦–å…ˆå…¨å±€å®‰è£ vsceï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm i -g vsce
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ‰“åŒ…">æ‰“åŒ…&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vsce package
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸‹å®ŒæŒ‡ä»¤å¾Œï¼Œæœƒå› ç‚ºæ²’æœ‰ LICENSE æª”æ¡ˆè€Œè©¢å•æ˜¯å¦ç¹¼çºŒï¼Œé€™é‚Šé¸æ“‡ &lt;strong>Y&lt;/strong> ç›´æ¥ä¸‹ä¸€æ­¥å³å¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516387984_83999b3838_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å®Œæˆå¾Œæœƒåœ¨æŒ‡å®šä½ç½®ç”¢ç”Ÿä¸€å€‹ &lt;strong>.vsix&lt;/strong> æª”æ¡ˆï¼Œæ­¤å³ç‚ºæˆ‘çš„ &lt;strong>Extensions&lt;/strong>ã€‚&lt;/p>
&lt;h3 id="æœ¬åœ°å®‰è£æˆ‘çš„-extension">æœ¬åœ°å®‰è£æˆ‘çš„ Extension&lt;/h3>
&lt;p>è‹¥åªæ˜¯è¦è£½ä½œä¸€å€‹è‡ªå·±ç”¨çš„ extensionï¼Œæ²’æœ‰æ‰“ç®—ç™¼å¸ƒåˆ°ç¶²ä¸Šï¼Œåˆ°æ­¤æ­¥é©Ÿå³å¯ã€‚&lt;/p>
&lt;p>æ–¼ VScode çš„ Extensions é ç±¤ï¼Œé¸æ“‡ &lt;code>Install from VSIX&lt;/code>ï¼Œé¸æ“‡å‰›å‰›ç”¢ç”Ÿçš„ &lt;strong>.vsix&lt;/strong> æª”ï¼Œå³å¯å®Œæˆå®‰è£ï¼Œåœ¨ Extensions çš„ &lt;strong>INSTALLED&lt;/strong> å…§å³å¯çœ‹åˆ°è‡ªå·±çš„ extensionã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516120346_6d5ba5a634_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516668143_944d432b0b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="ç™¼å¸ƒåˆ°-marketplace-å‰çš„æº–å‚™">ç™¼å¸ƒåˆ° Marketplace å‰çš„æº–å‚™&lt;/h2>
&lt;blockquote>
&lt;p>è¨˜ä½ï¼æ¯æ¬¡ç™¼ä½ˆéƒ½è¦å¹«ç‰ˆæœ¬è™ŸåŠ ä¸€ä¸‹ï¼&lt;/p>
&lt;/blockquote>
&lt;h5 id="packagejson-3">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0.0.1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>vsce è¦æ±‚ &lt;strong>Personal Access Token&lt;/strong> å€‹äººè¨ªå•é‡‘é‘°ï¼Œä»¥ä¸‹çš„æ­¥é©Ÿåœ–ç‰‡ä¾†æºç‚º&lt;a class="link" href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension#get-a-personal-access-token" target="_blank" rel="noopener"
>å®˜æ–¹èªªæ˜æ–‡ä»¶&lt;/a>&lt;/p>
&lt;p>é¦–å…ˆè«‹åˆ° &lt;a class="link" href="https://dev.azure.com/" target="_blank" rel="noopener"
>https://dev.azure.com/&lt;/a> ç”³è«‹å¸³è™Ÿä¸¦ç™»å…¥ï¼Œåœ¨å³ä¸Šè§’æ‰“é–‹ &lt;strong>Personal access tokens&lt;/strong> é é¢ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516120321_319034d250_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é»é¸ &lt;strong>New Token&lt;/strong> æŒ‰éˆ•ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516120311_3b05a19de2_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>çµ¦é€™å€‹æ–° Tokenä¸€å€‹åå­—ã€éæœŸæ™‚é–“ï¼Œé‡é»æ˜¯ Organization è«‹é¸æ“‡ &lt;code>All accessiable organization&lt;/code>ï¼Œé»é¸ &lt;code>Custom defined&lt;/code> ä¸¦é»é¸ &lt;code>Show all scopes&lt;/code> æ‰“é–‹æ‰€æœ‰é¸é …ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516598710_1a7bbd760b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æ‰¾åˆ° &lt;code>Marketplace&lt;/code> é …ç›®å‹¾é¸ &lt;code>Acquire&lt;/code> èˆ‡ &lt;code>Manage&lt;/code> å¾Œé»é¸ &lt;strong>Create&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516120281_7c0a59106d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç„¶å¾Œä½ æœƒå¾—åˆ°ä¸€å€‹ &lt;strong>Token&lt;/strong> è«‹è¤‡è£½ä¸‹ä¾†ã€‚&lt;/p>
&lt;h3 id="å»ºç«‹ç™¼ä½ˆå™¨---publisher">å»ºç«‹ç™¼ä½ˆå™¨ - Publisher&lt;/h3>
&lt;p>å»ºç«‹ä¸€å€‹ &lt;strong>Publisher&lt;/strong> ç”¨ä¾†å„²å­˜ç™¼ä½ˆçš„ Token ï¼Œè«‹åœ¨ &lt;code>package.json&lt;/code> ä¸­æŒ‡å®šè¦ä½¿ç”¨çš„ç™¼ä½ˆå™¨&amp;quot;publisher&amp;quot;: (publisher name)&lt;/p>
&lt;h5 id="packagejson-4">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;publisher&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{your publisher name}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä½¿ç”¨-marketplace-å¾Œå°å»ºç«‹-publisher">ä½¿ç”¨ Marketplace å¾Œå°å»ºç«‹ Publisher&lt;/h4>
&lt;p>è«‹åˆ° &lt;a class="link" href="https://marketplace.visualstudio.com/manage/publishers/" target="_blank" rel="noopener"
>https://marketplace.visualstudio.com/manage/publishers/&lt;/a> å»ºç«‹ä¸€å€‹ Publisherã€‚&lt;/p>
&lt;h4 id="ä½¿ç”¨-vsce-æŒ‡ä»¤å»ºç«‹-publisher">ä½¿ç”¨ vsce æŒ‡ä»¤å»ºç«‹ Publisher&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vsce create-publisher &lt;span class="o">(&lt;/span>publisher name&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¼¸å…¥å‰›å‰›çš„ &lt;strong>Personal access token&lt;/strong>ï¼Œvsce å°‡æœƒè¨˜å¾—é€™å€‹ publisher èˆ‡ token ä»¥æ–¹ä¾¿å¿«é€Ÿç™¼ä½ˆã€‚&lt;/p>
&lt;h4 id="token-æ›´æ–°">Token æ›´æ–°&lt;/h4>
&lt;p>åœ¨æˆ‘å€‘å»ºç«‹ token æ™‚ï¼Œtoken æ˜¯æœ‰æ•ˆæœŸçš„ï¼Œç•¶ token éæœŸæ™‚æˆ‘å€‘å°±éœ€è¦ä»¥ä¸‹é€™å€‹æŒ‡ä¾†æ›´æ–° tokenï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vsce login &lt;span class="o">(&lt;/span>publisher name&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç™¼å¸ƒæ–¹å¼ä¸€ä½¿ç”¨-vsce-ç™¼å¸ƒ-extension">ç™¼å¸ƒæ–¹å¼(ä¸€)ï¼šä½¿ç”¨ vsce ç™¼å¸ƒ extension&lt;/h3>
&lt;p>ä¸‹æŒ‡ä»¤ç™¼å¸ƒåˆ° Marketplaceï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vsce publish
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ vsce show ç¢ºèª extension çš„è³‡è¨Šï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vsce show {publisher name}.{extension id}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vsce show 4006wayne.wconvert
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516598715_eb7f3669d6_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ä¹Ÿå¯ä»¥åœ¨ vsce publish æ™‚&lt;strong>ç›´æ¥æŒ‡å®š&lt;/strong> tokenï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vsce publish -p &amp;lt;token&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç™¼å¸ƒæ–¹å¼äºŒä½¿ç”¨-marketplace-å¾Œå°ä¸Šå‚³ç™¼å¸ƒ-extension">ç™¼å¸ƒæ–¹å¼(äºŒ)ï¼šä½¿ç”¨ Marketplace å¾Œå°ä¸Šå‚³ï¼Œç™¼å¸ƒ extension&lt;/h3>
&lt;p>å‰å¾€ç¶²å€ &lt;a class="link" href="https://marketplace.visualstudio.com/manage/publishers/" target="_blank" rel="noopener"
>https://marketplace.visualstudio.com/manage/publishers/&lt;/a>ï¼Œé¸æ“‡å‰›å‰›å‰µå»ºçš„ Publisherã€‚&lt;/p>
&lt;p>é»é¸ &lt;code>New extension&lt;/code> &amp;gt; &lt;code>Visual Studio Code&lt;/code>ï¼Œé¸æ“‡å‰›å‰› package å‡ºä¾†çš„ &lt;strong>.vsix&lt;/strong> æª”æ¡ˆå¾Œä¸Šå‚³ã€‚&lt;/p>
&lt;p>ä¸Šå‚³å¾Œç­‰å¾…é©—è­‰ï¼Œé©—è­‰å®Œç•¢å¾Œå³å¯çœ‹åˆ°æˆ‘çš„ extensionï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516120256_c2c653269d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="çµèª">çµèª&lt;/h2>
&lt;p>åˆ°é€™è£¡æˆ‘å·²ç¶“æˆåŠŸç™¼ä½ˆæˆ‘çš„ç¬¬ä¸€å€‹ Extension äº†ï¼&lt;/p>
&lt;p>é€™æ˜¯æˆ‘å¯«çš„ç¬¬ä¸€å€‹ &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=4006wayne.wconvert" target="_blank" rel="noopener"
>Extension&lt;/a>ï¼ŒåŠŸèƒ½å¾ˆé™½æ˜¥ï¼Œç”¨é€”æ˜¯ç”¢ç”ŸæŒ‡å®šæ™‚é–“çš„æ™‚é–“æˆ³èˆ‡æ™‚é–“æˆ³è½‰å›æŒ‡å®šæ™‚å€çš„æ™‚é–“æ ¼å¼ã€‚&lt;/p>
&lt;p>éå¸¸æ¨è–¦ä½¿ç”¨ &lt;strong>Typescript&lt;/strong> æœƒæ¯”è¼ƒå®¹æ˜“é–‹ç™¼ï¼Œä¸ç„¶è¦æŸ¥&lt;a class="link" href="https://code.visualstudio.com/api/references/vscode-api" target="_blank" rel="noopener"
>å®˜æ–¹API&lt;/a>æœƒçœ‹å¾—å¾ˆç—›è‹¦ï¼Œç•¢ç«Ÿç¯„ä¾‹ä¸å¤šæˆ–è€…éƒ½è¦ä¸‹è¼‰æ‰èƒ½çœ‹ã€‚&lt;/p>
&lt;p>å¯¦éš›æ’°å¯«æ™‚æœƒé‡åˆ° VScode API åˆ°åº•æœ‰å“ªäº›åŠŸèƒ½å¯ä»¥ä½¿ç”¨çš„å•é¡Œï¼Œç”šè‡³è¦å»äº†è§£ VScode çš„è¨­è¨ˆçµæ§‹ï¼&lt;/p>
&lt;hr>
&lt;h2 id="å¸¸è¦‹å•é¡Œ">å¸¸è¦‹å•é¡Œ&lt;/h2>
&lt;h3 id="extension-validation-error">Extension validation error&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52515645457_6ccdbc151e_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å‡ºç¾å¦‚åœ–çš„å•é¡Œï¼Œè‡ªè¡Œæ’æŸ¥ extension ç¨‹å¼ç¢¼å¾Œç™¼ç¾éç¨‹å¼ç¢¼é‚è¼¯çš„å•é¡Œï¼Œå¯ä»¥ä¸Š &lt;a class="link" href="https://github.com/microsoft/vsmarketplace/issues" target="_blank" rel="noopener"
>issues&lt;/a> å°‡è³‡è¨Šåæ‡‰çµ¦ vsmarketplaceï¼Œæ­¤å¯èƒ½ç‚º marketplace é©—è­‰ extension æ™‚åµæ¸¬åˆ°ç‰¹å®šå­—å…ƒçµ„åˆè€Œé˜»æ“‹æ‰ï¼Œæœƒå°ˆäººå”åŠ©è™•ç†ã€‚&lt;/p>
&lt;p>é™„ä¸Šæœ¬äººé‡åˆ°æ­¤å•é¡Œçš„ &lt;a class="link" href="https://github.com/microsoft/vsmarketplace/issues/522" target="_blank" rel="noopener"
>Issues&lt;/a>&lt;/p>
&lt;hr></description></item><item><title>localStorage å®¹é‡å¤ªå°ï¼Ÿè©¦è©¦ localforageã€idb-keyval</title><link>https://wayneblog.ga/2022-11-15/localforage-and-idb-keyval/</link><pubDate>Tue, 15 Nov 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-11-15/localforage-and-idb-keyval/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52501465120_8e19a1cda3_o.png" alt="Featured image of post localStorage å®¹é‡å¤ªå°ï¼Ÿè©¦è©¦ localforageã€idb-keyval" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://www.gushiciku.cn/pl/an9o/zh-tw" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>&lt;code>localStorage&lt;/code> æ˜¯å‰ç«¯æœ¬åœ°å„²å­˜çš„ä¸€ç¨®ï¼Œå…¶å®¹é‡ä¸€èˆ¬åœ¨ &lt;code>5M-10M&lt;/code> å·¦å³ï¼Œç”¨ä¾†å¿«å–ä¸€äº›ç°¡å–®çš„è³‡æ–™åŸºæœ¬å¤ ç”¨ï¼Œç•¢ç«Ÿå®šä½ä¹Ÿä¸æ˜¯å¤§è³‡æ–™é‡çš„å„²å­˜ã€‚&lt;/p>
&lt;p>åœ¨æŸäº›å ´æ™¯ä¸‹ &lt;code>localStorage&lt;/code> çš„å®¹é‡å°±æœƒæœ‰é»æ‰è¥Ÿè¦‹è‚˜ï¼Œå…¶å¯¦ç€è¦½å™¨æ˜¯æœ‰æä¾›å¤§è³‡æ–™é‡çš„æœ¬åœ°å„²å­˜çš„å¦‚ &lt;code>IndexedDB&lt;/code> å„²å­˜è³‡æ–™å¤§å°ä¸€èˆ¬åœ¨ &lt;code>250M&lt;/code> ä»¥ä¸Šã€‚&lt;/p>
&lt;p>å½Œè£œäº† &lt;code>localStorage&lt;/code> å®¹é‡çš„ç¼ºé™·ï¼Œä½†æ˜¯ä½¿ç”¨è¦æ¯” &lt;code>localStorage&lt;/code> è¤‡é›œä¸€äº› &lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/API/IndexedDB_API" target="_blank" rel="noopener"
>mdn IndexedDB&lt;/a>&lt;/p>
&lt;p>ä¸éå·²ç¶“æœ‰å¤§ä½¬é€ äº†è¼ªå­å°è£äº†ä¸€äº›å‘¼å«éç¨‹ä½¿å…¶ä½¿ç”¨ç›¸å°ç°¡å–®ï¼Œä¸‹é¢æˆ‘å€‘ä¸€èµ·ä¾†çœ‹ä¸€ä¸‹ï½&lt;/p>
&lt;hr>
&lt;h2 id="localforage">localforage&lt;/h2>
&lt;p>&lt;a class="link" href="https://localforage.docschina.org/" target="_blank" rel="noopener"
>localforage&lt;/a>ï¼Œæ“æœ‰é¡ä¼¼ &lt;code>localStorage&lt;/code> APIï¼Œå®ƒèƒ½å„²å­˜å¤šç¨®å‹åˆ¥çš„è³‡æ–™å¦‚ &lt;code>Array&lt;/code>ã€&lt;code>ArrayBuffer&lt;/code>ã€&lt;code>Blob&lt;/code>ã€&lt;code>Number&lt;/code>ã€&lt;code>Object&lt;/code>ã€&lt;code>String&lt;/code>ï¼Œè€Œä¸åƒ…åƒ…æ˜¯å­—ä¸²ã€‚&lt;/p>
&lt;p>é€™æ„å‘³è‘—æˆ‘å€‘å¯ä»¥ç›´æ¥å­˜ ç‰©ä»¶ã€é™£åˆ—å‹åˆ¥çš„è³‡æ–™é¿å…äº† &lt;code>JSON.stringify&lt;/code> è½‰æ›è³‡æ–™çš„ä¸€äº›å•é¡Œã€‚&lt;/p>
&lt;p>å„²å­˜å…¶ä»–è³‡æ–™å‹åˆ¥æ™‚éœ€è¦è½‰æ›æˆä¸Šé‚Šå°æ‡‰çš„å‹åˆ¥ï¼Œæ¯”å¦‚ vue3 ä¸­ä½¿ç”¨ &lt;code>reactive&lt;/code> å®šç¾©çš„è³‡æ–™éœ€è¦ä½¿ç”¨ &lt;code>toRaw&lt;/code> &lt;strong>è½‰æ›æˆåŸå§‹è³‡æ–™&lt;/strong>é€²è¡Œå„²å­˜ï¼Œ &lt;code>ref&lt;/code> å‰‡ç›´æ¥å„²å­˜ &lt;code>xxx.value&lt;/code> è³‡æ–™å³å¯ã€‚&lt;/p>
&lt;h3 id="å®‰è£">å®‰è£&lt;/h3>
&lt;p>&lt;a class="link" href="https://github.com/localForage/localForage/releases" target="_blank" rel="noopener"
>ä¸‹è¼‰æœ€æ–°ç‰ˆæœ¬&lt;/a> æˆ–ä½¿ç”¨ &lt;code>npm&lt;/code>ã€&lt;code>bower&lt;/code> é€²è¡Œå®‰è£ï¼Œå¼•å…¥ä¸‹è¼‰çš„ localforage å³å¯ä½¿ç”¨ã€‚&lt;/p>
&lt;ul>
&lt;li>é€šé npm å®‰è£ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install localforage
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>é€šé bower å®‰è£ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">bower install localforage
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä½¿ç”¨">ä½¿ç”¨&lt;/h3>
&lt;p>æä¾›äº†èˆ‡ &lt;code>localStorage&lt;/code> ç›¸åŒçš„apiï¼Œä¸åŒçš„æ˜¯å®ƒæ˜¯éåŒæ­¥çš„å‘¼å«è¿”å›ä¸€å€‹ &lt;code>Promise&lt;/code> ç‰©ä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">localforage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getItem&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;somekey&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç•¶é›¢ç·šå€‰åº«ä¸­çš„å€¼è¢«è¼‰å…¥æ™‚ï¼Œæ­¤è™•ç¨‹å¼ç¢¼åŸ·è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç•¶å‡ºéŒ¯æ™‚ï¼Œæ­¤è™•ç¨‹å¼ç¢¼åŸ·è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// callback ç‰ˆæœ¬
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">localforage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getItem&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;somekey&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç•¶é›¢ç·šå€‰åº«ä¸­çš„å€¼è¢«è¼‰å…¥æ™‚ï¼Œæ­¤è™•ç¨‹å¼ç¢¼åŸ·è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æä¾›çš„æ–¹æ³•">æä¾›çš„æ–¹æ³•&lt;/h3>
&lt;ul>
&lt;li>&lt;code>getItem&lt;/code>ï¼š æ ¹æ“šè³‡æ–™çš„ &lt;code>key&lt;/code> ç²å–è³‡æ–™ ä¸å­˜åœ¨å‰‡è¿”å› &lt;code>null&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;code>setItem&lt;/code>ï¼š æ ¹æ“šè³‡æ–™çš„ &lt;code>key&lt;/code> è¨­å®šè³‡æ–™(å„²å­˜ &lt;code>undefined&lt;/code> æ™‚ &lt;code>getItem&lt;/code> ç²å–æœƒè¿”å› &lt;code>null&lt;/code>)ã€‚&lt;/li>
&lt;li>&lt;code>removeItem&lt;/code>ï¼š æ ¹æ“š &lt;code>key&lt;/code> åˆªé™¤è³‡æ–™ã€‚&lt;/li>
&lt;li>&lt;code>length&lt;/code>ï¼š ç²å– &lt;code>key&lt;/code> çš„æ•¸é‡ã€‚&lt;/li>
&lt;li>&lt;code>key&lt;/code>ï¼š æ ¹æ“š &lt;code>key&lt;/code> çš„ç´¢å¼•ç²å–å…¶åã€‚&lt;/li>
&lt;li>&lt;code>keys&lt;/code>ï¼š ç²å–è³‡æ–™å€‰åº«ä¸­æ‰€æœ‰çš„ &lt;code>key&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;code>iterate&lt;/code>ï¼š è¿­ä»£è³‡æ–™å€‰åº«ä¸­çš„æ‰€æœ‰ &lt;code>value&lt;/code>/&lt;code>key&lt;/code> éµå€¼å°ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="é…ç½®">é…ç½®&lt;/h3>
&lt;p>&lt;a class="link" href="https://localforage.docschina.org/#api-config" target="_blank" rel="noopener"
>å®Œæ•´é…ç½®å¯æª¢è¦–æ–‡ä»¶&lt;/a>&lt;/p>
&lt;p>é€™è£¡èªªå€‹æˆ‘è¦ºå¾—å¾ˆæœ‰ç”¨çš„ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">localforage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;My-localStorage&amp;#39;&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¨­å®šå€‰åº«çš„&lt;strong>åå­—&lt;/strong>ï¼Œä¸åŒçš„åå­—ä»£è¡¨ä¸åŒçš„å€‰åº«ï¼Œç•¶ä¸€å€‹æ‡‰ç”¨éœ€è¦å¤šå€‹æœ¬åœ°å€‰åº«éš”é›¢è³‡æ–™çš„æ™‚å€™å°±å¾ˆæœ‰ç”¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">store&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">localforage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createInstance&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;nameHere&amp;#34;&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">otherStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">localforage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createInstance&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;otherName&amp;#34;&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è¨­å®šæŸå€‹è³‡æ–™å€‰åº« key çš„å€¼ä¸æœƒå½±éŸ¿åˆ°å¦ä¸€å€‹æ•¸æ“šå€‰åº«
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">store&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setItem&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;key&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">otherStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setItem&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;key&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;value2&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŒæ™‚ä¹Ÿæ”¯æ´&lt;strong>åˆªé™¤å€‰åº«&lt;/strong>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å‘¼å«æ™‚ï¼Œè‹¥ä¸å‚³åƒï¼Œå°‡åˆªé™¤ç•¶å‰ä¾‹é …çš„ â€œè³‡æ–™å€‰åº«â€ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">localforage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">dropInstance&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Dropped the store of the current instance&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å‘¼å«æ™‚ï¼Œè‹¥å¼•æ•¸ç‚ºä¸€å€‹æŒ‡å®šäº† name å’Œ storeName å±¬æ€§çš„ç‰©ä»¶ï¼Œæœƒåˆªé™¤æŒ‡å®šçš„ â€œè³‡æ–™å€‰åº«â€ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">localforage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">dropInstance&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;otherName&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">storeName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;otherStore&amp;#34;&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Dropped otherStore&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å‘¼å«æ™‚ï¼Œè‹¥å¼•æ•¸ç‚ºä¸€å€‹åƒ…æŒ‡å®šäº† name å±¬æ€§çš„ç‰©ä»¶ï¼Œå°‡åˆªé™¤æŒ‡å®šçš„ â€œè³‡æ–™åº«â€ (åŠå…¶æ‰€æœ‰è³‡æ–™å€‰åº«)ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">localforage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">dropInstance&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;otherName&amp;#34;&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Dropped otherName database&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="idb-keyval">idb-keyval&lt;/h2>
&lt;p>&lt;a class="link" href="https://www.npmjs.com/package/idb-keyval" target="_blank" rel="noopener"
>idb-keyval&lt;/a> æ˜¯ç”¨ &lt;code>IndexedDB&lt;/code> å¯¦ç¾çš„ä¸€å€‹è¶…ç´šç°¡å–®çš„åŸºæ–¼ &lt;code>promise&lt;/code> çš„éµå€¼å„²å­˜ã€‚&lt;/p>
&lt;h3 id="å®‰è£-1">å®‰è£&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install idb-keyval
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä½¿ç”¨-1">ä½¿ç”¨&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å…¨éƒ¨å¼•å…¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">idbKeyval&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;idb-keyval&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">idbKeyval&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;world&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;It worked!&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;It failed!&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æŒ‰éœ€å¼•å…¥æœƒ treeshake
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">get&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">set&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;idb-keyval&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;world&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;It worked!&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;It failed!&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ç€è¦½å™¨ç›´æ¥å¼•å…¥ï¼š&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://cdn.jsdelivr.net/npm/idb-keyval@6/dist/umd.js&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æä¾›çš„æ–¹æ³•-1">æä¾›çš„æ–¹æ³•&lt;/h3>
&lt;p>ç”±æ–¼å…¶æ²’æœ‰ä¸­æ–‡çš„å®˜ç¶²ï¼ŒæœƒæŠŠä¾‹å­åŠè‡ªå·±çš„ç†è§£é™„ä¸Šï¼š&lt;/p>
&lt;h4 id="set">set&lt;/h4>
&lt;p>&lt;code>set&lt;/code>ï¼š è¨­å®šè³‡æ–™&lt;/p>
&lt;p>key å¯ä»¥æ˜¯ &lt;code>Number&lt;/code>ã€&lt;code>String&lt;/code>ã€&lt;code>Date&lt;/code>(IDB ä¹Ÿå…è¨±é€™äº›å€¼çš„é™£åˆ—ï¼Œä½† IE ä¸æ”¯æ´)ã€‚
value å¯ä»¥æ˜¯ &lt;code>Number&lt;/code>ã€&lt;code>Array&lt;/code>ã€&lt;code>Object&lt;/code>ã€&lt;code>Date&lt;/code>ã€&lt;code>Blobs&lt;/code> ç­‰ï¼Œå„˜ç®¡è€ Edge ä¸æ”¯æ´ &lt;code>null&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">set&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;idb-keyval&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;world&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;It worked!&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;It failed!&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="setmany">setMany&lt;/h4>
&lt;p>&lt;code>setMany&lt;/code>ï¼š è¨­å®šå¤šå€‹æ•¸æ“š&lt;/p>
&lt;p>ä¸€æ¬¡è¨­å®šå¤šå€‹å€¼ï¼Œæ¯”ä¸€å€‹ä¸€å€‹çš„è¨­å®šæ›´å¿«&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">set&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setMany&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;idb-keyval&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä¸æ‡‰è©²:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nb">Promise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">all&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">123&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">456&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;world&amp;#39;&lt;/span>&lt;span class="p">)])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;It worked!&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;It failed!&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// é€™æ¨£åšæ›´å¿«:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">setMany&lt;/span>&lt;span class="p">([&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="mi">123&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">456&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;world&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;It worked!&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;It failed!&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="get">get&lt;/h4>
&lt;p>&lt;code>get&lt;/code>ï¼š ç²å–è³‡æ–™&lt;/p>
&lt;p>å¦‚æœæ²’æœ‰ keyï¼Œé‚£éº¼ value å°‡è¿”å› &lt;code>undefined&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">get&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;idb-keyval&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// logs: &amp;#34;world&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="getmany">getMany&lt;/h4>
&lt;p>&lt;code>getMany&lt;/code>ï¼š ç²å–å¤šå€‹æ•¸æ“š&lt;/p>
&lt;p>ä¸€æ¬¡ç²å–å¤šå€‹æ•¸æ“šï¼Œæ¯”ä¸€å€‹ä¸€å€‹çš„ç²å–è³‡æ–™æ›´å¿«&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">get&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">getMany&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;idb-keyval&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä¸æ‡‰è©²:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nb">Promise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">all&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">123&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">)])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(([&lt;/span>&lt;span class="nx">firstVal&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">secondVal&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">firstVal&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">secondVal&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// é€™æ¨£åšæ›´å¿«:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">getMany&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">123&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(([&lt;/span>&lt;span class="nx">firstVal&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">secondVal&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">firstVal&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">secondVal&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="del">del&lt;/h4>
&lt;p>&lt;code>del&lt;/code>ï¼š åˆªé™¤è³‡æ–™&lt;/p>
&lt;p>æ ¹æ“š key åˆªé™¤è³‡æ–™&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">del&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;idb-keyval&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">del&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="delmany">delMany&lt;/h4>
&lt;p>&lt;code>delMany&lt;/code>ï¼š åˆªé™¤å¤šå€‹æ•¸æ“š&lt;/p>
&lt;p>ä¸€æ¬¡åˆªé™¤å¤šå€‹éµï¼Œæ¯”ä¸€å€‹ä¸€å€‹çš„åˆªé™¤æ›´å¿«&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">del&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">delMany&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;idb-keyval&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä¸æ‡‰è©²:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nb">Promise&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">all&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">del&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">123&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="nx">del&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">)])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;It worked!&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;It failed!&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// é€™æ¨£åšæ›´å¿«:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">delMany&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">123&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;It worked!&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;It failed!&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="update">update&lt;/h4>
&lt;p>&lt;code>update&lt;/code>ï¼š æ’éšŠæ›´æ–°è³‡æ–™ï¼Œé˜²æ­¢ç”±æ–¼éåŒæ­¥å°è‡´è³‡æ–™æ›´æ–°å•é¡Œ&lt;/p>
&lt;p>å› ç‚º &lt;code>get&lt;/code> èˆ‡ &lt;code>set&lt;/code> éƒ½æ˜¯éåŒæ­¥çš„ä½¿ç”¨ä»–å€‘ä¾†æ›´æ–°è³‡æ–™å¯èƒ½æœƒå­˜åœ¨å•é¡Œå¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Don&amp;#39;t do this:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">get&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">set&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;idb-keyval&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä¸Šè¿°ç¨‹å¼ç¢¼æˆ‘å€‘æœŸæœ›çš„æ˜¯ 2 ä½†å¯¦éš›çµæœæ˜¯ 1ï¼Œæˆ‘å€‘å¯ä»¥åœ¨ç¬¬ä¸€å€‹ callback åŸ·è¡Œç¬¬äºŒæ¬¡æ“ä½œã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ›´å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨ &lt;code>update&lt;/code> ä¾†æ›´æ–°è³‡æ–™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Instead:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">update&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;idb-keyval&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å°‡è‡ªå‹•æ’éšŠæ›´æ–°ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡æ›´æ–°å°‡è¨ˆæ•¸å™¨è¨­å®šç‚º 1ï¼Œç¬¬äºŒæ¬¡æ›´æ–°å°‡å…¶è¨­å®šç‚º 2ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="clear">clear&lt;/h4>
&lt;p>&lt;code>clear&lt;/code>ï¼š æ¸…é™¤æ‰€æœ‰è³‡æ–™&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">clear&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;idb-keyval&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">clear&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="entries">entries&lt;/h4>
&lt;p>&lt;code>entries&lt;/code>ï¼š è¿”å› &lt;code>[key, value]&lt;/code> å½¢å¼çš„è³‡æ–™&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">entries&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;idb-keyval&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// logs: [[123, 456], [&amp;#39;hello&amp;#39;, &amp;#39;world&amp;#39;]]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">entries&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">entries&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">entries&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="keys">keys&lt;/h4>
&lt;p>&lt;code>keys&lt;/code>ï¼š ç²å–æ‰€æœ‰è³‡æ–™çš„ &lt;code>key&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">keys&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;idb-keyval&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// logs: [123, &amp;#39;hello&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">keys&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">keys&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">keys&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="values">values&lt;/h4>
&lt;p>&lt;code>values&lt;/code>ï¼š ç²å–æ‰€æœ‰è³‡æ–™çš„ &lt;code>value&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">values&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;idb-keyval&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// logs: [456, &amp;#39;world&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">values&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">values&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">values&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="createstore">createStore&lt;/h4>
&lt;p>&lt;code>createStore&lt;/code>ï¼š è‡ªå®šç¾©å€‰åº«&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è‡ªå®šç¾©è³‡æ–™åº«åç¨±åŠè¡¨åç¨±
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å»ºç«‹ä¸€å€‹æ•¸æ“šåº«:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è³‡æ–™åº«åç¨±ç‚º tang_shiï¼Œè¡¨åç‚º table1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">tang_shi_table1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">idbKeyval&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;tang_shi&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;table1&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å‘å°æ‡‰å€‰åº«æ–°å¢è³‡æ–™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">idbKeyval&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;add&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;table1 çš„è³‡æ–™&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tang_shi_table1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// é è¨­å»ºç«‹çš„å€‰åº«åç¨±ç‚º keyval-storeï¼Œè¡¨åç‚º keyval
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">idbKeyval&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;add&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;é è¨­çš„è³‡æ–™&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52501465125_f37c4dec49_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ä½¿ç”¨ &lt;code>createStore&lt;/code> å»ºç«‹çš„è³‡æ–™åº«ä¸€å€‹åº«åªæœƒå»ºç«‹ä¸€å€‹è¡¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// åŒä¸€å€‹åº«æœ‰ä¸å¯ä»¥æœ‰å…©å€‹è¡¨ï¼Œcustom-store-2 ä¸æœƒå»ºç«‹æˆåŠŸ:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">customStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">createStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;custom-db-name&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;custom-store-name&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">customStore2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">createStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;custom-db-name&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;custom-store-2&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä¸åŒçš„åº«æœ‰ç›¸åŒçš„è¡¨åï¼Œé€™æ˜¯å¯ä»¥çš„:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">customStore3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">createStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;db3&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;keyval&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">customStore4&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">createStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;db4&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;keyval&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="ç¸½çµ">ç¸½çµ&lt;/h2>
&lt;p>æœ¬æ–‡ä»‹ç´¹äº†å…©å€‹ &lt;code>IndexedDB&lt;/code> çš„åº«ï¼Œç”¨ä¾†è§£æ±º &lt;code>localStorage&lt;/code> å„²å­˜å®¹é‡å¤ªå°çš„å•é¡Œã€‚&lt;/p>
&lt;p>&lt;code>localforage&lt;/code> èˆ‡ &lt;code>idb-keyval&lt;/code> ä¹‹é–“æˆ‘æ›´å–œæ­¡ &lt;code>localforage&lt;/code> å› ç‚ºå…¶èˆ‡ &lt;code>localStorage&lt;/code> ç›¸ä¼¼çš„ api å¹¾ä¹æ²’æœ‰ä¸Šæ‰‹æˆæœ¬ã€‚&lt;/p>
&lt;p>å¦‚æœéœ€è¦æ›´åŠ éˆæ´»çš„åº«å¯ä»¥çœ‹ä¸€ä¸‹ &lt;a class="link" href="https://dexie.org/" target="_blank" rel="noopener"
>dexie.js&lt;/a>ã€&lt;a class="link" href="https://pouchdb.com/" target="_blank" rel="noopener"
>PouchDB&lt;/a>ã€&lt;a class="link" href="https://www.npmjs.com/package/idb" target="_blank" rel="noopener"
>idb&lt;/a>ã€&lt;a class="link" href="https://jsstore.net/" target="_blank" rel="noopener"
>JsStore&lt;/a> æˆ–è€… &lt;a class="link" href="https://github.com/google/lovefield" target="_blank" rel="noopener"
>lovefield&lt;/a> ä¹‹é¡çš„åº«ã€‚&lt;/p>
&lt;hr></description></item><item><title>è©¦ç”¨ RunKit</title><link>https://wayneblog.ga/2022-11-14/try-runkit/</link><pubDate>Mon, 14 Nov 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-11-14/try-runkit/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52498373077_445fbf68b7_o.jpg" alt="Featured image of post è©¦ç”¨ RunKit" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://medium.com/@aafenguk/%e8%af%95%e7%94%a8runkit-1a175869b588" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="è©¦ç”¨runkit">è©¦ç”¨RunKit&lt;/h2>
&lt;p>å…ˆä¾†èªªèªª RunKit æ˜¯ä»€éº¼ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼ŒRunkit å¯ä»¥è®“ä½ åœ¨ç€è¦½å™¨ä¸­é‹è¡Œ Node.js çš„ä»£ç¢¼ã€‚åœ¨ Runkit ä¸­ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„èª¿ç”¨çœ¾å¤šçš„ &lt;strong>npm æ¨¡å¡Š&lt;/strong>ã€‚é€™å°±æœ‰é»åƒ Node.js ç‰ˆçš„ Jupyter Notebookã€‚åŒæ™‚ï¼ŒRunkit é‚„å¯ä»¥æä¾›ä¸€å€‹&lt;strong>å…è²»çš„ HTTP æœå‹™å™¨&lt;/strong>è€Œç„¡éœ€ä»»ä½•çš„æœå‹™å™¨å®‰è£å’Œé…ç½®ã€‚é€™åœ¨é–‹ç™¼æ‰‹æ©Ÿ APP çš„æœå‹™å™¨ç«¯ï¼Œä»¥åŠå¾®æœå‹™çš„æ™‚å€™å°¤å…¶æœ‰ç”¨ã€‚ç•¶ç„¶ï¼Œå¯¦ç¾ç„¡æœå‹™å™¨çš„é¸æ“‡å¾ˆå¤šï¼Œæ¯”å¦‚ AWS çš„ Lambda + API Gatewayï¼Œä½† RunKit çš„æœ€å¤§å„ªå‹¢å°±æ˜¯&lt;strong>å®Œå…¨å…è²»&lt;/strong>çš„ï¼Œé€™åœ¨é–‹ç™¼è»Ÿä»¶åŸå‹çš„æ™‚å€™å°±æ›´ç‚ºæ–¹ä¾¿äº†ã€‚&lt;/p>
&lt;p>ä¸‹é¢åˆ†åˆ¥ä¾†çœ‹çœ‹é€™å…©é …åŠŸèƒ½ã€‚&lt;/p>
&lt;p>æ‰“é–‹é é¢ï¼š &lt;a class="link" href="https://runkit.com/home" target="_blank" rel="noopener"
>https://runkit.com/home&lt;/a>&lt;/p>
&lt;p>å¯ä»¥é€šé Github æˆæ¬Šç™»éŒ„ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52499339005_5846e4c91c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç™»éŒ„æˆåŠŸå¾Œå¯ä»¥çœ‹åˆ°ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52499417688_b22fc7e975_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é»æ“Šé‹è¡ŒæŒ‰éˆ•å¾Œå°±å¯ä»¥åœ¨é é¢ä¸­çœ‹åˆ°åŸ·è¡Œçµæœï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52499338965_f2e405dd7a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>åœ¨ Runkit çš„é é¢ä¸­å¯ä»¥åƒæ­£å¸¸çš„ Node.js ç’°å¢ƒä¸€æ¨£é‹è¡Œå„ç¨® JS èªå¥ã€‚æ¯”å¦‚ï¼Œé‹è¡Œå¦‚ä¸‹çš„ç°¡å–®ä»£ç¢¼ç²å– Hive ä¸­æ–‡å€çš„æœ€æ–°æ–‡ç« ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">hive&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;@hiveio/hive-js&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Read posts from Hive
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">hive&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">api&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getDiscussionsByCreated&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">tag&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;hive-105017&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">limit&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">discussions&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">discussions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">post&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">discussions&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">post&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°è¿”å›çš„ç»“æœï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52499143664_3c8b028d58_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="api-endpoint">API Endpoint&lt;/h2>
&lt;p>å†ä¾†çœ‹çœ‹æˆ‘æœ€å–œæ­¡çš„ Runkit åŠŸèƒ½ï¼šæä¾›ç°¡å–®çš„ API endpointã€‚&lt;/p>
&lt;p>éå¸¸ç°¡å–®çš„æºç¢¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">exports&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">endpoint&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;API endpoint test&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å–®æ“Š &lt;code>publish&lt;/code> é€²è¡Œç™¼å¸ƒï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52499143649_3418c86d23_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç™¼å¸ƒå¾Œå–®æ“Š &lt;code>endpoint&lt;/code> å°±æœƒæ‰“é–‹å°æ‡‰çš„ API URLï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52498856886_942c86a5ed_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æ¯”å¦‚èªªï¼Œæˆ‘é€™è£¡çš„å°±æ˜¯ï¼š&lt;/p>
&lt;p>&lt;a class="link" href="https://api-jdcmj9qsmxmb.runkit.sh/" target="_blank" rel="noopener"
>https://api-jdcmj9qsmxmb.runkit.sh/&lt;/a>&lt;/p>
&lt;p>å¯ä»¥çœ‹åˆ°ï¼Œç„¡éœ€é…ç½®/é‹è¡Œæœå‹™å™¨ï¼Œå°±å¯ä»¥æœ‰è‡ªå·±çš„ API å¯ç”¨ï¼Œåˆæ˜¯ serverlessï¼ŒåŒæ™‚é‚„å…è²»ï¼Œæ˜¯ä¸æ˜¯å¾ˆçˆ½ï¼Ÿ&lt;/p>
&lt;hr></description></item><item><title>Vue 2 å‡ç´š Vue 3 ä¹‹å…¨åŸŸå…ƒä»¶è¨»å†Šå•é¡Œ</title><link>https://wayneblog.ga/2022-11-10/vue-2to3-global-component/</link><pubDate>Thu, 10 Nov 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-11-10/vue-2to3-global-component/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52489820266_b81b766288_o.png" alt="Featured image of post Vue 2 å‡ç´š Vue 3 ä¹‹å…¨åŸŸå…ƒä»¶è¨»å†Šå•é¡Œ" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://blog.darkthread.net/blog/vue3-reg-com/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="å‰æƒ…æè¦">å‰æƒ…æè¦&lt;/h2>
&lt;p>åœ¨å°å°ˆæ¡ˆè£¡æˆ‘ä¸»è¦ç”¨ Vue.js ä¾†è™•ç† &lt;strong>MVVM&lt;/strong>ï¼Œç”¨ &lt;code>&amp;lt;script&amp;gt;&lt;/code> è¼‰å…¥ vue.jsï¼Œå¯«å¹¾è¡Œ JavaScript æå®šï¼Œèµ°ä¸å¯«æ¨¡çµ„ï¼Œä¸ç”¨ TypeScriptï¼Œå…ç·¨è­¯æ‰“åŒ…çš„ã€Œ&lt;strong>è¼•å‰ç«¯&lt;/strong>ã€æ¨¡å¼ï¼Œä½†å¸¸ç”¨é‚è¼¯é‚„æ˜¯æœƒå¯«æˆå…ƒä»¶(Component)æ–¹ä¾¿å…±ç”¨ã€‚&lt;/p>
&lt;p>åœ¨ Vue 2 æ™‚ä»£ï¼Œæˆ‘ç¿’æ…£åœ¨ç¶²é å…±ç”¨çš„ &lt;code>.js&lt;/code> è£¡ä½¿ç”¨ &lt;code>Vue.component(&amp;quot;my-component&amp;quot;, ...)&lt;/code> è¨»å†Šå…ƒä»¶ï¼Œè¨»å†Šä¸€æ¬¡ï¼Œå„ç¶²é ä¸éœ€å®£å‘Šå°±èƒ½ä½¿ç”¨å…ƒä»¶ã€‚&lt;/p>
&lt;p>æ­£å¼æ“ºè„« IE å¾Œï¼Œçµ‚æ–¼ä¸ç”¨å†æ­»å®ˆ Vue 2ï¼Œè©¦è‘—å°‡ä¸€å€‹å°å°ˆæ¡ˆå‡ç´šåˆ° Vue 3ï¼Œé‡åˆ°å°éº»ç…©ã€‚&lt;/p>
&lt;p>Vue 3 æ”¹è®Šäº†å…ƒä»¶&lt;strong>è¨»å†Š&lt;/strong>æ–¹å¼ï¼Œ&lt;strong>ä¸å†æä¾›å…¨åŸŸè¨»å†Š&lt;/strong>ï¼Œå¿…é ˆå…ˆ &lt;code>Vue.createApp()&lt;/code> å»ºç«‹å¯¦é«”ï¼Œ&lt;code>app.component(&amp;quot;my-component&amp;quot;, ...)&lt;/code> è¨»å†Šæˆ–ç”¨ components å±¬æ€§å¼•ç”¨æ‰èƒ½ä½¿ç”¨å…ƒä»¶ã€‚åƒè€ƒï¼š&lt;a class="link" href="https://book.vue.tw/CH2/2-1-components.html#%E5%85%83%E4%BB%B6%E7%9A%84%E5%AE%A3%E5%91%8A%E8%88%87%E8%A8%BB%E5%86%8A" target="_blank" rel="noopener"
>é‡æ–°èªè­˜ Vue.js - å…ƒä»¶çš„å®£å‘Šèˆ‡è¨»å†Š&lt;/a>&lt;/p>
&lt;p>å…¨åŸŸå…ƒä»¶æ”¹æˆå€åŸŸå…ƒä»¶å¯æ¸›å°‘ç¨‹å¼é–“äº’ç›¸å¹²æ“¾ï¼Œåœ¨è»Ÿé«”æ¶æ§‹ä¾†èªªæ˜¯æ­£ç¢ºçš„æ–¹å‘ï¼Œä½†å°ç°¡å–®æ‡‰ç”¨ä¾†èªª(ä¾‹å¦‚ï¼šç¨‹å¼å¾ˆå–®ç´”ï¼Œå…¨åŸŸå…ƒä»¶æ‰“æ¶æ©Ÿç‡è¶¨æ–¼é›¶çš„å ´åˆ)ï¼Œé€™ç•ªèª¿æ•´è®“å…ƒä»¶è¨»å†Šè®Šå¾—ç¹ç‘£ã€‚&lt;/p>
&lt;p>ç”¨å€‹ç¯„ä¾‹ä¾†èªªæ˜ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="vue-2-è¨»å†Šå¤šå€‹å…ƒä»¶">Vue 2 è¨»å†Šå¤šå€‹å…ƒä»¶&lt;/h2>
&lt;p>åŸæœ¬ Vue 2 åšæ³•æ˜¯åœ¨ &lt;strong>my-components-vue2.js&lt;/strong> ä¸­è¨»å†Šå¤šå€‹å…ƒä»¶ï¼š&lt;/p>
&lt;h5 id="my-components-vue2js">my-components-vue2.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;date-tag&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;div&amp;gt;{{date}}&amp;lt;/div&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">date&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">toJSON&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;time-tag&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;div&amp;gt;{{time}}&amp;lt;/div&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">time&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">toJSON&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">11&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">19&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;host-tag&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;div&amp;gt;{{host}}&amp;lt;/div&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">host&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">location&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">host&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ï¼Œæ•¸åæ”¯ HTML åªéœ€è¼‰å…¥ my-components-vue2.js ä¾¿èƒ½åœ¨ç¶²é ä½¿ç”¨ &lt;code>&amp;lt;date-tag&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;time-tag&amp;gt;&lt;/code> æ’å…¥å…ƒä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;!DOCTYPE html&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">meta&lt;/span> &lt;span class="na">charset&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;utf-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://cdn.jsdelivr.net/npm/vue@2.7.10/dist/vue.js&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-components-vue2.js&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;app&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">date-tag&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">date-tag&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">time-tag&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">time-tag&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">host-tag&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">host-tag&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">app&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;#app&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å‡ç´š-vue-3-ä¹‹å¾Œ">å‡ç´š Vue 3 ä¹‹å¾Œ&lt;/h2>
&lt;p>å‡ç´š Vue 3 ä¹‹å¾Œï¼Œå…ƒä»¶çš„ js è·Ÿç¶²é éƒ½è¦åšä¸€äº›ä¿®æ”¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">dateTag&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;div&amp;gt;{{date}}&amp;lt;/div&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">date&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">toJSON&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">timeTag&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;div&amp;gt;{{time}}&amp;lt;/div&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">time&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">toJSON&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">11&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">19&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">hostTag&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;div&amp;gt;{{host}}&amp;lt;/div&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">host&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">location&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">host&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ app å¯«æ³•æ”¹ç‚º &lt;code>Vue.createApp&lt;/code>ï¼Œä¸¦åœ¨å®£å‘Šä¸­é€é &lt;code>components&lt;/code> åˆ—èˆ‰è¦è¨»å†Šçš„ç‰©ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;!DOCTYPE html&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">meta&lt;/span> &lt;span class="na">charset&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;utf-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://unpkg.com/vue@3&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-components-vue3-upgrade.js&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;app&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">date-tag&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">date-tag&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">time-tag&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">time-tag&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">host-tag&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">host-tag&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">app&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createApp&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">components&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;date-tag&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">dateTag&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;time-tag&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">timeTag&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;host-tag&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">hostTag&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è‹¥å…ƒä»¶ç‰©ä»¶åç¨±èˆ‡æ¨™ç±¤ç›¸ç¬¦ï¼Œå¯ç°¡å¯«æˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// components: { dateTag, timeTag, hostTag }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#app&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‡è¨­æˆ‘æœ‰ 30 å€‹ç¶²é ï¼Œ30 å€‹ app éƒ½è¦åŠ  &lt;code>components: { dateTag, timeTag, hostTag }&lt;/code>ï¼Œæœªä¾†è‹¥æ–°å¢å…¶ä»–å…ƒä»¶ï¼Œæ‰€æœ‰ &lt;code>components&lt;/code> åˆ—èˆ‰éƒ½è¦æ”¹ï¼Œé€™æ˜¯æ¨™æº–çš„ã€Œ&lt;strong>Copy &amp;amp; Paste è² é¢æ•™æ&lt;/strong>ã€å‘€ï¼Œä¸€æƒ³å°±è¦ºå¾—å¾ˆä¸ OK å‘€ã€‚&lt;/p>
&lt;p>é€™ç¨®æƒ…å¢ƒï¼Œå°±æ˜¯&lt;code>å¥—ä»¶&lt;/code>(&lt;code>Plugin&lt;/code>ï¼Œä¹Ÿæœ‰äººç¿»æˆ&lt;strong>æ’ä»¶ã€å¤–æ›&lt;/strong>)ä¸Šå ´çš„æ™‚åˆ»ã€‚æœ€ç°¡å–®çš„å¥—ä»¶å¯«æ³•æ˜¯å¯«ä¸€å€‹ functionï¼Œæ¥æ”¶ app åŠ options åƒæ•¸ï¼Œå…§éƒ¨å‘¼å« &lt;code>app.component(...)&lt;/code> é€ä¸€è¨»å†Šå…ƒä»¶ï¼Œoptions å‰‡æ˜¯è‡ªè¨‚åƒæ•¸ï¼Œå¯ç”¨ä¾†æ±ºå®šè¦è¨»å†Šå“ªäº›å…ƒä»¶æˆ–è®Šæ›´å…ƒä»¶è¨­å®šå€¼ï¼Œæé«˜é‹ç”¨å½ˆæ€§ã€‚ä»¥ä¸‹æ˜¯ç°¡å–®ç¤ºç¯„ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">myComponentsPlugin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">app&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;date-tag&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;div&amp;gt;{{date}}&amp;lt;/div&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">date&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">toJSON&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;time-tag&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;div&amp;gt;{{time}}&amp;lt;/div&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">time&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">toJSON&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">11&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">19&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;host-tag&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;div&amp;gt;{{host}}&amp;lt;/div&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">host&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">location&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">host&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ï¼Œå‘¼å«ç«¯å¯ç°¡åŒ–ç‚º &lt;code>.use(myComponentsPlugin)&lt;/code>ï¼Œä¸éœ€æŠŠæ‰€æœ‰å…ƒä»¶åˆ—å‡ºä¾†ï¼Œæœªä¾†è¦æ–°å¢å…ƒä»¶ï¼Œä¿®æ”¹ &lt;code>my-components-vue3.js&lt;/code> å³å¯ï¼Œä¿ç•™åŸå…ˆå…¨åŸŸå…ƒä»¶çš„ç°¡å–®æ–¹ä¾¿ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;!DOCTYPE html&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">meta&lt;/span> &lt;span class="na">charset&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;utf-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://unpkg.com/vue@3&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-components-vue3.js&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;app&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">date-tag&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">date-tag&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">time-tag&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">time-tag&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">host-tag&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">host-tag&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">app&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Vue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createApp&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">myComponentsPlugin&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#app&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52489336212_2bd7bccc6c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr></description></item><item><title>ä½¿ç”¨ bindã€callã€apply æ”¹è®Š this æŒ‡å‘çš„å°è±¡</title><link>https://wayneblog.ga/2022-11-09/js-call-apply-bind/</link><pubDate>Wed, 09 Nov 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-11-09/js-call-apply-bind/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52487952181_5991519a08_o.jpg" alt="Featured image of post ä½¿ç”¨ bindã€callã€apply æ”¹è®Š this æŒ‡å‘çš„å°è±¡" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://newsn.net/say/js-call.html" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://newsn.net/say/js-apply.html" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://newsn.net/say/js-bind.html" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://www.udemy.com/course/javascriptjs/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://b-l-u-e-b-e-r-r-y.github.io/post/BindCallApply/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="ä½¿ç”¨-bindcallapply-æ”¹è®Š-this-æŒ‡å‘çš„å°è±¡">ä½¿ç”¨ bindã€callã€apply æ”¹è®Š this æŒ‡å‘çš„å°è±¡&lt;/h2>
&lt;p>å¦‚æœæƒ³è¦æ”¹è®Š &lt;code>this&lt;/code> æŒ‡å‘çš„å°è±¡ï¼Œå¯ä»¥é€é &lt;code>bind&lt;/code>ã€&lt;code>call&lt;/code>ã€&lt;code>apply&lt;/code> é€™ä¸‰å€‹ method è¾¦åˆ°ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">person&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Blueberry&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ¥è‘— create ä¸€å€‹å‡½å¼ä¾†å‘¼å« person çš„ userNameï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">callName&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">userName&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å‘¼å« callNameï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">callName&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="output">outputï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Hello undefined
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› ç‚º callName() å‡½å¼ä¸­çš„ &lt;code>this&lt;/code> æŒ‡å‘çš„æ˜¯ &lt;code>global object&lt;/code>ï¼ˆä¹Ÿå°±æ˜¯ &lt;code>Window&lt;/code> ç‰©ä»¶ï¼‰ï¼Œæ‰€ä»¥é€™æ™‚å€™æˆ‘å€‘å¸Œæœ›æŠŠ callName() çš„ &lt;code>this&lt;/code> æŒ‡å‘ &lt;strong>&lt;code>person&lt;/code>&lt;/strong> é€™å€‹å°è±¡ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š&lt;/p>
&lt;hr>
&lt;h2 id="bind">bind&lt;/h2>
&lt;p>&lt;a class="link" href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/bind" target="_blank" rel="noopener"
>MDN web docs&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">thisArg&lt;/span>&lt;span class="p">[,&lt;/span> &lt;span class="nx">arg1&lt;/span>&lt;span class="p">[,&lt;/span> &lt;span class="nx">arg2&lt;/span>&lt;span class="p">[,&lt;/span> &lt;span class="p">...]]])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>bind&lt;/strong> å’Œå…¶ä»–å…©å€‹æ–¹æ³•ï¼ˆ&lt;strong>call&lt;/strong>ã€&lt;strong>apply&lt;/strong>ï¼‰çš„&lt;strong>ä¸åŒ&lt;/strong>æœ‰å…©é»ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>bind&lt;/strong> æ˜¯&lt;strong>å‰µé€ &lt;/strong>ä¸€å€‹å‡½å¼ç‰©ä»¶çš„&lt;strong>æ‹·è²&lt;/strong>ï¼Œ&lt;strong>ä¸æœƒ&lt;/strong>åŸ·è¡Œå‡½å¼ï¼Œå› æ­¤ &lt;strong>bind&lt;/strong> ä¹‹å¾Œ&lt;strong>é‚„è¦å†å¦å¤–å¯«&lt;/strong>åŸ·è¡Œå‡½å¼çš„å‹•ä½œï¼›è€Œ &lt;strong>call&lt;/strong>ã€&lt;strong>apply&lt;/strong> æ˜¯&lt;strong>ç›´æ¥åŸ·è¡Œ&lt;/strong>å‡½å¼ã€‚&lt;/li>
&lt;li>&lt;strong>bind&lt;/strong> å¾Œé¢å‚³å…¥çš„åƒæ•¸å€¼æœƒè¨­å®šç‚ºæ‹·è²å‡½å¼çš„&lt;strong>æ°¸ä¹…åƒæ•¸å€¼&lt;/strong>ï¼Œä¹‹å¾ŒåŸ·è¡Œæ‹·è²å‡½å¼æ™‚ï¼Œç„¡è«–æ€éº¼çµ¦äºˆåƒæ•¸éƒ½æ²’æœ‰ç”¨ï¼›è€Œ &lt;strong>call&lt;/strong>ã€&lt;strong>apply&lt;/strong> å‰‡æ˜¯å–®ç´”&lt;strong>çµ¦äºˆåƒæ•¸&lt;/strong>ï¼Œåƒä¸€èˆ¬å‘¼å«å‡½å¼é‚£æ¨£ã€‚&lt;/li>
&lt;/ul>
&lt;p>æˆ‘å€‘å…ˆå–®ç´”å°±ç¬¬ä¸€é»ä¾†èªªæ˜ï¼Œç¤ºç¯„æœ€åŸºæœ¬çš„ &lt;strong>bind&lt;/strong> æ€éº¼å¯«ã€‚&lt;/p>
&lt;h3 id="ç¬¬ä¸€ç¨®å¯«æ³•">ç¬¬ä¸€ç¨®å¯«æ³•&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">callName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">)();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹Ÿç­‰æ–¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">callFunction&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">callName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// å‰µé€ å‡½å¼ç‰©ä»¶çš„æ‹·è²
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">callFunction&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// åŸ·è¡Œå‡½å¼
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="output-1">outputï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Hello Blueberry
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç¬¬äºŒç¨®å¯«æ³•ç›´æ¥å¯«åœ¨å‡½å¼è¡¨ç¤ºå¼å¾Œé¢ä¹Ÿå¯ä»¥">ç¬¬äºŒç¨®å¯«æ³•ï¼Œç›´æ¥å¯«åœ¨å‡½å¼è¡¨ç¤ºå¼å¾Œé¢ä¹Ÿå¯ä»¥&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">callName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">userName&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">callName&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="output-2">outputï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Hello Blueberry
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥ä¸‹ä¾†é‡å°ç¬¬äºŒé»ä¾†èªªæ˜ï¼Œå…ˆä¾†æ”¹å¯«ä¸€ä¸‹ callName å‡½å¼ï¼ŒåŠ å…¥å…©å€‹ argumentsï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">callName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">interest&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">userName&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Your age is &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">age&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Your interest is &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">interest&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘é™¤äº†è¦ç”¨ &lt;strong>bind&lt;/strong> å°‡ &lt;code>this&lt;/code> æŒ‡å‘ &lt;strong>person&lt;/strong> ä¹‹å¤–ï¼Œé‚„è¦çµ¦äºˆ &lt;strong>age&lt;/strong> å’Œ &lt;strong>interest&lt;/strong> é€™å…©å€‹åƒæ•¸ã€‚&lt;/p>
&lt;p>é€™é‚Šæœ‰å…©ç¨®åšæ³•ï¼š&lt;strong>å–®ç´”çµ¦å®šåƒæ•¸&lt;/strong>ï¼Œæˆ–&lt;strong>ç¶å®šæ°¸ä¹…åƒæ•¸å€¼&lt;/strong>ã€‚&lt;/p>
&lt;h4 id="å–®ç´”çµ¦å®šåƒæ•¸">å–®ç´”çµ¦å®šåƒæ•¸&lt;/h4>
&lt;p>è¦å–®ç´”çµ¦å®šåƒæ•¸çš„è©±ï¼Œåƒä¸€èˆ¬åŸ·è¡Œå‡½å¼é‚£æ¨£ï¼Œåœ¨åŸ·è¡Œå‡½å¼æ™‚å†çµ¦äºˆåƒæ•¸å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">callFunction&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">callName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">callFunction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">24&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Reading books&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="output-3">outputï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Hello Blueberry
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Your age is &lt;span class="m">24&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Your interest is Reading books
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ç¶å®šæ°¸ä¹…åƒæ•¸å€¼">ç¶å®šæ°¸ä¹…åƒæ•¸å€¼&lt;/h4>
&lt;p>å¦‚æœå°‡åƒæ•¸æ”¾åœ¨ bind ä¸­ï¼Œé€™å€‹å‡½å¼æ‹·è²ç‰©ä»¶çš„åƒæ•¸å€¼å°±æœƒæ°¸é è¢«å›ºå®šä½ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">callFunction&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">callName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">24&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Reading books&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">callFunction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Playing games&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// é€™é‚Šç„¡è«–å†æ€éº¼çµ¦åƒæ•¸éƒ½æ²’ç”¨
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="output-4">outputï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Hello Blueberry
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Your age is &lt;span class="m">24&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Your interest is Reading books
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="call">call&lt;/h2>
&lt;p>&lt;a class="link" href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/call" target="_blank" rel="noopener"
>MDN web docs&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">call&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">arg1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">arg2&lt;/span>&lt;span class="p">...,&lt;/span> &lt;span class="nx">argn&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>&lt;code>call&lt;/code>&lt;/strong> å’Œ &lt;strong>&lt;code>bind&lt;/code>&lt;/strong> ä¸åŒï¼Œå®ƒæœƒ&lt;strong>ç›´æ¥åŸ·è¡Œ&lt;/strong>å‡½å¼ï¼Œå¾Œé¢çµ¦çš„åƒæ•¸ä¹Ÿ&lt;strong>ä¸æœƒ&lt;/strong>è¢«å›ºå®šä½ã€‚&lt;/p>
&lt;p>&lt;code>.call()&lt;/code> å­˜åœ¨æ–¼ä»»ä½•ä¸€å€‹&lt;strong>å‡½æ•¸&lt;/strong>æˆ–è€…&lt;strong>æ–¹æ³•&lt;/strong>ä¸Šï¼Œæ˜¯å€‹ function å°±&lt;strong>å¯ä»¥èª¿ç”¨ &lt;code>.call()&lt;/code>&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">callName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">call&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">24&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Reading books&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="output-5">outputï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Hello Blueberry
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Your age is &lt;span class="m">24&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Your interest is Reading books
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä¿®æ”¹-this-æŒ‡å‘">ä¿®æ”¹ this æŒ‡å‘&lt;/h3>
&lt;ul>
&lt;li>å°æ–¼æ²’æœ‰å®šç¾©åœ¨ä»»ä½•å°åƒä¸Šçš„ functionï¼Œå¯¦éš›ä¸Šä¹Ÿæœ‰ &lt;strong>this&lt;/strong> æŒ‡å‘ï¼ŒæŒ‡å‘çš„æ˜¯å€‹&lt;strong>å…¨å±€å°è±¡&lt;/strong>ã€‚&lt;/li>
&lt;li>å°æ–¼å®šç¾©åœ¨æŸå€‹ object ä¸Šé¢çš„æ–¹æ³•ï¼Œ&lt;strong>this&lt;/strong> æŒ‡å‘ï¼Œå¾ˆå¥½ç†è§£ã€‚&lt;/li>
&lt;/ul>
&lt;p>ä¸‹é¢æ‹¿ä¸€å€‹å°è±¡è®Šæ•¸åšä¾‹å­ï¼Œä¾†èªªæ˜å•é¡Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">sunan&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">c&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sunan&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// 6
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sunan&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">call&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// 7
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨é€™å€‹ä¾‹å­è£¡é¢ï¼Œ&lt;code>.call()&lt;/code> çš„ç¬¬ä¸€å€‹åƒæ•¸å‚³å…¥äº†ä¸€å€‹æ–°çš„å°è±¡ï¼Œå®ƒè¦†è“‹äº†åŸæœ‰çš„æ•¸æ“šã€‚c å±¬æ€§ç”± 3 è®Šæˆäº† 4ï¼Œè€Œ test æ–¹æ³•ä¾ç„¶å­˜åœ¨ã€‚&lt;/p>
&lt;h5 id="output-6">outputï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> &lt;span class="m">6&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> &lt;span class="m">7&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="apply">apply&lt;/h2>
&lt;p>&lt;a class="link" href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" target="_blank" rel="noopener"
>MDN web docs&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">apply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">arg1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">arg2&lt;/span>&lt;span class="p">...,&lt;/span> &lt;span class="nx">argn&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>&lt;code>apply&lt;/code>&lt;/strong> çš„å¯«æ³•è·Ÿ &lt;strong>&lt;code>call&lt;/code>&lt;/strong> å¾ˆç›¸è¿‘ï¼Œèˆ‡ &lt;strong>&lt;code>call&lt;/code>&lt;/strong> ä¸åŒçš„æ˜¯ï¼Œå¾Œé¢çš„åƒæ•¸éœ€è¦ä½¿ç”¨&lt;code>é™£åˆ—&lt;/code>å‚³éï¼Œé©åˆæ­é… arguments é‹ç”¨åœ¨ç®—æ•¸çš„å‡½å¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">callName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">apply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">24&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Reading books&amp;#39;&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="output-7">outputï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Hello Blueberry
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Your age is &lt;span class="m">24&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Your interest is Reading books
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åŒä¸€å€‹ä¾‹å­çš„-call-èˆ‡-apply-å¯«æ³•æ¯”è¼ƒ">åŒä¸€å€‹ä¾‹å­çš„ call èˆ‡ apply å¯«æ³•æ¯”è¼ƒ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">callName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">call&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">24&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Reading books&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">callName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">apply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">24&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Reading books&amp;#39;&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä¿®æ”¹-this-æŒ‡å‘-1">ä¿®æ”¹ this æŒ‡å‘&lt;/h3>
&lt;ul>
&lt;li>å’Œ &lt;strong>.call()&lt;/strong> ä¸€æ¨£ï¼Œ&lt;strong>.apply()&lt;/strong> çš„ç¬¬ä¸€å€‹åƒæ•¸ä¹Ÿæ˜¯ä¿®æ”¹ &lt;strong>this&lt;/strong> æŒ‡å‘çš„ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="å¯èƒ½çš„éŒ¯èª¤">å¯èƒ½çš„éŒ¯èª¤&lt;/h3>
&lt;p>ä¹Ÿè¨±æœƒç¢°åˆ°ä¸‹é¢çš„éŒ¯èª¤æç¤ºä¿¡æ¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="go">TypeError: CreateListFromArrayLike called on non-object
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è§£æ±ºæ–¹æ¡ˆå°±æ˜¯æŠŠåƒæ•¸æ‰“åŒ…æˆ&lt;code>æ•¸çµ„[]&lt;/code>ï¼Œé€²è¡Œå‚³éã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä½¿ç”¨æƒ…å¢ƒ">ä½¿ç”¨æƒ…å¢ƒ&lt;/h2>
&lt;h3 id="function-borrowing-å€Ÿç”¨-function">function borrowingï¼š å€Ÿç”¨ function&lt;/h3>
&lt;p>&lt;strong>function borrowing&lt;/strong> å°±æ˜¯&lt;strong>å€Ÿ&lt;/strong>åˆ¥äººå‡½å¼ä¸­çš„æ–¹æ³•ä¾†ç”¨çš„æ„æ€ï¼Œä¸‹é¢ç¤ºç¯„ somebody å€Ÿç”¨ person çš„ getUserName æ–¹æ³•ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">person&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Blueberry&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getUserName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">userName&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">somebody&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Fan&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// with bind()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">newUser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">person&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getUserName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">somebody&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">newUser&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// with call()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getUserName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">call&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">somebody&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// with apply()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">person&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getUserName&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">apply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">somebody&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="output-8">outputï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Fan
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Fan
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> Fan
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="function-currying-æ‹·è²-function">function curryingï¼š æ‹·è² function&lt;/h3>
&lt;p>&lt;strong>function currying&lt;/strong> çš„å®šç¾©ç‚º&lt;strong>å»ºç«‹ä¸€å€‹å‡½å¼çš„æ‹·è²ï¼Œä¸¦è¨­å®šé è¨­çš„åƒæ•¸&lt;/strong>ï¼Œé€™åœ¨æ•¸å­¸é‹ç®—ä¸‹å¾ˆæœ‰ç”¨ã€‚ä¸‹é¢æˆ‘å€‘å°±åˆ©ç”¨ bind çš„ç‰¹æ€§ä¾†å®Œæˆ function curryingã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">mutiply&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">mutiplyByTwo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mutiply&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">mutiplyByTwo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="output-9">outputï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> &lt;span class="m">8&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸Šé¢æˆ‘å€‘å»ºç«‹äº†ä¸€å€‹å‡½å¼ &lt;strong>&lt;code>mutiply(a, b)&lt;/code>&lt;/strong>ï¼Œä¸¦ç”¨ &lt;strong>&lt;code>bind&lt;/code>&lt;/strong> å»ºç«‹å‡½å¼ç‰©ä»¶æ‹·è² &lt;strong>&lt;code>mutiplyByTwo()&lt;/code>&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;strong>&lt;code>mutiply.bind(this, 2)&lt;/code>&lt;/strong> é€™é‚Šçš„ &lt;strong>this&lt;/strong> ä¸¦ä¸é‡è¦ï¼Œå› ç‚ºå‡½å¼è£¡æ²’æœ‰ä½¿ç”¨åˆ° &lt;strong>this&lt;/strong>ã€‚&lt;/p>
&lt;p>è€Œå¾Œé¢çš„ 2 å‰‡æ˜¯&lt;code>æ°¸ä¹…&lt;/code>ç¶å®šäº†&lt;strong>åƒæ•¸ a&lt;/strong>ã€‚&lt;/p>
&lt;p>ç‚ºäº†è®“ç¨‹å¼ç¢¼æ¯”è¼ƒå¥½ç†è§£ï¼Œé€™é‚Šå°‡ä¸Šé¢é‚£æ®µç¨‹å¼ç¢¼æ‹†è§£ï¼Œå®ƒä¹Ÿç­‰æ–¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">mutiply&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">mutiplyByTwo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mutiply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">mutiplyByTwo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="output-10">outputï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">&amp;gt;&lt;/span> &lt;span class="m">8&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>8 æ‹› JavaScript Console é‹ç”¨æŠ€å·§ï¼Œè®“ä½ é™¤éŒ¯æ›´é«˜æ•ˆ</title><link>https://wayneblog.ga/2022-11-03/js-8-console-tricks/</link><pubDate>Thu, 03 Nov 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-11-03/js-8-console-tricks/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52473860621_0ede00e99a_o.jpg" alt="Featured image of post 8 æ‹› JavaScript Console é‹ç”¨æŠ€å·§ï¼Œè®“ä½ é™¤éŒ¯æ›´é«˜æ•ˆ" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://www.casper.tw/development/2021/09/14/js-console/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>å¯« JavaScript éœ€è¦æª¢è¦–é‹ä½œæ˜¯å¦æ­£ç¢ºæ™‚å€™ï¼Œéƒ½æœƒä½¿ç”¨ &lt;code>console.log&lt;/code> ä¾†æª¢è¦–è¼¸å‡ºæˆ–é‹ç®—çš„å€¼ï¼Œè€Œ &lt;code>console&lt;/code> çš„é‹ç”¨æŠ€å·§ä¸åƒ…åƒ…åªæœ‰å°‡å€¼å‘ˆç¾åœ¨é–‹ç™¼çš„ &lt;code>Console ä»‹é¢&lt;/code>ä¸­ã€‚æœ¬ç¯‡å°±ä¾†ä»‹ç´¹è¨±å¤š &lt;code>console&lt;/code> èªæ³•çš„å¯¦æˆ°é‹ç”¨æ–¹æ³•å§ï¼&lt;/p>
&lt;hr>
&lt;p>é¦–å…ˆï¼Œåœ¨æ­¤å…ˆæº–å‚™ä¸€ä»½ç­‰ç­‰æœƒç”¨åˆ°çš„ç‰©ä»¶åŠé™£åˆ—ä½œç‚ºä»¥ä¸‹ç¯„ä¾‹ä½¿ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">Ming&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;å°æ˜&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">15&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">favorite&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;é‹ç‡’æ„éºµ&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">Jay&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ°å€«&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">16&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">favorite&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ç‚’éºµ&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">Auntie&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ¼‚äº®é˜¿å§¨&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">21&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">favorite&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;è˜¿è””ç³•&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">people&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">Ming&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Jay&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Auntie&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="ç‚º-consolelog-çš„ç¨‹å¼ç¢¼ä¸Šè‰²">ç‚º console.log çš„ç¨‹å¼ç¢¼ä¸Šè‰²&lt;/h2>
&lt;p>æœ‰åœ¨ Facebook é é¢ä¸­é–‹å•Ÿéé–‹ç™¼è€…å·¥å…·å—ï¼Ÿå¦‚æœæœ‰ï¼Œç›¸ä¿¡ä½ å°æ–¼ä»¥ä¸‹é€™å¼µåœ–ä¸¦ä¸é™Œç”Ÿã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52474405673_77d2312f81_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>Console ä¸­çš„æ–‡å­—ä¸¦éåªæœ‰å›ºå®šçš„è‰²å½©ï¼Œå®ƒèˆ‡ç¶²é ä¸­çš„æ–‡å­—ä¸€æ¨£ï¼Œéƒ½å¯ä»¥é€é CSS çš„èªæ³•ä¾†èª¿æ•´å…¶è‰²å½©ï¼Œåªè¦åœ¨ &lt;code>log&lt;/code> çš„æ–‡å­—å‰æ–¹å…ˆåŠ å…¥ &lt;code>%c&lt;/code> å¾Œï¼Œåœ¨ , å¾Œæ–¹çš„åƒæ•¸å°±èƒ½å¤ å‚³å…¥ CSS èªæ³•åšç‚ºåƒæ•¸ï¼Œä¸¦ä¸”èª¿æ•´ Console ä¸­å‘ˆç¾çš„æ–‡å­—æ¨£å¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`%c &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">Ming&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> æœ‰ç‘Ÿç‘Ÿçš„é¡è‰²`&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;color: orange; font-size: 24px&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52473860556_0c3cbc749d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="consoletableä½¿ç”¨è¡¨æ ¼çš„æ–¹å¼é™³åˆ—é™£åˆ—çš„è³‡è¨Š">console.table()ï¼šä½¿ç”¨è¡¨æ ¼çš„æ–¹å¼é™³åˆ—é™£åˆ—çš„è³‡è¨Š&lt;/h2>
&lt;p>ç•¶è¦å‘ˆç¾è³‡æ–™æ–¼ Console ä»‹é¢ä¸­ï¼Œåšå¸¸è¦‹çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨ &lt;code>log&lt;/code> çš„æ–¹æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// åŸºæœ¬ç”¨æ³•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Ming&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Jay&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Auntie&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">people&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ç„¶ï¼Œé€™æ¨£çš„ç”¨æ³•çµ•å°æ²’æœ‰å•é¡Œï¼Œé€éæ­¤æ–¹æ³•å¯ä»¥å°‡å€¼ä¸€ä¸€é™³åˆ—å‡ºä¾†ï¼Œä¸éç•¶é€™äº›æ•¸å€¼æ˜¯ &lt;code>å…·æœ‰é—œè¯æ€§&lt;/code> æ™‚ï¼Œä¸€èˆ¬çš„ &lt;code>log&lt;/code> å°±ç„¡æ³•æ¯”è¼ƒå…©è€…ä¹‹é–“çš„é—œä¿‚ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52473361772_d4457e0674_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;code>console.table()&lt;/code> é‡å°ç‰©ä»¶ä¹‹é–“æœ‰ç›¸åŒçš„å±¬æ€§åç¨±æ™‚ï¼Œå°±èƒ½å¤ è¼•æ˜“çš„æ¯”è¼ƒç›¸åŒå±¬æ€§ä¹‹é–“çš„é—œä¿‚ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">table&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">Ming&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Jay&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Auntie&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">table&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">people&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52474405618_0534bf4a54_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é™¤æ­¤ä¹‹å¤–ï¼Œè¡¨æ ¼ä¸Šæ–¹çš„æ¨™é ­é‚„å¯ä»¥é»é¸ä½œç‚ºæ’åºä½¿ç”¨ï¼Œå¦‚æœæ‹¿åˆ°ä¸€å€‹ JSON æƒ³æ¯”å°å…¶ä¸­çš„å€¼ï¼Œé‚„è¦è½‰è²¼åˆ° Excel æˆ–æ˜¯ &lt;code>sort()&lt;/code> èªæ³•å®‰æ’ï¼Œä¸å¦‚ç›´æ¥æ”¹ç”¨ &lt;code>table()&lt;/code> é€²è¡Œæ¯”è¼ƒå§ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52473377947_62186d5eab_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="consolegroupç¾¤çµ„åŒ–å¤§é‡çš„-log-è³‡è¨Š">console.group()ï¼šç¾¤çµ„åŒ–å¤§é‡çš„ log è³‡è¨Š&lt;/h2>
&lt;p>ä½¿ç”¨ &lt;code>log()&lt;/code> è§€çœ‹è¿´åœˆå€¼æ˜¯åˆæƒ…åˆç†çš„ï¼Œä¸éç•¶é™£åˆ—çš„é•·åº¦æœ‰ä¸Šç™¾ç­†æ™‚ï¼ŒConsole ä»‹é¢ä¸­çš„è³‡æ–™é‚„çœŸæœƒæ»¾åˆ°ä»¤äººå­ä¸–ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">index&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">people&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">index&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">people&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52473361732_f9a99f8f40_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;blockquote>
&lt;p>åœ¨è¿´åœˆä¸­ä½¿ç”¨ &lt;code>console.log()&lt;/code> æœƒä¸€ä¸€å‘ˆç¾è³‡æ–™ï¼Œæ•¸é‡ä¸€å¤šçœ‹èµ·ä¾†å°±æœƒé¡¯çš„å¾ˆåƒåŠ›&lt;/p>
&lt;/blockquote>
&lt;p>ä½¿ç”¨ &lt;code>console.group()&lt;/code>ã€&lt;code>console.groupEnd()&lt;/code> è¨­ç½®ç¾¤çµ„çš„èµ·è¨–ï¼Œåœ¨ Console çš„ä»‹é¢ä¸­å°±èƒ½æ–¹ä¾¿çš„æ”¶åˆç¾¤çµ„å…§å®¹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">group&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è¿´åœˆç¾¤çµ„&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">index&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">people&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">index&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">people&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">groupEnd&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>console.group(/* ç¾¤çµ„åç¨± */)&lt;/code> å¯ä»¥å‚³å…¥ &lt;strong>&lt;code>ç¾¤çµ„åç¨±&lt;/code>&lt;/strong> åšç‚ºåƒæ•¸ï¼Œä½œç‚ºåœ¨ Console ä»‹é¢ä¸­è¾¨è­˜ç¾¤çµ„çš„é¡¯ç¤ºåç¨±ï¼Œåœ¨ä»‹é¢ä¸­çš„ç¾¤çµ„åç¨±ä¹Ÿæœƒä»¥ç²—é«”åç¨±ï¼Œä¸¦ä¸”å¯ä»¥é»æ“Šç®­é ­ç¬¦è™Ÿæ”¶åˆç¾¤çµ„å…§å®¹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52474142054_74ccb31919_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="consoletimeé–‹ç™¼è€…æœ€æ„›æ–¤æ–¤è¨ˆè¼ƒé‚£-1ms-çš„æ•ˆèƒ½äº†">console.time()ï¼šé–‹ç™¼è€…æœ€æ„›æ–¤æ–¤è¨ˆè¼ƒé‚£ 1ms çš„æ•ˆèƒ½äº†&lt;/h2>
&lt;p>æ¯ç•¶å¯«å‡ºç¥é‚è¼¯çš„æ™‚å€™ï¼Œéƒ½æœƒæ“”å¿ƒé›»è…¦æ•ˆèƒ½è·Ÿä¸ä¸Šè‡ªå·±çš„æ€ç¶­ï¼Œé€™æ™‚å€™å°±å¯ä»¥ä½¿ç”¨ &lt;code>time()&lt;/code> è¿½è¹¤ç‰‡æ®µç¨‹å¼ç¢¼æ‰€è™•ç†çš„æ™‚é–“å·®ï¼Œå¾—çŸ¥è‡ªå·±æ˜¯ä¸æ˜¯è©²æ›å°é›»è…¦è§£æ±ºå•é¡Œã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ™‚é–“è¿½è¹¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è¿´åœˆè™•ç†æ™‚é–“&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">index&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">people&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">index&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">people&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">timeEnd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è¿´åœˆè™•ç†æ™‚é–“&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨èµ·è¨–ä¸­åˆ†åˆ¥åŠ å…¥ &lt;code>time()&lt;/code> ä»¥åŠ &lt;code>timeEnd()&lt;/code>ï¼ŒåŸ·è¡Œç¨‹å¼ç¢¼å¾Œå°±å¯ä»¥ç²å¾—è™•ç†çš„çµæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52473361712_efa32726e1_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="consoledirä»¥ç‰©ä»¶çš„å½¢å¼å‘ˆç¾è³‡æ–™">console.dir()ï¼šä»¥ç‰©ä»¶çš„å½¢å¼å‘ˆç¾è³‡æ–™&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// HTML &amp;lt;p&amp;gt;æ¨è–¦çš„ Console èªæ³•&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">querySelector&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;p&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">p&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ä½¿ç”¨ &lt;code>console.log()&lt;/code> æŸ¥çœ‹ DOM å…ƒç´ ï¼Œä¸¦æƒ³äº†è§£å…¶ä¸­å¯ç”¨çš„æ–¹æ³•æˆ–å±¬æ€§æ™‚â€¦ï¼Œå®ƒå¯èƒ½æœƒå‡ºç¾å¦‚ä¸‹å¸¶é»å¤±æœ›çš„æ¨™ç±¤ï¼Œä¸¦ä¸”å¿ƒè£¡é»˜ç½µï¼š&lt;/p>
&lt;ul>
&lt;li>è¦é€™å€‹å¹¹å˜›å•¦&lt;/li>
&lt;li>è¦çŸ¥é“çš„æ˜¯ç‰©ä»¶å±¬æ€§ã€å±¬æ€§&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52473361702_f3efa4c4c9_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é€™æ™‚å€™éœ€è¦çš„æ˜¯ &lt;code>console.dir()&lt;/code>ï¼Œä½ æœƒç™¼ç¾å¦ä¸€å€‹æ–°ä¸–ç•Œï¼ŒåŸæœ¬çš„ DOM å…ƒç´ è¢«æ”¹ç‚ºç‰©ä»¶çš„å½¢å¼å‘ˆç¾ï¼Œä½ å¯ä»¥è¼•é¬†å±•é–‹æ­¤ç‰©ä»¶ï¼Œä¸¦æª¢è¦–è£¡é¢æœ‰å“ªäº›å¯ç”¨å±¬æ€§ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">querySelector&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;p&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">dir&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">p&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52473361677_66dc6be1f6_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;blockquote>
&lt;p>å±•é–‹çš„ P å…ƒç´ ï¼ŒåŒ…å«å…¶ä¸­æ‰€æœ‰çš„å±¬æ€§ï¼ˆé€™åœ¨æ“ä½œ DOM æ™‚æ¥µç‚ºå¥½ç”¨ï¼‰&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="consoleerror">console.error()&lt;/h2>
&lt;p>å¯«ç¨‹å¼æœ‰éŒ¯èª¤æ˜¯é›£å…çš„ï¼Œä½†æ˜¯å¦‚æœæ˜¯éŒ¯èª¤ï¼Œå»æ²’æœ‰æ˜ç¢ºçš„æç¤ºå°è‡´æ²’æœ‰è¢«ç™¼ç¾å•é¡Œï¼Œå°±å¤±å»æç¤ºçš„æ„ç¾©äº†ï¼Œå¦‚æœæƒ³è®“ Console çš„å…§å®¹æ›´åŠ é†’ç›®ï¼Œå¯ä»¥ä½¿ç”¨ &lt;code>console.error()&lt;/code> ä½¿è¨Šæ¯åœ¨ Console ä»‹é¢ä¸­ä»¥éŒ¯èª¤çš„å½¢å¼å‘ˆç¾ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">Ming&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> ä½ å®Œè›‹äº†`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶é‹ç”¨åœ¨ä¸€èˆ¬æ–‡å­—è¨Šæ¯ä¸Šæ™‚ï¼Œä¹Ÿå¯ä»¥å±•é–‹è¨Šæ¯ä¸¦èªªæ˜éŒ¯èª¤ä¾†æºè‡ªå“ªä¸€æ®µç¨‹å¼ç¢¼ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52473860411_86fa6efbe3_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>åœ¨ AJAX çš„æœªç¢ºèªç‹€æ…‹ä¸­ï¼Œä¹Ÿæœƒä½¿ç”¨ &lt;code>console.error&lt;/code> ä¾†å‘ˆç¾éŒ¯èª¤çš„å›é¥‹è¨Šæ¯ï¼Œä»¥ä¸‹ç¯„ä¾‹åˆ»æ„å°‡ API è·¯å¾‘èª¿æ•´æˆéŒ¯èª¤çš„ï¼Œä¸¦é€é &lt;code>console.error()&lt;/code> ä¾†å°‡éŒ¯èª¤çš„è³‡è¨Šå‘ˆç¾åœ¨ Console ä»‹é¢ä¸­&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">axios&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;https://randomuser.me/apis&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">res&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å¾…èªŒå¤§æ¢å•¦: &amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">error&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52474142014_1023c7b7d7_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="consolewarn">console.warn()&lt;/h2>
&lt;p>éŒ¯èª¤å¤ªçªå…€äº†å—ï¼Ÿå¦‚æœæ˜¯è‡ªè¡Œé–‹ç™¼çš„å‡½å¼åº«ï¼Œå·²ç¶“é€éå„ç¨®å½¢å¼é¿å…ç¨‹å¼ç¢¼å‡ºéŒ¯ï¼Œä½†é‚„æ˜¯æƒ³æŠŠæœ‰éŒ¯èª¤çš„è¨Šæ¯çµ¦äºˆé–‹ç™¼è€…çŸ¥é“ï¼Œé‚£éº¼å‰‡å¯ä»¥ä½¿ç”¨ &lt;code>console.warn()&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Warning
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="cm">/***
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * è¶…ç²¾ç¾å‡½å¼åº« ğŸ’–
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param {number} num ç´”æ•¸å€¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @param {string} text è«‹å‚³å…¥å­—ä¸²
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">superMagicLibrary&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">num&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">num&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s1">&amp;#39;number&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">warn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å°Šé‡ä¸€ä¸‹å¥½å—ï¼Œè«‹å‚³å…¥ç´”æ•¸å€¼&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">superMagicLibrary&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å­—ä¸²&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‡½å¼åº«ä¸­å¤§å¤šæœƒé¿å…å·²çŸ¥çš„éŒ¯èª¤ï¼Œå¦‚æœè¦å‹å–„çš„çµ¦äºˆå›é¥‹ï¼Œå¯ä»¥ä½¿ç”¨ &lt;code>warn()&lt;/code> ä»£æ›¿ &lt;code>error()&lt;/code> æé†’é–‹ç™¼è€…æ›´å¥½çš„åšæ³•ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52473361632_0194537b7c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="consoleclear">console.clear()&lt;/h2>
&lt;p>å¦‚æœè¦ºå¾— Console ä»‹é¢å·²ç¶“å……æ»¿äº†è¨±å¤šä¸å¿…è¦çš„è³‡è¨Šï¼Œæƒ³è¦å°ˆæ³¨æ–¼ç•¶å‰é–‹ç™¼çš„ç¨‹å¼ç¢¼ï¼Œé‚£éº¼å¯ä»¥åŠ å…¥ &lt;code>console.clear()&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52474405453_0497411dc5_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;blockquote>
&lt;p>ç•«é¢ä¸­æœƒå‡ºç¾ Console was cleared çš„å­—çœ¼&lt;/p>
&lt;/blockquote>
&lt;p>æ­¤èªæ³•äº¦å¯åœ¨ Console ä»‹é¢ä¸­ç›´æ¥è¼¸å…¥ï¼Œæœƒç›´æ¥æ¸…é™¤ç•¶ä¸‹çš„æ‰€æœ‰è³‡è¨Šå…§å®¹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52474422398_9a728ec190_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ä¸éè«‹æ…ç”¨æ­¤æ–¹æ³•ï¼Œå¦‚æœéš¨æ„æ’å…¥ &lt;code>console.clear()&lt;/code> åœ¨ä¸åŒçš„æª”æ¡ˆä¸­ï¼Œä¸çŸ¥æƒ…çš„å¤¥ä¼´ä¸€å®šæœƒåœ¨é–‹ç™¼ä¸­å¡å¾ˆä¹…ï¼Œå¯èƒ½ç™¼ç”Ÿçš„æƒ…å¢ƒæœ‰â€¦ï¼š&lt;/p>
&lt;ul>
&lt;li>å¥‡æ€ªï¼Œæˆ‘å¯«çš„ Code æ€éº¼éƒ½æ²’é¡¯ç¤ºåœ¨ Console&lt;/li>
&lt;li>ç·¨è­¯å™¨å£äº†å—ï¼Ÿæ€éº¼å¥½åƒæ²’æœ‰é‹ä½œ&lt;/li>
&lt;li>æˆ‘çš„ Chrome æ€ªæ€ªçš„&lt;/li>
&lt;/ul>
&lt;p>é‚„æœ‰å“ªäº›æ–¹æ³•ä½ ä¹Ÿå¸¸ç”¨ï¼Œä½†æ²’æœ‰ä»‹ç´¹åˆ°çš„å‘¢ï¼Ÿæ­¡è¿åœ¨åº•ä¸‹ç•™è¨€å€ç•™è¨€å–”&lt;/p>
&lt;hr></description></item><item><title>30 å€‹ Javascript çŸ¥è­˜é»ç¸½çµï¼Œç¸½æœ‰ä½ ä¸æœƒçš„ï¼</title><link>https://wayneblog.ga/2022-10-27/js-30-keypoints/</link><pubDate>Thu, 27 Oct 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-10-27/js-30-keypoints/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52457807569_15f64548d9_o.jpg" alt="Featured image of post 30 å€‹ Javascript çŸ¥è­˜é»ç¸½çµï¼Œç¸½æœ‰ä½ ä¸æœƒçš„ï¼" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://juejin.cn/post/7145036326373425159" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://www.readfog.com/a/1683106300221820928" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>æœ€è¿‘é‡æº«äº†ä¸€éç´…å¯¶æ›¸ï¼Œç™¼ç¾ä¸€äº›æ¯”è¼ƒå¥½ç©çš„å¯«æ³•ï¼Œå¾ˆå¤šæ±è¥¿æ—¥å¸¸éƒ½åœ¨ç”¨ï¼Œä½†æ˜¯ç™¼ç¾é‚„æœƒæœ‰ä¸ä¸€æ¨£çš„å¯«æ³•, çµåˆä¸€äº›æ—¥å¸¸å·¥ä½œä¸­ä½¿ç”¨çš„æ–¹æ³•ï¼Œçˆ²å¤§å®¶ç¸½çµä¸€ç¯‡æ—¥å¸¸ç¶“å¸¸ä½¿ç”¨å¯èƒ½é‚„ä¸çŸ¥é“çš„é»ï¼Œå¸Œæœ›å°ä½ èƒ½æœ‰æ‰€å¹«åŠ©ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä¸€è¡Œä»£ç¢¼å®Œæˆçµæ§‹åŠ è³¦å€¼">ä¸€è¡Œä»£ç¢¼å®Œæˆçµæ§‹åŠ è³¦å€¼&lt;/h2>
&lt;p>æˆ‘å€‘æ—¥å¸¸ç¶“å¸¸ä½¿ç”¨&lt;code>çµæ§‹è³¦å€¼&lt;/code>ï¼Œä¸€èˆ¬éƒ½æ˜¯å…ˆ&lt;code>çµæ§‹&lt;/code>ï¼Œå†&lt;code>è³¦å€¼&lt;/code>ï¼Œç•¶ç„¶æˆ‘å€‘ä¹Ÿå¯ä»¥ä¸€è¡Œå°±å®Œæˆ&lt;code>è§£æ§‹&lt;/code>åŠ &lt;code>è³¦å€¼&lt;/code>æ“ä½œï¼Œçœ‹èµ·ä¾†éå¸¸ç°¡åŒ–ï¼Œç•¶ç„¶å¯è®€æ€§ä½ æ‡‚å¾—ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">people&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;å¼µä¸‰&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">16&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">({&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">people&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">people&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">result&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">people&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// {&amp;#34;name&amp;#34;:&amp;#34;å¼µä¸‰&amp;#34;,&amp;#34;age&amp;#34;:16}
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å°åŸºç¤æ•¸æ“šé¡å‹é€²è¡Œè§£æ§‹">å°åŸºç¤æ•¸æ“šé¡å‹é€²è¡Œè§£æ§‹&lt;/h2>
&lt;p>æ—¥å¸¸ä¸­æˆ‘å€‘æ‡‰è©²ç”¨ä¸åˆ°é€™æ¨£çš„å ´æ™¯ï¼Œä½†æ˜¯å¯¦éš›ä¸Šæˆ‘å€‘ä¹Ÿå¯ä»¥å°åŸºç¤æ•¸æ“šé¡å‹è§£æ§‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;1234&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// 4
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å°æ•¸çµ„è§£æ§‹å¿«é€Ÿæ‹¿åˆ°æœ€å¾Œä¸€é …å€¼">å°æ•¸çµ„è§£æ§‹å¿«é€Ÿæ‹¿åˆ°æœ€å¾Œä¸€é …å€¼&lt;/h2>
&lt;p>å¯¦éš›ä¸Šæˆ‘å€‘æ˜¯å¯ä»¥å°æ•¸çµ„è§£æ§‹è³¦å€¼æ‹¿åˆ° &lt;strong>length&lt;/strong> å±¬æ€§çš„ï¼Œé€šéé€™å€‹ç‰¹æ€§ä¹Ÿå¯ä»¥åšæ›´å¤šçš„äº‹æƒ…ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">first&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">length&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">last&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">first&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">last&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 3
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 3
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å°‡ä¸‹æ¨™è½‰çˆ²ä¸­æ–‡é›¶ä¸€äºŒä¸‰">å°‡ä¸‹æ¨™è½‰çˆ²ä¸­æ–‡é›¶ä¸€äºŒä¸‰&amp;hellip;&lt;/h2>
&lt;p>æ—¥å¸¸å¯èƒ½æœ‰çš„åˆ—è¡¨æˆ‘å€‘éœ€è¦å°‡å°æ‡‰çš„ 012345 è½‰çˆ²ä¸­æ–‡çš„ä¸€ã€äºŒã€ä¸‰ã€å››ã€äº”&amp;hellip;ï¼Œåœ¨è€çš„é …ç›®çœ‹åˆ°é‚„æœ‰é€šéè‡ªå·±æ‰‹å‹•å®šç¾©å¾ˆå¤šè¡Œé€™æ¨£çš„å¯«æ³•ï¼Œæ–¼æ˜¯å¯«äº†ä¸€å€‹é€™æ¨£çš„æ–¹æ³•è½‰æ›&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">transfromNumber&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">INDEX_MAP&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;é›¶&amp;#39;&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="s1">&amp;#39;ä¸€&amp;#39;&lt;/span>&lt;span class="p">.....]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">number&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">INDEX_MAP&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">[...&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">()].&lt;/span>&lt;span class="nx">reduce&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">pre&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">cur&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">pre&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">INDEX_MAP&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">cur&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åˆ¤æ–·æ•´æ•¸çš„ä¸åŒæ–¹æ³•">åˆ¤æ–·æ•´æ•¸çš„ä¸åŒæ–¹æ³•&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* 1. ä»»ä½•æ•´æ•¸éƒ½æœƒè¢«1æ•´é™¤ï¼Œå³é¤˜æ•¸æ˜¯0ã€‚åˆ©ç”¨é€™å€‹è¦å‰‡ä¾†åˆ¤æ–·æ˜¯å¦æ˜¯æ•´æ•¸ã€‚ä½†æ˜¯å°å­—ç¬¦ä¸²ä¸æº–ç¢º */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">isInteger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* 1. æ·»åŠ ä¸€å€‹æ˜¯æ•¸å­—çš„åˆ¤æ–· */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">isInteger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">typeof&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;number&amp;#39;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* 2. ä½¿ç”¨Math.roundã€Math.ceilã€Math.flooråˆ¤æ–· æ•´æ•¸å–æ•´å¾Œé‚„æ˜¯ç­‰æ–¼è‡ªå·±ã€‚åˆ©ç”¨é€™å€‹ç‰¹æ€§ä¾†åˆ¤æ–·æ˜¯å¦æ˜¯æ•´æ•¸*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">isInteger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">obj&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* 3. é€šéparseIntåˆ¤æ–· æŸäº›å ´æ™¯ä¸æº–ç¢º */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">isInteger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">parseInt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">obj&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* 4. é€šéä½é‹ç®—ç¬¦*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">isInteger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">obj&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* 5.ES6æä¾›äº†Number.isInteger */&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="é€šé-css-æª¢æ¸¬ç³»çµ±çš„ä¸»é¡Œè‰²å¾è€Œå…¨å±€ä¿®æ”¹æ¨£å¼">é€šé css æª¢æ¸¬ç³»çµ±çš„ä¸»é¡Œè‰²å¾è€Œå…¨å±€ä¿®æ”¹æ¨£å¼&lt;/h2>
&lt;p>&lt;strong>@media&lt;/strong> çš„å±¬æ€§ &lt;code>prefers-color-scheme&lt;/code> å°±å¯ä»¥çŸ¥é“ç•¶å‰çš„ç³»çµ±ä¸»é¡Œï¼Œç•¶ç„¶ä½¿ç”¨å‰éœ€è¦æŸ¥æŸ¥&lt;a class="link" href="https://caniuse.com/?search=prefers-color-scheme" target="_blank" rel="noopener"
>å…¼å®¹æ€§&lt;/a>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">prefers-color-scheme&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">dark&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="o">//...&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">prefers-color-scheme&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">light&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="o">//...&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>javascript&lt;/strong> ä¹Ÿå¯ä»¥è¼•é¬†åšåˆ°&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;theme-mode&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">event&lt;/span> &lt;span class="p">=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mode&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;dark&amp;#39;&lt;/span>&lt;span class="p">){}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mode&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;light&amp;#39;&lt;/span>&lt;span class="p">){}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">matchMedia&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;(prefers-color-scheme: dark)&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;change&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">event&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">matches&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{}&lt;/span> &lt;span class="c1">// dark mode
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ•¸çµ„éš¨æ©Ÿæ‰“äº‚é †åº">æ•¸çµ„éš¨æ©Ÿæ‰“äº‚é †åº&lt;/h2>
&lt;p>é€šé &lt;code>0.5-Math.random()&lt;/code> å¾—åˆ°ä¸€å€‹éš¨æ©Ÿæ•¸ï¼Œå†é€šéå…©æ¬¡ sort æ’åºæ‰“äº‚çš„æ›´å¾¹åº•, ä½†æ˜¯é€™å€‹æ–¹æ³•å¯¦éš›ä¸Šä¸¦ä¸å¤ éš¨æ©Ÿï¼Œå¦‚æœæ˜¯ä¼æ¥­ç´šé‹ç”¨ï¼Œå»ºè­°ä½¿ç”¨ç¬¬äºŒç¨®æ´—ç‰Œç®—æ³•ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">shuffle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sort&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="mf">0.5&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()).&lt;/span> &lt;span class="nx">sort&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="mf">0.5&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">shuffle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">randomIndex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">;[&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">randomIndex&lt;/span>&lt;span class="p">]]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">randomIndex&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">arr&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="éš¨æ©Ÿç²å–ä¸€å€‹-boolean-å€¼">éš¨æ©Ÿç²å–ä¸€å€‹ Boolean å€¼&lt;/h2>
&lt;p>å’Œä¸Šå€‹åŸç†ç›¸åŒï¼Œé€šééš¨æ©Ÿæ•¸ç²å–ï¼Œ&lt;strong>Math.random()&lt;/strong> çš„å€é–“æ˜¯ 0-0.99ï¼Œç”¨ 0.5 åœ¨ä¸­é–“ç™¾åˆ†ä¹‹äº”åçš„æ¦‚ç‡ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">randomBool&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mf">0.5&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æŠŠæ•¸çµ„æœ€å¾Œä¸€é …ç§»åˆ°ç¬¬ä¸€é …">æŠŠæ•¸çµ„æœ€å¾Œä¸€é …ç§»åˆ°ç¬¬ä¸€é …&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">shift&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æŠŠæ•¸çµ„çš„ç¬¬ä¸€é …æ”¾åˆ°æœ€å¾Œä¸€é …">æŠŠæ•¸çµ„çš„ç¬¬ä¸€é …æ”¾åˆ°æœ€å¾Œä¸€é …&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">unshift&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pop&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åˆ©ç”¨-set-æ•¸çµ„å»é‡">åˆ©ç”¨ set æ•¸çµ„å»é‡&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">uniqueArr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">[...&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nx">Set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="dom-ç¯€é»å¹³æ»‘æ»¾å‹•åˆ°å¯è¦–å€åŸŸé ‚éƒ¨åº•éƒ¨">dom ç¯€é»å¹³æ»‘æ»¾å‹•åˆ°å¯è¦–å€åŸŸã€é ‚éƒ¨ã€åº•éƒ¨&lt;/h2>
&lt;p>åŸç”Ÿçš„ &lt;strong>scrollTo&lt;/strong> æ–¹æ³•æ²’æœ‰å‹•ç•«ï¼Œé¡ä¼¼æ–¼éŒ¨é»è·³è½‰ï¼Œæ¯”è¼ƒç”Ÿç¡¬ï¼Œå¯ä»¥é€šéé€™å€‹æ–¹æ³•æœƒè‡ªå¸¶å¹³æ»‘çš„éåº¦æ•ˆæœã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">scrollTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é ‚éƒ¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">element&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">scrollIntoView&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">behavior&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;smooth&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">block&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;start&amp;#34;&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åº•éƒ¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">element&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">scrollIntoView&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">behavior&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;smooth&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">block&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;end&amp;#34;&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å¯è¦–å€åŸŸ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">element&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">scrollIntoView&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">behavior&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;smooth&amp;#34;&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ç²å–éš¨æ©Ÿé¡è‰²">ç²å–éš¨æ©Ÿé¡è‰²&lt;/h2>
&lt;p>æ—¥å¸¸æˆ‘å€‘ç¶“å¸¸æœƒéœ€è¦ç²å–ä¸€å€‹éš¨æ©Ÿé¡è‰²ï¼Œé€šééš¨æ©Ÿæ•¸å³å¯å®Œæˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">getRandomColor&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`#&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mh">0xffffff&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æª¢æ¸¬æ˜¯å¦çˆ²ç©ºå°è±¡">æª¢æ¸¬æ˜¯å¦çˆ²ç©ºå°è±¡&lt;/h2>
&lt;p>é€šéä½¿ç”¨ ES6 çš„ &lt;strong>Reflect&lt;/strong> éœæ…‹æ–¹æ³•åˆ¤æ–·ä»–çš„é•·åº¦å°±å¯ä»¥åˆ¤æ–·æ˜¯å¦æ˜¯ç©ºæ•¸çµ„äº†ï¼Œä¹Ÿå¯ä»¥é€šé &lt;strong>Object.keys()&lt;/strong> ä¾†åˆ¤æ–·ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">isEmpty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">Reflect&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ownKeys&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">constructor&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nb">Object&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="boolean-è½‰æ›">Boolean è½‰æ›&lt;/h2>
&lt;p>ä¸€äº›å ´æ™¯ä¸‹æˆ‘å€‘æœƒå°‡ boolean å€¼å®šç¾©çˆ²å ´æ™¯ï¼Œä½†æ˜¯åœ¨ js ä¸­&lt;strong>éç©º&lt;/strong>çš„å­—ç¬¦ä¸²éƒ½æœƒè¢«èªçˆ²æ˜¯ &lt;strong>true&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">toBoolean&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">truthyValues&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;true&amp;#39;&lt;/span>&lt;span class="p">]){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">normalizedValue&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toLowerCase&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">trim&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">truthyValues&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">includes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">normalizedValue&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">toBoolean&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;TRUE&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">toBoolean&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;FALSE&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">toBoolean&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;YES&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;yes&amp;#39;&lt;/span>&lt;span class="p">]);&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å„ç¨®æ•¸çµ„è¤‡è£½æ–¹æ³•">å„ç¨®æ•¸çµ„è¤‡è£½æ–¹æ³•&lt;/h2>
&lt;p>æ•¸çµ„å…‹éš†çš„æ–¹æ³•å…¶å¯¦ç‰¹åˆ¥å¤šäº†ï¼Œçœ‹çœ‹æœ‰æ²’æœ‰ä½ æ²’è¦‹éçš„ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">clone&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">clone&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">[...&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">clone&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">Array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">clone&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">clone&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">parse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stringify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">clone&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">concat&lt;/span>&lt;span class="p">([]);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">clone&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">structuredClone&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ¯”è¼ƒå…©å€‹æ™‚é–“å¤§å°">æ¯”è¼ƒå…©å€‹æ™‚é–“å¤§å°&lt;/h2>
&lt;p>é€šéèª¿ç”¨ &lt;strong>getTime&lt;/strong> ç²å–æ™‚é–“æˆ³æ¯”è¼ƒå°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">compare&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getTime&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getTime&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è¨ˆç®—å…©å€‹æ™‚é–“ä¹‹é–“çš„æœˆä»½å·®ç•°">è¨ˆç®—å…©å€‹æ™‚é–“ä¹‹é–“çš„æœˆä»½å·®ç•°&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">monthDiff&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">startDate&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">endDate&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">endDate&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getFullYear&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nx">startDate&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getFullYear&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">12&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nx">startDate&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMonth&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">endDate&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMonth&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä¸€æ­¥é©Ÿå¾æ™‚é–“ä¸­æå–å¹´æœˆæ—¥æ™‚åˆ†ç§’">ä¸€æ­¥é©Ÿå¾æ™‚é–“ä¸­æå–å¹´æœˆæ—¥æ™‚åˆ†ç§’&lt;/h2>
&lt;p>æ™‚é–“æ ¼å¼åŒ–è¼•é¬†è§£æ±ºï¼Œä¸€æ­¥é©Ÿç²å–åˆ°&lt;strong>å¹´æœˆæ—¥æ™‚åˆ†ç§’æ¯«ç§’&lt;/strong>ï¼Œç”±æ–¼ &lt;strong>toISOString&lt;/strong> æœƒä¸Ÿå¤±æ™‚å€ï¼Œå°è‡´æ™‚é–“å·®å…«å°æ™‚ï¼Œæ‰€ä»¥åœ¨æ ¼å¼åŒ–ä¹‹å‰æˆ‘å€‘åŠ ä¸Šå…«å€‹å°æ™‚æ™‚é–“å³å¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">extract&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">getTime&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">3600&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">1000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toISOString&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sr">/[^0-9]/&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">extract&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">()))&lt;/span> &lt;span class="c1">// [&amp;#39;2022&amp;#39;, &amp;#39;09&amp;#39;, &amp;#39;19&amp;#39;, &amp;#39;18&amp;#39;, &amp;#39;06&amp;#39;, &amp;#39;11&amp;#39;, &amp;#39;187&amp;#39;]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åˆ¤æ–·ä¸€å€‹åƒæ•¸æ˜¯ä¸æ˜¯å‡½æ•¸">åˆ¤æ–·ä¸€å€‹åƒæ•¸æ˜¯ä¸æ˜¯å‡½æ•¸&lt;/h2>
&lt;p>æœ‰æ™‚å€™æˆ‘å€‘çš„æ–¹æ³•éœ€è¦å‚³å…¥ä¸€å€‹å‡½æ•¸å›èª¿ï¼Œä½†æ˜¯éœ€è¦æª¢æ¸¬å…¶é¡å‹ï¼Œæˆ‘å€‘å¯ä»¥é€šé &lt;strong>Object&lt;/strong> çš„åŸå‹æ–¹æ³•å»æª¢æ¸¬ï¼Œç•¶ç„¶é€™å€‹æ–¹æ³•å¯ä»¥æº–ç¢ºæª¢æ¸¬ä»»ä½•é¡å‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">isFunction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;[object Function]&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;[object GeneratorFunction]&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;[object AsyncFunction]&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;[object Promise]&amp;#39;&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">includes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prototype&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">call&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è¨ˆç®—å…©å€‹åº§æ¨™ä¹‹é–“çš„è·é›¢">è¨ˆç®—å…©å€‹åº§æ¨™ä¹‹é–“çš„è·é›¢&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">distance&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">p1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">p2&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">}
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æª¢æ¸¬å…©å€‹-dom-ç¯€é»æ˜¯å¦è¦†è“‹é‡ç–Š">æª¢æ¸¬å…©å€‹ dom ç¯€é»æ˜¯å¦è¦†è“‹é‡ç–Š&lt;/h2>
&lt;p>æœ‰äº›å ´æ™¯ä¸‹æˆ‘å€‘éœ€è¦åˆ¤æ–· dom æ˜¯å¦ç™¼ç”Ÿç¢°æ’äº†æˆ–è€…é‡ç–Šäº†ï¼Œæˆ‘å€‘å¯ä»¥é€šé &lt;strong>getBoundingClientRect&lt;/strong> ç²å–åˆ° dom çš„ x1ã€y1ã€x2ã€y2 åº§æ¨™ç„¶å¾Œé€²è¡Œåº§æ¨™æ¯”å°å³å¯åˆ¤æ–·å‡ºä¾†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">overlaps&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x1&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x2&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x1&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y1&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y2&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y1&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åˆ¤æ–·æ˜¯å¦æ˜¯-nodejs-ç’°å¢ƒ">åˆ¤æ–·æ˜¯å¦æ˜¯ Nodejs ç’°å¢ƒ&lt;/h2>
&lt;p>å‰ç«¯çš„æ—¥å¸¸é–‹ç™¼æ˜¯é›¢ä¸é–‹ nodejs çš„ï¼Œé€šéåˆ¤æ–·å…¨å±€ç’°å¢ƒä¾†æª¢æ¸¬æ˜¯å¦æ˜¯ nodejs ç’°å¢ƒã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">isNode&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">typeof&lt;/span> &lt;span class="nx">process&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s1">&amp;#39;undefined&amp;#39;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">versions&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">versions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">node&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åƒæ•¸æ±‚å’Œ">åƒæ•¸æ±‚å’Œ&lt;/h2>
&lt;p>ä¹‹å‰çœ‹åˆ°æœ‰é€šéå‡½æ•¸&lt;strong>æŸ¯ç†åŒ–&lt;/strong>å½¢å¼ä¾†æ±‚å’Œçš„ï¼Œé€šé &lt;strong>reduce&lt;/strong> ä¸€è¡Œå³å¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">sum&lt;/span>&lt;span class="p">(...&lt;/span>&lt;span class="nx">args&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">args&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">reduce&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr></description></item><item><title>ã€Callbackã€Promiseã€Async/Awaitã€‘è™•ç†éåŒæ­¥äº‹ä»¶</title><link>https://wayneblog.ga/2022-08-13/js-async-programs/</link><pubDate>Sat, 13 Aug 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-08-13/js-async-programs/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52282531224_1f57c841ee_o.jpg" alt="Featured image of post ã€Callbackã€Promiseã€Async/Awaitã€‘è™•ç†éåŒæ­¥äº‹ä»¶" />&lt;style>
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://www.youtube.com/watch?v=NOprCnnjHm0" target="_blank" rel="noopener"
>åƒè€ƒå½­å½­ - å›å‘¼å‡½å¼ Callbacksã€Promises ç‰©ä»¶ã€Async/Await éåŒæ­¥æµç¨‹æ§åˆ¶&lt;/a>&lt;/p>
&lt;h2 id="å‰è¨€">å‰è¨€&lt;/h2>
&lt;p>Javascript çš„ä¸»è¦ç‰¹é»æœ‰å…©å€‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>Single Thread (å–®ç·šç¨‹)&lt;/code>&lt;/li>
&lt;li>&lt;code>Synchronous (åŒæ­¥)&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ç•¶ä¸»ç¨‹å¼ä¸­é‡åˆ°ã€ŒéåŒæ­¥ã€çš„å‡½å¼å¦‚&lt;span class="focus">æ’ç¨‹&lt;/span>ã€&lt;span class="focus">å–è³‡æ–™&lt;/span>ã€&lt;span class="focus">è®€æª”&lt;/span>&amp;hellip;ç­‰ç›¸é—œçš„å‡½å¼æ™‚(å¦‚ï¼š&lt;code>setTimeout&lt;/code>ã€&lt;code>fetch&lt;/code>&amp;hellip;ç­‰)ï¼Œä¸»ç¨‹å¼ä¸¦ä¸æœƒåœæ­¢ä¸¦ç­‰å¾…å‡½å¼åŸ·è¡Œå®Œæˆå¾Œæ‰ç¹¼çºŒå¾€ä¸‹è·‘ï¼Œè€Œæ˜¯æœƒå°‡å…¶æ”¾åˆ° queue ä¸­ç›´åˆ°æ‰€æœ‰ç¨‹å¼ç¢¼éƒ½è·‘å®Œäº†ï¼ŒJavascript æœƒå†å›é ­åˆ° queue ä¸­æŒ‰é †åºå°‡ function æ‹‰å›ä¾†è™•ç†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ç¨‹å¼é–‹å§‹&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;éåŒæ­¥äº‹ä»¶&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ç¨‹å¼çµæŸ&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ç¨‹å¼é–‹å§‹&lt;br>
ç¨‹å¼çµæŸ&lt;br>
éåŒæ­¥äº‹ä»¶ &amp;lt;- æœ€å¾ŒåŸ·è¡Œ&lt;/p>
&lt;/blockquote>
&lt;p>ä¸Šæ®µçš„åŸå§‹ç¢¼ä¸­ï¼ŒsetTimeout æ‰€å®šç¾©çš„æ™‚é–“ç‚º 0ï¼Œä½†å› ç‚ºæ˜¯å±¬æ–¼éåŒæ­¥äº‹ä»¶ï¼Œå› æ­¤é‚„æ˜¯æœƒåœ¨å…¶ä»–åŸå§‹ç¢¼é‹è¡Œå®Œä»¥å¾Œæ‰åŸ·è¡Œï¼Œåœ¨ Ajax çš„è¡Œç‚ºä¸­ä¹Ÿæ˜¯ä¸€æ¨£ï¼Œç•¶éœ€è¦ç¢ºä¿æ“·å–åˆ°é ç«¯è³‡æ–™æ‰ç¹¼çºŒå¾€ä¸‹åŸ·è¡Œæ™‚ï¼Œå¦‚æœç¨‹å¼ç¢¼æ˜¯ä¾åºæ’°å¯«çš„æ–¹å¼ï¼Œå°±æœƒç„¡æ³•æ­£ç¢ºå‘ˆç¾è³‡æ–™ï¼Œä»¥ä¸‹èˆ‰å€‹ä¾‹å­ç¤ºç¯„ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="èˆ‰ä¾‹">èˆ‰ä¾‹&lt;/h2>
&lt;p>ä»¥ä¸‹ç‚ºä¾‹ï¼Œæ­¤ç‚ºä¸€å€‹å¾ˆåŸºæœ¬çš„å›å‚³n1+n2çš„çµæœçš„å‡½å¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">n2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">n1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">n2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">test&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&amp;gt; &lt;span class="m">7&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†è‹¥ä»Šå¤©éœ€æ±‚éœ€è¦å»¶é²å…©ç§’å†å°‡çµæœæ‰“å°å‡ºä¾†æ™‚ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">n2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">n1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">n2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">test&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&amp;gt; undefined
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ™‚æœƒç™¼ç¾æ‰“å°å‡ºä¾†çš„ &lt;code>result&lt;/code> å› ç‚º &lt;code>delayedAdd&lt;/code> é‚„æœªå°‡çµæœå›å‚³ï¼Œå°è‡´ç›´æ¥é¡¯ç¤º &lt;code>undefined&lt;/code>ï¼Œæ­¤æ™‚å°±éœ€è¦ä¾†è§£æ±ºé€™ç¨®éåŒæ­¥æµç¨‹çš„æ§åˆ¶ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æ–¹æ³•1callbacks-å›å‘¼å‡½å¼">æ–¹æ³•1ï¼š&lt;code>Callbacks&lt;/code> å›å‘¼å‡½å¼&lt;/h2>
&lt;ul>
&lt;li>æœ€æ—©æœŸä½¿ç”¨çš„æ–¹å¼ï¼Œæ–¼å‡½å¼æœ€å¾Œè¨­å®š&lt;code>callback&lt;/code>ï¼ŒåŸ·è¡Œéœ€è¦åšçš„äº‹æƒ…ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Callback å›å‘¼å‡½å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">n2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">callback&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è¨­å®šæ’ç¨‹ï¼Œå»¶é²ä¸€æ®µæ™‚é–“å¾ŒåŸ·è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å»¶é²ä¸€æ®µæ™‚é–“ä¹‹å¾Œï¼Œè¨ˆç®—åŠ æ³•ï¼Œå‘¼å« callback å‡½å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">callback&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">n2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">test&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&amp;gt; &lt;span class="m">7&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ–¹æ³•2promise-ç‰©ä»¶">æ–¹æ³•2ï¼š&lt;code>Promise&lt;/code> ç‰©ä»¶&lt;/h2>
&lt;ul>
&lt;li>è¿‘æœŸæ–¼ES6æå‡ºçš„æ–°æ–¹å¼ã€‚&lt;/li>
&lt;li>å»ºç«‹ promise ç‰©ä»¶ï¼š&lt;code>new Promise(åŸ·è¡Œå‡½å¼)&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">n2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å»ºç«‹ Promiseï¼Œä½¿ç”¨resolveæˆ–rejectå›å‚³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">n2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// å‘¼å«resolveå°‡çµæœå›å‚³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">test&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">promise&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">promise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&amp;gt; &lt;span class="m">7&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="å¸¸è¦‹å¯«æ³•ç›´æ¥-return-promise">å¸¸è¦‹å¯«æ³•ï¼Œç›´æ¥ return promise&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">n2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å»ºç«‹ Promiseï¼Œä½¿ç”¨resolveæˆ–rejectå›å‚³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">n2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// å‘¼å«resolveå°‡çµæœå›å‚³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">test&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">promise&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">promise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&amp;gt; &lt;span class="m">7&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>new Promise(resolve, reject) çš„ &lt;code>resolve&lt;/code> èˆ‡ &lt;code>reject&lt;/code> ç‚º Promise åŸç”Ÿæä¾›ï¼Œå¯è‡ªè¡Œæ”¹åä½†é †åºä¸å¯ç•°å‹•ã€‚&lt;/li>
&lt;li>&lt;code>resolve&lt;/code> å°æ‡‰&lt;code>.then()&lt;/code>ä¸”ä»£è¡¨æˆåŠŸï¼Œè€Œ &lt;code>reject&lt;/code> å‰‡å°æ‡‰åˆ° &lt;code>.catch()&lt;/code>ä¸”ä»£è¡¨å¤±æ•—ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">n2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å»ºç«‹ Promiseï¼Œä½¿ç”¨resolveæˆ–rejectå›å‚³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">reject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">n2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// è‹¥ä½¿ç”¨rejectï¼Œå‰‡éœ€ä½¿ç”¨.catch
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">test&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">promise&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å› ä½¿ç”¨ reject å›å‚³ï¼Œé€™è£¡ä½¿ç”¨ .catch ä¾†æ¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">promise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&amp;gt; &lt;span class="m">7&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ–¹æ³•3asyncawait-promise-çš„èªæ³•ç³–">æ–¹æ³•3ï¼š&lt;code>Async/Await&lt;/code> ï¼Œ&lt;code>Promise&lt;/code> çš„èªæ³•ç³–&lt;/h2>
&lt;ul>
&lt;li>&lt;code>Promise&lt;/code>çš„èªæ³•ç³–ï¼Œä»¥ä¾¿æ–¼æ›´ç›´è§€çš„é–±è®€èˆ‡æ’°å¯«éåŒæ­¥æµç¨‹ï¼ŒåŒ &lt;code>Promise&lt;/code> æ–¼ES6æå‡ºçš„æ–°ç©æ„å…’ã€‚&lt;/li>
&lt;li>æ³¨æ„ï¼š&lt;code>await&lt;/code> çš„å‡½å¼å¿…é ˆè¦ç¢ºä¿æœ‰&lt;code>Promise&lt;/code>ï¼Œå¦å‰‡å°‡å ±éŒ¯ã€‚&lt;/li>
&lt;li>éœ€å…ˆå®£å‘Šç‚º &lt;code>async&lt;/code> å‡½å¼ï¼Œæ‰èƒ½ä½¿ç”¨ &lt;code>await&lt;/code>ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">n2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å»ºç«‹ Promiseï¼Œä½¿ç”¨resolveæˆ–rejectå›å‚³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">n2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// è‹¥ä½¿ç”¨rejectï¼Œå‰‡éœ€ä½¿ç”¨.catch
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// éœ€å…ˆå®£å‘Šç‚º async å‡½å¼ï¼Œæ‰å¯ä½¿ç”¨ await
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">test&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&amp;gt; &lt;span class="m">7&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>æ³¨æ„ï¼šä½¿ç”¨ &lt;code>await&lt;/code> æ™‚ï¼Œä¸»ç¨‹å¼æœƒç¢ºå¯¦åœæ­¢ï¼Œç­‰å¾… &lt;code>await&lt;/code> å‡½å¼åŸ·è¡Œå®Œæˆå¾Œï¼Œæ‰æ¥çºŒå¾€ä¸‹è·‘ï¼Œèˆ‰ä¾‹ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">n2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å»ºç«‹ Promiseï¼Œä½¿ç”¨resolveæˆ–rejectå›å‚³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">n2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// è‹¥ä½¿ç”¨rejectï¼Œå‰‡éœ€ä½¿ç”¨.catch
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// éœ€å…ˆå®£å‘Šç‚º async å‡½å¼ï¼Œæ‰å¯ä½¿ç”¨ await
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">test&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Hello&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&amp;gt; &lt;span class="m">7&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; Hello
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å»¶ä¼¸ä¸€å¤šå€‹-promise-çš„è³‡æ–™è™•ç†promiseall">å»¶ä¼¸ä¸€ï¼šå¤šå€‹ Promise çš„è³‡æ–™è™•ç†ï¼š&lt;code>Promise.all()&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>è‹¥é‡åˆ°å¤šå€‹ &lt;code>Promise&lt;/code>ï¼Œä¸”éœ€å°‡å„å€‹ &lt;code>Promise&lt;/code> çš„çµæœé€²è¡Œé‹ç®—æ™‚ï¼Œå¯ä½¿ç”¨ &lt;code>Promise.all()&lt;/code> ä¾†è™•ç†ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">n2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å»ºç«‹ Promiseï¼Œä½¿ç”¨resolveæˆ–rejectå›å‚³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">n2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// å‘¼å«resolveå°‡çµæœå›å‚³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">test&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">promise1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">promise2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å¤šå€‹ Promise éƒ½å®Œæˆä¹‹å¾Œï¼Œå°‡å…¶æ•¸å€¼ç›¸ä¹˜
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">all&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">promise1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">promise2&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">results&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ­¤æ™‚ results ç‚ºä¸€å€‹é™£åˆ— &amp;gt; [7, 5];
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">answer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">results&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">reduce&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">total&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">total&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">answer&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&amp;gt; &lt;span class="m">35&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å»¶ä¼¸äºŒå¤šå€‹-promise-ä½¿ç”¨-asyncawait">å»¶ä¼¸äºŒï¼šå¤šå€‹ Promise ä½¿ç”¨ &lt;code>Async/Await&lt;/code>&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">n2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å»ºç«‹ Promiseï¼Œä½¿ç”¨resolveæˆ–rejectå›å‚³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">n2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// å‘¼å«resolveå°‡çµæœå›å‚³
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="nx">delayTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">test&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">result1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">result2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">delayedAdd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">answer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">result1&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">result2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">answer&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&amp;gt; &lt;span class="m">35&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr></description></item><item><title>Javascript çš„ Async/Await</title><link>https://wayneblog.ga/2022-08-13/js-async-await/</link><pubDate>Sat, 13 Aug 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-08-13/js-async-await/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52281246237_dd06bc8ef9_o.png" alt="Featured image of post Javascript çš„ Async/Await" />&lt;style>
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://www.oxxostudio.tw/articles/201908/js-async-await.html" target="_blank" rel="noopener"
>æœ¬æ–‡åƒè€ƒç¶²å€&lt;/a>&lt;/p>
&lt;h2 id="ä»€éº¼æ˜¯-asyncä»€éº¼æ˜¯-await">ä»€éº¼æ˜¯ &lt;code>async&lt;/code>ï¼Ÿä»€éº¼æ˜¯ &lt;code>await&lt;/code>ï¼Ÿ&lt;/h2>
&lt;p>åœ¨ JavaScript çš„ä¸–ç•Œï¼ŒåŒæ­¥ &lt;span class="focus">sync&lt;/span> å’ŒéåŒæ­¥ &lt;span class="focus">async&lt;/span> çš„æ„›æ¨æƒ…ä»‡ï¼Œå°±å¦‚åŒå¶åƒåŠ‡ä¸€èˆ¬çš„å‰ªä¸æ–·ç†é‚„äº‚ï¼Œç‰¹åˆ¥åƒæ˜¯&lt;span class="focus">setTimeout&lt;/span>ã€&lt;span class="focus">setInterval&lt;/span>ã€&lt;span class="focus">MLHttpRequest&lt;/span>æˆ–&lt;span class="focus">fetch&lt;/span>é€™äº›åŒæ­¥éåŒæ­¥æ··é›œçš„ç”¨æ³•ï¼Œéƒ½æœƒè®“äººä¸€å€‹é ­å…©å€‹å¤§ï¼Œå¹¸å¥½ ES6 å‡ºç¾äº† promiseï¼ŒES7 å‡ºç¾äº† asyncã€awaitï¼Œå¹«åŠ©æˆ‘å€‘å¯ä»¥æ›´å®¹æ˜“çš„é€²è¡Œç¨‹å¼é‚è¼¯çš„æ’°å¯«ã€‚&lt;/p>
&lt;p>å°æ–¼åŒæ­¥å’ŒéåŒæ­¥ï¼Œæœ€å¸¸è¦‹çš„èªªæ³•æ˜¯ã€Œ&lt;strong>åŒæ­¥æ¨¡å¼ä¸‹ï¼Œæ¯å€‹ä»»å‹™å¿…é ˆæŒ‰ç…§é †åºåŸ·è¡Œï¼Œå¾Œé¢çš„ä»»å‹™å¿…é ˆç­‰å¾…å‰é¢çš„ä»»å‹™åŸ·è¡Œå®Œæˆï¼ŒéåŒæ­¥æ¨¡å¼å‰‡ç›¸åï¼Œå¾Œé¢çš„ä»»å‹™ä¸ç”¨ç­‰å‰é¢çš„ï¼Œå„è‡ªåŸ·è¡Œå„è‡ªçš„ä»»å‹™&lt;/strong>ã€ï¼Œä½†æˆ‘è¦ºå¾—é€™æ¨£å¯¦åœ¨ä¸å®¹æ˜“ç†è§£ï¼Œä¸å®¹æ˜“ç†è§£çš„åœ°æ–¹åœ¨æ–¼ã€Œä¸­æ–‡ã€çš„åŒæ­¥å’ŒéåŒæ­¥ï¼Œå¯èƒ½å’Œå¯¦éš›ä¸Šçš„è§£é‡‹å‰›å¥½ç›¸åäº† ( åŒæ­¥çš„ä¸­æ–‡å­—é¢æ„æ€æ˜¯ã€Œä¸€èµ·èµ°ã€ï¼ŒéåŒæ­¥çš„ä¸­æ–‡æ„æ€æ˜¯ã€Œä¸è¦ä¸€èµ·èµ°ã€ï¼Œè¶…å®¹æ˜“æéŒ¯çš„ )ï¼Œå› æ­¤å¦‚æœä½ è·Ÿæˆ‘ä¸€æ¨£ä¹Ÿå¾ˆå®¹æ˜“æéŒ¯ï¼Œå¯ä»¥ä½¿ç”¨æˆ‘è¦ºå¾—æ¯”è¼ƒå¥½ç†è§£çš„æ–¹æ³•ï¼šã€Œ&lt;span class="focus">åŒä¸€å€‹æ­¥é“ vs ä¸åŒæ­¥é“&lt;/span>ã€ï¼Œé€éæ­¥é“çš„æ–¹å¼ï¼Œå°±æ›´å®¹æ˜“æ˜ç™½åŒæ­¥å’ŒéåŒæ­¥ã€‚&lt;/p>
&lt;blockquote>
&lt;p>åŒæ­¥ï¼šåœ¨ã€ŒåŒä¸€å€‹æ­¥é“ã€æ¯”è³½ã€Œæ¥åŠ›è³½è·‘ã€ï¼Œç•¶æ£’å­æ²’æœ‰äº¤çµ¦æˆ‘ï¼Œæˆ‘å°±å¾—ç­‰ä½ ï¼Œä¸èƒ½è·‘ã€‚&lt;br>
éåŒæ­¥ï¼šåœ¨ã€Œä¸ ( é ) åŒæ­¥é“ã€æ¯”è³½ã€Œè³½è·‘ã€ï¼Œèª°éƒ½ä¸ç­‰èª°ï¼Œåªè¦è¼ªåˆ°æˆ‘è·‘ï¼Œæˆ‘å°±é–‹å§‹è·‘ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52282241823_af79345bfe_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>åœ¨ ES7 è£¡é ­ async çš„æœ¬è³ªæ˜¯ promise çš„èªæ³•ç³– ( åŒ…è£å¾—ç”œç”œçš„æ¯”è¼ƒå¥½åƒä¸‹è‚š )ï¼Œ&lt;strong>åªè¦ function æ¨™è¨˜ç‚º asyncï¼Œå°±è¡¨ç¤ºè£¡é ­å¯ä»¥æ’°å¯« await çš„åŒæ­¥èªæ³•&lt;/strong>ï¼Œè€Œ await é¡§åæ€ç¾©å°±æ˜¯ã€Œç­‰å¾…ã€ï¼Œå®ƒæœƒç¢ºä¿ä¸€å€‹ promise ç‰©ä»¶éƒ½è§£æ±º ( resolve ) æˆ–å‡ºéŒ¯ ( reject ) å¾Œæ‰æœƒé€²è¡Œä¸‹ä¸€æ­¥ï¼Œç•¶ async function çš„å…§å®¹å…¨éƒ½çµæŸå¾Œï¼Œæœƒè¿”å›ä¸€å€‹ promiseï¼Œé€™è¡¨ç¤ºå¾Œæ–¹å¯ä»¥ä½¿ç”¨&lt;span class="focus">.then&lt;/span>èªæ³•ä¾†åšé€£æ¥ï¼ŒåŸºæœ¬çš„ç¨‹å¼é•·ç›¸å°±åƒä¸‹é¢é€™æ¨£ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.....&lt;/span> &lt;span class="c1">// ç­‰ b() å®Œæˆå¾Œæ‰æœƒåŸ·è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.....&lt;/span> &lt;span class="c1">// ç­‰ c() å®Œæˆå¾Œæ‰æœƒåŸ·è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.....&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.....&lt;/span> &lt;span class="c1">// ä¸Šæ–¹çš„ promise å®Œæˆå¾Œæ‰æœƒåŸ·è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">a&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">a&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.....&lt;/span> &lt;span class="c1">// ç­‰ a() å®Œæˆå¾Œæ¥è‘—åŸ·è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="åˆ©ç”¨-async-å’Œ-await-åšå€‹æ¼‚äº®çš„ç­‰å¾…">åˆ©ç”¨ async å’Œ await åšå€‹ã€Œæ¼‚äº®çš„ç­‰å¾…ã€&lt;/h2>
&lt;p>æ¯”è¼ƒäº†è§£ async å’Œ await çš„æ„æ€ä¹‹å¾Œï¼Œå°±ä¾†è©¦è©¦çœ‹åšå€‹ã€Œ&lt;strong>æ¼‚äº®çš„ç­‰å¾…&lt;/strong>ã€ï¼Œéå»æœ‰ä½¿ç”¨ ES6 çš„ promise ä¾†å¯¦ç¾ delay ( å¦‚åŒä¸‹æ–¹çš„ç¨‹å¼ç¯„ä¾‹ )ï¼Œé€™å€‹ delay é€é&lt;span class="focus">.then&lt;/span>ä¾†å®Œæˆä¸€æ­¥ä¸€æ­¥çš„ä¸²æ¥ï¼Œé›–ç„¶é‚è¼¯ä¸Šå¾ˆæ¸…æ¥šï¼Œä½†è‹¥è¦å¯¦ä½œæ¯”è¼ƒè¤‡é›œçš„æµç¨‹ï¼Œå°±å¾—æŠŠæ¯å€‹ç¨‹å¼å¯«åœ¨å°æ‡‰çš„ callback è£ï¼Œä¹Ÿå°±æ²’æœ‰æƒ³åƒçš„å®¹æ˜“ï¼Œé€™å°±æ˜¯ã€Œä¸å¤ªæ¼‚äº®çš„ç­‰å¾…ã€ ( ä½¿ç”¨ setTimeout çš„åšæ³•å°±æ˜¯ä¸æ¼‚äº®çš„ç­‰å¾… )ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä¸æ¼‚äº®çš„ç­‰å¾…
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">delay&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">delay&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// é¡¯ç¤º 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">delay&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1000&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// å»¶é²ã„§ç§’
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// é¡¯ç¤º 2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">delay&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2000&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// å»¶é²äºŒç§’
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// é¡¯ç¤º 3
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœæˆ‘å€‘æŠŠä¸Šé¢çš„ç¯„ä¾‹ä¿®æ”¹ç‚º async å’Œ await çš„å¯«æ³•ï¼Œçªç„¶å°±ç™¼ç¾ç¨‹å¼ç¢¼çœ‹èµ·ä¾†éå¸¸çš„ä¹¾æ·¨ï¼Œå› ç‚º &lt;strong>&lt;code>await&lt;/code> æœƒç­‰å¾…æ”¶åˆ° resolve ä¹‹å¾Œæ‰æœƒé€²è¡Œå¾Œé¢çš„å‹•ä½œï¼Œå¦‚æœæ²’æœ‰æ”¶åˆ°å°±æœƒä¸€ç›´è™•åœ¨ç­‰å¾…çš„ç‹€æ…‹&lt;/strong>ï¼Œæ‰€ä»¥ä»€éº¼æ™‚å€™è©²ç­‰å¾…ï¼Œä»€éº¼æ™‚å€™è©²åšä¸‹ä¸€æ­¥ï¼Œå°±æœƒéå¸¸æ¸…æ¥šæ˜ç­ï¼Œé€™ä¹Ÿå°±æ˜¯æˆ‘æ‰€è¬‚ã€Œæ¼‚äº®çš„ç­‰å¾…ã€ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æ³¨æ„ï¼Œawait ä¸€å®šå¾—é‹è¡Œåœ¨ async function å…§ï¼&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="o">~&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="c1">// ~ é–‹é ­è¡¨ç¤ºç›´æ¥åŸ·è¡Œé€™å€‹ functionï¼Œçµå°¾æœ‰ ()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">delay&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">){&lt;/span> &lt;span class="c1">// å›å‚³ä¸€å€‹ promise
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// ç­‰å¾…å¤šå°‘ç§’ä¹‹å¾Œ resolve()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// é¡¯ç¤º 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">delay&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1000&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// å»¶é²ã„§ç§’
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// é¡¯ç¤º 2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">delay&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2000&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// å»¶é²äºŒç§’
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// é¡¯ç¤º 3
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="æ­é…-promise">æ­é… Promise&lt;/h2>
&lt;p>åŸºæœ¬ä¸Šåªè¦æœ‰ async å’Œ await çš„åœ°æ–¹ï¼Œå°±ä¸€å®šæœ‰ promise çš„å­˜åœ¨ï¼Œpromise é¡§åæ€ç¾©å°±æ˜¯ã€Œä¿è­‰åŸ·è¡Œä¹‹å¾Œæ‰æœƒåšä»€éº¼äº‹æƒ…ã€ï¼Œå‰›å‰›ä½¿ç”¨äº† &lt;span class="focus">async&lt;/span>ã€&lt;span class="focus">await&lt;/span> å’Œ &lt;span class="focus">promise&lt;/span> æ”¹å–„&lt;span class="focus">setTimeout&lt;/span>é€™å€‹å®¹æ˜“å‡ºéŒ¯çš„éåŒæ­¥ç­‰å¾…ï¼Œé‡å°setIntervalï¼Œä¹Ÿèƒ½ç”¨åŒæ¨£çš„åšæ³•ä¿®æ”¹ï¼Œèˆ‰ä¾‹ä¾†èªªï¼Œä¸‹é¢çš„ç¨‹å¼ç¢¼åŸ·è¡Œä¹‹å¾Œï¼Œä¸¦ã€Œ&lt;strong>ä¸æœƒ&lt;/strong>ã€å¦‚æˆ‘å€‘é æœŸçš„ã€Œ&lt;strong>å…ˆé¡¯ç¤º 1ï¼Œå†é¡¯ç¤º haha0&amp;hellip;haha5ï¼Œæœ€å¾Œå†é¡¯ç¤º 2&lt;/strong>ã€ï¼Œè€Œæ˜¯ã€Œ&lt;strong>å…ˆé¡¯ç¤º 1 å’Œ 2ï¼Œç„¶å¾Œå†å‡ºç¾ haha0&amp;hellip;haha5&lt;/strong>ã€ï¼Œå› ç‚ºé›–ç„¶ç¨‹å¼é‚è¼¯æ˜¯å¾ä¸Šå¾€ä¸‹ï¼Œä½†åœ¨ count function è£é ­æ˜¯éåŒæ­¥çš„èªæ³•ï¼Œå°è‡´è‡ªå·±èµ°è‡ªå·±çš„è·¯ï¼Œä¹Ÿé€ æˆäº†çµæœçš„ä¸å¦‚é æœŸã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">timer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">setInterval&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="si">}${&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clearInterval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">timer&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;haha&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52281246202_7cf2b63ba9_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é€™æ™‚æˆ‘å€‘å¯ä»¥é€é &lt;span class="focus">async&lt;/span>ã€&lt;span class="focus">await&lt;/span> å’Œ &lt;span class="focus">promise&lt;/span> é€²è¡Œä¿®æ­£ï¼Œåœ¨é¡¯ç¤º 1 ä¹‹å¾Œï¼Œæœƒã€Œ&lt;strong>ç­‰å¾…&lt;/strong>ã€count function çµæŸå¾Œå†é¡¯ç¤º 2ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="o">~&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">timer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">setInterval&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="si">}${&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clearInterval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">timer&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// è¡¨ç¤ºå®Œæˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;haha&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52282241813_ded6525063_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é™¤äº†&lt;span class="focus">setTimeout&lt;/span>å’Œ&lt;span class="focus">setInterval&lt;/span>ï¼Œé€™ä¹Ÿå¯ä»¥ç”¨æ–¼åƒæ˜¯ã€Œ&lt;strong>è¼¸å…¥æ–‡å­—&lt;/strong>ã€çš„æƒ…å¢ƒï¼Œéå»æˆ‘å€‘è¦åšåˆ°ã€Œ&lt;strong>é€£çºŒè¼¸å…¥&lt;/strong>ã€æ–‡å­—ï¼Œå¯èƒ½è¦å±¤å±¤ç–Šç–Šå¯«å€‹å¥½å¹¾å€‹ callbackï¼Œç¾åœ¨å¦‚æœä½¿ç”¨ async å’Œ awaitï¼Œå°±èƒ½å¤ å¾ˆç°¡å–®çš„å¯¦ç¾é€£çºŒè¼¸å…¥çš„æƒ…å¢ƒï¼Œç¨‹å¼ç¢¼çœ‹èµ·ä¾†ä¹Ÿæ›´ä¹¾æ·¨ç°¡æ½”ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// HTML ç‚ºä¸€å€‹è¼¸å…¥æ¡†ã€ä¸€å€‹æŒ‰éˆ•å’Œä¸€å€‹ h1 æ¨™ç±¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;lt;input id=&amp;#34;a&amp;#34;&amp;gt;&amp;lt;/input&amp;gt;&amp;lt;button id=&amp;#34;b&amp;#34;&amp;gt;send&amp;lt;/button&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;lt;h1 id=&amp;#34;h&amp;#34;&amp;gt;&amp;lt;/h1&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">~&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span> &lt;span class="p">=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">btnClick&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">h&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">insertAdjacentHTML&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeend&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;br/&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// è¼¸å…¥å¾Œåœ¨ h1 è£¡æ·»åŠ å…§å®¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// æ¸…ç©ºè¼¸å…¥æ¡†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// å°‡ç„¦é»ç§»è‡³è¼¸å…¥æ¡†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">removeEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">btnClick&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// removeEventListener é¿å…é‡è¤‡ç¶å®šäº‹ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// å®Œæˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">btnClick&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// ç¶å®šæŒ‰éˆ•äº‹ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">h&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">insertAdjacentHTML&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeend&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;é–‹å§‹&amp;lt;br/&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// ç­‰å¾…è¼¸å…¥ï¼Œè¼¸å…¥å¾Œæ‰æœƒé€²è¡Œä¸‹ä¸€æ­¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">h&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">insertAdjacentHTML&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeend&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;çµæŸ&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52282714720_c1853f1646_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="æ­é…-fetch">æ­é… Fetch&lt;/h2>
&lt;p>åœ¨æˆ‘ä¹‹å‰çš„æ–‡ç«  &lt;a class="link" href="https://www.oxxostudio.tw/articles/201908/js-fetch.html#_self" target="_blank" rel="noopener"
>JavaScript Fetch API ä½¿ç”¨æ•™å­¸&lt;/a> å·²ç¶“æœ‰æåˆ°&lt;span class="focus">fetch&lt;/span>çš„ç”¨æ³•ï¼Œå› ç‚º&lt;span class="focus">fetch&lt;/span>æœ€å¾Œå›å‚³çš„æ˜¯ promiseï¼Œç†æ‰€ç•¶ç„¶çš„é€é async å’Œ await æ“ä½œæ˜¯æœ€æ°ç•¶ä¸éçš„ã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œå…ˆå‰å¾€ &lt;a class="link" href="https://opendata.cwb.gov.tw/index" target="_blank" rel="noopener"
>ä¸­å¤®æ°£è±¡å±€é–‹æ”¾è³‡æ–™å¹³å°&lt;/a> å¯ä»¥å–å¾—è¨±å¤šæ°£è±¡è³‡æ–™ï¼Œæ‰¾åˆ° &lt;a class="link" href="https://opendata.cwb.gov.tw/dataset/observation/O-A0003-001" target="_blank" rel="noopener"
>å±€å±¬æ°£è±¡ç«™-ç¾åœ¨å¤©æ°£è§€æ¸¬å ±å‘Š&lt;/a> ï¼Œè¤‡è£½ JSON æ ¼å¼çš„é€£çµ ( éœ€è¦è¨»å†Šç™»å…¥æ‰èƒ½çœ‹å¾—åˆ°é€£çµ )ï¼Œé€é&lt;span class="focus">fetch&lt;/span>çš„&lt;span class="focus">json()&lt;/span>æ–¹æ³•è™•ç†æª”æ¡ˆï¼Œç›®æ¨™é¡¯ç¤ºå‡ºã€Œé«˜é›„å¸‚çš„å³æ™‚æ°£æº«ã€ã€‚&lt;/p>
&lt;p>é€é async å’Œ await çš„ç¾åŒ–ç¨‹å¼ç¢¼ï¼Œå¾—åˆ°çš„çµæœå®Œå…¨ä¸éœ€è¦ callback çš„è¼”åŠ©ï¼Œå°±èƒ½æŒ‰ç…§æˆ‘å€‘æ‰€æœŸæœ›çš„é †åºé€²è¡Œã€‚(å…ˆé¡¯ç¤ºã€Œé–‹å§‹æŠ“æ°£è±¡ã€ï¼Œæ¥è‘—é¡¯ç¤ºã€Œé«˜é›„å¸‚çš„æ°£æº«ã€ï¼Œæœ€å¾Œé¡¯ç¤ºã€Œç¸½ç®—çµæŸäº†ã€)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="o">~&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é–‹å§‹æŠ“æ°£è±¡&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// å…ˆé¡¯ç¤ºã€Œé–‹å§‹æŠ“æ°£è±¡ã€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ°£è±¡å±€ json ç¶²å€&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// å¸¶æœ‰ await çš„ fetch
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">res&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">city&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">result&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cwbopendata&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">location&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">14&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">parameter&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">parameterValue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">result&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cwbopendata&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">location&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">14&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">weatherElement&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">elementValue&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">city&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">çš„æ°£æº«ç‚º &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">temp&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> åº¦ C`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ç¸½ç®—çµæŸäº†&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// æŠ“å®Œæ°£è±¡ä¹‹å¾Œå†é¡¯ç¤ºã€Œç¸½ç®—çµæŸäº†ã€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52281246172_5217bf3d10_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="æ­é…-è¿´åœˆ">æ­é… è¿´åœˆ&lt;/h2>
&lt;p>å¦‚æœè¦é€é JavaScript å¯¦ç¾ã€Œæ–‡å­—æ…¢æ…¢è®Šå¤§ã€çš„æ•ˆæœï¼Œé™¤äº†é€é CSS çš„ transition è¨­å®šä¹‹å¤–ï¼Œé€šå¸¸å°±æ˜¯ç›´æ¥ä½¿ç”¨&lt;span class="focus">setInterval&lt;/span>ä¾†å®Œæˆï¼Œå°±åƒä¸‹é¢çš„ç¨‹å¼ç¢¼é€™æ¨£ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">h&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lineHeight&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">timer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">setInterval&lt;/span>&lt;span class="p">(()=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">h&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fontSize&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">size&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;px&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">size&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">size&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">130&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clearInterval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">timer&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœæ­é… async å’Œ awaitï¼Œæˆ‘å€‘å°±èƒ½å°‡åŒæ¨£çš„åšæ³•ï¼Œæ”¹ç”±ã€Œè¿´åœˆã€å¯¦ç¾ï¼Œå› ç‚ºä½¿ç”¨äº† awaitï¼Œæ‰€ä»¥è¿´åœˆæ¯æ¬¡åŸ·è¡Œæ™‚ï¼Œéƒ½æœƒé€²è¡Œã€Œç­‰å¾…ã€ï¼Œä¹Ÿå°±èƒ½åšåˆ°å­—é«”æ…¢æ…¢è®Šå¤§çš„æ•ˆæœã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// HTML ç‚ºä¸€å€‹ h1 æ¨™ç±¤ &amp;lt;h1 id=&amp;#34;h&amp;#34;&amp;gt;hello&amp;lt;/h1&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">~&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">delay&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">t&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// å…ˆæ’°å¯«ä¸€å€‹ç­‰å¾…çš„ function
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">t&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">h&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">linHeight&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mi">130&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">h&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fontSize&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;px&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">delay&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// è¿´åœˆæ¯æ¬¡åŸ·è¡Œæ™‚ï¼Œéƒ½æœƒåœ¨é€™è£¡ç­‰å¾… 10ms
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52282241753_68a9196e43_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>åŒæ¨£çš„ï¼Œä¸Šé¢æåˆ°çš„ fetch æˆ–æ˜¯è¼¸å…¥æ–‡å­—ï¼Œåªè¦åšæˆ await çš„æ–¹å¼ï¼Œéƒ½å¯ä»¥æ”¾åœ¨è¿´åœˆè£¡é¢ä½¿ç”¨ï¼Œä¾‹å¦‚é€éè¿´åœˆä¸æ–·çš„ fetch è³‡æ–™ã€é€éè¿´åœˆä¸æ–·çš„è¼¸å…¥æ–‡å­—&amp;hellip;ç­‰ï¼Œé€™äº›å°±ä¸æ˜¯ callback æ–¹æ³•èƒ½å®¹æ˜“è¾¦åˆ°çš„å›‰&lt;/p>
&lt;hr>
&lt;h2 id="å°çµ">å°çµ&lt;/h2>
&lt;p>å¦ç™½èªªåªè¦ä½ ä¸€ä½†ç†Ÿæ‚‰äº† async å’Œ awaitï¼Œå°±çœŸçš„å›ä¸å»äº†ï¼Œé›–ç„¶èªª callback ä»ç„¶æ˜¯ç¨‹å¼é–‹ç™¼è£¡å¿…å‚™çš„åŠŸèƒ½ï¼Œä½†å°æ–¼åŒæ­¥å’ŒéåŒæ­¥ä¹‹é–“çš„è½‰æ›ï¼Œä»¥å¾Œå°±äº¤çµ¦ async å’Œ await ä¾†è™•ç†å§ï¼&lt;/p>
&lt;hr></description></item><item><title>Javascript çš„æ­£å‰‡è¡¨é”å¼(Regular Expression, regex)</title><link>https://wayneblog.ga/2022-08-13/js-regex/</link><pubDate>Sat, 13 Aug 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-08-13/js-regex/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52282544509_9802b00af7_o.png" alt="Featured image of post Javascript çš„æ­£å‰‡è¡¨é”å¼(Regular Expression, regex)" />&lt;style>
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://pjchender.dev/javascript/js-regex/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="å»ºç«‹æ­£è¦å¼">å»ºç«‹æ­£è¦å¼&lt;/h2>
&lt;p>æ­£å‰‡è¡¨é”å¼çš„è¦å‰‡ç¨±ä½œ &lt;strong>pattern&lt;/strong>ã€‚åœ¨ JavaScript ä¸­å¯ä»¥é€é Regular expression literals çš„æ–¹å¼æˆ–å»ºæ§‹å¼çš„æ–¹å¼ä¾†å»ºç«‹ regular expressions patternï¼š&lt;/p>
&lt;h3 id="æ–¹æ³•ä¸€regular-expression-literals">æ–¹æ³•ä¸€ï¼šRegular expression literals&lt;/h3>
&lt;ul>
&lt;li>script è¼‰å…¥æ™‚å³ç·¨è­¯ï¼Œç•¶ pattern ä¸æœƒæ”¹è®Šæ™‚ï¼Œä½¿ç”¨æ­¤æ–¹å¼å®šç¾© pattern æ•ˆèƒ½è¼ƒå¥½ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">re&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/ab+c/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ–¹æ³•äºŒfunction-constructor">æ–¹æ³•äºŒï¼šFunction Constructor&lt;/h3>
&lt;ul>
&lt;li>ç¨‹å¼åŸ·è¡Œéç¨‹æ‰æœƒè¢«ç·¨è­¯ï¼Œæ•ˆèƒ½è¼ƒå·®ï¼Œé©åˆç”¨åœ¨ regular expression pattern å¯èƒ½æœƒæ”¹è®Šæ™‚ä½¿ç”¨ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">re&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">RegExp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ab+c&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">myRe&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">RegExp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;d(b+)d&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;g&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;code>Regular expression literals&lt;/code> æ•ˆèƒ½è¼ƒå¥½ï¼Œé©åˆ pattern ä¸æœƒæ”¹è®Šçš„æƒ…æ³ï¼›&lt;br>
&lt;code>Function Constructor&lt;/code> æ•ˆèƒ½è¼ƒå·®ï¼Œé©åˆç”¨åœ¨ pattern å¯èƒ½å‹•æ…‹æ”¹è®Šçš„æƒ…æ³ã€‚&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="ä½¿ç”¨æ­£è¦å¼">ä½¿ç”¨æ­£è¦å¼&lt;/h2>
&lt;p>åœ¨ JavaScript ä¸­å¯ä»¥ä½¿ç”¨æ­£è¦å¼çš„å‡½å¼åŒ…å«ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>RegExp.prototype.test()&lt;/code>ï¼šæœå°‹å­—ä¸²ä¸­æ˜¯å¦æœ‰ç¬¦åˆçš„éƒ¨åˆ†ï¼Œå›å‚³ true/falseã€‚&lt;/li>
&lt;li>&lt;code>RegExp.prototype.exec()&lt;/code>ï¼šä»¥é™£åˆ—å›å‚³å­—ä¸²ä¸­åŒ¹é…åˆ°çš„éƒ¨åˆ†ï¼Œå¦å‰‡å›å‚³ nullã€‚&lt;/li>
&lt;li>&lt;code>String.prototype.match()&lt;/code>ï¼šä»¥é™£åˆ—å›å‚³å­—ä¸²ä¸­åŒ¹é…åˆ°çš„éƒ¨åˆ†ï¼Œå¦å‰‡å›å‚³ nullã€‚&lt;/li>
&lt;li>&lt;code>String.prototype.replace()&lt;/code>ï¼šå°‹æ‰¾å­—ä¸²ä¸­åŒ¹é…çš„éƒ¨åˆ†ï¼Œä¸¦å–ä»£ä¹‹ã€‚&lt;/li>
&lt;li>&lt;code>String.prototype.search()&lt;/code>ï¼šå°‹æ‰¾å­—ä¸²ä¸­æ˜¯å¦æœ‰ç¬¦åˆçš„éƒ¨åˆ†ï¼Œæœ‰çš„è©±å›å‚³ indexï¼Œå¦å‰‡å›å‚³ -1ã€‚&lt;/li>
&lt;li>&lt;code>String.prototype.split()&lt;/code>ï¼šåœ¨å­—ä¸²æ ¹æ“šåŒ¹é…åˆ°çš„é …ç›®æ‹†æˆé™£åˆ—ã€‚&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ç°¡å–®ä¾†èªªï¼Œç•¶ä½ æƒ³è¦çœ‹å­—ä¸²æ˜¯å¦åŒ…å«æŸ &lt;strong>pattern&lt;/strong> æ™‚ï¼Œä½¿ç”¨ &lt;code>test&lt;/code> æˆ– &lt;code>search&lt;/code>ï¼›&lt;br>
æƒ³è¦æ›´å¤šçš„è³‡è¨Šï¼ˆèŠ±è¼ƒå¤šè€—æ•ˆèƒ½ï¼‰ï¼Œå‰‡ä½¿ç”¨ exec æˆ– matchã€‚&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="ç‰¹æ®Šå­—å…ƒ-character">ç‰¹æ®Šå­—å…ƒ (character)&lt;/h2>
&lt;h3 id="æ¨™ç±¤flag">æ¨™ç±¤ï¼ˆflagï¼‰&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/hello/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// å€åˆ†å¤§å°å¯«ï¼ŒåŒ¹é… &amp;#34;hello&amp;#34;, &amp;#34;hello123&amp;#34;, &amp;#34;123hello123&amp;#34;, &amp;#34;123hello&amp;#34;ï¼Œä½†ä¸åŒ¹é… &amp;#34;hell0&amp;#34;, &amp;#34;Hello&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/hello/i&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// ä¸å€åˆ†å¤§å°å¯«ï¼ŒåŒ¹é… &amp;#34;hello&amp;#34;, &amp;#34;HelLo&amp;#34;, &amp;#34;123HelLO&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/hello/g&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// å…¨åŸŸæœå°‹
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ES 2019 æ–°å¢ &lt;code>/s&lt;/code> çš„æ¨™ç±¤ï¼Œéå» &lt;code>.&lt;/code> å¯ä»¥ç”¨ä¾†åŒ¹é…é™¤äº†æ›è¡Œç¬¦è™Ÿä»¥å¤–ï¼ˆ&lt;code>\n&lt;/code>, &lt;code>\r&lt;/code>ï¼‰çš„æ‰€æœ‰å­—å…ƒï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// éå» . å¯ä»¥åŒ¹é…åˆ°é™¤äº†ã€Œæ›è¡Œç¬¦è™Ÿã€ä»¥å¤–çš„æ‰€æœ‰å­—å…ƒ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sr">/./&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;\n&amp;#39;&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// â†’ false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sr">/./&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;\r&amp;#39;&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// â†’ false
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>éå»é›–ç„¶å¯ä»¥ä½¿ç”¨ &lt;code>[\w\W]&lt;/code> ä¾†åŒ¹é…åˆ°æ›è¡Œç¬¦è™Ÿï¼Œä½†é€™ä¸æ˜¯æœ€å¥½çš„åšæ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sr">/[\w\W]/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;\n&amp;#39;&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// â†’ true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sr">/[\w\W]/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;\r&amp;#39;&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// â†’ true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ ES 2019 ä¸­ï¼Œåªè¦æœ€å¾Œæœ‰æ¨™è¨˜ &lt;code>/s&lt;/code> çš„æ¨™ç±¤ï¼Œå¦‚æ­¤ &lt;code>.&lt;/code> å°‡ä¹Ÿèƒ½å¤ åŒ¹é…åˆ°æ›è¡Œç¬¦è™Ÿï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">/./s.test(&amp;#39;\n&amp;#39;)); // â†’ true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">/./s.test(&amp;#39;\r&amp;#39;)); // â†’ true&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ™®é€šå­—å…ƒ-">æ™®é€šå­—å…ƒ &lt;code>//&lt;/code>&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/a/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/is/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åæ–œç·š-">åæ–œç·š &lt;code>\&lt;/code>&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* åœ¨ã€Œéã€ç‰¹æ®Šå­—å…ƒå‰é¢ä½¿ç”¨åæ–œç·šæ™‚ï¼Œè¡¨ç¤ºè¦æŠŠåæ–œç·šå¾Œçš„å­—ç•¶ä½œæ˜¯ç‰¹æ®Šå­—å…ƒ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/\b/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// b åŸæœ¬ä¸æ˜¯ç‰¹æ®Šå­—å…ƒï¼Œé€™å€‹ b è¦ç•¶æˆç‰¹æ®Šå­—å…ƒ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* åœ¨ç‰¹æ®Šå­—å…ƒå‰é¢ä½¿ç”¨åæ–œç·šæ™‚ï¼Œè¡¨ç¤ºè¦æŠŠåæ–œç·šå¾Œçš„å­—ç•¶ä½œæ˜¯ã€Œéã€ç‰¹æ®Šå­—å…ƒ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/if\(true/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// ( åŸæœ¬æ˜¯ç‰¹æ®Šå­—å…ƒï¼Œä½†é€™è£¡è¦ç•¶æˆéç‰¹æ®Šå­—å…ƒ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/1\+2=3/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// + åŸæœ¬æ˜¯ç‰¹æ®Šå­—å…ƒï¼Œä½†é€™è£¡è¦ç•¶æˆéç‰¹æ®Šå­—å…ƒ
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä»»æ„ä¸€å€‹å­—å…ƒ-">ä»»æ„ä¸€å€‹å­—å…ƒ &lt;code>.&lt;/code>&lt;/h3>
&lt;ul>
&lt;li>å¯ä»¥ç”¨ä¾†åŒ¹é…é™¤äº†æ›è¡Œç¬¦è™Ÿï¼ˆ&lt;code>\n&lt;/code>ï¼‰ä»¥å¤–çš„æ‰€æœ‰å­—å…ƒï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/a.man/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// a*man éƒ½æœƒ matchï¼Œä¾‹å¦‚ &amp;#34;acman&amp;#34;, &amp;#34;awman&amp;#34;, ä½† &amp;#34;a\nman&amp;#34; ç„¡æ³•åŒ¹é…ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/.a/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// ä»»ä½•ä¸€å€‹å­—å…ƒå¾ŒåŠ ä¸Š a
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¤šå€‹å­—å…ƒ-">å¤šå€‹å­—å…ƒ &lt;code>[]&lt;/code>&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å°å¯« a æˆ–å¤§å¯« A
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/[aA]/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// åŒ¹é…æ‰€æœ‰ä¸æ˜¯ a æˆ– A çš„å­—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/[^aA]/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// a, e, i, o, u éƒ½æœƒ match
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/[aeiou]/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è‹±æ–‡å­—æ¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/[a-z]/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// æ‰€æœ‰å°å¯«çš„å­—æ¯ï¼Œå¾å°å¯« a åˆ°å°å¯« z
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/[A-Z]/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// æ‰€æœ‰å¤§å¯«çš„å­—æ¯ï¼Œå¾å¤§å¯« A åˆ°å¤§å¯« Z
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/[a-zA-Z]/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// æ‰€æœ‰è‹±æ–‡å­—æ¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ•¸å­— 5 ~ 8
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/[5-8]/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ‹¬è™Ÿ-">æ‹¬è™Ÿ &lt;code>()&lt;/code>&lt;/h3>
&lt;ul>
&lt;li>å¥—ç”¨åˆ°æ‰€æœ‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/^a|^the|^an/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// å¥—ç”¨åˆ°è£¡é¢æ‰€æœ‰çš„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/^(a|the|an)/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// ç­‰åŒæ–¼
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä¸æ˜¯é™¤äº†-">ä¸æ˜¯ï¼ˆé™¤äº†ï¼‰ &lt;code>^&lt;/code>&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* ä¸æ˜¯ a éƒ½æœƒ match */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/[^a]/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* ä¸æ˜¯æ•¸å­—éƒ½æœƒ match */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/[^0-9]/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¤šå€‹å­—å…ƒç¸®å¯«">å¤šå€‹å­—å…ƒç¸®å¯«&lt;/h3>
&lt;h4 id="keywordsdwsbdws">keywordsï¼š&lt;strong>\d&lt;/strong>ã€&lt;strong>\w&lt;/strong>ã€&lt;strong>\s&lt;/strong>ã€&lt;strong>\b&lt;/strong>ã€&lt;strong>\D&lt;/strong>ã€&lt;strong>\W&lt;/strong>ã€&lt;strong>\S&lt;/strong>&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>\d&lt;/strong> : digitï¼Œ&lt;code>[0-9]&lt;/code>&lt;/li>
&lt;li>&lt;strong>\w&lt;/strong> : wordï¼ŒåŒ…å«è‹±æ–‡å¤§å°å¯«ã€æ•¸å­—ã€åº•ç·šï¼Œ&lt;code>[A-Za-z0-9_]&lt;/code>&lt;/li>
&lt;li>&lt;strong>\s&lt;/strong> : spaceï¼ŒåŒ…å« space, tab, form feed, line feedï¼Œ&lt;code>[\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]&lt;/code>&lt;/li>
&lt;li>&lt;strong>\D&lt;/strong> : ä¸æ˜¯ digitï¼Œç­‰åŒæ–¼ &lt;code>[^\d]&lt;/code>&lt;/li>
&lt;li>&lt;strong>\W&lt;/strong> : ä¸æ˜¯ wordï¼Œç­‰åŒæ–¼ &lt;code>[^\w]&lt;/code>&lt;/li>
&lt;li>&lt;strong>\S&lt;/strong> : ä¸æ˜¯ spaceï¼Œç­‰åŒæ–¼ &lt;code>[^\s]&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* æ‰€æœ‰ word + e */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/\we/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* é€£çºŒå…©å€‹ä»»æ„çš„æ•¸å€¼ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/\d\d/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* å¥å­ä¸­çµå°¾ç‚º s çš„å–®å­— */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/s\b/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/\b[a-z]/g&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// å¥å­ä¸­å„å€‹å–®å­—çš„ç¬¬ä¸€å€‹å­—æ¯
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="å…¶ä»–ç‰¹æ®Šå­—å…ƒ">å…¶ä»–ç‰¹æ®Šå­—å…ƒï¼š&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>\t&lt;/strong> : tab&lt;/li>
&lt;li>&lt;strong>\b&lt;/strong> : word boundaryï¼Œç”¨ä¾†æ¯”å°å–®å­—å’Œå–®å­—é–“çš„ç©ºç™½ï¼Œ&lt;code>/s\b/&lt;/code> å‰‡æœƒæ¯”å°å¥å­ä¸­æœ€ä¸€å€‹å­—æ¯æ˜¯ s çš„å–®å­—&lt;/li>
&lt;/ul>
&lt;h4 id="word-boundary-bb">Word boundary &lt;strong>\b&lt;/strong>ã€&lt;strong>\B&lt;/strong>&lt;/h4>
&lt;p>é€é &lt;code>\b&lt;/code> å¯ä»¥é…å° &lt;strong>word boundary&lt;/strong>ï¼Œ&lt;strong>word boundary&lt;/strong> æŒ‡çš„æ˜¯ä¸€å€‹å­—å…ƒçš„å‰å¾Œæ²’æœ‰å…¶ä»–ä»»ä½•å­—å…ƒã€‚&lt;/p>
&lt;blockquote>
&lt;p>è¦æ³¨æ„ &lt;code>\b&lt;/code> å’Œ &lt;code>[\b]&lt;/code> æ˜¯ä¸ä¸€æ¨£çš„ï¼Œ&lt;code>[\b]&lt;/code> æ˜¯ç”¨ä¾†é…å° backspaceã€‚&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// is é€™å€‹å–®å­—æ‰æœƒè¢«é¸åˆ°ï¼ŒTh`is` çš„ is ä¸æœƒ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">matchedResult&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;This is an apple.&amp;#39;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">match&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sr">/\bis\b/&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// [ &amp;#39;is&amp;#39;, index: 5, input: &amp;#39;This is an apple.&amp;#39; ]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç›¸ååœ°ï¼Œ&lt;code>\B&lt;/code> å‰‡æ˜¯ &lt;strong>non-word boundary&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>Before the first character of the string, if the first character is not a word character.&lt;/li>
&lt;li>After the last character of the string, if the last character is not a word character.&lt;/li>
&lt;li>Between two word characters&lt;/li>
&lt;li>Between two non-word characters&lt;/li>
&lt;li>The empty string&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä½¿ç”¨ \B æœƒé…å°åˆ° This ä¸­çš„ is
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">matchedResult&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;This is an apple.&amp;#39;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">match&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sr">/\Bis/&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// [ &amp;#39;is&amp;#39;, index: 2, input: &amp;#39;This is an apple.&amp;#39; ]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å‡ºç¾æ¬¡æ•¸------">å‡ºç¾æ¬¡æ•¸ &lt;code>* + ? {} {, }&lt;/code>&lt;/h3>
&lt;h4 id="keywords--æ¬¡æ•¸æœ€å°‘æ¬¡æ•¸-æœ€å¤šæ¬¡æ•¸">keywordsï¼š &lt;strong>*&lt;/strong> ã€&lt;strong>+&lt;/strong>ã€&lt;strong>?&lt;/strong>ã€&lt;strong>{æ¬¡æ•¸}&lt;/strong>ã€&lt;strong>{æœ€å°‘æ¬¡æ•¸, æœ€å¤šæ¬¡æ•¸}&lt;/strong>&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>*&lt;/strong> : ä»»æ„æ¬¡æ•¸ï¼Œç­‰åŒæ–¼&lt;code>{0,}&lt;/code>&lt;/li>
&lt;li>&lt;strong>+&lt;/strong> : è‡³å°‘ä¸€æ¬¡ï¼ˆå¾Œé¢è¦è·Ÿè‘—ï¼‰ï¼Œç­‰åŒæ–¼ &lt;code>{1,}&lt;/code>&lt;/li>
&lt;li>&lt;strong>?&lt;/strong> : é›¶æˆ–ä¸€æ¬¡ï¼ˆæœ‰æˆ–æ²’æœ‰ï¼‰ï¼Œç­‰åŒæ–¼ &lt;code>{0,1}&lt;/code>&lt;/li>
&lt;li>&lt;strong>{æ¬¡æ•¸}&lt;/strong>&lt;/li>
&lt;li>&lt;strong>{æœ€å°‘æ¬¡æ•¸, æœ€å¤šæ¬¡æ•¸}&lt;/strong>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/abc/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// æ‰¾åˆ°ç¬¦åˆ &amp;#34;abc&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/ab*c/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// *è¡¨ç¤ºå‰ä¸€å€‹å–®å­—å¯ä»¥æ˜¯ 0 å€‹æˆ–å¤šå€‹ï¼Œå› æ­¤ ac, abc, abbbbc éƒ½ç¬¦åˆè¦å‰‡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/n?a/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// n å¯æœ‰å¯ç„¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/a{2}/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// a è¦ 2 æ¬¡ï¼Œæ‰€ä»¥æœƒæ˜¯ a
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/a{2,4}/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// a ä»‹æ–¼ 2 æ¬¡åˆ° 4 æ¬¡ä¹‹é–“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/a{2,}/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 2 æ¬¡ä»¥ä¸Šçš„ a éƒ½å¯ä»¥ï¼Œå¤§æ‹¬è™Ÿå¾Œé¢ä¸è¦æœ‰ç©ºæ ¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/(hello){4}/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 4 æ¬¡çš„ helloï¼Œhellohellohellohello
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/\d{3}/&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 3 æ¬¡çš„æ•¸å­—
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é–‹é ­èˆ‡çµå°¾">é–‹é ­èˆ‡çµå°¾&lt;/h3>
&lt;h4 id="keywords">keywordsï¼š&lt;strong>^&lt;/strong>ã€&lt;strong>$&lt;/strong>&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>^&lt;/strong> é–‹é ­&lt;/li>
&lt;li>&lt;strong>$&lt;/strong> çµå°¾&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* ä»¥ A é–‹é ­çš„å­—æ‰æœƒåŒ¹é…åˆ° */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sr">/^A/gm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Abc&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="sr">/^A/gm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bac&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* é–‹é ­æœ‰ He */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/^He/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* çµå°¾æœ‰ llo */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/llo$/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* é–‹é ­ He çµå°¾ llo ä¸­é–“ä»»æ„å­—å…ƒå¯ä»¥æœ‰ä»»æ„æ¬¡æ•¸ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/^He.*llo$/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æˆ–-">æˆ– &lt;code>|&lt;/code>&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// and æˆ– androidï¼Œmatch åˆ° `and`roid å°±ä¸ match `android`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/and|android/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// match åˆ° android é‚„æ˜¯æœƒ match and
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">regex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/android|and/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="lookaround-assertions">LookAround Assertions&lt;/h3>
&lt;h4 id="keywords-xyxy">keywords: &lt;strong>x(?=y)&lt;/strong>ã€&lt;strong>x(?!y)&lt;/strong>&lt;/h4>
&lt;ul>
&lt;li>Lookahead assertions: &lt;code>x(?=y)&lt;/code>ã€&lt;code>x(?!y)&lt;/code>&lt;/li>
&lt;li>Lookbehind assertions: &lt;code>(?&amp;lt;=y)x&lt;/code>ã€&lt;code>(?&amp;lt;!y)x&lt;/code>&lt;/li>
&lt;/ul>
&lt;h4 id="look-ahead">Look Ahead&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>?=&lt;/strong>ï¼šå¾Œé¢éœ€è¦è·Ÿè‘—&lt;/li>
&lt;li>&lt;strong>?!&lt;/strong>ï¼šå¾Œé¢ä¸èƒ½è·Ÿè‘—&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// foo(?=bar)ï¼Œfoo å¾Œé¢è¦è·Ÿè‘— bar æ‰æœƒé…å°åˆ° foo
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">regexp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/foo(?=bar)/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">regexp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;foo&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// null
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">regexp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// null
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">regexp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;foobar&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [ &amp;#39;foo&amp;#39;, index: 0, input: &amp;#39;foobar&amp;#39;, groups: undefined ]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// foo(?!bar)ï¼Œfoo å¾Œé¢ä¸èƒ½è·Ÿè‘— barï¼Œå¦‚æ­¤æ‰æœƒé…å°åˆ° foo
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">regexp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/foo(?!bar)/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">regexp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;foo&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [ &amp;#39;foo&amp;#39;, index: 0, input: &amp;#39;foo&amp;#39;, groups: undefined ]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">regexp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;foo123&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [ &amp;#39;foo&amp;#39;, index: 0, input: &amp;#39;foo123&amp;#39;, groups: undefined ]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">regexp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// null
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">regexp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;foobar&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// null
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="look-behind">Look Behind&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>?&amp;lt;=&lt;/strong>ï¼šå‰é¢éœ€è¦è·Ÿè‘—æ‰æœƒåŒ¹é…åˆ°&lt;/li>
&lt;li>&lt;strong>?&amp;lt;!&lt;/strong>ï¼šå‰é¢ä¸èƒ½è·Ÿè‘—æ‰æœƒåŒ¹é…åˆ°&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// (?&amp;lt;=foo)barï¼Œç•¶ bar å‰é¢æœ‰ foo æ™‚æ‰æœƒé…å°åˆ° bar
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">regexp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/(?&amp;lt;=foo)bar/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">regexp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;foo&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// null
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">regexp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// null
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">regexp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;foobar&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [ &amp;#39;bar&amp;#39;, index: 3, input: &amp;#39;foobar&amp;#39;, groups: undefined ]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// (?&amp;lt;!foo)barï¼Œç•¶ bar å‰é¢æ²’æœ‰ foo æ™‚æ‰æœƒé…å°åˆ° bar
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">regexp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sr">/(?&amp;lt;!foo)bar/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">regexp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;foo&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// null
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">regexp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [ &amp;#39;bar&amp;#39;, index: 0, input: &amp;#39;bar&amp;#39;, groups: undefined ]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">regexp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;123bar&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// [ &amp;#39;bar&amp;#39;, index: 3, input: &amp;#39;123bar&amp;#39;, groups: undefined ]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">regexp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;foobar&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// null
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>â—â—â— &lt;strong>Lookbehind assertions&lt;/strong> å±¬æ–¼ ES2018 çš„èªæ³•ï¼Œé ˆæ³¨æ„ç›¸å®¹æ€§ã€‚ â—â—â—&lt;/p>
&lt;/blockquote>
&lt;h3 id="è²ªå©ªæ¨¡å¼greedy-mode">è²ªå©ªæ¨¡å¼ï¼ˆGreedy Modeï¼‰&lt;/h3>
&lt;blockquote>
&lt;p>é è¨­æœƒå•Ÿç”¨è²ªå©ªæ¨¡å¼ï¼Œå¦‚æœæƒ³è¦é—œé–‰è²ªå©ªæ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯è®“åˆ°ä¸€åŒ¹é…åˆ°å°±åœæ­¢ï¼Œå¯ä»¥ä½¿ç”¨åœ¨ &lt;code>*&lt;/code> ã€ &lt;code>+&lt;/code> ç­‰å¾Œé¢åŠ ä¸Š &lt;code>?&lt;/code>ï¼Œä¾‹å¦‚ &lt;code>.*?&lt;/code>ã€&lt;code>.+?&lt;/code>ã€‚&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="pattern-ç­†è¨˜">&lt;strong>pattern&lt;/strong> ç­†è¨˜&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å…è¨±æ•¸å­—ã€è‹±æ–‡å­—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// é•·åº¦4~12
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">account&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sr">/^[0-9A-Za-z]{4,12}$/&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// éœ€åŒ…å«æ•¸å­—ã€è‹±æ–‡å­—ã€è‹±æ–‡ç‰¹æ®Šç¬¦è™Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ä½†ä¸å¾—åŒ…å«ç¬¦è™Ÿ \
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// é•·åº¦1~24
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">password&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sr">/^(?=.*\d)(?=.*[a-zA-Z])[a-zA-Z0-9!@#$%^&amp;amp;*()_+{}:&amp;#34;|&amp;lt;&amp;gt;?\-=\[\]&amp;#39;\;,./~`]{1,24}$/&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å…è¨±æ•¸å­—ã€è‹±æ–‡å­—ã€ä¸­æ–‡å­—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// é•·åº¦2~8
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">nickName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sr">/^[0-9A-Za-z\u4E00-\u9FFF]{2,8}$/&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å…è¨±æ•¸å­—ã€è‹±æ–‡å­—ã€ä¸­æ–‡å­—ã€è‹±æ–‡ç‰¹æ®Šç¬¦è™Ÿã€ç©ºç™½ï¼Œä½†é–‹é ­ä¸å¾—ç‚ºç‰¹æ®Šç¬¦è™Ÿæˆ–ç©ºç™½
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">realName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sr">/^(?!(-))(?!(\s))(?!(,))[A-Za-z\-\,\s\u4E00-\u9FFF]{0,20}[^(?=(!@#$%^&amp;amp;*()_+{}:&amp;#34;|&amp;lt;&amp;gt;?\-=\[\]&amp;#39;\;,./~\s\d`)))]$/&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ä¿¡ç®±
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">createEmail&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sr">/^([\w])([\-\._]?[\w]){0,64}\@([\w])([\-\._]?[\w]){0,64}\.([a-zA-Z]){2,6}$/&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å‰ä¸‰ç¢¼è‹±æ–‡å­—ã€å¾Œä¸‰ç¢¼æ•¸å­—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">promotionCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sr">/^[A-Za-z]{3}[0-9]{3}$/&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å…è¨±æ•¸å­—ã€è‹±æ–‡å­—ã€ä¸­æ–‡å­—ã€è‹±æ–‡ç‰¹æ®Šç¬¦è™Ÿã€ä¸­æ–‡ç‰¹æ®Šç¬¦è™Ÿã€ç©ºç™½
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// é•·åº¦0~100
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">remark&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sr">/^[0-9A-Za-z-_\u4E00-\u9FA5+/.*!@#$%&amp;amp;?()=|&amp;#39;:;&amp;lt;&amp;gt;,~ï¼@#ï¿¥â€¦â€¦&amp;amp;*ï¼ˆï¼‰â€”â€”|{}ã€ã€‘â€˜ï¼›ï¼šâ€â€œ&amp;#39;ã€‚ï¼Œã€ï¼Ÿ%\s]{0,100}$/&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr></description></item><item><title>Vue3.0 å¿«é€Ÿå…¥é–€ï¼Œçœ‹å®ŒåŸºæœ¬å¯ä»¥ä¸Šæ‰‹æé–‹ç™¼</title><link>https://wayneblog.ga/2022-08-11/vue3-quick-start/</link><pubDate>Thu, 11 Aug 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-08-11/vue3-quick-start/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52277578302_d4a3e0c4aa_o.png" alt="Featured image of post Vue3.0 å¿«é€Ÿå…¥é–€ï¼Œçœ‹å®ŒåŸºæœ¬å¯ä»¥ä¸Šæ‰‹æé–‹ç™¼" />&lt;style>
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;blockquote>
&lt;p>æœ¬æ–‡é©åˆ &lt;code>Vue3&lt;/code> åˆå­¸è€…ï¼Œæˆ–è€… &lt;code>Vue2&lt;/code> é·ç§»è€…ï¼Œç•¶ç„¶é‚„æ˜¯å»ºè­° &lt;code>Vue3&lt;/code> å®˜ç¶²å®Œå…¨éä¸€éã€‚&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="å…ˆæ¨è–¦å…©å€‹-vscode-å¤–æ›">å…ˆæ¨è–¦å…©å€‹ vscode å¤–æ›&lt;/h2>
&lt;h2 id="volar">Volar&lt;/h2>
&lt;p>é¦–å…ˆæ¨è–¦ &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target="_blank" rel="noopener"
>Volar&lt;/a> ï¼Œä½¿ç”¨ &lt;code>vscode&lt;/code> é–‹ç™¼ &lt;code>Vue&lt;/code> å°ˆæ¡ˆçš„å°å¤¥ä¼´è‚¯å®šéƒ½èªè­˜ &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target="_blank" rel="noopener"
>Vetur&lt;/a> é€™å€‹ç¥ç´šå¤–æ›ï¼Œæœ‰äº†å®ƒå¯ä»¥è®“æˆ‘å€‘å¾—é–‹ç™¼å¦‚é­šå¾—æ°´ã€‚ é‚£éº¼ &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target="_blank" rel="noopener"
>Volar&lt;/a> å¯ä»¥ç†è§£ç‚º &lt;code>Vue3&lt;/code> ç‰ˆæœ¬çš„ &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target="_blank" rel="noopener"
>Vetur&lt;/a> ï¼Œç¨‹å¼ç¢¼é«˜äº®ï¼Œèªæ³•æç¤ºï¼ŒåŸºæœ¬ä¸Š &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target="_blank" rel="noopener"
>Vetur&lt;/a> æœ‰çš„å®ƒéƒ½æœ‰ã€‚&lt;/p>
&lt;h3 id="åŠŸèƒ½ä¸€å¤šå€‹æ ¹ç¯€é»ç·¨è­¯å™¨ä¸æœƒå ±éŒ¯">åŠŸèƒ½ä¸€ï¼šå¤šå€‹æ ¹ç¯€é»ç·¨è­¯å™¨ä¸æœƒå ±éŒ¯&lt;/h3>
&lt;p>&lt;code>Vue3&lt;/code> æ˜¯å…è¨±æˆ‘å€‘æœ‰å¤šå€‹æ ¹ç¯€é»çš„ï¼Œä½†æ˜¯æˆ‘å€‘å¦‚æœä½¿ç”¨ &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target="_blank" rel="noopener"
>Vetur&lt;/a> å°±æœƒå ±éŒ¯ï¼Œä¸æœƒå½±éŸ¿åŸ·è¡Œï¼Œä½†æ˜¯çœ‹èµ·ä¾†å°±å¾ˆç…©ã€‚æ‰€ä»¥ç•¶æˆ‘å€‘è½‰å‘ &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target="_blank" rel="noopener"
>Volar&lt;/a>ï¼Œé‚£éº¼å°±ä¸æœƒå‡ºç¾é€™å€‹å•é¡Œäº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52277578262_a65ab53574_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h3 id="åŠŸèƒ½äºŒç·¨è¼¯å™¨åˆ†éš”">åŠŸèƒ½äºŒï¼šç·¨è¼¯å™¨åˆ†éš”&lt;/h3>
&lt;p>å³ä¾¿ &lt;code>Vue&lt;/code> çš„å…ƒä»¶åŒ–é–‹ç™¼ï¼Œå¯ä»¥å°‡å–®æª”æ¡ˆçš„ç¨‹å¼ç¢¼é•·åº¦å¤§å¹…ç¸®çŸ­ï¼Œä½†é‚„æ˜¯å‹•è¼’å¹¾ç™¾è¡Œç”šæ˜¯ä¸Šåƒè¡Œã€‚é‚£éº¼æˆ‘å€‘åˆ‡æ› &lt;code>template&lt;/code>ã€&lt;code>script&lt;/code>ã€&lt;code>style&lt;/code> çš„æ™‚å€™å°±è¦é »ç¹ä¸Šä¸‹ç¿»ï¼Œé›–ç„¶æœ‰çš„å¤–æ›å¯ä»¥ç›´æ¥å®šä½åˆ° &lt;code>css&lt;/code>ï¼Œä½†æ˜¯ä½ å›ä¸å»å•Šï¼æ‰€ä»¥é€™å€‹åŠŸèƒ½ç°¡ç›´æ˜¯å¤ªäººæ€§åŒ–äº†ã€‚&lt;/p>
&lt;p>å®‰è£å®Œ &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target="_blank" rel="noopener"
>Volar&lt;/a> ä»¥å¾Œï¼Œé–‹å•Ÿä¸€å€‹ &lt;code>.vue&lt;/code> æª”æ¡ˆï¼Œçœ‹ &lt;code>vscode&lt;/code> çš„å³ä¸Šè§’ï¼Œæœ‰é€™éº¼ä¸€å€‹åœ–ç¤ºï¼Œé»ä¸€ä¸‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278825464_ba574177cd_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278825449_3943326afa_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å®ƒå°±æœƒè‡ªå‹•çµ¦ä½ åˆ†éš”æˆä¸‰å€‹é é¢ï¼Œåˆ†åˆ¥å°æ‡‰ &lt;code>template&lt;/code>ã€&lt;code>script&lt;/code>ã€&lt;code>style&lt;/code>ï¼Œé€™æ¨£å°±å¤ªèˆ’æœäº†æœ‰æ²’æœ‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278556091_2d9d2e2b05_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é‚„æœ‰å¾ˆå¤šæ–°åŠŸèƒ½ï¼Œå¯ä»¥åƒè€ƒä¸‹é¢é€™ç¯‡æ–‡ç« ï¼š&lt;br>
&lt;a class="link" href="https://zhuanlan.zhihu.com/p/375096539" target="_blank" rel="noopener"
>Volar - vueçµ‚æ¥µé–‹ç™¼ç¥å™¨ï¼&lt;/a>&lt;/p>
&lt;hr>
&lt;h3 id="åŠŸèƒ½ä¸‰ref-sugar-èªæ³•å¿«æ·æ”¹å‹•æ”¯æŒ">åŠŸèƒ½ä¸‰ï¼š&lt;code>ref sugar&lt;/code> èªæ³•å¿«æ·æ”¹å‹•æ”¯æŒ&lt;/h3>
&lt;p>&lt;code>ref sugar&lt;/code> æ˜¯ä¸€å€‹é‚„åœ¨ &lt;code>rfc&lt;/code> éšæ®µçš„åŠŸèƒ½ï¼Œä½†æ˜¯å·²ç¶“æŒçºŒå¾ˆä¹…äº†ï¼Œç¾åœ¨çš„ &lt;code>vue3&lt;/code> ç‰ˆæœ¬å·²ç¶“å¯ä»¥åšé®®ä½¿ç”¨äº†ã€‚å…·é«”çš„ç”¨æ³•ä»¥åŠèªæ³•æˆ‘å°±ä¸å±•é–‹è´…è¿°äº†ï¼Œæˆ‘ä¸»è¦èªªä¸€ä¸‹ &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target="_blank" rel="noopener"
>Volar&lt;/a> å’Œ &lt;code>ref sugar&lt;/code> çš„çµåˆã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278556081_0f4b57ceba_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;blockquote>
&lt;p>å ±éŒ¯å…ˆä¸ç®¡ï¼Œæ˜¯ &lt;code>eslint-plugin-vue&lt;/code> çš„åŸå› ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä½¿ç”¨äº† &lt;code>ref sugar&lt;/code> ä¹‹å¾Œï¼Œ&lt;code>script&lt;/code> ä¸Šé¢å‡ºç¾äº†ä¸€å€‹ &lt;code>ref sugar&lt;/code> çš„å°åœ–æ¨™ï¼Œä¸¦ä¸”æ‰“äº†å€‹å°å‹¾ï¼Œé‚£éº¼æˆ‘å€‘é»ä¸€ä¸‹é‚£å€‹å°å‹¾ï¼Œçœ‹çœ‹æœƒç™¼ç”Ÿä»€éº¼ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278556076_32395d3890_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å€‘é»æ“Šé€™å€‹å°å°å‹¾ä¹‹å¾Œï¼Œå®ƒç”±åŸæœ¬çš„ &lt;code>ref sugar&lt;/code> èªæ³•è®Šç‚ºäº†æ™®é€šçš„ &lt;code>script setup&lt;/code> æ¨¡å¼ï¼Œé©šä¸é©šå–œï¼Œæ„ä¸æ„å¤–ã€‚&lt;/p>
&lt;hr>
&lt;h3 id="åŠŸèƒ½å››style-è£¡é¢çš„-class-å¼•ç”¨">åŠŸèƒ½å››ï¼š&lt;code>style&lt;/code> è£¡é¢çš„ &lt;code>class&lt;/code> å¼•ç”¨&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52277578187_ab1c1ffd3c_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ &lt;code>.foo&lt;/code> é€™å€‹é¡åä¸Šé¢ï¼Œå‡ºç¾äº†ä¸€å€‹ &lt;code>1 reference&lt;/code> çš„å°åœ–æ¨™ï¼Œä»£è¡¨è‘—ç•¶å‰ &lt;code>class&lt;/code> æœ‰ä¸€æ¬¡å¼•ç”¨ï¼Œæˆ‘å€‘é»æ“Šä¸€ä¸‹é€™å€‹ &lt;code>1 reference&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278556066_f44a23ef65_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å‡ºç¾äº†ä¸€å€‹å½ˆçª—ï¼Œè£¡é¢æ˜¯ç•¶å‰ &lt;code>class&lt;/code> çš„å…·é«”ä½¿ç”¨ä½ç½®ã€‚&lt;/p>
&lt;hr>
&lt;h3 id="åŠŸèƒ½äº”class-è¿½æœ”">åŠŸèƒ½äº”ï¼š&lt;code>class&lt;/code> è¿½æœ”&lt;/h3>
&lt;p>æˆ‘å€‘å‰µå»ºä¸€å€‹ &lt;code>template&lt;/code> æ ¹å…ƒç´ ï¼Œåœ¨è£¡é¢å¯«å…¥ï¼š&lt;/p>
&lt;h5 id="samplevue">sample.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;foo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ &lt;code>style&lt;/code> ä¸­å¯«å…¥ï¼š&lt;/p>
&lt;h5 id="samplevue-1">sample.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">style&lt;/span> &lt;span class="na">scoped&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">foo&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é™¤äº† &lt;code>style&lt;/code> ä¸­çš„ &lt;code>.foo&lt;/code> ä¸Šé¢æœƒå‡ºç¾ &lt;code>1 reference&lt;/code> çš„å°åœ–æ¨™ä¹‹å¤–ï¼Œåœ¨ &lt;code>class=&amp;quot;foo&amp;quot;&lt;/code> çš„ &lt;code>foo&lt;/code> ä¸‹é¢ï¼Œæœƒå‡ºç¾ä¸€é“æ©«ç·šã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52279040015_d06725b53d_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å°æ–¼ç¶“å¸¸ä½¿ç”¨ &lt;code>vscode&lt;/code> çš„é–‹ç™¼äººå“¡ä¾†èªªï¼Œé€™ä»£è¡¨ä»€éº¼æ„ç¾©å°±ä¸å¿…å¤šèªªäº†ï¼Œæˆ‘å€‘æ ¹æ“šæç¤ºï¼ŒæŒ‰ä½ &lt;code>ctrl&lt;/code>(&lt;code>command&lt;/code>) ç„¶å¾Œé»æ“Šï¼Œæœƒç™¼ç¾å…‰æ¨™è‡ªå·±ç§»å‹•åˆ°äº† &lt;code>style&lt;/code> ä¸­çš„ &lt;code>.foo&lt;/code> ä¹‹å‰ï¼Œå“‡! awesome!&lt;/p>
&lt;hr>
&lt;h3 id="åŠŸèƒ½å…­css-module-é¡å‹æç¤º">åŠŸèƒ½å…­ï¼š&lt;code>css module&lt;/code> é¡å‹æç¤º&lt;/h3>
&lt;p>&lt;code>css module&lt;/code> ä¸€èˆ¬æ˜¯ &lt;code>react&lt;/code> æŠ€è¡“æ£§ç”¨çš„æœƒæ¯”è¼ƒå¤šä¸€äº›ï¼Œå°±æˆ‘å€‹äººä¾†èªªï¼Œæ˜¯å¾æ²’åœ¨ &lt;code>vue&lt;/code> è£¡é¢ä½¿ç”¨å®ƒçš„ï¼Œå› ç‚º &lt;code>vue&lt;/code> æä¾›äº† &lt;code>scoped&lt;/code> ä½œç”¨åŸŸï¼Œä¸ç”¨æ“”å¿ƒæ¨£å¼è¡çªï¼Œç›´æ¥ä½¿ç”¨é è™•ç†å™¨æœƒæ›´åŠ ç°¡å–®æ–¹ä¾¿ã€‚&lt;/p>
&lt;p>æˆ‘å€‘å‰µå»ºå¦‚ä¸‹ä»£ç¢¼ï¼š&lt;/p>
&lt;h5 id="samplevue-2">sample.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">:class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;$style.foo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">style&lt;/span> &lt;span class="na">module&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">foo&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œå°‡é¼ æ¨™ç§»å‹•åˆ° &lt;code>$style&lt;/code> ä¸Š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278556061_8a9d95187a_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æœ‰é»æ„æ€ï¼Œçœ‹ä¾† &lt;code>vscode&lt;/code> æ˜¯è®“ &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target="_blank" rel="noopener"
>Volar&lt;/a> ç©æ˜ç™½äº†ã€‚&lt;/p>
&lt;hr>
&lt;h3 id="åŠŸèƒ½ä¸ƒlang-èªæ³•æç¤º">åŠŸèƒ½ä¸ƒï¼š&lt;code>lang&lt;/code> èªæ³•æç¤º&lt;/h3>
&lt;p>&lt;code>vue&lt;/code> å¯ä»¥ä½¿ç”¨ &lt;code>lang&lt;/code> å±¬æ€§ä¾†é¸æ“‡ä½¿ç”¨çš„èªè¨€ï¼Œæ¯”å¦‚ &lt;code>template&lt;/code> ä¸­çš„ &lt;code>html&lt;/code>/&lt;code>pug&lt;/code>ã€&lt;code>script&lt;/code> ä¸­çš„ &lt;code>ts&lt;/code>ã€&lt;code>style&lt;/code> ä¸­çš„ &lt;code>scss&lt;/code> ç­‰ã€‚&lt;/p>
&lt;p>ä½†æ˜¯åœ¨ä»¥å‰ï¼Œæˆ‘å€‘éƒ½æ˜¯æ‰‹å‹•è¼¸å…¥çš„ï¼Œç·¨è¼¯å™¨ï¼Œæˆ–è€…èªª &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target="_blank" rel="noopener"
>Vetur&lt;/a> ä¸¦æ²’æœ‰çµ¦æˆ‘å€‘æä¾›ä»»ä½•æç¤ºï¼Œæœ‰å¯èƒ½ä½ æ‰¾äº†å¾ˆä¹…çš„è«åå…¶å¦™çš„å•é¡Œï¼Œå°±æ˜¯å› ç‚º &lt;code>lang&lt;/code> å¯«éŒ¯äº†ã€‚&lt;/p>
&lt;p>ä½†æ˜¯é€™ä¸€åˆ‡ï¼Œåœ¨æœ‰äº† &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target="_blank" rel="noopener"
>Volar&lt;/a> ä¹‹å¾Œï¼Œéƒ½ä¸åŒäº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278577133_3988734a44_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h3 id="åŠŸèƒ½å…«template-èªæ³•è½‰æ›">åŠŸèƒ½å…«ï¼š&lt;code>template&lt;/code> èªæ³•è½‰æ›&lt;/h3>
&lt;p>&lt;code>vue&lt;/code> é»˜èªæä¾›äº†å…©ç¨®æ¨¡æ¿ä¾›æˆ‘å€‘ä½¿ç”¨ï¼Œä½†æ˜¯ä¸€èˆ¬éƒ½æœƒä½¿ç”¨ &lt;code>html&lt;/code>ï¼Œå¦å¤–ä¸€ç¨®å«åš &lt;code>pug&lt;/code>ã€‚&lt;/p>
&lt;p>ç›¸å°æ–¼ &lt;code>html&lt;/code>ï¼Œ&lt;code>pug&lt;/code> æ›´åå‘æ–¼ &lt;code>yml&lt;/code> é‚£ç¨®ï¼Œç°¡æ½”ç¨‹åº¦ç‰¹åˆ¥é«˜ã€‚&lt;/p>
&lt;p>åœ¨ &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target="_blank" rel="noopener"
>Volar&lt;/a> ä¸­ï¼Œç‚ºæˆ‘å€‘æä¾›äº† &lt;code>html&lt;/code> å’Œ &lt;code>pug&lt;/code> äº’ç›¸è½‰æ›çš„åŠŸèƒ½ã€‚&lt;/p>
&lt;h5 id="samplevue-3">sample.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨æˆ‘å€‘æ›¸å¯« &lt;code>template&lt;/code> ä¹‹å¾Œï¼Œ&lt;code>template&lt;/code> é ‚éƒ¨æœƒå‡ºç¾ä¸€å€‹å°å°çš„ &lt;code>pug&lt;/code> åœ–æ¨™ï¼Œæˆ‘å€‘å¯ä»¥çœ‹åˆ°æ­¤æ™‚å®ƒæ˜¯æ²’æœ‰è¢«é¸ä¸­çš„ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52277578137_059aa7e0d5_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>é€™å€‹æ™‚å€™æˆ‘å€‘é»æ“Šä¸€ä¸‹é€™å€‹åœ–æ¨™ï¼Œè®“å®ƒé¸ä¸­ï¼Œç¥å¥‡çš„äº‹æƒ…ç™¼ç”Ÿäº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278577068_bc917eabf4_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æˆ‘å€‘å¯«å¥½çš„ &lt;code>html&lt;/code> æ¨¡æ¿ï¼Œè¢«è‡ªå‹•è½‰åŒ–æˆäº† &lt;code>pug&lt;/code>ï¼Œå†é»æ“Šä¸€ä¸‹ï¼Œåˆå›åˆ°äº†æˆ‘å€‘ç†Ÿæ‚‰çš„ &lt;code>html&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278556001_3879f3bbba_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;blockquote>
&lt;p>å¾åŠŸèƒ½ä¸‰é–‹å§‹ï¼ŒåŸºæœ¬éƒ½æ˜¯ç®—å…§æ¸¬çš„æ–°åŠŸèƒ½ï¼Œæˆ‘æ˜¯æ©Ÿç·£å·§åˆä¹‹ä¸‹ï¼Œå°‡ &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target="_blank" rel="noopener"
>Volar&lt;/a> ä¸‹åˆ°æœ¬åœ°é€²è¡ŒæŸ¥çœ‹çš„æ™‚å€™ç™¼ç¾çš„é€™äº›ã€‚æƒ³åšé®®çš„å¯ä»¥è‡ªå·±ä¸‹è¼‰æºç¢¼ï¼Œç„¶å¾Œåœ¨packages/vscode-vue-languageservice/testCasesç›®éŒ„ä¸‹é«”é©—ï¼Œå¸Œæœ›é€™äº›åŠŸèƒ½å¯ä»¥ç›¡å¿«ç™¼å¸ƒï¼&lt;/p>
&lt;/blockquote>
&lt;h2 id="vue-3-snippets">Vue 3 Snippets&lt;/h2>
&lt;p>æ¨è–¦çš„ç¬¬äºŒå€‹å¤–æ›å«åš &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=hollowtree.vue-snippets" target="_blank" rel="noopener"
>Vue 3 Snippets&lt;/a> ï¼ŒåŒæ¨£çš„ï¼Œä»–ä¹Ÿæœ‰è‡ªå·±çš„ &lt;code>Vue2&lt;/code> ç‰ˆæœ¬ã€‚å®ƒæ˜¯å¹¹ä»€éº¼çš„å‘¢ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ä¸‹é¢é€™å¼µåœ–ï¼Œæˆ‘åªè¼¸å…¥äº† &lt;code>&amp;quot;v3&amp;quot;&lt;/code> ï¼Œå®ƒæœ‰å¾ˆå¤šæç¤ºï¼Œæˆ‘å€‘å°±å…ˆé¸æ“‡ &lt;code>v3computed&lt;/code> ï¼Œé¸ä¸­ &lt;code>Enter&lt;/code> å³å¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278577048_9b6cd0221a_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç„¶å¾Œå®ƒå°±çµ¦æˆ‘å€‘è‡ªå‹•å¯«äº†å¦‚ä¸‹ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52279039925_0316ccfe51_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æ˜¯ä¸æ˜¯è¶…ç´šçœäº‹ï¼Œæ‘¸é­šçš„æ™‚é–“åˆå¢åŠ äº†ï¼é‚„æœ‰æ›´å¤šæœ‰è¶£çš„ä½¿ç”¨æ–¹å¼ï¼Œå°å¤¥ä¼´å€‘è‡ªè¡Œæ¢ç´¢å§ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å»ºç«‹-vue3-å°ˆæ¡ˆ">å»ºç«‹ &lt;code>Vue3&lt;/code> å°ˆæ¡ˆ&lt;/h2>
&lt;p>é‚£éº¼æ­£å¼é–‹å§‹å­¸ç¿’æˆ‘å€‘çš„ &lt;code>Vue3&lt;/code> ï¼Œå…ˆå¾å»ºç«‹å°ˆæ¡ˆé–‹å§‹ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨-vue-cli-å»ºç«‹">ä½¿ç”¨ vue-cli å»ºç«‹&lt;/h3>
&lt;p>è¼¸å…¥ä¸‹é¢çš„å‘½ä»¤ç„¶å¾Œé¸æ“‡é…ç½®é …é€²è¡Œå®‰è£å³å¯ï¼Œé€™è£¡æ³¨æ„ &lt;code>vue-cli&lt;/code> çš„ç‰ˆæœ¬ä¸€å®šè¦åœ¨ ==4.5.0== ä»¥ä¸Šã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">### å®‰è£æˆ–è€…å‡ç´š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install -g @vue/cli
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">### æª¢è¦–ç‰ˆæœ¬ ä¿è­‰ vue cli ç‰ˆæœ¬åœ¨ 4.5.0 ä»¥ä¸Š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vue --version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">### å»ºç«‹å°ˆæ¡ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vue create my-project
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">### ç„¶å¾Œæ ¹æ“šæç¤ºä¸€æ­¥ä¸€æ­¥å‚»ç“œå¼æ“ä½œå°±è¡Œäº†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">### ...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="ä½¿ç”¨-vite-å»ºç«‹">ä½¿ç”¨ &lt;code>Vite&lt;/code> å»ºç«‹&lt;/h3>
&lt;p>éƒ½èªª &lt;code>Vue3.0&lt;/code> å’Œ &lt;code>Vite2&lt;/code> æ›´é…ï¼Œå„ç¨®å„ªåŒ–å„ç¨®å¿«ï¼Œä½†éƒ½ä¸å±¬æ–¼æœ¬æ–‡çš„å…§å®¹ï¼Œæœ¬æ–‡çš„ç›®çš„æˆ‘å€‘åªéœ€è¦çŸ¥é“å®ƒç‰¹åˆ¥å¥½ç”¨ã€æ€éº¼ç”¨å°±è¡Œäº†ã€‚æˆ‘é€™è£¡æ˜¯å¤šé¸æ“‡äº† &lt;code>TS&lt;/code>ï¼Œæ¯è¡Œéƒ½æœ‰è¨»é‡‹ï¼Œä¸€ç›®ç­ç„¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">### åˆå§‹åŒ– viete å°ˆæ¡ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm init vite-app &amp;lt;project-name&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">### é€²å…¥å°ˆæ¡ˆè³‡æ–™å¤¾&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> &amp;lt;project-name&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">### å®‰è£ä¾è³´&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">### å•Ÿå‹•å°ˆæ¡ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm run dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹å®Œä»¥å¾Œæˆ‘å€‘å…ˆä¾†çœ‹çœ‹å…¥å£æª”æ¡ˆ &lt;code>main.ts&lt;/code>&lt;/p>
&lt;h5 id="maints">main.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å¼•å…¥ createApp å‡½å¼ï¼Œå»ºç«‹å°æ‡‰çš„æ‡‰ç”¨ï¼Œç”¢ç”Ÿæ‡‰ç”¨çš„ä¾‹é …ç‰©ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">createApp&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å¼•å…¥ app å…ƒä»¶ (æ‰€æœ‰å…ƒä»¶çš„çˆ¶ç´šå…ƒä»¶)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">App&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;./App.vue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å»ºç«‹ app æ‡‰ç”¨è¿”å›å°æ‡‰çš„ä¾‹é …ç‰©ä»¶ï¼Œå‘¼å« mount æ–¹æ³•é€²è¡Œæ›è¼‰ï¼Œæ›è¼‰åˆ° #app ç¯€é»ä¸Šå»
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">createApp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">App&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#app&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å¾Œçœ‹çœ‹æ ¹å…ƒä»¶ &lt;code>app.vue&lt;/code>&lt;/p>
&lt;h5 id="appvue">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- Vue2 å…ƒä»¶ä¸­çš„ html æ¨¡æ¿ä¸­å¿…é ˆè¦æœ‰ä¸€å°æ ¹æ¨™ç±¤ï¼ŒVue3 å…ƒä»¶çš„ html æ¨¡æ¿ä¸­å¯ä»¥æ²’æœ‰æ ¹æ¨™ç±¤ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">alt&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Vue logo&amp;#34;&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;./assets/logo.png&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- ä½¿ç”¨å­ç´šå…ƒä»¶ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">HelloWorld&lt;/span> &lt;span class="na">msg&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;Welcome to Your Vue.js + TypeScript App&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// é€™è£¡å¯ä»¥æ›¸å¯« TS ç¨‹å¼ç¢¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// defineComponent å‡½å¼ï¼Œç›®çš„æ˜¯å®šç¾©ä¸€å€‹å…ƒä»¶ï¼Œå…§éƒ¨å¯ä»¥å‚³å…¥ä¸€å€‹é…ç½®ç‰©ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineComponent&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å¼•å…¥å­ç´šå…ƒä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">HelloWorld&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./components/HelloWorld.vue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æš´éœ²å‡ºå»ä¸€å€‹å®šç¾©å¥½çš„å…ƒä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineComponent&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç•¶å‰å…ƒä»¶çš„åå­—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;App&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è¨»å†Šå…ƒä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">components&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è¨»å†Šä¸€å€‹å­ç´šå…ƒä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">HelloWorld&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="composition-api">Composition API&lt;/h2>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278577028_ec0e1597eb_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æ¥ä¸‹ä¾†åˆ°äº†é‡é ­æˆ²ï¼Œ&lt;code>Vue3&lt;/code> çš„æ‹›ç‰Œç‰¹æ€§ï¼Œ&lt;code>Composition API&lt;/code>ã€‚&lt;/p>
&lt;p>é—œæ–¼ &lt;code>Composition API&lt;/code> é€™è£¡æœ‰åœ–è§£æ¼”ç¤ºï¼Œæ¥µåŠ›æ¨è–¦ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://wayneblog.ga/@wayne-lin/vue3-option-vs-composition" >åœ–è§£ Option API vs Composition API&lt;/a>&lt;/p>
&lt;ul>
&lt;li>&lt;code>Composition API&lt;/code> å¯ä»¥æ›´æ–¹ä¾¿çš„æŠ½å–å…±é€šé‚è¼¯ï¼Œä½†æ˜¯ä¸è¦éæ–¼åœ¨æ„é‚è¼¯ç¨‹å¼ç¢¼è¤‡ç”¨ï¼Œä»¥åŠŸèƒ½æå–ç¨‹å¼ç¢¼ä¹Ÿæ˜¯ä¸€ç¨®æ€è·¯ã€‚&lt;/li>
&lt;/ul>
&lt;p>é †ä¾¿æä¸€å¥ï¼Œ&lt;code>Vue3&lt;/code> ç›¸å®¹å¤§éƒ¨åˆ† &lt;code>Vue2&lt;/code> èªæ³•ï¼Œæ‰€ä»¥åœ¨ &lt;code>Vue3&lt;/code> ä¸­æ›¸å¯« &lt;code>Vue2&lt;/code> èªæ³•æ˜¯æ²’æœ‰å•é¡Œçš„ï¼ˆå»¢é™¤çš„é™¤å¤–ï¼‰ï¼Œä½†æ˜¯æ—¢ç„¶æˆ‘å€‘å·²ç¶“å‡ç´š &lt;code>Vue3&lt;/code> äº†ï¼Œä¸å»ºè­°æ··åˆä½¿ç”¨ï¼Œé™¤éä¸€äº›å¤§å‹ç‰¹æ®Šå°ˆæ¡ˆéœ€è¦ç›¸å®¹å…©å€‹ç‰ˆæœ¬ã€‚&lt;/p>
&lt;h3 id="ç”Ÿå‘½é€±æœŸé‰¤å­">ç”Ÿå‘½é€±æœŸé‰¤å­&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278577033_acc9e36189_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h3 id="setup">setup&lt;/h3>
&lt;ul>
&lt;li>&lt;code>setup&lt;/code> æ˜¯çµ„åˆ &lt;code>Composition API&lt;/code> ä¸­çš„å…¥å£å‡½å¼ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€å€‹è¦ä½¿ç”¨çš„å‡½å¼ã€‚&lt;/li>
&lt;li>&lt;code>setup&lt;/code> åªåœ¨åˆå§‹åŒ–æ™‚åŸ·è¡Œä¸€æ¬¡ï¼Œæ‰€æœ‰çš„ &lt;code>Composition API&lt;/code> å‡½å¼éƒ½åœ¨æ­¤ä½¿ç”¨ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">setup() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æˆ‘åŸ·è¡Œäº†&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// æˆ‘åŸ·è¡Œäº†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥é€šé &lt;code>console.log&lt;/code> çœ‹åˆ° &lt;code>setup&lt;/code> æ˜¯åœ¨ &lt;code>beforeCreate&lt;/code> ç”Ÿå‘½é€±æœŸä¹‹å‰åŸ·è¡Œçš„(åªåŸ·è¡Œä¸€æ¬¡)ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">beforeCreate() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeCreateåŸ·è¡Œäº†&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;setupåŸ·è¡Œäº†&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// setupåŸ·è¡Œäº†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// beforeCreateåŸ·è¡Œäº†
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ç”±æ­¤å¯ä»¥æ¨æ–·å‡º &lt;code>setup&lt;/code> åŸ·è¡Œçš„æ™‚å€™ï¼Œå…ƒä»¶ç‰©ä»¶é‚„æ²’æœ‰å»ºç«‹ï¼Œå…ƒä»¶å¯¦ä¾‹ç‰©ä»¶ &lt;code>this&lt;/code> é‚„ä¸å¯ç”¨ï¼Œæ­¤æ™‚ &lt;code>this&lt;/code> æ˜¯ &lt;code>undefined&lt;/code>ï¼Œä¸èƒ½é€šé &lt;code>this&lt;/code> ä¾†è¨ªå• &lt;code>data&lt;/code>ã€&lt;code>computed&lt;/code>ã€&lt;code>methods&lt;/code>ã€&lt;code>props&lt;/code>ã€‚&lt;/li>
&lt;li>è¿”å›ç‰©ä»¶ä¸­çš„^1.^å±¬æ€§æœƒèˆ‡ &lt;code>data&lt;/code> å‡½å¼è¿”å›ç‰©ä»¶çš„å±¬æ€§åˆä½µæˆç‚ºå…ƒä»¶ç‰©ä»¶çš„å±¬æ€§ï¼›^2.^è¿”å›ç‰©ä»¶ä¸­çš„æ–¹æ³•æœƒèˆ‡ &lt;code>methods&lt;/code> ä¸­çš„æ–¹æ³•åˆä½µæˆåŠŸå…ƒä»¶ç‰©ä»¶çš„æ–¹æ³•ã€‚&lt;/li>
&lt;li>å¦‚æœæœ‰é‡åï¼Œ&lt;code>setup&lt;/code> å„ªå…ˆã€‚å› ç‚ºåœ¨ &lt;code>setup&lt;/code> ä¸­ &lt;code>this&lt;/code> ä¸å¯ç”¨ï¼Œ&lt;code>methods&lt;/code> ä¸­å¯ä»¥è¨ªå• &lt;code>setup&lt;/code> æä¾›çš„å±¬æ€§å’Œæ–¹æ³•ï¼Œä½†åœ¨ &lt;code>setup&lt;/code> æ–¹æ³•ä¸­ä¸èƒ½è¨ªå• &lt;code>data&lt;/code> å’Œ &lt;code>methods&lt;/code> è£¡çš„å…§å®¹ï¼Œæ‰€ä»¥é‚„æ˜¯ä¸å»ºè­°æ··åˆä½¿ç”¨ã€‚&lt;/li>
&lt;li>&lt;code>setup&lt;/code> å‡½å¼å¦‚æœè¿”å›ç‰©ä»¶ï¼Œç‰©ä»¶ä¸­çš„&lt;strong>å±¬æ€§&lt;/strong>æˆ–&lt;strong>æ–¹æ³•&lt;/strong>ï¼Œ&lt;strong>template&lt;/strong> ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚&lt;/li>
&lt;/ul>
&lt;h5 id="samplevue-4">sample.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{number}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">18&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">number&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>æ³¨æ„ï¼š&lt;code>setup&lt;/code> ä¸èƒ½æ˜¯ä¸€å€‹ &lt;code>async&lt;/code> å‡½å¼ï¼Œå› ç‚ºè¿”å›å€¼ä¸å†æ˜¯ &lt;code>return&lt;/code> çš„ç‰©ä»¶ï¼Œè€Œæ˜¯ &lt;code>promise&lt;/code>ï¼Œ&lt;code>template&lt;/code> ä¸­å°±ä¸å¯ä»¥ä½¿ç”¨ &lt;code>return&lt;/code> ä¸­è¿”å›ç‰©ä»¶çš„è³‡æ–™äº†ã€‚&lt;/p>
&lt;p>&lt;code>setup&lt;/code> çš„åƒæ•¸(^1.^&lt;code>props&lt;/code>, ^2.^&lt;code>context&lt;/code>)ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;code>props&lt;/code>ï¼šæ˜¯ä¸€å€‹ç‰©ä»¶ï¼Œè£¡é¢æœ‰çˆ¶ç´šå…ƒä»¶å‘å­ç´šå…ƒä»¶å‚³éçš„è³‡æ–™ï¼Œä¸¦ä¸”æ˜¯åœ¨å­ç´šå…ƒä»¶ä¸­ä½¿ç”¨ &lt;code>props&lt;/code> æ¥æ”¶åˆ°çš„æ‰€æœ‰çš„å±¬æ€§ã€‚&lt;/li>
&lt;li>&lt;code>context&lt;/code>ï¼šä¸Šä¸‹æ–‡ç‰©ä»¶ï¼Œå¯ä»¥é€šé &lt;code>es6&lt;/code> èªæ³•è§£æ§‹ setup(props, {^(a).^&lt;code>attrs&lt;/code>, ^(b).^&lt;code>slots&lt;/code>, ^(c).^&lt;code>emit&lt;/code>})&lt;br>
&amp;gt; a). &lt;code>attrs&lt;/code>ï¼šç²å–ç•¶å‰å…ƒä»¶æ¨™ç±¤ä¸Šæ‰€æœ‰æ²’æœ‰é€šé &lt;code>props&lt;/code> æ¥æ”¶çš„å±¬æ€§çš„ç‰©ä»¶ï¼Œç›¸ç•¶æ–¼ &lt;code>this.$attrs&lt;/code>ã€‚&lt;br>
&amp;gt; b). &lt;code>slots&lt;/code>ï¼šåŒ…å«æ‰€æœ‰å‚³å…¥çš„æ’æ§½å…§å®¹çš„ç‰©ä»¶ï¼Œç›¸ç•¶æ–¼ &lt;code>this.$slots&lt;/code>ã€‚&lt;br>
&amp;gt; c). &lt;code>emit&lt;/code>ï¼šç”¨ä¾†åˆ†ç™¼è‡ªå®šç¾©äº‹ä»¶çš„å‡½å¼ï¼Œç›¸ç•¶æ–¼ &lt;code>this.$emit&lt;/code>ã€‚&lt;/li>
&lt;/ol>
&lt;/blockquote>
&lt;br/>
&lt;ul>
&lt;li>æ¼”ç¤º &lt;code>attrs&lt;/code> å’Œ &lt;code>props&lt;/code>ï¼š&lt;/li>
&lt;/ul>
&lt;h5 id="parentvue">parent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child&lt;/span> &lt;span class="na">:msg&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;msg&amp;#34;&lt;/span> &lt;span class="na">msg2&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;å“ˆå“ˆå“ˆ&amp;#39;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;ts&amp;#39;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineComponent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å¼•å…¥å­å…ƒä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">Child&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./components/Child.vue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineComponent&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;App&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">components&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Child&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">msg&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello,vue3&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">msg&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="childrenvue">children.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å­å…ƒä»¶&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>msg:{{ msg }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;ts&amp;#39;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineComponent&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineComponent&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Child&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;msg&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">attrs&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">slots&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">emit&lt;/span>&lt;span class="p">})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;props:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// msg: &amp;#34;hello,vue3&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;attrs:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">attrs&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// msg2: &amp;#34;å“ˆå“ˆå“ˆ&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">{};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>æ¼”ç¤º &lt;code>emit&lt;/code>ï¼š&lt;/li>
&lt;/ul>
&lt;h5 id="parentvue-1">parent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;show&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;ts&amp;#39;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">show&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;name:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;hzw&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">show&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="childrenvue-1">children.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>äº‹ä»¶åˆ†ç™¼&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;ts&amp;#39;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineComponent&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineComponent&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Child&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">emit&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">emitFn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;show&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emitFn&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="ref">ref&lt;/h3>
&lt;ul>
&lt;li>ä½œç”¨ï¼šå®šç¾©ä¸€å€‹éŸ¿æ‡‰å¼çš„è³‡æ–™(ä¸€èˆ¬ç”¨ä¾†å®šç¾©ä¸€å€‹åŸºæœ¬å‹åˆ¥çš„éŸ¿æ‡‰å¼è³‡æ–™ &lt;code>Undefined&lt;/code>ã€&lt;code>Null&lt;/code>ã€&lt;code>Boolean&lt;/code>ã€&lt;code>Number&lt;/code>ã€&lt;code>String&lt;/code>)&lt;/li>
&lt;li>èªæ³•ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">xxx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">initValue&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>æ³¨æ„ï¼š&lt;code>script&lt;/code> ä¸­æ“ä½œè³‡æ–™éœ€è¦ä½¿ç”¨ &lt;code>xxx.value&lt;/code> çš„å½¢å¼ï¼Œè€Œ &lt;code>template&lt;/code> ä¸­&lt;strong>ä¸éœ€è¦&lt;/strong>æ–°å¢ &lt;code>.value&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ç”¨ä¸€å€‹ä¾‹å­ä¾†æ¼”ç¤ºï¼Œå¯¦ç¾ä¸€å€‹æŒ‰éˆ•ï¼Œé»é¸å¯ä»¥å¢åŠ æ•¸å­—ï¼š&lt;/p>
&lt;h5 id="addnumvue">addNum.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{count}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;updateCount&amp;#39;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å¢åŠ &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ &lt;code>Vue2&lt;/code> ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">conunt&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">updateCount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">conunt&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ &lt;code>Vue3&lt;/code> ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ref ç”¨æ–¼å®šç¾©ä¸€å€‹éŸ¿æ‡‰å¼çš„è³‡æ–™ï¼Œè¿”å›çš„æ˜¯ä¸€å€‹ Ref ç‰©ä»¶ï¼Œç‰©ä»¶ä¸­æœ‰ä¸€å€‹ value å±¬æ€§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// å¦‚æœéœ€è¦å°è³‡æ–™é€²è¡Œæ“ä½œï¼Œéœ€è¦ä½¿ç”¨è©² Ref ç‰©ä»¶çš„ value å±¬æ€§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">updateCount&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">updateCount&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ &lt;code>Vue2&lt;/code> ä¸­æˆ‘å€‘é€šé &lt;code>this.$refs&lt;/code> ä¾†ç²å– &lt;code>dom&lt;/code> ç¯€é»ï¼Œ&lt;code>Vue3&lt;/code> ä¸­æˆ‘å€‘é€šé &lt;code>ref&lt;/code> ä¾†ç²å–ç¯€é»ã€‚&lt;/p>
&lt;p>é¦–å…ˆéœ€è¦åœ¨æ¨™ç±¤ä¸Šæ–°å¢ &lt;code>ref='xxx'&lt;/code>ï¼Œç„¶å¾Œå† &lt;code>setup&lt;/code> ä¸­å®šç¾©ä¸€å€‹åˆå§‹å€¼ç‚º &lt;code>null&lt;/code> çš„ &lt;code>ref&lt;/code> å‹åˆ¥ï¼Œåå­—è¦å’Œæ¨™ç±¤çš„ &lt;code>ref&lt;/code> å±¬æ€§ä¸€è‡´ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">xxx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>æ³¨æ„ ï¼šä¸€å®šè¦åœ¨ &lt;code>setup&lt;/code> çš„ &lt;code>return&lt;/code> ä¸­è¿”å›ï¼Œä¸ç„¶æœƒå ±éŒ¯ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ç”¨ä¸€å€‹ä¾‹å­ä¾†æ¼”ç¤ºï¼Œè®“è¼¸å…¥æ¡†è‡ªå‹•ç²å–ç„¦é»ï¼š&lt;/p>
&lt;h5 id="autofocusvue">autoFocus.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>App&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;inputRef&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">onMounted&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">refç²å–å…ƒç´ : åˆ©ç”¨ ref å‡½å¼ç²å–å…ƒä»¶ä¸­çš„æ¨™ç±¤å…ƒç´ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">åŠŸèƒ½éœ€æ±‚: è®“è¼¸å…¥æ¡†è‡ªå‹•ç²å–ç„¦é»
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">inputRef&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">HTMLElement&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onMounted&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">inputRef&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">inputRef&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">inputRef&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="reactive">reactive&lt;/h3>
&lt;ul>
&lt;li>ä½œç”¨ï¼šå®šç¾©å¤šå€‹æ•¸æ“šçš„éŸ¿æ‡‰å¼ï¼Œæ¥æ”¶ä¸€å€‹æ™®é€šç‰©ä»¶ç„¶å¾Œè¿”å›è©²æ™®é€šç‰©ä»¶çš„éŸ¿æ‡‰å¼ä»£ç†å™¨ç‰©ä»¶(&lt;code>Proxy&lt;/code>)ï¼ŒéŸ¿æ‡‰å¼è½‰æ›æ˜¯&amp;quot;&lt;code>æ·±å±¤çš„&lt;/code>&amp;quot;ï¼šæœƒå½±éŸ¿ç‰©ä»¶å…§éƒ¨æ‰€æœ‰å·¢ç‹€çš„å±¬æ€§ï¼Œæ‰€æœ‰çš„è³‡æ–™éƒ½æ˜¯éŸ¿æ‡‰å¼çš„ã€‚&lt;/li>
&lt;li>èªæ³•ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">proxy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">reactive&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ç¨‹å¼ç¢¼æ¼”ç¤ºï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å§“å:{{user.name}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å¹´é½¡:{{user.age}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>wife:{{user.wife}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;updateUser&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æ›´æ–°&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">reactive&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;hzw&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">18&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wife&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;xioaohong&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">18&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">books&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;ç´…å¯¶æ›¸&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;è¨­è¨ˆæ¨¡å¼&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;æ¼”ç®—æ³•èˆ‡è³‡æ–™çµæ§‹&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">updateUser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;å°ç´…&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">age&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">wife&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">books&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;é‡‘ç“¶æ¢…&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">updateUser&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="computed">computed&lt;/h3>
&lt;ul>
&lt;li>èˆ‡ &lt;code>Vue2&lt;/code> ä¸­çš„ &lt;code>computed&lt;/code> é…ç½®åŠŸèƒ½ä¸€è‡´ï¼Œè¿”å›çš„æ˜¯ä¸€å€‹ &lt;code>ref&lt;/code> å‹åˆ¥çš„ç‰©ä»¶ã€‚&lt;/li>
&lt;li>&lt;code>computed&lt;/code> çš„å‡½å¼ä¸­å¦‚æœåªå‚³å…¥ä¸€å€‹ç®­é ­å‡½å¼ è¡¨ç¤ºçš„æ˜¯ &lt;code>get&lt;/code> æ“ä½œï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">computed&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">reactive&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">firstName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;éŸ“&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lastName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;å¿—å‰&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">fullName1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fullName1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>computed&lt;/code> çš„å‡½å¼ä¸­å¯ä»¥å‚³å…¥ä¸€å€‹ç‰©ä»¶ï¼Œå¯ä»¥åŒ…å« &lt;code>set&lt;/code> å’Œ &lt;code>get&lt;/code> å‡½å¼ï¼Œé€²è¡Œè®€å–å’Œä¿®æ”¹çš„æ“ä½œï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">computed&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">reactive&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">firstName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;éŸ“&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lastName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;å¿—å‰&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">fullName2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">get&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;_&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">names&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;_&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">names&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">names&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fullName2&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="watch">watch&lt;/h3>
&lt;ul>
&lt;li>èˆ‡ &lt;code>Vue2&lt;/code> ä¸­çš„ &lt;code>watch&lt;/code> é…ç½®åŠŸèƒ½ä¸€è‡´ã€‚&lt;/li>
&lt;li>ä½œç”¨ï¼šç›£è¦–æŒ‡å®šçš„ä¸€å€‹æˆ–å¤šå€‹éŸ¿æ‡‰å¼è³‡æ–™ï¼Œä¸€æ—¦è³‡æ–™è®ŠåŒ–ï¼Œå°±è‡ªå‹•åŸ·è¡Œç›£è¦–å›æ’¥ã€‚&lt;/li>
&lt;li>èªæ³•ï¼šwatch(&lt;code>è¦ç›£è½çš„è³‡æ–™&lt;/code>, &lt;code>å›èª¿å‡½å¼&lt;/code>, &lt;code>é…ç½®&lt;/code>)&lt;/li>
&lt;li>é è¨­åˆå§‹æ™‚ä¸åŸ·è¡Œå›èª¿ï¼Œä½†å¯ä»¥é€šéé…ç½®çš„ &lt;code>immediate&lt;/code> ç‚º &lt;code>true&lt;/code>ï¼Œä¾†æŒ‡å®šåˆå§‹æ™‚ç«‹å³åŸ·è¡Œç¬¬ä¸€æ¬¡ã€‚&lt;/li>
&lt;li>é€šéé…ç½®çš„ &lt;code>deep&lt;/code> ç‚º &lt;code>true&lt;/code>ï¼Œä¾†æŒ‡å®šæ·±åº¦ç›£è¦–ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">watch&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">reactive&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">firstName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;éŸ“&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lastName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;å¿—å‰&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">fullName3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">watch&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">({&lt;/span> &lt;span class="nx">firstName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">lastName&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fullName3&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">firstName&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;_&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">lastName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">immediate&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">deep&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fullName3&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;code>watch&lt;/code> ç›£è½å¤šå€‹æ•¸æ“šï¼Œä½¿ç”¨é™£åˆ—ã€‚&lt;br>
&lt;code>watch&lt;/code> ç›£è½ééŸ¿æ‡‰å¼è³‡æ–™çš„æ™‚å€™éœ€è¦ä½¿ç”¨å›èª¿å‡½å¼çš„å½¢å¼ã€‚&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">watch&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fullName3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æˆ‘åŸ·è¡Œäº†&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="watcheffect">watchEffect&lt;/h3>
&lt;ul>
&lt;li>ä½œç”¨ï¼šç›£è¦–è³‡æ–™ç™¼ç”Ÿè®ŠåŒ–æ™‚åŸ·è¡Œå›èª¿ï¼Œä¸ç”¨ç›´æ¥æŒ‡å®šè¦ç›£è¦–çš„è³‡æ–™ï¼Œå›èª¿å‡½å¼ä¸­ä½¿ç”¨çš„å“ªäº›éŸ¿æ‡‰å¼è³‡æ–™å°±ç›£è¦–å“ªäº›éŸ¿æ‡‰å¼è³‡æ–™ï¼Œé è¨­åˆå§‹æ™‚å°±æœƒåŸ·è¡Œç¬¬ä¸€æ¬¡ï¼Œå¾è€Œå¯ä»¥æ”¶é›†éœ€è¦ç›£è¦–çš„è³‡æ–™ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">watchEffect&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">reactive&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">firstName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;éŸ“&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lastName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;å¿—å‰&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">fullName4&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">watchEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fullName4&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;_&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fullName4&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// watchEffectå¯ä»¥å¯¦ç¾è¨ˆç®—å±¬æ€§setæ–¹æ³•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">watchEffect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">names&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">fullName3&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;_&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">firstName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">names&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lastName&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">names&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”Ÿå‘½é€±æœŸå°æ¯”ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52279039860_760ce781e5_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;ul>
&lt;li>æ³¨æ„ï¼š&lt;code>3.0&lt;/code> ä¸­çš„ç”Ÿå‘½é€±æœŸé‰¤å­è¦æ¯” &lt;code>2.X&lt;/code> ä¸­ç›¸åŒç”Ÿå‘½é€±æœŸçš„é‰¤å­è¦å¿«ã€‚&lt;/li>
&lt;li>&lt;code>Composition API&lt;/code> é‚„æ–°å¢äº†ä»¥ä¸‹ç”¨æ–¼é™¤éŒ¯çš„é‰¤å­å‡½å¼ï¼Œä½†æ˜¯ä¸æ€éº¼å¸¸ç”¨ï¼š&lt;code>onRenderTracked&lt;/code>ã€&lt;code>onRenderTriggered&lt;/code>ã€‚&lt;/li>
&lt;li>ç¨‹å¼ç¢¼æ¼”ç¤ºï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onBeforeMount&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;--onBeforeMount&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onMounted&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;--onMounted&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onBeforeUpdate&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;--onBeforeUpdate&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onUpdated&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;--onUpdated&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onBeforeUnmount&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;--onBeforeUnmount&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onUnmounted&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;--onUnmounted&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="torefs">toRefs&lt;/h3>
&lt;ul>
&lt;li>ä½œç”¨ï¼šæŠŠä¸€å€‹éŸ¿æ‡‰å¼ç‰©ä»¶è½‰æ›æˆæ™®é€šç‰©ä»¶ï¼Œè©²æ™®é€šç‰©ä»¶çš„æ¯å€‹å±¬æ€§éƒ½æ˜¯ä¸€å€‹ &lt;code>ref&lt;/code>ã€‚&lt;/li>
&lt;li>æ‡‰ç”¨ï¼šæˆ‘å€‘ä½¿ç”¨ &lt;code>reactive&lt;/code> å»ºç«‹çš„ç‰©ä»¶ï¼Œå¦‚æœæƒ³åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ï¼Œå°±å¿…é ˆå¾—ä½¿ç”¨ &lt;code>xxx.xxx&lt;/code> çš„å½¢å¼ï¼Œå¦‚æœå¤§é‡ç”¨åˆ°çš„è©±é‚„æ˜¯å¾ˆéº»ç…©çš„ï¼Œä½†æ˜¯ä½¿ç”¨ &lt;code>es6&lt;/code> è§£æ§‹ä»¥å¾Œï¼Œæœƒå¤±å»éŸ¿æ‡‰å¼ï¼Œé‚£éº¼ &lt;code>toRefs&lt;/code> çš„ä½œç”¨å°±é«”ç¾åœ¨é€™ï¼Œåˆ©ç”¨ &lt;code>toRefs&lt;/code> å¯ä»¥å°‡ä¸€å€‹éŸ¿æ‡‰å¼ &lt;code>reactive&lt;/code> ç‰©ä»¶çš„æ‰€æœ‰åŸå§‹å±¬æ€§è½‰æ›ç‚ºéŸ¿æ‡‰å¼çš„ &lt;code>ref&lt;/code> å±¬æ€§ã€‚ç•¶ç„¶å°å¤¥ä¼´å€‘å¯ä»¥è‡ªè¡Œé–‹ç™¼æ›´å¤šæ‡‰ç”¨å ´æ™¯ã€‚&lt;/li>
&lt;li>ç¨‹å¼ç¢¼æ¼”ç¤ºï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> name:{{name}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;ts&amp;#39;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineComponent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reactive&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">toRefs&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineComponent&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">reactive&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;hzw&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">state2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">toRefs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setInterval&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="s1">&amp;#39;===&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é€šé toRefs è¿”å›çš„ç‰©ä»¶ï¼Œè§£æ§‹å‡ºä¾†çš„å±¬æ€§ä¹Ÿæ˜¯éŸ¿æ‡‰å¼çš„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">state2&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="provide-èˆ‡-inject">&lt;code>provide&lt;/code> èˆ‡ &lt;code>inject&lt;/code>&lt;/h3>
&lt;ul>
&lt;li>ä½œç”¨ï¼šå¯¦ç¾è·¨å±¤ç´šå…ƒä»¶(ç¥–å­«)é–“é€šè¨Šã€‚&lt;/li>
&lt;li>ç¨‹å¼ç¢¼æ¼”ç¤ºï¼š&lt;/li>
&lt;/ul>
&lt;h6 id="parentvue-2">parent.vue&lt;/h6>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>çˆ¶å…ƒä»¶&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ç•¶å‰é¡è‰²: {{color}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color=&amp;#39;red&amp;#39;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>ç´…&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color=&amp;#39;yellow&amp;#39;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>é»ƒ&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;color=&amp;#39;blue&amp;#39;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>è—&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">hr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Son&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">provide&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Son&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./son.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ProvideInject&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">components&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Son&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">color&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;red&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provide&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;color&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">color&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">color&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="sonvue">son.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å­å…ƒä»¶&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">hr&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">GrandSon&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">GrandSon&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./grandson.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">components&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">GrandSon&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="grandsonvue">grandson.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h3&lt;/span> &lt;span class="na">:style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{color}&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>å­«å­å…ƒä»¶: {{color}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h3&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">inject&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">color&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">inject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;color&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">color&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å…¶ä»–ç‰¹æ€§">å…¶ä»–ç‰¹æ€§&lt;/h2>
&lt;h3 id="teleportç¬ç§»">Teleport(ç¬ç§»)&lt;/h3>
&lt;ul>
&lt;li>ä½œç”¨ï¼š&lt;code>Teleport&lt;/code> æä¾›äº†ä¸€ç¨®ä¹¾æ·¨çš„æ–¹æ³•ï¼Œè®“å…ƒä»¶çš„ &lt;code>html&lt;/code> åœ¨çˆ¶å…ƒä»¶ä»‹é¢å¤–çš„ç‰¹å®šæ¨™ç±¤(å¾ˆå¯èƒ½æ˜¯ &lt;code>body&lt;/code> )ä¸‹æ’å…¥é¡¯ç¤ºï¼Œæ›å¥è©±èªªå°±æ˜¯å¯ä»¥æŠŠ&lt;code>å­å…ƒä»¶&lt;/code>æˆ–è€…&lt;code>domç¯€é»&lt;/code>æ’å…¥åˆ°ä»»ä½•ä½ æƒ³æ’å…¥åˆ°çš„åœ°æ–¹å»ã€‚&lt;/li>
&lt;li>èªæ³•ï¼šä½¿ç”¨ &lt;code>to&lt;/code> å±¬æ€§ï¼Œå¼•è™Ÿå…§ä½¿ç”¨é¸æ“‡å™¨ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">teleport&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;body&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">teleport&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ç¨‹å¼ç¢¼æ¼”ç¤ºï¼š&lt;/li>
&lt;/ul>
&lt;h5 id="parentvue-3">parent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;father&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>App&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">modal-button&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">modal-button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">ModalButton&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./components/ModalButton.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">components&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ModalButton&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="childrenvue-2">children.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;son&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;modalOpen = true&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> é»æˆ‘é–‹å•Ÿå°è©±æ–¹å¡Š
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">teleport&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;body&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">v-if&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;modalOpen&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;looklook&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> çœ‹çœ‹æˆ‘å‡ºç¾åœ¨äº†å“ªè£¡
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;modalOpen = false&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Close
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">teleport&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;modal-button&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">modalOpen&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">modalOpen&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°åœ¨å­å…ƒä»¶ä¸­çš„ &lt;code>looklook&lt;/code> å…ƒç´ è·‘åˆ°äº† &lt;code>body&lt;/code> ä¸‹é¢ï¼Œè€Œä¹‹å‰çš„ä½ç½®é»˜èªå‡ºç¾äº†å…©è¡Œè¨»é‡‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52277577997_8ba7960112_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h3 id="suspenseä¸ç¢ºå®šçš„">Suspense(ä¸ç¢ºå®šçš„)&lt;/h3>
&lt;ul>
&lt;li>ä½œç”¨ï¼šå®ƒå€‘å…è¨±æˆ‘å€‘çš„æ‡‰ç”¨ç¨‹å¼åœ¨ç­‰å¾…éåŒæ­¥å…ƒä»¶æ™‚æ¸²æŸ“ä¸€äº›å¾Œå‚™å…§å®¹ï¼Œå¯ä»¥è®“æˆ‘å€‘å»ºç«‹ä¸€å€‹å¹³æ»‘çš„ä½¿ç”¨è€…é«”é©—ã€‚&lt;/li>
&lt;li>èªæ³•ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Suspense&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="na">v-slot:default&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- éåŒæ­¥å…ƒä»¶ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">AsyncComp&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="na">v-slot:fallback&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- å¾Œå‚™å…§å®¹ --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>LOADING...&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Suspense&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>vue3&lt;/code> ä¸­å¼•å…¥&lt;strong>éåŒæ­¥å…ƒä»¶&lt;/strong>çš„æ–¹å¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">AsyncComp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineAsyncComponent&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kr">import&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./AsyncComp.vue&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ç¨‹å¼ç¢¼æ¼”ç¤ºï¼š&lt;/li>
&lt;/ul>
&lt;h5 id="parentvue-4">parent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Suspense&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- v-slot:defaul å¯ä»¥ç°¡å¯«æˆ #defaul --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="na">v-slot:default&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">AsyncComp&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!-- v-slot:defaul å¯ä»¥ç°¡å¯«æˆ #fallback --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="na">v-slot:fallback&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>LOADING...&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Suspense&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineAsyncComponent&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">AsyncComp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineAsyncComponent&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kr">import&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./AsyncComp.vue&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">components&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">AsyncComp&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="childrenvue-3">children.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>AsyncComp22&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{msg}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;AsyncComp&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">msg&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;abc&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€šéä¸‹åœ–å¯ä»¥çœ‹åˆ°åœ¨éåŒæ­¥å…ƒä»¶åŠ è¼‰å‡ºä¾†ä¹‹å‰ï¼Œé¡¯ç¤ºçš„æ˜¯ &lt;code>fallback&lt;/code> ä¸­çš„å…§å®¹ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278576943_379d6af224_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="éŸ¿æ‡‰å¼è³‡æ–™çš„åˆ¤æ–·">éŸ¿æ‡‰å¼è³‡æ–™çš„åˆ¤æ–·&lt;/h2>
&lt;h3 id="ä½œç”¨">ä½œç”¨&lt;/h3>
&lt;ul>
&lt;li>isRefï¼šæª¢æŸ¥ä¸€å€‹å€¼æ˜¯å¦ç‚ºä¸€å€‹ &lt;code>ref&lt;/code> ç‰©ä»¶&lt;/li>
&lt;li>isReactiveï¼šæª¢æŸ¥ä¸€å€‹ç‰©ä»¶æ˜¯å¦æ˜¯ç”± &lt;code>reactive&lt;/code> å»ºç«‹çš„éŸ¿æ‡‰å¼ä»£ç†&lt;/li>
&lt;li>isReadonlyï¼šæª¢æŸ¥ä¸€å€‹ç‰©ä»¶æ˜¯å¦æ˜¯ç”± &lt;code>readonly&lt;/code> å»ºç«‹çš„åªè®€ä»£ç†&lt;/li>
&lt;li>isProxyï¼šæª¢æŸ¥ä¸€å€‹ç‰©ä»¶æ˜¯å¦æ˜¯ç”± &lt;code>reactive&lt;/code> æˆ–è€… &lt;code>readonly&lt;/code> æ–¹æ³•å»ºç«‹çš„ä»£ç†&lt;/li>
&lt;/ul>
&lt;h3 id="ç¨‹å¼ç¢¼æ¼”ç¤º">ç¨‹å¼ç¢¼æ¼”ç¤º&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">state1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;isref:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">isRef&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state1&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// isref: true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">state2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">reactive&lt;/span>&lt;span class="p">({});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;isReactive:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">isReactive&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state2&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// isReactive: true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">state3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">readonly&lt;/span>&lt;span class="p">({});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;isReadonly:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">isReadonly&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state3&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// isReadonly: true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">state4&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">reactive&lt;/span>&lt;span class="p">({});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;isProxy:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">isProxy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state2&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// isProxy: true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;isProxy:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">isProxy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state4&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// isProxy: true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å…¶ä»–ä¸å¸¸ç”¨ç‰¹æ€§">å…¶ä»–ä¸å¸¸ç”¨ç‰¹æ€§&lt;/h3>
&lt;blockquote>
&lt;p>é‚„æœ‰å¾ˆå¤šå¾ˆå¤šä¸å¸¸ç”¨çš„æ–°ç‰¹æ€§ï¼Œæˆ‘åœ¨æ—¥å¸¸é–‹ç™¼ä¸­æ˜¯æ²’æœ‰ç”¨åˆ°çš„ï¼Œå¾ˆå¤šéƒ½æ˜¯ç”¨ä¾†åšå„ªåŒ–çš„ï¼Œæ„Ÿèˆˆè¶£çš„å°å¤¥ä¼´å€‘è‡ªè¡Œå»å®˜ç¶²æª¢è¦–ï¼Œæˆ–è€…å¤§ä½¬å€‘å¯ä»¥ä»‹ç´¹ä¸€ä¸‹æ‡‰ç”¨å ´æ™¯ã€‚&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>shallowReactive&lt;/li>
&lt;li>shallowRef&lt;/li>
&lt;li>readonly&lt;/li>
&lt;li>shallowReadonly&lt;/li>
&lt;li>markRaw&lt;/li>
&lt;li>customRef&lt;/li>
&lt;li>&amp;hellip;&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="èªæ³•ç³–">èªæ³•ç³–&lt;/h2>
&lt;p>é›–ç„¶ &lt;code>Composition API&lt;/code> ç”¨èµ·ä¾†å·²ç¶“éå¸¸æ–¹ä¾¿äº†ï¼Œä½†æ˜¯æˆ‘å€‘é‚„æ˜¯æœ‰å¾ˆç…©çš„åœ°æ–¹ï¼Œæ¯”å¦‚ï¼š&lt;/p>
&lt;ul>
&lt;li>å…ƒä»¶å¼•å…¥äº†é‚„è¦è¨»å†Šã€‚&lt;/li>
&lt;li>å±¬æ€§å’Œæ–¹æ³•éƒ½è¦åœ¨ &lt;code>setup&lt;/code> å‡½å¼ä¸­è¿”å›ï¼Œæœ‰çš„æ™‚å€™åƒ…ä¸€å€‹ &lt;code>return&lt;/code> å°±åå¹¾è¡Œç”šè‡³å¹¾åè¡Œã€‚&lt;/li>
&lt;li>&amp;hellip;&lt;/li>
&lt;/ul>
&lt;p>ä¸æƒ³å¯«å•Šæ€éº¼è¾¦&lt;/p>
&lt;p>å¥½è¾¦ï¼Œ &lt;code>Vue3&lt;/code> å®˜æ–¹æä¾›äº† &lt;code>script setup&lt;/code> èªæ³•ç³–ï¼Œåªéœ€è¦åœ¨ &lt;code>script&lt;/code> æ¨™ç±¤ä¸­==æ–°å¢ setup==ï¼Œå…ƒä»¶åªéœ€å¼•å…¥ä¸ç”¨è¨»å†Šï¼Œå±¬æ€§å’Œæ–¹æ³•ä¹Ÿä¸ç”¨è¿”å›ï¼Œ&lt;code>setup&lt;/code> å‡½å¼ä¹Ÿä¸éœ€è¦ï¼Œç”šè‡³ &lt;code>export default&lt;/code> éƒ½ä¸ç”¨å¯«äº†ï¼Œä¸åƒ…æ˜¯è³‡æ–™ã€è¨ˆç®—å±¬æ€§å’Œæ–¹æ³•ï¼Œç”šè‡³æ˜¯è‡ªå®šç¾©æŒ‡ä»¤ä¹Ÿå¯ä»¥åœ¨æˆ‘å€‘çš„ &lt;code>template&lt;/code> ä¸­è‡ªå‹•ç²å¾—ã€‚&lt;/p>
&lt;p>ä½†æ˜¯é€™éº¼éç™®çš„èªæ³•ç³–ï¼Œé‚„æ˜¯ç¨å¾®æ·»åŠ äº†ä¸€é»é»å¿ƒæ™ºè² æ“”ï¼Œå› ç‚ºæ²’æœ‰äº† &lt;code>setup&lt;/code> å‡½å¼ï¼Œé‚£éº¼ &lt;code>props&lt;/code>ã€&lt;code>emit&lt;/code>ã€&lt;code>attrs&lt;/code> æ€éº¼ç²å–å‘¢ï¼Œå°±è¦ä»‹ç´¹ä¸€ä¸‹æ–°çš„èªæ³•äº†ã€‚&lt;/p>
&lt;p>&lt;code>setup script&lt;/code> èªæ³•ç³–æä¾›äº†ä¸‰å€‹æ–°çš„ &lt;code>API&lt;/code> ä¾†ä¾›æˆ‘å€‘ä½¿ç”¨ï¼š ==defineProps==ã€==defineEmit== å’Œ ==useContext==ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;code>defineProps&lt;/code>ï¼šç”¨ä¾†æ¥æ”¶çˆ¶å…ƒä»¶å‚³ä¾†çš„å€¼ &lt;code>props&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;code>defineEmit&lt;/code>ï¼šç”¨ä¾†å®£å‘Šè§¸ç™¼çš„äº‹ä»¶è¡¨ã€‚&lt;/li>
&lt;li>&lt;code>useContext&lt;/code>ï¼šç”¨ä¾†ç²å–å…ƒä»¶ä¸Šä¸‹æ–‡ &lt;code>context&lt;/code>ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="ç¨‹å¼ç¢¼æ¼”ç¤º-1">ç¨‹å¼ç¢¼æ¼”ç¤º&lt;/h3>
&lt;h5 id="parentvue-5">parent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æˆ‘æ˜¯çˆ¶å…ƒä»¶ï¼&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Children&lt;/span> &lt;span class="na">msg&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;hello&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">child-click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;handleClick&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Children&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./components/children.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">handleClick&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="childrenvue-4">children.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;sonClick&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>msg: {{ props.msg }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useContext&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">defineProps&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">defineEmit&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">emit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineEmit&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;child-click&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">ctx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useContext&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">props&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineProps&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">msg&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sonClick&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;child-click&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘é»é¸ä¸€ä¸‹å­å…ƒä»¶ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278825204_a28791d02b_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å¯ä»¥çœ‹åˆ° &lt;code>context&lt;/code> è¢«åˆ—å°äº†å‡ºä¾†ï¼Œå…¶ä¸­çš„ &lt;code>attrs&lt;/code>ã€&lt;code>emit&lt;/code>ã€&lt;code>slots&lt;/code>ã€&lt;code>expose&lt;/code> å±¬æ€§å’Œæ–¹æ³•ä¾ç„¶å¯ä»¥ä½¿ç”¨ã€‚&lt;code>props&lt;/code> ä¹Ÿå¯ä»¥è¼¸å‡ºåœ¨é é¢ä¸Šï¼Œäº‹ä»¶ä¹ŸæˆåŠŸæ´¾ç™¼ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å…¶ä»–çŸ¥è­˜é»">å…¶ä»–çŸ¥è­˜é»&lt;/h2>
&lt;p>æ¥ä¸‹ä¾†ä»‹ç´¹ä¸€ä¸‹æˆ‘ä½¿ç”¨ &lt;code>Vue3&lt;/code> éç¨‹ä¸­é‡åˆ°çš„å•é¡Œæˆ–è€…å°æŠ€å·§ï¼Œä¸å…¨é¢ï¼Œæƒ³èµ·ä»€éº¼å°±å¯«ä»€éº¼å§ã€‚&lt;/p>
&lt;p>&lt;strong>&lt;code>script setup&lt;/code> èªæ³•ç³–çš„å‘&lt;/strong>&lt;/p>
&lt;p>é€™å€‹å¾ˆå¤šå¤§ä½¬å·²ç¶“åœ¨ &lt;code>Vue3&lt;/code> çš„ &lt;code>github&lt;/code> ä¸Šæäº¤ &lt;code>Issues&lt;/code> äº†ï¼Œæˆ–è¨±æœƒåœ¨ä¸ä¹…çš„å°‡ä¾†ä¿®å¾©ï¼Œä½†ç¾åœ¨é‚„æ˜¯è¦æ³¨æ„ä¸€ä¸‹ã€‚&lt;/p>
&lt;p>å¦‚æœåœ¨çˆ¶å…ƒä»¶ä¸­é€šé &lt;code>ref='xxx'&lt;/code> çš„æ–¹æ³•ä¾†ç²å–å­å…ƒä»¶å¯¦ä¾‹ï¼Œé‚£éº¼å­å…ƒä»¶ä¸å¯ä»¥ä½¿ç”¨ &lt;code>script setup&lt;/code> èªæ³•ç³–ï¼Œå¦å‰‡æœƒå ±éŒ¯ã€‚&lt;/p>
&lt;h3 id="ç¨‹å¼ç¢¼æ¼”ç¤º-2">ç¨‹å¼ç¢¼æ¼”ç¤º&lt;/h3>
&lt;h5 id="parentvue-6">parent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æˆ‘æ˜¯çˆ¶å…ƒä»¶ï¼&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Child&lt;/span> &lt;span class="na">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;son&amp;#39;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Child&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./components/children.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">son&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39; ~ son:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">son&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å­å…ƒä»¶å…ˆä¸ä½¿ç”¨èªæ³•ç³–ï¼š&lt;/p>
&lt;h5 id="childrenvue-5">children.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> æˆ‘æ˜¯å­å…ƒä»¶{{msg}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">import { ref } from &amp;#39;vue&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">export default {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> setup() {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> const msg = ref(&amp;#39;hello&amp;#39;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> return {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> msg,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> },
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278825189_5a985db5e6_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>ç¾åœ¨æŠŠå­å…ƒä»¶æ›æˆ &lt;code>script setup&lt;/code> èªæ³•ç³–å†ä¾†è©¦ä¸€è©¦ï¼š&lt;/p>
&lt;h5 id="childrenvue-6">children.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> æˆ‘æ˜¯å­å…ƒä»¶{{msg}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">msg&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°ç¾åœ¨æ˜¯&lt;strong>ç²å–ä¸åˆ°&lt;/strong>å­å…ƒä»¶å®šç¾©çš„ &lt;code>msg&lt;/code> å±¬æ€§çš„ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278825149_f0ed4e8b9f_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="emit-æ´¾ç™¼äº‹ä»¶å¯ä»¥å°å¼•æ•¸é€²è¡Œé©—è­‰">Emit æ´¾ç™¼äº‹ä»¶å¯ä»¥å°å¼•æ•¸é€²è¡Œé©—è­‰&lt;/h2>
&lt;h5 id="parentvue-7">parent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æˆ‘æ˜¯çˆ¶å…ƒä»¶ï¼&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Child&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">sonClick&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;sonClick&amp;#39;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Child&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./components/Child.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sonClick&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="childrenvue-7">children.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> æˆ‘æ˜¯å­å…ƒä»¶{{ msg }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;handleClick(1)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æˆ‘æ˜¯æŒ‰éˆ•1&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;handleClick(2)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æˆ‘æ˜¯æŒ‰éˆ•2&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emits&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sonClick&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">emit&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">msg&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">handleClick&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;sonClick&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">msg&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handleClick&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘åˆ†åˆ¥é»ä¸€ä¸‹&lt;code>æŒ‰éˆ•1&lt;/code>å’Œ&lt;code>æŒ‰éˆ•2&lt;/code>ï¼Œå¯ä»¥çœ‹åˆ°ç•¶æˆ‘å€‘é»äº†&lt;code>æŒ‰éˆ•2&lt;/code>çš„æ™‚å€™ï¼Œæ§åˆ¶æª¯æœƒç™¼å‡ºè­¦å‘Šï¼Œä½†æ˜¯ç¨‹å¼æœƒç¹¼çºŒåŸ·è¡Œï¼Œé‚„æ²’æƒ³åˆ°ä»€éº¼é©åˆçš„æ‡‰ç”¨å ´æ™¯ï¼Œä½†æ˜¯è¦çŸ¥é“é€™å€‹çŸ¥è­˜é»ï¼Œå°å¤¥ä¼´å€‘å¯ä»¥åœ¨é€™æäº‹æƒ…ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278825124_e17bb7a569_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="è·¨å…ƒä»¶é€šè¨Š-mittjs">è·¨å…ƒä»¶é€šè¨Š &lt;code>mitt.js&lt;/code>&lt;/h2>
&lt;p>&lt;code>Vue2&lt;/code> ä¸­æ€éº¼å¯¦ç¾è·¨å…ƒä»¶é€šè¨Šå‘¢ï¼Ÿå¾ˆå¤šäººç¬¬ä¸€æƒ³æ³•å°±æ˜¯ &lt;code>event bus&lt;/code>ã€‚ä½†æ˜¯ &lt;code>Vue3&lt;/code> ç§»é™¤äº† &lt;code>$on&lt;/code>ã€&lt;code>$once&lt;/code>ã€&lt;code>$off&lt;/code> å°è‡´ä¸èƒ½ä½¿ç”¨é€™å€‹æ–¹æ³•ã€‚ä½†æ˜¯ &lt;code>Vue&lt;/code> å®˜æ–¹çµ¦å¤§å®¶æ¨è–¦äº† ==&lt;a class="link" href="https://www.npmjs.com/package/mitt" target="_blank" rel="noopener"
>mitt.js&lt;/a>==ï¼Œå®ƒçš„åŸç†å°±æ˜¯ &lt;code>event bus&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://www.casper.tw/development/2020/12/15/vue-3-mitt/" target="_blank" rel="noopener"
>mitt.js æ•™å­¸&lt;/a>&lt;/p>
&lt;h3 id="ç¨‹å¼ç¢¼æ¼”ç¤º-3">ç¨‹å¼ç¢¼æ¼”ç¤º&lt;/h3>
&lt;ul>
&lt;li>å…ˆå®‰è£ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">npm i mitt -s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ç„¶å¾Œå°è£æˆä¸€å€‹ &lt;code>hook&lt;/code>ï¼š&lt;/li>
&lt;/ul>
&lt;h5 id="mittjs">mitt.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">mitt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;mitt&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">emitter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mitt&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">emitter&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ä½¿ç”¨ï¼š&lt;/li>
&lt;/ul>
&lt;h5 id="parentvue-8">parent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>æˆ‘æ˜¯çˆ¶å…ƒä»¶ï¼&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Child1&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Child2&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Child1&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./components/children1.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Child2&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./components/children2.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="children1">children1&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> æˆ‘æ˜¯å­å…ƒä»¶1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{msg}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">onUnmounted&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">emitter&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;../mitt&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åˆå§‹åŒ–
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">msg&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">changeMsg&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">msg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;world&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç›£è½äº‹ä»¶ï¼Œæ›´æ–°è³‡æ–™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">emitter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;change-msg&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">changeMsg&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é¡¯å¼è§£é™¤å®‰è£
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">onUnmounted&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emitter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">off&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;change-msg&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">changeMsg&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">msg&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">changeMsg&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="children2">children2&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> æˆ‘æ˜¯å­å…ƒä»¶2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;changeMsg&amp;#39;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>é»é¸ä¿®æ”¹msg&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">emitter&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;../mitt&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">changeMsg&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emitter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">emit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;change-msg&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">changeMsg&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ¼”ç¤º">æ¼”ç¤º&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52279039685_52ca5e6690_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;hr>
&lt;h2 id="è‡ªå®šç¾©æŒ‡ä»¤">è‡ªå®šç¾©æŒ‡ä»¤&lt;/h2>
&lt;p>å…ˆçœ‹çœ‹ &lt;code>Vue2&lt;/code> è‡ªå®šç¾©æŒ‡ä»¤çš„é‰¤å­ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>bind&lt;/code>ï¼šç•¶æŒ‡ä»¤ç¹«çµåœ¨å°æ‡‰å…ƒç´ æ™‚è§¸ç™¼ï¼Œåªæœƒè§¸ç™¼ä¸€æ¬¡ã€‚&lt;/li>
&lt;li>&lt;code>inserted&lt;/code>ï¼šç•¶å°æ‡‰å…ƒç´ è¢«æ’å…¥åˆ° DOM çš„çˆ¶å…ƒç´ æ™‚è§¸ç™¼ã€‚&lt;/li>
&lt;li>&lt;code>update&lt;/code>ï¼šç•¶å…ƒç´ æ›´æ–°æ™‚ï¼Œé€™å€‹é‰¤å­æœƒè¢«è§¸ç™¼ï¼ˆæ­¤æ™‚å…ƒç´ çš„å¾Œä»£å…ƒç´ é‚„æ²’æœ‰è§¸ç™¼æ›´æ–°ï¼‰ã€‚&lt;/li>
&lt;li>&lt;code>componentUpdated&lt;/code>ï¼šç•¶æ•´å€‹å…ƒä»¶ï¼ˆåŒ…æ‹¬å­å…ƒä»¶ï¼‰å®Œæˆæ›´æ–°å¾Œï¼Œé€™å€‹é‰¤å­è§¸ç™¼ã€‚&lt;/li>
&lt;li>&lt;code>unbind&lt;/code>ï¼šç•¶æŒ‡ä»¤è¢«å¾å…ƒç´ ä¸Šç§»é™¤æ™‚ï¼Œé€™å€‹é‰¤å­æœƒè¢«è§¸ç™¼ï¼Œä¹Ÿåªè§¸ç™¼ä¸€æ¬¡ã€‚&lt;/li>
&lt;/ul>
&lt;p>åœ¨ &lt;code>Vue3&lt;/code> ä¸­ï¼Œå®˜æ–¹ç‚ºäº†æ›´æœ‰åŠ©æ–¼ç¨‹å¼ç¢¼çš„å¯è®€æ€§å’Œé¢¨æ ¼çµ±ä¸€ï¼ŒæŠŠ&lt;strong>è‡ªå®šç¾©æŒ‡ä»¤&lt;/strong>çš„é‰¤å­åç¨±æ”¹çš„æ›´åƒæ˜¯å…ƒä»¶ç”Ÿå‘½é€±æœŸï¼Œå„˜ç®¡ä»–å€‘æ˜¯å…©å›äº‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>bind&lt;/code> =&amp;gt; beforeMountã€‚&lt;/li>
&lt;li>&lt;code>inserted&lt;/code> =&amp;gt; mountedã€‚&lt;/li>
&lt;li>&lt;code>beforeUpdate&lt;/code>ï¼šæ–°çš„é‰¤å­ï¼Œæœƒåœ¨å…ƒç´ è‡ªèº«æ›´æ–°å‰è§¸ç™¼ã€‚&lt;/li>
&lt;li>&lt;code>update&lt;/code> =&amp;gt; ç§»é™¤ï¼&lt;/li>
&lt;li>&lt;code>componentUpdated&lt;/code> =&amp;gt; updatedã€‚&lt;/li>
&lt;li>&lt;code>beforeUnmount&lt;/code>ï¼šæ–°çš„é‰¤å­ï¼Œç•¶å…ƒç´ è‡ªèº«è¢«è§£é™¤å®‰è£å‰è§¸ç™¼ã€‚&lt;/li>
&lt;li>&lt;code>unbind&lt;/code> =&amp;gt; unmountedã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="éæ¸¡å‹•ç•«">éæ¸¡å‹•ç•«&lt;/h2>
&lt;p>é€™å€‹æ²’æœ‰ä»€éº¼å¤§çš„æ”¹å‹•ï¼Œåªæ˜¯ä¿®æ”¹äº†å…©å€‹ &lt;code>class&lt;/code> åå­—ï¼Œæ­£æ˜¯å› ç‚ºæ²’æœ‰ä»€éº¼å¤§çš„æ”¹å‹•ï¼Œå°è‡´æˆ‘æ›¾ç¶“åœ¨é€™è£¡æ ½äº†å¤§è·Ÿé ­ï¼Œå¯«å®Œäº†æ€éº¼éƒ½ä¸å°ï¼Œå¾Œä¾†æŸ¥å®˜ç¶²æ‰çŸ¥é“ã€‚&lt;/p>
&lt;p>ä»¥ä¸‹æ˜¯ç›´æ¥å¼•ç”¨&lt;strong>å®˜ç¶²çš„åŸæ–‡&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>v-enter-from&lt;/code>ï¼šå®šç¾©é€²å…¥éæ¸¡çš„é–‹å§‹ç‹€æ…‹ã€‚åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰ç”Ÿæ•ˆï¼Œåœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å¾Œçš„ä¸‹ä¸€å¹€ç§»é™¤ã€‚&lt;/li>
&lt;li>&lt;code>v-enter-active&lt;/code>ï¼šå®šç¾©é€²å…¥éæ¸¡ç”Ÿæ•ˆæ™‚çš„ç‹€æ…‹ã€‚åœ¨æ•´å€‹é€²å…¥éæ¸¡çš„éšæ®µä¸­æ‡‰ç”¨ï¼Œåœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰ç”Ÿæ•ˆï¼Œåœ¨éæ¸¡/å‹•ç•«å®Œæˆä¹‹å¾Œç§»é™¤ã€‚é€™å€‹é¡å¯ä»¥è¢«ç”¨ä¾†å®šç¾©é€²å…¥éæ¸¡çš„éç¨‹æ™‚é–“ï¼Œå»¶é²å’Œæ›²ç·šå‡½å¼ã€‚&lt;/li>
&lt;li>&lt;code>v-enter-to&lt;/code>ï¼šå®šç¾©é€²å…¥éæ¸¡çš„çµæŸç‹€æ…‹ã€‚åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å¾Œä¸‹ä¸€å¹€ç”Ÿæ•ˆ (èˆ‡æ­¤åŒæ™‚ v-enter-from è¢«ç§»é™¤)ï¼Œåœ¨éæ¸¡/å‹•ç•«å®Œæˆä¹‹å¾Œç§»é™¤ã€‚&lt;/li>
&lt;li>&lt;code>v-leave-from&lt;/code>ï¼šå®šç¾©é›¢é–‹éæ¸¡çš„é–‹å§‹ç‹€æ…‹ã€‚åœ¨é›¢é–‹éæ¸¡è¢«è§¸ç™¼æ™‚ç«‹åˆ»ç”Ÿæ•ˆï¼Œä¸‹ä¸€å¹€è¢«ç§»é™¤ã€‚&lt;/li>
&lt;li>&lt;code>v-leave-active&lt;/code>ï¼šå®šç¾©é›¢é–‹éæ¸¡ç”Ÿæ•ˆæ™‚çš„ç‹€æ…‹ã€‚åœ¨æ•´å€‹é›¢é–‹éæ¸¡çš„éšæ®µä¸­æ‡‰ç”¨ï¼Œåœ¨é›¢é–‹éæ¸¡è¢«è§¸ç™¼æ™‚ç«‹åˆ»ç”Ÿæ•ˆï¼Œåœ¨éæ¸¡/å‹•ç•«å®Œæˆä¹‹å¾Œç§»é™¤ã€‚é€™å€‹é¡å¯ä»¥è¢«ç”¨ä¾†å®šç¾©é›¢é–‹éæ¸¡çš„éç¨‹æ™‚é–“ï¼Œå»¶é²å’Œæ›²ç·šå‡½å¼ã€‚&lt;/li>
&lt;li>&lt;code>v-leave-to&lt;/code>ï¼šé›¢é–‹éæ¸¡çš„çµæŸç‹€æ…‹ã€‚åœ¨é›¢é–‹éæ¸¡è¢«è§¸ç™¼ä¹‹å¾Œä¸‹ä¸€å¹€ç”Ÿæ•ˆ (èˆ‡æ­¤åŒæ™‚ v-leave-from è¢«åˆªé™¤)ï¼Œåœ¨éæ¸¡/å‹•ç•«å®Œæˆä¹‹å¾Œç§»é™¤ã€‚&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>ç‰¹åˆ¥æ³¨æ„çš„æ˜¯ï¼š&lt;br>
&lt;code>v-enter&lt;/code> æ”¹æˆäº† &lt;code>v-enter-form&lt;/code>&lt;br>
&lt;code>v-leave&lt;/code> æ”¹æˆäº† &lt;code>v-leave-from&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="å…¶ä»–å°çŸ¥è­˜">å…¶ä»–å°çŸ¥è­˜&lt;/h2>
&lt;ul>
&lt;li>&lt;code>Vue3&lt;/code> ç§»é™¤äº† &lt;code>filter&lt;/code>ã€‚&lt;/li>
&lt;li>ç²å–å…ƒä»¶å¯¦ä¾‹çš„æ–¹æ³• &lt;code>getCurrentInstance()&lt;/code>ï¼š&lt;br>
é€™å€‹æ–¹æ³•å¯ä»¥ç²å–åˆ°ç•¶å‰å…ƒä»¶çš„å¯¦ä¾‹ï¼Œç›¸ç•¶æ–¼ &lt;code>Vue2&lt;/code> ä¸­çš„ &lt;code>this&lt;/code>ï¼Œä½†æ˜¯å®ƒåªåœ¨==é–‹ç™¼ç’°å¢ƒ==èµ·æ•ˆæœï¼Œæ‰“åŒ…ä»¥å¾Œæœƒå ±éŒ¯ï¼Œæ‰€ä»¥å¤§å®¶ä¸è¦ä¾è³´ &lt;code>getCurrentInstance&lt;/code> æ–¹æ³•å»ç²å–å…ƒä»¶å¯¦ä¾‹ä¾†å®Œæˆä¸€äº›ä¸»è¦åŠŸèƒ½ã€‚&lt;br>
æ›´è©³ç´°çš„å¯ä»¥æª¢è¦–ä¸‹é¢é€™ç¯‡æ–‡ç« ï¼š&lt;br>
&lt;a class="link" href="https://www.gushiciku.cn/jump/aHR0cHM6Ly9saW5rLnpoaWh1LmNvbS8/dGFyZ2V0PWh0dHBzJTNBLy9ibG9nLmNzZG4ubmV0L2xfcHBwL2FydGljbGUvZGV0YWlscy8xMTAyOTAxODI=" target="_blank" rel="noopener"
>é—œæ–¼Vue3ç²å–ç•¶å‰å…ƒä»¶ä¾‹é …çš„ getCurrentInstance æ–¹æ³•çš„è£œå……&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>æœ€å¾Œï¼Œç•¢ç«Ÿæ˜¯å€‹äººç¸½çµï¼Œé›£å…æœƒå‡ºç¾ç´•æ¼å’ŒéŒ¯èª¤ï¼ŒæœŸå¾…å„è·¯å¤§ç¥çš„è£œå……å’Œç³¾æ­£ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="åƒè€ƒ">åƒè€ƒ&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.gushiciku.cn/pl/g19t/zh-tw" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.vue3js.cn/docs/zh/" target="_blank" rel="noopener"
>Vue3å®˜æ–¹ä¸­æ–‡æ–‡ä»¶&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1Wh411X7Xp" target="_blank" rel="noopener"
>Vue3.0å…‰é€Ÿä¸Šæ‰‹&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.imooc.com/article/317810" target="_blank" rel="noopener"
>Volar - vueçµ‚æ¥µé–‹ç™¼ç¥å™¨ï¼&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://juejin.cn/post/6940454764421316644#heading-6" target="_blank" rel="noopener"
>Vue3.0 æ–°ç‰¹æ€§ä»¥åŠä½¿ç”¨ç¶“é©—ç¸½çµ&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1ra4y1H7ih?spm_id_from=333.788.b_636f6d6d656e74.23" target="_blank" rel="noopener"
>å°šçŸ½è°·2021æœ€æ–°Vue.JSæ•™ç¨‹å¿«é€Ÿå…¥é–€åˆ°å°ˆæ¡ˆå¯¦æˆ°ï¼ˆVue3/VueJSæŠ€è¡“è©³è§£ï¼‰&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://juejin.cn/post/6891640356543627278" target="_blank" rel="noopener"
>é‚£å€‹å¿™äº†ä¸€å¤œçš„Vue3å‹•ç•«å¾ˆå¥½ï¼Œå°±æ˜¯å¤ªçŸ­äº†&lt;/a>&lt;/li>
&lt;/ul>
&lt;hr></description></item><item><title>åœ–è§£ Option API vs Composition API</title><link>https://wayneblog.ga/2022-08-11/option-api-vs-composition-api/</link><pubDate>Thu, 11 Aug 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-08-11/option-api-vs-composition-api/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52277524312_b6dc5e213c_o.png" alt="Featured image of post åœ–è§£ Option API vs Composition API" />&lt;style>
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://juejin.cn/post/6891640356543627278" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://www.gushiciku.cn/pl/g19t/zh-tw" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="å›é¡§-option-api">å›é¡§ Option API&lt;/h2>
&lt;blockquote>
&lt;p>åœ¨äº†è§£ Composition Api ä¹‹å‰ï¼Œé¦–å…ˆå›é¡§ä¸‹æˆ‘å€‘ä½¿ç”¨ Option Api é‡åˆ°çš„å•é¡Œï¼Œæˆ‘å€‘åœ¨ Vue2 ä¸­å¸¸å¸¸æœƒéœ€è¦åœ¨ç‰¹å®šçš„å€åŸŸï¼ˆdataã€methodsã€watchã€computed&amp;hellip;ï¼‰ç·¨å¯«è² è²¬ç›¸åŒåŠŸèƒ½çš„ä»£ç¢¼ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52277525197_19c1acbbf4_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;app&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;val&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">keyup&lt;/span>&lt;span class="err">.&lt;/span>&lt;span class="na">enter&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;addTodo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;todo in todos&amp;#34;&lt;/span> &lt;span class="na">:key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;todo.id&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{todo.title}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">val&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">todos&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;åƒé¥­&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ç¡è§‰&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;lsp&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">addTodo&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">todos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">todos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">val&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="option-api-çš„ç¼ºé™·">Option Api çš„ç¼ºé™·&lt;/h2>
&lt;h3 id="åè¦†æ©«è·³">åè¦†æ©«è·³&lt;/h3>
&lt;blockquote>
&lt;p>éš¨è‘—æ¥­å‹™è¤‡é›œåº¦è¶Šä¾†è¶Šé«˜ï¼Œä»£ç¢¼é‡æœƒä¸æ–·çš„åŠ å¤§ï¼›ç”±æ–¼ç›¸é—œæ¥­å‹™çš„ä»£ç¢¼éœ€è¦éµå¾ª option çš„é…ç½®å¯«åˆ°ç‰¹å®šçš„å€åŸŸï¼Œå°è‡´å¾ŒçºŒç¶­è­·éå¸¸çš„è¤‡é›œï¼Œä»£ç¢¼å¯è¤‡ç”¨æ€§ä¹Ÿä¸é«˜ã€‚&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>ç›¸ä¿¡å¤§éƒ¨åˆ†åŒå­¸éƒ½ç¶­è­·éè¶…é200è¡Œçš„ .vue çµ„ä»¶ï¼Œæ–°å¢æˆ–è€…ä¿®æ”¹ä¸€å€‹éœ€æ±‚ï¼Œå°±éœ€è¦åˆ†åˆ¥åœ¨ dataã€methodsã€computed è£¡ä¿®æ”¹ï¼Œæ»¾å‹•æ¢åå¤ä¸Šä¸‹ç§»å‹•ï¼Œæˆ‘ç¨±ä¹‹ç‚ºã€åå¤æ©«è·³ã€ï¼Œæ¯”å¦‚æˆ‘å€‘ç°¡å–®çš„åŠ å€‹æ‹è…¦é–€çš„éœ€æ±‚åŠ å€‹ç´¯åŠ å™¨ï¼Œé€™ç¨®å¯«ä»£ç¢¼ä¸Šä¸‹åå¤æ©«æ¢çš„æ„Ÿè¦ºï¼Œç›¸ä¿¡å¤§å®¶éƒ½æ‡‚çš„ï¼š&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278523468_474b248a83_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278504901_8cc9387727_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;app&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;add&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>LSP {{count}}å· double is{{double}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;val&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">keyup&lt;/span>&lt;span class="err">.&lt;/span>&lt;span class="na">enter&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;addTodo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;todo in todos&amp;#34;&lt;/span> &lt;span class="na">:key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;todo.id&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{todo.title}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Counter&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./counter&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mixins&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Counter&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">val&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">todos&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;åƒé¥­&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ç¡è§‰&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;lsp&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">computed&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">double&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">addTodo&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">todos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">todos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">val&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">add&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="o">++&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="mixin-å’Œ-this">mixin å’Œ this&lt;/h3>
&lt;ul>
&lt;li>åè¦†æ©«è·³çš„æœ¬è³ªï¼Œåœ¨æ–¼åŠŸèƒ½çš„åˆ†å¡Šçµ„ç¹”ï¼Œä»¥åŠä»£ç¢¼é‡å¤ªå¤§äº†ï¼Œå¦‚æœæˆ‘å€‘èƒ½æŠŠä»£ç¢¼æ§åˆ¶åœ¨ä¸€å±ï¼Œè‡ªç„¶å°±è§£æ±ºäº†ï¼Œvue2 è£¡çš„è§£æ±ºæ–¹æ¡ˆï¼Œæ˜¯ä½¿ç”¨ mixin ä¾†æ··åˆ, æˆ‘å€‘æŠ½é›¢ä¸€å€‹ counter.jsï¼š&lt;/li>
&lt;/ul>
&lt;h5 id="counterjs">counter.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">computed&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">double&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">add&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="o">++&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="appvue">App.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Counter&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./counter&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mixins&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Counter&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£ç¢ºå¯¦æ‹†åˆ†äº†ä»£ç¢¼ï¼Œä½†æ˜¯æœ‰ä¸€å€‹å¾ˆåš´é‡çš„å•é¡Œï¼Œå°±æ˜¯ä¸æ‰“é–‹ counter.jsï¼ŒApp.vue è£¡çš„ this ä¸Šï¼Œcountã€addé€™äº›å±¬æ€§ï¼Œæ˜¯å®Œå…¨ä¸çŸ¥é“å¾å“ªä¾†çš„ï¼Œä½ ä¸çŸ¥é“æ˜¯ &lt;code>mixin&lt;/code>ï¼Œé‚„æ˜¯å…¨å±€ &lt;code>install&lt;/code>ï¼Œé‚„æ˜¯ &lt;code>Vue.prototype.count&lt;/code> è¨­ç½®çš„ï¼Œæ•¸æ“šä¾†æºå®Œå…¨æ¨¡ç³Šï¼Œèª¿è©¦çˆ½æ­»ä½ ï¼Œé€™ä¹Ÿæ˜¯ option çš„ä¸€å€‹å¤§å•é¡Œï¼Œ&lt;code>this&lt;/code> æ˜¯å€‹é»‘ç›’ï¼Œtemplate è£¡å¯«çš„ count å’Œ doubleï¼Œå®Œå…¨ä¸çŸ¥é“å¾å“ªä¾†çš„ã€‚&lt;/p>
&lt;br/>
&lt;p>å¦‚æœæœ‰å…©å€‹ &lt;code>mixin&lt;/code>ï¼Œå°±æ›´æœ‰æ„æ€äº†ï¼Œæ¯”å¦‚æˆ‘å€‘åˆæœ‰ä¸€å€‹éœ€æ±‚ï¼Œå¯¦æ™‚é¡¯ç¤ºé¼ æ¨™çš„åæ¨™ä½ç½® xï¼Œä¸¦ä¸”æœ‰ä¸€å€‹ä¹˜ä»¥ 2 çš„è¨ˆç®—å±¬æ€§æ¹Šå·§ä¹Ÿå« doubleï¼Œå†æ•´ä¸€å€‹ mixinï¼š&lt;/p>
&lt;h5 id="usemousejs">useMouse.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pageX&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">computed&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">double&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mounted&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;mousemove&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">update&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">destroyed&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">removeEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;mousemove&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">update&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ˜¯ä¸€å€‹ç¨ç«‹ç¶­è­·çš„ mixinï¼Œå¯èƒ½åœ¨ N å€‹åœ°æ–¹ç”¨åˆ°ï¼Œä»–æ ¹æœ¬ä¸çŸ¥é“æœƒä¸æœƒæœ‰äººå’Œä»–è¡çªï¼Œç„¶å¾Œç”¨ä¸€ä¸‹ï¼š&lt;/p>
&lt;h5 id="appvue-1">App.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Counter&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./counter&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Mouse&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./mouse&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mixins&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Counter&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">Mouse&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">......&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278773824_2fb43692cf_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>å…©å€‹ mixin è£¡éƒ½æœ‰ double é€™å€‹æ•¸ï¼Œå°·å°¬ï¼Œçœ‹æ•ˆæœï¼Œlsp çš„ count è¢«è¦†è“‹äº†å¾ˆå°·å°¬ï¼Œè€Œä¸”åœ¨ App.vue é€™è£¡ï¼Œä½ å®Œå…¨ä¸çŸ¥é“é€™å€‹ double åˆ°åº•æ˜¯å“ªå€‹ï¼Œèª¿è©¦å¾ˆç—›è‹¦ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="composition-api">Composition Api&lt;/h2>
&lt;blockquote>
&lt;p>composition å°±æ˜¯ç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œå­˜åœ¨çš„ï¼Œé€šéçµ„åˆçš„æ–¹å¼ï¼ŒæŠŠé›¶æ•£åœ¨å„å€‹ dataã€methods çš„ä»£ç¢¼é‡æ–°çµ„åˆï¼Œä¸€å€‹åŠŸèƒ½çš„ä»£ç¢¼éƒ½æ”¾åœ¨ä¸€èµ·ç¶­è­·ï¼Œä¸¦ä¸”é€™äº›ä»£ç¢¼å¯ä»¥å–®ç¨æ‹†åˆ†æˆå‡½æ•¸ï¼Œé¡¯ç„¶æˆ‘å€‘å¯ä»¥æ›´åŠ å„ªé›…çš„çµ„ç¹”æˆ‘å€‘çš„ä»£ç¢¼ï¼Œå‡½æ•¸ã€‚è®“ç›¸é—œåŠŸèƒ½çš„ä»£ç¢¼æ›´åŠ æœ‰åºçš„çµ„ç¹”åœ¨ä¸€èµ·ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278991260_8c8720067c_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52278529193_878667eeba_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
>&lt;/p>
&lt;p>æˆ‘å€‘ç”¨vue3æ¼”ç¤ºä¸€ä¸‹åŠŸèƒ½ï¼Œå…·é«”apiå°±ä¸è§£é‡‹äº†ç›´æ¥vue3æ–‡æª”æèµ·å°±å¯ä»¥ï¼š&lt;/p>
&lt;h5 id="appvue-2">App.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;app&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text&amp;#34;&lt;/span> &lt;span class="na">v-model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;val&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">keyup&lt;/span>&lt;span class="err">.&lt;/span>&lt;span class="na">enter&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;addTodo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span> &lt;span class="na">v-for&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;todo in todos&amp;#34;&lt;/span> &lt;span class="na">:key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;todo.id&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{todo.title}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">reactive&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">toRefs&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">val&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">todos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">reactive&lt;/span>&lt;span class="p">([&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;åƒé¥­&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ç¡è§‰&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;lsp&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kc">false&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">addTodo&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">todos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">todos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">done&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">val&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">todos&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">addTodo&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆ©ç”¨å‡½æ•¸æˆ‘å€‘å¯ä»¥æŠŠåŠŸèƒ½å®Œæ•´ç¨ç«‹çš„æ‹†åˆ†æˆæ¨¡å¡Šæˆ–è€…å‡½æ•¸ï¼Œæ–¹ä¾¿çµ„ç¹”ä»£ç¢¼ï¼Œä¸¦ä¸”è§£æ±ºäº† mixin æ··äº‚çš„å•é¡Œã€‚&lt;/p>
&lt;p>æ¯”å¦‚æˆ‘å€‘çš„ç´¯åŠ å™¨ï¼ŒæŠ½é›¢ä¸€å€‹counter.jsï¼š&lt;/p>
&lt;h5 id="counterjs-1">counter.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">computed&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">useCounter&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">add&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">++&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="kr">double&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()=&amp;gt;&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">double&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">add&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç›´æ¥ä½¿ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">import { reactive, ref, toRefs } from &amp;#39;vue&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ import useCounter from &amp;#39;./counter&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span>export default {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> setup(){
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> let val = ref(&amp;#39;&amp;#39;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ let { count,double,add } = useCounter()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span> return {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> val, todos, addTodo,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ count, double, add
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†ä¾†ä¸€å€‹é¼ æ¨™ä½ç½®ä¹Ÿä¸åœ¨è©±ä¸‹ï¼Œè€Œä¸”å¯ä»¥å¾ˆå¥½åœ°åˆ©ç”¨è§£æ§‹è³¦å€¼çš„åˆ¥åï¼Œè§£æ±º mixin çš„å‘½åè¡çªå•é¡Œï¼š&lt;/p>
&lt;h5 id="usemousejs-1">useMouse.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">onMounted&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">onUnmounted&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">computed&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">useMouse&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pageX&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="kr">double&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()=&amp;gt;&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onMounted&lt;/span>&lt;span class="p">(()=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;mousemove&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">update&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onUnmounted&lt;/span>&lt;span class="p">(()=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">removeEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;mousemove&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">update&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">double&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¨¡æ¿è£¡ç›´æ¥ç”¨ doubelXï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">double&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">add&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCounter&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">double&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">doubleX&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useMouse&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">val&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">todos&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">addTodo&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">double&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">add&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">doubleX&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="script-setup">script setup&lt;/h2>
&lt;blockquote>
&lt;p>ä¸éæœ‰çš„åŒå­¸å¯èƒ½ï¼Œé‚„æœ‰ä¸€å€‹å°å°çš„åæ§½ï¼Œé‚£å°±æ˜¯ setup å‡½æ•¸æœ€å¾Œçš„ return ä¹Ÿæ˜¯é›†ä¸­çš„ï¼Œå¦‚æœè¡Œæ•¸å¤ªå¤šï¼Œä¸€æ¨£æœƒæ©«æ¢ä¸€ä¸‹ä¸‹ã€‚&lt;br>
é€™å€‹å¥½è§£æ±ºï¼Œå› ç‚ºæœ¬èº«æˆ‘å€‘å¯ä»¥æŠŠ todos ä¹ŸæŠ½é›¢æˆå‡½æ•¸ï¼Œé€™æ¨£ setup å°±å…¨éƒ¨æ˜¯æ•¸æ“šçš„ä¾†æºï¼Œéå¸¸ç²¾ç°¡çµ²æ»‘ï¼š&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">useCounter&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./counter&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">useMouse&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./mouse&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">useTodo&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./todos&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">todos&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">addTodo&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useTodo&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">double&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">add&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCounter&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">double&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">doubleX&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useMouse&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">val&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">todos&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">addTodo&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">double&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">add&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">doubleX&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ˜¯ä¸æ˜¯è³Šçˆ½å‘¢ï¼Œå¦‚æœæœ‰äº›åŒå­¸å°±æ˜¯ä¸æƒ³å•¥éƒ½æŠ½é›¢ï¼Œé‚„æ˜¯è¦ºå¾—çµ±ä¸€ return å¾ˆéº»ç…©ï¼Œ æˆ‘å€‘å¯ä»¥ä½¿ç”¨ vue3 çš„ setup script åŠŸèƒ½ï¼ŒæŠŠ setup é€™å€‹é…ç½®ä¹Ÿå„ªåŒ–æ‰ä¸€å€‹åŠŸèƒ½ export ä¸€æ¬¡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">useCounter&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./counter&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">useMouse&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./mouse&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">useTodo&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./todos&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">todos&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">addTodo&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useTodo&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">todos&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">addTodo&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">double&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">add&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCounter&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">double&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">add&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">double&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">doubleX&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useMouse&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">doubleX&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fvuejs%2Frfcs%2Fblob%2Fsfc-improvements%2Factive-rfcs%2F0000-sfc-script-setup.md" target="_blank" rel="noopener"
>å…·é«”çœ‹é€™è£¡&lt;/a>&lt;/p>
&lt;hr></description></item><item><title>Javascript ES6 ç‰¹æ€§</title><link>https://wayneblog.ga/2022-08-10/javascript-es6/</link><pubDate>Wed, 10 Aug 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-08-10/javascript-es6/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52276889089_0bb5aa46f7_o.png" alt="Featured image of post Javascript ES6 ç‰¹æ€§" />&lt;style>
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://www.youtube.com/playlist?list=PLmOn9nNkQxJFlj86lvBSpC2UsNw-pdmdq" target="_blank" rel="noopener"
>ã€å°šç¡…è°·ã€‘ES6æ•™ç¨‹ - æ¶µç›– ES6~ES11&lt;/a>&lt;br>
&lt;a class="link" href="https://book.vue.tw/appendix/es6.html" target="_blank" rel="noopener"
>çµ¦é€²å…¥ Vue.js å‰çš„ ES6 å¿…å‚™çŸ¥è­˜&lt;/a>&lt;br>
&lt;a class="link" href="https://blog.csdn.net/kjssjj12/article/details/107090338" target="_blank" rel="noopener"
>è¶…çº§å®ç”¨çš„ ES6 ç‰¹æ€§&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/users/20110579/ironman/1846" target="_blank" rel="noopener"
>ã€è©³ç´° MDN æ–‡ä»¶ã€‘&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="ecmascript">ECMAScript&lt;/h2>
&lt;ul>
&lt;li>&lt;code>ES&lt;/code> æ˜¯ &lt;code>ECMAScript&lt;/code> çš„ç°¡ç¨±ï¼Œ&lt;code>ECMAScript&lt;/code> æ˜¯è…³æœ¬èªè¨€çš„è¦ç¯„ã€‚è€Œæˆ‘å€‘æ‰€ä½¿ç”¨çš„ &lt;code>JavaScript&lt;/code> æ˜¯ &lt;code>ECMAScript&lt;/code> çš„ä¸€ç¨®å¯¦ç¾ã€‚&lt;/li>
&lt;li>ç°¡è¨€ä¹‹ï¼šECMAåšå‡ºè¦ç¯„ï¼Œå„ç€è¦½å™¨ä¾ç…§è¦ç¯„åšå‡ºå¯¦ç¾ï¼Œå› è€Œä¸åŒç€è¦½å™¨æœƒæœ‰å…¼å®¹æ€§ä¸åŒçš„æƒ…æ³ã€‚&lt;/li>
&lt;li>&lt;code>ES6&lt;/code> æ˜¯ &lt;code>ES&lt;/code> çš„ç¶“å…¸ç‰ˆæœ¬ï¼Œæ˜¯å‰ç«¯å·¥ç¨‹å¸«å´—ä½çš„é«˜é »éœ€æ±‚ï¼Œæ˜¯å‰ç«¯é–‹ç™¼å·¥ç¨‹å¸«æ±‚è·çš„å¿…å‚™æŠ€èƒ½ã€‚&lt;/li>
&lt;li>ç¾éšæ®µå‰ç«¯è¡Œæ¥­ç™¼å±•è¿…çŒ›ï¼Œå‰ç«¯æŠ€è¡“ä¹Ÿåœ¨é«˜é€Ÿè¿­ä»£ï¼Œ ES6-ES11 è¦èŒƒå¢åŠ äº†å¾ˆå¤š &lt;code>JavaScript&lt;/code> æ–°ç‰¹æ€§ã€‚ &lt;code>ES&lt;/code> æ–°ç‰¹æ€§å·²ç¶“æˆç‚ºå‰ç«¯æŠ€è¡“ç™¼å±•çš„è¶¨å‹¢ï¼Œèªæ³•ç°¡æ½”ï¼ŒåŠŸèƒ½è±å¯Œï¼Œéƒ¨åˆ†ç‰¹æ€§é‚„æœ‰æ€§èƒ½æå‡ï¼Œå‰ç«¯é–‹ç™¼ä¸‰å¤§æ¡†æ¶ &lt;code>Vue&lt;/code>ã€&lt;code>React&lt;/code>ã€&lt;code>Angular&lt;/code> éƒ½ç”¨åˆ°äº†å¤§é‡çš„æ–°ç‰¹æ€§ä»£ç¢¼ï¼Œæ¡†æ¶çš„å‡ç´šä¹Ÿåœ¨å‘è‘—æ–°ç‰¹æ€§èªæ³•é æ”ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="var--let-èˆ‡-const">&lt;code>var&lt;/code> ã€ &lt;code>let&lt;/code> èˆ‡ &lt;code>const&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>&lt;code>var&lt;/code> ã€ &lt;code>let&lt;/code> èˆ‡ &lt;code>const&lt;/code> åœ¨ Javascript éƒ½æ˜¯ç”¨ä¾†å®£å‘Šè®Šæ•¸çš„èªæ³•ï¼Œæœ€å¤§çš„å·®åˆ¥æ˜¯ä»–å€‘çš„scope(è®Šæ•¸æœ‰æ•ˆç¯„åœ)çš„ä¸åŒã€‚åˆ‡åˆ†&lt;code>var&lt;/code>ä½œç”¨ç¯„åœçš„æœ€å°å–®ä½ç‚º &lt;code>function&lt;/code>ï¼Œè€Œ &lt;code>let&lt;/code> èˆ‡ &lt;code>const&lt;/code> çš„ä½œç”¨ç¯„åœæ˜¯ &lt;code>block&lt;/code> ä¹Ÿå°±æ˜¯ä¿—ç¨±çš„å¤§æ‹¬è™Ÿï¼š&lt;code>{ }&lt;/code> ä¾†åˆ‡åˆ†ã€‚&lt;/li>
&lt;li>&lt;code>const&lt;/code> æ‰€å®£å‘Šçš„è®Šæ•¸é‚„æœ‰å¦ä¸€å€‹ç‰¹æ€§æ˜¯ç„¡æ³•è¢«é‡æ–°è³¦å€¼ (re-assign)ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="let-ç‰¹æ€§">&lt;code>let&lt;/code> ç‰¹æ€§&lt;/h3>
&lt;ol>
&lt;li>var å¯ä»¥é‡è¤‡è²æ˜ï¼Œä½† let ä¸èƒ½é‡è¤‡è²æ˜ã€‚&lt;/li>
&lt;/ol>
&lt;h5 id="æ¼”ç¤º">æ¼”ç¤ºï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">testA&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;AAA&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">testA&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;BBB&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// ä¸æœƒå ±éŒ¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">testB&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;AAA&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">testB&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;BBB&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// æœƒå ±éŒ¯
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>let ç‚ºå¡Šç´šä½œç”¨åŸŸ&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>å¡Šç´šä½œç”¨åŸŸï¼šè®Šæ•¸åªåœ¨ä»£ç¢¼å¡Šè£¡é¢æœ‰æ•ˆ(&lt;code>{ ... }&lt;/code>ã€&lt;code>if else&lt;/code>ã€&lt;code>while&lt;/code>ã€&lt;code>for&lt;/code>)&lt;/li>
&lt;li>åœ¨ ES5 ä¸­ï¼Œä½œç”¨åŸŸæœ‰ï¼šå…¨å±€ã€å‡½æ•¸ã€eval(åš´æ ¼æ¨¡å¼ä¸‹)&lt;/li>
&lt;/ul>
&lt;h5 id="æ¼”ç¤º-1">æ¼”ç¤ºï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;BBB&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// &amp;#34;BBB&amp;#34;ï¼Œå› ç‚º var éå¡Šç´šä½œç”¨åŸŸï¼Œæ‰€ä»¥è²æ˜æ™‚æœƒå¾€å¤–å±¤(å…¨å±€window)æ·»åŠ é€™å€‹å±¬æ€§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;AAA&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// æœƒå ±éŒ¯ a is not defined
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>ä¸å­˜åœ¨è®Šæ•¸æå‡&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>è®Šæ•¸æå‡ï¼šä»£ç¢¼åŸ·è¡Œå‰æœƒå…ˆé€²è¡Œè®Šæ•¸æœé›†ï¼Œ&lt;code>var&lt;/code> è²æ˜çš„è®Šé‡åœ¨æœé›†æ™‚æœƒå…ˆå®šç¾©ä¸€å€‹ &lt;code>undefined&lt;/code> çš„åˆå§‹å€¼ã€‚&lt;/li>
&lt;/ul>
&lt;h5 id="æ¼”ç¤º-2">æ¼”ç¤ºï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// åœ¨ a ç”¨ var è²æ˜å‰è¼¸å‡º
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// ä¸æœƒå ±éŒ¯ï¼Œæœƒè¼¸å‡º undefined
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;AAA&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// åœ¨ b ç”¨ let è²æ˜å‰è¼¸å‡º
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// æœƒå ±éŒ¯ï¼ŒCannot access &amp;#39;b&amp;#39; before initialization
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;BBB&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>ä¸å½±éŸ¿ä½œç”¨åŸŸéˆ&lt;/li>
&lt;/ol>
&lt;h5 id="æ¼”ç¤º-3">æ¼”ç¤ºï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">school&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;å°šç¡…è°·&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">fn&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">school&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fn&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// è¼¸å‡º &amp;#34;å°šç¡…è°·&amp;#34;ï¼Œåœ¨ fn å…§æ²’æœ‰ schoolï¼Œæœƒå¾€å¤–å±¤å°‹æ‰¾
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="let-ç¶“å…¸ç¯„ä¾‹å¯¦è¸">let ç¶“å…¸ç¯„ä¾‹å¯¦è¸&lt;/h3>
&lt;ul>
&lt;li>å¯¦ä½œé»æ“Š div æ™‚åˆ‡æ›é¡è‰²&lt;/li>
&lt;/ul>
&lt;h5 id="ä»£ç¢¼">ä»£ç¢¼ï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;container&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;page-header&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> é»æ“Šåˆ‡æ›é¡è‰²
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;item&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;item&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;item&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç²å– div å…ƒç´ å°è±¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">items&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementsByClassName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;item&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// éæ­·ä¸¦ç¶å®šäº‹ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">items&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">item&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">onclick&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ä¿®æ”¹ç•¶å‰å…ƒç´ çš„èƒŒæ™¯é¡è‰²
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æœ€ä½³å¯«æ³•æ‡‰ç‚ºï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">background&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;pink&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å¸¸è¦‹éŒ¯èª¤å¯«æ³•ï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// items[i].style.background = &amp;#34;pink&amp;#34;;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// åŸå› ï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// i ä½¿ç”¨ var ä¾†è²æ˜ï¼Œvar è²æ˜çš„è®Šæ•¸éå¡Šç´šä½œç”¨åŸŸï¼Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// å› æ­¤ i è¢«è²æ˜åœ¨å…¨å±€(window)ï¼Œæ­¤è™•å– i æœƒç™¼ç¾ window.i å·²ç¶“ç­‰æ–¼ 3
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ‰€ä»¥ items[3].style æœƒæ‰¾ä¸åˆ°ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">//
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// ä¿®æ­£æ–¹å¼ï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// å°‡ i æ”¹ç”¨ let ä¾†è²æ˜ï¼Œè®“ i åªå­˜åœ¨æ–¼ for è¿´åœˆä¸­ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="const-ç‰¹æ€§">const ç‰¹æ€§&lt;/h3>
&lt;ol>
&lt;li>ä¸€å®šè¦è³¦åˆå§‹å€¼ï¼Œä¸”è²æ˜å¾Œå€¼ä¸èƒ½è¢«ä¿®æ”¹ã€‚&lt;/li>
&lt;li>ä¸€èˆ¬å¸¸æ•¸ä½¿ç”¨å¤§å¯«(æ·ºè¦å‰‡)ã€‚&lt;/li>
&lt;li>ä¹Ÿæ˜¯å¡Šç´šä½œç”¨åŸŸ&lt;/li>
&lt;/ol>
&lt;h5 id="æ¼”ç¤º-4">æ¼”ç¤ºï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">PLAYER&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;UZI&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">PLAYER&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// æœƒå ±éŒ¯ï¼ŒPLAYER is not defined
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>å°æ–¼ Array å’Œ Object çš„å…ƒç´ ä¿®æ”¹ï¼Œä¸ç®—å°å¸¸æ•¸çš„ä¿®æ”¹ï¼Œä¸æœƒå ±éŒ¯ã€‚&lt;/li>
&lt;/ol>
&lt;h5 id="æ¼”ç¤º-5">æ¼”ç¤ºï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">TEAM&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;UZI&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;MXLG&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Ming&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Letme&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">TEAM&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Meiko&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// ä¸æœƒå ±éŒ¯ï¼Œå› ç‚ºè®Šæ•¸æ‰€æŒ‡å‘çš„åœ°å€æ²’æœ‰æ”¹è®Š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å‡½å¼çš„åƒæ•¸é»˜èªå€¼">å‡½å¼çš„åƒæ•¸é»˜èªå€¼&lt;/h2>
&lt;ul>
&lt;li>åœ¨ ES5 ä¸­å¿…é ˆé€™éº¼å¯«ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">printText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">text&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">text&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="s2">&amp;#34;default&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>åœ¨ ES6 ä»¥å¾Œå¯ä»¥é€™æ¨£ç°¡å¯«å±¬æ€§ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">printText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">text&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;default&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="äºŒé€²åˆ¶èˆ‡å…«é€²åˆ¶å­—é¢é‡">äºŒé€²åˆ¶èˆ‡å…«é€²åˆ¶å­—é¢é‡&lt;/h2>
&lt;ul>
&lt;li>ES6 æ”¯æŒäºŒé€²åˆ¶èˆ‡å…«é€²åˆ¶çš„å­—é¢é‡ï¼Œé€šéåœ¨æ•¸å­—å‰é¢æ·»åŠ  &lt;code>0o&lt;/code> æˆ–è€… &lt;code>0O&lt;/code> å³å¯å°‡å…¶è½‰æ›ç‚º&lt;span class="focus">å…«é€²åˆ¶å€¼&lt;/span>ã€æ·»åŠ  &lt;code>0b&lt;/code> æˆ–è€… &lt;code>0B&lt;/code> å³å¯å°‡å…¶è½‰æ›ç‚º&lt;span class="focus">äºŒé€²åˆ¶å€¼&lt;/span>ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">oValue&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;0o10&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">oValue&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; 8
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">bValue&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mb">0b10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">bValue&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; 2
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="es-module-èˆ‡-import--export">ES Module èˆ‡ import ã€ export&lt;/h2>
&lt;ul>
&lt;li>Javascript è‡ªå¾ ES6 é–‹å§‹æ–°å¢äº†æ¨¡çµ„ç³»çµ±(ES Module)ï¼Œæˆ‘å€‘å¯ä»¥å°‡æ¯å€‹ Javascript çš„æª”æ¡ˆç•¶ä½œæ˜¯ä¸€å€‹ç¨ç«‹çš„æ¨¡çµ„ä¾†çœ‹å¾…ï¼Œåœ¨ A æª”æ¡ˆåŒ¯å‡º(export)åœ¨ B æª”æ¡ˆåŒ¯å…¥(import)ã€‚&lt;/li>
&lt;/ul>
&lt;h5 id="ajs">a.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">aString&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;This is A String&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">aFunction&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;A Function test&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">aObject&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="bjs">b.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">aString&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">aFunction&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">aObject&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s2">&amp;#34;./a.js&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">aString&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; &amp;#34;This is A String&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">aObject&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; { a: 1 }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">aFounction&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; &amp;#34;A Function test&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ç•¶ç„¶åœ¨ &lt;code>export&lt;/code> ä¹Ÿå¯ä»¥ä¸ç”¨çµ¦è®Šæ•¸åç¨±ï¼š&lt;/li>
&lt;/ul>
&lt;h5 id="cjs">c.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Hello 008 JS!!!&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>åœ¨å¦ä¸€å€‹æª”æ¡ˆå°±å¯ä»¥é€™æ¨£ä¾†ä½¿ç”¨ï¼š&lt;/li>
&lt;/ul>
&lt;h5 id="djs">d.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">greeting&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s2">&amp;#34;./c.js&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">greeting&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; &amp;#34;Hello 008 JS!!!&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="ç®­é ­å‡½æ•¸èˆ‡-this">ç®­é ­å‡½æ•¸èˆ‡ &lt;code>this&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>å¾ ES6 é–‹å§‹æ–°å¢äº†ä¸€ç¨®å«åš ã€Œç®­é ­å‡½å¼è¡¨ç¤ºå¼ã€ (Arrow Function expression) çš„å‡½å¼è¡¨é”å¼ã€‚å¿«é€Ÿçœ‹ä¸€ä¸‹ï¼Œå¦‚ä½•å°‡ä¸€èˆ¬çš„å‡½å¼è½‰æ›æˆç®­é ­å‡½å¼çš„å¯«æ³•ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">plus&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">numA&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">numB&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">numA&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">numB&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>é¦–å…ˆæˆ‘å€‘æŠŠåƒæ•¸å¾€å‰æï¼Œç„¶å¾ŒæŠŠé—œéµå­— &lt;code>function&lt;/code> åˆªæ‰æ”¹æˆç®­é ­ç¬¦è™Ÿ &lt;code>=&amp;gt;&lt;/code>ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">plus&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">numA&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">numB&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">numA&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">numB&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>å¦‚æœé€™å€‹å‡½å¼åªæ˜¯æƒ³è¦å›å‚³æŸå€‹é‹ç®—çµæœçš„æ™‚å€™ï¼Œå¯ä»¥å°‡ &lt;code>return&lt;/code> ä»¥åŠå¤§æ‹¬è™Ÿ &lt;code>{ }&lt;/code> çœç•¥ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">plus&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">numA&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">numB&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">numA&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">numB&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>è€Œåªæœ‰ä¸€å€‹åƒæ•¸çš„æ™‚å€™ï¼Œåƒæ•¸å‰é¢çš„å°æ‹¬è™Ÿ&lt;code>( )&lt;/code>å‰‡å¯ä»¥çœç•¥ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">saySomething&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">msg&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">saySomething&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Hello!&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; &amp;#34;Hello!&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ç®­é ­å‡½å¼ä½¿ç”¨ &lt;code>this&lt;/code> æ™‚ï¼Œé€™æ™‚ &lt;code>this&lt;/code> æœƒ&lt;span class="focus">æŒ‡å‘ç®­é ­å‡½å¼å¤–é¢çš„ &lt;code>this&lt;/code>&lt;/span>ï¼Œé€™å€‹è¦å‰‡èˆ‡åŸæœ¬ &lt;code>function&lt;/code> æ‰€å®£å‘Šçš„å‡½å¼ä¸åŒï¼Œè€Œä¸”ç®­é ­å‡½å¼ç„¡æ³•é€é &lt;code>bind()&lt;/code> å¼·åˆ¶æŒ‡å®šè£¡é¢çš„ &lt;code>this&lt;/code>ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="å­—ä¸²æ¨¡æ¿-template-literals">å­—ä¸²æ¨¡æ¿ (Template literals)&lt;/h2>
&lt;ul>
&lt;li>ä»¥å¾€æˆ‘å€‘åœ¨çµ„åˆ JavaScript çš„è®Šæ•¸èˆ‡ HTML æ¨¡æ¿çš„æ™‚å€™ï¼Œå¤§å¤šæœƒé€éã€Œå­—ä¸²çµåˆã€ &lt;code>+&lt;/code> çš„æ¨¡å¼ï¼Œæˆ–é€éé™£åˆ—ä¾†æ–°å¢å­—ä¸²ï¼Œæœ€å¾Œå†ç”¨ &lt;code>[].join(&amp;quot;&amp;quot;)&lt;/code> çš„æ–¹å¼ä¸²æ¥èµ·ä¾†ã€‚ä½†è‡ª ES6 èµ·ï¼Œæˆ‘å€‘å¯ä»¥é€éå­—ä¸²æ¨¡æ¿çš„èªæ³•ï¼Œå°‡è®Šæ•¸ã€é‹ç®—å¼ç­‰æ’å…¥è‡³æˆ‘å€‘çš„ç¶²é æ¨¡æ¿ç•¶ä¸­ï¼Œåƒé€™æ¨£ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç”¨ã€Œ`...`ã€å–ä»£å–®/é›™å¼•è™Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="sb">`string text &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">expression&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> string text`&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>é€™æ¨£æˆ‘å€‘å°±å¯ä»¥å°‡é€™å€‹ &lt;code>expression&lt;/code> æ‰€ä»£è¡¨çš„é‹ç®—å¼æˆ–æ•¸å€¼ç½®å…¥åˆ°å­—ä¸²è£¡é ­äº†ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="è§£æ§‹è³¦å€¼-destructuring-assignment">è§£æ§‹è³¦å€¼ (Destructuring assignment)&lt;/h2>
&lt;ul>
&lt;li>ES6 æä¾›äº†è§£æ§‹è³¦å€¼çš„èªæ³•ï¼Œå¯ä»¥å°‡é™£åˆ—æˆ–è€…ç‰©ä»¶è£¡é¢çš„è³‡æ–™è§£é–‹è®Šæˆç¨ç«‹çš„è®Šæ•¸ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">42&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">displayName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;jdoe&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fullName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">firstName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;John&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lastName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Doe&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">displayName&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fullName&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; 42
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">displayName&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; &amp;#34;jdoe&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fullName&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; { firstName: &amp;#34;John&amp;#34;, lastName: &amp;#34;Doe&amp;#34; }
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>é™¤äº†ç‰©ä»¶ä»¥å¤–ï¼Œé™£åˆ—ä¹Ÿå¯ä»¥ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; 2
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="-å±•é–‹é‹ç®—å­-spread-operator--å…¶é¤˜é‹ç®—å­-rest-operator">&lt;code>...&lt;/code> å±•é–‹é‹ç®—å­ (Spread Operator) / å…¶é¤˜é‹ç®—å­ (Rest Operator)&lt;/h2>
&lt;ul>
&lt;li>é›–ç„¶ ES6 æä¾›çš„å±•é–‹é‹ç®—å­èˆ‡å…¶é¤˜é‹ç®—å­çš„èªæ³•éƒ½æ˜¯ &lt;code>...&lt;/code>ï¼Œä¸éå®ƒå€‘å…©è€…æ‰€ä»£è¡¨çš„æ¶µæ„é‚„æ˜¯ä¸å¤ªä¸€æ¨£ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="å±•é–‹é‹ç®—å­">å±•é–‹é‹ç®—å­&lt;/h3>
&lt;ul>
&lt;li>å±•é–‹é‹ç®—å­é€šå¸¸æœƒç”¨åœ¨é™£åˆ—ï¼Œæˆ–è€…æ˜¯å‡½å¼çš„åƒæ•¸ï¼Œå¦‚ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">frameworks&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Vue.js&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Angular&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;React&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Awesome&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">frameworks&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; [&amp;#34;Awesome&amp;#34;, &amp;#34;Vue.js&amp;#34;, &amp;#34;Angular&amp;#34;, &amp;#34;React&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å…¶é¤˜é‹ç®—å­">å…¶é¤˜é‹ç®—å­&lt;/h3>
&lt;ul>
&lt;li>å»¶çºŒå‰é¢çš„ä¾‹å­ï¼Œæˆ‘å€‘å¯ä»¥é€é ã€Œå…¶é¤˜é‹ç®—å­ã€ å°‡å‰©ä¸‹çš„éƒ¨åˆ†æ‹†è§£å‡ºä¾†ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; [&amp;#34;Awesome&amp;#34;, &amp;#34;Vue.js&amp;#34;, &amp;#34;Angular&amp;#34;, &amp;#34;React&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">others&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">arr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; &amp;#34;Awesome&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; &amp;#34;Vue.js&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">others&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; &amp;#34;Angular&amp;#34;, &amp;#34;React&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>åƒé€™æ¨£ï¼Œæˆ‘å€‘å¯ä»¥æ­é…è§£æ§‹è³¦å€¼çš„èªæ³•ï¼Œå°‡ &lt;code>arr&lt;/code> é™£åˆ—æ‹†è§£è™•ä¾†ï¼Œä¸¦å°‡å‰©é¤˜çš„å…ƒç´ é€é &lt;code>...others&lt;/code> åˆ†é›¢ã€‚&lt;/li>
&lt;li>ç•¶ç„¶ï¼Œä½¿ç”¨åœ¨ç‰©ä»¶ä¸Šä¹Ÿæ˜¯å¯ä»¥çš„ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å…¶é¤˜ Properties
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">z&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; 2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">z&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; { a: 3, b: 4 }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å±•é–‹ Properties
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">...&lt;/span>&lt;span class="nx">z&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; { x: 1, y: 2, a: 3, b: 4 }
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;span class="focus">å…¶é¤˜é‹ç®—å­&lt;/span>æ‰€åˆ†é›¢çš„éƒ¨åˆ†åªæ˜¯é™£åˆ—æˆ–ç‰©ä»¶çš„&lt;span class="focus">ã€Œæ·ºæ‹·è²ã€&lt;/span>ï¼Œè‹¥åœ¨å¤šå±¤ç‰©ä»¶ä½¿ç”¨æ™‚è¦ç‰¹åˆ¥å°å¿ƒã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="promise-ç‰©ä»¶">&lt;code>Promise&lt;/code> ç‰©ä»¶&lt;/h2>
&lt;ul>
&lt;li>ç‚ºäº†è§£æ±ºéå»åŒæ­¥èˆ‡éåŒæ­¥çš„å•é¡Œï¼ŒES6 æä¾›äº† &lt;code>Promise&lt;/code> ç‰©ä»¶ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">myPromiseFunc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">someValue&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// å®Œæˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// reject(&amp;#34;failure reason&amp;#34;); // æ‹’çµ•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ç•¶ &lt;code>Promise&lt;/code> çš„ä»»å‹™è¢«å®Œæˆçš„æ™‚å€™ï¼Œæˆ‘å€‘å°±å¯ä»¥å‘¼å« &lt;code>resolve()&lt;/code>ï¼Œç„¶å¾Œå°‡å–å¾—çš„è³‡æ–™å‚³éå‡ºå»ã€‚ æˆ–æ˜¯èªªæƒ³è¦æ‹’çµ•é€™å€‹ &lt;code>Promise&lt;/code>ï¼Œé‚£éº¼å°±è£¡é¢å‘¼å« &lt;code>reject()&lt;/code> ä¾†æ‹’çµ•ä»–ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">myAsyncFunction&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// resolve() or reject()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// é€é .then() ä¾†å–ä»£éå»çš„ callback hell
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">myAsyncFunction&lt;/span>&lt;span class="p">(...)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">...&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="async-èˆ‡-await">&lt;code>async&lt;/code> èˆ‡ &lt;code>await&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>åœ¨å¾Œä¾†ï¼Œå¾ &lt;code>Promise&lt;/code> ç‰©ä»¶åˆå»¶ä¼¸å‡º &lt;code>async&lt;/code> èˆ‡ &lt;code>await&lt;/code> å…©å€‹æ–°ç‰¹æ€§ï¼Œå…¶å¯¦æœ¬è³ªä¸Šæ˜¯æ›´ç°¡ä¾¿çš„èªæ³•ç³–ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="å‡è¨­æˆ‘å€‘æœ‰å…©å€‹éåŒæ­¥ä»»å‹™è¦è™•ç†ä¸¦ä¸”æˆ‘å€‘å¸Œæœ›åœ¨-asyncfunc1-åŸ·è¡Œå®Œæˆä¹‹å¾Œæ‰å»åŸ·è¡Œ-asyncfunc2">å‡è¨­æˆ‘å€‘æœ‰å…©å€‹éåŒæ­¥ä»»å‹™è¦è™•ç†ï¼Œä¸¦ä¸”æˆ‘å€‘å¸Œæœ›åœ¨ &lt;code>asyncFunc1&lt;/code> åŸ·è¡Œå®Œæˆä¹‹å¾Œæ‰å»åŸ·è¡Œ &lt;code>asyncFunc2&lt;/code>ï¼š&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">asyncFunc1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// resolve() or reject()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">asyncFunc2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">reject&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// resolve() or reject()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">asyncCall&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">async&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">result1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">asyncFunc1&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">result2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">asyncFunc2&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åƒé€™æ¨£ï¼Œé€é &lt;code>async&lt;/code> èˆ‡ &lt;code>await&lt;/code> æˆ‘å€‘å°±å¯ä»¥æ“ºè„«éå»ä¸€å±¤å±¤ &lt;code>callback&lt;/code> çš„æƒ¡å¤¢ï¼Œç¨‹å¼ç¢¼ä¹Ÿæ›´åŠ ç°¡æ½”ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ç°¡å¯«å±¬æ€§">ç°¡å¯«å±¬æ€§&lt;/h2>
&lt;ul>
&lt;li>åœ¨ ES5 ä¸­å¿…é ˆé€™éº¼å¯«ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">createCoord&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">y&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">y&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>åœ¨ ES6 ä»¥å¾Œå¯ä»¥é€™æ¨£ç°¡å¯«å±¬æ€§ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">createCoord&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">y&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ–¹æ³•å±¬æ€§">æ–¹æ³•å±¬æ€§&lt;/h2>
&lt;ul>
&lt;li>åœ¨ ES5 ä¸­å¿…é ˆé€™éº¼å¯«ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">math&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">add&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sub&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">multiply&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>åœ¨ ES6 ä»¥å¾Œå¯ä»¥é€™æ¨£ç°¡å¯«å±¬æ€§ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">math&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sub&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">multiply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="é™£åˆ—æ–¹æ³•">é™£åˆ—æ–¹æ³•&lt;/h2>
&lt;h4 id="es6-å¼•å…¥äº†è¨±å¤šæœ‰ç”¨çš„é™£åˆ—æ–¹æ³•ä¾‹å¦‚">ES6 å¼•å…¥äº†è¨±å¤šæœ‰ç”¨çš„é™£åˆ—æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š&lt;/h4>
&lt;ul>
&lt;li>find()ï¼šæŸ¥æ‰¾é™£åˆ—ä¸­çš„æˆå“¡ï¼Œè¿”å› null è¡¨ç¤ºæ²’æ‰¾åˆ°&lt;/li>
&lt;li>findIndex()ï¼šæŸ¥æ‰¾é™£åˆ—æˆå“¡çš„ç´¢å¼•&lt;/li>
&lt;li>some()ï¼šæª¢æŸ¥æŸå€‹æ–·è¨€æ˜¯å¦è‡³å°‘ä¸€å€‹æˆå“¡åœ¨é™£åˆ—ä¸­&lt;/li>
&lt;li>includesï¼šé™£åˆ—æ˜¯å¦åŒ…å«æŸé …ç›®&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">array&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[{&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">checked&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="p">}];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; { id: 2 }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">findIndex&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">arr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">some&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">checked&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">numberArray&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">numberArray&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">includes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="es6-çš„-class">ES6 çš„ class&lt;/h2>
&lt;ul>
&lt;li>ES6 æ”¯æŒ &lt;code>class&lt;/code> èªæ³•ï¼Œä½†ä¸æ˜¯æ–°çš„å°è±¡ç¹¼æ‰¿æ¨¡å‹ï¼Œåªæ˜¯åŸå‹éŠçš„èªæ³•ç³–ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="å‡½å¼ä¸­ä½¿ç”¨-static-é—œéµå­—å®šç¾©æ§‹é€ å‡½å¼çš„æ–¹æ³•èˆ‡å±¬æ€§">å‡½å¼ä¸­ä½¿ç”¨ &lt;code>static&lt;/code> é—œéµå­—å®šç¾©æ§‹é€ å‡½å¼çš„æ–¹æ³•èˆ‡å±¬æ€§ï¼š&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Student&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;I&amp;#39;m a student.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">study&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;study!&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">static&lt;/span> &lt;span class="nx">read&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Reading Now.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">Student&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; Function
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">stu&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Student&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; &amp;#34;I&amp;#39;m a student.&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">stu&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">study&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; &amp;#34;study!&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">stu&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">read&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; &amp;#34;Reading Now.&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="class-çš„ç¹¼æ‰¿extends">&lt;code>class&lt;/code> çš„ç¹¼æ‰¿(&lt;code>extends&lt;/code>)&lt;/h2>
&lt;ul>
&lt;li>&lt;code>extends&lt;/code> å…è¨±ä¸€å€‹å­é¡ç¹¼æ‰¿çˆ¶é¡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå­é¡çš„ constructor å‡½å¼ä¸­éœ€è¦åŸ·è¡Œ supre() å‡½å¼ã€‚&lt;/li>
&lt;li>ç•¶ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨å­é¡æ–¹æ³•ä¸­èª¿ç”¨çˆ¶é¡çš„æ–¹æ³•ï¼Œå¦‚ &lt;code>supre.parentMethodName()&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;code>class&lt;/code> çš„è²æ˜ä¸æœƒæå‡ &lt;code>hoisting&lt;/code> ï¼Œå¦‚æœä½ è¦ä½¿ç”¨æŸå€‹ &lt;code>class&lt;/code> ï¼Œé‚£ä½ å¿…é ˆåœ¨ä½¿ç”¨ä¹‹å‰å®šç¾©ä»–ï¼Œå¦å‰‡æœƒæ‹‹å‡º &lt;code>reference error&lt;/code> çš„éŒ¯èª¤ã€‚&lt;/li>
&lt;li>åœ¨ &lt;code>class&lt;/code> ä¸­å®šç¾©å‡½å¼ä¸éœ€è¦ä½¿ç”¨ &lt;code>function&lt;/code> é—œéµå­—ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Phone&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;I&amp;#39;m a phone.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">MI&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Phone&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">supre&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;I&amp;#39;m a phone designed by xiaomi.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">mi8&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">MI&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; &amp;#34;I&amp;#39;m a phone.&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; &amp;#34;I&amp;#39;m a phone designed by xiaomi.&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="class-çš„-super-æ–¹æ³•">&lt;code>class&lt;/code> çš„ &lt;code>super&lt;/code> æ–¹æ³•&lt;/h2>
&lt;ul>
&lt;li>super é—œéµå­—è¢«ä½¿ç”¨æ–¼é€šéå‡½å¼å­˜å–çˆ¶å±¤&lt;/li>
&lt;/ul>
&lt;p>&lt;a class="link" href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/super" target="_blank" rel="noopener"
>ã€è©³ç´° MDN æ–‡ä»¶ã€‘&lt;/a>&lt;/p>
&lt;h3 id="èªæ³•">èªæ³•&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">super&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">arguments&lt;/span>&lt;span class="p">]);&lt;/span> &lt;span class="c1">// calls the parent constructor.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">super&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">functionOnParent&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">arguments&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ç•¶ä½¿ç”¨&lt;span class="focus">å»ºæ§‹å­&lt;/span>ï¼Œ&lt;code>super&lt;/code> é—œéµå­—&lt;span class="focus">å¿…é ˆå‡ºç¾&lt;/span>åœ¨ &lt;code>this&lt;/code> é—œéµå­—ä¹‹å‰ä½¿ç”¨ï¼Œ&lt;code>super&lt;/code> é—œéµå­—ä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨å‘¼å«å‡½å¼èˆ‡çˆ¶å°è±¡ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">parent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">foo&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Hello from the Parent&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">child&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">foo&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">foo&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Hello from the Child&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setPrototypeOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">child&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">parent&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">child&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">foo&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; Hello from the Parent
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; Hello from the Child
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="éåŒæ­¥è™•ç†å·¥å…·---generatorç”Ÿæˆå™¨å‡½å¼">éåŒæ­¥è™•ç†å·¥å…· - &lt;code>Generator&lt;/code>(ç”Ÿæˆå™¨å‡½å¼)&lt;/h2>
&lt;ul>
&lt;li>ç”Ÿæˆå™¨å‡½å¼&lt;/li>
&lt;li>ç”Ÿæˆå™¨å°åƒæ˜¯ç”±ä¸€å€‹ &lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/function*" target="_blank" rel="noopener"
>generator function&lt;/a> è¿”å›çš„,ä¸¦ä¸”å®ƒç¬¦åˆ&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Iteration_protocols#iterable" target="_blank" rel="noopener"
>å¯è¿­ä»£å”è­°&lt;/a>å’Œ&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Iteration_protocols#iterator" target="_blank" rel="noopener"
>è¿­ä»£å™¨å”è­°&lt;/a>ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Generator" target="_blank" rel="noopener"
>ã€è©³ç´° MDN æ–‡ä»¶ã€‘&lt;/a>&lt;/p>
&lt;h3 id="èªæ³•-1">èªæ³•&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nx">gen&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">g&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">gen&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;#34;Generator { }&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ–¹æ³•">æ–¹æ³•&lt;/h3>
&lt;ul>
&lt;li>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Generator/next" target="_blank" rel="noopener"
>Generator.prototype.next()&lt;/a>ï¼šè¿”å›ä¸€å€‹ç”± &lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/yield" target="_blank" rel="noopener"
>yield&lt;/a>è¡¨é”å¼ç”Ÿæˆçš„å€¼ã€‚&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Generator/return" target="_blank" rel="noopener"
>Generator.prototype.return()&lt;/a>ï¼šè¿”å›çµ¦å®šçš„å€¼ä¸¦çµæŸç”Ÿæˆå™¨ã€‚&lt;/li>
&lt;li>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Generator/throw" target="_blank" rel="noopener"
>Generator.prototype.throw()&lt;/a>ï¼šå‘ç”Ÿæˆå™¨æ‹‹å‡ºä¸€å€‹éŒ¯èª¤ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="ç¯„ä¾‹ä¸€å€‹ç„¡é™è¿­ä»£å™¨">ç¯„ä¾‹ï¼šä¸€å€‹ç„¡é™è¿­ä»£å™¨&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nx">idMaker&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span> &lt;span class="nx">index&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">gen&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">idMaker&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// &amp;#34;Generator { }&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">gen&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">next&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; 0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">gen&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">next&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">gen&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">next&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;gt;&amp;gt;&amp;gt; 2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç”Ÿæˆå™¨å°è±¡">ç”Ÿæˆå™¨å°è±¡&lt;/h3>
&lt;ul>
&lt;li>Generator.prototype.next()ï¼šè¿”å› &lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/yield" target="_blank" rel="noopener"
>yield&lt;/a> è¡¨é”å¼ç”Ÿæˆçš„å€¼ã€‚&lt;/li>
&lt;li>Generator.prototype.close()ï¼šé—œé–‰ç”Ÿæˆå™¨ï¼Œå› æ­¤åŸ·è¡Œè©²å‡½å¼å¾Œèª¿ç”¨next()æ–¹æ³•æ™‚å°‡æœƒæ‹‹å‡º &lt;code>StopIteration&lt;/code> éŒ¯èª¤ã€‚&lt;/li>
&lt;li>Generator.prototype.send()ï¼šç”¨æ–¼å°‡å€¼ç™¼é€åˆ°ç”Ÿæˆå™¨ã€‚è©²å€¼ç”±&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/yield" target="_blank" rel="noopener"
>yield&lt;/a>è¡¨é”å¼è¿”å›ï¼Œä¸¦ä¸”è¿”å›ä¸‹ä¸€å€‹&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/yield" target="_blank" rel="noopener"
>yield&lt;/a>è¡¨é”å¼ç”Ÿæˆçš„å€¼ã€‚&lt;/li>
&lt;li>Generator.prototype.throw()ï¼šå‘ç”Ÿæˆå™¨æ‹‹å‡ºéŒ¯èª¤ã€‚&lt;/li>
&lt;/ul>
&lt;hr></description></item><item><title>JavaScriptçš„è¨˜æ†¶é«”ç©ºé–“ã€è³¦å€¼å’Œæ·±æ·ºæ‹·è²</title><link>https://wayneblog.ga/2022-08-09/js-deep-copy-vs-shallow-copy/</link><pubDate>Tue, 09 Aug 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-08-09/js-deep-copy-vs-shallow-copy/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52277851687_14d13f49a6_o.jpg" alt="Featured image of post JavaScriptçš„è¨˜æ†¶é«”ç©ºé–“ã€è³¦å€¼å’Œæ·±æ·ºæ‹·è²" />&lt;style>
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://www.itread01.com/hklfcyhk.html" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="javascriptçš„è¨˜æ†¶é«”ç©ºé–“">JavaScriptçš„è¨˜æ†¶é«”ç©ºé–“&lt;/h2>
&lt;ul>
&lt;li>åœ¨ JavaScript ä¸­ï¼Œæ¯ä¸€å€‹æ•¸æ“šéƒ½éœ€è¦ä¸€å€‹è¨˜æ†¶é«”ç©ºé–“ã€‚è¨˜æ†¶é«”ç©ºé–“åˆ†ç‚ºå…©ç¨®ï¼Œ&lt;code>æ£§è¨˜æ†¶é«”ï¼ˆstockï¼‰&lt;/code> èˆ‡ &lt;code>å †è¨˜æ†¶é«”ï¼ˆheapï¼‰&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;code>æ£§&lt;/code>æ˜¯ç³»çµ±è‡ªå‹•åˆ†é…çš„è¨˜æ†¶é«”ç©ºé–“ï¼Œç”±ç³»çµ±è‡ªå‹•é‡‹æ”¾ï¼Œ&lt;code>å †&lt;/code>å‰‡æ˜¯å‹•æ…‹åˆ†é…çš„è¨˜æ†¶é«”ï¼Œå¤§å°ä¸å®šä¸æœƒè‡ªå‹•é‡‹æ”¾ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="åŸºç¤è³‡æ–™å‹åˆ¥">åŸºç¤è³‡æ–™å‹åˆ¥&lt;/h2>
&lt;ul>
&lt;li>JavaScript ä¸­çš„åŸºç¤è³‡æ–™å‹åˆ¥ï¼Œé€™äº›å€¼éƒ½æœ‰å›ºå®šçš„å¤§å°ï¼Œå„²å­˜åœ¨ &lt;code>æ£§è¨˜æ†¶é«”&lt;/code>ä¸­ï¼Œç”±ç³»çµ±è‡ªå‹•åˆ†é…å„²å­˜ç©ºé–“ï¼Œåœ¨&lt;code>æ£§è¨˜æ†¶é«”&lt;/code>ç©ºé–“çš„å€¼ï¼Œæˆ‘å€‘å¯ä»¥ç›´æ¥é€²è¡Œæ“ä½œï¼Œå› æ­¤åŸºç¤è³‡æ–™å‹åˆ¥éƒ½æ˜¯æŒ‰ç…§å€¼è¨ªå•ã€‚&lt;/li>
&lt;li>åœ¨&lt;code>æ£§è¨˜æ†¶é«”&lt;/code>ä¸­çš„è³‡æ–™ç™¼ç”Ÿè¤‡è£½çš„è¡Œç‚ºæ™‚ï¼Œç³»çµ±æœƒè‡ªå‹•ç‚ºæ–°è®Šæ•¸é–‹é—¢ä¸€å€‹æ–°çš„è¨˜æ†¶é«”ç©ºé–“ï¼Œç•¶è¤‡è£½åŸ·è¡Œå¾Œï¼Œå…©å€‹è¨˜æ†¶é«”ç©ºé–“çš„å€¼å°±äº’ä¸å½±éŸ¿ï¼Œæ”¹è®Šå…¶ä¸­ä¸€å€‹ä¸æœƒå½±éŸ¿å¦ä¸€å€‹&lt;/li>
&lt;/ul>
&lt;h4 id="æ£§è¨˜æ†¶é«”ç©ºé–“è³‡æ–™è¤‡è£½ç¤ºä¾‹">æ£§è¨˜æ†¶é«”ç©ºé–“è³‡æ–™è¤‡è£½ç¤ºä¾‹&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`I am variable a`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//`I am variable a`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`I am variable b`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//`I am variable a`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//`I am variable b`
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å¼•ç”¨è³‡æ–™å‹åˆ¥">å¼•ç”¨è³‡æ–™å‹åˆ¥&lt;/h2>
&lt;ul>
&lt;li>å¼•ç”¨å‹åˆ¥çš„å€¼æ˜¯å„²å­˜åœ¨ &lt;code>å †è¨˜æ†¶é«”&lt;/code>ä¸­çš„ç‰©ä»¶ï¼Œåœ¨ JavaScript ä¸­æˆ‘å€‘ä¸èƒ½ç›´æ¥æ“ä½œç‰©ä»¶çš„&lt;code>å †è¨˜æ†¶é«”&lt;/code>ç©ºé–“ã€‚å› ç‚ºå¼•ç”¨å‹åˆ¥çš„å€¼éƒ½æ˜¯æŒ‰å¼•ç”¨è¨ªå•çš„ï¼Œæ‰€ä»¥åœ¨æ“ä½œç‰©ä»¶æ™‚ï¼Œå¯¦éš›ä¸Šæ˜¯æ“ä½œç‰©ä»¶çš„å¼•ç”¨è€Œä¸æ˜¯å¯¦éš›çš„ç‰©ä»¶ã€‚ å¼•ç”¨å¯ä»¥ç†è§£ç‚ºå„²å­˜åœ¨&lt;code>æ£§è¨˜æ†¶é«”&lt;/code>ä¸­çš„ä¸€å€‹åœ°å€ï¼Œè©²åœ°å€æŒ‡å‘&lt;code>å †è¨˜æ†¶é«”&lt;/code>ä¸­çš„ä¸€å€‹å¯¦éš›ç‰©ä»¶ã€‚&lt;/li>
&lt;li>å¼•ç”¨å‹åˆ¥å€¼çš„è¤‡è£½ï¼Œç³»çµ±æœƒç‚ºæ–°çš„è®Šæ•¸è‡ªå‹•åˆ†é…ä¸€å€‹æ–°çš„&lt;code>æ£§è¨˜æ†¶é«”&lt;/code>ç©ºé–“ é€™å€‹&lt;code>æ£§è¨˜æ†¶é«”&lt;/code>ç©ºé–“ï¼Œå„²å­˜è‘—èˆ‡è¢«è¤‡åˆ¶è®Šé‡ç›¸åŒçš„æŒ‡æ¨™ï¼Œå„˜ç®¡ä»–å€‘åœ¨&lt;code>æ£§è¨˜æ†¶é«”&lt;/code>ä¸­çš„è¨˜æ†¶é«”ç©ºé–“çš„ä½ç½®äº’ç›¸ç¨ç«‹ï¼Œä½†æ˜¯åœ¨&lt;code>å †è¨˜æ†¶é«”&lt;/code>ä¸­è¨ªå•åˆ°çš„ç‰©ä»¶å¯¦éš›ä¸Šæ˜¯åŒä¸€å€‹ï¼Œå› æ­¤ç•¶æˆ‘å€‘æ”¹è®Šå…¶ä¸­ä¸€å€‹ç‰©ä»¶çš„å€¼æ™‚ï¼Œå¯¦éš›ä¸Šå°±æ˜¯æ”¹è®ŠåŸä¾†çš„ç‰©ä»¶ã€‚&lt;/li>
&lt;li>&lt;code>æ£§è¨˜æ†¶é«”&lt;/code>ç©ºé–“å„²å­˜æŒ‡æ¨™ï¼ˆåœ°å€ï¼‰ï¼Œ&lt;code>å †è¨˜æ†¶é«”&lt;/code>ç©ºé–“å„²å­˜å¯¦éš›çš„ç‰©ä»¶ï¼Œæˆ‘å€‘é€šéè®Šæ•¸è¨ªå•ç‰©ä»¶æ™‚ï¼Œå¯¦éš›ä¸Šè¨ªå•çš„æ˜¯ç‰©ä»¶çš„å¼•ç”¨ï¼ˆåœ°å€ï¼‰ã€‚&lt;/li>
&lt;li>è¨˜æ†¶é«”ä¸­çš„&lt;code>æ£§å€åŸŸ&lt;/code>å­˜æ”¾è®Šæ•¸ï¼ˆåŸºæœ¬å‹åˆ¥çš„è®Šæ•¸åŒ…æ‹¬è®Šæ•¸å®£å‘Šå’Œå€¼ï¼‰ä»¥åŠæŒ‡å‘&lt;code>å †å€åŸŸ&lt;/code>å„²å­˜ä½ç½®çš„æŒ‡æ¨™ï¼ˆå¼•ç”¨å‹åˆ¥çš„è®Šæ•¸åŒ…æ‹¬è®Šæ•¸å®£å‘Šå’ŒæŒ‡å‘å…§å®¹çš„æŒ‡æ¨™ï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="sb">`I am object a`&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">type&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// {name: &amp;#34;I am object a&amp;#34;, type: &amp;#34;object&amp;#34;}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`I am object b`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// {name: &amp;#34;I am object b&amp;#34;, type: &amp;#34;object&amp;#34;}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// {name: &amp;#34;I am object b&amp;#34;, type: &amp;#34;object&amp;#34;}
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åŸºæœ¬å‹åˆ¥ç¸½çµ">åŸºæœ¬å‹åˆ¥ç¸½çµ&lt;/h2>
&lt;h4 id="åŸºæœ¬è³‡æ–™å‹åˆ¥">åŸºæœ¬è³‡æ–™å‹åˆ¥ï¼š&lt;/h4>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">åŸºæœ¬è³‡æ–™å‹åˆ¥&lt;/th>
&lt;th style="text-align:left">&lt;/th>
&lt;th>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">åŒ…æ‹¬&lt;/td>
&lt;td style="text-align:left">nullã€undefinedã€numberã€stringã€booleanã€symbol(es6)&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">å­˜æ”¾ä½ç½®&lt;/td>
&lt;td style="text-align:left">è¨˜æ†¶é«”ä¸­çš„æ£§å€åŸŸä¸­&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">æ¯”è¼ƒ&lt;/td>
&lt;td style="text-align:left">å€¼çš„æ¯”è¼ƒï¼Œåˆ¤æ–·æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœå€¼ç›¸ç­‰ï¼Œå°±ç›¸ç­‰ã€‚ä¸€èˆ¬ä½¿ç”¨ &lt;code>===&lt;/code> é€²è¡Œæ¯”è¼ƒï¼Œå› ç‚º &lt;code>==&lt;/code> æœƒé€²è¡Œå‹åˆ¥çš„è½‰æ›&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">æ‹·è²&lt;/td>
&lt;td style="text-align:left">è³¦å€¼ï¼ˆé€šé &lt;code>=&lt;/code> è³¦å€¼æ“ä½œç¬¦ä¾†è³¦å€¼ï¼‰ï¼Œå…©å€‹è®Šæ•¸çš„å€¼ä¹‹é–“ç›¸äº’æ²’æœ‰å½±éŸ¿&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">å¼•ç”¨å‹åˆ¥ç¸½çµ&lt;/th>
&lt;th style="text-align:left">&lt;/th>
&lt;th>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">åŒ…æ‹¬&lt;/td>
&lt;td style="text-align:left">é™£åˆ—ã€ç‰©ä»¶ã€å‡½å¼&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">å­˜æ”¾ä½ç½®&lt;/td>
&lt;td style="text-align:left">è¨˜æ†¶é«”çš„æ£§å€åŸŸä¸­å­˜æ”¾è®Šæ•¸å’ŒæŒ‡æ¨™ï¼Œå †å€åŸŸå„²å­˜å¯¦éš›çš„ç‰©ä»¶&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">æ¯”è¼ƒ&lt;/td>
&lt;td style="text-align:left">æ˜¯å¼•ç”¨çš„æ¯”è¼ƒï¼ˆå°±æ˜¯åœ°å€çš„æ¯”è¼ƒï¼Œè®Šæ•¸åœ¨æ£§è¨˜æ†¶é«”ä¸­å°æ‡‰çš„æŒ‡æ¨™åœ°å€ç›¸ç­‰å°±æŒ‡å‘åŒä¸€å€‹ç‰©ä»¶ï¼‰åˆ¤æ–·æ˜¯å¦ç‚ºåŒä¸€å€‹ç‰©ä»¶ï¼Œç¤ºä¾‹å¦‚ä¸‹&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="è®Šæ•¸aå’Œè®Šæ•¸bçš„å¼•ç”¨ä¸åŒç‰©ä»¶å°±ä¸æ˜¯åŒä¸€å€‹ç‰©ä»¶">è®Šæ•¸aå’Œè®Šæ•¸bçš„å¼•ç”¨ä¸åŒï¼Œç‰©ä»¶å°±ä¸æ˜¯åŒä¸€å€‹ç‰©ä»¶&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;Jay&amp;#39;&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;Jay&amp;#39;&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">a&lt;/span>&lt;span class="o">===&lt;/span>&lt;span class="nx">b&lt;/span> &lt;span class="c1">//false
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æˆ‘å€‘å°javascriptä¸­å¼•ç”¨å‹åˆ¥é€²è¡Œæ“ä½œçš„æ™‚å€™éƒ½æ˜¯æ“ä½œå…¶ç‰©ä»¶çš„å¼•ç”¨å„²å­˜åœ¨æ£§è¨˜æ†¶é«”ä¸­çš„æŒ‡æ¨™">æˆ‘å€‘å°JavaScriptä¸­å¼•ç”¨å‹åˆ¥é€²è¡Œæ“ä½œçš„æ™‚å€™ï¼Œéƒ½æ˜¯æ“ä½œå…¶ç‰©ä»¶çš„å¼•ç”¨ï¼ˆå„²å­˜åœ¨æ£§è¨˜æ†¶é«”ä¸­çš„æŒ‡æ¨™ï¼‰&lt;/h4>
&lt;hr>
&lt;h2 id="è³¦å€¼æ·±æ‹·è²å’Œæ·ºæ‹·è²-assignment-deep-copy-and-shallow-copy">è³¦å€¼ã€æ·±æ‹·è²å’Œæ·ºæ‹·è² (Assignment, deep copy and shallow copy)&lt;/h2>
&lt;ul>
&lt;li>è³¦å€¼ï¼šå…©å€‹è®Šæ•¸çš„éƒ½æŒ‡å‘åŒä¸€å€‹ç‰©ä»¶ï¼Œæ”¹è®Šå…¶ä¸­ä¸€å€‹ï¼Œå¦ä¸€å€‹ä¹Ÿæœƒå—åˆ°å½±éŸ¿ã€‚&lt;/li>
&lt;li>æ‰€è¬‚æ‹·è²å°±æ˜¯è¤‡è£½ï¼Œé€šéè¤‡è£½åŸç‰©ä»¶ç”Ÿæˆä¸€å€‹æ–°çš„ç‰©ä»¶ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="æ·ºæ‹·è²">æ·ºæ‹·è²&lt;/h3>
&lt;ul>
&lt;li>é‡æ–°åœ¨å †è¨˜æ†¶é«”ä¸­é–‹é—¢ä¸€å€‹ç©ºé–“ï¼Œæ‹·è²å¾Œæ–°ç‰©ä»¶ç²å¾—ä¸€å€‹ç¨ç«‹çš„åŸºæœ¬è³‡æ–™å‹åˆ¥ è³‡æ–™ï¼Œå’ŒåŸç‰©ä»¶å…±ç”¨ä¸€å€‹åŸç‰©ä»¶å…§çš„å¼•ç”¨å‹åˆ¥ è³‡æ–™ï¼Œæ”¹è®ŠåŸºæœ¬å‹åˆ¥ è³‡æ–™ï¼Œå…©å€‹ç‰©ä»¶äº’ä¸å½±éŸ¿ï¼Œæ”¹è®Šå…¶ä¸­ä¸€å€‹ç‰©ä»¶å…§çš„å¼•ç”¨å‹åˆ¥ è³‡æ–™ï¼Œå¦ä¸€å€‹ç‰©ä»¶æœƒå—åˆ°å½±éŸ¿ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Jay Chou&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">32&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">song&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ç™¼å¦‚é›ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">year&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">2007&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">obj1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">shallowCopy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">scObj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">prop&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">hasOwnProperty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">prop&lt;/span>&lt;span class="p">)){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">scObj&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">prop&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">prop&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">scObj&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">obj2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">shallowCopy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">obj1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;obj === obj1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;è³¦å€¼&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">obj2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;obj === obj2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;æ·ºæ‹·è²&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// true &amp;#34;obj === obj1&amp;#34; &amp;#34;è³¦å€¼&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// false &amp;#34;obj === obj2&amp;#34; &amp;#34;æ·ºæ‹·è²&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">song&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">obj2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">song&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">obj2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">song&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;é›™æˆªæ£&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">obj2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;Jay&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// {name: &amp;#34;Jay Chou&amp;#34;, age: 32, song: {name:&amp;#39;é›™æˆªæ£&amp;#39;,year:2007}}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// {name: &amp;#34;Jay Chou&amp;#34;, age: 32, song: {name:&amp;#39;é›™æˆªæ£&amp;#39;,year:2007}}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Jay&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">32&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">song&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;é›™æˆªæ£&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">year&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">2007&lt;/span>&lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="o">===&lt;/span>&lt;span class="nx">obj1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="o">===&lt;/span>&lt;span class="nx">obj2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//false
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ·±æ‹·è²">æ·±æ‹·è²&lt;/h3>
&lt;ul>
&lt;li>ä¸è«–æ˜¯ç‰©ä»¶å…§çš„åŸºæœ¬å‹åˆ¥é‚„æ˜¯å¼•ç”¨å‹åˆ¥ éƒ½è¢«å®Œå…¨æ‹·è²,æ‹·è²å¾Œå…©å€‹ç‰©ä»¶äº’ä¸å½±éŸ¿ã€‚&lt;/li>
&lt;li>ä¸€ç¨®æ¯”è¼ƒç°¡å–®å¯¦ç¾æ–¹æ³•æ˜¯ä½¿ç”¨ &lt;span class="focus">&lt;code>var dcObj = JSON.parse(JSON.stringify(obj))&lt;/code>&lt;/span>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Jay Chou&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">32&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">song&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;ç™¼å¦‚é›ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">year&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">2007&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">dcObj&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">parse&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stringify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dcObj&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// {name: &amp;#34;Jay Chou&amp;#34;, age: 32, song: {name:&amp;#39;ç™¼å¦‚é›ª&amp;#39;,year:2007}}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dcObj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">song&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">song&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">dcObj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;Jay&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">dcObj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">song&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;é›™æˆªæ£&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// {name: &amp;#34;Jay Chou&amp;#34;, age: 32, song: {name:&amp;#39;ç™¼å¦‚é›ª&amp;#39;,year:2007}}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dcObj&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//{name: &amp;#34;Jay&amp;#34;, age: 32, song: {name:&amp;#39;é›™æˆªæ£&amp;#39;,year:2007}}
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ¯”è¼ƒè³¦å€¼æ·±æ‹·è²æ·ºæ‹·è²">æ¯”è¼ƒï¼šè³¦å€¼ã€æ·±æ‹·è²ã€æ·ºæ‹·è²ï¼š&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">&lt;/th>
&lt;th style="text-align:left">&lt;/th>
&lt;th>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">è³¦å€¼&lt;/td>
&lt;td style="text-align:left">æ–°ç‰©ä»¶ä»ç„¶æŒ‡å‘åŸç‰©ä»¶ï¼Œæ”¹è®Šæ–°ç‰©ä»¶çš„&lt;code>åŸºæœ¬å‹åˆ¥&lt;/code>å’Œ&lt;code>å¼•ç”¨å‹åˆ¥&lt;/code>çš„å€¼éƒ½æœƒä½¿åŸç‰©ä»¶å°æ‡‰çš„å€¼ä¸€åŒæ”¹è®Šã€‚&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">æ·ºæ‹·è²&lt;/td>
&lt;td style="text-align:left">æ”¹è®Šæ–°ç‰©ä»¶&lt;code>åŸºæœ¬å‹åˆ¥&lt;/code>çš„å€¼ä¸æœƒä½¿åŸç‰©ä»¶å°æ‡‰çš„å€¼ä¸€èµ·æ”¹è®Šï¼Œä½†æ˜¯æ”¹è®Šæ–°ç‰©ä»¶&lt;code>å¼•ç”¨å‹åˆ¥&lt;/code>çš„å€¼æœƒä½¿åŸç‰©ä»¶å°æ‡‰çš„å€¼ä¸€åŒæ”¹è®Šã€‚&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">æ·±æ‹·è²&lt;/td>
&lt;td style="text-align:left">æ”¹è®Šæ–°ç‰©ä»¶&lt;code>åŸºæœ¬å‹åˆ¥&lt;/code>å’Œ&lt;code>å¼•ç”¨å‹åˆ¥&lt;/code>çš„å€¼ï¼Œéƒ½ä¸æœƒå½±éŸ¿åŸç‰©ä»¶ï¼Œå…©è€…äº’ç›¸ç¨ç«‹ï¼Œäº’ä¸å½±éŸ¿ã€‚&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr></description></item></channel></rss>