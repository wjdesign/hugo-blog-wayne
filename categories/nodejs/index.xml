<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Nodejs on Wayne's blog | å‰æ©çš„éƒ¨è½æ ¼ | æŠ€è¡“åšå®¢</title><link>https://wayneblog.ga/categories/nodejs/</link><description>Recent content in Nodejs on Wayne's blog | å‰æ©çš„éƒ¨è½æ ¼ | æŠ€è¡“åšå®¢</description><generator>Hugo -- gohugo.io</generator><language>zh-tw</language><lastBuildDate>Fri, 03 Feb 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://wayneblog.ga/categories/nodejs/index.xml" rel="self" type="application/rss+xml"/><item><title>3 ç¨®ä½¿ç”¨ Regex æ­£å‰‡è¡¨é”å¼å°è³‡æ–™å¤¾ä¸­çš„æ–‡å­—æª”é€²è¡Œæœå°‹èˆ‡å–ä»£çš„æ–¹æ³•</title><link>https://wayneblog.ga/2023-02-03/replace-using-regex-in-3-ways/</link><pubDate>Fri, 03 Feb 2023 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2023-02-03/replace-using-regex-in-3-ways/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52666393963_8b2453a1b5_o.jpg" alt="Featured image of post 3 ç¨®ä½¿ç”¨ Regex æ­£å‰‡è¡¨é”å¼å°è³‡æ–™å¤¾ä¸­çš„æ–‡å­—æª”é€²è¡Œæœå°‹èˆ‡å–ä»£çš„æ–¹æ³•" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://officeguide.cc/linux-sed-find-and-replace-text-in-file-tutorial-examples/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://github.com/adamreisnz/replace-in-file" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://www.npmjs.com/package/replace-in-file" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://man7.org/linux/man-pages/man1/sed.1.html" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://blog.miniasp.com/post/2023/02/02/How-to-search-and-replace-using-regex-in-3-ways" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>åœ¨æ•´ç†é–‹ç™¼ç’°å¢ƒçš„æ™‚å€™ï¼Œç¶“å¸¸æœƒæœ‰æ‰¹æ¬¡èª¿æ•´æª”æ¡ˆå…§å®¹çš„éœ€æ±‚ï¼Œæˆ‘ä»Šå¤©ç‰¹åˆ¥æ•´ç†äº† 3 ç¨®ä¸åŒçš„è§£æ±ºæ–¹æ¡ˆï¼Œé€™äº›æ–¹æ³•éƒ½å¯ä»¥çœ‹æƒ…æ³ä½¿ç”¨ï¼&lt;/p>
&lt;hr>
&lt;h2 id="linux--wsl">Linux / WSL&lt;/h2>
&lt;p>åœ¨ Linux ç’°å¢ƒä¸‹ä½¿ç”¨ &lt;code>find&lt;/code> èˆ‡ &lt;code>sed&lt;/code> å¹¾ä¹æ˜¯æ¨™æº–æ–¹æ¡ˆï¼Œé€™å¥—çµ„åˆæ‹³ç¢ºå¯¦å¿«é€Ÿåˆå¼·å¤§ï¼ğŸ‘&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">find src -name &lt;span class="s1">&amp;#39;*.ts&amp;#39;&lt;/span> -type f -exec sed -i &lt;span class="s1">&amp;#39;s/pattern\([s]\)/replacement\1/g&amp;#39;&lt;/span> &lt;span class="s1">&amp;#39;{}&amp;#39;&lt;/span> &lt;span class="se">\;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€é &lt;code>sed&lt;/code> ä¾†å–ä»£å…§å®¹çš„è©±ï¼Œåœ¨ &lt;strong>Regex&lt;/strong> èªæ³•ä¸Šç¨å¾®æœ‰é»ä¸åŒï¼Œå·¦é‚Šçš„å°æ‹¬å¼§è¦åŠ ä¸Šåæ–œç·šè·³è„« ( &lt;code>\(&lt;/code> æˆ– &lt;code>\)&lt;/code> )ï¼Œè€Œ backreference ä¹Ÿè¦ç”¨åæ–œç·šä¾†è¡¨é” ( &lt;code>\1&lt;/code>ã€&lt;code>\2&lt;/code>ã€&amp;hellip; )&lt;/p>
&lt;hr>
&lt;h2 id="windows-powershell">Windows (PowerShell)&lt;/h2>
&lt;p>åœ¨ Windows ä¸Šé¢ä½¿ç”¨ PowerShell ä¾†å¯«è…³æœ¬ï¼Œå¯è®€æ€§æœƒæ¯”è¼ƒå¥½ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">Get-ChildItem -Path &lt;span class="s1">&amp;#39;src&amp;#39;&lt;/span> -Include &lt;span class="s1">&amp;#39;*.ts&amp;#39;&lt;/span> -Recurse -Exclude reparsepoint &lt;span class="p">|&lt;/span> ForEach-Object &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">$current_file&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nv">$_&lt;/span>.FullName&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">$replace_file&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nv">$_&lt;/span>.FullName&lt;span class="k">)&lt;/span>&lt;span class="s2">.new&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># é€™è£¡ Get-Content å‰å¾Œçš„å°æ‹¬å¼§å¾ˆé‡è¦ï¼Œä¸€å®šè¦åŠ ä¸Šæ‰èƒ½å¾—åˆ° String çš„çµæœï¼ŒæŒ‡å®š utf8 ç·¨ç¢¼ä¹Ÿååˆ†é‡è¦ï¼&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">(&lt;/span>Get-Content -LiteralPath &lt;span class="nv">$current_file&lt;/span> -Encoding utf8&lt;span class="o">)&lt;/span> -replace &lt;span class="s1">&amp;#39;pattern([s])&amp;#39;&lt;/span>, &lt;span class="s1">&amp;#39;replacement$1&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Out-File -Encoding utf8 -LiteralPath &lt;span class="nv">$replace_file&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Move-Item -LiteralPath &lt;span class="nv">$replace_file&lt;/span> -Destination &lt;span class="nv">$current_file&lt;/span> -Force
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="nodejs">Node.js&lt;/h2>
&lt;p>å¦‚æœæˆ‘å€‘è¦åœ¨å‰ç«¯å°ˆæ¡ˆä¸­æ•´åˆå­—ä¸²å–ä»£çš„å·¥ä½œï¼Œåœ¨ &lt;strong>package.json&lt;/strong> çš„ &lt;strong>scripts&lt;/strong> ç›´æ¥å–ä»£æª”æ¡ˆï¼ŒåŒæ™‚åˆè¦å…¼é¡§è·¨å¹³å°çš„è©±ï¼Œæ¡ç”¨æ—¢æœ‰çš„ npm å¥—ä»¶å°±æœƒä¾†çš„æ–¹ä¾¿è¨±å¤šã€‚é€™è£¡æˆ‘æ‰¾äº†å€‹ &lt;a class="link" href="https://www.npmjs.com/package/replace-in-file" target="_blank" rel="noopener"
>replace-in-file&lt;/a> å¥—ä»¶é‚„ä¸éŒ¯ï¼ğŸ‘&lt;/p>
&lt;ol>
&lt;li>å…ˆå®‰è£åˆ°å°ˆæ¡ˆä¸­ï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D replace-in-file
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>å–ä»£å…§å®¹å¯ä»¥é€™æ¨£å¯«ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¶…å¥½ç”¨çš„ Glob èªæ³•(e.g. &lt;code>src/**/*.ts&lt;/code>)ï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx replace-in-file &lt;span class="s2">&amp;#34;/pattern([s])/g&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;replacement&lt;/span>&lt;span class="nv">$1&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> src/**/*.ts --isRegex --encoding&lt;span class="o">=&lt;/span>utf-8
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>ç”¨ Node.js å»ºç«‹ä½ çš„ç¬¬ä¸€å€‹ OpenAI LINE Bot èŠå¤©æ©Ÿå™¨äºº</title><link>https://wayneblog.ga/2022-12-12/nodejs-create-openai-line-bot/</link><pubDate>Mon, 12 Dec 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-12-12/nodejs-create-openai-line-bot/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52558908513_206844d03c_o.png" alt="Featured image of post ç”¨ Node.js å»ºç«‹ä½ çš„ç¬¬ä¸€å€‹ OpenAI LINE Bot èŠå¤©æ©Ÿå™¨äºº" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://github.com/wjdesign/gpt-ai-assistant" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://israynotarray.com/nodejs/20221210/1224824056/index.html?fbclid=IwAR0xwdgH8sRttZK93s3fMgl06EX0F4jkxhunL-oe8RArR7ISHQpTuWk-7ZE" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>æœ€è¿‘ OpenAI çš„ ChatGPT éå¸¸çš„ç«ç´…ï¼Œå‰›å¥½é€™å€‹ ChatGPT æ˜¯æœ‰æä¾› API å¯ä»¥ä¸²æ¥çš„ï¼Œä¹Ÿéå¸¸é©åˆæ•´åˆåˆ° Line Bot ä¸Šï¼Œæ‰€ä»¥é€™ä¸€ç¯‡æˆ‘å°±ä¾†ä»‹ç´¹å¦‚ä½•ä½¿ç”¨ Node.js åŸºæ–¼ OpenAI çš„ ChatGPT API ä¾†å»ºç«‹ä¸€å€‹ Line èŠå¤©æ©Ÿå™¨äººå§ï¼&lt;/p>
&lt;hr>
&lt;h2 id="ç”³è«‹-openai-api">ç”³è«‹ OpenAI API&lt;/h2>
&lt;p>é¦–å…ˆï¼Œè«‹ä½ å…ˆé€²å…¥ &lt;a class="link" href="https://openai.com/api/" target="_blank" rel="noopener"
>OpenAI&lt;/a> çš„ç¶²ç«™&lt;a class="link" href="https://chat.openai.com/auth/login" target="_blank" rel="noopener"
>è¨»å†Šæœƒå“¡&lt;/a>ï¼Œé€™é‚Šä½ å¯ä»¥é¸æ“‡ç¬¬ä¸‰æ–¹æœå‹™å¸³è™Ÿ(å¦‚ï¼šGoogleã€Microsoft)æˆ–æ˜¯ Email å¸³è™Ÿè¨»å†Šã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558365346_3bab9dd289_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>è¨»å†Šå®Œå¾Œï¼Œä½ å°±å¯ä»¥é–‹å§‹ç”³è«‹ API äº†ï¼&lt;/p>
&lt;p>å¦‚æœä½ æœ¬èº«æœ‰å¸³è™Ÿçš„è©±ï¼Œé‚£å°±ç›´æ¥ç™»å…¥ OpenAI å§ã€‚&lt;/p>
&lt;p>ç™»å…¥å¾Œï¼Œä½ æ‡‰è©²æœƒçœ‹åˆ°é€™å€‹ç•«é¢&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558908488_a90d01d093_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥è‘—æ‰¾åˆ°ä½ çš„é ­åƒé»å®ƒï¼Œæ‰¾åˆ°ã€Œ&lt;strong>View API keys&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558365326_f3562c9ffc_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ‰¾åˆ°å¾Œä½ æœƒçœ‹åˆ°ã€Œ&lt;strong>API keys&lt;/strong>ã€çš„ç”³è«‹ç•«é¢ï¼Œé»ä¸€ä¸‹ä¸‹æ–¹çš„ã€Œ&lt;strong>Create New Secret key&lt;/strong>ã€ï¼Œé€™æ¨£ä½ å°±æ‹¿åˆ°ä¸²æ¥ OpenAI çš„ keyï¼Œè«‹å…ˆæŠŠå®ƒè¨˜ä¸‹ä¾†ï¼Œå¾Œé¢æœƒç”¨åˆ°ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558908443_8cde78fd78_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>API key generated æ˜¯éå¸¸é‡è¦çš„ï¼Œå› æ­¤è«‹ä¸è¦éš¨æ„æä¾›çµ¦ä»–äººï¼Œä»¥å…é€ æˆä¸å¿…è¦çš„æå¤±ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>é‚£éº¼æˆ‘å€‘ç”³è«‹é€™å€‹æ˜¯ API Key è¦å¹¹å˜›å‘¢ï¼Ÿä¸»è¦æ˜¯ç¨å¾Œå¾Œé¢æœƒä¸²æ¥ OpenAI æ‰€æä¾›çš„ API ä¾†ä½¿ç”¨ &lt;a class="link" href="https://chat.openai.com/chat" target="_blank" rel="noopener"
>ChatGPT&lt;/a>ï¼Œå¦‚æœä½ é‚„ä¸çŸ¥é“ä»€éº¼æ˜¯ &lt;a class="link" href="https://chat.openai.com/chat" target="_blank" rel="noopener"
>ChatGPT&lt;/a> çš„è©±ï¼Œä½ å¯ä»¥è©¦è‘—ç©ä¸€ä¸‹ &lt;a class="link" href="https://chat.openai.com/chat" target="_blank" rel="noopener"
>ChatGPT&lt;/a>ï¼Œç°¡å–®ä¾†è¬› &lt;a class="link" href="https://chat.openai.com/chat" target="_blank" rel="noopener"
>ChatGPT&lt;/a> æ˜¯ä¸€å€‹éå¸¸è°æ˜ä¸”å²å®³çš„èŠå¤©æ©Ÿå™¨äººï¼Œå®ƒå¯ä»¥åšåˆ°çš„äº‹æƒ…éå¸¸å¤šï¼Œä¾‹å¦‚åƒæ˜¯&amp;hellip;&lt;/p>
&lt;ul>
&lt;li>è«‹å®ƒè¦åŠƒæ—¥æœ¬æ—…éŠè¡Œç¨‹&lt;/li>
&lt;li>å¯«ä¸€ç¯‡è¡ŒéŠ·æ–‡æ¡ˆ&lt;/li>
&lt;li>å¹«å¿™æ‰¾å‡ºç¨‹å¼ç¢¼éŒ¯èª¤&lt;/li>
&lt;li>ç¨‹å¼ç¢¼è§£é¡Œ&lt;/li>
&lt;/ul>
&lt;p>&amp;hellip;ç­‰ç­‰ï¼Œéå¸¸å¤š&lt;/p>
&lt;p>å› æ­¤æˆ‘å€‘ç”³è«‹é€™å€‹ API Key å°±æ˜¯ç”¨ä¾†ä¸²æ¥ &lt;a class="link" href="https://chat.openai.com/chat" target="_blank" rel="noopener"
>ChatGPT&lt;/a> çš„ï¼&lt;/p>
&lt;blockquote>
&lt;p>OpenAI æœ¬èº«æœ‰æä¾›å…è²»çš„é¡åº¦ï¼Œä¸‰å€‹æœˆ 18 ç¾é‡‘ï¼Œé™¤æ­¤ä¹‹å¤–ï¼ŒOpenAI çš„è¨ˆç®—æ–¹å¼æœƒå› ä½ ä½¿ç”¨çš„ &lt;code>model&lt;/code> ä¸åŒè€Œæœ‰ä¸åŒçš„è¨ˆç®—æ–¹å¼ï¼Œä¾‹å¦‚åƒæ˜¯ã€ŒDavinciã€çš„è¨ˆç®—æ–¹å¼æ˜¯ $0.0200(ç¾é‡‘) /â€Š1K tokensï¼Œå¦‚æœä½ æƒ³è¦äº†è§£æ›´å¤šçš„è©±ï¼Œå¯ä»¥åƒè€ƒ&lt;a class="link" href="https://beta.openai.com/pricing" target="_blank" rel="noopener"
>é€™é‚Š&lt;/a>ã€‚&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>é¡å¤–è£œå……&lt;/strong>&lt;br>
ä»€éº¼æ˜¯ tokensï¼Ÿ&lt;br>
tokens æ˜¯æŒ‡ä½ è¼¸å…¥çš„å­—æ•¸ï¼Œä¾‹å¦‚ï¼šã€Œæˆ‘æƒ³è¦å»æ—¥æœ¬æ—…éŠã€ï¼Œé€™å¥è©±æœ‰ 8 å€‹å­—ï¼Œå› æ­¤ tokens å°±æ˜¯ 8ã€‚&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="ç”³è«‹-line-developer">ç”³è«‹ Line Developer&lt;/h2>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘è¦ä¾†ç”³è«‹ Line Developer å¸³è™Ÿï¼Œä½ å¯ä»¥é€éé€™å€‹é€£çµå¿«é€Ÿé€²å…¥ &lt;a class="link" href="https://developers.line.biz/zh-hant/" target="_blank" rel="noopener"
>Line Developer&lt;/a> ç¶²ç«™ï¼Œç™»å…¥æ–¹å¼ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ä½¿ç”¨ LINE å¸³è™Ÿç™»å…¥ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52557911567_07129f72be_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç™»å…¥å¾Œï¼Œä½ å¯ä»¥é€é&lt;a class="link" href="https://developers.line.biz/console/" target="_blank" rel="noopener"
>é€™å€‹é€£çµ&lt;/a>ï¼Œé€²å…¥ LINE çš„é–‹ç™¼è€…å¾Œå°ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52557911572_18cd35a732_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥è‘—ï¼Œä½ æœƒçœ‹åˆ°ç•«é¢ä¸Šä»€éº¼éƒ½æ²’æœ‰ï¼Œæ‰€ä»¥é€™é‚Šä½ è¦é»ä¸€ä¸‹ä¸­é–“çš„ã€Œ&lt;strong>Create a new provider&lt;/strong>ã€ï¼Œé€™å€‹é¡ä¼¼æ–¼ä¸€å€‹å…¬å¸å¸³è™Ÿçš„æ¦‚å¿µï¼Œåº•ä¸‹æœƒæœ‰è¨±å¤šçš„å°ˆæ¡ˆï¼Œæ‰€ä»¥ä½ å¯ä»¥æŠŠå®ƒæƒ³åƒæˆä¸€å€‹å…¬å¸ï¼Œè€Œé€™å€‹å…¬å¸åº•ä¸‹æœ‰è¨±å¤šçš„å°ˆæ¡ˆï¼Œä¾‹å¦‚ï¼šLine Botã€Line MUSIC ç­‰ç­‰ä¹‹é¡ä½ çš„æœå‹™ã€‚&lt;/p>
&lt;p>é€™é‚Šçš„è©±ï¼Œç¯„ä¾‹æˆ‘å€‘å°±å«åšã€Œ&lt;strong>Wayne&amp;rsquo;s OpenAI Bot&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558660294_c3a9dd40f0_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å»ºç«‹çš„éç¨‹æ˜¯éå¸¸å¿«çš„ï¼Œå› æ­¤ç•¶ä½ é»ä¸‹ã€Œ&lt;strong>Create&lt;/strong>ã€ ä¹‹å¾Œï¼Œä½ å°±å¯ä»¥é¦¬ä¸Šçœ‹åˆ° Wayne&amp;rsquo;s OpenAI Bot çš„ç•«é¢ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558365301_94bda877c0_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥è‘—ï¼Œé»ä¸€ä¸‹ç•«é¢ä¸Šçš„ ã€Œ&lt;strong>Create a Messaging API channel&lt;/strong>ã€ï¼Œå› ç‚ºæˆ‘å€‘è¦ä¾†ç”³è«‹ä¸€å€‹èŠå¤©æ©Ÿå™¨äººï¼Œæ‰€ä»¥æˆ‘å€‘è¦ä½¿ç”¨ã€Œ&lt;strong>Messaging API&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558365296_cfd8c1caab_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€²å…¥ã€Œ&lt;strong>Create a Messaging API channel&lt;/strong>ã€å¾Œï¼Œæœƒæœ‰ä¸€äº›æ¬„ä½è¦å¡«å¯«ï¼š&lt;/p>
&lt;ul>
&lt;li>Channel typeï¼š
&lt;ul>
&lt;li>ä¿æŒé è¨­ Messages APIã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Providerï¼š
&lt;ul>
&lt;li>ä¿æŒé è¨­ ã€ŒWayne&amp;rsquo;s OpenAI Botã€ å³å¯ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Company or ownerâ€™s country or regionï¼š
&lt;ul>
&lt;li>ä¾æ“šä½ çš„å…¬å¸æ‰€åœ¨åœ°é¸æ“‡ï¼Œé€™é‚Šæˆ‘é¸æ“‡å°ç£ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Channel iconï¼š
&lt;ul>
&lt;li>ä½ å¯ä»¥ä¹‹å¾Œå†ä¸Šå‚³ï¼Œæ‰€ä»¥é€™é‚Šå…ˆä¸ç”¨ç®¡ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Channel nameï¼š
&lt;ul>
&lt;li>é€™é‚Šæˆ‘å€‘å°±å«ã€ŒWayne&amp;rsquo;s AIã€å§ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Channel descriptionï¼š
&lt;ul>
&lt;li>ä½ å¯ä»¥ç°¡å–®æè¿°ä¸€ä¸‹ï¼Œé€™å€‹èŠå¤©æ©Ÿå™¨äººçš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šã€Œç”¨æ–¼ä¸²æ¥ OpenAI çš„å‰æ© Line æ©Ÿå™¨äººã€ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Categoryï¼š
&lt;ul>
&lt;li>å°±é¸æ“‡â€¦ã€Œå…¶ä»–åª’é«”ã€ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Subcategoryï¼š
&lt;ul>
&lt;li>æ¥è‘—ä¸€æ¨£é¸ã€Œåª’é«”ï¼ˆå…¶ä»–ï¼‰ã€ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Email addressï¼š
&lt;ul>
&lt;li>é€™æ˜¯ç•¶ä½ çš„èŠå¤©æ©Ÿå™¨äººæœ‰å•é¡Œæ™‚ï¼Œä¿¡ç®±è¯çµ¡ä½ çš„æ–¹å¼ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Privacy policy URL èˆ‡ Terms of use URLï¼š
&lt;ul>
&lt;li>é€™å…©å€‹å°±ä¸ç”¨ç†å®ƒï¼Œå› ç‚ºæˆ‘å€‘ç›®å‰ç”¨ä¸åˆ°ã€‚ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>æœ€å¾Œå†æ‰“å‹¾å…©å€‹æ¢ç®¡ï¼Œä½ å°±å¯ä»¥é»ä¸‹ã€Œ&lt;strong>Create&lt;/strong>ã€å»ºç«‹ä½ çš„èŠå¤©æ©Ÿå™¨äººäº†ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ç”±æ–¼é€™å€‹é é¢åœ–ç‰‡å¤ªå¤§å¼µäº†ï¼Œæ‰€ä»¥å°±ä¸é¡å¤–æˆªåœ–ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ç•¶ä½ æŒ‰ä¸‹ã€Œ&lt;strong>Create&lt;/strong>ã€ä¹‹å¾Œï¼Œå®ƒæœƒå‡ºç¾ä¸€å€‹è¦–çª—ï¼Œä¸»è¦æ˜¯å‘ŠçŸ¥ä½ ä¸€äº›è³‡è¨Šï¼Œæ‰€ä»¥ä½ å¯ä»¥æŒ‰ä¸‹ &lt;strong>OK&lt;/strong> é—œé–‰å®ƒã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52557911522_829d6787b7_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>åˆ°ç›®å‰ç‚ºæ­¢ï¼Œæˆ‘å€‘åªæ˜¯ç”³è«‹å¥½äº†ä¸€å€‹ Line Botï¼Œæ¥è‘—è¦ä¾†å–å¾—ä¸€äº›è³‡è¨Šï¼Œé¦–å…ˆåœ¨ã€Œ&lt;strong>Base settings&lt;/strong>ã€ä¸­æ‰¾åˆ°ä»¥ä¸‹è³‡è¨Šä¸¦è¤‡è£½èµ·ä¾†ã€‚&lt;/p>
&lt;ul>
&lt;li>Channel ID&lt;/li>
&lt;li>Channel secret&lt;/li>
&lt;/ul>
&lt;p>æ¥è‘—åˆ‡æ›åˆ°ã€Œ&lt;strong>Messaging API&lt;/strong>ã€ï¼Œæ‰¾åˆ°ã€Œ&lt;strong>Channel access token&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558837680_f313e45856_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥è‘—æŒ‰ä¸‹ ã€Œ&lt;strong>issue&lt;/strong>ã€ï¼Œä½ æœƒå–å¾—ä¸€ä¸²å¾ˆé•·çš„ Tokenï¼Œè«‹è¤‡è£½èµ·ä¾†ï¼Œå¾Œé¢æˆ‘å€‘æœƒä½¿ç”¨åˆ°ã€‚&lt;/p>
&lt;p>åˆ°ç›®å‰ç‚ºæ­¢ï¼Œæˆ‘å€‘å·²ç¶“æº–å‚™å¥½äº† Line Bot çš„ç”³è«‹ä»¥åŠ OpenAI API çš„ç”³è«‹ï¼Œæ¥ä¸‹ä¾†å°±æ˜¯æº–å‚™é€²å…¥æ’°å¯«ç¨‹å¼ç¢¼çš„éƒ¨åˆ†å›‰ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å»ºç«‹ä¸€å€‹å°ˆæ¡ˆ">å»ºç«‹ä¸€å€‹å°ˆæ¡ˆ&lt;/h2>
&lt;p>å»ºç«‹å°ˆæ¡ˆæ–¹å¼æˆ‘å°±ä¸å¤šè¿°äº†ï¼Œç›¸ä¿¡å¤§å®¶æ‡‰è©²éƒ½å¾ˆç†Ÿæ‚‰æ€éº¼å»ºç«‹å°ˆæ¡ˆä»¥åŠå®‰è£ Node.jsï¼Œè€Œé€™é‚Šæˆ‘ç¨å¾®æœƒæœ‰ä¸€é»ç‰¹åˆ¥ï¼Œæˆ‘æœƒä½¿ç”¨ &lt;code>pnpm&lt;/code> ä¾†å»ºç«‹ï¼Œå¦‚æœä½ çœŸçš„å®Œå…¨æ²’æƒ³æ³•ï¼Œä½ å¯ä»¥åƒè€ƒæˆ‘ä»¥ä¸‹æŒ‡ä»¤ä¾†å»ºç«‹ä¸€å€‹å°ˆæ¡ˆï¼Œç•¶ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code>npm&lt;/code> æˆ–æ˜¯ &lt;code>yarn&lt;/code> ä¾†å»ºç«‹ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æç¤ºï¼šä»¥ä¸‹æŒ‡ä»¤é©ç”¨æ–¼ Mac ç³»çµ±ï¼Œè‹¥ç‚º Mac å»ºè­°é¡å¤– Google ä¸€ä¸‹æŒ‡ä»¤ã€‚&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è‹¥å°šæœªå®‰è£pnpmï¼Œå¯ä½¿ç”¨æ­¤æŒ‡ä»¤å…ˆé€²è¡Œå®‰è£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># npm install -g pnpm&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å»ºç«‹ä¸€å€‹è³‡æ–™å¤¾&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir line-bot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é€²å…¥è³‡æ–™å¤¾&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> line-bot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆå§‹åŒ–å°ˆæ¡ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pnpm init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸºæœ¬ä¸Šåˆ°é€™é‚Šå°±ç®—æ˜¯åˆå§‹åŒ–å¥½ä¸€å€‹å°ˆæ¡ˆäº†ï¼Œæ¥è‘—å°±æ˜¯æº–å‚™è¦ä¾†å®‰è£ Line Bot çš„å¥—ä»¶äº†ã€‚&lt;/p>
&lt;h3 id="å®‰è£ç›¸é—œå¥—ä»¶">å®‰è£ç›¸é—œå¥—ä»¶&lt;/h3>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘è¦å®‰è£ &lt;code>@line/bot-sdk&lt;/code> é€™å€‹å¥—ä»¶ï¼Œè«‹åœ¨å°ˆæ¡ˆçµ‚ç«¯æ©Ÿä¸‹è¼¸å…¥ä»¥ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pnpm i @line/bot-sdk express dotenv
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®‰è£å¥½ä¹‹å¾Œï¼Œä½ å¯ä»¥å…ˆåœ¨å°ˆæ¡ˆåº•ä¸‹å»ºç«‹ä¸€å€‹ &lt;code>app.js&lt;/code> çš„æª”æ¡ˆï¼Œç¨å¾Œæˆ‘å€‘å°±æœƒé–‹å§‹æ’°å¯« LINE Bot çš„ç¨‹å¼ç¢¼å›‰ã€‚&lt;/p>
&lt;h3 id="æ’°å¯«-line-bot">æ’°å¯« LINE Bot&lt;/h3>
&lt;p>å‰é¢æˆ‘å€‘å·²ç¶“æº–å‚™å¥½äº† app.js æª”æ¡ˆï¼Œæ¥è‘—å°±æ˜¯è¦æ’°å¯«ç¨‹å¼ç¢¼ï¼Œä¸å¤–ä¹å‰é¢å°±æ˜¯å¼•å…¥ &lt;code>@line/bot-sdk&lt;/code>ã€&lt;code>express&lt;/code> èˆ‡ &lt;code>dotenv&lt;/code> é€™ä¸‰å€‹å¥—ä»¶ã€‚&lt;/p>
&lt;h5 id="appjs">app.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;dotenv&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">express&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">line&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;@line/bot-sdk&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—å‘¢ï¼Ÿå…¶å¯¦ Line å®˜æ–¹æœ‰æä¾›&lt;a class="link" href="https://github.com/line/line-bot-sdk-nodejs/blob/master/examples/echo-bot/index.js" target="_blank" rel="noopener"
>ç¯„ä¾‹ç¨‹å¼ç¢¼&lt;/a>ï¼Œå› æ­¤æˆ‘å€‘æ˜¯å¯ä»¥ç›´æ¥å˜—è©¦æŒªéä¾†æ¸¬è©¦çœ‹çœ‹ã€‚&lt;/p>
&lt;h5 id="appjs-1">app.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;dotenv&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">line&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;@line/bot-sdk&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">express&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// create LINE SDK config from env variables
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">config&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">channelAccessToken&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">CHANNEL_ACCESS_TOKEN&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">channelSecret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">CHANNEL_SECRET&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// create LINE SDK client
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">line&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Client&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// create Express app
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// about Express itself: https://expressjs.com/
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">app&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">express&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// register a webhook handler with middleware
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// about the middleware, please refer to doc
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">post&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/callback&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">line&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">middleware&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">Promise&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">all&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">events&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">handleEvent&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">500&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// event handler
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">handleEvent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">type&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s1">&amp;#39;message&amp;#39;&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">type&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s1">&amp;#39;text&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ignore non-text-message event
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// create a echoing text message
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">echo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;text&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// use reply API
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">replyMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">replyToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">echo&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// listen on port
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">PORT&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="mi">3000&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`listening on &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>è¨˜å¾—åœ¨å°ˆæ¡ˆåº•ä¸‹å»ºç«‹ä¸€å€‹ &lt;strong>.env&lt;/strong> ä¸¦å¡«å¯«ä»¥ä¸‹è³‡è¨Šè·Ÿ Keyã€‚&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-env" data-lang="env">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">CHANNEL_ACCESS_TOKEN&lt;/span>&lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">CHANNEL_SECRET&lt;/span>&lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç†è«–ä¸Šä¾†è¬›ï¼Œä½ ç›®å‰å°ˆæ¡ˆæ‡‰è©²æ˜¯å·²ç¶“å¯ä»¥è¼¸å…¥ &lt;code>node app.js&lt;/code> å•Ÿå‹•äº†ï¼Œæ‰€ä»¥ä½ å¯ä»¥å˜—è©¦å•Ÿå‹•çœ‹çœ‹ï¼Œå¦‚æœç„¡æ³•å•Ÿå‹•çš„è©±ï¼Œæœƒå»ºè­°ä½ å¾€å‰é¢çš„æ­¥é©Ÿå†æª¢æŸ¥ä¸€ä¸‹ã€‚&lt;/p>
&lt;h3 id="éƒ¨å±¬åˆ°-render">éƒ¨å±¬åˆ° Render&lt;/h3>
&lt;p>åˆ°ç›®å‰ç‚ºæ­¢æˆ‘å€‘è¦å…ˆå˜—è©¦å°‡å°ˆæ¡ˆéƒ¨ç½²åˆ° &lt;a class="link" href="https://render.com/" target="_blank" rel="noopener"
>Render&lt;/a> ä¸Šé¢ï¼Œå¦å‰‡æˆ‘å€‘ä¸¦ä¸æ¸…æ¥šå°ˆæ¡ˆæ˜¯å¦å¯ä»¥æ­£å¸¸é‹ä½œï¼Œå› ç‚ºåœ¨ä½¿ç”¨ Render ä¹‹å‰ï¼Œæˆ‘å€‘éœ€è¦å…ˆå»ºç«‹ä¸€å€‹ &lt;a class="link" href="https://render.com/" target="_blank" rel="noopener"
>Render&lt;/a> çš„å¸³è™Ÿï¼Œå¦‚æœä½ é‚„æ²’æœ‰çš„è©±ï¼Œå¯ä»¥å…ˆåˆ°&lt;a class="link" href="https://render.com/" target="_blank" rel="noopener"
>é€™é‚Š&lt;/a>è¨»å†Šä¸€å€‹å¸³è™Ÿã€‚&lt;/p>
&lt;p>å»ºç«‹å¥½å¾Œï¼Œæœƒå»ºè­°ä½ å°‡å°ˆæ¡ˆç¨‹å¼ç¢¼ä¸Šå‚³åˆ° GitHub ä¸Šï¼Œå› ç‚º Render æœ‰æä¾› GitHub çš„æ•´åˆï¼Œé€™æ¨£å¯ä»¥è®“æˆ‘å€‘æ›´æ–¹ä¾¿çš„éƒ¨ç½²å°ˆæ¡ˆï¼Œè€Œä¸Šå‚³åˆ° GitHub é€™æµç¨‹å°±ä¸å†è´…è¿°äº†ï¼Œå› æ­¤æˆ‘é€™é‚Šå‡ä½¿ä½ å·²ç¶“å®Œæˆäº†å°‡ç¨‹å¼ç¢¼ä¸Šå‚³åˆ° GitHub é€™å€‹å‹•ä½œå¾Œï¼Œæ¥è‘—å°±æ˜¯ç›´æ¥é€²å…¥åˆ° &lt;a class="link" href="https://dashboard.render.com/" target="_blank" rel="noopener"
>Render å¾Œå°&lt;/a>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52557911492_c4dcdc93df_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€™é‚Šè«‹é¸æ“‡ ã€Œ&lt;strong>Web Services&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558365266_3aed5a7ce7_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥è‘—ä½ å¯ä»¥åœ¨é€™å€‹ç•«é¢ä¸Šé¸æ“‡å°ˆæ¡ˆï¼Œå¦‚æœä½ ç™¼ç¾ä½ çš„ç•«é¢ä¸Šä¸€å€‹å°ˆæ¡ˆéƒ½æ²’æœ‰çš„è©±ï¼Œå¯ä»¥é»ä¸€ä¸‹æ—é‚Šçš„ã€Œ&lt;strong>Configure account&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558365251_1ce40aac75_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥è‘—ä½ å¯ä»¥åœ¨é€™é‚Šé¸æ“‡å°ˆæ¡ˆï¼Œæ‡¶ä¸€é»çš„è©±ä½ å¯ä»¥ä¹¾è„†çµ¦å®ƒå…¨éƒ¨çš„æ¬Šé™ï¼Œå› ç‚ºæˆ‘å€‘åªæ˜¯è¦éƒ¨ç½²ä¸€å€‹ç°¡å–®çš„å°ˆæ¡ˆï¼Œæ‰€ä»¥æˆ‘å°±é¸æ“‡æˆ‘è¦çš„å–®ä¸€å°ˆæ¡ˆå³å¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558660254_17525814ca_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥ä¸‹ä¾†ç•«é¢ä¸Šæ‡‰è©²å°±å¯ä»¥çœ‹åˆ°ä½ çš„å°ˆæ¡ˆäº†ï¼Œæ¥è‘—é»é¸ä½ è¦éƒ¨ç½²çš„å°ˆæ¡ˆã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558660239_f49bf0cea8_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>åœ¨é€™é‚Šé»ä¸€ä¸‹ã€Œ&lt;strong>Connect&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>é€™é‚Šæœƒè¦æ±‚ä½ å¡«ä¸€äº›æ¬„ä½ï¼Œæˆ‘å°±ä¸å¤šèªªæ˜äº†ï¼Œæˆ‘ç›´æ¥é™„ä¸Šæˆ‘çš„è¨­å®šã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558908318_5d2c49a02e_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥è‘—å¾€ä¸‹æ»¾ï¼Œå°±é¸æ“‡ ã€Œ&lt;strong>Free&lt;/strong>ã€å°ˆæ¡ˆå³å¯ï¼Œç„¶å¾Œå†é»ä¸€ä¸‹ä¸‹æ–¹çš„ã€Œ&lt;strong>Advanced&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558837630_4764ddc2d9_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å› ç‚ºæˆ‘å€‘è¦åœ¨ã€Œ&lt;strong>Advanced&lt;/strong>ã€å€å¡Šå¡«å…¥&lt;strong>ç’°å¢ƒè®Šæ•¸&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558908308_fa977befa9_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥è‘—é»ä¸€ä¸‹ã€Œ&lt;strong>Add Environment Variable&lt;/strong>ã€ï¼Œä¾ç…§æ¬„ä½å¡«å…¥ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52557911427_82f40e2f3a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æœ€å¾Œå…¶ä»–è¨­å®šå¯ä»¥ä¸ç”¨ç®¡ï¼Œç›´æ¥é»ä¸€ä¸‹æœ€å¾Œçš„ã€Œ&lt;strong>Create Web Service&lt;/strong>ã€ã€‚&lt;/p>
&lt;blockquote>
&lt;p>é è¨­ Render æœƒå»åµæ¸¬ Commit ç´€éŒ„ï¼Œæ‰€ä»¥å¦‚æœæœ‰æ–°çš„ Commitï¼ŒRender æœƒè‡ªå‹•é‡æ–°éƒ¨ç½²ï¼Œå¦‚æœä½ ä¸æƒ³è¦é€™å€‹åŠŸèƒ½çš„è©±ï¼Œå¯ä»¥åœ¨ã€Œ&lt;strong>Advanced&lt;/strong>ã€å€å¡Šè£¡é¢ï¼Œå°‡ã€Œ&lt;strong>Auto Deploy&lt;/strong>ã€é—œé–‰ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52557911417_f5af4bd94c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>é‚£éº¼ç”±æ–¼ç‚ºäº†æ–¹ä¾¿ç¤ºç¯„ï¼Œå› æ­¤æˆ‘é€™é‚Šé è¨­æœƒæ¡ç”¨ã€Œ&lt;strong>Yes&lt;/strong>ã€ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æ¥è‘—ä½ å°±å¯ä»¥çœ‹åˆ°ä½ çš„å°ˆæ¡ˆæ­£åœ¨éƒ¨ç½²äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52557911382_a79f040963_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€™å€‹éç¨‹ç¨å¾®æœƒæ¯”è¼ƒä¹…ä¸€é»ï¼Œå› ç‚º &lt;strong>Render&lt;/strong> æœƒå°‡å®ƒæ‰“åŒ…æˆä¸€å€‹ &lt;strong>Docker Image&lt;/strong>ï¼Œç„¶å¾Œå†éƒ¨ç½²åˆ°å®ƒçš„ä¼ºæœå™¨ä¸Šï¼Œæ‰€ä»¥é€™å€‹éç¨‹æœƒç¨å¾®æ¯”è¼ƒä¹…ä¸€é»ï¼Œä½†æ˜¯ä¸ç”¨æ“”å¿ƒï¼Œå› ç‚ºå®ƒæœƒè‡ªå‹•å¹«ä½ åšé€™äº›äº‹æƒ…ï¼Œä½ åªè¦ç­‰å¾…å®ƒå®Œæˆå³å¯ã€‚&lt;/p>
&lt;p>éƒ¨ç½²å®Œç•¢çš„è©±ï¼Œä½ å¯ä»¥åœ¨ç•«é¢çœ‹åˆ°ä»–æç¤ºä½ å°ˆæ¡ˆå·²ç¶“é‹è¡Œèµ·ä¾†ä¸¦ä¸”é–‹å§‹éƒ¨ç½²ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52557911392_e4426a7937_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>è€Œä½ çš„å°ˆæ¡ˆçš„ç¶²å€ï¼Œå°±æœƒåœ¨é€™é‚Šï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558908228_6ba7000c14_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ä¸å‡ºæ„å¤–çš„è©±ï¼Œæ‡‰è©²æ˜¯ç„¡æ³•é–‹å•Ÿçš„ï¼Œå› ç‚ºæˆ‘å€‘åªæœ‰åšä¸€å€‹ &lt;code>post&lt;/code> çš„ APIï¼Œé‚£éº¼åˆ°é€™é‚Šæˆ‘å€‘å°ˆæ¡ˆå°±æ­£å¼éƒ¨ç½²å‡ºå»äº†ï¼ŒåŸºæœ¬ä¸Šéƒ½ä¸ç”¨ç†æœƒå®ƒäº†ã€‚&lt;/p>
&lt;blockquote>
&lt;p>é€™é‚Šè«‹è¨˜ä½ç¶²å€ï¼Œå› ç‚ºå¾Œé¢æˆ‘å€‘æœƒåœ¨ä½¿ç”¨åˆ°ã€‚&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="åŠ å…¥-line-bot-å¥½å‹">åŠ å…¥ Line Bot å¥½å‹&lt;/h2>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘å°±è¦ä¾†å¯¦éš›æ¸¬è©¦ä¸€ä¸‹ï¼Œæˆ‘å€‘çš„ Line Bot æ˜¯å¦å¯ä»¥æ­£å¸¸é‹ä½œï¼Œè€Œå–å¾—é€™å€‹ LINE Bot çš„ ID æ–¹å¼å°±åœ¨ Developer Console çš„ã€ŒMessaging APIã€è£¡é¢ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558908223_820c27e07b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>åŠ å…¥å¥½å‹å¾Œï¼Œä½ æ‡‰è©²å°±æœƒç«‹åˆ»çœ‹åˆ°å¥½å‹æ­¡è¿çš„è¨Šæ¯é€šçŸ¥ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52557911352_e4e4bcfda5_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥è‘—ä½ å¯ä»¥è©¦è‘—ç™¼é€è¨Šæ¯çµ¦å®ƒï¼Œä¾‹å¦‚ã€Œ&lt;code>Test&lt;/code>ã€ï¼Œä½†æ˜¯ä½ æœƒç™¼ç¾å®ƒæ²’æœ‰è¾¦æ³•æ­£å¸¸å›æ‡‰ä½ ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558837550_8dfc4f386e_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å› æ­¤æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘è¦åšä¸€é»èª¿æ•´ï¼Œè®“å®ƒå¯ä»¥æ­£å¸¸å›æ‡‰ä½ ã€‚&lt;/p>
&lt;h3 id="èª¿æ•´-line-bot">èª¿æ•´ Line Bot&lt;/h3>
&lt;p>é€™é‚Šè«‹ä½ å›åˆ° Line Bot çš„&lt;a class="link" href="https://developers.line.biz/console/" target="_blank" rel="noopener"
>å¾Œå°&lt;/a>ï¼Œé»ä¸€ä¸‹ã€Œ&lt;strong>Messaging API&lt;/strong>ã€ï¼Œç„¶å¾Œæ‰¾åˆ°ã€Œ&lt;strong>Webhook settings&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558365106_c6856b16e9_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥è‘—é»ä¸€ä¸‹ã€Œ&lt;strong>Edit&lt;/strong>ã€ï¼Œç„¶å¾Œå°‡ã€ŒWebhook URLã€å¡«å…¥ä½ çš„å°ˆæ¡ˆç¶²å€ï¼Œä¾‹å¦‚ &lt;a class="link" href="https://example.com/callback" target="_blank" rel="noopener"
>https://example.com/callback&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558660054_30a4088888_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>callback æ˜¯å› ç‚ºæˆ‘å€‘ Express å°ˆæ¡ˆçš„è·¯ç”±æ˜¯ &lt;strong>/callback&lt;/strong>ï¼Œå¦‚æœä½ çš„è·¯ç”±ä¸æ˜¯é€™å€‹çš„è©±ï¼Œè«‹è‡ªè¡Œä¿®æ”¹ã€‚&lt;/p>
&lt;/blockquote>
&lt;h5 id="appjs-2">app.js&lt;/h5>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558837520_8fb6172346_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æŒ‰ä¸‹å„²å­˜å¾Œï¼Œä½ å¯ä»¥é»ä¸€ä¸‹ã€Œ&lt;strong>Verify&lt;/strong>ã€ï¼Œä¾†é©—è­‰ä½ çš„ç¶²å€æ˜¯å¦æ­£ç¢ºä»¥åŠå°ˆæ¡ˆæ˜¯å¦æ­£å¸¸ï¼Œåªè¦èƒ½çœ‹åˆ°ã€Œ&lt;strong>Success&lt;/strong>ã€å°±ä»£è¡¨ä½ çš„ç¶²å€ä»¥åŠå°ˆæ¡ˆæ˜¯æ­£ç¢ºçš„ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558837510_952267b7e7_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥è‘—å°‡ä¸‹æ–¹çš„ ã€Œ&lt;strong>Use webhook&lt;/strong>ã€æ‰“é–‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558365056_2dfa7c5ec2_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ‰“é–‹å¾Œï¼Œä½ å†å»è©¦è‘—ç™¼é€è¨Šæ¯çµ¦ä½ çš„ Line Botï¼Œä½ å°±æœƒç™¼ç¾å®ƒå¯ä»¥æ­£å¸¸å›æ‡‰ä½ äº†ï¼Œè€Œä¸”æ˜¯ä¸è«–ä½ æ‰“ä»€éº¼ï¼Œä»–éƒ½æœƒå›æ‡‰ä½ å‰›å‰›æ‰“çš„å­—ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558365061_19ff4b6a1b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ­å–œä½ ï¼Œæˆªè‡³ç‚ºæ­¢ï¼Œæˆ‘å€‘çµ‚æ–¼æŠŠ Line Bot æ­£å¼è™•ç†å¥½äº†ã€‚&lt;/p>
&lt;h3 id="é—œæ‰é è¨­å›é¥‹">é—œæ‰é è¨­å›é¥‹&lt;/h3>
&lt;p>æ¥ä¸‹ä¾†ä½ å¯èƒ½æœƒæƒ³è¦æŠŠé‚£æ®µè©²æ­»çš„æç¤ºå›é¥‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">æ„Ÿè¬æ‚¨çš„è¨Šæ¯ï¼
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">å¾ˆæŠ±æ­‰ï¼Œæœ¬å¸³è™Ÿç„¡æ³•å€‹åˆ¥å›è¦†ç”¨æˆ¶çš„è¨Šæ¯ã€‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">æ•¬è«‹æœŸå¾…æˆ‘å€‘ä¸‹æ¬¡ç™¼é€çš„å…§å®¹å–”&lt;span class="o">(&lt;/span>moon smile&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»¥åŠåŠ å…¥å¥½å‹é€šçŸ¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">XXXæ‚¨å¥½ï¼
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">æˆ‘æ˜¯Wayne&lt;span class="se">\&amp;#39;&lt;/span>s AIã€‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">æ„Ÿè¬æ‚¨åŠ å…¥å¥½å‹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">æ­¤å®˜æ–¹å¸³è™Ÿå°‡å®šæœŸç™¼æ”¾æœ€æ–°è³‡è¨Šçµ¦æ‚¨
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">æ•¬è«‹æœŸå¾…
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å…©å€‹é—œæ‰ï¼Œé—œæ‰æ–¹å¼å¾ˆç°¡å–®ï¼Œä¸€æ¨£å›åˆ° Line Bot çš„å¾Œå°ï¼Œé»ä¸€ä¸‹ã€Œ&lt;strong>Messaging API&lt;/strong>ã€ï¼Œç„¶å¾Œæ‰¾åˆ°ã€Œ&lt;strong>Auto-reply messages&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558908153_23b9180b66_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ä½ æœƒè·³åˆ° LINE@ ç®¡ç†ä»‹é¢ï¼Œå°‡ã€Œ&lt;strong>åŠ å…¥å¥½å‹æ­¡è¿è¨Šæ¯&lt;/strong>ã€ä»¥åŠã€Œ&lt;strong>è‡ªå‹•å›è¦†è¨Šæ¯&lt;/strong>ã€é—œæ‰å°±æå®šå›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558660009_7084f14f12_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="ä¸²æ¥-openai-api">ä¸²æ¥ OpenAI API&lt;/h2>
&lt;p>çµ‚æ–¼åˆ°äº†æˆ‘å€‘çš„é‡é ­æˆ²äº†ï¼Œå‰é¢ä½ å¯ä»¥ç™¼ç¾ LINE Bot çš„æµç¨‹èˆ‡ç”³è«‹éå¸¸çš„å¤šä¸”ç¹ç‘£ï¼Œå› æ­¤å‰é¢èŠ±å¾ˆå¤šæ™‚é–“åœ¨ä»‹ç´¹ï¼Œä¸»è¦æ˜¯å¸Œæœ›ä½ å¯ä»¥é †åˆ©å»ºç«‹å¥½ä½ çš„ LINE Botï¼Œç¢ºä¿ä½ æ¥ä¸‹ä¾†çš„æ­¥é©Ÿä¸æœƒæœ‰å•é¡Œã€‚&lt;/p>
&lt;h3 id="å®‰è£-openai-å¥—ä»¶">å®‰è£ OpenAI å¥—ä»¶&lt;/h3>
&lt;p>é¦–å…ˆæˆ‘å€‘è¦å…ˆå®‰è£ OpenAI çš„å¥—ä»¶ï¼Œè«‹åœ¨å°ˆæ¡ˆåº•ä¸‹è¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pnpm i openai
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘— openai æœ¬èº«æœ‰æä¾›ç¯„ä¾‹ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Configuration&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">OpenAIApi&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;openai&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">configuration&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Configuration&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiKey&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">OPENAI_API_KEY&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">openai&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">OpenAIApi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">configuration&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">completion&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">openai&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createCompletion&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">model&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;text-davinci-002&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prompt&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Hello world&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">completion&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">choices&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤åŸºæ–¼ä¸Šæ–¹é€™ä¸€æ®µï¼Œæˆ‘å€‘ç¨å€™å¯ä»¥ä¾†ä¿®æ”¹ä¸€ä¸‹ï¼Œè®“å®ƒå¯ä»¥è·Ÿæˆ‘å€‘çš„ LINE Bot ä¸²æ¥ã€‚&lt;/p>
&lt;blockquote>
&lt;p>openAI æœ‰æä¾›å¤šå€‹ &lt;strong>model&lt;/strong> å¯ä»¥é¸æ“‡ï¼Œåˆ†åˆ¥æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>text-davinci-003&lt;/li>
&lt;li>text-curie-001&lt;/li>
&lt;li>text-babbage-001&lt;/li>
&lt;li>text-ada-001&lt;/li>
&lt;/ul>
&lt;p>å…¶ä¸­ç›®å‰(2022å¹´)æœ€ç´…çš„å°±æ˜¯ &lt;strong>text-davinci-003&lt;/strong>ï¼Œå› æ­¤æˆ‘å€‘é€™é‚Šä¹Ÿæœƒä½¿ç”¨é€™å€‹ &lt;strong>model&lt;/strong>ï¼Œæ¯ä¸€å€‹ &lt;strong>model&lt;/strong> éƒ½æœ‰ä¸åŒçš„ç‰¹æ€§ï¼Œä½ å¯ä»¥åœ¨&lt;a class="link" href="https://beta.openai.com/docs/models/gpt-3" target="_blank" rel="noopener"
>é€™è£¡&lt;/a>æ‰¾åˆ°å®ƒçš„ä»‹ç´¹ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="èª¿æ•´-appjs-çš„ç¨‹å¼ç¢¼">èª¿æ•´ app.js çš„ç¨‹å¼ç¢¼&lt;/h3>
&lt;p>é¦–å…ˆæˆ‘å€‘è¦å…ˆåœ¨ &lt;code>app.js&lt;/code> ä¸­å¼•å…¥ OpenAI çš„å¥—ä»¶ã€‚&lt;/p>
&lt;h5 id="appjs-3">app.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Configuration&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">OpenAIApi&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;openai&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘è¦ä¾†å¯¦ä¾‹åŒ– &lt;strong>OpenAI&lt;/strong>ã€‚&lt;/p>
&lt;h5 id="appjs-4">app.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">configuration&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Configuration&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiKey&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">OPENAI_API_KEY&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">openai&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">OpenAIApi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">configuration&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>apiKey&lt;/code> å°±æ˜¯æˆ‘å€‘æœ€æ—©å‰é¢æ‰€ç”³è«‹çš„ &lt;strong>OpenAI API Key&lt;/strong>ï¼Œè€Œé€™ä¸€æ®µä¸€æ¨£æ˜¯æ”¾åœ¨ &lt;code>.env&lt;/code> çš„ã€‚&lt;/p>
&lt;blockquote>
&lt;p>å¦‚æœä½ æ²’ç”³è«‹çš„è©±ä½ æœƒç„¡æ³•å¾€ä¸‹ç¹¼çºŒçš„ï¼Œè«‹å‹™å¿…ç”³è«‹ &lt;strong>OpenAI API Key&lt;/strong> å”·ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ç›®å‰ä¾†è¬›ï¼Œä½ çš„ &lt;strong>.env&lt;/strong> æ‡‰è©²é•·é€™æ¨£ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-env" data-lang="env">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">CHANNEL_ACCESS_TOKEN&lt;/span>&lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">CHANNEL_SECRET&lt;/span>&lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">OPENAI_API_KEY&lt;/span>&lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥ä¸‹ä¾†å‘¢ï¼Ÿæˆ‘å€‘å°±è¦å°‡åŸæœ¬ Line å®˜æ–¹æ‰€æä¾›çš„ç¯„ä¾‹ç¨‹å¼ç¢¼ç¨å¾®èª¿æ•´ä¸€ä¸‹ï¼Œä¸»è¦èª¿æ•´çš„ç¯„åœæ˜¯ &lt;code>handleEvent&lt;/code> çš„ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;h5 id="appjs-5">app.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">handleEvent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">type&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s1">&amp;#39;message&amp;#39;&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">type&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s1">&amp;#39;text&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ignore non-text-message event
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">completion&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">openai&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createCompletion&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">model&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;text-davinci-003&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prompt&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span> &lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// create a echoing text message
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">echo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;text&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">completion&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">choices&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">text&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// use reply API
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">replyMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">replyToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">echo&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™é‚Šæˆ‘å€‘å°‡åŸæœ¬çš„ &lt;code>prompt&lt;/code> æ”¹æˆ &lt;code>event.message.text&lt;/code>ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨è€…è¼¸å…¥çš„è¨Šæ¯ï¼Œè€Œ &lt;code>completion.data.choices[0].text&lt;/code> å°±æ˜¯ OpenAI æ‰€å›å‚³çš„è¨Šæ¯ã€‚&lt;/p>
&lt;p>æ²’å•é¡Œå¾Œå°±å„²å­˜æª”æ¡ˆï¼Œä¸¦ commit push å‡ºå»åˆ° GitHub ä¸Šï¼Œå±†æ™‚ Render å°±æœƒè‡ªå‹•å¹«ä½ é‡æ–°éƒ¨ç½²äº†ã€‚&lt;/p>
&lt;blockquote>
&lt;p>è¨˜å¾—è¦å» &lt;strong>Render&lt;/strong> ä¸Šé¢å¢åŠ  &lt;strong>OPENAI_API_KEY&lt;/strong> çš„ç’°å¢ƒè®Šæ•¸ï¼Œå¦å‰‡æœƒå‡ºç¾éŒ¯èª¤å”·ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ç•¶éƒ¨ç½²å®Œç•¢å¾Œï¼Œä½ å†å»è©¦è‘—è·Ÿä½ çš„ LINE Bot èŠå¤©ï¼Œä½ æœƒç™¼ç¾å®ƒå·²ç¶“æœƒè¬›è©±å›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52557911242_36fc5cfb67_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>åªæ˜¯ä½ æœƒç™¼ç¾å®ƒå¥½åƒæ²’è¾¦æ³•å›ä½ å¾ˆå¤šè©±ï¼Œé€™åŸå› æ˜¯æˆ‘å€‘æ²’æœ‰å‘ŠçŸ¥å®ƒè¦ä½¿ç”¨å¤šå°‘ Tokensï¼Œå› æ­¤é€™é‚Šæˆ‘å€‘èª¿æ•´ä¸€ä¸‹ï¼š&lt;/p>
&lt;h5 id="appjs-6">app.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">completion&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">openai&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createCompletion&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">model&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;text-davinci-003&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prompt&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">max_tokens&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹ &lt;code>max_tokens&lt;/code> æœƒå½±éŸ¿åˆ° OpenAI æ‰€å›å‚³çš„è¨Šæ¯é•·åº¦ï¼Œå› æ­¤æˆ‘å€‘é€™é‚Šè¨­å®šç‚º&lt;strong>200&lt;/strong>ï¼Œé€™æ¨£å°±å¯ä»¥è®“å®ƒå›å¾ˆå¤šè©±äº†ã€‚&lt;/p>
&lt;h3 id="èª¿æ•´-openai-çš„å›å‚³è¨Šæ¯">èª¿æ•´ OpenAI çš„å›å‚³è¨Šæ¯&lt;/h3>
&lt;p>é‚£éº¼é€™é‚Šä¹Ÿæœ‰ä¸€ä»¶å¾ˆæœ‰è¶£çš„äº‹æƒ…ï¼Œä¹Ÿå°±æ˜¯ OpenAI çš„è¨Šæ¯éƒ½æœ‰ä¸€å¤§æ¨ç©ºç™½ï¼Œé€™æ˜¯å› ç‚º OpenAI æœƒå°‡ä½ çš„è¨Šæ¯åˆ†æˆä¸€å€‹å€‹çš„æ®µè½ï¼Œè€Œæ¯å€‹æ®µè½ä¹‹é–“éƒ½æœƒæœ‰ä¸€å€‹ç©ºç™½ï¼Œå› æ­¤æˆ‘å€‘ä¹Ÿè¦ä¾†èª¿æ•´ä¸€ä¸‹ã€‚&lt;/p>
&lt;h5 id="appjs-7">app.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">completion&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">openai&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createCompletion&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">model&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;text-davinci-003&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prompt&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span> &lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">max_tokens&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">echo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;text&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">completion&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">choices&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">trim&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†é‡æ–°ä¸Šå‚³ç¨‹å¼ç¢¼å¾Œï¼Œä½ å°±å¯ä»¥çœ‹åˆ°æ©Ÿå™¨äººæ­£å¸¸çš„å›ä½ äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52558390976_611bf3a21b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ­å–œä½ ï¼Œå®Œæˆäº†ä¸€å€‹å¯ä»¥è·Ÿä½ èŠå¤©çš„æ©Ÿå™¨äººï¼è€Œä¸”æ˜¯ä¸²æ¥äº† OpenAI çš„æ©Ÿå™¨äººï¼&lt;/p>
&lt;hr>
&lt;h2 id="çµèª">çµèª&lt;/h2>
&lt;p>ç›¸ä¿¡ä½ æ‡‰è©²ç™¼ç¾é€™å€‹ &lt;strong>Line Bot&lt;/strong> çš„å»ºç«‹æµç¨‹è¶…ç´šç„¡æ•µçš„é•·ï¼Œè€Œä¸”éå¸¸çš„å¤šæµç¨‹è·Ÿç´°ç¯€ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥å› æ­¤èªè­˜åˆ°å¦‚ä½•ä¸²æ¥ç¬¬ä¸‰æ–¹æœå‹™ï¼Œä»¥åŠå¦‚ä½•å°‡ä½ çš„ç¨‹å¼ç¢¼éƒ¨ç½²åˆ° &lt;strong>Render&lt;/strong> ä¸Šé¢ï¼Œæ‰€ä»¥æˆ‘è¦ºå¾—æ˜¯ä¸€å€‹ç›¸ç•¶ä¸éŒ¯çš„å°ç·´ç¿’ï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³å˜—è©¦åšä¸€å€‹èŠå¤©æ©Ÿå™¨äººï¼Œæ˜¯å¯ä»¥è€ƒæ…®ä½¿ç”¨é€™å€‹æ–¹æ³•çš„ã€‚&lt;/p>
&lt;p>ä½†æ˜¯è¦æ³¨æ„ä¸€ä»¶äº‹æƒ… &lt;strong>OpenAI&lt;/strong> çš„ &lt;strong>GPT&lt;/strong> æœ‰ä¸€å€‹é‡é»ä½¿ç”¨ï¼Œå¦‚æœä½ è¦è®“ä½ è°æ˜ä¸€é»çš„å›è¦†ä½ ï¼Œé‚£éº¼ä½ å°±è¦å°‡å®ƒçš„ä¸Šä¸‹æ–‡ï¼ˆåŒ…å«ä½ çš„å›è¦†ï¼‰ä¸€èµ·æ’ˆå‡ºä¾†ä¸Ÿçµ¦å®ƒï¼Œå¦å‰‡ä½ æœƒç™¼ç¾å®ƒæœ‰é»ç¬¨ï¼Œå¯æ˜¯ LINE çš„èŠå¤©æ©Ÿå™¨äººä¸å¤ªé©åˆé€™ç¨®æ–¹å¼ï¼Œå› ç‚ºéç¨‹ä½ å¯èƒ½æœƒå•å¾ˆå¤šäº‹æƒ…ï¼Œé€™æ¨£å­è¨Šæ¯é‡æœƒéå¸¸é¾å¤§ä¸”æ²’è¾¦æ³•åˆªé™¤ï¼Œå› æ­¤é€™é‚Šæˆ‘å€‘å°±ä¸åšé€™ä»¶äº‹æƒ…äº†ï¼Œè€Œæ˜¯è®“å®ƒé‡å°ä½ æ¯å€‹å•é¡Œå»å›è¦†å³å¯ï¼Œè€Œä¸åŒ…å«å‰ä¸€å€‹å•é¡Œçš„å›è¦†ã€‚&lt;/p>
&lt;p>æœ€å¾Œé€™é‚Šæˆ‘ä¹Ÿé™„ä¸Šç¯„ä¾‹ç¨‹å¼ç¢¼ï¼Œå¦‚æœä½ æƒ³ç›´æ¥æ‹‰å›å»ç”¨ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå› ç‚ºé€™ä¸€ä»½ç¨‹å¼ç¢¼åŸºæœ¬ä¸Šéƒ½æ˜¯ä»¥å®˜æ–¹æ‰€æä¾›çš„ç‚ºä¸»ï¼Œå¾ˆå°‘æœ‰å¤§å¹…åº¦èª¿æ•´çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥ä½ å¯ä»¥ç›´æ¥æ‹¿ä¾†ç”¨ã€‚&lt;/p>
&lt;p>å¸Œæœ›é€™ä¸€ç¯‡å¯ä»¥è®“ä½ å¿«å¿«æ¨‚æ¨‚åšå‡ºä¸€å€‹ LINE Botã€‚&lt;/p>
&lt;blockquote>
&lt;p>å¦‚æœä½ è¦ºå¾—éƒ¨ç½²åˆ° &lt;strong>Render&lt;/strong> å¾ˆé›£å»é™¤éŒ¯ï¼Œå…¶å¯¦æ˜¯å¯ä»¥è€ƒæ…®ä½¿ç”¨ &lt;strong>ngrok&lt;/strong> çš„ï¼Œ&lt;strong>ngrok&lt;/strong> çš„ä½¿ç”¨æ–¹æ³•å¯ä»¥åƒè€ƒ&lt;a class="link" href="https://wayneblog.ga/2022-09-26/ngrok-basic/" target="_blank" rel="noopener"
>é€™è£¡&lt;/a>ã€‚&lt;/p>
&lt;/blockquote>
&lt;hr></description></item><item><title>è©¦ç”¨ RunKit</title><link>https://wayneblog.ga/2022-11-14/try-runkit/</link><pubDate>Mon, 14 Nov 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-11-14/try-runkit/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52498373077_445fbf68b7_o.jpg" alt="Featured image of post è©¦ç”¨ RunKit" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://medium.com/@aafenguk/%e8%af%95%e7%94%a8runkit-1a175869b588" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="è©¦ç”¨runkit">è©¦ç”¨RunKit&lt;/h2>
&lt;p>å…ˆä¾†èªªèªª RunKit æ˜¯ä»€éº¼ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼ŒRunkit å¯ä»¥è®“ä½ åœ¨ç€è¦½å™¨ä¸­é‹è¡Œ Node.js çš„ä»£ç¢¼ã€‚åœ¨ Runkit ä¸­ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„èª¿ç”¨çœ¾å¤šçš„ &lt;strong>npm æ¨¡å¡Š&lt;/strong>ã€‚é€™å°±æœ‰é»åƒ Node.js ç‰ˆçš„ Jupyter Notebookã€‚åŒæ™‚ï¼ŒRunkit é‚„å¯ä»¥æä¾›ä¸€å€‹&lt;strong>å…è²»çš„ HTTP æœå‹™å™¨&lt;/strong>è€Œç„¡éœ€ä»»ä½•çš„æœå‹™å™¨å®‰è£å’Œé…ç½®ã€‚é€™åœ¨é–‹ç™¼æ‰‹æ©Ÿ APP çš„æœå‹™å™¨ç«¯ï¼Œä»¥åŠå¾®æœå‹™çš„æ™‚å€™å°¤å…¶æœ‰ç”¨ã€‚ç•¶ç„¶ï¼Œå¯¦ç¾ç„¡æœå‹™å™¨çš„é¸æ“‡å¾ˆå¤šï¼Œæ¯”å¦‚ AWS çš„ Lambda + API Gatewayï¼Œä½† RunKit çš„æœ€å¤§å„ªå‹¢å°±æ˜¯&lt;strong>å®Œå…¨å…è²»&lt;/strong>çš„ï¼Œé€™åœ¨é–‹ç™¼è»Ÿä»¶åŸå‹çš„æ™‚å€™å°±æ›´ç‚ºæ–¹ä¾¿äº†ã€‚&lt;/p>
&lt;p>ä¸‹é¢åˆ†åˆ¥ä¾†çœ‹çœ‹é€™å…©é …åŠŸèƒ½ã€‚&lt;/p>
&lt;p>æ‰“é–‹é é¢ï¼š &lt;a class="link" href="https://runkit.com/home" target="_blank" rel="noopener"
>https://runkit.com/home&lt;/a>&lt;/p>
&lt;p>å¯ä»¥é€šé Github æˆæ¬Šç™»éŒ„ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52499339005_5846e4c91c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç™»éŒ„æˆåŠŸå¾Œå¯ä»¥çœ‹åˆ°ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52499417688_b22fc7e975_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é»æ“Šé‹è¡ŒæŒ‰éˆ•å¾Œå°±å¯ä»¥åœ¨é é¢ä¸­çœ‹åˆ°åŸ·è¡Œçµæœï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52499338965_f2e405dd7a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>åœ¨ Runkit çš„é é¢ä¸­å¯ä»¥åƒæ­£å¸¸çš„ Node.js ç’°å¢ƒä¸€æ¨£é‹è¡Œå„ç¨® JS èªå¥ã€‚æ¯”å¦‚ï¼Œé‹è¡Œå¦‚ä¸‹çš„ç°¡å–®ä»£ç¢¼ç²å– Hive ä¸­æ–‡å€çš„æœ€æ–°æ–‡ç« ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">hive&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;@hiveio/hive-js&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Read posts from Hive
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">hive&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">api&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getDiscussionsByCreated&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">tag&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;hive-105017&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">limit&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">discussions&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">discussions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">post&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">discussions&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">post&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°è¿”å›çš„ç»“æœï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52499143664_3c8b028d58_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="api-endpoint">API Endpoint&lt;/h2>
&lt;p>å†ä¾†çœ‹çœ‹æˆ‘æœ€å–œæ­¡çš„ Runkit åŠŸèƒ½ï¼šæä¾›ç°¡å–®çš„ API endpointã€‚&lt;/p>
&lt;p>éå¸¸ç°¡å–®çš„æºç¢¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">exports&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">endpoint&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;API endpoint test&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å–®æ“Š &lt;code>publish&lt;/code> é€²è¡Œç™¼å¸ƒï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52499143649_3418c86d23_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç™¼å¸ƒå¾Œå–®æ“Š &lt;code>endpoint&lt;/code> å°±æœƒæ‰“é–‹å°æ‡‰çš„ API URLï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52498856886_942c86a5ed_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¯”å¦‚èªªï¼Œæˆ‘é€™è£¡çš„å°±æ˜¯ï¼š&lt;/p>
&lt;p>&lt;a class="link" href="https://api-jdcmj9qsmxmb.runkit.sh/" target="_blank" rel="noopener"
>https://api-jdcmj9qsmxmb.runkit.sh/&lt;/a>&lt;/p>
&lt;p>å¯ä»¥çœ‹åˆ°ï¼Œç„¡éœ€é…ç½®/é‹è¡Œæœå‹™å™¨ï¼Œå°±å¯ä»¥æœ‰è‡ªå·±çš„ API å¯ç”¨ï¼Œåˆæ˜¯ serverlessï¼ŒåŒæ™‚é‚„å…è²»ï¼Œæ˜¯ä¸æ˜¯å¾ˆçˆ½ï¼Ÿ&lt;/p>
&lt;hr></description></item><item><title>nvm - Nodejs ç‰ˆæœ¬éš¨ä½ åˆ‡æ›</title><link>https://wayneblog.ga/2022-10-27/nodejs-nvm/</link><pubDate>Thu, 27 Oct 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-10-27/nodejs-nvm/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52457342886_5035af0537_o.png" alt="Featured image of post nvm - Nodejs ç‰ˆæœ¬éš¨ä½ åˆ‡æ›" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://www.casper.tw/development/2022/01/10/install-nvm/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://titangene.github.io/article/nvm.html" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/articles/10207177" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://juejin.cn/post/7114648119807049741" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://israynotarray.com/other/20220127/999847254/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>&lt;code>nvm&lt;/code> æ˜¯ Node.js çš„ç‰ˆæœ¬ç®¡ç†å™¨ (version manager)ï¼Œå¯åœ¨åŒä¸€å°ä¸»æ©Ÿä¸Šå®‰è£å¤šå€‹ç‰ˆæœ¬çš„ Node.js ç’°å¢ƒï¼Œå› ç‚ºä¸åŒå°ˆæ¡ˆå¯èƒ½æœƒä½¿ç”¨ä¸åŒçš„ Node.js ç‰ˆæœ¬ï¼Œé‚£å°±éœ€è¦é€éä¸€å€‹ç‰ˆæœ¬ç®¡ç†å™¨ä¾†åˆ‡æ›ä¸åŒçš„ Node.js ç‰ˆæœ¬ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å®‰è£-nvm">å®‰è£ NVM&lt;/h2>
&lt;p>æ¥ä¸‹ä¾†åˆ° NVM çš„ &lt;a class="link" href="https://github.com/nvm-sh/nvm" target="_blank" rel="noopener"
>GitHub å„²å­˜åº«&lt;/a>ä¸‹è¼‰ï¼Œç„¡è«–ä½ æ˜¯ Windowsã€MacOSã€Unix ç³»çµ±éƒ½æœ‰å°æ‡‰çš„å®‰è£æ–¹å¼ã€‚&lt;/p>
&lt;h3 id="windows">Windows&lt;/h3>
&lt;p>&lt;a class="link" href="https://github.com/coreybutler/nvm-windows" target="_blank" rel="noopener"
>NVM for Windows&lt;/a> æœ‰æä¾›å®‰è£å·¥å…·ï¼Œä¸‹è¼‰å¾Œç…§è‘—å®‰è£ç²¾éˆä¾åºå®Œæˆå³å¯é‹ä½œï¼Œ&lt;a class="link" href="https://github.com/coreybutler/nvm-windows/releases" target="_blank" rel="noopener"
>ä¸‹è¼‰é€£çµ&lt;/a>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52456820192_202e0a9934_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>è«‹é¸æ“‡ &lt;code>nvm-setup&lt;/code> ä¸‹è¼‰ä¸¦å®‰è£&lt;/p>
&lt;/blockquote>
&lt;p>ä¸‹è¼‰å¾Œä¾å¾ªè‘—å®‰è£ç²¾éˆå³å¯å®Œæˆã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52457873753_af7dc7aa3f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å®Œæˆå¾Œï¼Œæ‰“é–‹ã€Œå‘½ä»¤æç¤ºå­—å…ƒã€å¯ä»¥è©¦è‘—è¼¸å…¥ &lt;code>nvm&lt;/code>ï¼Œå¦‚æœçœ‹åˆ°é¡ä¼¼ä»¥ä¸‹ç•«é¢å°±ç®—æ˜¯å®Œæˆäº†ã€‚&lt;/p>
&lt;h3 id="macos">MacOS&lt;/h3>
&lt;p>MacOS å‰‡æ˜¯ä½¿ç”¨æŒ‡ä»¤é€²è¡Œå®‰è£ï¼Œæ‰“é–‹ã€Œ&lt;code>çµ‚ç«¯æ©Ÿ&lt;/code>ã€æˆ–è‡ªè¡Œå®‰è£çš„ã€Œ&lt;code>iTerm&lt;/code>ã€ç­‰å·¥å…·ï¼Œè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤å³å¯é–‹å§‹å®‰è£ï¼Œï¼ˆ&lt;a class="link" href="https://github.com/nvm-sh/nvm#installing-and-updating" target="_blank" rel="noopener"
>æ›´å¤šç‰ˆæœ¬é€£çµ&lt;/a>ï¼‰ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh &lt;span class="p">|&lt;/span> bash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®‰è£å¾Œé æœŸæœƒé¡¯ç¤ºä»¥ä¸‹ç‰‡æ®µåŠç®—å®‰è£å®Œæˆï¼Œè€Œæ­¤æ™‚å¦‚æœä½ æœ‰å®‰è£å…¶å®ƒæŒ‡ä»¤å·¥å…·ï¼Œæœ‰å¯èƒ½æœƒç™¼ç”Ÿè¼¸å…¥ &lt;code>nvm&lt;/code> ç„¡æ³•å‘¼å«çš„ç‹€æ³ï¼ˆä¾‹å¦‚ï¼š&lt;code>zsh: command not found: nvm&lt;/code>ï¼‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52457793235_7cd79d2c74_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥ä¸‹ä¾†å¯ä»¥åœ¨ä½ æ‰€ä½¿ç”¨çš„å‘½ä»¤è¨­å®šæª”æ¡ˆåŠ å…¥ä»¥ä¸‹ç‰‡æ®µç¨‹å¼ç¢¼ï¼Œä»¥ä¸‹æä¾› &lt;code>bash&lt;/code>ã€&lt;code>zsh&lt;/code> çš„èªªæ˜ï¼Œå…©è€…ä¾æ“šç’°å¢ƒé¸æ“‡å…¶ä¸€å³å¯ï¼š&lt;/p>
&lt;ul>
&lt;li>bash(é è¨­)&lt;/li>
&lt;li>zsh&lt;/li>
&lt;/ul>
&lt;h4 id="bash">bash&lt;/h4>
&lt;p>é è¨­çš„æƒ…æ³ä¸‹ï¼ŒMacOS ä¸­å¯èƒ½æ²’æœ‰ä»»ä½•ä¸€å€‹æŒ‡ä»¤è¨­å®šæª”æ¡ˆï¼Œæ­¤æ™‚å¯ä»¥ä½¿ç”¨ &lt;code>touch ~/.bash_profile&lt;/code> æ–°å¢ä¸€å€‹æ–‡å­—æª”æ¡ˆåœ¨æ ¹ç›®éŒ„ä¸Šï¼Œæ¥ä¸‹ä¾†å›åˆ°è³‡æ–™æ ¹ç›®éŒ„å¯ä»¥æ‰¾åˆ° &lt;code>.bash_profile&lt;/code>ï¼Œæ²’çœ‹åˆ°çš„è©±ä»£è¡¨æœªé–‹å•Ÿéš±è—æª”æ¡ˆé¡¯ç¤ºï¼Œå¯ä»¥æŒ‰ä¸‹ &lt;code>Command + Shift+ .&lt;/code> é¡¯ç¤ºã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52457342821_661ea0b5ec_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥ä¸‹ä¾†ä½¿ç”¨ä»»ä½•æ–‡å­—ç·¨è¼¯å™¨æ‰“é–‹è©²æª”æ¡ˆï¼Œä¸¦åŠ å…¥ä»¥ä¸‹ç¨‹å¼ç¢¼å­˜æª”å³å¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">NVM_DIR&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$HOME&lt;/span>&lt;span class="s2">/.nvm&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span> -s &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$NVM_DIR&lt;/span>&lt;span class="s2">/nvm.sh&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\.&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$NVM_DIR&lt;/span>&lt;span class="s2">/nvm.sh&amp;#34;&lt;/span> &lt;span class="c1"># This loads nvm&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span> -s &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$NVM_DIR&lt;/span>&lt;span class="s2">/bash_completion&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\.&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$NVM_DIR&lt;/span>&lt;span class="s2">/bash_completion&amp;#34;&lt;/span> &lt;span class="c1"># This loads nvm bash_completion&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="zsh">zsh&lt;/h4>
&lt;p>å¯ä»¥æ‰“é–‹ &lt;code>.zshrc&lt;/code> åŠ å…¥ä»¥ä¸‹ç‰‡æ®µå¾Œé‡å•Ÿï¼ˆæ³¨æ„ï¼š&lt;code>.zshrc&lt;/code> é€šå¸¸åœ¨ä½¿ç”¨è€…&lt;code>æ ¹ç›®éŒ„&lt;/code>ä¸‹ä¸¦ä¸”ç‚ºéš±è—æª”ï¼Œæ‰¾åˆ°å¾Œä½¿ç”¨ä»»ä½•æ–‡å­—ç·¨è¼¯å™¨æ‰“é–‹ç·¨è¼¯ï¼‰ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">NVM_DIR&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$HOME&lt;/span>&lt;span class="s2">/.nvm&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span> -s &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$NVM_DIR&lt;/span>&lt;span class="s2">/nvm.sh&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\.&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$NVM_DIR&lt;/span>&lt;span class="s2">/nvm.sh&amp;#34;&lt;/span> &lt;span class="c1"># This loads nvm&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span> -s &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$NVM_DIR&lt;/span>&lt;span class="s2">/bash_completion&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\.&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$NVM_DIR&lt;/span>&lt;span class="s2">/bash_completion&amp;#34;&lt;/span> &lt;span class="c1"># This loads nvm bash_completion&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¨­å®šå®Œæˆä»¥å¾Œï¼ŒæŒ‰ä¸‹ &lt;code>nvm&lt;/code> å°±æœƒè·³å‡ºå¦‚ä¸‹åœ–å°±ç®—å®Œæˆäº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52457342806_57a0eb7a0b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>æ³¨æ„ï¼š&lt;/p>
&lt;ul>
&lt;li>ä½¿ç”¨ &lt;code>nvm&lt;/code> æ™‚ï¼Œä¸éœ€è¦ &lt;code>sudo&lt;/code> å³å¯ä½¿ç”¨ &lt;code>npm -g&lt;/code> å…¨åŸŸå®‰è£æ¨¡çµ„ï¼Œæ‰€ä»¥èˆ‡å…¶åŸ·è¡Œ &lt;code>sudo npm i -g&lt;/code>ï¼Œä¸å¦‚åŸ·è¡Œ &lt;code>npm i -g&lt;/code>&lt;/li>
&lt;li>è‹¥ä½ æœ‰ &lt;code>~/.npmrc&lt;/code>ï¼Œè«‹ç¢ºä¿è£¡é¢ä¸åŒ…å«ä»»ä½• &lt;code>prefix&lt;/code> çš„è¨­å®š (å› ç‚ºèˆ‡ &lt;code>nvm&lt;/code> ä¸ç›¸å®¹)&lt;/li>
&lt;li>ä½ å¯ä»¥ (ä½†ä¸æ‡‰è©²) ä¿ç•™ä»¥å‰åœ¨ &amp;ldquo;ç³»çµ±&amp;rdquo; å®‰è£çš„ Node.jsï¼Œä½† &lt;code>nvm&lt;/code> åªå°ä½ çš„ä½¿ç”¨è€…å¸³æˆ¶ (ç”¨æ–¼å®‰è£ &lt;code>nvm&lt;/code> çš„ä½¿ç”¨è€…å¸³æˆ¶) å¯ç”¨ã€‚å¯èƒ½æœƒå°è‡´ç‰ˆæœ¬ä¸ matchï¼Œå› ç‚ºå…¶ä»–ä½¿ç”¨è€…æœƒä½¿ç”¨ &lt;code>/usr/local/lib/node_modules/*&lt;/code>ï¼Œè€Œä½¿ç”¨è€…å¸³æˆ¶æœƒä½¿ç”¨ &lt;code>~/.nvm/versions/node/vX.X.X/lib/node_modules/*&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="å¸¸ç”¨çš„-nvm-æŒ‡ä»¤">å¸¸ç”¨çš„ NVM æŒ‡ä»¤&lt;/h2>
&lt;p>ç›´æ¥è¼¸å…¥ &lt;code>nvm&lt;/code> åŠå¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„æŒ‡ä»¤åˆ—è¡¨ï¼Œåœ¨æ­¤åƒ…åˆ—å‡ºæœ€å¸¸è¦‹çš„å¹¾å€‹æŒ‡ä»¤ï¼ˆåŸºæœ¬ä¸Šå¸¸ç”¨çš„åªæœ‰å…©ä¸‰å€‹ï¼Œå‰©ä¸‹å¹¾å€‹åªè¦èªè­˜å³å¯ï¼‰&lt;/p>
&lt;h3 id="versionç¢ºèª-nvm-æ˜¯å¦å®‰è£æˆåŠŸ-aliasv">&lt;code>version&lt;/code>ï¼šç¢ºèª NVM æ˜¯å¦å®‰è£æˆåŠŸ (aliasï¼š&lt;code>v&lt;/code>)&lt;/h3>
&lt;h5 id="usage">Usageï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nvm version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvm v
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æŸ¥çœ‹-nvm-çš„ç‰ˆæœ¬">æŸ¥çœ‹ NVM çš„ç‰ˆæœ¬&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ nvm v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1.1.9
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="installåˆ©ç”¨-nvm-å®‰è£-nodejs">&lt;code>install&lt;/code>ï¼šåˆ©ç”¨ NVM å®‰è£ Node.js&lt;/h3>
&lt;h5 id="usage-1">Usageï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nvm install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># {version} æ¬²å®‰è£çš„ Node.js ç‰ˆæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># {arch} æ¬²å®‰è£çš„ system archï¼š32ã€64ã€&amp;#34;all&amp;#34; (é è¨­ç‚ºç•¶å‰ç³»çµ±)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvm install &amp;lt;version&amp;gt; &lt;span class="o">[&lt;/span>arch&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®‰è£ NVM å¾Œï¼Œå…¶å¯¦é‚„æ²’å®‰è£ Node ç’°å¢ƒï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ node
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">zsh: &lt;span class="nb">command&lt;/span> not found: node
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœåŸ·è¡Œä¸‹é¢æŒ‡ä»¤ï¼Œæœƒæé†’ä½ éœ€è¦åŸ·è¡Œ &lt;code>install&lt;/code> æŒ‡ä»¤æ‰èƒ½å®‰è£ Node.jsï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ nvm use node
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">N/A: version &lt;span class="s2">&amp;#34;node -&amp;gt; N/A&amp;#34;&lt;/span> is not yet installed.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">You need to run &lt;span class="s2">&amp;#34;nvm install node&amp;#34;&lt;/span> to install it before using it.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®‰è£æœ€æ–°ç‰ˆçš„ Node.jsï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ nvm install node
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Downloading and installing node v12.8.1...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Downloading https://nodejs.org/dist/v12.8.1/node-v12.8.1-linux-x64.tar.xz...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#################################################################################################### 100.0%&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Computing checksum with sha256sum
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Checksums matched!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Now using node v12.8.1 &lt;span class="o">(&lt;/span>npm v6.10.2&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Creating default alias: default -&amp;gt; node &lt;span class="o">(&lt;/span>-&amp;gt; v12.8.1&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="å¦‚æœè¦æŒ‡å®šå®‰è£ç‰ˆæœ¬å¯ä»¥ç›´æ¥æŒ‡å®šç‰ˆæœ¬è™Ÿ">å¦‚æœè¦æŒ‡å®šå®‰è£ç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥æŒ‡å®šç‰ˆæœ¬è™Ÿ&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ nvm install 16.18.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®‰è£çš„ç¬¬ä¸€å€‹ç‰ˆæœ¬çš„ Node.js æœƒæˆç‚º &lt;code>nvm&lt;/code> çš„&lt;code>é è¨­ç‰ˆæœ¬&lt;/code>ï¼Œæ–°çš„ shell å°±æœƒä»¥é è¨­ç‰ˆæœ¬çš„ Node.js ä¾†ä½¿ç”¨ (ä¾‹å¦‚ï¼š&lt;code>nvm alias default&lt;/code>)ã€‚&lt;/p>
&lt;p>æŸ¥çœ‹ç›®å‰å®‰è£ Node.js çš„ç‰ˆæœ¬ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ node -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">v16.18.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="uninstallåˆ©ç”¨-nvm-è§£é™¤å®‰è£æŒ‡å®šçš„-nodejs-ç‰ˆæœ¬">&lt;code>uninstall&lt;/code>ï¼šåˆ©ç”¨ NVM è§£é™¤å®‰è£æŒ‡å®šçš„ Node.js ç‰ˆæœ¬&lt;/h3>
&lt;h5 id="usage-2">Usageï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nvm uninstall &amp;lt;version&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="listæŸ¥çœ‹å¯ç”¨çš„å®‰è£ç‰ˆæœ¬-aliasls">&lt;code>list&lt;/code>ï¼šæŸ¥çœ‹å¯ç”¨çš„å®‰è£ç‰ˆæœ¬ (aliasï¼š&lt;code>ls&lt;/code>)&lt;/h3>
&lt;h5 id="usage-3">Usageï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nvm list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvm ls
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>nvm list&lt;/code>ï¼šæŸ¥çœ‹å·²å®‰è£çš„ç‰ˆæœ¬&lt;/li>
&lt;li>&lt;code>nvm list installed&lt;/code>ï¼šæŸ¥çœ‹å·²å®‰è£çš„ç‰ˆæœ¬&lt;/li>
&lt;li>&lt;code>nvm list available&lt;/code>ï¼šæŸ¥çœ‹é ç«¯å¯å®‰è£çš„ç‰ˆæœ¬&lt;/li>
&lt;/ul>
&lt;h4 id="æŸ¥çœ‹ç›®å‰-nodejs-æœ‰å“ªäº›å¯ç”¨ç‰ˆæœ¬å¯å®‰è£">æŸ¥çœ‹ç›®å‰ Node.js æœ‰å“ªäº›å¯ç”¨ç‰ˆæœ¬å¯å®‰è£&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ nvm ls available
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> CURRENT &lt;span class="p">|&lt;/span> LTS &lt;span class="p">|&lt;/span> OLD STABLE &lt;span class="p">|&lt;/span> OLD UNSTABLE &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span>--------------&lt;span class="p">|&lt;/span>--------------&lt;span class="p">|&lt;/span>--------------&lt;span class="p">|&lt;/span>--------------&lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 19.0.0 &lt;span class="p">|&lt;/span> 18.12.0 &lt;span class="p">|&lt;/span> 0.12.18 &lt;span class="p">|&lt;/span> 0.11.16 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 18.11.0 &lt;span class="p">|&lt;/span> 16.18.0 &lt;span class="p">|&lt;/span> 0.12.17 &lt;span class="p">|&lt;/span> 0.11.15 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 18.10.0 &lt;span class="p">|&lt;/span> 16.17.1 &lt;span class="p">|&lt;/span> 0.12.16 &lt;span class="p">|&lt;/span> 0.11.14 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 18.9.1 &lt;span class="p">|&lt;/span> 16.17.0 &lt;span class="p">|&lt;/span> 0.12.15 &lt;span class="p">|&lt;/span> 0.11.13 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 18.9.0 &lt;span class="p">|&lt;/span> 16.16.0 &lt;span class="p">|&lt;/span> 0.12.14 &lt;span class="p">|&lt;/span> 0.11.12 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 18.8.0 &lt;span class="p">|&lt;/span> 16.15.1 &lt;span class="p">|&lt;/span> 0.12.13 &lt;span class="p">|&lt;/span> 0.11.11 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 18.7.0 &lt;span class="p">|&lt;/span> 16.15.0 &lt;span class="p">|&lt;/span> 0.12.12 &lt;span class="p">|&lt;/span> 0.11.10 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 18.6.0 &lt;span class="p">|&lt;/span> 16.14.2 &lt;span class="p">|&lt;/span> 0.12.11 &lt;span class="p">|&lt;/span> 0.11.9 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 18.5.0 &lt;span class="p">|&lt;/span> 16.14.1 &lt;span class="p">|&lt;/span> 0.12.10 &lt;span class="p">|&lt;/span> 0.11.8 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 18.4.0 &lt;span class="p">|&lt;/span> 16.14.0 &lt;span class="p">|&lt;/span> 0.12.9 &lt;span class="p">|&lt;/span> 0.11.7 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 18.3.0 &lt;span class="p">|&lt;/span> 16.13.2 &lt;span class="p">|&lt;/span> 0.12.8 &lt;span class="p">|&lt;/span> 0.11.6 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 18.2.0 &lt;span class="p">|&lt;/span> 16.13.1 &lt;span class="p">|&lt;/span> 0.12.7 &lt;span class="p">|&lt;/span> 0.11.5 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 18.1.0 &lt;span class="p">|&lt;/span> 16.13.0 &lt;span class="p">|&lt;/span> 0.12.6 &lt;span class="p">|&lt;/span> 0.11.4 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 18.0.0 &lt;span class="p">|&lt;/span> 14.20.1 &lt;span class="p">|&lt;/span> 0.12.5 &lt;span class="p">|&lt;/span> 0.11.3 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 17.9.1 &lt;span class="p">|&lt;/span> 14.20.0 &lt;span class="p">|&lt;/span> 0.12.4 &lt;span class="p">|&lt;/span> 0.11.2 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 17.9.0 &lt;span class="p">|&lt;/span> 14.19.3 &lt;span class="p">|&lt;/span> 0.12.3 &lt;span class="p">|&lt;/span> 0.11.1 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 17.8.0 &lt;span class="p">|&lt;/span> 14.19.2 &lt;span class="p">|&lt;/span> 0.12.2 &lt;span class="p">|&lt;/span> 0.11.0 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 17.7.2 &lt;span class="p">|&lt;/span> 14.19.1 &lt;span class="p">|&lt;/span> 0.12.1 &lt;span class="p">|&lt;/span> 0.9.12 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 17.7.1 &lt;span class="p">|&lt;/span> 14.19.0 &lt;span class="p">|&lt;/span> 0.12.0 &lt;span class="p">|&lt;/span> 0.9.11 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> 17.7.0 &lt;span class="p">|&lt;/span> 14.18.3 &lt;span class="p">|&lt;/span> 0.10.48 &lt;span class="p">|&lt;/span> 0.9.10 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>é€šå¸¸æœƒé¸æ“‡å®‰è£ &lt;code>LTS&lt;/code> (&lt;code>Long-term support&lt;/code>ï¼Œé•·æœŸæ”¯æ´) ç‰ˆ&lt;/p>
&lt;/blockquote>
&lt;h4 id="æŸ¥çœ‹ç›®å‰å·²å®‰è£çš„ç‰ˆæœ¬">æŸ¥çœ‹ç›®å‰å·²å®‰è£çš„ç‰ˆæœ¬&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ nvm ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * 16.18.0 &lt;span class="o">(&lt;/span>Currently using 64-bit executable&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 14.18.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="useåˆ‡æ›-nodejs-ç‰ˆæœ¬">&lt;code>use&lt;/code>ï¼šåˆ‡æ› Node.js ç‰ˆæœ¬&lt;/h3>
&lt;h5 id="usage-4">Usageï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nvm use
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># {version} æ¬²åˆ‡æ›çš„ Node.js ç‰ˆæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># {arch} æ¬²åˆ‡æ›çš„ system archï¼š32ã€64ã€&amp;#34;all&amp;#34; (é è¨­ç‚ºç•¶å‰ç³»çµ±)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nvm use &amp;lt;version&amp;gt; &lt;span class="o">[&lt;/span>arch&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="å¦‚æœè¦ä½¿ç”¨-nvm-åˆ‡æ›æ­£åœ¨ä½¿ç”¨çš„-nodejs-ç‰ˆæœ¬å¯ç”¨-use-æŒ‡ä»¤">å¦‚æœè¦ä½¿ç”¨ &lt;code>nvm&lt;/code> åˆ‡æ›æ­£åœ¨ä½¿ç”¨çš„ Node.js ç‰ˆæœ¬ï¼Œå¯ç”¨ &lt;code>use&lt;/code> æŒ‡ä»¤&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nvm use v16.18.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœåˆ‡æ›çš„ç›®æ¨™ç‰ˆæœ¬é‚„æ²’å®‰è£ï¼Œ&lt;code>nvm&lt;/code> æœƒæé†’ä½ è¦å®‰è£ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ nvm use v14.18.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">node v14.18.0 &lt;span class="o">(&lt;/span>64-bit&lt;span class="o">)&lt;/span> is not installed.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€é &lt;code>nvm&lt;/code> å®‰è£ Node.js æ™‚ï¼Œ&lt;code>nvm&lt;/code> æœƒå°‡ä¸åŒçš„ Node.js ç‰ˆæœ¬å„²å­˜åœ¨ &lt;code>~/.nvm/versions/node/vX.X.X&lt;/code>ï¼Œç„¶å¾Œå†ä¿®æ”¹ &lt;code>$PATH&lt;/code>ï¼Œå°‡æŒ‡å®šç‰ˆæœ¬çš„ Node.js è·¯å¾‘åŠ å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ nvm current
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">v10.16.3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ &lt;span class="nb">echo&lt;/span> &lt;span class="nv">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/home/titan/.nvm/versions/node/v10.16.3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ use v12.13.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ nvm current
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">v12.13.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ &lt;span class="nb">echo&lt;/span> &lt;span class="nv">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/home/titan/.nvm/versions/node/v12.13.1/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>åœ¨ &lt;code>nvm&lt;/code> çš„å„å€‹ Node.js ç‰ˆæœ¬å®‰è£çš„å…¨åŸŸå¥—ä»¶éƒ½æœƒåœ¨å„è‡ªç‰ˆæœ¬çš„ç›®éŒ„å…§å®‰è£ï¼Œæ‰€ä»¥åœ¨åˆ‡æ›è‡³æ–°å®‰è£çš„ Node.js ç‰ˆæœ¬å¾Œéœ€è¦é‡æ–°å®‰è£ï¼Œä¹Ÿå› ç‚ºå¦‚æ­¤ï¼Œä¸åŒç‰ˆæœ¬é–“çš„å¥—ä»¶å°±ä¸æœƒæœ‰è¡çªå•é¡Œã€‚&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h3 id="currentæŸ¥çœ‹ç›®å‰ä½¿ç”¨çš„ç‰ˆæœ¬">&lt;code>current&lt;/code>ï¼šæŸ¥çœ‹ç›®å‰ä½¿ç”¨çš„ç‰ˆæœ¬&lt;/h3>
&lt;h5 id="usage-5">Usageï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nvm current
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="å¦‚æœå¿˜è¨˜è‡ªå·±åˆ‡æ›åˆ°å“ªå€‹ç‰ˆæœ¬å¯ä»¥ç”¨-current-æŒ‡ä»¤">å¦‚æœå¿˜è¨˜è‡ªå·±åˆ‡æ›åˆ°å“ªå€‹ç‰ˆæœ¬ï¼Œå¯ä»¥ç”¨ &lt;code>current&lt;/code> æŒ‡ä»¤&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ nvm current
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">v16.18.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="runç›´æ¥åŸ·è¡Œ-nodejs-nvm-119ç‰ˆå·²æ‹”é™¤">&lt;del>&lt;code>run&lt;/code>ï¼šç›´æ¥åŸ·è¡Œ Node.js (NVM 1.1.9ç‰ˆå·²æ‹”é™¤)&lt;/del>&lt;/h3>
&lt;h4 id="å¦‚æœè¦ç›´æ¥åŸ·è¡Œ-nodejså¯ä»¥ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤">&lt;del>å¦‚æœè¦ç›´æ¥åŸ·è¡Œ Node.jsï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤&lt;/del>&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ nvm run node
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Running node v16.18.0 &lt;span class="o">(&lt;/span>npm v8.19.2&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Welcome to Node.js v16.18.0.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Type &lt;span class="s2">&amp;#34;.help&amp;#34;&lt;/span> &lt;span class="k">for&lt;/span> more information.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="execæŒ‡å®šè¦åŸ·è¡Œçš„-nodejs-ç‰ˆæœ¬-nvm-119ç‰ˆå·²æ‹”é™¤">&lt;del>&lt;code>exec&lt;/code>ï¼šæŒ‡å®šè¦åŸ·è¡Œçš„ Node.js ç‰ˆæœ¬ (NVM 1.1.9ç‰ˆå·²æ‹”é™¤)&lt;/del>&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ nvm &lt;span class="nb">exec&lt;/span> 12.8.1 node
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Running node v12.8.1 &lt;span class="o">(&lt;/span>npm v6.10.2&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Welcome to Node.js v12.8.1.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Type &lt;span class="s2">&amp;#34;.help&amp;#34;&lt;/span> &lt;span class="k">for&lt;/span> more information.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="whichå¯Ÿçœ‹-nodejs-çš„å®‰è£è·¯å¾‘-nvm-119ç‰ˆå·²æ‹”é™¤">&lt;del>&lt;code>which&lt;/code>ï¼šå¯Ÿçœ‹ Node.js çš„å®‰è£è·¯å¾‘ (NVM 1.1.9ç‰ˆå·²æ‹”é™¤)&lt;/del>&lt;/h3>
&lt;h4 id="åŸ·è¡Œä¸‹é¢æŒ‡ä»¤å¯ä»¥æŸ¥çœ‹ç‰¹å®šç‰ˆæœ¬çš„-nodejs-çš„å®‰è£è·¯å¾‘">&lt;del>åŸ·è¡Œä¸‹é¢æŒ‡ä»¤å¯ä»¥æŸ¥çœ‹ç‰¹å®šç‰ˆæœ¬çš„ Node.js çš„å®‰è£è·¯å¾‘&lt;/del>&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ nvm which 12.8.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/home/titan/.nvm/versions/node/v12.8.1/bin/node
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="aliasæŸ¥çœ‹åˆ¥åè¨­å®šåˆ¥å">aliasï¼šæŸ¥çœ‹åˆ¥åã€è¨­å®šåˆ¥å&lt;/h3>
&lt;h5 id="usage-6">Usageï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ nvm &lt;span class="nb">alias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">default -&amp;gt; v10.16.3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">node -&amp;gt; stable &lt;span class="o">(&lt;/span>-&amp;gt; v12.8.1&lt;span class="o">)&lt;/span> &lt;span class="o">(&lt;/span>default&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">stable -&amp;gt; 12.8 &lt;span class="o">(&lt;/span>-&amp;gt; v12.8.1&lt;span class="o">)&lt;/span> &lt;span class="o">(&lt;/span>default&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iojs -&amp;gt; N/A &lt;span class="o">(&lt;/span>default&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">unstable -&amp;gt; N/A &lt;span class="o">(&lt;/span>default&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lts/* -&amp;gt; lts/erbium &lt;span class="o">(&lt;/span>-&amp;gt; N/A&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lts/argon -&amp;gt; v4.9.1 &lt;span class="o">(&lt;/span>-&amp;gt; N/A&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lts/boron -&amp;gt; v6.17.1 &lt;span class="o">(&lt;/span>-&amp;gt; N/A&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lts/carbon -&amp;gt; v8.16.2 &lt;span class="o">(&lt;/span>-&amp;gt; N/A&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lts/dubnium -&amp;gt; v10.17.0 &lt;span class="o">(&lt;/span>-&amp;gt; N/A&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lts/erbium -&amp;gt; v12.13.0 &lt;span class="o">(&lt;/span>-&amp;gt; N/A&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="å¦‚ä¸‹åœ–æœ‰äº›ç‰ˆæœ¬çš„æ–‡å­—æ˜¯ç´…è‰²æˆ–æ˜¯é¡¯ç¤º-naå°±ä»£è¡¨è©²ç‰ˆæœ¬æœªåœ¨é›»è…¦å®‰è£">å¦‚ä¸‹åœ–æœ‰äº›ç‰ˆæœ¬çš„æ–‡å­—æ˜¯ç´…è‰²æˆ–æ˜¯é¡¯ç¤º &lt;code>N/A&lt;/code>ï¼Œå°±ä»£è¡¨è©²ç‰ˆæœ¬æœªåœ¨é›»è…¦å®‰è£&lt;/h4>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52457611454_28089255f3_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="é è¨­-alias-å¯ä»¥å–ä»£ç‰ˆæœ¬è™Ÿ">é è¨­ alias å¯ä»¥å–ä»£ç‰ˆæœ¬è™Ÿ&lt;/h4>
&lt;ul>
&lt;li>&lt;code>node&lt;/code>ï¼šå®‰è£æœ€æ–°ç‰ˆçš„ Node.js&lt;/li>
&lt;li>&lt;code>iojs&lt;/code>ï¼šå®‰è£æœ€æ–°ç‰ˆçš„ io.js&lt;/li>
&lt;li>&lt;code>stable&lt;/code>ï¼šæ­¤ alias å·²æ£„ç”¨ï¼Œåƒ…é©ç”¨æ–¼ v0.12 ä»¥åŠæ›´èˆŠç‰ˆï¼Œç›®å‰æ”¹ç‚º node alias&lt;/li>
&lt;li>&lt;code>unstable&lt;/code>ï¼šæ­¤ alias ç‚º v0.11ï¼Œæœ€å¾Œä¸€å€‹ â€œunstableâ€ (ä¸ç©©å®š) Node releaseï¼Œåœ¨ v1.0 ä¹‹å¾Œçš„ç‰ˆæœ¬éƒ½æ˜¯ç©©å®šç‰ˆ (in SemVer, versions communicate breakage, not stability)&lt;/li>
&lt;/ul>
&lt;p>å¯åœ¨ä¸‹é¢é€™äº›æŒ‡ä»¤ä½¿ç”¨ä»¥ä¸Šé è¨­åˆ¥åï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>nvm install&lt;/code>&lt;/li>
&lt;li>&lt;code>nvm use&lt;/code>&lt;/li>
&lt;li>&lt;code>nvm run&lt;/code>&lt;/li>
&lt;li>&lt;code>nvm exec&lt;/code>&lt;/li>
&lt;li>&lt;code>nvm which&lt;/code>&lt;/li>
&lt;li>â€¦ ç­‰&lt;/li>
&lt;/ul>
&lt;h4 id="è¨­å®šåˆ¥å">è¨­å®šåˆ¥å&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ nvm &lt;span class="nb">alias&lt;/span> v16-test v16.18.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">v16-test -&amp;gt; v16.18.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ¥è‘—ç”¨-nvm-alias-æŒ‡ä»¤å°±æœƒçœ‹åˆ°å‰›å‰›æ–°å¢çš„åˆ¥åæ‰€å°æ‡‰çš„-nodejs-ç‰ˆæœ¬">æ¥è‘—ç”¨ &lt;code>nvm alias&lt;/code> æŒ‡ä»¤å°±æœƒçœ‹åˆ°å‰›å‰›æ–°å¢çš„åˆ¥åæ‰€å°æ‡‰çš„ Node.js ç‰ˆæœ¬&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ nvm &lt;span class="nb">alias&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">v16-test -&amp;gt; v10.15.3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">default -&amp;gt; v10.16.3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">node -&amp;gt; stable &lt;span class="o">(&lt;/span>-&amp;gt; v12.8.1&lt;span class="o">)&lt;/span> &lt;span class="o">(&lt;/span>default&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">stable -&amp;gt; 12.8 &lt;span class="o">(&lt;/span>-&amp;gt; v12.8.1&lt;span class="o">)&lt;/span> &lt;span class="o">(&lt;/span>default&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iojs -&amp;gt; N/A &lt;span class="o">(&lt;/span>default&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">unstable -&amp;gt; N/A &lt;span class="o">(&lt;/span>default&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lts/* -&amp;gt; lts/erbium &lt;span class="o">(&lt;/span>-&amp;gt; N/A&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lts/argon -&amp;gt; v4.9.1 &lt;span class="o">(&lt;/span>-&amp;gt; N/A&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lts/boron -&amp;gt; v6.17.1 &lt;span class="o">(&lt;/span>-&amp;gt; N/A&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lts/carbon -&amp;gt; v8.16.2 &lt;span class="o">(&lt;/span>-&amp;gt; N/A&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lts/dubnium -&amp;gt; v10.17.0 &lt;span class="o">(&lt;/span>-&amp;gt; N/A&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lts/erbium -&amp;gt; v12.13.0 &lt;span class="o">(&lt;/span>-&amp;gt; N/A&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å¸¸è¦‹éŒ¯èª¤åŸå› ">å¸¸è¦‹éŒ¯èª¤åŸå› &lt;/h2>
&lt;h3 id="å ±éŒ¯-exit-status-1æˆ–-exit-status-5-å•é¡Œ">å ±éŒ¯ exit status 1(æˆ– exit status 5) å•é¡Œ&lt;/h3>
&lt;p>å‡ºç¾ &lt;code>exit status 1 å­˜å–è¢«æ‹’&lt;/code> æˆ– &lt;code>exit status 5 å­˜å–è¢«æ‹’&lt;/code>ï¼Œéœ€è¦ç”¨ç®¡ç†å“¡èº«åˆ†æ‰“é–‹ cmd å‘½ä»¤åˆ—å·¥å…·ï¼Œå†åŸ·è¡Œ &lt;code>nvm use &amp;lt;version&amp;gt;&lt;/code> å³å¯ã€‚&lt;/p>
&lt;h3 id="å ±éŒ¯-exit-status-145-å•é¡Œ">å ±éŒ¯ exit status 145 å•é¡Œ&lt;/h3>
&lt;p>é€™å€‹å•é¡Œå¯ä»¥åœ¨ github nvm-windows ä¸‹æ‰¾åˆ°ç­”æ¡ˆï¼Œ&lt;code>nvm&lt;/code> å®‰è£çš„æ™‚å€™æœ‰å…©å€‹å®‰è£ç›®éŒ„ï¼Œä¸€å€‹æ˜¯ &lt;code>nvm&lt;/code> å®‰è£ç›®éŒ„ï¼Œä¸€å€‹æ˜¯ &lt;code>nodejs&lt;/code> å®‰è£ç›®éŒ„ï¼Œé€™å…©å€‹å®‰è£ç›®éŒ„å&lt;strong>ä¸èƒ½å‡ºç¾ç©ºæ ¼æˆ–ä¸­æ–‡&lt;/strong>ï¼Œä½†æ˜¯ &lt;code>nodejs&lt;/code> é»˜èªå®‰è£ç›®éŒ„æ˜¯ &lt;strong>C:\Program Files\nodejs&lt;/strong>ï¼Œé€™å€‹ç›®éŒ„ä¸­é–“æœ‰ç©ºæ ¼ï¼Œéœ€è¦æˆ‘å€‘è‡ªå®šç¾©ä¸€å€‹å®‰è£ç›®éŒ„ï¼Œå³å¯è§£æ±ºé€™å€‹å•é¡Œã€‚&lt;/p>
&lt;h4 id="bonusæ°¸é ä»¥ç³»çµ±ç®¡ç†è€…èº«ä»½åŸ·è¡Œ">BONUSï¼šæ°¸é ä»¥ç³»çµ±ç®¡ç†è€…èº«ä»½åŸ·è¡Œ&lt;/h4>
&lt;p>æ¯æ¬¡éƒ½è¦ä½¿ç”¨ã€Œä»¥ç³»çµ±ç®¡ç†è€…èº«ä»½åŸ·è¡Œã€ä¾†é–‹å•Ÿçµ‚ç«¯æ©Ÿæ˜¯çœŸçš„æ»¿éº»ç…©çš„ï¼Œæ‰€ä»¥ä½ å…¶å¯¦å¯ä»¥é‡å°æ‡‰ç”¨ç¨‹å¼æ°¸é ã€Œä»¥ç³»çµ±ç®¡ç†è€…èº«ä»½åŸ·è¡Œã€ï¼Œé¦–å…ˆé»ä½ è¦æ°¸é åŸ·è¡Œçš„ç¨‹å¼å³éµé¸å…§å®¹&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52457748999_03c546aaba_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é»é¸ä¸‹æ–¹é€²éš&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52457748984_fe07a2b50b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å°‡ã€Œä»¥ç³»çµ±ç®¡ç†å“¡èº«ä»½åŸ·è¡Œã€æ‰“å‹¾&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52457931905_56227dda4c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æå®šï¼Œä¹‹å¾Œä½¿ç”¨æ·å¾‘æ‰“é–‹ &lt;code>cmd&lt;/code> æ™‚ï¼Œçš†ç‚ºã€Œä»¥ç³»çµ±ç®¡ç†å“¡èº«ä»½åŸ·è¡Œã€&lt;/p>
&lt;hr>
&lt;h2 id="ç¸½çµ">ç¸½çµ&lt;/h2>
&lt;p>&lt;code>nvm&lt;/code> æŒ‡ä»¤æ•´ç†&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>æŒ‡ä»¤&lt;/th>
&lt;th>åŠŸèƒ½&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>nvm version&lt;/code>&lt;br/>&lt;code>nvm v&lt;/code>&lt;/td>
&lt;td>æŸ¥çœ‹ &lt;code>nvm&lt;/code> ç‰ˆæœ¬&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>nvm install &amp;lt;version&amp;gt;&lt;/code>&lt;/td>
&lt;td>å®‰è£æŒ‡å®š &lt;code>&amp;lt;version&amp;gt;&lt;/code> ç‰ˆæœ¬çš„ Node.js&lt;br/>(å»ºè­°å®‰è£ &lt;code>LTS&lt;/code> ç‰ˆæœ¬)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>nvm ls&lt;/code>&lt;br/>&lt;code>nvm ls installed&lt;/code>&lt;/td>
&lt;td>æŸ¥çœ‹ç›®å‰å·²å®‰è£çš„ Node.js ç‰ˆæœ¬&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>nvm ls available&lt;/code>&lt;/td>
&lt;td>æŸ¥çœ‹ç›®å‰å¯å®‰è£çš„ Node.js ç‰ˆæœ¬&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>nvm use &amp;lt;version&amp;gt;&lt;/code>&lt;/td>
&lt;td>åˆ‡æ›æŒ‡å®š &lt;code>&amp;lt;version&amp;gt;&lt;/code> ç‰ˆæœ¬çš„ Node.js&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>nvm current&lt;/code>&lt;/td>
&lt;td>æŸ¥çœ‹ç•¶å‰ä½¿ç”¨çš„ Node.js ç‰ˆæœ¬&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr></description></item><item><title>Node v19 æ­£å¼ç™¼å¸ƒ</title><link>https://wayneblog.ga/2022-10-24/nodejs-v19-release/</link><pubDate>Mon, 24 Oct 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-10-24/nodejs-v19-release/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52449163172_6f0c5b3278_o.jpg" alt="Featured image of post Node v19 æ­£å¼ç™¼å¸ƒ" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://nodejs.org/en/blog/announcements/v19-release-announce/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://juejin.cn/post/6953783749653823502#heading-0" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>Node.js 19 åœ¨ 2022-10-18 æ­£å¼ç™¼å¸ƒäº†ï¼Œæ­¤æ¬¡æ›´æ–°åŒ…æ‹¬å°‡ &lt;code>V8 JavaScript&lt;/code> å¼•æ“æ›´æ–°åˆ° &lt;code>10.7&lt;/code>ï¼Œä»¥åŠé»˜èªå•Ÿç”¨ &lt;code>HTTP (s)/1.1 KeepAlive&lt;/code>ã€‚&lt;br>
Node.js 18 åœ¨æœ¬æœˆæ™šäº›æ™‚å€™å°‡é€²å…¥é•·æœŸæ”¯æŒï¼ˆ&lt;code>LTS&lt;/code>ï¼‰ï¼ŒNode.js 19 å°‡å–ä»£ Node.js 18 æˆç‚º &amp;ldquo;&lt;code>Current&lt;/code>&amp;rdquo; ç‰ˆæœ¬ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å®˜æ–¹æ–‡æª”">å®˜æ–¹æ–‡æª”&lt;/h2>
&lt;h3 id="node---watch-å¯¦é©—æ€§">node &amp;ndash;watch (å¯¦é©—æ€§)&lt;/h3>
&lt;p>é‹è¡Œæ™‚ï¼Œå¢åŠ äº†ä¸€å€‹ä»¤äººèˆˆå¥®çš„åŠŸèƒ½ï¼Œæ”¯æŒä½¿ç”¨ &lt;code>node --watch&lt;/code>ï¼Œé¸é …åœ¨ &amp;ldquo;&lt;code>watch&lt;/code>&amp;rdquo; æ¨¡å¼ä¸‹é‹è¡Œã€‚åœ¨ &amp;ldquo;&lt;code>watch&lt;/code>&amp;rdquo; æ¨¡å¼ä¸‹é‹è¡Œï¼Œç•¶å°å…¥çš„æ–‡ä»¶è¢«æ”¹è®Šæ™‚ï¼Œæœƒé‡æ–°å•Ÿå‹•é€²ç¨‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">node --watch index.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤åŠŸèƒ½åœ¨ &lt;code>v19.0.0&lt;/code> å’Œ &lt;code>v18.11.0+&lt;/code> ä¸­å¯ç”¨ã€‚&lt;/p>
&lt;h3 id="é»˜èªå•Ÿç”¨-https11-keepalive">é»˜èªå•Ÿç”¨ HTTP(S)/1.1 KeepAlive&lt;/h3>
&lt;p>å¾é€™å€‹ç‰ˆæœ¬é–‹å§‹ï¼ŒNode.js é»˜èªå°‡ &lt;code>keepAlive&lt;/code> è¨­ç½®ç‚º &lt;code>true&lt;/code>ï¼Œé€™æ„å‘³è‘—ä»»ä½•å‡ºç«™çš„ &lt;code>HTTP (s)&lt;/code> é€£ç·šå°‡è‡ªå‹•ä½¿ç”¨ &lt;code>HTTP 1.1 Keep-Alive&lt;/code>ã€‚é»˜èªçš„ keep-alive æ™‚é–“æ˜¯ &lt;code>5&lt;/code> ç§’ã€‚&lt;br>
å•Ÿç”¨ &lt;code>keep-alive&lt;/code> å°‡æä¾›æ›´å¥½çš„ååé‡ï¼Œå› ç‚ºé€£æ¥åœ¨é»˜èªæƒ…æ³ä¸‹è¢«é‡è¤‡ä½¿ç”¨ã€‚&lt;/p>
&lt;h3 id="ç©©å®šçš„-webcrypto">ç©©å®šçš„ WebCrypto&lt;/h3>
&lt;p>WebCrypto API ç¾åœ¨å·²ç¶“ç©©å®šï¼ˆä»¥ä¸‹ç®—æ³•é™¤å¤–ï¼šEd25519ã€Ed448ã€X25519 å’ŒX448)&lt;br>
ä½¿ç”¨ &lt;code>globalThis.crypto&lt;/code> æˆ– &lt;code>require('node:crypto').webcrypto&lt;/code> ä¾†è¨ªå•é€™å€‹æ¨¡å¡Šã€‚&lt;/p>
&lt;h3 id="è‡ªå®šç¾©-esm-resolution-èª¿æ•´">è‡ªå®šç¾© ESM Resolution èª¿æ•´&lt;/h3>
&lt;p>Node.js å·²ç¶“åˆªé™¤äº† &lt;code>--experimental-specifier-resolution&lt;/code> æ¨™èªŒï¼Œå…¶åŠŸèƒ½ç¾åœ¨å¯ä»¥é€šéè‡ªå®šç¾©åŠ è¼‰å™¨å¯¦ç¾ã€‚&lt;/p>
&lt;h3 id="ç§»é™¤-dtracesystemtapetw-æ”¯æŒ">ç§»é™¤ DTrace/SystemTap/ETW æ”¯æŒ&lt;/h3>
&lt;p>å° DTrace/SystemTap/ETW çš„æ”¯æŒåœ¨ v19.0.0 ä¸­è¢«ç§»é™¤ï¼Œä¸»è¦åŸå› æ˜¯è³‡æºçš„å„ªå…ˆç´šå•é¡Œã€‚&lt;/p>
&lt;p>å¦‚æœä½ æœ‰èˆˆè¶£å¹«åŠ©æ¢å¾© DTraceï¼Œå¯ä»¥æŸ¥çœ‹è©² issueï¼š&lt;a class="link" href="https://github.com/nodejs/node/issues/44550" target="_blank" rel="noopener"
>https://github.com/nodejs/node/issues/44550&lt;/a>ã€‚&lt;/p>
&lt;h3 id="ä¾è³´">ä¾è³´&lt;/h3>
&lt;h4 id="v8-107">V8 10.7&lt;/h4>
&lt;p>V8 å¼•æ“å·²ç¶“æ›´æ–°åˆ° 10.7 ç‰ˆæœ¬ï¼Œé€™æ˜¯ Chromium 107 çš„ä¸€éƒ¨åˆ†ã€‚é€™å€‹ç‰ˆæœ¬åŒ…æ‹¬äº† JavaScript API çš„ä¸€å€‹æ–°ç‰¹æ€§ï¼š&lt;code>Intl.NumberFormat&lt;/code>ã€‚&lt;/p>
&lt;p>Intl.NumberFormatv3 API æ˜¯ä¸€å€‹æ–°çš„ TC39 ECMA402 ç¬¬ä¸‰éšæ®µææ¡ˆï¼Œæ“´å±•äº†å…ˆå‰å­˜åœ¨çš„ &lt;code>Intl.NumberFormat&lt;/code>ã€‚&lt;/p>
&lt;h4 id="llhttp">llhttp&lt;/h4>
&lt;p>Node.js 19 æ­è¼‰äº† &lt;code>llhttp@8.1.0&lt;/code>&lt;/p>
&lt;h4 id="npm">npm&lt;/h4>
&lt;p>Node.js 19 æ­è¼‰äº† &lt;code>npm@8.19.2&lt;/code>&lt;/p>
&lt;h3 id="nodejs-18-å°‡é€²å…¥-lts">Node.js 18 å°‡é€²å…¥ LTS&lt;/h3>
&lt;p>Node.js 18 ç³»åˆ—å°‡åœ¨ä¸‹é€±éæ¸¡åˆ°é•·æœŸæ”¯æŒç‰ˆæœ¬ã€‚&lt;/p>
&lt;h3 id="ç”Ÿå‘½é€±æœŸ">ç”Ÿå‘½é€±æœŸ&lt;/h3>
&lt;p>Node.js 14 å°‡åœ¨ 2023 å¹´ 4 æœˆé”åˆ°ç”Ÿå‘½é€±æœŸçµæŸï¼Œå› æ­¤å»ºè­°ç”¨æˆ¶é–‹å§‹è¨ˆåŠƒå‡ç´šåˆ° Node.js 16ï¼ˆLTSï¼‰æˆ– Node.js 18ï¼ˆLTSï¼‰ã€‚&lt;br>
Node.js 16 (LTS) å°‡åœ¨ 2023 å¹´ 9 æœˆé”åˆ°ç”Ÿå‘½é€±æœŸçµæŸï¼Œæ¯”åŸè¨ˆåŠƒ 2024 å¹´ 4 æœˆæå‰äº†ã€‚&lt;/p>
&lt;p>æ›´å¤šè©³æƒ…å¯æŸ¥çœ‹ï¼š&lt;a class="link" href="https://nodejs.org/en/blog/announcements/v19-release-announce/" target="_blank" rel="noopener"
>https://nodejs.org/en/blog/announcements/v19-release-announce/&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="è£œå……-nodejs-16-çš„æ–°ç‰¹æ€§">è£œå……ï¼š Nodejs 16 çš„æ–°ç‰¹æ€§&lt;/h2>
&lt;blockquote>
&lt;p>åŸæ–‡ç¶²å€ï¼š&lt;a class="link" href="https://weekly.shanyue.tech/release/node-16/" target="_blank" rel="noopener"
>https://weekly.shanyue.tech/release/node-16/&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52450161670_6d06251c75_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>Node 16 æ–¼å››æœˆäºŒåæ—¥ç™¼å¸ƒï¼Œå±±æœˆåœ¨ç¬¬ä¸€æ™‚é–“ä¸‹è¼‰äº†Node16 é«”é©—äº†ä»¥ä¸‹æ–°ç‰¹æ€§ã€‚å¶æ•¸è™Ÿçš„ç‰ˆæœ¬ç‚ºLTS ç‰ˆæœ¬ï¼Œé€™å°‡æ˜¯æ—¢Node14 ä¹‹å¾Œçš„ä¸‹ä¸€å€‹é•·æœŸæ”¯æŒç‰ˆæœ¬ï¼ŒNode14 åœ¨2020-10-27 å·²é€²å…¥ &lt;code>Active LTS&lt;/code> éšæ®µï¼Œé‚„æ²’æœ‰å‡ç´šçš„åŒå­¸è¦ç›¡é‡æ›´æ–°å‘€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52449191852_9b1c9c83d2_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å¾ &lt;a class="link" href="https://github.com/nodejs/node/releases/tag/v16.0.0" target="_blank" rel="noopener"
>Node 16 Release å®˜æ–¹æ–‡æª”&lt;/a> åˆ—å‡ºäº†æ­¤æ¬¡å®ƒæ‰€æœ‰çš„æ–°ç‰¹æ€§ä»¥åŠéå¸¸è©³ç´°çš„æäº¤è¨˜éŒ„ã€‚é‚£å®ƒåˆ°åº•æ›´æ–°äº†å“ªäº›æ–°ç‰¹æ€§ï¼Œå…ˆè®“æˆ‘å€‘ä¸€ç¹ç‚ºå¿«å§ï¼&lt;/p>
&lt;h3 id="timers-promise-api">Timers Promise API&lt;/h3>
&lt;p>&lt;code>Timers Promise API&lt;/code> å…¶å¯¦åœ¨ Node 15 å°±å·²å­˜åœ¨ï¼Œé‚£æ™‚å€™æ˜¯ä¸€å€‹å¯¦é©—ç‰¹æ€§ï¼Œç›®å‰å·²é€²å…¥äº†ç©©å®šéšæ®µï¼Œæ˜¯ä¸€é …ä»¤äººèˆˆå¥®çš„ç‰¹æ€§ã€‚é‚£å®ƒåˆ°åº•æ˜¯å¹¹ä»€éº¼ç”¨çš„å‘¢ï¼Ÿ&lt;/p>
&lt;p>å…ˆåˆ¥æ€¥ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œå…ˆçœ‹ä¸€å€‹å•é¡Œï¼š&lt;a class="link" href="https://q.shanyue.tech/fe/js/442.html" target="_blank" rel="noopener"
>å¦‚ä½•å¯¦ç¾ä¸€å€‹sleep/delay å‡½æ•¸ï¼Ÿ&lt;/a>&lt;/p>
&lt;p>ç­”æ¡ˆä¹Ÿå¾ˆç°¡å–®ï¼Œä½¿ç”¨ Promise å°è£ä¸€å€‹ &lt;code>setTimeout&lt;/code> å³å¯&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sleep&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">t&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‚£æœ‰äº† &lt;code>Timers Promise&lt;/code> ä¹‹å¾Œå‘¢ï¼Œä½¿ç”¨ &lt;code>setTimeout&lt;/code> ç›´æ¥å¯æ›¿ä»£ &lt;code>sleep&lt;/code> åŠŸèƒ½ï¼Œé©šä¸é©šå–œã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">setTimeout&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;timers/promises&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">await&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>setTimeout&lt;/code> çš„ç¬¬äºŒå€‹åƒæ•¸æ¥æ”¶ä¸€å€‹å€¼ï¼Œä½œç‚º Promise æˆåŠŸå¾Œçš„è¿”å›å€¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">r&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;hello, world&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//=&amp;gt; hello, world
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">r&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œç•¶ &lt;code>setInterval&lt;/code> ä¹Ÿè®Šç‚º Promise å½¢å¼å¾Œï¼Œå°æ–¼æ¯é–“éš”ä¸€åˆ†é˜ä¾¿åŸ·è¡Œæ“ä½œçš„å®šæ™‚ä»»å‹™è€Œè¨€ï¼Œå…·æœ‰æ›´å¤§çš„å¯è®€æ€§&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">setInterval&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;timers/promises&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">startTime&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">setInterval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">now&lt;/span>&lt;span class="p">()))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">now&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">now&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="nx">now&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nx">startTime&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åº•å±¤ä¾è³´å‡ç´š">åº•å±¤ä¾è³´å‡ç´š&lt;/h3>
&lt;p>æˆ‘å€‘çŸ¥é“ï¼ŒNode åŸºæ–¼ v8ã€libuvã€llhttp ç­‰è«¸å¤šä¾è³´ï¼Œé€™æ¬¡å®ƒå°è«¸å¤šä¾è³´é€²è¡Œäº†å‡ç´šã€‚å¦‚åŒæˆ‘å€‘çš„æ¥­å‹™é …ç›®ä¾è³´æ–¼è«¸å¤šè»Ÿä»¶åŒ…ï¼Œæ¯ä¸€æ¬¡ä¾è³´çš„å‡ç´šä¹Ÿæœƒå°æ€§èƒ½é€ æˆä¸å°‘æå‡&lt;/p>
&lt;ul>
&lt;li>v8 å‡ç´šåˆ° &lt;code>9.0&lt;/code>ï¼Œä¸»è¦æ˜¯ ECMAScript RegExp Match Indices&lt;/li>
&lt;li>llhttp å‡ç´šåˆ° &lt;code>6.0.0&lt;/code>ï¼Œç”¨ä»¥è§£æ HTTP å ±æ–‡&lt;/li>
&lt;li>icu å‡ç´šåˆ° &lt;code>69.1&lt;/code>&lt;/li>
&lt;li>npm å‡ç´šåˆ° &lt;code>7.10.0&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ä½¿ç”¨ &lt;code>process.versions&lt;/code> å¯çœ‹åˆ°ç›¸é—œä¾è³´çš„ç‰ˆæœ¬è™Ÿ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">versions&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="export">export&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;node&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;16.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;v8&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;9.0.257.17-node.10&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;uv&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;1.41.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;zlib&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;1.2.11&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;brotli&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;1.0.9&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;ares&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;1.17.1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;modules&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;93&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;nghttp2&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;1.42.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;napi&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;llhttp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;6.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;openssl&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;1.1.1k+quic&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;cldr&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;39.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;icu&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;69.1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;tz&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2021a&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;unicode&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;13.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;ngtcp2&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0.1.0-DEV&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;nghttp3&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0.1.0-DEV&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="btoa-èˆ‡-atob">btoa èˆ‡ atob&lt;/h3>
&lt;p>é—œæ–¼ Base64 çš„è½‰åŒ–ï¼ŒNode åœ¨ä»¥å‰ä½¿ç”¨äº† &lt;code>Buffer.from&lt;/code>ï¼Œè€Œç¾åœ¨æ”¯æŒ btoa/atob èˆ‡ç€è¦½å™¨ç’°å¢ƒä¿æŒäº†ä¸€è‡´ã€‚&lt;br>
è€Œå°æ–¼ä¸€å€‹ SSR é …ç›®è€Œè¨€ï¼ŒåŸ·è¡Œç’°å¢ƒçš„å€åˆ†å°‡ç„¡é—œç·Šè¦ï¼Œçµ±ä¸€ä½¿ç”¨ &lt;code>btoa/atob&lt;/code> å°±å¥½äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">base64&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">encode&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">isBrowser&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nx">btoa&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">Buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;base64&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">decode&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">isBrowser&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nx">atob&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">Buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;base64&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ›´å¤š">æ›´å¤š&lt;/h3>
&lt;p>é—œæ–¼ Node16 å‡ç´šçš„è«¸å¤šå°ç´°ç¯€ï¼Œå¯åƒé–±&lt;a class="link" href="https://github.com/nodejs/node/releases/tag/v16.0.0" target="_blank" rel="noopener"
>ç‰ˆæœ¬ç™¼å¸ƒ&lt;/a>ç²å–æ›´å¤šä¿¡æ¯ï¼Œå¯æŒçºŒ &lt;a class="link" href="https://wayneblog.ga/" target="_blank" rel="noopener"
>Wayne&amp;rsquo;s Blog&lt;/a> å°å„è»Ÿä»¶æ¯ä¸€æ¬¡é‡å¤§ç‰ˆæœ¬å‡ç´šçš„èªªæ˜è¬›è§£ã€‚&lt;/p>
&lt;hr></description></item><item><title>Node.js + Express + MySQL æ­å»ºé …ç›®æ¡†æ¶</title><link>https://wayneblog.ga/2022-10-21/nodejs-express-mysql/</link><pubDate>Fri, 21 Oct 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-10-21/nodejs-express-mysql/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52443177409_7e96fe402c_o.png" alt="Featured image of post Node.js + Express + MySQL æ­å»ºé …ç›®æ¡†æ¶" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://juejin.cn/post/6914891222884564999" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://juejin.cn/post/7108888491995430919" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>æœ¬æ–‡ä¸»è¦æ˜¯å±•ç¤ºä½¿ç”¨ &lt;code>Express&lt;/code> å’Œ &lt;code>MySQL&lt;/code> ä¾†æ­å»ºé …ç›®æ¡†æ¶çš„æ­¥é©Ÿï¼Œå±•ç¤ºç­å¦‚ä½•æ­å»ºé …ç›®ä¸¦é€²è¡ŒåŸºæœ¬æ“ä½œã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å‰µå»ºé …ç›®">å‰µå»ºé …ç›®&lt;/h2>
&lt;p>&lt;a class="link" href="https://expressjs.com/zh-cn/" target="_blank" rel="noopener"
>Express&lt;/a> æ˜¯åŸºæ–¼ &lt;code>Node.js&lt;/code> å¹³å°ï¼Œå¿«é€Ÿã€é–‹æ”¾ã€æ¥µç°¡çš„ Web é–‹ç™¼æ¡†æ¶ã€‚&lt;/p>
&lt;h3 id="å…¨å±€å®‰è£-express-generator">å…¨å±€å®‰è£ express-generator&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.npmjs.com/package/express-generator" target="_blank" rel="noopener"
>express-generator&lt;/a> æ˜¯ Express æ‡‰ç”¨ç¨‹åºç”Ÿæˆå™¨å·¥å…·ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨å®ƒä¾†å¿«é€Ÿå‰µå»ºæ‡‰ç”¨ç¨‹åºæ¡†æ¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -g express-generator
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># (expressFrame æ˜¯é …ç›®å)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">express expressFrame
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é …ç›®çš„ç›®éŒ„çµæ§‹&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52442456737_f478e9f126_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;ul>
&lt;li>&lt;code>bin/www&lt;/code> æ˜¯å•Ÿå‹•å…¥å£æ–‡ä»¶ï¼Œåœ¨è£¡é¢å¯ä»¥è¨­ç½®ç«¯å£è™Ÿç­‰&lt;/li>
&lt;/ul>
&lt;h3 id="ä¸‹è¼‰ä¾è³´">ä¸‹è¼‰ä¾è³´&lt;/h3>
&lt;p>å‰µå»ºå¥½é …ç›®ä¹‹å¾Œï¼Œè£¡é¢æœ‰åŒ…å«åŸºæœ¬çš„é …ç›®æ–‡ä»¶ï¼Œä¹Ÿæœ‰ç›¸é—œä¾è³´&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52443485213_756525cd59_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å•Ÿå‹•é …ç›®">å•Ÿå‹•é …ç›®&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm start
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å•Ÿå‹•å‘½ä»¤é‚„å¯ä»¥æ˜¯ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># node ./bin/www&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å®‰è£-nodemon">å®‰è£ nodemon&lt;/h2>
&lt;p>å¯ä»¥å®‰è£ &lt;a class="link" href="https://www.npmjs.com/package/nodemon" target="_blank" rel="noopener"
>nodemon&lt;/a> ä¾†ç›£æ§ node.js æºä»£ç¢¼çš„ä»»ä½•è®ŠåŒ–å’Œè‡ªå‹•é‡å•Ÿä½ çš„æœå‹™å™¨&lt;/p>
&lt;p>å…¨å±€å®‰è£ &lt;a class="link" href="https://www.npmjs.com/package/nodemon" target="_blank" rel="noopener"
>nodemon&lt;/a>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -g nodemon
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å•Ÿå‹•é …ç›®&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nodemon bin/www
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52443485203_24165abe35_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€™å°±å•Ÿå‹•æˆåŠŸå•¦&lt;/p>
&lt;p>ç€è¦½å™¨æ‰“é–‹&lt;a class="link" href="http://localhost:3000" target="_blank" rel="noopener"
>http://localhost:3000&lt;/a>å°±èƒ½çœ‹åˆ°é é¢å•¦&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52442456692_ec9afe2df8_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="å®‰è£-winston-æ·»åŠ æ‰“å°æ—¥èªŒæ–‡ä»¶">å®‰è£ winston æ·»åŠ æ‰“å°æ—¥èªŒæ–‡ä»¶&lt;/h2>
&lt;p>é€™è£¡æ¡ç”¨çš„æ˜¯ &lt;a class="link" href="https://www.npmjs.com/package/winston" target="_blank" rel="noopener"
>winston&lt;/a> æ—¥èªŒ&lt;/p>
&lt;p>å…·é«”ç”¨æ³•å¯çœ‹æ–‡æª”ï¼š&lt;a class="link" href="https://www.npmjs.com/package/winston" target="_blank" rel="noopener"
>https://www.npmjs.com/package/winston&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm i winston
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é…ç½®æ‰“å°æ—¥èªŒæ ¼å¼">é…ç½®æ‰“å°æ—¥èªŒæ ¼å¼&lt;/h3>
&lt;p>åœ¨é …ç›®çš„æ ¹ç›®éŒ„æ·»åŠ ä¸€å€‹é…ç½®æ‰“å°æ—¥èªŒæ ¼å¼çš„æ–‡ä»¶ &lt;a class="link" href="https://github.com/wjdesign/nodejsExpressMysqlDemo/blob/1792105ae7069c2a81be6c068d0e736277c459dd/logger.js" target="_blank" rel="noopener"
>logger.js&lt;/a> ï¼ˆæ­¤æ–‡ä»¶åœ¨ &lt;a class="link" href="https://github.com/wjdesign/nodejsExpressMysqlDemo/" target="_blank" rel="noopener"
>github&lt;/a> ä¸Šï¼‰&lt;/p>
&lt;h3 id="ä¿®æ”¹-appjs-çš„é…ç½®">ä¿®æ”¹ app.js çš„é…ç½®&lt;/h3>
&lt;p>ä¿®æ”¹é …ç›®é»˜èªçš„è®Šé‡åï¼š&lt;/p>
&lt;ol>
&lt;li>å°‡ &lt;code>const logger = require('morgan');&lt;/code> æ”¹æˆï¼š&lt;code>const morgan = require('morgan')&lt;/code>&lt;/li>
&lt;li>ç›¸æ‡‰çš„ä¹Ÿè¦æŠŠ &lt;code>app.use(logger('dev'));&lt;/code> æ”¹æˆï¼š&lt;code>app.use(morgan('dev'));&lt;/code>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">// ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- const logger = require(&amp;#39;morgan&amp;#39;);
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span>&lt;span class="gi">+ const morgan = require(&amp;#39;morgan&amp;#39;);
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- app.use(logger(&amp;#39;dev&amp;#39;));
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span>&lt;span class="gi">+ app.use(morgan(&amp;#39;dev&amp;#39;));
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span>// ...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¼•å…¥-loggerjs-æ–‡ä»¶">å¼•å…¥ logger.js æ–‡ä»¶&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">logger&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./logger&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52443411590_a950518fd8_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="ä¿®æ”¹éŒ¯èª¤è™•ç†">ä¿®æ”¹éŒ¯èª¤è™•ç†&lt;/h3>
&lt;p>å°‡éŒ¯èª¤æ‰“å°åˆ°æ—¥èªŒä¸Š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52442967736_35a5d6213e_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="æ¸¬è©¦æ—¥èªŒæ˜¯å¦æ‰“å°æˆåŠŸ">æ¸¬è©¦æ—¥èªŒæ˜¯å¦æ‰“å°æˆåŠŸ&lt;/h3>
&lt;p>è«‹æ±‚ä¸€å€‹ä¸å­˜åœ¨çš„è·¯ç”±ï¼Œå¦‚ï¼š&lt;a class="link" href="http://localhost:3000/hello" target="_blank" rel="noopener"
>http://localhost:3000/hello&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52443411530_d30305b287_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ‰“é–‹æ—¥èªŒæ–‡ä»¶ï¼Œçœ‹åˆ°é€™æ¢éŒ¯èª¤è¢«æ‰“å°å‡ºä¾†å°±æˆåŠŸå•¦&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52443411730_b91c1ab7f9_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="mysql">MySQL&lt;/h2>
&lt;h3 id="å•Ÿå‹•æ•¸æ“šåº«">å•Ÿå‹•æ•¸æ“šåº«&lt;/h3>
&lt;p>é€™è£¡ä½¿ç”¨çš„æ–¹æ³•æ˜¯ç”¨ Docker å®‰è£ MySQL&lt;/p>
&lt;p>é€™è£¡æ˜¯å®‰è£çš„æ•™ç¨‹ï¼š&lt;a class="link" href="https://www.runoob.com/docker/docker-install-mysql.html" target="_blank" rel="noopener"
>https://www.runoob.com/docker/docker-install-mysql.html&lt;/a>&lt;/p>
&lt;ol>
&lt;li>docker æ‹‰å– MySQL é¡åƒ&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker pull mysql:latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>æŸ¥çœ‹æœ¬åœ°é¡åƒ&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker images
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>é‹è¡Œå®¹å™¨&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># docker run -itd --name {å®¹å™¨å} -p 3306:3306 -e MYSQL_ROOT_PASSWORD={MySQL root å¯†ç¢¼} mysql&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker run -itd --name mysql-test -p 3306:3306 -e &lt;span class="nv">MYSQL_ROOT_PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">123456&lt;/span> mysql
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åƒæ•¸èªªæ˜ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>-p 3306:3306&lt;/code>ï¼šæ˜ å°„å®¹å™¨æœå‹™çš„3306ç«¯å£åˆ°å®¿ä¸»æ©Ÿçš„3306ç«¯å£ï¼Œå¤–éƒ¨ä¸»æ©Ÿå¯ä»¥ç›´æ¥é€é &lt;code>å®¿ä¸»æ©Ÿip:3306&lt;/code> è¨ªå•åˆ° MySQL çš„æœå‹™ã€‚&lt;/li>
&lt;li>&lt;code>MYSQL_ROOT_PASSWORD=123456&lt;/code>ï¼šè¨­ç½® MySQL æœå‹™ root ç”¨æˆ¶çš„å¯†ç¢¼ã€‚&lt;/li>
&lt;/ul>
&lt;ol start="4">
&lt;li>å®‰è£æˆåŠŸ&lt;/li>
&lt;/ol>
&lt;p>é€é &lt;code>docker ps&lt;/code> å‘½ä»¤æŸ¥çœ‹æ˜¯å¦å®‰è£æˆåŠŸ&lt;br>
æœ¬æ©Ÿå¯ä»¥é€šé root / 123456 è¨ªå• MySQL æœå‹™ã€‚&lt;/p>
&lt;h3 id="å®‰è£æ•¸æ“šåº«ç®¡ç†å·¥å…·">å®‰è£æ•¸æ“šåº«ç®¡ç†å·¥å…·&lt;/h3>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.sequelpro.com/" target="_blank" rel="noopener"
>Sequel Pro&lt;/a> macOS ç”¨æˆ¶å®‰è£&lt;/li>
&lt;li>&lt;a class="link" href="http://www.navicat.com.cn/" target="_blank" rel="noopener"
>navicat&lt;/a> windows ç”¨æˆ¶å®‰è£&lt;/li>
&lt;/ul>
&lt;p>é€™è£¡é¸æ“‡ç”¨ Sequel Pro å•Ÿå‹•å¥½æ•¸æ“šä¹‹å¾Œï¼Œå°±åœ¨ Sequel Pro é€£æ¥æ•¸æ“šåº«ï¼Œå¯†ç¢¼æ˜¯å•Ÿå‹•æ•¸æ“šåº«æ™‚è‡ªå·±è¨­ç½®çš„å¯†ç¢¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52443485323_ac4b3a4cfe_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="ä½¿ç”¨-navicat-æ•¸æ“šåº«ç®¡ç†å·¥å…·é€£ç·šæ™‚å‡ºç¾éŒ¯èª¤">ä½¿ç”¨ &lt;code>Navicat&lt;/code> æ•¸æ“šåº«ç®¡ç†å·¥å…·é€£ç·šæ™‚ï¼Œå‡ºç¾éŒ¯èª¤&lt;/h3>
&lt;p>è‹¥å‡ºç¾ &lt;code>1251 - Client does not support authentication protocol requested by server; consider upgrading MySQL client&lt;/code> éŒ¯èª¤ï¼ŒåŸå› ç‚ºï¼š&lt;br>
mysql8 ä¹‹å‰çš„ç‰ˆæœ¬ï¼ŒåŠ å¯†è¦å‰‡æ˜¯ &lt;code>mysql_native_password&lt;/code>ï¼Œè€Œ mysql8 ä¹‹å¾Œçš„ç‰ˆæœ¬ï¼ŒåŠ å¯†è¦å‰‡æ˜¯ &lt;code>caching_sha2_password&lt;/code>&lt;/p>
&lt;h3 id="è§£æ±ºæ–¹æ³•">è§£æ±ºæ–¹æ³•ï¼š&lt;/h3>
&lt;ol>
&lt;li>å‡ç´š navicat é©…å‹•ã€‚&lt;/li>
&lt;li>é€²åˆ°å®¹å™¨å…§ï¼ŒæŠŠ mysql ç”¨æˆ¶ç™»å…¥å¯†ç¢¼åŠ å¯†è¦å‰‡é‚„åŸæˆ &lt;code>mysql_native_password&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>ä»¥ä¸‹æ¡ç”¨&lt;code>æ–¹æ³•2&lt;/code>è§£æ±ºï¼Œæ“ä½œå¦‚ä¸‹ï¼š&lt;/p>
&lt;h4 id="1-æ‰“é–‹-cmdè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ä»¥-bash-é€²å…¥å®¹å™¨">1. æ‰“é–‹ cmdï¼Œè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ä»¥ bash é€²å…¥å®¹å™¨ï¼š&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># docker exec -it {å®¹å™¨å} bash&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker &lt;span class="nb">exec&lt;/span> -it mysql-test bash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="2-ä½¿ç”¨-mysql-æŒ‡ä»¤é€£ç·šè³‡æ–™åº«">2. ä½¿ç”¨ &lt;code>mysql&lt;/code> æŒ‡ä»¤é€£ç·šè³‡æ–™åº«ï¼š&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">mysql -u root -p
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="3-ä½¿ç”¨-mysql-æŒ‡ä»¤æŸ¥è©¢ç”¨æˆ¶è¨Šæ¯">3. ä½¿ç”¨ &lt;code>mysql&lt;/code> æŒ‡ä»¤æŸ¥è©¢ç”¨æˆ¶è¨Šæ¯ï¼š&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">host&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">user&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">plugin&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">authentication_string&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mysql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="k">user&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;code>host&lt;/code> ç‚º &lt;code>%&lt;/code> è¡¨ç¤ºä¸é™åˆ¶ ipã€&lt;code>localhost&lt;/code> è¡¨ç¤ºæœ¬æ©Ÿä½¿ç”¨&lt;br>
&lt;code>plugin&lt;/code> é &lt;code>mysql_native_password&lt;/code> å‰‡&lt;code>éœ€è¦ä¿®æ”¹å¯†ç¢¼&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h4 id="4-ä½¿ç”¨-mysql-æŒ‡ä»¤ä¿®æ”¹å¯†ç¢¼">4. ä½¿ç”¨ &lt;code>mysql&lt;/code> æŒ‡ä»¤ä¿®æ”¹å¯†ç¢¼ï¼š&lt;/h4>
&lt;ul>
&lt;li>æ›´æ–° user ç‚º rootï¼Œ &lt;code>host&lt;/code> ç‚º &lt;code>%&lt;/code> çš„å¯†ç¢¼ç‚º &lt;code>123456&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">ALTER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">USER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;root&amp;#39;&lt;/span>&lt;span class="o">@&lt;/span>&lt;span class="s1">&amp;#39;%&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IDENTIFIED&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">WITH&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mysql_native_password&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;123456&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>æ›´æ–° user ç‚º rootï¼Œ &lt;code>host&lt;/code> ç‚º &lt;code>localhost&lt;/code> çš„å¯†ç¢¼ç‚º &lt;code>123456&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">ALTER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">USER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;root&amp;#39;&lt;/span>&lt;span class="o">@&lt;/span>&lt;span class="s1">&amp;#39;localhost&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IDENTIFIED&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">WITH&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mysql_native_password&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;123456&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="5-å†æ¬¡åœ¨-navicat-ä¸­é€£æ¥-mysqlé€£æ¥æˆåŠŸ">5. å†æ¬¡åœ¨ &lt;code>Navicat&lt;/code> ä¸­é€£æ¥ mysqlï¼Œé€£æ¥æˆåŠŸ&lt;/h4>
&lt;h3 id="å‰µå»ºæ•¸æ“šåº«">å‰µå»ºæ•¸æ“šåº«&lt;/h3>
&lt;p>ä½¿ç”¨æ•¸æ“šåº«ç®¡ç†å·¥å…·æ–°å»ºæ•¸æ“šåº« database åç¨±ç‚ºï¼š&lt;code>expressFrame&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52442456862_fe672b339d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52442967796_fe83fd3528_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€²å…¥ &lt;code>expressFrame&lt;/code> åº«ï¼Œæ–°å»ºç”¨æˆ¶ä¿¡æ¯è¡¨ç‚º &lt;code>user&lt;/code> ï¼Œé»˜èªæœ‰ &lt;code>id&lt;/code> å­—æ®µï¼Œéœ€è¦å†æ·»åŠ ä»¥ä¸‹å¿…è¦å­—æ®µï¼š&lt;/p>
&lt;p>å­—æ®µï¼šid&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Field&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nb">VARCHAR&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">LENGTH&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Comment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="err">å§“å&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Field&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">phone&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nb">VARCHAR&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">LENGTH&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Comment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="err">æ‰‹æ©Ÿè™Ÿ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä½¿ç”¨-knexjs-å¢åˆªæ”¹æŸ¥æ•¸æ“šåº«">ä½¿ç”¨ &lt;code>Knex.js&lt;/code> å¢åˆªæ”¹æŸ¥æ•¸æ“šåº«&lt;/h3>
&lt;p>&lt;a class="link" href="https://knexjs.org/" target="_blank" rel="noopener"
>Knex.js&lt;/a> æ˜¯ç‚º &lt;code>Postgres&lt;/code>ã€&lt;code>MSSQL&lt;/code>ã€&lt;code>MySQL&lt;/code>ã€&lt;code>MariaDB&lt;/code>ã€&lt;code>SQLite3&lt;/code>ã€&lt;code>Oracle&lt;/code> å’Œ &lt;code>Amazon Redshift&lt;/code> è¨­è¨ˆçš„ SQL æŸ¥è©¢æ§‹å»ºå™¨ï¼Œå…¶è¨­è¨ˆéˆæ´»ï¼Œä¾¿æ–¼æ”œå¸¶ä¸¦ä¸”ä½¿ç”¨èµ·ä¾†éå¸¸æœ‰è¶£ã€‚Knex çš„ä¸»è¦ç›®æ¨™ç’°å¢ƒæ˜¯ &lt;code>Node.js&lt;/code>ï¼Œæ‚¨éœ€è¦å®‰è£è©² knex åº«ï¼Œç„¶å¾Œå®‰è£é©ç•¶çš„æ•¸æ“šåº«åº«ï¼š&lt;a class="link" href="https://github.com/brianc/node-postgres" target="_blank" rel="noopener"
>pg&lt;/a> é©ç”¨æ–¼ &lt;code>PostgreSQL&lt;/code>ã€&lt;code>CockroachDB&lt;/code> å’Œ &lt;code>Amazon Redshift&lt;/code>ï¼Œ&lt;a class="link" href="https://github.com/brianc/node-pg-native" target="_blank" rel="noopener"
>pg-native&lt;/a> å°æ–¼å…·æœ‰æœ¬æ©Ÿ C++ &lt;code>libpq&lt;/code> ç¶å®šçš„ PostgreSQLï¼ˆéœ€è¦å®‰è£ PostgresSQL æ‰èƒ½éˆæ¥ï¼‰ï¼Œ&lt;a class="link" href="https://github.com/felixge/node-mysql" target="_blank" rel="noopener"
>mysql&lt;/a> é©ç”¨æ–¼ &lt;code>MySQL&lt;/code> æˆ– &lt;code>MariaDB&lt;/code>ï¼Œ&lt;a class="link" href="https://github.com/mapbox/node-sqlite3" target="_blank" rel="noopener"
>sqlite3&lt;/a> é©ç”¨æ–¼ &lt;code>SQLite3&lt;/code>ï¼Œ&lt;a class="link" href="https://github.com/tediousjs/tedious" target="_blank" rel="noopener"
>tedious&lt;/a> é©ç”¨æ–¼ &lt;code>MSSQL&lt;/code>ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Flag&lt;/th>
&lt;th>Library&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;a class="link" href="https://github.com/brianc/node-postgres" target="_blank" rel="noopener"
>pg&lt;/a>&lt;/td>
&lt;td>&lt;code>PostgreSQL&lt;/code>ã€&lt;code>CockroachDB&lt;/code>ã€&lt;code>Amazon Redshift&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a class="link" href="https://github.com/brianc/node-pg-native" target="_blank" rel="noopener"
>pg-native&lt;/a>&lt;/td>
&lt;td>æœ¬æ©Ÿ C++ &lt;code>libpq&lt;/code> ç¶å®šçš„ &lt;code>PostgreSQL&lt;/code>ï¼ˆéœ€è¦å®‰è£ PostgresSQL æ‰èƒ½éˆæ¥ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a class="link" href="https://github.com/felixge/node-mysql" target="_blank" rel="noopener"
>mysql&lt;/a>&lt;/td>
&lt;td>&lt;code>MySQL&lt;/code>ã€&lt;code>MariaDB&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a class="link" href="https://github.com/mapbox/node-sqlite3" target="_blank" rel="noopener"
>sqlite3&lt;/a>&lt;/td>
&lt;td>&lt;code>SQLite3&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;a class="link" href="https://github.com/tediousjs/tedious" target="_blank" rel="noopener"
>tedious&lt;/a>&lt;/td>
&lt;td>&lt;code>MSSQL&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="ä¸‹è¼‰ç›¸é—œä¾è³´">ä¸‹è¼‰ç›¸é—œä¾è³´&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -save knex mysql
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ·»åŠ é…ç½®ä¿¡æ¯">æ·»åŠ é…ç½®ä¿¡æ¯&lt;/h3>
&lt;p>åœ¨é …ç›®æ ¹ç›®éŒ„ä¸‹ï¼Œæ–°å»ºé…ç½®ä¿¡æ¯ &lt;code>config.js&lt;/code>ï¼Œä¹‹å¾Œçš„é…ç½®ä¿¡æ¯æ¶‰åŠåˆ°æ•¸æ“šåº«å’Œå¯†ç¢¼ï¼Œä¸ä¸Šå‚³åˆ° Github ç­‰è¨—ç®¡å¹³å°ï¼Œæ‰€ä»¥éœ€è¦å–®ç¨è¨­ç½®ï¼Œä½¿ç”¨ &lt;code>.gitignore&lt;/code> é¿å…ä¸Šå‚³ã€‚ä¹‹å¾Œæ•æ„Ÿçš„é…ç½®ä¿¡æ¯ï¼Œéƒ½å°‡åœ¨æ­¤é…ç½®ã€‚&lt;code>host&lt;/code> åœ°å€ç‚ºæ•¸æ“šåº«çš„æœå‹™åœ°å€ï¼Œæœ¬åœ°ç‚º 127.0.0.1&lt;/p>
&lt;h5 id="configjs">config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">configs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mysql&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">host&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;127.0.0.1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">port&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;3306&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;root&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">password&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;123456&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// è‡ªå·±è¨­ç½®çš„å¯†ç¢¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">database&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;expressFrame&amp;#39;&lt;/span> &lt;span class="c1">// æ•¸æ“šåº«çš„åå­—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ‰“å°é”™è¯¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">log&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">error&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[knex error]&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">message&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">configs&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ–°å»º-gitignore">æ–°å»º .gitignore&lt;/h3>
&lt;p>åœ¨é …ç›®æ ¹ç›®éŒ„ä¸‹ï¼Œæ–°å»º &lt;code>.gitignore&lt;/code> é¿å…ä¸Šå‚³ &lt;code>config.js&lt;/code> ã€&lt;code>log&lt;/code>ã€ &lt;code>node_modules&lt;/code> ç­‰ä¸éœ€è¦è¢«ä¸Šå‚³åˆ° Github çš„æ–‡ä»¶ã€‚&lt;/p>
&lt;h5 id="gitignore">.gitignore&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">.DS_Store
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.idea
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm-debug.log
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yarn-error.log
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">node_modules
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">log
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">config.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ•¸æ“šåº«é…ç½®">æ•¸æ“šåº«é…ç½®&lt;/h3>
&lt;p>æ–°å»º &lt;code>models/knex.js&lt;/code>ï¼Œåˆå§‹åŒ–é…ç½® &lt;code>knex&lt;/code>&lt;/p>
&lt;h5 id="modelsknexjs">models/knex.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å¼•ç”¨é…ç½®æ–‡ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">configs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;../config&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æŠŠé…ç½®æ–‡ä»¶ä¸­çš„ä¿¡æ¯ï¼Œè¨­ç½®åœ¨åˆå§‹åŒ–é…ç½®ä¸­
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;knex&amp;#39;&lt;/span>&lt;span class="p">)({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">client&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;mysql&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">connection&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">host&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">configs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mysql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">host&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">port&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">configs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mysql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">configs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mysql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">password&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">configs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mysql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">database&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">configs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mysql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">database&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ‰“å°éŒ¯èª¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">log&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">error&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[knex error]&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">message&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="knex-å¢åˆªæ”¹æŸ¥">knex å¢åˆªæ”¹æŸ¥&lt;/h3>
&lt;p>åœ¨ &lt;code>models&lt;/code> ä¸‹æ–°å»ºæ–‡ä»¶ &lt;code>base.js&lt;/code>&lt;/p>
&lt;h5 id="modelsbasejs">models/base.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">knex&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;../models/knex&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">Base&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">table&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">props&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æŸ¥æ‰¾
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">all&lt;/span> &lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">knex&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">table&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">select&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ–°å¢
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">insert&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">params&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">knex&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">table&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">insert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">params&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ›´æ”¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">update&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">params&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">knex&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">table&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">where&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;=&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">params&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åˆ é™¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">delete&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">knex&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">table&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">where&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;=&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">del&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Base&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ–°å»ºç”¨æˆ¶æ¨¡å‹">æ–°å»ºç”¨æˆ¶æ¨¡å‹&lt;/h3>
&lt;p>åœ¨ &lt;code>models&lt;/code> ä¸‹æ–°å»ºæ–‡ä»¶ &lt;code>user.js&lt;/code>&lt;/p>
&lt;h5 id="modelsuserjs">models/user.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">Base&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./base&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">User&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Base&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å®šç¾©åƒæ•¸é»˜èªå€¼ç‚º user è¡¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;user&amp;#39;&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">User&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ–°å»ºç”¨æˆ¶æ§åˆ¶å™¨">æ–°å»ºç”¨æˆ¶æ§åˆ¶å™¨&lt;/h3>
&lt;p>åœ¨æ ¹ç›®éŒ„æ–°å»ºæ§åˆ¶å™¨æ–‡ä»¶å¤¾ &lt;code>controllers&lt;/code>ï¼Œåœ¨ &lt;code>controllers&lt;/code> æ–°å»º &lt;code>user.js&lt;/code>ï¼Œä¸¦è¨­ç½® &lt;code>showUser&lt;/code> æ–¹æ³•&lt;/p>
&lt;h5 id="controllersuserjs">controllers/user.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å¼•ç”¨ç”¨æˆ·æ¨¡ç‰ˆæ•°æ®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">User&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;../models/user.js&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userController&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// showUser ç²å–ç”¨æˆ¶æ•¸æ“šä¸¦è¿”å›åˆ°é é¢
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">showUser&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">res&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">next&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">userData&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">User&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">all&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">code&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;æ“ä½œæˆåŠŸ&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userData&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">code&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">message&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;æ“ä½œå¤±æ•—&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">e&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">userController&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ·»åŠ ç²å–ç”¨æˆ¶æ¥å£">æ·»åŠ ç²å–ç”¨æˆ¶æ¥å£&lt;/h3>
&lt;p>ä¿®æ”¹è·¯ç”± &lt;code>routes/index.js&lt;/code>ï¼Œæ·»åŠ ç²å–ç”¨æˆ¶ä¿¡æ¯çš„æ¥å£&lt;/p>
&lt;h5 id="routesindexjs">routes/index.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userController&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;../controllers/user&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç²å–ç”¨æˆ¶ä¿¡æ¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/get_user&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">userController&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showUser&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52443485278_0b31db5d04_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="æ¸¬è©¦æ¥å£">æ¸¬è©¦æ¥å£&lt;/h3>
&lt;p>è¨ªå•ä¸€ä¸‹ &lt;a class="link" href="http://localhost:3000/get_user" target="_blank" rel="noopener"
>http://localhost:3000/get_user&lt;/a>&lt;/p>
&lt;p>æŸ¥çœ‹æ¥å£è¿”å›çš„æ•¸æ“š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52443485243_0ae5c8343f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€™å°±å¤§åŠŸå‘Šæˆå•¦ï½&lt;/p>
&lt;p>githubåœ°å€ï¼š&lt;a class="link" href="https://github.com/wjdesign/nodejsExpressMysqlDemo" target="_blank" rel="noopener"
>https://github.com/wjdesign/nodejsExpressMysqlDemo&lt;/a>&lt;/p>
&lt;p>èµ°éè·¯éé»å€‹è´Šå”„ï½&lt;/p>
&lt;hr></description></item><item><title>NodeJS é˜²æ­¢ xss æ”»æ“Š</title><link>https://wayneblog.ga/2022-10-21/nodejs-prevent-xss/</link><pubDate>Fri, 21 Oct 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-10-21/nodejs-prevent-xss/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52442821071_35fc2e7087_o.png" alt="Featured image of post NodeJS é˜²æ­¢ xss æ”»æ“Š" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://juejin.cn/post/7112204639029690381" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="ç°¡ä»‹">ç°¡ä»‹&lt;/h2>
&lt;p>&lt;code>xss&lt;/code> æ˜¯å¸¸è¦‹çš„æ”»æ“Šæ–¹å¼ä¹‹ä¸€ï¼Œä¸ç®¡æ˜¯å‰ç«¯é‚„æ˜¯å¾Œç«¯éƒ½è¦å°æ­¤æœ‰æ‰€é˜²ç¯„æ‰è¡Œã€‚&lt;br>
æœ¬æ–‡ä¸»è¦è¬›è§£ä½¿ç”¨ &lt;code>NodeJS&lt;/code> é–‹ç™¼çš„å¾Œç«¯ç¨‹åºæ‡‰è©²å¦‚ä½•é˜²ç¯„ &lt;code>xss&lt;/code> æ”»æ“Šã€‚&lt;/p>
&lt;hr>
&lt;h2 id="xssæ¼”ç¤º">xssæ¼”ç¤º&lt;/h2>
&lt;p>&lt;code>xss&lt;/code> æ”»æ“Šæ–¹å¼ä¸»è¦æ˜¯åœ¨åœ¨é é¢å±•ç¤ºå…§å®¹ä¸­æ‘»é›œ &lt;code>jsä»£ç¢¼&lt;/code>ï¼Œä»¥ç²å–ç¶²é ä¿¡æ¯ã€‚&lt;/p>
&lt;p>å¸¸è¦‹çš„æ”»æ“Šåœ°æ–¹æœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>é›»å•†ç”¢å“è©•åƒ¹å€ï¼šæŸç”¨æˆ¶æäº¤çš„è©•åƒ¹å¸¶æœ‰&lt;code>å¯åŸ·è¡Œçš„jsä»£ç¢¼&lt;/code>ï¼Œå…¶ä»–ç”¨æˆ¶æŸ¥çœ‹è©²è©•è«–æ™‚å°±æœƒåŸ·è¡Œé‚£æ®µ&lt;code>jsä»£ç¢¼&lt;/code>ã€‚&lt;/li>
&lt;li>åšå®¢ç¶²ç«™ï¼šæŸç”¨æˆ¶åœ¨åšå®¢çš„æ¨™é¡Œæˆ–è€…å…§å®¹ä¸­å¸¶æœ‰&lt;code>å¯åŸ·è¡Œçš„jsä»£ç¢¼&lt;/code>ï¼Œå…¶ä»–ç”¨æˆ¶æŸ¥çœ‹è©²åšå®¢æ™‚é‚£æ®µ &lt;code>jsä»£ç¢¼&lt;/code> å°±æœƒè¢«åŸ·è¡Œã€‚&lt;/li>
&lt;/ul>
&lt;p>æ¯”å¦‚åœ¨è¼¸å…¥æ¡†è¼¸å…¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1234&lt;/span>&lt;span class="p">)&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆ¥çš„ç”¨æˆ¶åœ¨è‡ªå·±é é¢è¦å±•ç¤ºä¸Šé¢é€™æ®µå…§å®¹å€‹ï¼Œé é¢æœ‰å¯èƒ½æœƒå½ˆå‡ºä¸€å€‹å½ˆçª—ã€‚&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>é€™å€‹ä¾‹å­åªæ˜¯å½ˆå‡ºä¸€å€‹å°è©±æ¡†ï¼Œå¦‚æœäººå®¶æœ‰æƒ¡æ„ï¼Œç²å–cookie ç­‰ä¿¡æ¯ï¼Œç„¶å¾Œå‚³çµ¦è‡ªå·±çš„æœå‹™å™¨ï¼Œé‚£å¾ŒæœçœŸçš„å¾ˆåš´é‡ã€‚&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="xssé˜²ç¦¦">xssé˜²ç¦¦&lt;/h2>
&lt;p>&lt;strong>é é˜²æªæ–½ï¼šè½‰ç¾©ç‰¹æ®Šå­—ç¬¦&lt;/strong>&lt;/p>
&lt;p>ç‰¹æ®Šç¬¦è™Ÿè½‰æ›&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;amp; -&amp;gt; &amp;amp;amp;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt; -&amp;gt; &amp;amp;lt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; -&amp;gt; &amp;amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34; -&amp;gt; &amp;amp;quot;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#39; -&amp;gt; &amp;amp;#x27;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/ -&amp;gt; &amp;amp;#x2F;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸Šé¢æˆ‘ç¾…åˆ—äº†å¹¾å€‹å¸¸è¦‹çš„ç‰¹æ®Šå­—ç¬¦ã€‚å¾ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œè¼¸å…¥äº† &lt;code>&amp;lt;script&amp;gt;&lt;/code> æ¨™ç±¤å¾Œï¼Œè£¡é¢çš„å…§å®¹æœ‰å¯èƒ½æœƒè¢«åŸ·è¡Œã€‚&lt;br>
å¦‚æœæˆ‘å€‘æŠŠ &lt;code>&amp;lt;script&amp;gt;&lt;/code> æ”¹æˆ &lt;code>&amp;amp;lt;script&amp;amp;gt;&lt;/code> é‚£éº¼ç€è¦½å™¨å°±ä¸æŠŠé€™æ®µå…§å®¹çœ‹æˆæ˜¯å¯åŸ·è¡Œä»£ç¢¼ã€‚&lt;/p>
&lt;p>åœ¨æ—¥å¸¸é–‹ç™¼ä¸­ï¼Œæˆ‘å€‘ä¸éœ€è¦è‡ªå·±ç·¨å¯«è½‰ç¾©åŠŸèƒ½çš„ä»£ç¢¼ï¼Œåªéœ€è¦ä¸‹è¼‰ &lt;code>xss&lt;/code> çš„ä¾è³´åŒ…å°±è¡Œã€‚&lt;/p>
&lt;p>å®‰è£ &lt;code>xss&lt;/code> ä¾è³´åŒ…&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install xss --save
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>xss&lt;/code>ã€‚ &lt;code>xss&lt;/code> å…¶å¯¦æ˜¯ä¸€å€‹æ–¹æ³•ï¼Œåªéœ€è¦æŠŠè¦è½‰ç¾©çš„å…§å®¹å‚³å…¥ &lt;code>xss&lt;/code> æ–¹æ³•å³å¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">xss&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">require&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;xss&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">content&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">xss&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;lt;script&amp;gt;alert(1234)&amp;lt;/script&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ€å¾Œè¼¸å‡º&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-perl" data-lang="perl">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="ow">lt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">script&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="ow">gt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1234&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="ow">lt&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">script&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="ow">gt&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»¥ä¸Šå°±æ˜¯ &lt;code>xssæ”»æ“Š&lt;/code> åœ¨å¾Œç«¯çš„é˜²ç¦¦æ–¹æ³•ã€‚&lt;/p>
&lt;p>å¦‚æœåš´è¬¹ä¸€é»çš„è©±ï¼Œåœ¨å‰ç«¯ä¹Ÿå¯ä»¥æŠŠæ–‡æœ¬åŸŸçš„å…§å®¹è£¡çš„ç‰¹æ®Šå­—ç¬¦è½‰ç¾©ä¸€éå†å‚³çµ¦å¾Œç«¯ã€‚&lt;/p>
&lt;p>å¾Œç«¯å‚³çµ¦å‰ç«¯çš„å…§å®¹æœ‰å¯èƒ½æœƒåœ¨é é¢å±•ç¤ºæˆ &lt;code>&amp;amp;lt;script&amp;amp;gt;alert(1234)&amp;amp;lt;/script&amp;amp;gt;&lt;/code>ï¼Œé€™éƒ¨åˆ†éœ€è¦å‰ç«¯è‡ªå·±å»è™•ç†ã€‚&lt;/p>
&lt;p>æ’å‰‡èŠ±é‚Šæ–°è&lt;/p>
&lt;p>ä¹‹å‰çœ‹åˆ°æœ‰å‰‡æ–°èèªª &lt;code>Vue&lt;/code> ä¸å®‰å…¨ï¼ŒæŸäº›ZFé …ç›®ä¸­ä½¿ç”¨ &lt;code>Vue&lt;/code> å—åˆ°äº† &lt;code>xss&lt;/code> æ”»æ“Šã€‚å¾Œç«¯ç”©é‹çµ¦å‰ç«¯ï¼Œå‰ç«¯ç”©é‹çµ¦äº† &lt;code>Vue&lt;/code>ã€‚&lt;/p>
&lt;p>å¾Œä¾†è½èªªæ˜¯å‰ç«¯èƒ¡äº‚ä½¿ç”¨ &lt;code>v-html&lt;/code> æ¸²æŸ“å…§å®¹å°è‡´çš„ï¼Œè€Œ &lt;code>v-html&lt;/code> é€™æ±è¥¿å®˜æ–¹æ–‡æª”ä¹Ÿæç¤ºäº†æœ‰å¯èƒ½å—åˆ° &lt;code>xss&lt;/code> æ”»æ“Šã€‚&lt;/p>
&lt;p>&lt;strong>å°¤é›¨æºªï¼šå¾ˆå¤šäººå°±æ˜¯ä¸çœ‹æ–‡æª”&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52443102169_2094784350_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr></description></item></channel></rss>