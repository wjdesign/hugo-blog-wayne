<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Typescript on Wayne's blog | å‰æ©çš„éƒ¨è½æ ¼ | æŠ€è¡“åšå®¢</title><link>https://wayneblog.ga/categories/typescript/</link><description>Recent content in Typescript on Wayne's blog | å‰æ©çš„éƒ¨è½æ ¼ | æŠ€è¡“åšå®¢</description><generator>Hugo -- gohugo.io</generator><language>zh-tw</language><lastBuildDate>Tue, 07 Mar 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://wayneblog.ga/categories/typescript/index.xml" rel="self" type="application/rss+xml"/><item><title>ã€Typescriptã€‘tsconfig.json çš„è¨­å®šèˆ‡è³‡æ–™å‹åˆ¥ä»‹ç´¹ç­†è¨˜</title><link>https://wayneblog.ga/2023-03-07/ts-config-and-type/</link><pubDate>Tue, 07 Mar 2023 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2023-03-07/ts-config-and-type/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52731863500_76db7b3738_o.png" alt="Featured image of post ã€Typescriptã€‘tsconfig.json çš„è¨­å®šèˆ‡è³‡æ–™å‹åˆ¥ä»‹ç´¹ç­†è¨˜" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
.text-center {
text-align: center !important;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://magiclen.org/typescript-advanced-type/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#union-types" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/users/20131472/ironman/4100" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>æœ¬ç¯‡ä¾†ç°¡å–®èªªæ˜ä¸€ä¸‹ typescript çš„ tsconfig.jsonï¼Œä¸¦è¨˜éŒ„ä¸€ä¸‹ typescript å„å€‹è³‡æ–™å‹åˆ¥ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="typescript-æ˜¯ä»€éº¼">TypeScript æ˜¯ä»€éº¼ï¼Ÿ&lt;/h2>
&lt;p>â“é€™å€‹æ‡‰è©²æ˜¯å¤§å®¶éƒ½æœ‰çŠ¯çš„éŒ¯èª¤ï¼Œä¸‹é¢é€™å¼µåœ–ä½ çœ‹åˆ°éŒ¯èª¤äº†å—ï¼Ÿ&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52731704254_7f1b416099_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>.&lt;br>
.&lt;br>
.&lt;/p>
&lt;p>ğŸ…°ï¸ï¼šå°±æ˜¯å¯«éŒ¯å­—ï¼Œrecord å°‘äº†å€‹ &lt;code>s&lt;/code>ï¼Œæœ‰æ™‚å€™å³ä½¿å ± error äº†ï¼Œä½ é‚„æ‰¾ä¸åˆ°ã€‚&lt;/p>
&lt;p>JavaScript å°±æ˜¯ä¸€å€‹è‡ªç”±çš„éˆé­‚ï¼Œä½ æ°¸é ä¸çŸ¥é“ä½ æ¥äº†ä»€éº¼ç‰©ä»¶ï¼Œå¯«çš„æ™‚å€™å¾ˆçˆ½ï¼Œdebug çš„æ™‚å€™é»‘äººå•è™Ÿã€‚&lt;/p>
&lt;p>âœ… è€Œä¸‹é¢é€™å¼µå°±å¼•ç”¨äº† TypeScript çš„ &lt;code>interface&lt;/code> ä¾†å®šç¾©ç‰©ä»¶çš„å‹åˆ¥ï¼Œè®“ä½ åœ¨é–‹ç™¼çš„æ™‚å€™å°±å¯ä»¥é¦¬ä¸ŠçŸ¥é“éŒ¯èª¤ï¼Œæ¸›å°‘äº†å¾ˆå¤š debug çš„æ™‚é–“ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52731938133_3ca827cf65_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="tsconfigjson">tsconfig.json&lt;/h2>
&lt;p>tsconfig.json æ˜¯ typescript ç·¨è­¯è¨­å®šçš„æ–‡ä»¶ã€‚&lt;/p>
&lt;p>åœ¨ç›®éŒ„ä¸‹åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œç”¢ç”Ÿ tsconfig.jsonï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tsc --init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="tsconfigjson-çš„é è¨­">tsconfig.json çš„é è¨­&lt;/h3>
&lt;p>ä¸€é–‹å§‹æˆ‘å€‘æ‹¿åˆ°çš„ tsconfig æª”ï¼Œ è£¡é¢çš„é è¨­å°±æœ‰é€™äº›ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;compilerOptions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;target&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;es5&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æŒ‡å®šç·¨è­¯ç”Ÿæˆçš„JSç‰ˆæœ¬
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;module&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;commonjs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æŒ‡å®šç”Ÿæˆå“ªç¨®æ¨¡çµ„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;strict&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å•Ÿç”¨æ‰€æœ‰åš´æ ¼é¡å‹æª¢æŸ¥é¸é …
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;esModuleInterop&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å…¼å®¹æ¨¡çµ„å°å…¥çš„æ–¹å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;skipLibCheck&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ä¸æœƒæª¢æŸ¥å¼•å…¥çš„å‡½å¼åº«æª”æ¡ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;forceConsistentCasingInFileNames&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="c1">// ç¢ºä¿æª”æ¡ˆçš„å¤§å°å¯«ä¸€è‡´
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="tsconfigjson-é‚„æœ‰å“ªäº›è¨­å®š">tsconfig.json é‚„æœ‰å“ªäº›è¨­å®šï¼Ÿ&lt;/h3>
&lt;p>é™¤äº†é è¨­ compilerOptions çš„è¨­å®šå¤–ï¼Œ é‚„æœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>compileOnSaveï¼š åœ¨æœ€ä¸Šå±¤è¨­å®š compileOnSave å±¬æ€§ï¼Œå¯ä»¥è®“ IDE ç·¨è¼¯å™¨åœ¨å„²å­˜æª”æ¡ˆçš„æ™‚å€™æ ¹æ“š tsconfig.json é‡æ–°ç”¢ç”Ÿç·¨è­¯æª”æ¡ˆã€‚&lt;/li>
&lt;li>compilerOptionsï¼š æ‰€æœ‰çš„ç·¨è­¯è¨­å®šéƒ½æœƒå¯«åœ¨ compilerOptions è£¡ï¼Œ æˆ‘å€‘ä¸€é–‹å§‹å–å¾—çš„é è¨­è¨­å®šå°±åœ¨ compilerOptionsã€‚&lt;/li>
&lt;li>includeï¼š æŒ‡å®šç·¨è­¯éœ€è¦ç·¨è­¯çš„æ–‡ä»¶æˆ–ç›®éŒ„ã€‚&lt;/li>
&lt;li>excludeï¼š æŒ‡å®šç·¨è­¯å™¨éœ€è¦æ’é™¤çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¾ã€‚å¦‚é»˜èªæ’é™¤ node_modules æ–‡ä»¶å¤¾ã€‚
&lt;ul>
&lt;li>include åŠ exclude æœ€å¸¸è¦‹çš„è¬ç”¨å­—å…ƒåŒ…æ‹¬ï¼š&lt;/li>
&lt;li>&lt;code>*&lt;/code>ï¼š è¡¨ç¤ºåŒ¹é…0è‡³å¤šå€‹å­—å…ƒ(ä¸åŒ…å«åˆ†éš”ç¬¦è™Ÿ)&lt;/li>
&lt;li>&lt;code>?&lt;/code>ï¼š åŒ¹é…ä¸€å€‹ç›¸ç¬¦å­—å…ƒ(ä¸åŒ…å«åˆ†éš”ç¬¦è™Ÿ)&lt;/li>
&lt;li>&lt;code>**/&lt;/code>ï¼š è¡¨ç¤ºåŒ¹é…æ‰€æœ‰å­è³‡æ–™å¤¾&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>extendsï¼š å¼•å…¥å…¶ä»–é…ç½®æª”æ¡ˆï¼Œç¹¼æ‰¿é…ç½®ã€‚default åŒ…å«ç•¶å‰ç›®éŒ„å’Œå­ç›®éŒ„ä¸‹æ‰€æœ‰ TypeScript æ–‡ä»¶ã€‚&lt;/li>
&lt;li>filesï¼š files çš„å€¼ç‚ºåŒ…å«ç›¸å°æˆ–çµ•å°æ–‡ä»¶è·¯å¾‘çš„ listï¼Œè¡¨ç¤ºéœ€è¦ç·¨è­¯çš„æ–‡ä»¶ã€‚default åŒ…å«ç•¶å‰ç›®éŒ„å’Œå­ç›®éŒ„ä¸‹æ‰€æœ‰ TypeScript æ–‡ä»¶ã€‚è‹¥æŒ‡å®š filesï¼Œå‰‡åªæœƒç·¨è­¯æŒ‡å®šçš„æª”æ¡ˆã€‚&lt;/li>
&lt;li>referencesï¼š æŒ‡å®šè¦å¼•ç”¨çš„å°ˆæ¡ˆã€‚æœ‰æ™‚å€™ç‚ºäº†æ–¹ä¾¿å°‡å‰ç«¯é …ç›®å’Œå¾Œç«¯ node é …ç›®æ”¾åœ¨åŒä¸€å€‹ç›®éŒ„ä¸‹é–‹ç™¼ï¼Œå…©å€‹é …ç›®ä¾è³´åŒä¸€å€‹é…ç½®æ–‡ä»¶å’Œé€šç”¨æ–‡ä»¶ã€‚&lt;/li>
&lt;li>typeAcquisitionï¼š è¨­ç½®è‡ªå‹•å¼•å…¥å‡½å¼åº«ç›¸é—œå®šç¾©æ–‡ä»¶ã€‚åŒ…å« 3 å€‹å­å±¬æ€§ï¼š
&lt;ul>
&lt;li>enableï¼š å¸ƒæ—é¡å‹ï¼Œæ˜¯å¦é–‹å•Ÿè‡ªå‹•å¼•å…¥åº«é¡å‹å®šç¾©æ–‡ä»¶(.d.ts)ï¼Œé»˜èªç‚º falseï¼›&lt;/li>
&lt;li>includeï¼š æ•¸çµ„é¡å‹ï¼Œå…è¨±è‡ªå‹•å¼•å…¥çš„å‡½å¼åº«åï¼Œå¦‚ï¼š[&amp;ldquo;jquery&amp;rdquo;, &amp;ldquo;lodash&amp;rdquo;]ï¼›&lt;/li>
&lt;li>exculdeï¼š æ•¸çµ„é¡å‹ï¼Œæ’é™¤çš„å‡½å¼åº«åï¼›&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>æ¦‚æ‹¬&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;compileOnSave&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ç·¨è¼¯å™¨åœ¨å„²å­˜æª”æ¡ˆçš„æ™‚å€™æ ¹æ“š tsconfig.json é‡æ–°ç”¢ç”Ÿç·¨è­¯æª”æ¡ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;compilerOptions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">/*&lt;/span> &lt;span class="err">åŸºæœ¬é¸é …&lt;/span> &lt;span class="err">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;target&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;es5&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æŒ‡å®šç·¨è­¯ç”Ÿæˆçš„ JS ç‰ˆæœ¬: &amp;#39;ES3&amp;#39; (default), &amp;#39;ES5&amp;#39;, &amp;#39;ES6&amp;#39;/&amp;#39;ES2015&amp;#39;, &amp;#39;ES2016&amp;#39;, &amp;#39;ES2017&amp;#39;, or &amp;#39;ESNEXT&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;module&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;commonjs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æŒ‡å®šç”Ÿæˆå“ªç¨®æ¨¡çµ„: &amp;#39;commonjs&amp;#39;, &amp;#39;amd&amp;#39;, &amp;#39;system&amp;#39;, &amp;#39;umd&amp;#39; or &amp;#39;es2015&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;lib&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span> &lt;span class="c1">// ç·¨è­¯éœ€è¦å¼•å…¥çš„ç‰¹å®šå‡½å¼åº«æª”æ¡ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;allowJs&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å…è¨±ç·¨è­¯ javascript æ–‡ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;checkJs&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å ±å‘Š javascript æ–‡ä»¶ä¸­çš„éŒ¯èª¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;jsx&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;preserve&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æŒ‡å®š jsx ä»£ç¢¼çš„ç”Ÿæˆ: &amp;#39;preserve&amp;#39;, &amp;#39;react-native&amp;#39;, or &amp;#39;react&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;declaration&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ç”Ÿæˆç›¸æ‡‰çš„ &amp;#39;.d.ts&amp;#39; æ–‡ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;declarationMap&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ç”Ÿæˆå®£å‘Šæª”æ¡ˆçš„ sourceMap
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;sourceMap&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ç”Ÿæˆç›¸æ‡‰çš„ &amp;#39;.map&amp;#39; æ–‡ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;outFile&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å°‡è¼¸å‡ºæ–‡ä»¶åˆä½µç‚ºä¸€å€‹æ–‡ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;outDir&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æŒ‡å®šè¼¸å‡ºç›®éŒ„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;rootDir&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æª”æ¡ˆæ‡‰è©²è¦è¢«æ”¾ç½®çš„ä½ç½®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;composite&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æ˜¯å¦ç·¨è­¯æ§‹å»ºå¼•ç”¨é …ç›®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;tsBuildInfoFile&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æŒ‡å®šæ–‡ä»¶å­˜å„²å¢é‡ç·¨è­¯ä¿¡æ¯ï¼Œé»˜èªç‚º tsconfig.tsbuildinfo
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;removeComments&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// åˆªé™¤ç·¨è­¯å¾Œçš„æ‰€æœ‰çš„è¨»é‡‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;noEmit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ä¸ç”¢ç”Ÿè¼¸å‡ºæª”æ¡ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;importHelpers&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å¾ tslib å°å…¥è¼”åŠ©å·¥å…·å‡½æ•¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;isolatedModules&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å°‡æ¯å€‹æ–‡ä»¶åšç‚ºå–®ç¨çš„ module(èˆ‡ &amp;#39;ts.transpileModule&amp;#39; é¡ä¼¼)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">/*&lt;/span> &lt;span class="err">åš´æ ¼çš„é¡å‹æª¢æŸ¥é¸é …&lt;/span> &lt;span class="err">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;strict&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å•Ÿç”¨æ‰€æœ‰åš´æ ¼é¡å‹æª¢æŸ¥é¸é …
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;noImplicitAny&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// åœ¨è¡¨é”å¼å’Œè²æ˜ä¸Šæœ‰éš±å«çš„ any é¡å‹æ™‚å ±éŒ¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;strictNullChecks&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å•Ÿç”¨åš´æ ¼çš„ null æª¢æŸ¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;strictFunctionTypes&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å•Ÿç”¨æª¢æŸ¥ function å‹åˆ¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;strictBindCallApply&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å•Ÿç”¨å° bindã€callã€apply æ›´åš´æ ¼çš„å‹åˆ¥æª¢æŸ¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;strictPropertyInitialization&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å•Ÿç”¨ class å¯¦ä¾‹å±¬æ€§çš„è³¦å€¼æª¢æŸ¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;noImplicitThis&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ç•¶ this è¡¨é”å¼å€¼ç‚º any é¡å‹çš„æ™‚å€™ï¼Œç”Ÿæˆä¸€å€‹éŒ¯èª¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;alwaysStrict&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ä»¥åš´æ ¼æ¨¡å¼æª¢æŸ¥æ¯å€‹ moduleï¼Œä¸¦åœ¨æ¯å€‹æ–‡ä»¶è£¡åŠ å…¥ &amp;#39;use strict&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">/*&lt;/span> &lt;span class="err">é¡å¤–çš„æª¢æŸ¥&lt;/span> &lt;span class="err">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;noUnusedLocals&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æœ‰æœªä½¿ç”¨çš„è®Šæ•¸æ™‚ï¼Œæ‹‹å‡ºéŒ¯èª¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;noUnusedParameters&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æœ‰æœªä½¿ç”¨çš„åƒæ•¸æ™‚ï¼Œæ‹‹å‡ºéŒ¯èª¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;noImplicitReturns&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ä¸¦ä¸æ˜¯æ‰€æœ‰ function è£¡çš„ä»£ç¢¼éƒ½æœ‰è¿”å›å€¼æ™‚ï¼Œæ‹‹å‡ºéŒ¯èª¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;noFallthroughCasesInSwitch&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å ±å‘Š switch èªå¥çš„ fallthrough éŒ¯èª¤ã€‚ (å³ä¸å…è¨± switch çš„ case èªå¥è²«ç©¿)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;noUncheckedIndexedAccess&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æª¢æŸ¥ index signature å±¬æ€§æ˜¯å¦æ˜¯ undefined
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">/*&lt;/span> &lt;span class="err">æ¨¡çµ„é¸é …&lt;/span> &lt;span class="err">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;moduleResolution&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;node&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// é¸æ“‡æ¨¡çµ„è§£æç­–ç•¥ï¼š &amp;#39;node&amp;#39; (Node.js) or &amp;#39;classic&amp;#39; (TypeScript pre-1.6)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;baseUrl&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ç”¨æ–¼è§£æéç›¸å°æ¨¡çµ„åç¨±çš„åŸºç›®éŒ„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;paths&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{},&lt;/span> &lt;span class="c1">// æ¨¡çµ„ååˆ°åŸºæ–¼ baseUrl çš„è·¯å¾‘æ˜ å°„çš„åˆ—è¡¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;rootDirs&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span> &lt;span class="c1">// æ ¹æ–‡ä»¶å¤¾åˆ—è¡¨ï¼Œå…¶çµ„åˆå…§å®¹è¡¨ç¤ºé …ç›®é‹è¡Œæ™‚çš„çµæ§‹å…§å®¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;typeRoots&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span> &lt;span class="c1">// åŒ…å«é¡å‹è²æ˜çš„æ–‡ä»¶åˆ—è¡¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;types&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[],&lt;/span> &lt;span class="c1">// éœ€è¦åŒ…å«çš„é¡å‹è²æ˜æ–‡ä»¶ååˆ—è¡¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;allowSyntheticDefaultImports&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å…è¨±å¾æ²’æœ‰è¨­ç½®é»˜èªå°å‡ºçš„æ¨¡çµ„ä¸­é»˜èªå°å…¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">/*&lt;/span> &lt;span class="err">Source&lt;/span> &lt;span class="err">Map&lt;/span> &lt;span class="err">Options&lt;/span> &lt;span class="err">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;sourceRoot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æŒ‡å®šèª¿è©¦å™¨æ‡‰è©²æ‰¾åˆ° TypeScript æ–‡ä»¶è€Œä¸æ˜¯æºæ–‡ä»¶çš„ä½ç½®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;mapRoot&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æŒ‡å®šèª¿è©¦å™¨æ‡‰è©²æ‰¾åˆ°æ˜ å°„æ–‡ä»¶è€Œä¸æ˜¯ç”Ÿæˆæ–‡ä»¶çš„ä½ç½®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;inlineSourceMap&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ç”Ÿæˆå–®å€‹ soucemaps æ–‡ä»¶ï¼Œè€Œä¸æ˜¯å°‡ sourcemaps ç”Ÿæˆä¸åŒçš„æ–‡ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;inlineSources&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å°‡ä»£ç¢¼èˆ‡ sourcemaps ç”Ÿæˆåˆ°ä¸€å€‹æ–‡ä»¶ä¸­ï¼Œè¦æ±‚åŒæ™‚è¨­ç½®äº† --inlineSourceMap æˆ– --sourceMap å±¬æ€§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">/*&lt;/span> &lt;span class="err">å…¶ä»–é¸é …&lt;/span> &lt;span class="err">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;experimentalDecorators&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å•Ÿç”¨è£é£¾å™¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;emitDecoratorMetadata&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ç‚ºè£é£¾å™¨æä¾›å…ƒæ•¸æ“šçš„æ”¯æŒ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">/*&lt;/span> &lt;span class="err">é€²éšé¸é …&lt;/span> &lt;span class="err">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;skipLibCheck&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ä¸æœƒæª¢æŸ¥å¼•å…¥çš„å‡½å¼åº«æª”æ¡ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;forceConsistentCasingInFileNames&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="c1">// ç¢ºä¿æª”æ¡ˆçš„å¤§å°å¯«ä¸€è‡´
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;files&amp;#34;&lt;/span>&lt;span class="p">:[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;hello.ts&amp;#34;&lt;/span> &lt;span class="c1">// è‹¥æŒ‡å®š filesï¼Œå‰‡åªæœƒç·¨è­¯æŒ‡å®šçš„ hello.ts æª”æ¡ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exclude&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span> &lt;span class="c1">// æŒ‡å®šç·¨è­¯å™¨éœ€è¦æ’é™¤çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¾
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="s2">&amp;#34;node_modules&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;extends&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./tsconfig.base.json&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æŠŠåŸºç¤é…ç½®æŠ½é›¢æˆ tsconfig.base.json æª”æ¡ˆï¼Œç„¶å¾Œå¼•å…¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;references&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span> &lt;span class="c1">// æŒ‡å®šä¾è³´çš„ç¨‹å¼è·¯å¾‘
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nt">&amp;#34;path&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./common&amp;#34;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;typeAcquisition&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// è‡ªå‹•å¼•å…¥å‡½å¼åº«ç›¸é—œå®šç¾©æ–‡ä»¶(.d.ts)ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;enable&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exclude&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;jquery&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;include&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;jest&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="typescript-è³‡æ–™å‹åˆ¥æ•´ç†è¡¨">TypeScript è³‡æ–™å‹åˆ¥æ•´ç†è¡¨&lt;/h2>
&lt;p>å…ˆç¸½çµä¸€äº›è³‡æ–™å‹åˆ¥ï¼Œæ¥è‘—å†ä¾†è©³ç´°ä»‹ç´¹å„å€‹å‹åˆ¥ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Type&lt;/th>
&lt;th>å‹åˆ¥åˆ†é¡&lt;/th>
&lt;th>èªªæ˜&lt;/th>
&lt;th>Example&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>string&lt;/td>
&lt;td>primitive&lt;/td>
&lt;td>å­—ä¸²å‹åˆ¥&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52731704259_188fe1572c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>number&lt;/td>
&lt;td>primitive&lt;/td>
&lt;td>æ•¸å€¼å‹åˆ¥&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52731863540_1f3f39805f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>boolean&lt;/td>
&lt;td>primitive&lt;/td>
&lt;td>å¸ƒæ—å‹åˆ¥&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52731704274_615a1bdab7_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>null&lt;/td>
&lt;td>primitive&lt;/td>
&lt;td>ç©ºå€¼å‹åˆ¥ï¼Œäº¦å¯è³¦å€¼çµ¦æ‰€æœ‰å‹åˆ¥(åš´è¬¹æ¨¡å¼å‰‡ç„¡æ³•)&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52731938303_797f881193_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>undefined&lt;/td>
&lt;td>primitive&lt;/td>
&lt;td>undefined å‹åˆ¥ï¼Œäº¦å¯è³¦å€¼çµ¦æ‰€æœ‰å‹åˆ¥(åš´è¬¹æ¨¡å¼å‰‡ç„¡æ³•)&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52731863640_7493690d7e_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>object&lt;/td>
&lt;td>object&lt;/td>
&lt;td>ç‰©ä»¶å‹åˆ¥&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52731456346_116c1f8f8a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array&lt;/td>
&lt;td>object&lt;/td>
&lt;td>å¯ä½¿ç”¨ã€Œå‹åˆ¥ + æ–¹æ‹¬è™Ÿã€æˆ–é™£åˆ—æ³›å‹ä¾†è¡¨ç¤ºé™£åˆ—&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52731704389_93f8c568a4_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>function&lt;/td>
&lt;td>object&lt;/td>
&lt;td>ä¸€å€‹å‡½å¼æœ‰è¼¸å…¥å’Œè¼¸å‡ºï¼Œå¯ä»¥é‡å°åƒæ•¸(è¼¸å…¥)åŠè¿”å›å€¼(è¼¸å‡º)é€²è¡Œå‹åˆ¥è¦ç¯„&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52730928457_291947b335_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>any&lt;/td>
&lt;td>ts&lt;/td>
&lt;td>å…è¨±è³¦å€¼ç‚ºä»»æ„å‹åˆ¥&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52731704369_2d177dd98d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>unknown&lt;/td>
&lt;td>ts&lt;/td>
&lt;td>unknown å’Œ any ä¸€æ¨£å¯ä»¥æ¥å—ä»»ä½•å‹åˆ¥è³¦å€¼ï¼Œä½† any å¯ä»¥è³¦å€¼çµ¦ä»»ä½•å‹åˆ¥ï¼Œunknown åªèƒ½è³¦å€¼çµ¦ any å’Œè‡ªå·±&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52731704349_3ab9a8994b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>void&lt;/td>
&lt;td>ts&lt;/td>
&lt;td>æ²’æœ‰ä»»ä½•è¿”å›å€¼çš„å‡½å¼&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52730928442_efd0f011f6_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>never&lt;/td>
&lt;td>ts&lt;/td>
&lt;td>è¡¨ç¤ºä¸æ‡‰è©²å­˜åœ¨çš„ç‹€æ…‹çš„å‹åˆ¥ï¼Œä¸€èˆ¬ç”¨æ–¼éŒ¯èª¤è™•ç†å‡½å¼&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52730928422_5b2f105386_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>union types&lt;/td>
&lt;td>ts&lt;/td>
&lt;td>è¯åˆå‹åˆ¥(union type) ä½¿ç”¨ &lt;code>ï½œ&lt;/code> è¡¨ç¤ºå…¶å®šç¾©çš„å€¼å¯ä»¥ç‚ºå¤šç¨®å‹åˆ¥&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52731863615_58dfd0dd6c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>intersection types&lt;/td>
&lt;td>ts&lt;/td>
&lt;td>äº¤é›†å‹åˆ¥(intersection type) ä½¿ç”¨ &lt;code>&amp;amp;&lt;/code> è¡¨ç¤ºå…¶å®šç¾©çš„å€¼éƒ½å¿…é ˆç¬¦åˆå¤šç¨®å‹åˆ¥&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52730928402_4a68dd5366_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>literal types&lt;/td>
&lt;td>ts&lt;/td>
&lt;td>æŸäº›ç‰¹æ®Šçš„&amp;quot;å€¼&amp;quot;å¯ä»¥ç•¶ä½œ&amp;quot;å‹åˆ¥&amp;quot;ä¾†ä½¿ç”¨&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52731938213_966b7fe5f5_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>tuple&lt;/td>
&lt;td>ts&lt;/td>
&lt;td>tuple å°±æ˜¯åˆä½µäº†ä¸åŒå‹åˆ¥çš„ç‰©ä»¶&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52730928392_f63e3b028c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>enum&lt;/td>
&lt;td>ts&lt;/td>
&lt;td>åˆ—èˆ‰(enum)å‹åˆ¥å¯ä»¥ç”¨ä¾†ç®¡ç†å¤šå€‹åŒç³»åˆ—çš„å¸¸æ•¸ï¼Œä½œç‚ºç‹€æ…‹åˆ¤æ–·ä½¿ç”¨&lt;/td>
&lt;td>&lt;img src="https://live.staticflickr.com/65535/52730928382_7d0475016b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>primitiveï¼š åŸå§‹å‹åˆ¥
tsï¼š typescript çš„ç‰¹æ®Šå‹åˆ¥&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="typescript-çš„ç‰¹æ®Šå‹åˆ¥">typescript çš„ç‰¹æ®Šå‹åˆ¥&lt;/h2>
&lt;h3 id="any">any&lt;/h3>
&lt;p>å¦‚æœä½ ä¸å¸Œæœ›æŸäº›å€¼å‡ºç¾å‹åˆ¥æª¢æŸ¥éŒ¯èª¤ï¼Œå¯ä»¥ä½¿ç”¨ anyï¼Œä»–æ˜¯ç”¨ä¾†è¡¨ç¤ºå…è¨±è³¦å€¼ç‚ºä»»æ„å‹åˆ¥ã€‚&lt;/p>
&lt;p>âŒ å‡è¨­æˆ‘å€‘è¨­å®š favoriteNumber è®Šæ•¸çš„å€¼çš„å‹åˆ¥ç‚º stringï¼Œè‹¥ä½¿ç”¨æ•¸å­—å‰‡æœƒå ±éŒ¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">favoriteNumber&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;seven&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">favoriteNumber&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//error : Cannot assign to &amp;#39;favoriteNumber&amp;#39; because it is a constant.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>âœ… é€™æ™‚å€™ä½¿ç”¨ anyï¼Œ å‰‡å…è¨±ä»»ä½•å‹åˆ¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">favoriteNumber&lt;/span>: &lt;span class="kt">any&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;seven&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">favoriteNumber&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®£å‘Šä¸€å€‹è®Šæ•¸ç‚ºä»»æ„å€¼ä¹‹å¾Œï¼Œå°å®ƒçš„ä»»ä½•æ“ä½œï¼Œè¿”å›çš„å…§å®¹çš„å‹åˆ¥éƒ½æ˜¯ä»»æ„å€¼ã€‚åœ¨ any å‹åˆ¥ä¸‹ï¼Œå¯ä»¥è³¦å€¼çµ¦ä»»ä½•å‹åˆ¥ï¼Œä½¿ç”¨ä»»ä½•å±¬æ€§å’Œæ–¹æ³•ï¼Œéƒ½æ˜¯è¢«å…è¨±çš„ã€‚&lt;/p>
&lt;p>ä½†é€™æ¨£æ˜¯éå¸¸å±éšªï¼Œ&lt;code>éå¿…è¦éƒ½ä¸æœƒä½¿ç”¨ any&lt;/code>ï¼Œè¦æ…ç”¨ï¼&lt;/p>
&lt;h4 id="æœªå®£å‘Šå‹åˆ¥çš„è®Šæ•¸åŠåƒæ•¸ä¹Ÿè¦–ç‚º-any-å‹åˆ¥">æœªå®£å‘Šå‹åˆ¥çš„è®Šæ•¸åŠåƒæ•¸ä¹Ÿè¦–ç‚º any å‹åˆ¥&lt;/h4>
&lt;p>è®Šæ•¸å¦‚æœåœ¨å®£å‘Šçš„æ™‚å€™ï¼ŒæœªæŒ‡å®šå…¶å‹åˆ¥ï¼Œé‚£éº¼å®ƒæœƒè¢«è­˜åˆ¥ç‚º any å‹åˆ¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">something&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// something: any
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">something&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">something&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;seven&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ç”¨-noimplicitanyä¾†æé†’æˆ‘ä½¿ç”¨äº†-any">ç”¨ noImplicitAnyï¼Œä¾†æé†’æˆ‘ä½¿ç”¨äº† any&lt;/h4>
&lt;p>å¦‚ä¸Šé¢æ‰€è¿°ï¼ŒæœªæŒ‡å®šå‹åˆ¥å‰‡è¢«è­˜ç‚º anyï¼Œå¦‚æœä½ æƒ³é¿å…é€™ç¨®æƒ…æ³ï¼Œå¯ä»¥åœ¨ tsconfig è¨­å®š &lt;code>noImplicitAny = true&lt;/code>ï¼Œæˆ–æ˜¯æ‰“é–‹ &amp;ldquo;strict&amp;rdquo;: true é–‹å•Ÿæ‰€æœ‰åš´è¬¹æ¨¡å¼ã€‚ä»–å°±æœƒæé†’ä½ ä½¿ç”¨äº† any å‹åˆ¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;noImplicitAny&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="unknown">unknown&lt;/h3>
&lt;p>unknow å¯ä»¥æ¥å—ä»»ä½•å‹åˆ¥è³¦å€¼ï¼Œ æœ‰é»é¡ä¼¼ any é¡å‹ï¼Œ ä½†ä½¿ç”¨ä¸Šæ¯” any å®‰å…¨ï¼Œä¾†çœ‹ä¸‹é¢ä¾‹å­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">f1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>: &lt;span class="kt">any&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// success
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">f2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>: &lt;span class="kt">unknown&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// error: Property &amp;#39;b&amp;#39; does not exist on type &amp;#39;unknown&amp;#39;.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ unknow æœƒå ±éŒ¯ï¼Œæ²’æœ‰ b å‡½å¼çš„å±¬æ€§ï¼Œè€Œ any å‰‡æœƒä¸æœƒå‘Šè¨´ä½ ã€‚&lt;/p>
&lt;p>é›–ç„¶ unknown å’Œ any ä¸€æ¨£å¯ä»¥æ¥å—ä»»ä½•å‹åˆ¥è³¦å€¼ï¼Œä½† any å¯ä»¥è³¦å€¼çµ¦ä»»ä½•å‹åˆ¥ï¼Œunknown åªèƒ½è³¦å€¼çµ¦ any å’Œè‡ªå·±ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">value&lt;/span>: &lt;span class="kt">unknown&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">value1&lt;/span>: &lt;span class="kt">unknown&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// success
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">value2&lt;/span>: &lt;span class="kt">any&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// success
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">value3&lt;/span>: &lt;span class="kt">boolean&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">value4&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">value5&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">value6&lt;/span>: &lt;span class="kt">object&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">value7&lt;/span>: &lt;span class="kt">any&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">value8&lt;/span>: &lt;span class="kt">Function&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">value&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// error
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="void">void&lt;/h3>
&lt;p>JavaScript æ²’æœ‰ç©ºå€¼(void)çš„æ¦‚å¿µï¼Œåœ¨ TypeScript ä¸­ï¼Œå¯ä»¥ç”¨ void è¡¨ç¤ºæ²’æœ‰ä»»ä½•è¿”å›å€¼çš„å‡½å¼ï¼Œå¦‚ä»¥ä¸‹ä¾‹å­ï¼Œé€™å€‹å‡½å¼åªæœ‰ alertï¼Œä¸æœƒ return ä»»ä½•å€¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">alertName&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;My name is iris&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="never">never&lt;/h3>
&lt;p>è¡¨ç¤ºä¸æ‡‰è©²å­˜åœ¨çš„ç‹€æ…‹çš„å‹åˆ¥ï¼Œä¸€èˆ¬ç”¨æ–¼éŒ¯èª¤è™•ç†å‡½å¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">message&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">never&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤å¤–ï¼Œä»¥ä¸‹é¢ä¾‹å­ï¼Œåƒæ•¸ä½¿ç”¨ Union Types(è¯åˆå‹åˆ¥)ï¼Œç•¶åƒæ•¸è¢«åˆ¤æ–·æ²’æœ‰å…¶ä»–å‹åˆ¥æ™‚ï¼Œä¹Ÿæœƒè¢«è¦–ç‚º neverã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">fn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;string&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// do something
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;number&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// do something else
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">x&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// has type &amp;#39;never&amp;#39;!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="union-types-è¯åˆå‹åˆ¥">Union Types (è¯åˆå‹åˆ¥)&lt;/h3>
&lt;p>è¯åˆå‹åˆ¥(Union Types)è¡¨ç¤ºå–å€¼å¯ä»¥ç‚ºå¤šç¨®å‹åˆ¥ä¸­çš„å…¶ä¸­ä¸€ç¨®ã€‚è·ŸJavaScript &lt;code>||&lt;/code> or çš„æ¦‚å¿µæ˜¯ä¸€æ¨£çš„ã€‚&lt;/p>
&lt;p>âœ… è¯åˆå‹åˆ¥ä½¿ç”¨ &lt;code>|&lt;/code> åˆ†éš”æ¯å€‹å‹åˆ¥ã€‚&lt;/p>
&lt;p>å…è¨± id çš„å‹åˆ¥æ˜¯ string æˆ–è€… numberï¼Œä½†æ˜¯ä¸èƒ½æ˜¯å…¶ä»–å‹åˆ¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">printId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Your ID is: &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">printId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">101&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// success
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">printId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;202&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// success
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>âŒ è‹¥ä½¿ç”¨ boolean å€¼ï¼Œå°±æœƒå ±éŒ¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">printId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// error : Argument of type &amp;#39;false&amp;#39; is not assignable to parameter of type &amp;#39;string | number&amp;#39;.Type &amp;#39;false&amp;#39; is not assignable to type &amp;#39;number&amp;#39;.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="å­˜å–è¯åˆå‹åˆ¥çš„å±¬æ€§æˆ–æ–¹æ³•">å­˜å–è¯åˆå‹åˆ¥çš„å±¬æ€§æˆ–æ–¹æ³•&lt;/h4>
&lt;p>ç•¶ TypeScript ä¸ç¢ºå®šä¸€å€‹è¯åˆå‹åˆ¥çš„è®Šæ•¸åˆ°åº•æ˜¯å“ªå€‹å‹åˆ¥çš„æ™‚å€™ï¼Œæˆ‘å€‘åªèƒ½å­˜å–æ­¤è¯åˆå‹åˆ¥çš„æ‰€æœ‰å‹åˆ¥è£¡å…±æœ‰çš„å±¬æ€§æˆ–æ–¹æ³•ã€‚&lt;/p>
&lt;p>âœ… ä½¿ç”¨å…©ç¨®å‹åˆ¥éƒ½æœ‰çš„å±¬æ€§æ™‚ï¼Œæ²’å•é¡Œã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">printId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>âŒ å¦‚æœä½¿ç”¨ä¸åŒå±¬æ€§ï¼Œå‰‡æœƒå ±éŒ¯ï¼Œ&lt;code>toUpperCase&lt;/code> å±¬æ€§ç„¡æ³•é©ç”¨æ–¼æ•¸å€¼å‹åˆ¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">printId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toUpperCase&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// error: Property &amp;#39;toUpperCase&amp;#39; does not exist on type &amp;#39;string | number&amp;#39;.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Property &amp;#39;toUpperCase&amp;#39; does not exist on type &amp;#39;number&amp;#39;.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥è¦è§£æ±ºä¸åŒæƒ…å¢ƒï¼Œå¯ä»¥ä½¿ç”¨ &lt;code>typeof&lt;/code> å»åšåˆ¤æ–·ã€‚å®˜ç¶²å°‡é€™äº›æƒ…æ³é™ç¸®æŸå€‹å…·é«”å‹åˆ¥ä¸Šçš„è¡Œç‚ºï¼Œç¨±ä½œç‚º &lt;code>Narrowing&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">printId2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">id&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;string&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å‹åˆ¥ç‚ºå­—ä¸²æ‰ toUpperCase
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toUpperCase&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å…¶ä»–è‡ªå‹•åˆ¤å®šç‚º number å‹åˆ¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">printId2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ABC&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥æ˜¯é™£åˆ—å‹åˆ¥èˆ‡å…¶ä»–å‹åˆ¥è¯åˆï¼Œå¯ä»¥ä½¿ç”¨ &lt;code>Array.isArray()&lt;/code> ä¾†æª¢æŸ¥å‚³å…¥çš„å€¼æ˜¯å¦ç‚ºä¸€å€‹ Arrayã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">welcomePeople&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">Array&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isArray&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Hello, &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34; and &amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Welcome lone traveler &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">welcomePeople&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s2">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;c&amp;#34;&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="intersection-types-äº¤é›†å‹åˆ¥">Intersection Types (äº¤é›†å‹åˆ¥)&lt;/h3>
&lt;p>Intersection Types (äº¤é›†å‹åˆ¥) è·Ÿ JavaScript çš„ &lt;code>&amp;amp;&amp;amp;&lt;/code> and æ¦‚å¿µç›¸åŒï¼Œ ä½¿ç”¨ &lt;code>&amp;amp;&lt;/code> è¡¨ç¤ºå…¶å®šç¾©çš„å€¼éƒ½å¿…é ˆåŒæ™‚ç¬¦åˆå…©ç¨®å‹åˆ¥ã€‚&lt;/p>
&lt;p>âŒ ä»¥ä¸‹é¢çš„ä¾‹å­ï¼ŒIntersection åœ¨ primitive type(åŸå§‹å‹åˆ¥)ä¸­ä½¿ç”¨ï¼Œæ˜¯ç„¡æ³•åŒæ™‚æ»¿è¶³å…©ç¨®å‹åˆ¥çš„ï¼Œæœƒè¢«èªå®šç‚º &lt;code>never&lt;/code> å‹åˆ¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">printId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">id&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Your ID is: &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">id&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">printId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">101&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">printId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;202&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// error: Argument of type &amp;#39;number&amp;#39; is not assignable to parameter of type &amp;#39;never&amp;#39;.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>âœ… ä¸»è¦ç”¨ä¾†çµ„åˆç¾æœ‰çš„å‹åˆ¥ï¼Œè‹¥éƒ½æ²’ç¬¦åˆå…©ç¨®å‹åˆ¥ï¼Œå‰‡æœƒå ±éŒ¯æé†’ã€‚è€Œä¸”åƒä¸‹é¢çš„ä¾‹å­ï¼ŒColorfulCircle éœ€æ»¿è¶³ Colorful åŠ Circle å‹åˆ¥ã€‚ è€Œä¸” TS å¾ˆè°æ˜ï¼Œradius å¯«éŒ¯å­—å¯«æˆ raidusï¼Œcomplier ä¹Ÿæœƒå ±éŒ¯æé†’ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">Colorful&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">color&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">Circle&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">radius&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//ç”¨ type aliases å®£å‘Š ColorfulCircle å‹åˆ¥ï¼Œéœ€æ»¿è¶³ Colorful åŠ Circle å‹åˆ¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">type&lt;/span> &lt;span class="nx">ColorfulCircle&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Colorful&lt;/span> &lt;span class="o">&amp;amp;&lt;/span> &lt;span class="nx">Circle&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//å¸¶å…¥çš„åƒæ•¸éœ€æ»¿è¶³ ColorfulCircle å‹åˆ¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">draw&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">circle&lt;/span>: &lt;span class="kt">ColorfulCircle&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`Color was &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">circle&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">color&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`Radius was &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">circle&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">radius&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">draw&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">color&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;blue&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">radius&lt;/span>: &lt;span class="kt">42&lt;/span> &lt;span class="p">});&lt;/span> &lt;span class="c1">// ok
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">draw&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">color&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;red&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">raidus&lt;/span>: &lt;span class="kt">42&lt;/span> &lt;span class="p">});&lt;/span> &lt;span class="c1">// error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// error: Argument of type &amp;#39;{ color: string; raidus: number; }&amp;#39; is not assignable to parameter of type &amp;#39;Colorful &amp;amp; Circle&amp;#39;.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Object literal may only specify known properties, but &amp;#39;raidus&amp;#39; does not exist in type &amp;#39;Colorful &amp;amp; Circle&amp;#39;. Did you mean to write &amp;#39;radius&amp;#39;?
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="literal-types-å­—é¢å€¼å‹åˆ¥">Literal Types å­—é¢å€¼å‹åˆ¥&lt;/h3>
&lt;h4 id="string-literal-types">string literal types&lt;/h4>
&lt;p>å°±æ˜¯å€¼çš„è¡¨ç¾æ–¹å¼ï¼Œ**æŸäº›ç‰¹æ®Šçš„&amp;quot;å€¼&amp;quot;å¯ä»¥ç•¶ä½œ&amp;quot;å‹åˆ¥&amp;quot;**ä¾†ä½¿ç”¨ï¼Œç”¨ä¾†ç´„æŸå–å€¼åªèƒ½æ˜¯æŸå¹¾å€‹å­—ä¸²ä¸­çš„ä¸€å€‹ã€‚å¦‚ä¸‹æ–¹è®“ x è®Šæ•¸çš„å­—é¢å€¼ç‚º&amp;quot;hello&amp;quot;ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;hello&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;hello&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;hello&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// success
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;howdy&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Type &amp;#39;&amp;#34;howdy&amp;#34;&amp;#39; is not assignable to type &amp;#39;&amp;#34;hello&amp;#34;&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†å¾ˆå°‘æƒ…æ³æœƒä½¿ç”¨åˆ°ä¸€å€‹è®Šæ•¸åªæœ‰ä¸€å€‹å€¼ï¼Œæˆ‘å€‘å¯ä»¥å°‡æƒ³è¦çš„å€¼çµåˆèµ·ä¾†ï¼Œ å¦‚ alignment çµ¦äºˆ 3 å€‹å­—é¢å€¼ï¼Œå…¶åƒæ•¸è¦ç¬¦åˆå…¶ä¸­ä¸€å€‹ã€‚å¦‚æœä¸ç¬¦åˆé€™ 3 å€‹å€¼çš„å…¶ä¸­ä¸€å€‹æˆ–å¯«éŒ¯å­—ï¼Œéƒ½æœƒå ±éŒ¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">printText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">s&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">alignment&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;left&amp;#34;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s2">&amp;#34;right&amp;#34;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s2">&amp;#34;center&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> placed at the &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">alignment&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">printText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Hello, world&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;left&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// success
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">printText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;G&amp;#39;day, mate&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;centre&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// error
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// error: Argument of type &amp;#39;&amp;#34;centre&amp;#34;&amp;#39; is not assignable to parameter of type &amp;#39;&amp;#34;left&amp;#34; | &amp;#34;right&amp;#34; | &amp;#34;center&amp;#34;&amp;#39;.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="numeric-literal-types">numeric literal types&lt;/h4>
&lt;p>é™¤äº†æ–‡å­—ä¸Šï¼Œæ•¸å­—çš„æ“ä½œä¹Ÿä¸€æ¨£ã€‚&lt;/p>
&lt;p>åŸ·è¡Œ compare å‡½å¼çš„å›å‚³å€¼åªèƒ½ -1ã€0 å’Œ 1ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">compare&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">b&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nx">0&lt;/span> : &lt;span class="kt">a&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">b&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="non-literal-types">non-literal types&lt;/h4>
&lt;p>éå­—é¢å€¼å‹åˆ¥ä¹Ÿå¯ä»¥çµåˆæ“ä½œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">Options&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">width&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">configure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>: &lt;span class="kt">Options&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s2">&amp;#34;auto&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">configure&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">width&lt;/span>: &lt;span class="kt">100&lt;/span> &lt;span class="p">});&lt;/span> &lt;span class="c1">// success
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">configure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;auto&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// success
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">configure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;automatic&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// ä¸ç¬¦ Options åŠ &amp;#34;auto&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// errorï¼š Argument of type &amp;#39;&amp;#34;automatic&amp;#34;&amp;#39; is not assignable to parameter of type &amp;#39;Options | &amp;#34;auto&amp;#34;&amp;#39;.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="tuple-å…ƒçµ„">Tuple å…ƒçµ„&lt;/h3>
&lt;p>Tuple å°±æ˜¯åˆä½µäº†ä¸åŒå‹åˆ¥çš„ç‰©ä»¶ã€‚&lt;/p>
&lt;p>å®šç¾©ä¸€å°å€¼åˆ†åˆ¥ç‚º string å’Œ number çš„å…ƒçµ„ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wayne&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">number&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;wayne&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">18&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥é‡å°å‹åˆ¥æœ‰çš„å±¬æ€§é€²è¡Œä½¿ç”¨ã€è³¦å€¼ã€‚ä½†ç•¶ç›´æ¥å°å…ƒçµ„å‹åˆ¥çš„è®Šæ•¸é€²è¡Œåˆå§‹åŒ–æˆ–è€…è³¦å€¼ï¼Œéœ€æä¾›æ‰€æœ‰é …ç›®ã€‚å¦‚æœè¦æ–°å¢ä¸åŒå‹åˆ¥çš„é …ç›®ä¹Ÿæ˜¯ç„¡æ³•çš„ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">wayne&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">number&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wayne&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;wayne&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">18&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">// å¦‚æœåªæœ‰å®£å‘Š wayne æ²’è³¦å€¼ï¼Œæœƒæ˜¯undefinedï¼Œtsconfig strictNullChecks æ‰“é–‹çš„è©±æœƒå ±éŒ¯æé†’
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">wayne&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;wayne&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// success
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">wayne&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">25&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// success
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">wayne&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">slice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// success
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">wayne&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">toFixed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// success
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">wayne&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;male&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// success
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wayne&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;wayne lin&amp;#39;&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">// error: Property &amp;#39;1&amp;#39; is missing in type &amp;#39;[string]&amp;#39; but required in type &amp;#39;[string, number]&amp;#39;.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">wayne&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// error: Argument of type &amp;#39;true&amp;#39; is not assignable to parameter of type &amp;#39;string | number&amp;#39;.
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="enum">enum&lt;/h3>
&lt;p>åˆ—èˆ‰(Enums)å‹åˆ¥ç”¨æ–¼å–å€¼è¢«é™å®šåœ¨ä¸€å®šç¯„åœå…§çš„å ´æ™¯ï¼Œå¯ä»¥ç”¨ä¾†ç®¡ç†å¤šå€‹åŒç³»åˆ—çš„å¸¸æ•¸ï¼Œä½œç‚ºç‹€æ…‹åˆ¤æ–·ä½¿ç”¨ã€‚æ¯”å¦‚ä¸€é€±åªèƒ½æœ‰ä¸ƒå¤©ï¼Œé¡è‰²é™å®šç‚ºç´…ç¶ è—ç­‰ã€‚ä¹Ÿå¯ä»¥è‡ªå®šç¾©ä¾†è¡¨ç¤ºæ¯ä¸€å€‹å€¼ã€‚&lt;/p>
&lt;h4 id="numeric-enums">Numeric Enums&lt;/h4>
&lt;p>ä½¿ç”¨ &lt;code>enum&lt;/code> é—œéµå­—ä¾†å®šç¾©ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">enum&lt;/span> &lt;span class="nx">Days&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Sun&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Mon&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Tue&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Wed&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Thu&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Fri&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Sat&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ™‚å€™æˆ‘å€‘ä¾†çœ‹ç·¨è­¯å¾Œï¼Œåˆ—èˆ‰æˆå“¡æœƒè¢«è³¦å€¼ç‚ºå¾ 0 é–‹å§‹è‡ªå‹•éå¢çš„æ•¸å­—ï¼ŒåŒæ™‚ä¹Ÿæœƒå°åˆ—èˆ‰å€¼åˆ°åˆ—èˆ‰åé€²è¡Œåå‘å°æ˜ ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">Days&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Sun&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Sun&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Mon&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Mon&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Tue&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Tue&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Wed&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Wed&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Thu&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Thu&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Fri&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Fri&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Sat&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Sat&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})(&lt;/span>&lt;span class="nx">Days&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">Days&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{}));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ‰‹å‹•è³¦å€¼">æ‰‹å‹•è³¦å€¼&lt;/h4>
&lt;p>å¯ä»¥æ‰‹å‹•å»å®šç¾©ä¸åŒçš„å€¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">enum&lt;/span> &lt;span class="nx">Days&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Sun&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Mon&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Tue&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Wed&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Thu&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Fri&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Sat&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç·¨è­¯å¾Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">Days&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Sun&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Sun&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Mon&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Mon&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Tue&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Tue&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Wed&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Wed&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Thu&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Thu&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Fri&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Fri&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Sat&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Sat&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})(&lt;/span>&lt;span class="nx">Days&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">Days&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{}));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="è¦å°å¿ƒè¦†è“‹çš„æƒ…æ³">è¦å°å¿ƒè¦†è“‹çš„æƒ…æ³&lt;/h4>
&lt;p>å¦‚æœä¸­é–“çªç„¶æŒ‡å®šäº†äº†ä¸€å€‹å€¼ï¼Œé‚£ä»–æœƒå¾ç•¶å‰çš„å€¼å¾æ–°é–‹å§‹è¨ˆç®—ã€‚å¦‚ä¸‹ï¼Œ &lt;code>Days[3]&lt;/code> çš„å€¼å…ˆæ˜¯ &amp;ldquo;Sun&amp;rdquo;ï¼Œè€Œå¾Œåˆè¢« &amp;ldquo;Wed&amp;rdquo; è¦†è“‹äº†ã€‚é€™å€‹ TypeScript æ˜¯ä¸æœƒå ±éŒ¯çš„ï¼Œæ‰€ä»¥è¦ç‰¹åˆ¥æ³¨æ„ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">enum&lt;/span> &lt;span class="nx">Days&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Sun&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Mon&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Tue&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Wed&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Thu&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Fri&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Sat&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Sun&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Wed&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;Sun&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;Wed&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="å¯ä½¿ç”¨å‹åˆ¥æ–·è¨€type-assertionä¾†å®šç¾©">å¯ä½¿ç”¨å‹åˆ¥æ–·è¨€(Type Assertion)ä¾†å®šç¾©&lt;/h4>
&lt;p>æ‰‹å‹•è³¦å€¼çš„åˆ—èˆ‰é …å…¶ä¸­ä¸€å€‹ä¸æƒ³æ˜¯æ•¸å­—ï¼Œæ­¤æ™‚å¯ä»¥ä½¿ç”¨ any å‹åˆ¥æ–·è¨€ä¾†è®“ TypeScript ç„¡è¦–å‹åˆ¥æª¢æŸ¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">enum&lt;/span> &lt;span class="nx">Days&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Sun&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Mon&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Tue&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Wed&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Thu&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Fri&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Sat&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="s2">&amp;#34;S&amp;#34;&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç·¨è­¯å¾Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">Days&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Sun&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Sun&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Mon&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Mon&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Tue&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Tue&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Wed&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Wed&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Thu&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">11&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Thu&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Fri&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Fri&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">Days&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Sat&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;S&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Sat&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})(&lt;/span>&lt;span class="nx">Days&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">Days&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{}));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="string-enums-å­—ä¸²åˆ—èˆ‰">String Enums å­—ä¸²åˆ—èˆ‰&lt;/h4>
&lt;p>å­—ä¸² enums æ²’æœ‰ number enums å¯ä»¥è‡ªå‹•éå¢çš„è¡Œç‚ºï¼Œä½†å­—ä¸² enum è‡ªè¡Œå®šç¾©æ˜¯æœ‰ä»–çš„èªæ„åœ¨çš„ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">enum&lt;/span> &lt;span class="nx">Direction&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Up&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;UP&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Down&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;DOWN&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Left&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;LEFT&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Right&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;RIGHT&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="heterogeneous-enums-ç•°æ§‹åˆ—èˆ‰">Heterogeneous Enums ç•°æ§‹åˆ—èˆ‰&lt;/h4>
&lt;p>é›–ç„¶ enum å¯ä»¥æ··åˆæ•¸å­—èˆ‡å­—ä¸²ï¼Œä½†ç›¡é‡ä¸è¦å¯«é€™ç¨®å¯«æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">enum&lt;/span> &lt;span class="nx">BooleanLikeHeterogeneousEnum&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">No&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Yes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;YES&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="computed-and-constant-members-å¸¸æ•¸é …å’Œè¨ˆç®—æ‰€å¾—é …">Computed and constant members å¸¸æ•¸é …å’Œè¨ˆç®—æ‰€å¾—é …&lt;/h4>
&lt;p>åˆ—èˆ‰é …æœ‰å…©ç¨®å‹åˆ¥ï¼š&lt;code>å¸¸æ•¸é …&lt;/code>(constant member)å’Œ&lt;code>è¨ˆç®—æ‰€å¾—é …&lt;/code>(computed member)ã€‚&lt;/p>
&lt;p>å‰é¢æˆ‘å€‘æ‰€èˆ‰çš„ä¾‹å­éƒ½æ˜¯å¸¸æ•¸é …ï¼Œä¸€å€‹å…¸å‹çš„è¨ˆç®—æ‰€å¾—é …çš„ä¾‹å­å¦‚ä¸‹ï¼Œ&amp;ldquo;blue&amp;rdquo;.length å°±æ˜¯ä¸€å€‹è¨ˆç®—æ‰€å¾—é …ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">enum&lt;/span> &lt;span class="nx">Color&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Red&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Green&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Blue&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;blue&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Color&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Blue&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// 4
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚ä½•å®šç¾©æ˜¯å¸¸æ•¸é …ï¼Œå¯åƒè€ƒ&lt;a class="link" href="https://www.typescriptlang.org/docs/handbook/enums.html#computed-and-constant-members" target="_blank" rel="noopener"
>å®˜ç¶²&lt;/a>ã€‚&lt;/p>
&lt;p>åƒæ˜¯äºŒå…ƒé‹ç®—å­ &lt;code>&amp;lt;&amp;lt;&lt;/code>ã€&lt;code>|&lt;/code>ã€&lt;code>&amp;amp;&lt;/code> ç­‰éƒ½æ­¸ç‚ºå¸¸æ•¸é …ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">enum&lt;/span> &lt;span class="nx">FileAccess&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// constant members
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">None&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Read&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Write&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ReadWrite&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Read&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Write&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// computed member
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">G&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;123&amp;#34;&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="const-enums-å¸¸æ•¸åˆ—èˆ‰">Const Enums å¸¸æ•¸åˆ—èˆ‰&lt;/h4>
&lt;p>å¯ä»¥ä½¿ç”¨ const enum å®šç¾©çš„åˆ—èˆ‰å‹åˆ¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="kr">enum&lt;/span> &lt;span class="nx">Directions&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Up&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Down&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Left&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Right&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">directions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">Directions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Up&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Directions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Down&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Directions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Left&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Directions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Right&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¸¸æ•¸åˆ—èˆ‰èˆ‡æ™®é€šåˆ—èˆ‰çš„å€åˆ¥æ˜¯ï¼Œå®ƒæœƒåœ¨ç·¨è­¯éšæ®µè¢«åˆªé™¤ï¼Œä¸¦ä¸”ä¸èƒ½åŒ…å« computed member (è¨ˆç®—æˆå“¡)ï¼Œåªèƒ½æ˜¯å¸¸æ•¸é … (constant member)ã€‚&lt;/p>
&lt;p>ç·¨è­¯å¾Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">directions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span> &lt;span class="cm">/* Up */&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="cm">/* Down */&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="cm">/* Left */&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="cm">/* Right */&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ambient-enums-å¤–éƒ¨åˆ—èˆ‰">Ambient Enums å¤–éƒ¨åˆ—èˆ‰&lt;/h4>
&lt;p>å¤–éƒ¨åˆ—èˆ‰ (Ambient Enums) æ˜¯ä½¿ç”¨ &lt;code>declare enum&lt;/code> å®šç¾©çš„åˆ—èˆ‰å‹åˆ¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">declare&lt;/span> &lt;span class="kr">enum&lt;/span> &lt;span class="nx">Directions&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Up&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Down&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Left&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Right&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">directions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">Directions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Up&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Directions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Down&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Directions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Left&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Directions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Right&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>declare å®šç¾©çš„å‹åˆ¥åªæœƒç”¨æ–¼ç·¨è­¯æ™‚çš„æª¢æŸ¥ï¼Œç·¨è­¯çµæœä¸­æœƒè¢«åˆªé™¤ã€‚&lt;/p>
&lt;p>ç·¨è­¯å¾Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">directions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">Directions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Up&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Directions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Down&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Directions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Left&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Directions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Right&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr></description></item><item><title>ã€Node.jsã€‘ç”¨ Typescript èˆ‡ Express å»ºç«‹ä¸€å€‹ server</title><link>https://wayneblog.ga/2023-02-21/ts-express-server/</link><pubDate>Tue, 21 Feb 2023 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2023-02-21/ts-express-server/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52702210344_fe78a142e7_o.png" alt="Featured image of post ã€Node.jsã€‘ç”¨ Typescript èˆ‡ Express å»ºç«‹ä¸€å€‹ server" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
.text-center {
text-align: center !important;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://wanago.io/2018/12/03/typescript-express-tutorial-routing-controllers-middleware/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://wanago.io/2019/03/25/node-js-typescript-7-creating-a-server-and-receiving-requests/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://auth0.com/blog/node-js-and-typescript-tutorial-build-a-crud-api/#Create-a-Node-js-Service-with-TypeScript" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://kusakawazeusu.medium.com/%E7%94%A8-typescript-%E5%AF%AB-express-route-%E8%88%87-controller-%E7%AF%87-40db4850a8f2" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://jimmyswebnote.com/node-js-typescript-express-create-http-server/#6_%E5%B0%87_routes_%E5%92%8C_controllers_%E7%8D%A8%E7%AB%8B%E5%87%BA%E4%BE%86" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>æœ€è¿‘å‰ç«¯é›¢ä¸é–‹ typescript å¾Œï¼Œæˆ‘å°‡åŸæœ¬ç”¨ javascript æ’°å¯«çš„ mock server æ”¹ç”¨ typescript ä¾†æ’°å¯«ï¼›æœ¬ç¯‡å°±ä¾†è¨˜éŒ„ä¸€ä¸‹è©²å¦‚ä½•ä½¿ç”¨ typescript å»ºç«‹ node.js çš„ Expressï¼&lt;/p>
&lt;hr>
&lt;h2 id="ä½¿ç”¨-typescript-çš„å¥½è™•">ä½¿ç”¨ typescript çš„å¥½è™•&lt;/h2>
&lt;p>typescript æ˜¯ç‚ºäº†å½Œè£œ javascript ä¸è¶³çš„åœ°æ–¹è€Œèª•ç”Ÿçš„èªè¨€ï¼Œæœ€ä¸»è¦çš„å·®åˆ¥å°±åœ¨æ–¼å®£å‘Šè®Šæ•¸æˆ–æ˜¯åŸ·è¡Œå‡½æ•¸æ™‚éœ€è¦æŒ‡å®š type ï¼Œä¸éé€™ç¯‡çš„é‡é»åœ¨æ–¼åœ¨ node.js ä¸­ä½¿ç”¨ typescript å»ºç«‹ Expressï¼Œæ‰€ä»¥å°±ä¸æè¿°å¤ªå¤š typescript çš„ç‰¹æ€§äº†ã€‚&lt;/p>
&lt;ol>
&lt;li>æä¾›è¨±å¤š OO pattern çš„æ–¹æ³•ï¼Œå¦‚ä»‹é¢ã€ç¹¼æ‰¿èˆ‡æŠ½è±¡é¡åˆ¥&lt;/li>
&lt;li>å¼·å‹åˆ¥ï¼Œèƒ½å¤ åœ¨ç·¨è­¯éç¨‹ä¸­å…ˆè¡Œæ‰¾åˆ°ä¸€äº›éŒ¯èª¤&lt;/li>
&lt;li>èƒ½å¤ ç·¨è­¯æˆä¸åŒç‰ˆæœ¬çš„ JS&lt;/li>
&lt;li>æœ‰ Declaration files èƒ½å¤ ä½¿ç”¨ JS Libraryï¼Œå› æ­¤ä¸å¤ªéœ€è¦æ“”å¿ƒå¥—ä»¶ç›¸å®¹å•é¡Œï¼Œåƒæ˜¯ express æœ‰ @type/express&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h2 id="å»ºç«‹-typescript-ç’°å¢ƒ">å»ºç«‹ typescript ç’°å¢ƒ&lt;/h2>
&lt;h3 id="é€²å…¥åˆå§‹åŒ–å°ˆæ¡ˆæˆ–ç¾æœ‰å°ˆæ¡ˆçš„ç›®éŒ„">é€²å…¥åˆå§‹åŒ–å°ˆæ¡ˆæˆ–ç¾æœ‰å°ˆæ¡ˆçš„ç›®éŒ„&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ~/project/node-express-project
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆå§‹åŒ–å°ˆæ¡ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># npm init&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å®‰è£-typescript-èˆ‡-express">å®‰è£ typescript èˆ‡ express&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install --save-dev typescript @types/express @types/node
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install --save express
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è¨­å®š-typescript">è¨­å®š typescript&lt;/h3>
&lt;p>å®‰è£ typescript æ™‚ï¼Œä¹ŸæœƒåŒæ™‚å®‰è£å°‡ typescript ç·¨è­¯æˆ javascript çš„ç·¨è­¯å™¨ - &lt;code>tsc&lt;/code>ã€‚&lt;/p>
&lt;h3 id="åˆå§‹åŒ–-tsc">åˆå§‹åŒ– tsc&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tsc --init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>tsc --init&lt;/code> å¾Œæœƒç”¢ç”Ÿ &lt;code>tsconfig.json&lt;/code>ï¼Œç•¶ typescript é€é &lt;code>tsc&lt;/code> ç·¨è­¯æˆ javascript æ™‚ï¼Œå°±æœƒéµå¾ªè©²æª”æ¡ˆçš„è¨­å®šé€²è¡Œç·¨è­¯ã€‚&lt;/p>
&lt;h4 id="å¯èƒ½é‡åˆ°çš„éŒ¯èª¤">å¯èƒ½é‡åˆ°çš„éŒ¯èª¤&lt;/h4>
&lt;ul>
&lt;li>tsc command not found&lt;/li>
&lt;/ul>
&lt;p>é€™å€‹ error message ï¼Œè«‹å…ˆåœ¨ global å®‰è£ typescriptã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -g typescript
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥ä»å‡ºç¾ &amp;ldquo;tsc command not found&amp;rdquo;ï¼Œè«‹åœ¨çµ‚ç«¯æ©Ÿè¼¸å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>â€&lt;span class="nv">$PATH&lt;/span>:/Users/&lt;span class="o">{&lt;/span>user name&lt;span class="o">}&lt;/span>/.npm-global/lib/node_modules/typescript/bin/â€
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†è¼¸å…¥ &lt;code>tsc -v&lt;/code> ï¼Œç¢ºèª tsc çš„ç‰ˆæœ¬å³å¯ã€‚&lt;/p>
&lt;h5 id="tsconfigjson">tsconfig.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;compilerOptions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;target&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;es5&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// é¸æ“‡è¦ç·¨è­¯æˆå“ªç¨®ç‰ˆæœ¬çš„ javascript
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;module&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;commonjs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;strict&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// åš´æ ¼æ¨¡å¼ï¼Œå•Ÿç”¨å¾Œéœ€è¦æŒ‡å®šå‡½æ•¸åƒæ•¸çš„ type
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;esModuleInterop&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;skipLibCheck&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;forceConsistentCasingInFileNames&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;outDir&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;dist&amp;#34;&lt;/span> &lt;span class="c1">// å°‡ç·¨è­¯éå¾Œçš„ js æª”æ”¾åˆ° dist è³‡æ–™å¤¾ä¸­
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®˜ç¶²æœ‰ tsconfig.json æ‰€æœ‰å±¬æ€§çš„èªªæ˜ï¼Œè«‹åƒè€ƒ&lt;a class="link" href="https://www.typescriptlang.org/tsconfig" target="_blank" rel="noopener"
>å®˜ç¶²&lt;/a>ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="nodejs-çš„è¨­å®š">node.js çš„è¨­å®š&lt;/h2>
&lt;p>å®‰è£å®Œ typescript ç’°å¢ƒå¾Œï¼Œæ¥è‘—æˆ‘å€‘ä¾†è¨­å®š node.js çš„éƒ¨åˆ†ã€‚&lt;/p>
&lt;h3 id="1-æ–°å¢å…¥å£æª”æ¡ˆ">1. æ–°å¢å…¥å£æª”æ¡ˆ&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">mkdir src
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">touch src/app.ts &lt;span class="c1"># å…¥å£æª”æ¡ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="srcappts">src/app.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">express&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">â€‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">app&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">express&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">3000&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;The server is working!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">port&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">3000&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;true&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`server is listening on &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> !!!`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-å®‰è£-nodemon-èˆ‡-ts-node">2. å®‰è£ nodemon èˆ‡ ts-node&lt;/h3>
&lt;ul>
&lt;li>nodemonï¼š ç”¨æ–¼åœ¨æ¯æ¬¡å„²å­˜æª”æ¡ˆå¾Œè‡ªå‹•é‡å•Ÿ nodeï¼Œçœ‹åˆ°å³æ™‚çš„ä¿®æ­£ã€‚&lt;/li>
&lt;li>ts-nodeï¼š å¯ä»¥ç•¶ä½œ node.js + typescriptï¼Œç”¨æ–¼ç›´æ¥åœ¨ node.js åŸ·è¡Œ typescript æª”æ¡ˆã€‚&lt;/li>
&lt;/ul>
&lt;p>åœ¨å°ˆæ¡ˆè³‡æ–™å¤¾å…§å®‰è£ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install --save-dev nodemon ts-node
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ã€æ¨è–¦ã€‘ä¹Ÿå¯ä»¥ç›´æ¥å®‰è£æ–¼å…¨åŸŸç’°å¢ƒï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -g nodemon ts-node
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-èª¿æ•´-packagejson-çš„-scripts">3. èª¿æ•´ package.json çš„ scripts&lt;/h3>
&lt;h5 id="packagejson">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;scripts&amp;#34;&lt;/span>: &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;start&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;nodemon src/app.ts&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;build&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;tsc --project ./&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;test&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;echo \&amp;#34;Error: no test specified\&amp;#34; &amp;amp;&amp;amp; exit 1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="4-åŸ·è¡Œ-npm-start">4. åŸ·è¡Œ npm start&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run start
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>start&lt;/code> å¾Œï¼Œnodemon æœƒç›£è½æª”æ¡ˆæ˜¯å¦æœ‰å„²å­˜çš„å‹•ä½œï¼Œä¸¦ç”¨ ts-node ä¾†é‡å•Ÿã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52702371455_3548f977d4_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;code>npm run build&lt;/code> å¾Œå‰‡æœƒå‡ºç¾ä¸€å€‹ &lt;strong>dist&lt;/strong> è³‡æ–™å¤¾ä¾†å­˜æ”¾ç·¨è­¯éå¾Œçš„ js æª”ã€‚&lt;/p>
&lt;h3 id="bonus-ä½¿ç”¨è‡ªå®šç¾©çš„-tsconfigjson">BONUSï¼š ä½¿ç”¨è‡ªå®šç¾©çš„ tsconfig.json&lt;/h3>
&lt;p>è£œå……ä¸€ä¸‹ï¼Œè‹¥ç•¶å‰å°ˆæ¡ˆåŒ…å«å‰å¾Œç«¯ï¼Œè€Œå‰ç«¯ä¹Ÿä½¿ç”¨ typescript æ’°å¯«æ™‚ï¼Œå·²ç¶“æœ‰ä¸€éš»å‰ç«¯éƒ¨åˆ†çš„ tsconfig.jsonï¼Œæ­¤æ™‚è‹¥éœ€æ‹†åˆ† Express çš„ tsconfig.jsonï¼Œå¯ä»¥é€é nodemon çš„åƒæ•¸ &lt;code>--config {express tsconfig.json æª”æ¡ˆä½ç½®}&lt;/code> ä¾†èª¿æ•´ã€‚&lt;/p>
&lt;ol>
&lt;li>å…ˆè¤‡è£½ä¸€ä»½ tsconfig.json åˆ° Express src è³‡æ–™å¤¾å…§&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å…ˆè¤‡è£½ä¸€ä»½ tsconfig.json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">copy tsconfig.json src/tsconfig.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>èª¿æ•´ start çš„ scripts&lt;/li>
&lt;/ol>
&lt;h5 id="packagejson-1">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;start&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;nodemon src/app.ts --config src/tsconfig.json&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;build&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;tsc --project ./ --config src/tsconfig.json&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;echo \&amp;#34;Error: no test specified\&amp;#34; &amp;amp;&amp;amp; exit 1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="ä½¿ç”¨-http">ä½¿ç”¨ http&lt;/h2>
&lt;blockquote>
&lt;p>é€™é‚Šè¬›è§£ç”¨ http module å¯« node.jsï¼Œå¦‚éœ€ç›´æ¥ä½¿ç”¨ express å¯ä»¥ç›´æ¥è·³åˆ°&lt;a class="link" href="#%e4%bd%bf%e7%94%a8-express" >ä½¿ç”¨ Express&lt;/a>ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>å»ºç«‹å®Œ typescript çš„ç’°å¢ƒå¾Œï¼Œå¼•å…¥ node.js çš„æ ¸å¿ƒå¥—ä»¶ä¹‹ä¸€ï¼šhttp moduleã€‚ http module èƒ½è®“ä½ å»ºç«‹ä¸€å€‹ http serverï¼Œç•¶ä½ çš„ code åœ¨åŸ·è¡Œçš„æ™‚å€™ï¼Œå¯ä»¥éš¨æ™‚ç›£è½ç¶²è·¯ä¸Šç™¼é€åˆ°ä½  url çš„æ‰€æœ‰ requestï¼Œä¸¦å°‡ä½ å¯«çš„ç¨‹å¼é‚è¼¯ response å›å»ã€‚&lt;/p>
&lt;p>è¼‰å…¥ http module å…¶å¯¦è·Ÿ javascript çš„å¯«æ³•å·®ä¸å¤šï¼Œåªæ˜¯åœ¨ request å’Œ response åŠ ä¸Šå°æ‡‰çš„å‹åˆ¥ï¼š IncomingMessageã€ServerResponseã€‚&lt;/p>
&lt;blockquote>
&lt;p>PSï¼š åœ¨ node ç„¡æ³•ç›´æ¥ä½¿ç”¨ &lt;code>import&lt;/code>ï¼Œå¾—é€é Babel è½‰è­¯ï¼Œå¯ä»¥åœ¨ tsconfig.json ä¸­è¨­å®š &lt;code>module&lt;/code>ã€‚&lt;/p>
&lt;/blockquote>
&lt;h5 id="srctsconfigjson">src/tsconfig.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;compilerOptions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;target&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;esnext&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;module&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;CommonJS&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// é‡é»æ˜¯é€™è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;useDefineForClassFields&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;strict&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;jsx&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;preserve&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;outDir&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./dist&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;importHelpers&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;moduleResolution&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;node&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;experimentalDecorators&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;allowJs&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;skipLibCheck&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;esModuleInterop&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;allowSyntheticDefaultImports&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;sourceMap&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;isolatedModules&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;resolveJsonModule&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;baseUrl&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;.&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;types&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;node&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;paths&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@/*&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;src/*&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;lib&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;esnext&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;dom&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;dom.iterable&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;scripthost&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;noFallthroughCasesInSwitch&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;forceConsistentCasingInFileNames&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;typeRoots&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;node_modules/@types&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;src/types&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;src&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;suppressImplicitAnyIndexErrors&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;include&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;**/*.ts&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;**/*.d.ts&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="srcappts-1">src/app.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">createServer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">IncomingMessage&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ServerResponse&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;http&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5000&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">server&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">createServer&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">request&lt;/span>: &lt;span class="kt">IncomingMessage&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>: &lt;span class="kt">ServerResponse&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;error&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">writeHead&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">200&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s2">&amp;#34;Content-Type&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;text/plain&amp;#34;&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello world!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">server&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`server is running on http://localhost:&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†æ¯ç•¶æœ‰ä»»ä½• client å° &lt;code>http://localhost:5000&lt;/code> é€™å€‹ url ç™¼é€ request æ™‚ï¼Œæˆ‘å€‘çš„ server éƒ½æœƒå›æ‡‰ &amp;ldquo;Hello world!&amp;rdquo; çµ¦è©² clientã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52701954621_cc839dd981_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å–å¾—-request-ä¸­çš„è³‡æ–™">å–å¾— request ä¸­çš„è³‡æ–™&lt;/h3>
&lt;h4 id="å–å¾—-request-body">å–å¾— request body&lt;/h4>
&lt;p>å¤§éƒ¨åˆ†çš„æ™‚å€™ï¼Œå¦‚æœæˆ‘å€‘éœ€è¦å‚³è³‡æ–™åˆ° serverï¼Œæœƒç™¼é€ POST request ï¼Œä¸¦ä¸”å°‡è³‡æ–™å­˜åœ¨ body ç•¶ä¸­ï¼Œè¦åœ¨ node.js å–å¾— request ä¸­çš„ body data æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">request&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;error&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">chunk&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">chunk&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;end&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">concat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœç›´æ¥å°‡ chunk &lt;code>console.log&lt;/code> å‡ºä¾†æœƒç™¼ç¾æ˜¯ä¸€æ®µçœ‹ä¸æ‡‚çš„è³‡æ–™ï¼š&lt;code>&amp;lt;Buffer 7b 0d 0a 20 20 20 20 22 74 65 73 74 22 3a 20 22 35 22 0d 0a 7d&amp;gt;&lt;/code>ï¼Œé€™æ˜¯å› ç‚º http request åœ¨ç™¼é€çµ¦ server çš„æ™‚å€™æ˜¯æŒ‰ç…§é †åºä¸€å€‹ byteã€ä¸€å€‹ byte ä»¥è³‡æ–™æµçš„æ–¹å¼ç™¼é€çš„ï¼Œå› æ­¤éœ€è¦ç”¨ &lt;code>Buffer.toString()&lt;/code> è½‰æ›å›åŸæœ¬çš„è³‡æ–™ã€‚&lt;/p>
&lt;p>ç•¶æˆ‘ä½¿ç”¨ POST method ç™¼é€ request æ™‚ï¼Œæˆ‘çš„ server ç«¯å°±æœƒå°å‡º request ä¸­ body çš„è³‡æ–™ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52702210299_96771969bf_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52702210259_00acd47a32_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="å–å¾—-request-header">å–å¾— request header&lt;/h4>
&lt;p>ç›´æ¥ç”¨ request.headers å–å¾— request ä¸­çš„åŸºæœ¬è³‡æ–™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">request&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;error&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;end&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52702210239_d55d631bd1_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52701954581_a2ca859d20_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="å–å¾—-request-authorization">å–å¾— request authorization&lt;/h4>
&lt;p>authorization æ˜¯æˆ‘å€‘ç¿’æ…£æ”¾ç½® token çš„æ¬„ä½ï¼Œé›–ç„¶åœ¨ postman ä¸­æ˜¯ç¨ç«‹çš„ä¸€æ¬„ï¼Œä½†äº‹å¯¦ä¸Šæ˜¯å­˜åœ¨ request çš„ headers è£¡çš„ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">request&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;error&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;end&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authorization&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52701954576_e27e5ab355_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52701433022_014dfa8a19_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="å®Œæ•´ç¨‹å¼ç¢¼">å®Œæ•´ç¨‹å¼ç¢¼&lt;/h4>
&lt;h5 id="srcappts-2">src/app.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">createServer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">IncomingMessage&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ServerResponse&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;http&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5000&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">server&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">createServer&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">request&lt;/span>: &lt;span class="kt">IncomingMessage&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>: &lt;span class="kt">ServerResponse&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">headers&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">method&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">url&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">body&lt;/span>:&lt;span class="kt">any&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">request&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;error&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">chunk&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">chunk&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;end&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Buffer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">concat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authorization&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">on&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;error&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">writeHead&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">200&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s2">&amp;#34;Content-Type&amp;#34;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;text/plain&amp;#34;&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">end&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello world!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">server&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`server is running on http://localhost:&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="ä½¿ç”¨-express">ä½¿ç”¨ Express&lt;/h2>
&lt;p>æ¥è‘—ä½¿ç”¨ Express ä¾†æ”¹å¯«ä¸€ä¸‹ã€‚&lt;/p>
&lt;h5 id="srcappts-3">src/app.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">express&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Express&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Response&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5000&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">app&lt;/span>: &lt;span class="kt">Express&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">express&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>: &lt;span class="kt">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>: &lt;span class="kt">Response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;text/plain&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Homepage&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/articles&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>: &lt;span class="kt">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>: &lt;span class="kt">Response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;text/plain&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;All articles are here!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/about-me&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>: &lt;span class="kt">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>: &lt;span class="kt">Response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;text/plain&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;My name is Jimmy.&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">request&lt;/span>: &lt;span class="kt">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>: &lt;span class="kt">Response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;text/plain&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">404&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Page is not found.&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`server is running on http://localhost:&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åŠ å…¥-route-èˆ‡-controller">åŠ å…¥ Route èˆ‡ Controller&lt;/h3>
&lt;p>ç•¶å°ˆæ¡ˆè¶Šé•·è¶Šå¤§å¾Œï¼Œå°‡æ‰€æœ‰ routes å’Œé‚è¼¯éƒ½å¯«åœ¨ app.ts æ˜¯å€‹å¾ˆé›£ç¶­è­·çš„åšæ³•ï¼Œå› æ­¤å¤§å¤šæ•¸çš„å°ˆæ¡ˆéƒ½æœƒå°‡ routes å’Œ controllers ç¨ç«‹å‡ºä¾†ï¼ŒæŠŠå•†æ¥­é‚è¼¯å¯«åœ¨ controllers ä¸­ã€‚&lt;/p>
&lt;ul>
&lt;li>Controllerï¼š è«‹æ±‚ç¶“é router åˆ†é…éå¾Œï¼Œæœƒäº¤ç”± controller è² è²¬è™•ç†å•†æ¥­é‚è¼¯ï¼Œä¸¦å›å‚³å°æ‡‰çš„ responseã€‚&lt;/li>
&lt;li>Routeï¼š æˆ‘å€‘è¦å°‡ä½¿ç”¨è€…çš„è«‹æ±‚ï¼Œä¾ç…§å…¶é€²å…¥çš„ Url åˆ†é…çµ¦ä¸åŒçš„ Controllerã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="controller">Controller&lt;/h4>
&lt;p>å»ºç«‹ controllersã€‚&lt;/p>
&lt;h5 id="srccontrollersapi-controllersts">src/controllers/api-controllers.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">NextFunction&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">class&lt;/span> &lt;span class="nx">ApiControllers&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getHomePage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>: &lt;span class="kt">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>: &lt;span class="kt">Response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>: &lt;span class="kt">NextFunction&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;text/plain&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Homepage&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getAboutPage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>: &lt;span class="kt">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>: &lt;span class="kt">Response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>: &lt;span class="kt">NextFunction&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;text/plain&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;My name is Jimmy.&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="route">Route&lt;/h4>
&lt;p>å»ºç«‹ routesã€‚&lt;/p>
&lt;h5 id="srcroutesapi-routests">src/routes/api-routes.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">express&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Router&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">NextFunction&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ApiControllers&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;../controllers/api-controllers&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">apiControllers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">ApiControllers&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">class&lt;/span> &lt;span class="nx">ApiRouter&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">router&lt;/span>: &lt;span class="kt">Router&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">router&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">express&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Router&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">initializeRoutes&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">initializeRoutes() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">apiControllers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getHomePage&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/articles&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">apiControllers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getArticlesPage&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/about-me&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">apiControllers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getAboutPage&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="èª¿æ•´-srcappts">èª¿æ•´ src/app.ts&lt;/h4>
&lt;h5 id="srcappts-4">src/app.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">express&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Express&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">NextFunction&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ApiRouter&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;./routes/api-routes&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5000&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">app&lt;/span>: &lt;span class="kt">Express&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">express&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">apiRouter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">ApiRouter&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">request&lt;/span>: &lt;span class="kt">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>: &lt;span class="kt">Response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>: &lt;span class="kt">NextFunction&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setHeader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Access-Control-Allow-Origin&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;*&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setHeader&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Access-Control-Allow-Headers&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Origin, X-Requested-With, Content-Type, Accept, Authorization&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setHeader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Access-Control-Allow-Methods&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;GET, POST, PATCH, DELETE&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">next&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">apiRouter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">request&lt;/span>: &lt;span class="kt">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>: &lt;span class="kt">Response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;text/plain&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">404&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Page is not found.&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">listen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`server is running on http://localhost:&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">port&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æª”æ¡ˆçµæ§‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52702210209_5721809954_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="å°‡-routes-æ‹†åˆ†æˆå¤šå€‹æª”æ¡ˆ">å°‡ routes æ‹†åˆ†æˆå¤šå€‹æª”æ¡ˆ&lt;/h2>
&lt;ol>
&lt;li>å…ˆå»ºç«‹ä¸€å€‹ route çš„ abstract class&lt;/li>
&lt;/ol>
&lt;h5 id="srcroutesroutets">src/routes/route.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Router&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;express&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">abstract&lt;/span> &lt;span class="kr">class&lt;/span> &lt;span class="nx">Route&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">protected&lt;/span> &lt;span class="nx">router&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Router&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">protected&lt;/span> &lt;span class="kr">abstract&lt;/span> &lt;span class="nx">setRoutes&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">public&lt;/span> &lt;span class="nx">getRouter() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">Route&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>æ–°å¢ AuthRoute èˆ‡ AuthController&lt;/li>
&lt;/ol>
&lt;h5 id="srccontrollersauthcontrollerts">src/controllers/AuthController.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Response&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;express&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">AuthController&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">echo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>: &lt;span class="kt">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>: &lt;span class="kt">Response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>: &lt;span class="kt">NextFunction&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;text/plain&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;echo&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">AuthController&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="srcroutesauthroutets">src/routes/auth.route.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">AuthController&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;../controllers/AuthController&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Route&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;./route&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">AuthRoute&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Route&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">authController&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">AuthController&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setRoutes&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">protected&lt;/span> &lt;span class="nx">setRoutes() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/login&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authController&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">echo&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">AuthRoute&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>æ–°å¢ ArticleRoute èˆ‡ ArticleController&lt;/li>
&lt;/ol>
&lt;h5 id="srccontrollersarticalcontrollerts">src/controllers/ArticalController.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Response&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;express&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">ArticleController&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getArticlesPage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">request&lt;/span>: &lt;span class="kt">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>: &lt;span class="kt">Response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>: &lt;span class="kt">NextFunction&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;text/plain&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;All articles are here!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">ArticleController&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="srcroutesarticleroutets">src/routes/article.route.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">ArticalController&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;../controllers/ArticalController&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Route&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;./route&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">ArticleRoute&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Route&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">articalController&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">ArticalController&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setRoutes&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">protected&lt;/span> &lt;span class="nx">setRoutes() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/articles&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">articalController&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getArticlesPage&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">ArticleRoute&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>å»ºç«‹ router ä¸¦åŠ è¼‰å„å€‹æª”æ¡ˆçš„ route&lt;/li>
&lt;/ol>
&lt;p>ç§»é™¤åŸå…ˆçš„ &lt;code>src/routes/api-routes.ts&lt;/code>ï¼Œçµ±ä¸€æ”¹æˆä½¿ç”¨ &lt;code>src/routes/router.ts&lt;/code>ã€‚&lt;/p>
&lt;h5 id="srcroutesrouterts">src/routes/router.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Route&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;./route&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">AuthRoute&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;./auth.route&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">ArticleRoute&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;./article.route&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">router&lt;/span>: &lt;span class="kt">Array&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Route&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="nx">AuthRoute&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="nx">ArticleRoute&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>æ”¹å¯« src/app.ts&lt;/li>
&lt;/ol>
&lt;h5 id="srcappts-5">src/app.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">express&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">router&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;./routes/router&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">app&lt;/span>: &lt;span class="kt">express.Application&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">express&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">express&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">express&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">urlencoded&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">extended&lt;/span>: &lt;span class="kt">false&lt;/span> &lt;span class="p">}));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// load router
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">route&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">router&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getRouter&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">module&lt;/span>&lt;span class="nx">.exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">app&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å‰ç¶´-prefix">å‰ç¶´ Prefix&lt;/h2>
&lt;p>åŒä¸€å€‹ route æª”æ¡ˆå¸¸å¸¸æœƒæœ‰ç›¸åŒçš„ prefix urlï¼Œä¾‹å¦‚èªª auth route å¯èƒ½æœƒæœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>POST auth/login&lt;/li>
&lt;li>POST auth/logout&lt;/li>
&lt;li>POST auth/forgetPassword&lt;/li>
&lt;li>&amp;hellip;&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>æˆ‘å€‘åœ¨ Route class ä¸­åŠ å…¥ä¸€å€‹æ–°çš„è³‡æ–™æˆå“¡ &lt;code>prefix&lt;/code>ï¼Œç”¨ä¾†è¨­å®šæ¯å€‹ route çš„å‰ç¶´ç¶²å€ï¼š&lt;/li>
&lt;/ol>
&lt;h5 id="srcroutesroutets-1">src/routes/route.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Router&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;express&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">abstract&lt;/span> &lt;span class="kr">class&lt;/span> &lt;span class="nx">Route&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">protected&lt;/span> &lt;span class="nx">router&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Router&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">protected&lt;/span> &lt;span class="kr">abstract&lt;/span> &lt;span class="nx">setRoutes&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">protected&lt;/span> &lt;span class="nx">prefix&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">public&lt;/span> &lt;span class="nx">getRouter() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">public&lt;/span> &lt;span class="nx">getPrefix() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prefix&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">Route&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>åœ¨å„å€‹ Route çš„å»ºæ§‹å­ä¸­ä¿®æ”¹å®ƒï¼š&lt;/li>
&lt;/ol>
&lt;h5 id="srcroutesauthroutets-1">src/routes/auth.route.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">AuthController&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;../controllers/AuthController&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Route&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;./route&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">AuthRoute&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Route&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">authController&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">AuthController&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prefix&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;/auth&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setRoutes&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">protected&lt;/span> &lt;span class="nx">setRoutes() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/login&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authController&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">echo&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">AuthRoute&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="srcroutesarticleroutets-1">src/routes/article.route.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">ArticalController&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;../controllers/ArticalController&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Route&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;./route&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">ArticleRoute&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Route&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">articalController&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">ArticalController&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prefix&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;/articles&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setRoutes&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">protected&lt;/span> &lt;span class="nx">setRoutes() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/articles&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">articalController&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getArticlesPage&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">ArticleRoute&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>æœ€å¾Œï¼Œåœ¨ app.ts ä¸­ï¼Œè¼‰å…¥ router æ™‚åŠ å…¥ prefix çš„è¨­å®šï¼š&lt;/li>
&lt;/ol>
&lt;h5 id="srcappts-6">src/app.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">express&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">router&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;./routes/router&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">app&lt;/span>: &lt;span class="kt">express.Application&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">express&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">express&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">express&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">urlencoded&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">extended&lt;/span>: &lt;span class="kt">false&lt;/span> &lt;span class="p">}));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// load router
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">route&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">router&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getPrefix&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getRouter&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">module&lt;/span>&lt;span class="nx">.exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">app&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†ï¼ŒåŸæœ¬æ˜¯ &lt;code>/login&lt;/code> çš„ urlï¼Œåœ¨åŠ ä¸Š prefix ä¹‹å¾Œï¼Œå°±æœƒè®Šæˆ &lt;code>/auth/login&lt;/code>ï¼Œè€Œå…¶ä»–åœ¨ AuthRoute å®šç¾©çš„ url ä¹Ÿéƒ½æœƒè®Šæˆ &lt;code>/auth/*&lt;/code>ã€åœ¨ ArticleRoute å®šç¾©çš„ url ä¹Ÿéƒ½æœƒè®Šæˆ &lt;code>/articles/*&lt;/code>ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="middleware">Middleware&lt;/h2>
&lt;p>åœ¨ Express ä¸­ï¼Œæœ‰ä¸‰ç¨®å¯ä»¥åµŒå¥— middleware çš„æ–¹å¼ï¼š&lt;/p>
&lt;ul>
&lt;li>æ‡‰ç”¨åˆ°å–®ä¸€ url&lt;/li>
&lt;li>æ‡‰ç”¨åˆ°å–®ä¸€ route æª”æ¡ˆ&lt;/li>
&lt;li>å…¨åŸŸä½¿ç”¨ï¼Œæ¯å€‹è«‹æ±‚éƒ½æœƒç¶“éé€™å€‹ middleware&lt;/li>
&lt;/ul>
&lt;p>æˆ‘å€‘å…ˆå¯«ä¸€å€‹ç°¡å–®çš„ middlewareï¼Œä»–åªçœ‹è«‹æ±‚çš„ header è£¡é¢æœ‰æ²’æœ‰ Authorizationï¼Œè‹¥æ²’æœ‰çš„è©±æœƒå›å‚³ status code 401ï¼š&lt;/p>
&lt;h5 id="srcmiddlewareauthmiddlewarets">src/middleware/AuthMiddleware.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">NextFunction&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;express&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">AuthMiddleware&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>: &lt;span class="kt">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>: &lt;span class="kt">Response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>: &lt;span class="kt">NextFunction&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">header&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Authorization&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">401&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;unauthorized&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">next&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¥—ç”¨åœ¨å–®ä¸€-url">å¥—ç”¨åœ¨å–®ä¸€ url&lt;/h3>
&lt;p>è‹¥ä½ æƒ³å¥—ç”¨åœ¨å–®ä¸€ urlï¼Œåªéœ€è¦æ”¾åœ¨ &lt;code>router.METHOD&lt;/code> çš„ç¬¬äºŒå€‹åƒæ•¸å³å¯ï¼š&lt;/p>
&lt;h5 id="srcroutesauthroutets-2">src/routes/auth.route.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">AuthController&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;../controllers/AuthController&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">AuthMiddleware&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;../middleware/AuthMiddleware&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Route&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;./route&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">AuthRoute&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Route&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">authController&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">AuthController&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prefix&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;/auth&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setRoutes&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">protected&lt;/span> &lt;span class="nx">setRoutes() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/login&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">AuthMiddleware&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authController&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">echo&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">AuthRoute&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¥—ç”¨åœ¨å–®ä¸€-route-æª”æ¡ˆ">å¥—ç”¨åœ¨å–®ä¸€ route æª”æ¡ˆ&lt;/h3>
&lt;p>å¥—ç”¨åœ¨å–®ä¸€ route æª”æ¡ˆï¼Œå‰‡åœ¨è©² route class çš„å»ºæ§‹å­åŠ å…¥ (&lt;strong>å¿…é ˆåœ¨ setRoutes() ä¹‹å‰&lt;/strong>)ï¼š&lt;/p>
&lt;h5 id="srcroutesauthroutets-3">src/routes/auth.route.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">AuthController&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;../controllers/AuthController&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">AuthMiddleware&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;../middleware/AuthMiddleware&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Route&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;./route&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">AuthRoute&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Route&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">authController&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">AuthController&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prefix&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;/auth&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">AuthMiddleware&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// å¿…é ˆåœ¨ setRoutes() ä¹‹å‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setRoutes&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">protected&lt;/span> &lt;span class="nx">setRoutes() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/login&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authController&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">echo&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">AuthRoute&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å…¨åŸŸä½¿ç”¨">å…¨åŸŸä½¿ç”¨&lt;/h3>
&lt;p>å…¨åŸŸä½¿ç”¨çš„è©±ï¼Œå°±åœ¨ app.ts è£¡é¢åŠ ä¸Šï¼š&lt;/p>
&lt;h5 id="srcappts-7">src/app.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">express&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;express&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">router&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;./routes/router&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">AuthMiddleware&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;../middleware/AuthMiddleware&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">app&lt;/span>: &lt;span class="kt">express.Application&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">express&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">express&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">express&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">urlencoded&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">extended&lt;/span>: &lt;span class="kt">false&lt;/span> &lt;span class="p">}));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">AuthMiddleware&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// load router
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">route&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">router&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getPrefix&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getRouter&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">module&lt;/span>&lt;span class="nx">.exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">app&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="validator">Validator&lt;/h2>
&lt;p>è‹¥è¦é©—è­‰ Request body æˆ– query string çš„å…§å®¹ï¼Œå»ºè­°å¯ä»¥ä½¿ç”¨ &lt;a class="link" href="https://www.npmjs.com/package/express-validator" target="_blank" rel="noopener"
>express-validator&lt;/a> å¥—ä»¶ï¼Œè£¡é¢æœ‰å„å¼å„æ¨£çš„é©—è­‰ç”¨ middleware å¯ä¾›ä½¿ç”¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install express-validator @types/express-validator
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‡è¨­æˆ‘å€‘çš„ç™»å…¥è¡¨å–®éœ€è¦æœ‰ username å’Œ password å…©å€‹æ¬„ä½ï¼Œä¸”æœ€å°‘è¦æœ‰å››å€‹å­—ã€‚&lt;/p>
&lt;ol>
&lt;li>æˆ‘å€‘èƒ½å¤ å°‡é€™å€‹é©—è­‰å¯«æˆ request æª”æ¡ˆï¼š&lt;/li>
&lt;/ol>
&lt;h5 id="srcrequestsauthrequestts">src/requests/AuthRequest.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">check&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;express-validator&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">showApiError&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;../middleware/AuthMiddleware&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">loginRequest&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">check&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;username&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">exists&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">isLength&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">min&lt;/span>: &lt;span class="kt">4&lt;/span>&lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">check&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;password&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">exists&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">isLength&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">min&lt;/span>: &lt;span class="kt">4&lt;/span>&lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">showApiError&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>æ”¹å¯« AuthMiddleware ï¼š&lt;/li>
&lt;/ol>
&lt;h5 id="srcmiddlewareauthmiddlewarets-1">src/middleware/AuthMiddleware.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">Response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">NextFunction&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;express&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">validationResult&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;express-validator&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">showApiError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>: &lt;span class="kt">Request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">res&lt;/span>: &lt;span class="kt">Response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">next&lt;/span>: &lt;span class="kt">NextFunction&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">errors&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">validationResult&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">errors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">isEmpty&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">status&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">400&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">json&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">errors&lt;/span>: &lt;span class="kt">errors.array&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">next&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>showApiError&lt;/strong> æ˜¯ç‚ºäº†åœ¨æœ‰ input éŒ¯èª¤ç™¼ç”Ÿæ™‚ï¼Œèƒ½å¤ å›å‚³å°æ‡‰çš„éŒ¯èª¤è¨Šæ¯è€Œä½¿ç”¨çš„ middlewareï¼Œå¦‚æœæ²’æœ‰å®ƒçš„è©±ï¼Œvalidator ä¸æœƒå›å‚³éŒ¯èª¤è¨Šæ¯ã€‚&lt;/p>
&lt;ol start="3">
&lt;li>æ¥è‘—æˆ‘å€‘åœ¨ auth route class è£¡é¢è¼‰å…¥é€™å€‹ requestï¼š&lt;/li>
&lt;/ol>
&lt;h5 id="srcroutesauthroutets-4">src/routes/auth.route.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">AuthController&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;../controllers/AuthController&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Route&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;./route&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">loginRequest&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s2">&amp;#34;../requests/AuthRequest&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">AuthRoute&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Route&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">authController&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">AuthController&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prefix&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;/auth&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setRoutes&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">protected&lt;/span> &lt;span class="nx">setRoutes() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/login&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">loginRequest&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authController&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">echo&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">AuthRoute&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾† POST /login çš„è«‹æ±‚å°±æœƒé©—è­‰ request bodyï¼Œç•¶æˆ‘çš„ username è¼¸å…¥å¤ªçŸ­æ™‚ï¼Œæœƒå¾—åˆ°ä»¥ä¸‹éŒ¯èª¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;errors&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;123&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;msg&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Invalid value&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;param&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;location&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;body&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› ç‚º request å…¶å¯¦å°±æ˜¯ middleware çš„é™£åˆ—ï¼Œå› æ­¤è‹¥è¦åµŒå¥—å…¶ä»– middleware æ™‚ï¼Œä½¿ç”¨ Array merge å³å¯ã€‚&lt;/p>
&lt;hr></description></item><item><title>ã€Nuxt3ã€‘å¯¦æˆ°ç·´ç¿’ - å¯¦ä½œéƒ¨è½æ ¼</title><link>https://wayneblog.ga/2023-01-16/nuxt-nuxt3-practice-project/</link><pubDate>Mon, 16 Jan 2023 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2023-01-16/nuxt-nuxt3-practice-project/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52630283696_c93e29e870_o.png" alt="Featured image of post ã€Nuxt3ã€‘å¯¦æˆ°ç·´ç¿’ - å¯¦ä½œéƒ¨è½æ ¼" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://medium.com/@mjackson/universal-javascript-4761051b7ae9" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/articles/10292483" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/users/20152617/ironman/5934" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>å¤§å®¶ç¶“é &lt;a class="link" href="https://wayneblog.ga/2023-01-14/nuxt-try-nuxt3/" >ã€Nuxt3ã€‘é–‹ç®±å³ç”¨çš„ Nuxt3 ç©è½‰ç­†è¨˜&lt;/a> é€™ç¯‡æ–‡ç« ï¼Œæ‡‰è©²å°æ–¼ Nuxt 3 æœ‰åˆæ­¥çš„ç†è§£ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘å°‡é€²å…¥å¯¦æˆ°éƒ¨åˆ†ï¼Œæˆ‘å°‡æœƒä»¥ Nuxt 3 ä¾†å¯¦ä½œéƒ¨è½æ ¼ç¶²ç«™ï¼Œè®“å·²ç¶“è¨»å†Šçš„ä½¿ç”¨è€…å¯ä»¥åœ¨ç¶²ç«™ä¸Šç™¼å¸ƒæ–‡ç« ï¼Œå¯¦ä½œé€™å€‹ç¶²ç«™çš„ç¨‹å¼ç¢¼å¯èƒ½ä¸æœƒè¬›è§£å¾—éå¸¸ä»”ç´°ï¼Œä½†ä¸€äº›å¯¦å‹™é–‹ç™¼ä¸Šæœƒéœ€è¦æ³¨æ„çš„ç´°ç¯€æˆ‘æœƒæŠŠå€‹äººç¶“é©—åšä¸€å€‹ç´€éŒ„ï¼Œå¤§å®¶å¯ä»¥å†åƒè€ƒçœ‹çœ‹ï¼Œæ–‡æœ«ä¹Ÿéƒ½æœƒé™„ä¸Šå®Œæ•´çš„ç¯„ä¾‹ç¨‹å¼ã€‚æ¥ä¸‹ä¾†ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼&lt;/p>
&lt;hr>
&lt;h2 id="è³‡æ–™åº«èˆ‡æœƒå“¡ç³»çµ±">è³‡æ–™åº«èˆ‡æœƒå“¡ç³»çµ±&lt;/h2>
&lt;h3 id="è³‡æ–™åº«-database">è³‡æ–™åº« (Database)&lt;/h3>
&lt;p>é€™ç¯‡æ–‡ç« å¯¦ä½œçš„éƒ¨è½æ ¼ï¼ŒæœƒæŠŠæœƒå“¡èˆ‡æ–‡ç« ç­‰è³‡æ–™å„²å­˜æ–¼ä¼ºæœå™¨çš„è³‡æ–™åº«ä¹‹ä¸­ï¼Œå¤§å®¶å¯ä»¥é¸æ“‡è‡ªå·±ç¿’æ…£æˆ–åˆé©çš„è³‡æ–™åº«ä¾†åšå„²å­˜ã€‚ç‚ºäº†æ–¹ä¾¿åŠå¾ŒçºŒçš„å±•ç¤ºï¼Œæˆ‘æœ€çµ‚æ±ºå®šä½¿ç”¨ &lt;a class="link" href="https://www.prisma.io/" target="_blank" rel="noopener"
>Prisma&lt;/a> æ­é…æœ¬åœ°çš„ &lt;strong>SQLite&lt;/strong> ä¾†ç•¶ä½œå„²å­˜é«”ï¼Œè®“å¤§å®¶æ¸¬è©¦æ™‚ä¸ç”¨å†ç…©æƒ±æ€éº¼æ¶è¨­è³‡æ–™åº«ï¼Œå¯ä»¥å¿«é€Ÿçš„åŸ·è¡Œç¯„ä¾‹ç¨‹å¼ç¢¼ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ä½ å¯ä»¥åœ¨è‡ªå·±çš„ Nuxt å°ˆæ¡ˆæˆ–å¾æ–°å°ˆæ¡ˆé–‹å§‹é€²è¡Œï¼Œè‹¥ä½ å·²ç¶“æœ‰è‡ªå·±çš„è³‡æ–™åº«ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è·³éæ­¤æ®µä»‹ç´¹å¾ŒçºŒå¯¦ä½œè‡ªå·±çš„å¾Œç«¯ API ä¾†æ¥çºŒæˆ‘å€‘çš„å¯¦ä½œç³»åˆ—ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="å®‰è£-prisma">å®‰è£ Prisma&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.prisma.io/" target="_blank" rel="noopener"
>Prisma&lt;/a> æ“ä½œèµ·ä¾†å¾ˆåƒ ORM (Object-Relational Mapping)ï¼Œä½†å¯¦éš›ä¸Šä¾æ“š&lt;a class="link" href="https://www.prisma.io/docs/concepts/overview/prisma-in-your-stack/is-prisma-an-orm" target="_blank" rel="noopener"
>å®˜ç¶²çš„èªªæ˜&lt;/a>ï¼Œå…¶å¯¦ä¸å¤§ä¾æ¨£ï¼ŒPrisma é€éæ’°å¯«ä¸¦æ ¹æ“š &lt;code>Schema&lt;/code> ä¾†å»ºç«‹æˆ–æ“ä½œè³‡æ–™åº«ï¼Œåœ¨é€²è¡Œ &lt;strong>CRUD&lt;/strong> çš„æ“ä½œæ™‚ï¼Œéƒ½æ˜¯é€é Prisma Client é€²è¡Œï¼Œé€™ä¹Ÿæ˜¯æœ€æ–¹ä¾¿çš„åœ°æ–¹ï¼Œæ­¤å¤–ä¹Ÿæ”¯æ´å¤šç¨®è³‡æ–™åº«çš„ä¾†æºï¼Œåªè¦æ“ä½œ Model å°±å¯ä»¥æ˜ å°„åˆ°è³‡æ–™åº«çš„è³‡æ–™ï¼Œä¸å†éœ€è¦å¯« SQLï¼Œåœ¨ä¸€äº›æƒ…å¢ƒä¹‹ä¸‹æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œä½¿ç”¨ NPM å®‰è£ &lt;code>prisma&lt;/code> èˆ‡ &lt;code>@prisma/client&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D prisma @prisma/client
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D prisma @prisma/client&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ‰“é–‹çµ‚ç«¯æ©Ÿ (Terminal) æ–¼ Nuxt å°ˆæ¡ˆç›®éŒ„ä¸­ï¼Œ ä½¿ç”¨ä¸‹åˆ—æŒ‡ä»¤ï¼Œåˆå§‹åŒ–ä¸€å€‹ &lt;strong>Prisma&lt;/strong> çš„ &lt;code>Schema&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx prisma ini
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆå§‹åŒ–å®Œæˆå¾Œï¼Œæœƒå»ºç«‹ä¸€å€‹ &lt;code>schema.prisma&lt;/code> æª”æ¡ˆã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630762803_78afc17ebe_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;code>./prisma/schema.prisma&lt;/code> æª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼Œé€™è£¡å°±æ˜¯å®šç¾©æˆ‘å€‘è³‡æ–™åº«ä½ç½®èˆ‡ &lt;code>Schema&lt;/code> çš„åœ°æ–¹ï¼Œä¹‹å¾Œæˆ‘å€‘å°±å¯ä»¥é€é &lt;strong>Prisma&lt;/strong> çš„ &lt;strong>Client&lt;/strong> ä½¿ç”¨ ORM ä¾†æ“ä½œè³‡æ–™åº«ã€‚&lt;/p>
&lt;h5 id="prismaschemaprisma">prisma/schema.prisma&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">// This is your Prisma schema file,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// learn more about it in the docs: https://pris.ly/d/prisma-schema
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">generator client {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> provider = &amp;#34;prisma-client-js&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">datasource db {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> provider = &amp;#34;postgresql&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> url = env(&amp;#34;DATABASE_URL&amp;#34;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘èª¿æ•´ &lt;code>./prisma/schema.prisma&lt;/code> æª”æ¡ˆå…§å®¹ï¼Œå°‡ &lt;code>datasource&lt;/code> æ›¿æ›ç‚º SQLite ä¸¦å„²å­˜åœ¨æœ¬åœ°çš„ &lt;code>./dev.db&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">datasource db {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> provider = &amp;#34;sqlite&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> url = &amp;#34;file:./dev.db&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ä½ ä¹Ÿå¯ä»¥å°‡ provider æ›¿æ›ç‚º PostgreSQL æˆ– MySQL ç­‰ï¼Œå¯ä»¥åƒè€ƒ&lt;a class="link" href="https://www.prisma.io/docs/concepts/database-connectors" target="_blank" rel="noopener"
>é€™è£¡&lt;/a>ï¼Œä½†è¦æ³¨æ„å¯èƒ½å¾Œé¢å®šç¾©çš„ Schema èªæ³•æœƒç•¥å¾®ä¸åŒã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘å®šç¾©ä¸€å€‹ &lt;code>User&lt;/code> çš„è³‡æ–™è¡¨ï¼Œåœ¨ &lt;code>schema.prisma&lt;/code> æ’°å¯«å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">model User {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> id String @id @default(uuid())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> providerName String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> providerUserId String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nickname String @default(&amp;#34;User&amp;#34;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> email String @unique
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> password String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> avatar String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> emailVerified Boolean @default(false)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> createdAt DateTime @default(now())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> updatedAt DateTime @updatedAt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å¼µ &lt;code>User&lt;/code> è³‡æ–™è¡¨ï¼Œå°‡ç”¨ä½œæ–¼éƒ¨è½æ ¼çš„ç™»å…¥ä½¿ç”¨è€…åšä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥è¦–ç‚ºæ˜¯æœƒå“¡ç³»çµ±ä½¿ç”¨çš„è³‡æ–™è¡¨ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥ä¾æ“šéœ€æ±‚ä¾†æ“´å¢æ¬„ä½ï¼Œä»¥ä¸‹ç¨å¾®è¬›è¿°ä¸€ä¸‹å„å€‹æ¬„ä½å°‡ä½œç‚ºä½•ç”¨ã€‚&lt;/p>
&lt;ul>
&lt;li>id: é è¨­ç‚º UUIDï¼Œç‚ºä½¿ç”¨è€…çš„å”¯ä¸€è­˜åˆ¥ã€‚&lt;/li>
&lt;li>providerName: ä½œç‚ºç¬¬ä¸‰æ–¹ç™»å…¥çš„ä¾›æ‡‰å•†è¨˜éŒ„ä½¿ç”¨ï¼Œä¾‹å¦‚è©²åä½¿ç”¨è€…ä½¿ç”¨ Google OAuth è¨»å†Šç™»å…¥ï¼Œæˆ‘æœƒåœ¨æ¬„ä½å°±æœƒå¡«ä¸Š googleã€‚å¦‚æœç‚ºç©ºå€¼ (null) è¡¨ç¤ºä½¿ç”¨è€…ç”¨é›»å­ä¿¡ç®±è¨»å†Šç™»å…¥ã€‚&lt;/li>
&lt;li>providerUserId: èˆ‡ providerName æ­é…ä½¿ç”¨ï¼Œç¬¬ä¸‰æ–¹ä¾›æ‡‰å•†é€šå¸¸ä¹Ÿæœƒæœ‰ä¸€çµ„å°ˆå±¬æ–¼ä½¿ç”¨è€…çš„ Idï¼Œä»¥æ­¤æˆ‘å€‘å°±å¯ä»¥ä¾†æ¯”å°ç™»å…¥çš„æ˜¯å“ªä½ä½¿ç”¨è€…ã€‚å¦‚æœç‚ºç©ºå€¼ (null) è¡¨ç¤ºä½¿ç”¨è€…ç”¨é›»å­ä¿¡ç®±è¨»å†Šç™»å…¥ã€‚&lt;/li>
&lt;li>nickname: ä½¿ç”¨è€…æš±ç¨±ï¼Œé è¨­å€¼ç‚ºå­—ä¸² Userã€‚&lt;/li>
&lt;li>email: ä½¿ç”¨è€…ç™»å…¥çš„é›»å­ä¿¡ç®±ï¼Œé€™è£¡æˆ‘å°‡æ¬„ä½è¨­å®šç‚º @unique è¡¨ç¤ºï¼Œé›»å­ä¿¡ç®±æ˜¯ç³»çµ±ä¸­å”¯ä¸€ã€‚&lt;/li>
&lt;li>password:ä½¿ç”¨è€…å¯†ç¢¼çš„é›œæ¹Šå€¼ï¼Œå¦‚æœä½¿ç”¨ç¬¬ä¸‰æ–¹è¨»å†Šç™»å…¥ï¼Œå‰‡è©²æ¬„ä½ç‚º ç©ºå€¼ (null)ã€‚&lt;/li>
&lt;li>avatar: ä½¿ç”¨è€…çš„é ­åƒï¼Œå­˜æ”¾åœ–ç‰‡ç¶²å€ã€‚&lt;/li>
&lt;li>emailVerified: å¸ƒæ—å€¼ï¼Œé è¨­ç‚º falseï¼Œè¡¨ç¤ºä½¿ç”¨è€…çš„é›»å­ä¿¡ç®±æ˜¯å°šæœªé€šéé©—è­‰ã€‚&lt;/li>
&lt;li>createdAt: ä½¿ç”¨è€…å»ºç«‹æ™‚é–“ï¼Œé è¨­ç‚ºæ’å…¥è©²ç­†è³‡æ–™çš„æ™‚é–“ã€‚&lt;/li>
&lt;li>updatedAt: ä½¿ç”¨è€…æ›´æ–°å€‹äººè³‡æ–™çš„æ™‚é–“ï¼Œé è¨­ç‚ºæ›´æ–°è©²ç­†è³‡æ–™çš„æ™‚é–“ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;code>./prisma/schema.prisma&lt;/code> æª”æ¡ˆå…§å®¹çœ‹èµ·ä¾†å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="prismaschemaprisma-1">prisma/schema.prisma&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">// This is your Prisma schema file,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// learn more about it in the docs: https://pris.ly/d/prisma-schema
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">generator client {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> provider = &amp;#34;prisma-client-js&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">datasource db {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> provider = &amp;#34;sqlite&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> url = &amp;#34;file:./dev.db&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">model User {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> id String @id @default(uuid())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> providerName String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> providerUserId String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nickname String @default(&amp;#34;User&amp;#34;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> email String @unique
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> password String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> avatar String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> emailVerified Boolean @default(false)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> createdAt DateTime @default(now())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> updatedAt DateTime @updatedAt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘èª¿æ•´å¥½ schema å¾Œï¼Œå°±å¯ä»¥åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ï¼Œä¾†åˆå§‹åŒ–è³‡æ–™åº«ï¼ŒPrisma æœƒä¾ç…§ &lt;code>schema.prism&lt;/code> ä¾†å¹«æˆ‘å€‘å»ºç«‹å°æ‡‰çš„è³‡æ–™è¡¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx prisma db push
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630762818_df25ebac5c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>åˆå§‹åŒ–å®Œç•¢å¾Œï¼Œä½ å¯ä»¥ç™»å…¥ä½ çš„è³‡æ–™åº«æŸ¥çœ‹æ˜¯å¦å»ºç«‹æˆåŠŸï¼Œä¹Ÿå¯ä½¿ç”¨ Prisma æä¾›çš„ &lt;a class="link" href="https://www.prisma.io/studio" target="_blank" rel="noopener"
>Prisma Studio&lt;/a> ä¾†å¿«é€Ÿçš„æª¢è¦–èˆ‡æ“ä½œè³‡æ–™åº«å…§çš„è³‡æ–™ã€‚&lt;a class="link" href="https://www.prisma.io/studio" target="_blank" rel="noopener"
>Prisma Studio&lt;/a> å·²ç¶“å…§å»ºåœ¨ prisma å¥—ä»¶ä¸­ï¼ŒåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤å¾Œï¼Œå°±æœƒå•Ÿå‹•ä¸€å€‹ Web æœå‹™ï¼Œå¦‚ &lt;a class="link" href="http://localhost:5555" target="_blank" rel="noopener"
>http://localhost:5555&lt;/a>ï¼Œæˆ‘å€‘å°±å¯ä»¥åœ¨ç¶²é ä¸­æŸ¥çœ‹è³‡æ–™åº«å…§çš„è³‡æ–™å›‰ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx prisma studio
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630533384_49e793de57_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å¯ä»¥åœ¨ &lt;a class="link" href="https://www.prisma.io/studio" target="_blank" rel="noopener"
>Prisma Studio&lt;/a> çœ‹åˆ°æˆ‘å€‘å»ºç«‹çš„ &lt;code>User&lt;/code> è³‡æ–™è¡¨ï¼Œä¹Ÿå°‡æ˜¯æˆ‘å€‘ç¨å¾Œä½¿ç”¨ Prisma æ“ä½œ ORM æ‰€å°æ‡‰çš„ &lt;strong>User Model&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629765912_5000672fc2_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æœ€å¾Œè¨˜å¾—åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ä¾†ç”¢ç”Ÿ Prisma Clientï¼Œé€™æ¨£æˆ‘å€‘å°±å¯ä»¥åœ¨ Nuxt 3 ä¸­ä½¿ç”¨ Prisma Client æ“ä½œè³‡æ–™åº«å›‰ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx prisma generate
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630723465_bd7f83c262_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="nuxt-3-æ“ä½œ-prisma-client-å»ºç«‹ä¸€å€‹ä½¿ç”¨è€…è‡³è³‡æ–™åº«">Nuxt 3 æ“ä½œ Prisma Client å»ºç«‹ä¸€å€‹ä½¿ç”¨è€…è‡³è³‡æ–™åº«&lt;/h3>
&lt;p>æˆ‘å€‘æ¥ä¸‹ä¾†å°±èƒ½ä½¿ç”¨å¦‚ä¸‹ç¨‹å¼ç¢¼å»ºç«‹ Prisma Clientï¼Œå¾ŒçºŒå¯ä»¥ç”¨ä¾†ä¾†æ“ä½œ &lt;strong>Model&lt;/strong>ï¼Œæ›´å¤šçš„ Prisma Client API å¯ä»¥åƒè€ƒ&lt;a class="link" href="https://www.prisma.io/docs/reference/api-reference/prisma-client-reference" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">PrismaClient&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;@prisma/client&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">prismaClient&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">PrismaClient&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å»ºç«‹ä¸€éš» Server APIï¼Œæ–°å¢ &lt;code>./server/api/test-create-user.get.js&lt;/code>ï¼Œç”¨ä¾†æ¸¬è©¦æ”¶åˆ°è«‹æ±‚å¾Œå»ºç«‹ä¸€å€‹æ¸¬è©¦ä½¿ç”¨è€…ï¼Œè©³ç´°çš„ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapitest-create-usergetjs">server/api/test-create-user.get.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">PrismaClient&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@prisma/client&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">prismaClient&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">PrismaClient&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">prismaClient&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">create&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">providerName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">providerUserId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Ryan&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ryanchien8125@gmail.com&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">password&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;é€™è£¡è¦æ”¾å¯†ç¢¼çš„é›œæ¹Šå€¼&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emailVerified&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">user&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘é€å‡º &lt;code>/api/test-create-user&lt;/code> å¾Œï¼Œå¾Œç«¯æœƒä½¿ç”¨ Prisma Client æ“ä½œ User Modelï¼Œæˆ‘å€‘å°±èƒ½ä½¿ç”¨ ORM ä¾†å»ºç«‹å‡ºä½¿ç”¨è€…çš„è³‡æ–™åº«è¨˜éŒ„ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630723535_2ec455193c_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="nuxt-3-ä½¿ç”¨è€…è¨»å†Šå¸³è™Ÿ">Nuxt 3 ä½¿ç”¨è€…è¨»å†Šå¸³è™Ÿ&lt;/h3>
&lt;p>æˆ‘å€‘å°‡ &lt;a class="link" href="https://wayneblog.ga/2023-01-14/nuxt-try-nuxt3/#%e5%af%a6%e4%bd%9c%e7%b7%b4%e7%bf%92" >ã€Nuxt3ã€‘é–‹ç®±å³ç”¨çš„ Nuxt3 ç©è½‰ç­†è¨˜&lt;/a> é€™ç¯‡æ–‡ç« ï¼Œæ‰€ä¸²æ¥çš„ Google OAuth åŠ Cookie åšä¸€å€‹çµåˆï¼Œè®“ä½¿ç”¨è€…é€é Google Auth ç™»å…¥å¾Œå¯ä»¥è‡ªå‹•çš„è¨»å†Šå»ºç«‹ä½¿ç”¨è€…æˆ–ç™»å…¥ç”¢ç”Ÿ Access Tokenã€‚&lt;/p>
&lt;p>&lt;code>./server/api/auth/google.post.js&lt;/code> ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiauthgooglepostjs">server/api/auth/google.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;google-auth-library&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">jwt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;jsonwebtoken&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">db&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/server/db&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">oauth2Client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setCredentials&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">access_token&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">accessToken&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">oauth2Client&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://www.googleapis.com/oauth2/v3/userinfo&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">revokeCredentials&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userInfo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Invalid token&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">userRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getUserByEmail&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">userRecord&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerName&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;google&amp;#39;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerUserId&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sub&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;This email address does not apply to this login method&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createUser&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">providerName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;google&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">providerUserId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sub&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">password&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">picture&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emailVerified&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email_verified&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtTokenPayload&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">maxAge&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">24&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">7&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">expires&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">now&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">maxAge&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtToken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">jwt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sign&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">exp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">expires&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">jwtTokenPayload&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jwtSignSecret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;access_token&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">jwtToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">httpOnly&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">maxAge&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expires&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">expires&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">secure&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NODE_ENV&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;production&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provider&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerName&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerUserId&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nickname&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">avatar&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¨‹å¼ç¢¼å…§å®¹ç¨å¾®æœ‰ä¸€é»å¤šï¼Œä½†è¬›è§£ä¸€ä¸‹æµæ•´èˆ‡æ¦‚å¿µï¼š&lt;/p>
&lt;ol>
&lt;li>ç•¶å‰ç«¯ Google OAuth ç™»å…¥æˆåŠŸå¾Œï¼Œå°‡å›å‚³çš„ Google access_token å‚³é€è‡³é€™éš» APIï¼Œä¸¦ä½¿ç”¨ Google API å–å¾—ä½¿ç”¨è€…è³‡è¨Šã€‚&lt;/li>
&lt;li>&lt;code>db.user.getUserByEmail&lt;/code> é€™å€‹æ˜¯æˆ‘å°è£çš„æ–¹æ³•ï¼Œè£¡é¢å°æ‡‰è‘— Prisma çš„ ORM æ“ä½œï¼Œå¦‚æœä½ æƒ³ä¹Ÿå¯ä»¥åœ¨é€™é‚Šæ›¿æ›ä½ çš„è³‡æ–™åº«æ“ä½œé‚è¼¯ï¼Œä¸»è¦é€™å€‹æ–¹æ³•ï¼Œå°±æ˜¯ä¾ç…§ä½¿ç”¨è€…çš„ Email å›å‚³è³‡æ–™åº«å…§&lt;code>æ˜¯å¦å­˜åœ¨ä¸€ç­†ç¬¦åˆçš„ä½¿ç”¨è€…è¨˜éŒ„&lt;/code>ã€‚&lt;/li>
&lt;li>å¦‚æœå­˜åœ¨ï¼Œæˆ‘æœƒåˆ¤æ–· provider æ˜¯å¦ç¬¦åˆ Google çš„ä½¿ç”¨è€…è³‡è¨Šï¼Œå¦å‰‡åˆ¤æ–·ç‚ºæ‡‰è©²æ˜¯ç”¨é›»å­ä¿¡ç®±è¨»å†Šçš„ä½¿ç”¨è€…ã€‚&lt;/li>
&lt;li>å¦‚æœä¸å­˜åœ¨ï¼Œå‰‡å»ºç«‹ä¸€å€‹æ–°çš„ä½¿ç”¨è€…è‡³è³‡æ–™åº«å…§ï¼Œå»ºç«‹æ™‚ä¸éœ€è¦å‚³å…¥ id è³‡æ–™åº«å› ç‚ºè¨­å®šç‚ºè‡ªå‹•ç”¢ç”Ÿ UUIDã€‚&lt;/li>
&lt;li>æœ€å¾Œå°±æ˜¯ç”¢ç”Ÿä½¿ç”¨è€…çš„ JWT ä¸¦è¨­å®šåœ¨ cookie ä¹‹ä¸­ã€‚&lt;/li>
&lt;/ol>
&lt;p>å¦å¤–ï¼Œæˆ‘ä¹Ÿå¯¦ä½œäº†ä½¿ç”¨é›»å­ä¿¡ç®±ç›´æ¥è¨»å†Šçš„æ–¹å¼ï¼Œ&lt;code>./server/api/auth/register.post.js&lt;/code> ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiauthregisterpostjs">server/api/auth/register.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">bcrypt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;bcrypt&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">db&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/server/db&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">userRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getUserByEmail&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">userRecord&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;A user with that email address already exists&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createUser&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">providerName&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">providerUserId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nickname&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">password&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">bcrypt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">hashSync&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emailVerified&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nickname&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨é›»å­ä¿¡ç®±èˆ‡å¯†ç¢¼è¨»å†Šçš„æµç¨‹å¾ˆç°¡å–®ï¼Œå°±æ˜¯åˆ¤æ–·æ˜¯å¦å­˜åœ¨ç›¸åŒä¿¡ç®±çš„ä½¿ç”¨è€…ï¼Œä¸å­˜åœ¨çš„è©±å°±ç‚ºå®ƒå»ºç«‹ä¸€ç­†ç´€éŒ„ã€‚&lt;/p>
&lt;p>é€™é‚Šè¦æ³¨æ„çš„æ˜¯ï¼Œæœƒå“¡ç³»çµ±æˆ–ç‰½æ‰¯åˆ°å¸³è™Ÿå¯†ç¢¼ç›¸é—œçš„ï¼Œè«‹ä¸€å¾‹ä½¿ç”¨é›œæ¹Šæ¼”ç®—æ³•ï¼Œä¾‹å¦‚ &lt;strong>BCrypt&lt;/strong> æˆ– &lt;strong>Argon2&lt;/strong>ï¼Œç‚ºä½¿ç”¨è€…çš„å¯†ç¢¼åš Hashï¼Œä¸è¦å†å­˜æ˜ç¢¼åœ¨è³‡æ–™åº«ä¹‹ä¸­å›‰ï¼Œä»¥å…ç™¼ç”Ÿè³‡å®‰äº‹ä»¶æ™‚ï¼Œé€ æˆä¸å¯æŒ½å›çš„æ‚²åŠ‡ã€‚&lt;/p>
&lt;p>é †ä¾¿ä¹Ÿå¯¦ä½œä¸€ä¸‹ä½¿ç”¨é›»å­ä¿¡ç®±èˆ‡å¯†ç¢¼ç™»å…¥çš„ APIï¼Œ&lt;code>./server/api/auth/login.post.js&lt;/code> ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiauthloginpostjs">server/api/auth/login.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">bcrypt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;bcrypt&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">jwt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;jsonwebtoken&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">db&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/server/db&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getUserByEmail&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userRecord&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Email or password is incorrect&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="kr">await&lt;/span> &lt;span class="nx">bcrypt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">compare&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">password&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Email or password is incorrect&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtTokenPayload&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">maxAge&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">24&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">7&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">expires&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">now&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">maxAge&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtToken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">jwt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sign&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">exp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">expires&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">jwtTokenPayload&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jwtSignSecret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;access_token&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">jwtToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">httpOnly&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">maxAge&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expires&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">expires&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">secure&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NODE_ENV&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;production&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provider&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerName&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerUserId&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nickname&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">avatar&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ä½¿ç”¨ Google OAuth ç™»å…¥&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630723565_6ddcf3d4bb_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;ul>
&lt;li>ä½¿ç”¨é›»å­ä¿¡ç®±èˆ‡å¯†ç¢¼ç™»å…¥&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629766447_e4b4472475_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="çµåˆ-pinia-å„²å­˜ä½¿ç”¨è€…è³‡æ–™">çµåˆ Pinia å„²å­˜ä½¿ç”¨è€…è³‡æ–™&lt;/h3>
&lt;p>æˆ‘å€‘å¯ä»¥çµåˆ Pinia ä¾†å°‡ä½¿ç”¨è€…çš„è³‡æ–™æŒä¹…è©±å„²å­˜åœ¨ Local Storage ä¹‹ä¸­ï¼Œé€™æ¨£å°±å¯ä»¥åœ¨å‰ç«¯å„²å­˜ä½¿ç”¨è€…ç™»å…¥çš„ç‹€æ…‹ï¼Œä¾‹å¦‚å°è¦½åˆ—çš„é ­åƒã€ä¿¡ç®±ï¼Œå°±å¯ä»¥å¾ Store ä¸­æ‹¿å‡ºä¾†å›‰ã€‚&lt;/p>
&lt;p>å»ºç«‹ &lt;code>./server/profile.get.js&lt;/code> æª”æ¡ˆï¼Œç”¨ä¾†å–å¾—ä½¿ç”¨è€…è³‡æ–™ï¼š&lt;/p>
&lt;h5 id="serverprofilegetjs">server/profile.get.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">jwt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;jsonwebtoken&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">db&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/server/db&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtToken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;access_token&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">jwt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">verify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">jwtToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jwtSignSecret&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">401&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Unauthorized&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userInfo&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">401&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Unauthorized&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getUserById&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userRecord&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Could not find user.&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provider&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerName&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerUserId&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nickname&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">avatar&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ä¸€å€‹ &lt;strong>user&lt;/strong> çš„ &lt;strong>store&lt;/strong>ï¼Œ&lt;code>./stores/user.js&lt;/code> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="storesuserjs">stores/user.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useUserStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;user&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">profile&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provider&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">actions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">async&lt;/span> &lt;span class="nx">refreshUserProfile&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">error&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/user/profile&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">initialCache&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">profile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">error&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">message&lt;/span> &lt;span class="o">??&lt;/span> &lt;span class="s1">&amp;#39;æœªçŸ¥éŒ¯èª¤&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">persist&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">enabled&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">strategies&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">key&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;user&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">storage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">client&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nx">localStorage&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;code>refreshUserProfile()&lt;/code> ä¾†ç™¼é€è«‹æ±‚è‡³ &lt;code>/api/user/profile&lt;/code> å–å¾—æœ€æ–°çš„ä½¿ç”¨è€…è³‡æ–™ä¾†æ›´æ–° storeã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useUserStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/stores/user&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useUserStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">userStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">refreshUserProfile&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630533839_b540b524b0_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="ä½¿ç”¨ä¼ºæœå™¨ä¸­é–“ä»¶ä¾†é©—è­‰-jwt">ä½¿ç”¨ä¼ºæœå™¨ä¸­é–“ä»¶ä¾†é©—è­‰ JWT&lt;/h3>
&lt;p>æˆ‘å€‘çš„æœƒå“¡ç³»çµ±åœ¨ç™»å…¥å¾Œï¼Œæœƒç”¢ç”Ÿä¸€çµ„ JWT æ”¾ç½®æ–¼ cookie ä¹‹ä¸­ï¼Œåœ¨å¾Œç«¯ API ä½¿ç”¨æ™‚éƒ½è¦åœ¨å‘¼å« &lt;code>getCookie()&lt;/code> ä¾†è§£æ cookieï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥å°‡é©—è­‰ JWT çš„æµç¨‹ï¼Œæ”¾ç½®åœ¨ä¼ºæœå™¨ä¸­é–“ä»¶ (middleware) ä¹‹ä¸­ï¼Œå¾Œç«¯æ”¶åˆ°çš„æ¯å€‹è«‹æ±‚å°±æœƒç¶“éé€™å€‹ä¸­é–“ä»¶ï¼Œåªè¦æœ‰å¤¾å¸¶ &lt;code>access_token&lt;/code> çš„ cookie å°±æœƒé€²è¡Œé©—è­‰è§£æå‡º JWT æ‰€å«çš„ &lt;code>payload&lt;/code> idï¼Œå³ç‚ºä½¿ç”¨è€…çš„ IDã€‚&lt;/p>
&lt;p>å»ºç«‹ &lt;code>./server/middleware/auth.js&lt;/code> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="servermiddlewareauthjs">server/middleware/auth.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">jwt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;jsonwebtoken&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtToken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;access_token&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">jwtToken&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">jwt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">verify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">jwtToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jwtSignSecret&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">userInfo&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">auth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">user&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Invalid token&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¼ºæœå™¨çš„ä¸­é–“ä»¶åªè¦å®šç¾©åœ¨ &lt;code>./server/middleware&lt;/code> ç›®éŒ„ä¸‹å°±æœƒè‡ªå‹•è¢«è¼‰å…¥ï¼Œä¹‹å¾Œåœ¨æ¯å€‹ Server API æ”¶åˆ°è«‹æ±‚ï¼Œä¸­é–“ä»¶åªè¦æœ‰æˆåŠŸé©—è­‰ä¸¦è§£æ JWTï¼Œå°±æœƒåœ¨ &lt;code>event.context.auth&lt;/code> æ·»åŠ ä½¿ç”¨è€…è³‡è¨Šï¼Œä¹‹å¾Œåœ¨ Server API çš„è™•ç†å‡½æ•¸ä¸­ï¼Œå°±å¯ä»¥ä»¥ä¸‹åˆ—ç¨‹å¼ç¢¼é€²è¡Œä½¿ç”¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">auth&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èª¿æ•´å¾Œçš„ &lt;code>./server/profile.get.js&lt;/code> æª”æ¡ˆï¼Œå°±æœƒä¹¾æ·¨è¨±å¤šå›‰ï¼&lt;/p>
&lt;h5 id="serverprofilegetjs-1">server/profile.get.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">db&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/server/db&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">auth&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">401&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Unauthorized&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getUserById&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userRecord&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Could not find user.&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provider&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerName&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">providerUserId&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nickname&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">avatar&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userRecord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç‚ºäº†å¯¦ä½œéƒ¨è½æ ¼ï¼Œæˆ‘å€‘ä½¿ç”¨ Prisma å¿«é€Ÿçš„å»ºç«‹è³‡æ–™åº«ç’°å¢ƒï¼Œä¹Ÿæ–¹ä¾¿å¤§å®¶å¯ä»¥ä¸‹è¼‰ç¯„ä¾‹ç¨‹å¼ç¢¼ï¼Œå°±å¯ä»¥åœ¨è‡ªå·±çš„é›»è…¦ä¸Šé‹ä½œ SQLiteã€‚ä¹Ÿçµåˆ Pinia ä¾†å°‡ä½¿ç”¨è€…çš„è³‡æ–™é€²è¡ŒæŒä¹…åŒ–çš„å„²å­˜ï¼Œé€™æ¨£æˆ‘å€‘å°±å¯ä»¥å¯¦ä½œå‡ºå¦‚åˆ¤æ–·ä½¿ç”¨è€…æ˜¯å¦ç™»å…¥æˆ–æ˜¯å»ºç«‹å°è¦½åˆ—ä¸Šçš„ç™»å…¥ç‹€æ…‹ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/wjdesign/ithome-2022-ironman-nuxt3/tree/day21/nuxt-app-blog-prisma" target="_blank" rel="noopener"
>ç¯„ä¾‹ç¨‹å¼ç¢¼ - Nuxt 3 - å¯¦ä½œéƒ¨è½æ ¼è³‡æ–™åº«èˆ‡æœƒå“¡ç³»çµ±&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="å°è¦½åˆ—æ¨¡æ¿èˆ‡æ–°å¢æ–‡ç« ">å°è¦½åˆ—æ¨¡æ¿èˆ‡æ–°å¢æ–‡ç« &lt;/h2>
&lt;p>ä¸Šé¢æˆ‘å€‘å®Œæˆäº†åŸºæœ¬çš„æœƒå“¡ç™»å…¥ï¼Œæ¥ä¸‹ä¾†å°‡é€²å…¥ç¶²ç«™çš„åˆ‡ç‰ˆï¼Œä»¥ä¸‹æœƒä½¿ç”¨å¸ƒå±€æ¨¡æ¿ä¾†å¯¦ç¾ï¼Œä¸Šæ–¹å°è¦½åˆ—èˆ‡ä¸‹æ–¹é¡¯ç¤ºç¶²ç«™å…§å®¹çš„æ’ç‰ˆæ–¹å¼ï¼Œæ¥ä¸‹ä¾†å°±æœƒå¿«é€Ÿçš„é€²å…¥åˆ°æ–°å¢ä¸€ç¯‡éƒ¨è½æ ¼çš„æ–‡ç« ï¼Œè©²å¦‚ä½•å¯¦ç¾ Server API èˆ‡å‰ç«¯é€²è¡Œä¸²æ¥ã€‚&lt;/p>
&lt;h3 id="é è¨­å¸ƒå±€æ¨¡æ¿">é è¨­å¸ƒå±€æ¨¡æ¿&lt;/h3>
&lt;p>é¦–å…ˆï¼Œå»ºç«‹ä¸€å€‹é è¨­å¸ƒå±€æ¨¡æ¿ï¼Œæˆ‘å€‘é è¨ˆä½¿æ¯å€‹é é¢æ–¼ä¸Šæ–¹é¡¯ç¤ºå°è¦½åˆ—ï¼Œä¸‹æ–¹å‰‡æ˜¯ä¾æ“šä¸åŒçš„é é¢ä¾†é¡¯ç¤ºï¼Œå¤§æ¦‚å¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">+---------------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +-----------------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> å°è¦½åˆ— &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +-----------------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +-----------------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> ä¸åŒé é¢çš„å…§å®¹é¡¯ç¤ºçš„ä½ç½® &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +-----------------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+---------------------------+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å¯ä»¥å»ºç«‹ä¸€å€‹ &lt;code>default.vue&lt;/code> æ–¼ &lt;code>layouts&lt;/code> ç›®éŒ„ä¸­ï¼Œä½œç‚ºé è¨­çš„ä½ˆå±€æ¨¡æ¿ï¼Œæ¨¡æ¿å…§ç´„æœƒå¯¦ä½œä¸‹é¢çš„ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">header&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">å°è¦½åˆ—&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">header&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>&amp;lt;header&amp;gt;&lt;/code> è£¡é¢å°±æ˜¯æˆ‘å€‘å¯ä»¥å¯¦ä½œå°è¦½åˆ—çš„ä½ç½®ï¼Œä¸‹æ–¹çš„ &lt;code>&amp;lt;slot /&amp;gt;&lt;/code> æ’æ§½ï¼Œå³æœƒæ˜¯æˆ‘å€‘å¯ä»¥æ”¾ç½®é é¢çš„å®¹å™¨ã€‚&lt;/p>
&lt;p>å®Œæ•´çš„ &lt;code>./layouts/default.vue&lt;/code> ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="layoutsdefaultvue">layouts/default.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">header&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex w-full justify-center px-8 xl:px-0&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">nav&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex w-full max-w-7xl items-center justify-between py-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">aria&lt;/span>&lt;span class="nt">-label&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">TailwindBlog&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex items-center justify-between&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mr-3&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Icon&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;h-12 w-12&amp;#34;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;logos:nuxt-icon&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;hidden h-6 text-2xl font-semibold text-gray-700 sm:block&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Nuxt&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="nx">Blog&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex items-center text-base leading-5&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-row items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-3 py-2 text-gray-700 transition hover:text-emerald-500&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/login&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç™»å…¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">nav&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">header&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useUserStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/stores/user&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useUserStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userProfile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">userStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">profile&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—è¨˜å¾—èª¿æ•´ &lt;code>app.vue&lt;/code> å…§å®¹ï¼Œæ·»åŠ ä¸€å€‹ &lt;code>&amp;lt;NuxtLayout&amp;gt;&lt;/code> å…ƒä»¶ä¾†é¡¯ç¤ºé è¨­çš„å¸ƒå±€æ¨¡æ¿ï¼ŒåŒ…è£¹è‘—çš„ &lt;code>&amp;lt;NuxtPage /&amp;gt;&lt;/code> å³æœƒæ”¾ç½®æ–¼ &lt;code>default.vue&lt;/code> é è¨­æ’æ§½ä¹‹ä¸­ï¼Œå¦‚æ­¤å°±èƒ½é¡¯ç¤ºè·¯ç”±çš„é é¢ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡³æ­¤ï¼Œæˆ‘å€‘å°±å®Œæˆçš„ç¬¬ä¸€å€‹å°è¦½åˆ—ï¼Œå¯ä»¥ç”±å°è¦½åˆ—æä¾›çš„ã€Œç™»å…¥ã€ï¼Œåˆ‡æ›è‡³ç™»å…¥é é¢ï¼Œä¸¦ä¸”åœ¨æ¯å€‹é é¢ä¸­ï¼Œéƒ½ä½¿ç”¨é è¨­çš„å¸ƒå±€æ¨¡æ¿ï¼Œæ‰€ä»¥éƒ½æœƒé¡¯ç¤ºå°è¦½åˆ—ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630283636_1b4a7e4a8d_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å–æ¶ˆæˆ–æ›¿æ›ç‰¹å®šé é¢çš„å¸ƒå±€æ¨¡æ¿">å–æ¶ˆæˆ–æ›¿æ›ç‰¹å®šé é¢çš„å¸ƒå±€æ¨¡æ¿&lt;/h3>
&lt;p>åœ¨&lt;a class="link" href="https://wayneblog.ga/2023-01-14/nuxt-try-nuxt3/#%e5%b8%83%e5%b1%80%e6%a8%a1%e6%9d%bf-layouts" >ã€Nuxt3ã€‘é–‹ç®±å³ç”¨çš„ Nuxt3 ç©è½‰ç­†è¨˜ - Nuxt 3 å¸ƒå±€æ¨¡æ¿ (Layouts)&lt;/a> å…§æœ‰ä»‹ç´¹åˆ°ï¼Œæˆ‘å€‘å¯ä»¥å»ºç«‹å¤šå€‹å¸ƒå±€æ¨¡æ¿ï¼Œè€Œ Nuxt ä¹Ÿæä¾›æˆ‘å€‘å¯ä»¥ç‚ºé é¢å…ƒä»¶å–æ¶ˆä½¿ç”¨æˆ–é¸æ“‡ç‰¹å®šçš„å¸ƒå±€æ¨¡æ¿ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘æƒ³å°‡ç™»å…¥èˆ‡è¨»å†Šé é¢ï¼Œå–æ¶ˆå¥—ç”¨é è¨­çš„å¸ƒå±€æ¨¡æ¿ï¼Œæˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†å‚³å…¥ &lt;code>layout: false&lt;/code> å±¬æ€§ä¾†å–æ¶ˆå¸ƒå±€æ¨¡æ¿çš„ä½¿ç”¨ã€‚&lt;/p>
&lt;p>èª¿æ•´ç™»å…¥é é¢ &lt;code>./pages/login.vue&lt;/code>&lt;/p>
&lt;h5 id="pagesloginvue">pages/login.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layout&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†ï¼Œç™»å…¥é é¢å°‡ä¸æœƒä½¿ç”¨å¸ƒå±€æ¨¡æ¿ï¼Œå°è¦½åˆ—ä¹Ÿå°±ä¸æœƒé¡¯ç¤ºã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629766332_32a030f2f1_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å»ºç«‹ä½¿ç”¨è€…é¸å–®">å»ºç«‹ä½¿ç”¨è€…é¸å–®&lt;/h3>
&lt;p>ç‚ºäº†è±å¯Œå°è¦½åˆ—ï¼Œæˆ‘å€‘å¯ä»¥ç‚ºå·²ç™»å…¥çš„ä½¿ç”¨è€…ï¼Œå»ºç«‹ä¸€å€‹ä½¿ç”¨è€…é ­åƒï¼Œé»æ“Šå¾Œå¯ä»¥é¡¯ç¤ºä½¿ç”¨è€…å°ˆç”¨çš„é¸é …ï¼Œä¾‹å¦‚ç™»å‡ºç­‰åŠŸèƒ½ã€‚&lt;/p>
&lt;h4 id="å®‰è£-headless-ui">å®‰è£ headless UI&lt;/h4>
&lt;p>æˆ‘å€‘çš„ä½¿ç”¨çš„æ˜¯ Tailwind CSS ä¾†åšæ¨£å¼çš„è™•ç†ï¼Œ&lt;a class="link" href="https://headlessui.com/" target="_blank" rel="noopener"
>headless UI&lt;/a> å·²ç¶“å°è£ä¸€äº›å¯¦ç”¨ä¸”å¥½çœ‹çš„å…ƒä»¶ï¼Œå…ƒä»¶åŸºæ–¼ Tailwind CSS å¯ä»¥è®“æˆ‘å€‘çš„é¢¨æ ¼æ›´ä¸€è‡´ï¼Œä¹Ÿèƒ½æ›´å½ˆæ€§çš„è‡ªè¨‚æˆè‡ªå·±å–œæ­¡çš„æ¨£å¼ã€‚&lt;/p>
&lt;p>ä½¿ç”¨ NPM å®‰è£ &lt;code>@headlessui/vue&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D @headlessui/vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D @headlessui/vue&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èª¿æ•´ &lt;code>nuxt.config.ts&lt;/code>ï¼Œå°‡ &lt;code>@headlessui/vue&lt;/code> æ–°å¢è‡³ &lt;code>build.transpile&lt;/code> å±¬æ€§ä¹‹ä¸­ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">build&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">transpile&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@headlessui/vue&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å»ºç«‹ä½¿ç”¨è€…é ­åƒé¸å–®å…ƒä»¶">å»ºç«‹ä½¿ç”¨è€…é ­åƒé¸å–®å…ƒä»¶&lt;/h3>
&lt;p>æ–°å¢ &lt;code>./components/NavigationBar/NavigationBarAvatarMenu.vue&lt;/code> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="componentsnavigationbarnavigationbaravatarmenuvue">components/NavigationBar/NavigationBarAvatarMenu.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Menu&lt;/span> &lt;span class="na">as&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;div&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;relative inline-block text-left&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MenuButton&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;inline-flex w-full justify-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;inline-block h-10 w-10 rounded-full bg-white/90 object-cover object-center p-0.5 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://images.unsplash.com/photo-1577023311546-cdc07a8454d9?ixlib=rb-1.2.1&amp;amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;amp;auto=format&amp;amp;fit=crop&amp;amp;w=128&amp;amp;q=80&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">alt&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ä½¿ç”¨è€…é¸å–®&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">MenuButton&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">transition&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">enter&lt;/span>&lt;span class="nt">-active-class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">transition&lt;/span> &lt;span class="na">duration&lt;/span>&lt;span class="nt">-100&lt;/span> &lt;span class="na">ease&lt;/span>&lt;span class="nt">-out&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">enter&lt;/span>&lt;span class="nt">-from-class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">transform&lt;/span> &lt;span class="na">scale&lt;/span>&lt;span class="nt">-95&lt;/span> &lt;span class="na">opacity&lt;/span>&lt;span class="nt">-0&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">enter&lt;/span>&lt;span class="nt">-to-class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">transform&lt;/span> &lt;span class="na">scale&lt;/span>&lt;span class="nt">-100&lt;/span> &lt;span class="na">opacity&lt;/span>&lt;span class="nt">-100&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">leave&lt;/span>&lt;span class="nt">-active-class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">transition&lt;/span> &lt;span class="na">duration&lt;/span>&lt;span class="nt">-75&lt;/span> &lt;span class="na">ease&lt;/span>&lt;span class="nt">-in&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">leave&lt;/span>&lt;span class="nt">-from-class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">transform&lt;/span> &lt;span class="na">scale&lt;/span>&lt;span class="nt">-100&lt;/span> &lt;span class="na">opacity&lt;/span>&lt;span class="nt">-100&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">leave&lt;/span>&lt;span class="nt">-to-class&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">transform&lt;/span> &lt;span class="na">scale&lt;/span>&lt;span class="nt">-95&lt;/span> &lt;span class="na">opacity&lt;/span>&lt;span class="nt">-0&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MenuItems&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;absolute right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-1 py-1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MenuItem&lt;/span> &lt;span class="nt">v-slot&lt;/span>&lt;span class="s">=&amp;#34;{ active }&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">:&lt;/span>&lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;[
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> active ? &amp;#39;bg-emerald-500 text-white&amp;#39; : &amp;#39;text-gray-900&amp;#39;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;#39;group flex w-full items-center rounded-md px-2 py-2 text-sm&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> ]&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Icon&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">:active&lt;/span>&lt;span class="s">=&amp;#34;active&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mr-2 h-5 w-5 text-emerald-400&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ri:logout-box-line&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">aria&lt;/span>&lt;span class="nt">-hidden&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">true&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç™»å‡º&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">MenuItem&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">MenuItems&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">transition&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Menu&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">Menu&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">MenuButton&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">MenuItems&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">MenuItem&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@headlessui/vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°‡ &lt;code>&amp;lt;NavigationBarAvatarMenu&amp;gt;&lt;/code> å…ƒä»¶æ·»åŠ è‡³å°è¦½åˆ—ä¹‹ä¸­ï¼Œæˆ‘å€‘å°±å¯ä»¥æ“æœ‰ä¸€å€‹ä½¿ç”¨è€…é ­åƒçš„é¸å–®å›‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630283566_d85ef1e3bd_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="çµåˆä½¿ç”¨è€…-store-ä¾†æ§åˆ¶é¡¯ç¤ºçš„æ™‚æ©Ÿ">çµåˆä½¿ç”¨è€… Store ä¾†æ§åˆ¶é¡¯ç¤ºçš„æ™‚æ©Ÿ&lt;/h3>
&lt;p>ä½¿ç”¨è€…é ­åƒé¸å–®çš„å…ƒä»¶æ‡‰è©²æ§åˆ¶æ–¼&lt;code>ä½¿ç”¨è€…ç™»å…¥ä¹‹å¾Œå†é¡¯ç¤º&lt;/code>ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥çµåˆ &lt;strong>Pinia&lt;/strong> é€²è¡Œç‹€æ…‹ç®¡ç†ï¼Œä¾†æª¢æŸ¥ä½¿ç”¨è€…è³‡è¨Šçš„ &lt;strong>store&lt;/strong> æ˜¯å¦å…·æœ‰è³‡æ–™ä¸”ç¬¦åˆæˆ‘å€‘çš„åˆ¤å®šä¾æ“šå†é€²è¡Œé¡¯ç¤ºï¼Œå¦å‰‡ï¼Œæˆ‘å€‘åƒ…éœ€è¦æ¸²æŸ“å‡ºç™»å…¥çš„æŒ‰éˆ•å³å¯ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘å¾ User Store å–å‡ºä½¿ç”¨è€…è³‡è¨Š (Profile)ï¼Œä¸¦åˆ¤æ–·æ˜¯å¦æœ‰ &lt;code>id&lt;/code> ä¾†æ±ºå®šè¦é¡¯ç¤º&lt;strong>ä½¿ç”¨è€…é ­åƒé¸å–®&lt;/strong>æˆ–&lt;strong>ç™»å…¥&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NavigationBarAvatarMenu&lt;/span> &lt;span class="na">v&lt;/span>&lt;span class="nt">-if&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">userProfile&lt;/span>&lt;span class="err">?&lt;/span>&lt;span class="na">.id&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">v&lt;/span>&lt;span class="nt">-else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-3 py-2 text-gray-700 transition hover:text-emerald-500&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/login&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç™»å…¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useUserStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/stores/user&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useUserStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userProfile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">userStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">profile&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ•´å€‹å®Œæˆå¾Œï¼Œä»‹é¢çœ‹èµ·ä¾†å°±æœƒæ¯”è¼ƒä¹¾æ·¨ä¹Ÿç¬¦åˆ&lt;strong>ç™»å…¥&lt;/strong>èˆ‡&lt;strong>æœªç™»å…¥&lt;/strong>æ™‚ï¼Œæ‡‰è©²é¡¯ç¤ºçš„ä»‹é¢æ¨£å­ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629766292_716565c416_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="æ–°å¢éƒ¨è½æ ¼æ–‡ç« ">æ–°å¢éƒ¨è½æ ¼æ–‡ç« &lt;/h3>
&lt;p>ç•¶æˆ‘å€‘è™•ç†å¥½ç™»å…¥å¾Œï¼Œå°±é–‹å¯ä»¥é–‹å§‹ä¾†å¯¦ä½œä½¿ç”¨è€…å»ºç«‹éƒ¨è½æ ¼çš„æ–‡ç« å›‰ï¼&lt;/p>
&lt;h4 id="å»ºç«‹æ–‡ç« è³‡æ–™è¡¨">å»ºç«‹æ–‡ç« è³‡æ–™è¡¨&lt;/h4>
&lt;p>æˆ‘å€‘çš„è³‡æ–™åº«ï¼Œæ˜¯é€é Prisma çš„ Schema ä¾†è‡ªå‹•ç”¢ç”Ÿè³‡æ–™è¡¨ï¼Œæˆ‘å€‘å¯ä»¥å»ºç«‹å¦‚ä¸‹çš„ Schemaï¼Œä¾†ä½œç‚ºå„²å­˜æ–‡ç« å…§å®¹çš„è³‡æ–™è¡¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">model Article {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> id Int @id @default(autoincrement())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> title String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> content String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> cover String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> tags String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> authorId String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> createdAt DateTime @default(now())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> updatedAt DateTime @updatedAt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¬„ä½ç›¸å°ç°¡å–®ï¼Œå„å€‹æ¬„ä½çš„ç”¨é€”èˆ‡èªªæ˜å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>id: æ–‡ç« çš„ IDï¼Œæ¡ç”¨è‡ªå‹•éå¢çš„æ•¸å­—ã€‚&lt;/li>
&lt;li>title: æ–‡ç« çš„æ¨™é¡Œã€‚&lt;/li>
&lt;li>content: æ–‡ç« çš„å…§å®¹ã€‚&lt;/li>
&lt;li>cover: æ–‡ç« çš„å°é¢åœ–ç‰‡ã€‚&lt;/li>
&lt;li>tags: æ–‡ç« çš„æ¨™ç±¤ã€‚&lt;/li>
&lt;li>authorId: å°æ‡‰ &lt;code>User&lt;/code> è³‡æ–™è¡¨çš„ &lt;code>id&lt;/code> æ¬„ä½ï¼Œè¡¨ç¤ºæ–‡ç« çš„ä½œè€…ã€‚&lt;/li>
&lt;li>createdAt: æ–‡ç« å»ºç«‹æ™‚é–“ï¼Œé è¨­ç‚ºæ’å…¥è©²ç­†è³‡æ–™çš„æ™‚é–“ã€‚&lt;/li>
&lt;li>updatedAt: ä½¿ç”¨è€…æ›´æ–°æ–‡ç« è³‡æ–™çš„æ™‚é–“ï¼Œé è¨­ç‚ºæ›´æ–°è©²ç­†è³‡æ–™çš„æ™‚é–“ã€‚&lt;/li>
&lt;/ul>
&lt;p>å¦å¤–ï¼Œæˆ‘æƒ³è®“ &lt;code>Article&lt;/code> å…·æœ‰é—œè¯æ€§ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥ä½¿ç”¨ Prisma æä¾›çš„èªæ³•ï¼Œä¾†å»ºç«‹èˆ‡ &lt;code>User&lt;/code> çš„å¤–éµ (Foreign Key)ï¼Œæœ€å¾Œå®Œæ•´çš„ &lt;code>schema.prisma&lt;/code> å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">// This is your Prisma schema file,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// learn more about it in the docs: https://pris.ly/d/prisma-schema
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">generator client {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> provider = &amp;#34;prisma-client-js&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">datasource db {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> provider = &amp;#34;sqlite&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> url = &amp;#34;file:./dev.db&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">model User {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> id String @id @default(uuid())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> providerName String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> providerUserId String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> nickname String @default(&amp;#34;User&amp;#34;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> email String @unique
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> password String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> avatar String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> emailVerified Boolean @default(false)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> createdAt DateTime @default(now())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> updatedAt DateTime @updatedAt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Article Article[]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">model Article {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> id Int @id @default(autoincrement())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> title String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> content String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> cover String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> tags String
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> authorId String?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> createdAt DateTime @default(now())
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> updatedAt DateTime @updatedAt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> User User? @relation(fields: [authorId], references: [id])
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¨˜å¾—åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œä¾†è®“ Prisma å»ºç«‹æ–°çš„è³‡æ–™è¡¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx prisma db push
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å»ºç«‹æ–°å¢æ–‡ç« çš„-api">å»ºç«‹æ–°å¢æ–‡ç« çš„ API&lt;/h3>
&lt;p>å»ºç«‹ &lt;code>./server/api/manage/articles.post.js&lt;/code>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapimanagearticlespostjs">server/api/manage/articles.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">db&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/server/db&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">auth&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">user&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">user&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">401&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Unauthorized&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">authorId&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">user&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">articleRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createArticle&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cover&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cover&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tags&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">tags&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">authorId&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">articleRecord&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Create article failed. Please try again later.&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">articleRecord&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ•´å€‹ Server API çš„é‹ä½œæµç¨‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>ä½¿ç”¨è€…å°‡æ¬²æ–°å¢çš„æ–‡ç« è³‡æ–™ä»¥ POST ç™¼é€è‡³ &lt;code>/api/manage/article&lt;/code>ï¼Œä¼ºæœå™¨ä¸­é–“ä»¶ï¼Œå°‡æœƒè§£æ JWT ä¾†å¾—åˆ° userã€‚&lt;/li>
&lt;li>åˆ¤æ–· user.id ä¾†æ±ºå®šæ˜¯å¦å…·æœ‰æ¬Šé™ï¼Œå¦‚æœæ­£ç¢ºè§£æ JWTï¼Œè¡¨ç¤ºè«‹æ±‚ç‚ºä¸€å€‹å·²ç™»å…¥çš„ä½¿ç”¨è€…ç™¼é€ï¼Œä¹Ÿå°‡æ”¾è¡Œçµ¦äºˆæ–°å¢æ–‡ç« ã€‚&lt;/li>
&lt;li>è™•ç†å‡½æ•¸å°‡è§£æ Body å…§çš„è³‡æ–™ï¼Œä¸¦å»ºæ§‹å‡ºå¾€è³‡æ–™åº«æ–°å¢æ–‡ç« è¨˜éŒ„çš„å…§å®¹ã€‚&lt;/li>
&lt;li>åˆ¤æ–·æ˜¯å¦æ–°å¢æˆåŠŸï¼Œå›å‚³æ–°å¢çš„æ–‡ç« è³‡æ–™ã€‚&lt;/li>
&lt;/ol>
&lt;p>å»ºç«‹æ–‡ç« çš„ Prisma Client æ“ä½œå¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">async&lt;/span> &lt;span class="nx">createArticle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">articleRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">prisma&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">article&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">create&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cover&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cover&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tags&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">tags&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">authorId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authorId&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">500&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Could not create article. Please try again later.&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">articleRecord&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°±å®Œæˆäº†å»ºç«‹æ–‡ç« çš„ API å›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629766247_47662d0614_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å–å¾—éƒ¨è½æ ¼æ–‡ç« ">å–å¾—éƒ¨è½æ ¼æ–‡ç« &lt;/h3>
&lt;p>ä½¿ç”¨ Prisma Client ä¾†å–å¾—æ–‡ç« ï¼Œä¹Ÿéå¸¸æ–¹ä¾¿ï¼Œå¦‚ä¸‹ç¨‹å¼ç¢¼ï¼Œæˆ‘å€‘å°±èƒ½å–å‡ºæ–‡ç« è³‡æ–™ä¸¦ä»¥å»ºç«‹æ™‚é–“éæ¸›æ’åºå›‰ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">async&lt;/span> &lt;span class="nx">getArticles&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">options&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">articleRecords&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">prisma&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">article&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">findMany&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">orderBy&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">createdAt&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;desc&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">skip&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pageSize&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">page&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pageSize&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="kc">undefined&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">take&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pageSize&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">500&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Could not create user. Please try again later.&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">articleRecords&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>./server/api/articles.get.js&lt;/code> æ˜¯å¯¦ä½œå–å¾—æ–‡ç« çš„ APIï¼Œæˆ‘å€‘æœŸæœ›ä»»ä½•äººéƒ½å¯ä»¥ç€è¦½é€™å€‹éƒ¨è½æ ¼çš„æ–‡ç« ï¼Œæ‰€ä»¥é€™éš» API æˆ‘å€‘ç„¡éœ€é©—è­‰ä½¿ç”¨è€…å³å¯æ”¾è¡Œï¼Œç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiarticlesgetjs">server/api/articles.get.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">db&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/server/db&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">articlesRecord&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">db&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getArticles&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">articlesRecord&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘ä¹Ÿå¯ä»¥åœ¨ &lt;code>./server/api/articles.get.js&lt;/code> è™•ç†å‡½æ•¸å…§ï¼Œæ·»åŠ è³‡æ–™çš„åˆ†é æˆ–ç‚ºæ–‡ç« è³‡æ–™é€²è¡ŒåŠ å·¥ï¼Œä»¥åˆ©å‰ç«¯é¡¯ç¤ºã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630723890_b20d0977bf_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æˆ‘å€‘å»ºç«‹å¥½äº†éƒ¨è½å€‹çš„ç‰ˆé¢ï¼Œæœ‰äº†å°è¦½åˆ—å’Œä½¿ç”¨è€…é¸å–®ï¼Œç¶²ç«™çœ‹èµ·ä¾†ä¹Ÿæ›´å°ˆæ¥­äº†ä¸€äº›ï¼Œçµåˆå¸ƒå±€æ¨¡æ¿ï¼Œæˆ‘å€‘å¯ä»¥æ§åˆ¶æ¯å€‹é é¢æ‰€é¡¯ç¤ºçš„å¸ƒå±€ï¼Œåœ¨æœªä¾†æœ‰æ›´å¤šé é¢çš„æ™‚å€™èƒ½å…·æœ‰å¯æ§æ€§ã€‚æœ€å¾Œä¹Ÿå¯¦ä½œäº†æ–°å¢æ–‡ç« çš„ APIï¼Œå®Œæˆäº†ç¬¬ä¸€ç¯‡æ–‡ç« çš„æ–°å¢èˆ‡ç€è¦½ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="é é¢çš„å°èˆªå®ˆè¡›èˆ‡åˆ‡æ›æ•ˆæœ">é é¢çš„å°èˆªå®ˆè¡›èˆ‡åˆ‡æ›æ•ˆæœ&lt;/h2>
&lt;p>æˆ‘å€‘å®Œæˆäº†æ–°å¢æ–‡ç« çš„é é¢èˆ‡æµç¨‹ï¼Œåœ¨ç¶²ç«™é–‹ç™¼çš„éç¨‹ä¸­ï¼Œæœ‰äº›é é¢æ˜¯å…·æœ‰ç€è¦½çš„é™åˆ¶ï¼Œä¾‹å¦‚ï¼Œæˆ‘å€‘ä¸å¸Œæœ›ä¸€èˆ¬çš„ä½¿ç”¨è€…èƒ½é€²åˆ°ç®¡ç†è€…é é¢å°ˆç”¨çš„é é¢é€²è¡Œæ“ä½œï¼Œé€™æ™‚å€™æˆ‘å€‘å°±éœ€è¦åšä¸€äº›æ¬Šé™çš„é©—è­‰èˆ‡é™åˆ¶ï¼Œåœ¨ Nuxt çš„é é¢æä¾›äº†è·¯ç”±ä¸­é–“ä»¶å¯ä»¥åœ¨æˆ‘å€‘å°èˆªè‡³é é¢ä¹‹å‰ï¼ŒåŸ·è¡Œä¸€äº›è™•ç†å‡½æ•¸ï¼Œå°±å¯¦ä½œ&lt;strong>å°èˆªå®ˆè¡› (Navigations Guards)&lt;/strong> çš„æ•ˆæœã€‚æœ€å¾Œæœƒä»‹ç´¹ä¸€ä¸‹åœ¨ Nuxt 3 æ‰€æä¾›çš„é é¢å’Œå¸ƒå±€åˆ‡æ›æ™‚çš„&lt;strong>é€²åº¦æ¢ (Progress bar)&lt;/strong> èˆ‡&lt;strong>è½‰å ´æ•ˆæœ (Transitions)&lt;/strong>ã€‚&lt;/p>
&lt;h3 id="é é¢é–“çš„å°èˆªå®ˆè¡›">é é¢é–“çš„å°èˆªå®ˆè¡›&lt;/h3>
&lt;h4 id="åªå…è¨±å·²ç™»å…¥ä½¿ç”¨è€…æ–°å¢æ–‡ç« ">åªå…è¨±å·²ç™»å…¥ä½¿ç”¨è€…æ–°å¢æ–‡ç« &lt;/h4>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘æ–°å¢ä¸€å€‹è·¯ç”±ä¸­é–“ä»¶ &lt;code>./middleware/manage-auth.js&lt;/code> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="middlewaremanage-authjs">middleware/manage-auth.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useUserStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/stores/user&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtRouteMiddleware&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">client&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useUserStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">profile&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">navigateTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/login&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">navigateTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨é é¢å…ƒä»¶ä¸­ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†å¥—ç”¨ &lt;code>manage-auth&lt;/code> ä¸­é–“ä»¶ã€‚èª¿æ•´ &lt;code>./pages/manage/articles/create.vue&lt;/code> å…§å®¹ï¼š&lt;/p>
&lt;h5 id="pagesmanagearticlescreatevue">pages/manage/articles/create.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">middleware&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;manage-auth&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘é¦–é æ–°å¢ä¸€å€‹å¯ä»¥å°å‘è‡³ &lt;code>/manage/articles/create&lt;/code> é é¢çš„æŒ‰éˆ•ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-md mt-12 rounded-sm bg-emerald-500 py-2 px-4 font-medium text-white hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/manage/articles/create&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">å‰å¾€æ’°å¯«æ–‡ç« &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘è™•æ–¼æœªç™»å…¥çš„æƒ…æ³ï¼Œé»æ“Šå‰å¾€å¾Œï¼Œæœƒç¶“ç”±ä¸­é–“ä»¶åˆ¤æ–· &lt;code>process.client&lt;/code> æ˜¯å¦æ˜¯åœ¨å®¢æˆ¶ç«¯ï¼Œé€²è€Œå¾ User Store å–å‡ºä½¿ç”¨è€…è³‡è¨Šé€²è¡Œåˆ¤æ–·ï¼Œç•¶ä¸å­˜åœ¨ &lt;code>userStore.profile.id&lt;/code> æ™‚ï¼Œè¡¨ç¤ºæœªç™»å…¥ï¼Œæˆ‘å€‘å°‡å°èˆªè‡³ç™»å…¥é é¢ &lt;code>/login&lt;/code>ï¼›ç•¶ç™»å…¥å®Œæˆå¾Œï¼Œå°±å¯ä»¥ä½¿ç”¨æŒ‰éˆ•æˆåŠŸå°èˆªè‡³æ–°å¢æ–‡ç« çš„é é¢ã€‚å¦‚æœ &lt;code>process.client&lt;/code> ç‚º &lt;code>false&lt;/code>ï¼Œè¡¨ç¤ºå°èˆªæ˜¯åœ¨ä¼ºæœå™¨ç«¯è§¸ç™¼çš„ï¼Œä¾‹å¦‚ï¼Œæˆ‘å€‘ç›´æ¥é€éç¶²å€é€²å…¥æ–°å¢æ–‡ç« é é¢ï¼Œå°‡æœƒä¸€å¾‹è¢«é‡æ–°å°èˆªè‡³é¦–é ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630723865_fe7bb3a049_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="ç™»å…¥å®Œæˆå¾Œå°å›è‡³ç™»å…¥å‰ç€è¦½çš„é é¢">ç™»å…¥å®Œæˆå¾Œå°å›è‡³ç™»å…¥å‰ç€è¦½çš„é é¢&lt;/h4>
&lt;p>ç•¶ä½¿ç”¨è€…åœ¨ç€è¦½ç¶²ç«™æ™‚è¢«å¼•å°æˆ–æº–å‚™ç™»å…¥æ™‚ï¼Œæˆ‘å€‘å¯ä»¥å°‡ä½¿ç”¨è€…ç›®å‰çš„é é¢é€²è¡Œè¨˜éŒ„ï¼Œä»¥ä¾¿ç™»å…¥å®Œæˆå¾Œï¼Œå¯ä»¥é‡æ–°å°å‘è‡³ä½¿ç”¨è€…ç™»å…¥å‰çš„é é¢ï¼Œä»¥æ­¤æä¾›ä½¿ç”¨è€…æ›´æ£’çš„é«”é©—ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘æ–°å¢ä¸€å€‹è·¯ç”±ä¸­é–“ä»¶ &lt;code>./middleware/logged-in-redirect.js&lt;/code> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="middlewarelogged-in-redirectjs">middleware/logged-in-redirect.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtRouteMiddleware&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">from&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">from&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">path&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="nx">from&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">path&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">redirect_to&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">redirectTo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">redirect_to&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">redirectTo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">from&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">redirect_to&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">from&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">redirect_to&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">undefined&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">redirectTo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">from&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fullPath&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">redirect_to&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">redirectTo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">navigateTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹ &lt;code>logged-in-redirect&lt;/code> ä¸­é–“ä»¶çš„è™•ç†é‚è¼¯ï¼Œæˆ‘å€‘æ¥æ”¶ &lt;code>to&lt;/code> èˆ‡ &lt;code>from&lt;/code>ï¼Œåˆ†åˆ¥ç‚ºç›®æ¨™é é¢èˆ‡ä¾†æºé é¢ï¼Œç•¶ä½¿ç”¨è€…ç›®æ¨™é é¢ &lt;code>/login&lt;/code> é‚„æœªå¸¶ä¸Šäº† Query åƒæ•¸ &lt;code>redirect_to&lt;/code>ï¼Œæˆ‘å€‘å°±å°‡ä¾†æºçš„å®Œæ•´è·¯å¾‘æ·»åŠ ä¸Šå» &lt;code>from.fullPath&lt;/code>ï¼Œæœ€å¾Œé€²è¡Œå°å‘ã€‚&lt;/p>
&lt;blockquote>
&lt;p>é€™è£¡éœ€è¦é€²è¡Œåˆ¤æ–· &lt;code>redirect_to&lt;/code>ï¼Œå¦å‰‡æœƒé‡è¤‡ç™¼ç”Ÿé‡æ–°å°å‘ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>åœ¨ç™»å…¥é é¢ä¸­ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†å¥—ç”¨ &lt;code>logged-in-redirect&lt;/code> ä¸­é–“ä»¶ã€‚èª¿æ•´ &lt;code>./pages/login.vue&lt;/code> å…§å®¹ï¼š&lt;/p>
&lt;h5 id="pagesloginvue-1">pages/login.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">middleware&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;logged-in-redirect&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ç™»å…¥å®Œæˆçš„åœ°æ–¹ï¼Œæˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨ &lt;code>navigateTo()&lt;/code> å°å‘è‡³ &lt;code>redirect_to&lt;/code> çµ¦çš„é é¢è·¯å¾‘ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">route&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRoute&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">handleEmailLogin&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">navigateTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">redirect_to&lt;/span> &lt;span class="o">??&lt;/span> &lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®Œæˆå¾Œï¼Œæˆ‘å€‘å¾é¦–é é»æ“Šç™»å…¥å¾Œï¼ç•¶ç™»å…¥å®Œæˆå¾Œå°±æœƒå°å‘å›é¦–é ï¼›è€Œå¾æ–‡ç« é é¢é»æ“Šç™»å…¥ï¼Œå®Œæˆå¾Œå‰‡æœƒå°å‘å›æ–‡ç« é é¢ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630533679_f91d6355c5_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="é é¢è¼‰å…¥é€²åº¦å…ƒä»¶">é é¢è¼‰å…¥é€²åº¦å…ƒä»¶&lt;/h3>
&lt;p>Nuxt 3 æä¾›ä¸€å€‹ &lt;code>&amp;lt;NuxtLoadingIndicator&amp;gt;&lt;/code> å…ƒä»¶ï¼Œç”¨ä½œé é¢å°èˆªå¾Œé¡¯ç¤ºè¼‰å…¥çš„é€²åº¦ï¼Œæœƒåœ¨é é¢ä¸Šæ–¹æœ‰ä¸€å€‹é€²åº¦æ¢ (Progress bar)ã€‚&lt;/p>
&lt;p>åªéœ€è¦å°‡ &lt;code>&amp;lt;NuxtLoadingIndicator&amp;gt;&lt;/code> å…ƒä»¶æ·»åŠ è‡³ &lt;code>app.vue&lt;/code> æˆ–å¸ƒå±€ä¹‹ä¸­ï¼Œèª¿æ•´ &lt;code>app.vue&lt;/code> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="appvue">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLoadingIndicator&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…ƒä»¶å¯ä»¥å‚³å…¥çš„å±¬æ€§ (Props) å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>colorï¼šé€²åº¦æ¢çš„é¡è‰²ï¼Œå¯ä»¥å‚³å…¥CSS æ”¯æ´çš„&lt;code>è‰²ç¢¼&lt;/code>æˆ– &lt;code>repeating-linear-gradient()&lt;/code> å‡½æ•°ï¼Œé è¨­ç‚º &lt;code>repeating-linear-gradient(to right,#00dc82 0%,#34cdfe 50%,#0047e1 100%)&lt;/code>ã€‚&lt;/li>
&lt;li>heightï¼šé€²åº¦æ¢çš„é«˜åº¦æ•¸å€¼ï¼Œå–®ä½ï¼š &lt;code>px&lt;/code>ï¼Œé è¨­å€¼ç‚º &lt;code>3&lt;/code>ã€‚&lt;/li>
&lt;li>durationï¼šé€²åº¦æ¢è¼‰å…¥çš„æŒçºŒæ™‚é–“ï¼Œå–®ä½ï¼š &lt;code>æ¯«ç§’&lt;/code>ï¼Œé è¨­å€¼ç‚º &lt;code>2000&lt;/code>ã€‚&lt;/li>
&lt;li>throttleï¼šé€²åº¦æ¢çš„éš±è—èˆ‡é¡¯ç¤ºï¼Œé™åˆ¶åœ¨ç‰¹å®šæ™‚é–“å…§åƒ…è§¸ç™¼ä¸€æ¬¡ï¼Œå–®ä½ï¼š &lt;code>æ¯«ç§’&lt;/code>ï¼Œé è¨­å€¼ç‚º &lt;code>200&lt;/code>ã€‚&lt;/li>
&lt;/ul>
&lt;p>ç•¶æˆ‘å€‘å¾é¦–é åˆ‡æ›é é¢æ™‚ï¼Œç¶²é ä¸Šæ–¹å°±æœƒå‡ºç¾ä¸€å€‹é€²åº¦æ¢ï¼Œè¡¨ç¤ºé é¢æ­£åœ¨è¼‰å…¥ä¸­ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630763173_598b9351b6_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="é é¢åˆ‡æ›çš„è½‰å ´æ•ˆæœ">é é¢åˆ‡æ›çš„è½‰å ´æ•ˆæœ&lt;/h3>
&lt;p>é™¤äº†è¼‰å…¥çš„é€²åº¦æ¢ï¼Œé é¢åˆ‡æ›ä¹‹é–“ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è½‰å ´æ•ˆæœ (Transitions) ä¾†è®“é é¢ä¹‹é–“çš„éŠœæ¥æ›´æŸ”é †ï¼ŒNuxt åˆ©ç”¨äº† Vue å…§å»ºçš„ &lt;code>&amp;lt;Transition&amp;gt;&lt;/code> å…ƒä»¶ä¾†å¹«åŠ©è™•ç†è½‰å ´å’Œå‹•ç•«ï¼Œç”¨ä»¥éŸ¿æ‡‰ä¸æ–·è®ŠåŒ–çš„é é¢èˆ‡ç‹€æ…‹ã€‚&lt;/p>
&lt;p>Nuxt é è¨­ç‚ºæ‰€æœ‰é é¢ (Pages) éƒ½è¨­ç½®äº†è½‰å ´ï¼Œå¦‚æœè¦å•Ÿç”¨ï¼Œè«‹å°‡ä»¥ä¸‹ CSS æ·»åŠ è‡³ &lt;code>app.vue&lt;/code> ä¸­ï¼š&lt;/p>
&lt;h5 id="appvue-1">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">enter&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">active&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">leave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">active&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">transition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">all&lt;/span> &lt;span class="mf">0.4&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">enter&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">page&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">leave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">to&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">opacity&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">filter&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">blur&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="nx">rem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¯å€‹é é¢çš„ &lt;code>pageTransition&lt;/code> é è¨­å±¬æ€§çš†ç‚º &lt;code>{ name: 'page', mode: 'out-in' }&lt;/code>ï¼Œ&lt;strong>name&lt;/strong> ç‚º &lt;code>page&lt;/code> ä¹Ÿå°±å°æ‡‰äº† CSS é¡åˆ¥çš„é–‹é ­ï¼›&lt;strong>mode&lt;/strong> æœ‰ &lt;strong>in-out&lt;/strong>ã€&lt;strong>out-in&lt;/strong> åŠ &lt;strong>default&lt;/strong> ä¸‰ç¨®åƒæ•¸å¯é¸ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="o">.[&lt;/span>&lt;span class="nt">pageTransition&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">name&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="nt">-enter-active&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">.[&lt;/span>&lt;span class="nt">pageTransition&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">name&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="nt">-leave-active&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">transition&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">all&lt;/span> &lt;span class="mf">0.4&lt;/span>&lt;span class="kt">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">.[&lt;/span>&lt;span class="nt">pageTransition&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">name&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="nt">-enter-from&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">.[&lt;/span>&lt;span class="nt">pageTransition&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">name&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="nt">-leave-to&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">opacity&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">filter&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">blur&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="kt">rem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¥—ç”¨å¥½é é¢çš„è½‰å ´ï¼Œå°±æœƒæœ‰åˆ‡æ›é é¢æ™‚æœ‰æ¨¡ç³Šçš„æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630533604_548626fe62_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="è‡ªè¨‚é é¢çš„è½‰å ´">è‡ªè¨‚é é¢çš„è½‰å ´&lt;/h3>
&lt;p>æ—¢ç„¶çŸ¥é“ &lt;code>pageTransition&lt;/code> çš„ &lt;strong>name&lt;/strong> æœƒå°æ‡‰é é¢è½‰å ´çš„ CSS åç¨±ï¼Œæˆ‘å€‘å°±å¯ä»¥ä¾†è‡ªå®šç¾©æ›´å¤šè½‰å ´ï¼Œè®“ä¸åŒé é¢å¥—ç”¨ä¸åŒçš„æ•ˆæœã€‚&lt;/p>
&lt;p>ä¾‹å¦‚åœ¨ &lt;code>app.vue&lt;/code> æ·»åŠ  &lt;strong>rotate&lt;/strong> ç‚ºå‰ç¶´çš„é¡åˆ¥åç¨± CSSã€‚&lt;/p>
&lt;h5 id="appvue-2">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* ... */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">rotate&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">enter&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">active&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">rotate&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">leave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">active&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">transition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">all&lt;/span> &lt;span class="mf">0.4&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">rotate&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">enter&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nx">rotate&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">leave&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">to&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">opacity&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">transform&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">rotate3d&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">15&lt;/span>&lt;span class="nx">deg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨é é¢ä¸­ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†è¨­å®š &lt;code>pageTransition.name&lt;/code> ç‚º &lt;code>rotate&lt;/code>ã€‚èª¿æ•´ &lt;code>./pages/login.vue&lt;/code> æ·»åŠ å¦‚ä¸‹ç¨‹å¼ç¢¼ã€‚&lt;/p>
&lt;h5 id="pagesloginvue-2">pages/login.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pageTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;rotate&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶é é¢åˆ‡æ›æ™‚ï¼Œçš†æœƒä½¿ç”¨é è¨­çš„æ¨¡ç³Šè½‰å ´æ•ˆæœï¼Œç•¶åˆ‡æ›è‡³ç™»å…¥é é¢å°±æœƒå¥—ç”¨æŒ‡å®šçš„ &lt;code>rotate&lt;/code> é é¢è½‰å ´ï¼Œè€Œæœ‰æ—‹è½‰çš„è½‰å ´æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630763038_308b2983b9_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å¸ƒå±€çš„è½‰å ´æ•ˆæœ">å¸ƒå±€çš„è½‰å ´æ•ˆæœ&lt;/h3>
&lt;p>Nuxt åŒæ¨£ç‚ºæ‰€æœ‰å¸ƒå±€ (Layouts) éƒ½è¨­ç½®äº†è½‰å ´ï¼Œå¦‚æœè¦å•Ÿç”¨ï¼Œè«‹å°‡ä»¥ä¸‹ CSS æ·»åŠ è‡³ &lt;code>app.vue&lt;/code> ä¸­ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">layout-enter-active&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">layout-leave-active&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">transition&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">all&lt;/span> &lt;span class="mf">0.4&lt;/span>&lt;span class="kt">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">layout-enter-from&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">layout-leave-to&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">filter&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">grayscale&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;code>./layouts/teal.vue&lt;/code> å¸ƒå±€ï¼Œç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="layoutstealvue">layouts/teal.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;h-screen bg-teal-50&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°‡ç™»å…¥é é¢çš„å¸ƒå±€å¥—ç”¨ &lt;code>teal&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layout&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;teal&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;code>./layouts/green.vue&lt;/code> å¸ƒå±€ï¼Œç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="layoutsgreenvue">layouts/green.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;h-screen bg-teal-50&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°‡è¨»å†Šé é¢çš„å¸ƒå±€å¥—ç”¨ &lt;code>green&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layout&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;green&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ç™»å…¥é é¢èˆ‡è¨»å†Šé é¢åˆ‡æ›æ™‚ï¼Œå› ç‚ºå…©å€‹é é¢ä½¿ç”¨äº†ä¸åŒçš„å¸ƒå±€ï¼Œå¸ƒå±€çš„è½‰å ´æ•ˆæœï¼Œä½¿èƒŒå½±é¡è‰²æœƒæœ‰ç°éšæ•ˆæœçš„è½‰å ´ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630533474_082235081d_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ä½ ä¹Ÿå¯ä»¥åƒè‡ªè¨‚é é¢è½‰å ´ä¸€æ¨£ï¼Œä¾†ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> è¨­å®š &lt;code>layoutTransition.name&lt;/code> å±¬æ€§ï¼Œä¾†æŒ‡å®šè‡ªè¨‚çš„è½‰å ´æ•ˆæœã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layout&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;green&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layoutTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;slide-in&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç¦ç”¨è½‰å ´æ•ˆæœ">ç¦ç”¨è½‰å ´æ•ˆæœ&lt;/h3>
&lt;p>é é¢èˆ‡å¸ƒå±€çš„è½‰å ´æ•ˆæœï¼Œéƒ½å¯ä»¥é€é &lt;code>definePageMeta&lt;/code> ä¾†è¨­å®š &lt;code>pageTransition&lt;/code> æˆ– &lt;code>layoutTransition&lt;/code> ç‚º &lt;code>false&lt;/code> ä¾†ç¦æ­¢å¥—ç”¨è½‰å ´æ•ˆæœã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pageTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layoutTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å…¨åŸŸé è¨­çš„è½‰å ´æ•ˆæœ">å…¨åŸŸé è¨­çš„è½‰å ´æ•ˆæœ&lt;/h3>
&lt;p>ä½ ä¹Ÿå¯ä»¥åœ¨ &lt;code>nuxt.config.ts&lt;/code> è¨­ç½®é è¨­çš„é é¢èˆ‡è½‰å ´æ•ˆæœï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;h5 id="nuxtconfigts-1">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pageTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;fade&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;out-in&amp;#39;&lt;/span> &lt;span class="c1">// default
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layoutTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;slide&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;out-in&amp;#39;&lt;/span> &lt;span class="c1">// default
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ç„¶è¦å°‡æ‰€æœ‰é é¢èˆ‡å¸ƒå±€é è¨­ç¦ç”¨ä¹Ÿå¯ä»¥è¨­ç½®å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pageTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layoutTransition&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>pageTransition&lt;/code> èˆ‡ &lt;code>layoutTransition&lt;/code> æ¥å—çš„å±¬æ€§å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://vuejs.org/api/built-in-components.html#transition" target="_blank" rel="noopener"
>TransitionProps&lt;/a>ã€‚&lt;/p>
&lt;h3 id="å…ƒä»¶å±¬æ€§å‚³å…¥-transition">å…ƒä»¶å±¬æ€§å‚³å…¥ transition&lt;/h3>
&lt;p>åœ¨ &lt;code>app.vue&lt;/code> ä¸­ä½¿ç”¨ &lt;code>&amp;lt;NuxtPage /&amp;gt;&lt;/code> æ™‚ï¼Œä½ å¯ä»¥å°‡ &lt;strong>TransitionProps&lt;/strong> ä½œç‚ºå…ƒä»¶çš„ Props ä¾†å•Ÿç”¨å…¨åŸŸé è¨­çš„è½‰å ´æ•ˆæœã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="o">:&lt;/span>&lt;span class="na">transition&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> name: &amp;#39;bounce&amp;#39;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> mode: &amp;#39;out-in&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> }&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ç•¶ä½¿ç”¨æ­¤æ–¹æ³•è¨­å®šè½‰å ´æ•ˆæœæ™‚ï¼Œå°±ä¸èƒ½åœ¨é é¢ä¸­ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†è¦†è“‹é€™è£¡çš„é é¢è½‰å ´è¨­ç½®ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ä»¥ä¸Šæˆ‘å€‘ä¸»è¦å¯¦ä½œäº†å°èˆªå®ˆè¡›ï¼Œä¾†ç‚ºç‰¹å®šé é¢æ·»åŠ ç€è¦½çš„æ¬Šé™ï¼Œæˆ‘å€‘é™¤äº†ä½¿ç”¨å®¢æˆ¶ç«¯çš„ User Store é©—è­‰å¤–ï¼Œä¹Ÿå¯ä»¥æ­é… Cookie å†å¾Œç«¯é€²è¡Œé©—è­‰ï¼Œç”šè‡³ç‚ºæ¯å€‹è«‹æ±‚è§£æä½¿ç”¨è€…ï¼Œä¸¦æŸ¥è©¢è³‡æ–™åº«æ˜¯å¦å…·æœ‰æ¬Šé™ç€è¦½ï¼Œä»¥æ­¤ä¾†æ§åˆ¶ä½¿ç”¨è€…ç€è¦½é é¢çš„æ¬Šé™ï¼Œé™¤äº†å‰ç«¯çš„é˜»æ“‹å¤–ï¼Œæ›´é‡è¦çš„æ˜¯å¾Œç«¯ API ä¹Ÿéœ€è¦æ­é…é€²è¡Œæ¬Šé™é©—è­‰ï¼Œæ‰èƒ½æœ‰è¦çš„é˜²æ­¢ç¶²é æ¼æ´ç”¢ç”Ÿï¼Œå¦å‰‡å¯èƒ½æœƒç™¼ç”Ÿï¼Œä½¿ç”¨è€…ç„¡æ¬Šç€è¦½æ–°å¢æˆ–ç®¡ç†çš„é é¢ï¼Œä½†æ˜¯å¯ä»¥é€éæ‰“ API ä¾†é€²è¡Œç›¸é—œæ“ä½œï¼Œé€™æ¨£æ˜¯éå¸¸å±éšªçš„ã€‚æœ€å¾Œï¼Œæˆ‘å€‘å°‡é é¢åˆ‡æ›æ™‚è¨­ç½®äº†é€²åº¦æ¢èˆ‡è½‰å ´æ•ˆæœï¼Œä½¿å¾—æ•´é«”ç¶²ç«™èƒ½æä¾›ä½¿ç”¨è€…æ›´å¥½çš„æ“ä½œé«”é©—ï¼Œæ›´å¤šçš„è½‰å ´è¨­ç½®ï¼Œä¹Ÿå¯ä»¥åƒè€ƒ &lt;a class="link" href="https://nuxt.com/docs/getting-started/transitions" target="_blank" rel="noopener"
>Nuxt å®˜æ–¹æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/wjdesign/ithome-2022-ironman-nuxt3/tree/day23/nuxt-app-blog-navigation-guards" target="_blank" rel="noopener"
>ç¯„ä¾‹ç¨‹å¼ç¢¼ - Nuxt 3 - è¨­ç½®å°èˆªå®ˆè¡›èˆ‡é é¢åˆ‡æ›æ•ˆæœç¯„ä¾‹&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="æ·»åŠ -html-meta-tag">æ·»åŠ  HTML Meta Tag&lt;/h2>
&lt;p>è©³ç´° Nuxt3 æ·»åŠ  HTML Meta Tag çš„èªªæ˜ï¼Œå¯ä»¥åƒè€ƒ &lt;a class="link" href="https://wayneblog.ga/2023-01-14/nuxt-try-nuxt3/#%e6%90%9c%e5%b0%8b%e5%bc%95%e6%93%8e%e6%9c%80%e4%bd%b3%e5%8c%96-seo-%e8%88%87-html-meta-tag" >ã€Nuxt3ã€‘é–‹ç®±å³ç”¨çš„ Nuxt3 ç©è½‰ç­†è¨˜ - æœå°‹å¼•æ“æœ€ä½³åŒ– (SEO) èˆ‡ HTML Meta Tag&lt;/a>ï¼Œé€™é‚Šæˆ‘å€‘èªªæ˜ç‚ºå¯¦ä½œçš„éƒ¨è½æ ¼æ–‡ç« æ·»åŠ  Metaï¼Œèª¿æ•´ &lt;code>./pages/articles/[id].vue&lt;/code> æª”æ¡ˆï¼Œæ·»åŠ ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;h5 id="pagesarticlesidvue">pages/articles/[id].vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">meta&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;description&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">summary&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> | Nuxt 3 Blog`&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;keywords&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">tags&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">property&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;og:title&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> | Nuxt 3 Blog`&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">property&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;og:description&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">summary&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">property&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;og:image&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cover&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">article&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> | Nuxt 3 Blog`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­ &lt;code>article&lt;/code> æ˜¯æˆ‘å€‘å¾ Server API å›å‚³çš„æŒ‡å®šè²¼æ–‡çš„è³‡æ–™ä¸¦å…·æœ‰éŸ¿æ‡‰æ€§ï¼Œæœ€å¾Œçœ‹çœ‹æˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630723575_6dd0823515_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>åœ¨ Nuxt 3 æä¾›äº†ä¸€äº›å¯ä»¥è¨­ç½®ç¶²é å±¬æ€§èˆ‡ &lt;strong>Meta&lt;/strong> çš„çµ„åˆå¼å‡½æ•¸ï¼Œæ›´èƒ½å‹•æ…‹çš„èª¿æ•´èˆ‡éŸ¿æ‡‰ï¼Œçµåˆ SSR è®“é€™äº›æ¨™è¨˜åœ¨ä¼ºæœå™¨ç«¯å°±èƒ½æ¸²æŸ“å‡ºä¾†ï¼Œå°ç¶²ç«™åšæœå°‹å¼•æ“æœ€ä½³åŒ– (SEO) éå¸¸å¾—å‹å–„ï¼Œä¹Ÿæ˜¯å¤šæ•¸äººé¸æ“‡ Nuxt 3 ä¾†è™•ç† SSR èˆ‡ SEO çš„åŸå› ã€‚é™¤äº† SEO å¯èƒ½æœƒä½¿ç”¨åˆ°çš„çš„æ¨™è¨˜å¤–ï¼Œä¹Ÿæœ‰ &lt;strong>OG Tag&lt;/strong> å¯ä»¥åŠ å¼·ç¶²é çš„é€£çµé è¦½æ•ˆæœï¼Œé›–ç„¶ &lt;strong>OG Tag&lt;/strong> èˆ‡ SEO æ²’æœ‰çµ•å°çš„é—œä¿‚ï¼Œä½†æ˜¯é€éä¼ºæœå™¨ç«¯æ¸²æŸ“èª¿æ•´é€™äº› &lt;strong>Meta&lt;/strong> å°æœå°‹å¼•æ“æˆ–ç¶²ç«™éƒ½éå¸¸çš„æ–¹ä¾¿ï¼Œæˆ‘å€‘åªè¦æ ¹æ“šéœ€æ±‚åŠæŒ‡å¼•åšè¨­å®šï¼Œå°±èƒ½å°ç¶²ç«™çš„èƒ½è¦‹åº¦æœ‰æ‰€æå‡ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="é‚å‘åœ‹éš›åŒ–å¯¦ä½œå¤šåœ‹èªç³»i18n">é‚å‘åœ‹éš›åŒ–å¯¦ä½œå¤šåœ‹èªç³»I18n&lt;/h2>
&lt;p>ç•¶ä¸€å€‹ç¶²ç«™éœ€è¦é¢å‘ä¸åŒåœ‹å®¶æˆ–ä¸åŒèªè¨€çš„ä½¿ç”¨è€…ï¼Œæˆ‘å€‘å°±éœ€è¦åš&lt;strong>åœ‹éš›åŒ– (Internationalization)&lt;/strong>ï¼Œå°‡ç¶²ç«™å…§å®¹é€²è¡Œç¿»è­¯æˆ–èªè¨€çš„å°æ‡‰ï¼Œè®“ä½¿ç”¨è€…èƒ½ç†è§£ç¶²é ä¸Šçš„æ“ä½œæˆ–å…§å®¹ï¼ŒI18n æ„è¬‚è‘—ã€ŒInternationalizationã€é€™å€‹å–®å­—ä¸­ï¼ŒI å’Œ n ä¹‹é–“æœ‰ 18 å€‹å­—æ¯ï¼Œä¹Ÿæ­£æ˜¯å„å€‹æ¡†æ¶çš„å¯¦ä½œå¤šåœ‹èªç³»å¥—ä»¶çš„ä¸€å€‹å¸¸ç”¨åç¨±ï¼Œä¾‹å¦‚ Vue ç”Ÿæ…‹å°±æœ‰ &lt;a class="link" href="https://kazupon.github.io/vue-i18n" target="_blank" rel="noopener"
>vue-i18n&lt;/a>ï¼Œè€Œé€™ç¯‡æ–‡ç« å°‡è¬›è¿°å¦‚ä½•åœ¨ Nuxt 3 ä¸­æ•´åˆ Vue I18n ä¾†å”åŠ©å¯¦ä½œå¤šåœ‹èªç³»ã€‚&lt;/p>
&lt;h3 id="nuxt-3-ä½¿ç”¨-vue-i18n">Nuxt 3 ä½¿ç”¨ Vue I18n&lt;/h3>
&lt;p>æƒ³è¦åœ¨ Vue 3 ä½¿ç”¨ Vue I18n ç²å¾—æ¯”è¼ƒå¥½çš„æ”¯æ´åº¦éœ€è¦ä½¿ç”¨æ­£è™•æ–¼ Beta éšæ®µçš„ &lt;a class="link" href="https://github.com/intlify/vue-i18n-next" target="_blank" rel="noopener"
>v9 ç‰ˆæœ¬&lt;/a>ï¼Œå› æ­¤æœ‰å¹¾ç¨®æ–¹å¼å¯ä»¥åœ¨ Nuxt æ•´åˆ Vue I18nï¼Œåˆ†åˆ¥æ˜¯ä¾ç…§ &lt;a class="link" href="https://vue-i18n.intlify.dev/guide/integrations/nuxt3.html" target="_blank" rel="noopener"
>Vue I18n å®˜æ–¹æŒ‡å¼•&lt;/a>ã€ä½¿ç”¨ Nuxt Communityæä¾›çš„ &lt;a class="link" href="https://github.com/nuxt-modules/i18n/tree/next" target="_blank" rel="noopener"
>@nuxtjs/i18n@next&lt;/a> æ¨¡çµ„åŠ &lt;a class="link" href="https://github.com/intlify/nuxt3" target="_blank" rel="noopener"
>@intlify/nuxt3&lt;/a> æ¨¡çµ„ã€‚&lt;/p>
&lt;p>æ¯”è¼ƒæ—©ä»¥å‰ï¼ŒNuxt 3 ç¤¾ç¾¤æ¨¡çµ„é‚„æ²’æœ‰æ”¯æ´æ¯”è¼ƒæ–°çš„ Vue I18nï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±é¡å¤–çš„è£½ä½œæ’ä»¶ä¾†å®‰è£ï¼Œå¾Œä¾†ä¹Ÿæœ‰ä¸€äº›ç›¸å®¹æ€§çš„å•é¡Œï¼Œæ‰€ä»¥ Vue I18n v9 çš„ä½œè€… &lt;a class="link" href="https://github.com/kazupon" target="_blank" rel="noopener"
>kazupon&lt;/a> ç™¼å¸ƒäº† &lt;a class="link" href="https://github.com/intlify/nuxt3" target="_blank" rel="noopener"
>@intlify/nuxt3&lt;/a> æ¨¡çµ„ä¾†æ–¹ä¾¿ Nuxt 3 æ•´åˆ &lt;a class="link" href="https://github.com/intlify/vue-i18n-next" target="_blank" rel="noopener"
>vue-i18n-next&lt;/a> (Vue I18n v9)ï¼Œç›®å‰ä»ç„¶å¯ä»¥ä½¿ç”¨ &lt;a class="link" href="https://github.com/intlify/nuxt3" target="_blank" rel="noopener"
>@intlify/nuxt3&lt;/a> ä¾†é€²è¡Œæ•´åˆï¼Œä½†æˆ‘æœ€å¾Œé¸æ“‡ä½¿ç”¨ &lt;a class="link" href="https://github.com/nuxt-modules/i18n/tree/next" target="_blank" rel="noopener"
>@nuxtjs/i18n@next&lt;/a> æ¨¡çµ„ï¼Œé™¤äº†çœ‹å¥½æ˜¯ç”± Nuxt Community æä¾›çš„æ”¯æ´åŠæœªä¾†çš„ç™¼å±•å¤–ï¼Œä¹Ÿèƒ½ä½¿ç”¨åˆ° &lt;strong>@nuxtjs/i18n&lt;/strong> æä¾›çš„ä¸€äº›çµ„åˆå‡½æ•¸ç­‰ã€‚&lt;/p>
&lt;h3 id="nuxt-3-æ•´åˆ-nuxtjsi18n">Nuxt 3 æ•´åˆ @nuxtjs/i18n&lt;/h3>
&lt;p>ç›®å‰ &lt;code>@nuxtjs/i18n&lt;/code> æ¨¡çµ„çš„ç©©å®šç‰ˆæœ¬åœ¨ v7.3.0ï¼Œè€Œä½¿ç”¨ Vue 3 å’Œ Vue I18n v9 çš„æ¨¡çµ„å‰‡æ˜¯&lt;a class="link" href="https://github.com/nuxt-modules/i18n/tree/next" target="_blank" rel="noopener"
>ä¸‹ä¸€å€‹è¿­ä»£ç‰ˆæœ¬&lt;/a> v8ï¼Œæ‰€ä»¥ä½¿ç”¨ NPM å®‰è£çš„æ™‚å€™éœ€è¦ç¨å¾®æ³¨æ„ä¸€ä¸‹ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ä¸‹åœ–æ–¼ 2020/10/10 æ“·å–è‡ª &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/i18n?activeTab=versions" target="_blank" rel="noopener"
>NPM - @nuxyjs/i18n&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52658265884_72ff895ee1_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="step-1-å®‰è£-nuxtjsi18n">Step 1. å®‰è£ @nuxtjs/i18n&lt;/h4>
&lt;p>ç›®å‰æœ‰ A æˆ– B å…©ç¨®æ–¹å¼å¯ä»¥å®‰è£ @nuxtjs/i18n v8 åˆ†åˆ¥å¦‚ä¸‹ï¼Œå¯ä»¥é¸æ“‡å…¶ä¸­ä¸€ç¨®å³å¯ï¼š&lt;/p>
&lt;p>&lt;strong>A. ä½¿ç”¨ next æ¨™ç±¤ä¾†å®‰è£ v8 ç‰ˆæœ¬&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D @nuxtjs/i18n@next
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D @nuxtjs/i18n@next&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>B. å®‰è£ @nuxtjs/i18n-edge (Edge Version)&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>æ·»åŠ  &lt;strong>&amp;quot;@nuxtjs/i18n&amp;quot;: &amp;ldquo;npm:@nuxtjs/i18n-edge&amp;rdquo;&lt;/strong> è‡³ &lt;code>package.json&lt;/code> çš„ &lt;code>dependencies&lt;/code> æˆ– &lt;code>devDependencies&lt;/code> ä¾è³´ä¸­ï¼Œçœ‹èµ·ä¾†å¯èƒ½åƒé€™æ¨£ï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;devDependencies&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;@nuxtjs/i18n&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;npm:@nuxtjs/i18n-edge&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>åŸ·è¡Œ npm install&lt;/li>
&lt;/ol>
&lt;p>é€™é‚Šæˆ‘ä½¿ç”¨çš„æ˜¯ç”¨ &lt;code>next&lt;/code> æ¨™ç±¤ä¾†å®‰è£ã€‚&lt;/p>
&lt;h4 id="step-2-æ·»åŠ æ¨¡çµ„">Step 2. æ·»åŠ æ¨¡çµ„&lt;/h4>
&lt;p>æ–¼ &lt;code>nuxt.config.ts&lt;/code> ä¸­çš„ &lt;code>modules&lt;/code> å±¬æ€§æ·»åŠ  &lt;code>'@nuxtjs/i18n'&lt;/code>ï¼Œåƒè€ƒå¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="nuxtconfigts-2">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@nuxtjs/i18n&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-è¨­å®š-i18n-åƒæ•¸">Step 3. è¨­å®š i18n åƒæ•¸&lt;/h4>
&lt;p>ç•¶æ·»åŠ å®Œæ¨¡çµ„å¾Œï¼Œæˆ‘å€‘å¯ä»¥å…ˆè¨­ç½® &lt;strong>@nuxhjs/i18n&lt;/strong> æ¨¡çµ„çš„é¸é …ï¼Œä¾†æ¸¬è©¦æ˜¯å¦èƒ½æ­£å¸¸é‹ä½œï¼Œæ–¼ &lt;code>nuxt.config.ts&lt;/code> ä¸­ï¼Œæ·»åŠ  &lt;code>i18n&lt;/code> å±¬æ€§ï¼Œç”¨ä»¥è¨­ç½®**@nuxhjs/i18n** æ¨¡çµ„ï¼›&lt;code>i18n.vueI18n&lt;/code> è¨­ç½®çš„é¸é …ä¹Ÿå¯ä»¥åƒè€ƒ &lt;a class="link" href="https://vue-i18n.intlify.dev/api/general.html#createi18n" target="_blank" rel="noopener"
>Vue I18n v9 å®˜æ–¹æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts-3">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@nuxtjs/i18n&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">i18n&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vueI18n&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">legacy&lt;/span>: &lt;span class="kt">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">locale&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;zh&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">messages&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">en&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hello&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello!&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">language&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Language&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">zh&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hello&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ä½ å¥½!&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">language&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;èªè¨€&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>è¨˜å¾—è¨­ç½® &lt;code>i18n.vueI18n.legacy&lt;/code> ç‚º &lt;code>false&lt;/code> ä¾†é—œé–‰ä½¿ç”¨è¼ƒèˆŠçš„ API æ¨¡å¼ã€‚&lt;/p>
&lt;/blockquote>
&lt;h4 id="step-4-ç¢ºèªå°ˆæ¡ˆä¸‹çš„-pages-ç›®éŒ„">Step 4. ç¢ºèªå°ˆæ¡ˆä¸‹çš„ pages ç›®éŒ„&lt;/h4>
&lt;p>ç•¶å®Œæˆ Step 3. çš„æ¨¡çµ„è¨­ç½®å¾Œï¼Œå°±å¯ä»¥å•Ÿå‹•ä¼ºæœå™¨ä¾†çœ‹çœ‹æ•ˆæœï¼›ä¸éè‹¥æ˜¯ Nuxt 3 å°ˆæ¡ˆç›®éŒ„ä¸‹ç¼ºå°‘äº† &lt;code>pages&lt;/code> ç›®éŒ„ï¼Œå¯èƒ½æœƒç„¡æ³•å•Ÿç”¨ Vue Router è‡ªå‹•ç”¢ç”Ÿè·¯ç”±ï¼Œè€Œå‡ºç¾ä¸‹åœ–çš„éŒ¯èª¤ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52658429590_5f6755628e_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æˆ‘å€‘åªéœ€è¦æ–°å¢ &lt;code>./pages/ingex.vue&lt;/code> è·¯ç”±é é¢ï¼Œå°±å¯ä»¥è§£æ±ºéŒ¯èª¤å›‰ï¼&lt;/p>
&lt;h3 id="å»ºç«‹è‹±èªå’Œç¹é«”ä¸­æ–‡çš„èªç³»åˆ‡æ›">å»ºç«‹è‹±èªå’Œç¹é«”ä¸­æ–‡çš„èªç³»åˆ‡æ›&lt;/h3>
&lt;p>æˆ‘å€‘å®‰è£èˆ‡é…ç½®å¥½ &lt;strong>@nuxtjs/i18n&lt;/strong> å¾Œï¼Œå¯ä»¥å˜—è©¦å»ºç«‹é é¢ä¾†çœ‹çœ‹æ•ˆæœï¼Œä»¥ä¸‹ä»¥ &lt;code>en&lt;/code> èˆ‡ &lt;code>zh&lt;/code> ä½œç‚ºè‹±èªå’Œç¹é«”ä¸­æ–‡å…©å€‹èªç³»çš„ä½¿ç”¨ç¯„ä¾‹ã€‚&lt;/p>
&lt;p>æ–°å¢ &lt;code>./pages/index.vue&lt;/code> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesindexvue">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-48 text-8xl font-medium text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">$t&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨ &lt;code>$t()&lt;/code> ä¾†å‚³å…¥æˆ‘å€‘åœ¨ &lt;code>nuxt.config.ts&lt;/code> ä¸­çš„ &lt;code>i18n.vueI18n.messages&lt;/code> å®šç¾©èªç³»èˆ‡å°æ‡‰çš„æ–‡å­—ï¼Œè€Œæˆ‘å€‘é è¨­æ˜¯ &lt;code>zh&lt;/code> ç¹é«”ä¸­æ–‡èªç³»ï¼Œç•«é¢ä¸Šå°±å‡ºç¾ &lt;strong>hello: &amp;lsquo;ä½ å¥½!&amp;rsquo;&lt;/strong> å°æ‡‰çš„ã€Œä½ å¥½!ã€æ–‡å­—å›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52657492347_b9e6e46d40_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ–°å¢æŒ‰éˆ•ä¾†å¯¦ç¾åˆ‡æ›ä¸åŒçš„èªç³»ï¼Œå®Œæ•´çš„ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-48 text-8xl font-medium text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">$t&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-24 space-x-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;inline-flex items-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-700 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;setLocale(&amp;#39;en&amp;#39;)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">English&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;inline-flex items-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-700 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;setLocale(&amp;#39;zh&amp;#39;)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç¹é«”ä¸­æ–‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 flex flex-row justify-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">$t&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;language&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ml-4 font-bold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">locale&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥æ²’æœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œåˆ‡æ›èªç³»ä½ å¯ä»¥é¸æ“‡ç›´æ¥è¨­å®š &lt;code>locale&lt;/code> ä¾†è‡ªå‹•éŸ¿æ‡‰æˆ–ä½¿ç”¨ &lt;code>setLocale()&lt;/code> ä¾†è¨­å®šèªç³»ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setLocale&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;en&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// or
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">setLocale&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;en&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®Œæˆå¾Œæˆ‘å€‘å°±å¯ä»¥åˆ‡æ› &lt;code>en&lt;/code> èˆ‡ &lt;code>zh&lt;/code> èªç³»ï¼Œç•¶ç„¶ä½ ä¹Ÿå¯ä»¥è£½ä½œæˆé¸å–®ä¾†æ”¾ç½®æ›´å¤šçš„èªç³»ä¾†æ”¯æ´åˆ‡æ›ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52658265989_72dbc51a8e_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="ç¨ç«‹å­˜æ”¾èªç³»æª”æ¡ˆ">ç¨ç«‹å­˜æ”¾èªç³»æª”æ¡ˆ&lt;/h3>
&lt;p>éš¨è‘—å°ˆæ¡ˆå¢å¤§ï¼Œèªç³»çš„ç¿»è­¯æ•¸é‡ä¹Ÿæœƒå¢å¤šï¼Œè€Œå…¨éƒ¨æ”¾åœ¨ &lt;code>nuxt.config.ts&lt;/code> ä¸­ä¹Ÿå¯¦åœ¨å¤ªéå†—é•·ï¼Œæ‰€ä»¥æˆ‘ç¿’æ…£ç¨ç«‹æ”¾ç½®åœ¨ä¸€å€‹è³‡æ–™å¤¾å…§åšè™•ç†ã€‚&lt;/p>
&lt;p>ç¨å¾®èª¿æ•´ä¸€ä¸‹ &lt;code>nuxt.config.ts&lt;/code> å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="nuxtconfigts-4">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@nuxtjs/i18n&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">i18n&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">defaultLocale&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;zh&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">langDir&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;locales&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">locales&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">code&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;en&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">file&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;en.json&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">iso&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;en-US&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;English&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">code&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;zh&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">file&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;zh.json&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">iso&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;zh-TW&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ç¹é«”ä¸­æ–‡&amp;#39;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">strategy&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;no_prefix&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vueI18n&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">legacy&lt;/span>: &lt;span class="kt">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘å°±å¯ä»¥å»ºç«‹å„å€‹èªç³»æ”¾ç½®çš„è³‡æ–™å¤¾å°æ‡‰è‘— &lt;code>i18n.langDir&lt;/code> å±¬æ€§ï¼Œç›®éŒ„åç¨±ç‚º &lt;code>locales&lt;/code>ï¼Œå†ä¾åºå»ºç«‹ &lt;code>en.json&lt;/code> èˆ‡ &lt;code>zh.json&lt;/code> æª”æ¡ˆï¼Œæœ€çµ‚ç›®éŒ„çš„çµæ§‹å¤§æ¦‚æœƒé•·é€™æ¨£ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nuxt-app/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ locales/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”œâ”€â”€ en.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ zh.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ nuxt.config.ts
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>./locales/en.json å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="localesenjson">locales/en.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hello&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Hello!&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;language&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Language&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>./locales/zh.json å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="localeszhjson">locales/zh.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hello&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;ä½ å¥½!&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;language&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;èªè¨€&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¿»è­¯çš„èªç³»æª”æ¡ˆï¼Œä¹Ÿå¯ä»¥åœ¨æ ¹æ“šéœ€æ±‚ä½¿ç”¨ &lt;strong>.js&lt;/strong>ã€&lt;strong>yaml&lt;/strong> æˆ– &lt;strong>json&lt;/strong> æ ¼å¼çš„æª”æ¡ˆï¼Œä¾†æ­é…æ¥å—åƒæ•¸ä¾†ç”¢ç”Ÿç¿»è­¯æ–‡å­—ã€‚&lt;/p>
&lt;h3 id="æŒä¹…åŒ–èªç³»è¨­å®š">æŒä¹…åŒ–èªç³»è¨­å®š&lt;/h3>
&lt;p>ç•¶ä½¿ç”¨è€…åˆ‡æ›èªç³»ä¹‹å¾Œï¼Œæˆ‘å€‘å¸Œæœ›å„²å­˜é€™å€‹èªç³»è¨­å®šï¼Œè®“ä½¿ç”¨è€…ä¸‹æ¬¡ç€è¦½ç¶²ç«™æ™‚ï¼Œèƒ½å¥—ç”¨å„²å­˜çš„èªç³»ï¼Œè€Œä¸ç”¨å†æ¬¡åˆ‡æ›ï¼Œæˆ‘å€‘å¯ä»¥è—‰ç”±ç€è¦½å™¨çš„ &lt;strong>LocalStorage&lt;/strong> æˆ– &lt;strong>Cookie&lt;/strong> ä¾†æŒä¹…åŒ–ã€‚&lt;/p>
&lt;h4 id="localstorage-ä¾†å„²å­˜èªç³»è¨­å®š">LocalStorage ä¾†å„²å­˜èªç³»è¨­å®š&lt;/h4>
&lt;p>æˆ‘å€‘å¯ä»¥åœ¨è®Šæ›´èªç³»æ™‚ï¼ŒåŒæ™‚å°‡èªç³»å„²å­˜è‡³ LocalStorage ä¹‹ä¸­ï¼Œä¸‹æ¬¡ç€è¦½ç¶²ç«™æ™‚ï¼Œå†å¾ä¸­å–å‡ºå¥—ç”¨èªç³»ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘èª¿æ•´ &lt;code>./pages/index.vue&lt;/code> ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼Œåœ¨æˆ‘å€‘è‡ªè¨‚çš„ &lt;code>changeLanguage()&lt;/code> æ–¹æ³•å…§ï¼ŒåŒæ™‚å‘¼å« &lt;code>localStorage.setItem('i18n-lang', localeCode)&lt;/code> ä¾†å„²å­˜èªç³»ã€‚&lt;/p>
&lt;h5 id="pagesindexvue-1">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-48 text-8xl font-medium text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">$t&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-24 space-x-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">v-for&lt;/span>&lt;span class="s">=&amp;#34;localeItem in locales&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> :key=&amp;#34;localeItem.code&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> type=&amp;#34;button&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> class=&amp;#34;inline-flex items-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-700 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> @click=&amp;#34;changeLanguage(localeItem.code)&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> {{ localeItem.name }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;/button&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;/div&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;div class=&amp;#34;mt-4 flex flex-row justify-center&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;label class=&amp;#34;text-gray-600&amp;#34;&amp;gt;{{ $t(&amp;#39;language&amp;#39;) }}&amp;lt;/label&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;span class=&amp;#34;ml-4 font-bold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="na">locale&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">locales&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">changeLanguage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">localeCode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">localStorage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setItem&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;i18n-lang&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èª¿æ•´ &lt;code>app.vue&lt;/code> å¾ LocalStorage è®€å– &lt;code>i18n-lang&lt;/code> çš„è¨­å®šå€¼&lt;/p>
&lt;h5 id="appvue-3">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">defaultLocaleCode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">client&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">localStorage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getItem&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;i18n-lang&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">??&lt;/span> &lt;span class="nx">defaultLocaleCode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ä¸‹æ¬¡æˆ‘å€‘ç€è¦½ç¶²ç«™æ™‚ï¼Œå°±æœƒæŸ¥çœ‹ LocalStorage ä¸­çš„èªç³»è¨­å®šä¸¦å¥—ç”¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52657982231_da9975d14a_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="cookie-ä¾†å„²å­˜èªç³»è¨­å®š">Cookie ä¾†å„²å­˜èªç³»è¨­å®š&lt;/h4>
&lt;p>Nuxt 3 çš„ä¼ºæœå™¨æ¸²æŸ“ï¼Œæœƒå°è‡´ç¬¬ä¸€æ¬¡çš„è«‹æ±‚ç„¡æ³•åœ¨ä¼ºæœå™¨ç«¯å–å¾— LocalStorage çš„è¨­å®šï¼Œæ‰€ä»¥ä¸Šé¢çš„ä¾‹å­ï¼Œä»”ç´°çœ‹æœƒç™¼ç¾ï¼Œé›–ç„¶æ­£ç¢ºçš„å¥—ç”¨å„²å­˜çš„ &lt;code>en&lt;/code> è‹±èªèªç³»è¨­å®šï¼Œä½†ç•«é¢æ˜¯å…ˆå¾é è¨­çš„ &lt;code>zh&lt;/code> ç¹é«”ä¸­æ–‡å†åˆ‡æ›éå»ï¼Œå°è‡´èªç³»åˆ‡æ›æ™‚é–ƒäº†ä¸€ä¸‹ã€‚&lt;/p>
&lt;p>æˆ‘å€‘å¯ä»¥é€éä½¿ç”¨ cookie çš„æ–¹å¼ä¾†å„²å­˜èªç³»ï¼Œé€™æ¨£ä¼ºæœå™¨ç«¯åœ¨æ¥å—ç¬¬ä¸€æ¬¡è«‹æ±‚æ™‚ä¹Ÿèƒ½è§£æå‡ºä½¿ç”¨è€…çš„åå¥½è¨­å®šï¼Œå›å‚³æ­£ç¢ºçš„èªç³»ç¿»è­¯æ–‡å­—ã€‚&lt;/p>
&lt;p>ä½ å¯ä»¥è‡ªå·±ä½¿ç”¨ Nuxt 3 æä¾› useCookie ç­‰æ–¹å¼æ“ä½œ cookie ä¾†å¯¦ç¾é€™å¥—æµç¨‹ï¼Œä¸éå‘¢ï¼Œ&lt;strong>@nuxtjs/i18n&lt;/strong> æ¨¡çµ„é è¨­æ˜¯å•Ÿç”¨ cookie ç›¸é—œçš„è¨­å®šï¼Œæä¾›çš„ &lt;code>setLocaleCookie()&lt;/code> èˆ‡ &lt;code>getLocaleCookie()&lt;/code> å¯ä»¥ä¾†å”åŠ©å„²å­˜èªç³»è¨­å®šè‡³ cookieã€‚&lt;/p>
&lt;p>èª¿æ•´ &lt;code>./pages/index.vue&lt;/code> ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼Œåœ¨æˆ‘å€‘è‡ªè¨‚çš„ &lt;code>changeLanguage()&lt;/code> æ–¹æ³•å…§ï¼ŒåŒæ™‚å‘¼å« &lt;code>setLocaleCookie(localeCode)&lt;/code> ä¾†å„²å­˜èªç³»ã€‚&lt;/p>
&lt;h5 id="pagesindexvue-2">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-48 text-8xl font-medium text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">$t&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-24 space-x-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">v-for&lt;/span>&lt;span class="s">=&amp;#34;localeItem in locales&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> :key=&amp;#34;localeItem.code&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> type=&amp;#34;button&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> class=&amp;#34;inline-flex items-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-700 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> @click=&amp;#34;changeLanguage(localeItem.code)&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> {{ localeItem.name }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;/button&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;/div&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;div class=&amp;#34;mt-4 flex flex-row justify-center&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;label class=&amp;#34;text-gray-600&amp;#34;&amp;gt;{{ $t(&amp;#39;language&amp;#39;) }}&amp;lt;/label&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;span class=&amp;#34;ml-4 font-bold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="na">locale&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">locales&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setLocaleCookie&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">changeLanguage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">localeCode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setLocaleCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èª¿æ•´ &lt;code>app.vue&lt;/code> å‘¼å« &lt;code>getLocaleCookie()&lt;/code> å¾ cookie è§£æçš„è¨­å®šå€¼ï¼Œä¸¦å†é€²è¡Œå¥—ç”¨ã€‚&lt;/p>
&lt;h5 id="appvue-4">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">getLocaleCookie&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">defaultLocaleCode&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getLocaleCookie&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">??&lt;/span> &lt;span class="nx">defaultLocaleCode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘ä½¿ç”¨ &lt;code>setLocaleCookie()&lt;/code> å„²å­˜èªç³»è‡³ cookieï¼Œæœƒå°‡ localeCode å„²å­˜åœ¨ cookie çš„ &lt;code>i18n_redirected&lt;/code> å€¼ä¸Šï¼Œç•¶æˆ‘å€‘é‡æ–°é€²å…¥ç¶²é ï¼Œcookie ä¹Ÿå°‡è‡ªå‹•å¤¾å¸¶äº†é€™å€‹ cookie éå»çµ¦ä¼ºæœå™¨ç«¯ï¼Œä¸¦ç”± &lt;code>getLocaleCookie()&lt;/code> è§£æå†ç”±æˆ‘å€‘é€²è¡Œèªç³»å¥—ç”¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52657492437_ee15a398eb_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å…¶å¯¦ &lt;strong>@nuxtjs/i18n&lt;/strong> å› ç‚ºå·²å°‡ detectBrowserLanguage.useCookie é è¨­ç‚º true ç­‰å•Ÿç”¨äº† cookie å„²å­˜çš„ç›¸é—œè¨­å®šï¼Œç•¶ä½¿ç”¨è€…é€²å…¥ç¶²ç«™æ™‚ï¼Œå°±æœƒå˜—è©¦æª¢æŸ¥ç€è¦½å™¨çš„ cookie ä¾†å°‡ä½¿ç”¨è€…å„²å­˜çš„åå¥½èªè¨€é€²è¡Œå¥—ç”¨æˆ–é‡å®šå‘ã€‚&lt;/p>
&lt;p>å› æ­¤ï¼Œæˆ‘å€‘åœ¨ &lt;code>app.vue&lt;/code> ä¹Ÿä¸éœ€è¦ç‰¹åˆ¥å¾ cookie å–å‡ºå†é€²è¡Œå¥—ç”¨ï¼Œ&lt;strong>@nuxtjs/i18n&lt;/strong> æœƒè‡ªå‹•å¹«æˆ‘å€‘å®Œæˆã€‚&lt;/p>
&lt;h5 id="appvue-5">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// é™¤éä½ æœ‰ç‰¹éœ€çš„éœ€æ±‚ï¼Œä¸ç„¶é€™é‚Šéƒ½ä¸éœ€è¦è‡ªå·±ä¾†äº†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// import { useI18n } from &amp;#39;vue-i18n&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// const { locale, getLocaleCookie } = useI18n()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// const defaultLocaleCode = locale.value
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// locale.value = getLocaleCookie() ?? defaultLocaleCode
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œç•¶ä½¿ç”¨è€…èª¿æ•´èªç³»æ™‚ï¼Œåœ¨ç¬¬ä¸€å€‹ç¯„ä¾‹æœ‰æåˆ°ï¼Œå¦‚æœæ²’æœ‰ç‰¹åˆ¥éœ€æ±‚ï¼Œæˆ‘å€‘å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;code>locale&lt;/code> ä¾†è¨­å®šèªç³»ï¼Œä¾†è‡ªå‹•éŸ¿æ‡‰è®Šæ›´èªç³»ï¼Œå†ä½¿ç”¨ &lt;code>setLocaleCookie(localeCode)&lt;/code> å°‡èªç³»ä¿å­˜è‡³ cookie ä¹‹å…§ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">locales&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setLocaleCookie&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">changeLanguage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">localeCode&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setLocaleCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†æˆ‘å€‘åªè¦ä½¿ç”¨ &lt;code>setLocal()&lt;/code> æ–¹æ³•ä¾†å¥—ç”¨èªç³»ï¼Œå°±æœƒä¸€åŒæ›´æ–°è‡³ cookie ä¸­é€²è¡Œå„²å­˜ï¼Œéå¸¸æ–¹ä¾¿ã€‚æœ€å¾Œæˆ‘å€‘å°‡ &lt;code>./pages/index.vue&lt;/code> ä¸­çš„ èª¿æ•´å¦‚ä¸‹ï¼Œä¸€æ¨£å¯ä»¥é”åˆ°åœ¨ cookie ä¸­å„²å­˜ä½¿ç”¨è€…èªç³»ä¸¦åœ¨ä¸‹æ¬¡ç€è¦½ç¶²é æ™‚è‡ªå‹•å¥—ç”¨ã€‚&lt;/p>
&lt;h5 id="pagesindexvue-3">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useI18n&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-i18n&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">locale&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">locales&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">setLocale&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useI18n&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">changeLanguage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setLocale&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">localeCode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>setLocaleCookie()&lt;/code> èˆ‡ &lt;code>getLocaleCookie()&lt;/code> æ“ä½œçš„é è¨­è¨­å®šï¼Œæˆ‘å€‘å¯ä»¥é€é &lt;code>nuxt.config.ts&lt;/code> ä¸­çš„ &lt;code>i18n.detectBrowserLanguage&lt;/code> é€²è¡Œèª¿æ•´ï¼Œä¾‹å¦‚ï¼Œèª¿æ•´ &lt;code>cookieKey&lt;/code> ä¾†è®Šæ›´å„²å­˜çš„åç¨± &lt;code>i18n_redirected&lt;/code> ç­‰ï¼Œæ›´å¤šé¸é …å¯ä»¥&lt;a class="link" href="https://v8.i18n.nuxtjs.org/options/browser/" target="_blank" rel="noopener"
>åƒè€ƒé€™è£¡&lt;/a>ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts-5">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@nuxtjs/i18n&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">i18n&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">detectBrowserLanguage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useCookie&lt;/span>: &lt;span class="kt">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cookieKey&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;i18n_redirected&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>@nuxtjs/i18n&lt;/strong> æ¨¡çµ„æä¾›çš„ cookie æ“ä½œèªç³»æŒä¹…åŒ–ï¼Œç”šè‡³èƒ½åšåˆ°ä¸€äº›é‡å°å‘ç­‰è¡Œç‚ºï¼Œè¼ƒ Nuxt 3 æä¾› useCookie ç­‰æ–¹å¼è‡ªå·±ä¾†å¯¦ç¾é€™å¥—æµç¨‹èƒ½æ›´æ“æœ‰æ›´å¤šåŠŸèƒ½ã€‚&lt;/p>
&lt;hr>
&lt;p>&lt;a class="link" href="https://github.com/wjdesign/ithome-2022-ironman-nuxt3/tree/day24/nuxt-app-meta" target="_blank" rel="noopener"
>ç¯„ä¾‹ç¨‹å¼ç¢¼ - Nuxt 3 - æœå°‹å¼•æ“æœ€ä½³åŒ– (SEO) ä¹‹è¨­å®šç¶²é  Meta åŠ OG Tag ç¯„ä¾‹&lt;/a>&lt;/p>
&lt;hr></description></item><item><title>ã€Nuxt3ã€‘é–‹ç®±å³ç”¨çš„ Nuxt3 ç©è½‰ç­†è¨˜</title><link>https://wayneblog.ga/2023-01-14/nuxt-try-nuxt3/</link><pubDate>Sat, 14 Jan 2023 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2023-01-14/nuxt-try-nuxt3/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52616698791_b7b8bbce05_o.jpg" alt="Featured image of post ã€Nuxt3ã€‘é–‹ç®±å³ç”¨çš„ Nuxt3 ç©è½‰ç­†è¨˜" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://medium.com/@mjackson/universal-javascript-4761051b7ae9" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/articles/10292483" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://github.com/wjdesign/ithome-2022-ironman-nuxt3" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/users/20152617/ironman/5934" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>åœ¨ä½¿ç”¨ Vue 3 é–‹ç™¼ç¶²ç«™å¯èƒ½æœƒé¢è‡¨éœ€è¦åš SEO çš„æƒ…å¢ƒï¼Œç‚ºäº†è§£æ±ºè©²æƒ…å¢ƒå•é¡Œï¼Œä½ å¯èƒ½æœƒæ‰¾åˆ°ä½¿ç”¨ Vite åšé æ¸²æŸ“æˆ–å…¶ä»–æ–¹å¼ï¼Œ&lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> ä¹Ÿæ˜¯å…¶ä¸­ä¸€å€‹è§£æ±ºæ–¹æ¡ˆï¼Œä¸”æœ‰æ›´å¤šå¼·å¤§çš„åŠŸèƒ½ï¼Œç›®å‰ &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> å·²ç¶“æ­£å¼ç™¼å¸ƒç©©å®šç‰ˆï¼Œå°±è®“æˆ‘å€‘é–‹å§‹å˜—é®®ä¸Šæ‰‹å§ï¼&lt;/p>
&lt;p>æœ¬ç¯‡æœƒè‘—é‡åœ¨ &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> çš„ç‰¹è‰²èˆ‡åŠŸèƒ½å­¸ç¿’ï¼Œæ‰€ä»¥ä½ å¯èƒ½éœ€å…·å‚™äº› Vue 3 åŸºç¤ï¼Œæˆ‘å°‡å¾æ­å»º &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> é–‹ç™¼ç’°å¢ƒã€é é¢è·¯ç”±èˆ‡ä½ˆå±€ä¸€ç›´åˆ°ä½¿ç”¨ &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> å»ºç«‹ SEO æ‰€éœ€çš„è³‡è¨Šåšäº›ç­†è¨˜åŠä»‹ç´¹ï¼Œè®“ä½ æœ‰å€‹æ¦‚å¿µä¸¦å˜—è©¦ç”¨ Nuxt 3 ä¾†åš SSR æˆ– SSGï¼Œé€²è€Œè§£æ±º Vue 3 SPA ä¸å¥½åš SEO çš„å•é¡Œã€‚&lt;/p>
&lt;hr>
&lt;h2 id="nuxt-3-ä»‹ç´¹">Nuxt 3 ä»‹ç´¹&lt;/h2>
&lt;h3 id="å‰è¨€">å‰è¨€&lt;/h3>
&lt;p>æ¡ç”¨ SSR + SPAï¼Œå°‡ç¬¬ä¸€å€‹ç•«é¢é€é SSR ç”¢ç”Ÿï¼Œå…¶ä»–å°±äº¤çµ¦ CSR ä¾†åšè™•ç†ï¼Œæ—¢èƒ½å…¼å…· SEO é‚„èƒ½æ“æœ‰ SPA çš„ä½¿ç”¨è€…é«”é©—ï¼Œä¸æ˜¯å¾ˆå®Œç¾å—ï¼Ÿæ²’æœ‰éŒ¯ï¼Œä½†åœ¨æ²’æœ‰ä»»ä½•æ¡†æ¶è¼”åŠ©ä¹‹ä¸‹ï¼ŒåŒä¸€å€‹é é¢ä½ å¯èƒ½å°±éœ€è¦å¯¦ä½œå…©æ¬¡ç¨‹å¼ç¢¼ï¼Œä¹Ÿå°±æ˜¯å‰å¾Œç«¯å„ä¸€æ¬¡çš„æ¸²æŸ“é‚è¼¯ï¼Œé€™ä¹Ÿå°±æ˜¯ç›¸æ‡‰çš„ä»£åƒ¹ã€‚åœ¨ä»‹ç´¹ Nuxt 3 ä¹‹å‰å°±ç¨å¾®æä¸€ä¸‹ &lt;strong>Isomorphic JavaScript&lt;/strong> èˆ‡ &lt;strong>Universal JavaScript&lt;/strong>ã€‚&lt;/p>
&lt;h3 id="isomorphic-javascript-èˆ‡-universal-javascript">Isomorphic JavaScript èˆ‡ Universal JavaScript&lt;/h3>
&lt;h4 id="isomorphic-javascript">Isomorphic JavaScript&lt;/h4>
&lt;p>éš¨è‘— Node.js çš„å‡ºç¾ï¼Œè®“å®¢æˆ¶ç«¯ç€è¦½å™¨ä¹‹å¤–çš„ä¼ºæœå™¨ä¹Ÿèƒ½åŸ·è¡Œ JavaScript ç¨‹å¼ç¢¼ï¼Œä½¿å¾— JavaScript æˆç‚ºä¸€ç¨®åŒæ§‹èªè¨€ (Isomorphic Language)ã€‚Isomorphic JavaScript å³ç¨±ä¹‹ç‚º&lt;strong>åŒæ¨£çš„ JavaScript ç¨‹å¼ç¢¼å¯ä»¥åœ¨å®¢æˆ¶ç«¯åŠä¼ºæœå™¨ç«¯é‹è¡Œ&lt;/strong>ï¼›ä¹Ÿå°±æ˜¯èªªåŒä¸€ä»½ Code é™¤äº†èƒ½åœ¨å‰ç«¯ç€è¦½å™¨ä¹Ÿèƒ½åœ¨å¾Œç«¯åŸ·è¡Œã€‚&lt;/p>
&lt;p>ç„¶è€Œ &lt;code>Isomorphic JavaScript&lt;/code> èˆ‡ &lt;code>Universal JavaScript&lt;/code> çš„åè©å­˜æœ‰ä¸€äº›çˆ­è­°èˆ‡å·®ç•°ï¼Œå¦‚ä»Šï¼Œ&lt;code>Isomorphic JavaScript&lt;/code> å¤šä»¥ç¨±&lt;strong>ç›¸åŒçš„ç¨‹å¼ç¢¼å…ƒä»¶ï¼Œå¯ä»¥åœ¨å®¢æˆ¶ç«¯èˆ‡ä¼ºæœå™¨ç«¯ç”¨ä¾†çµ„è£æˆ–æ¸²æŸ“å‡ºé é¢çš„æŠ€è¡“&lt;/strong>ã€‚&lt;/p>
&lt;h4 id="universal-javascript">Universal JavaScript&lt;/h4>
&lt;p>Michael Jackson çš„&lt;a class="link" href="https://medium.com/@mjackson/universal-javascript-4761051b7ae9" target="_blank" rel="noopener"
>æ–‡ç« &lt;/a>æåˆ°ï¼ŒIsomorphic é€™å€‹è©çš„å«ç¾©ã€Œcorresponding or similar in form and relationsã€ç‚ºå…©å€‹å¯¦é«”ä¸ç›¸åŒï¼Œä½†å…·æœ‰ç›¸ä¼¼çš„æ“ä½œæˆ–å°æ‡‰çš„é—œä¿‚ï¼Œæ›å¥è©±èªªå°±æ˜¯ï¼Œå…©å€‹çœ‹èµ·ä¾†ä¸ä¸€æ¨£çš„ä½¿ç”¨æ–¹æ³•æˆ–èªæ³•ï¼Œä½†æœ€çµ‚çš„åŸ·è¡Œçµæœæ˜¯ä¸€æ¨£çš„ï¼Œä¾‹å¦‚ jQuery æˆ– Zepto æ“ä½œ DOM çš„èªæ³•é•·çš„ä¸å¤§ä¸€æ¨£ï¼Œä½†æ˜¯æœ€çµ‚ä¹Ÿéƒ½æ˜¯å°æ‡‰ JavaScript çš„ &lt;code>document.querySelector&lt;/code> ç­‰æ–¹æ³•ã€‚&lt;/p>
&lt;p>æ‰€ä»¥èªªï¼Œç‚ºäº†æè¿°ç›¸åŒçš„ç¨‹å¼ç¢¼ä½†èƒ½åœ¨ä¸åŒç’°å¢ƒä¸­é‹è¡Œçš„åè©ï¼Œå°±æœ‰äº† &lt;code>Universal JavaScript&lt;/code> ä¸€è©ï¼Œé€™å€‹åå­—å‘Šè¨´äººå€‘ JavaScript å®ƒ&lt;strong>ä¸åƒ…å¯ä»¥åœ¨æœå‹™å™¨å’Œç€è¦½å™¨ä¸Šé‹è¡Œï¼Œé‚„å¯ä»¥åœ¨æœ¬æ©Ÿè¨­å‚™å’ŒåµŒå…¥å¼æ¶æ§‹ä¸Šé‹è¡Œ&lt;/strong>ã€‚&lt;/p>
&lt;p>é‚£éº¼ Isomorphic JavaScript å’Œ Universal JavaScript èˆ‡æˆ‘å€‘åˆæœ‰ä»€éº¼é—œä¿‚å‘¢ï¼Ÿ&lt;/p>
&lt;p>æœ‰çš„ï¼Œå› ç‚º &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> æ­£æ˜¯ä¸€å€‹ &lt;code>Isomorphic JavaScript&lt;/code> æ¡†æ¶ï¼Œ&lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> æ˜¯ç›®å‰ä½ ä½¿ç”¨ Vue 3 åœ¨é–‹ç™¼ç¶²ç«™æ™‚ï¼Œæœƒéœ€è¦æ¡ç”¨ SSR æŠ€è¡“æˆ–å„ªåŒ– SEO å•é¡Œæ‰€å¯ä»¥ä½¿ç”¨çš„è§£æ±ºæ–¹æ¡ˆã€‚&lt;/p>
&lt;h3 id="nuxt-3">Nuxt 3&lt;/h3>
&lt;p>&lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> å®˜æ–¹åœ¨ 2022/11/16 æ­£å¼ç™¼å¸ƒç©©å®šç‰ˆæœ¬ &lt;a class="link" href="https://github.com/nuxt/framework/releases/tag/v3.0.0" target="_blank" rel="noopener"
>Nuxt 3.0 stable&lt;/a>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186163_0145c6b0f2_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> å®˜ç¶²çš„æ¨™èª &lt;code>The Intuitive Web Framework&lt;/code>ï¼Œ&lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> å°‡è®“ä½ æ›´ç›´è¦ºçš„é«”é©—æ··åˆæ¸²æŸ“ç­‰æ–°åŠŸèƒ½ï¼Œè®“åœ¨ä½¿ç”¨ Vue 3 é–‹ç™¼æ™‚è®Šå¾—æ›´åŠ ç°¡å–®ï¼&lt;/p>
&lt;h4 id="nuxt-3-çš„æ–°ç‰¹æ€§">Nuxt 3 çš„æ–°ç‰¹æ€§&lt;/h4>
&lt;p>å¾ &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> å®˜ç¶²çš„æä¾›è¨Šæ¯æ‰€åˆ—ï¼Œç°¡å–®èªªæ˜ä¸€ä¸‹ &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> çš„æ–°ç‰¹æ€§ï¼Œå…±æœ‰ä¸‹åˆ— 12 å€‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188037_f6476e512d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;ul>
&lt;li>Lighterï¼šæ›´è¼•é‡ï¼Œé‡å°ç¾åœ¨ç€è¦½å™¨ï¼Œä¼ºæœå™¨éƒ¨ç½²èˆ‡å®¢æˆ¶ç«¯æ‰“åŒ…èƒ½æ¸›å°‘æœ€é«˜ 75 å€ä¹‹å¤šã€‚&lt;/li>
&lt;li>Fasterï¼šæ›´å¿«é€Ÿï¼Œé€šé Nitro æä¾›æ”¯æŒçš„å‹•æ…‹ä¼ºæœå™¨ç«¯ç¨‹å¼ç¢¼æ‹†åˆ†ä¾†å„ªåŒ–å†·å•Ÿå‹•å•é¡Œã€‚&lt;/li>
&lt;li>Hybirdï¼šå‹•æ…‹çš„éœæ…‹é é¢ç”Ÿæˆå’Œå…¶ä»–é«˜ç´šæ¨¡å¼ï¼Œç¾åœ¨é€™äº›éƒ½å°‡æˆç‚ºå¯èƒ½ã€‚&lt;/li>
&lt;li>Suspenseï¼šåœ¨å°èˆªè§¸ç™¼çš„å‰å¾Œï¼Œçš†å¯ä»¥åœ¨ä»»ä½•å…ƒä»¶ä¸­å–å¾—æ•¸æ“šè³‡æ–™ã€‚&lt;/li>
&lt;li>Composition APIï¼šä½¿ç”¨ Composition API å’Œ Nuxt 3 çš„ Composables å¯¦ç¾çœŸæ­£çš„ç¨‹å¼ç¢¼å¯é‡ç”¨æ€§ã€‚&lt;/li>
&lt;li>Nuxt CLIï¼šå…¨æ–°çš„é›¶ä¾è³´é«”é©—ï¼Œå¹«åŠ©ä½ è¼•é¬†å»ºç«‹å°ˆæ¡ˆèˆ‡æ¨¡çµ„æ•´åˆã€‚&lt;/li>
&lt;li>Nuxt Dev Toolsï¼šå°ˆå±¬é–‹ç™¼é™¤éŒ¯å·¥å…·ï¼Œæä¾›æ›´å¤šçš„è³‡è¨Šèˆ‡å¿«é€Ÿä¿®å¾©ï¼Œè®“å·¥ä½œæ›´é«˜æ•ˆã€‚&lt;/li>
&lt;li>Nuxt Kitï¼šå…·å‚™åŸºæ–¼ TypeScript å’Œè·¨ç‰ˆæœ¬å…¼å®¹æ€§çš„å…¨æ–°æ¨¡çµ„é–‹ç™¼ã€‚&lt;/li>
&lt;li>webpack 5ï¼šæ›´å¿«é€Ÿçš„æ‰“åŒ…æ™‚é–“èˆ‡æ‰“åŒ…å‡ºæ›´å°çš„é«”ç©ï¼Œä¸¦ä¸”ç„¡éœ€ä»»ä½•é…ç½®ã€‚&lt;/li>
&lt;li>Viteï¼šä½¿ç”¨ Vite ä½œç‚ºæ‰“åŒ…å·¥å…·ï¼Œé«”é©—é–ƒé›»èˆ¬å¿«é€Ÿçš„ HMRã€‚&lt;/li>
&lt;li>Vue 3ï¼šå®Œå…¨æ”¯æŒ Vue 3ã€‚&lt;/li>
&lt;li>TypeScriptï¼šä½¿ç”¨ TypeScript èˆ‡ ESM æ§‹å»ºè€Œæˆï¼Œç„¡éœ€é¡å¤–çš„é…ç½®æ­¥é©Ÿã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="nitro">Nitro&lt;/h4>
&lt;p>Nuxt 3 ç”±ä¸€å€‹å…¨æ–°çš„ä¼ºæœå™¨å¼•æ“ &lt;a class="link" href="https://nuxt.com/docs/guide/concepts/server-engine/" target="_blank" rel="noopener"
>Nitro&lt;/a> æä¾›æ”¯æŒï¼Œå®ƒå…·æœ‰ä»¥ä¸‹å¹¾å€‹ç‰¹é»ï¼š&lt;/p>
&lt;ul>
&lt;li>è·¨å¹³å°æ”¯æŒï¼Œæ”¯æŒ Node.js èˆ‡ç€è¦½å™¨ç­‰ã€‚&lt;/li>
&lt;li>Serverless æ”¯æŒã€‚&lt;/li>
&lt;li>API è·¯ç”±ï¼Œä½¿ç”¨ &lt;a class="link" href="https://github.com/unjs/h3" target="_blank" rel="noopener"
>unjs/h3&lt;/a>ã€‚&lt;/li>
&lt;li>è‡ªå‹•ç¨‹å¼ç¢¼æ‹†åˆ† (code-splitting) èˆ‡ç•°æ­¥åŠ è¼‰ chunk (async-loaded chunks)ã€‚&lt;/li>
&lt;li>æ··åˆæ¸²æŸ“æ¨¡å¼ï¼Œä¾›éœæ…‹ (static)èˆ‡ç„¡ä¼ºæœå™¨ (serverless) ç¶²ç«™ã€‚&lt;/li>
&lt;li>é–‹ç™¼ä¼ºæœå™¨ä¸Šçš„ HMR (hot module reloading)ã€‚&lt;/li>
&lt;/ul>
&lt;p>ç°¡å–®ä¾†èªªï¼Œ&lt;a class="link" href="https://nuxt.com/docs/guide/concepts/server-engine/" target="_blank" rel="noopener"
>Nitro&lt;/a> å·²ç¶“æ˜¯ &lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> åŒ…å«çš„å…¨æ–°ä¼ºæœå™¨å¼•æ“ï¼Œç„¡éœ€å†é€²è¡Œé…ç½®ã€‚&lt;a class="link" href="https://nuxt.com/docs/guide/concepts/server-engine/" target="_blank" rel="noopener"
>Nitro&lt;/a> é™¤äº†æ”¯æ´ SPAã€å»ºç«‹éœæ…‹çš„ç¶²ç«™ï¼Œç”šè‡³èƒ½åœ¨å¾Œç«¯æ‰“ API æ™‚ç›´æ¥èª¿ç”¨ç›¸é—œå‡½æ•¸ï¼Œå¾è€Œé™ä½ API Requestï¼Œæ•´é«”ä¾†èªªæ˜¯éå¸¸å¼·å¤§çš„ä¼ºæœå™¨å¼•æ“ã€‚&lt;/p>
&lt;h4 id="nuxt-3-æ¸²æŸ“æ¨¡å¼">Nuxt 3 æ¸²æŸ“æ¨¡å¼&lt;/h4>
&lt;p>&lt;a class="link" href="https://nuxt.com/" target="_blank" rel="noopener"
>Nuxt 3&lt;/a> ç›®å‰æ”¯æ´å…©ç¨®æ¸²æŸ“æ¨¡å¼ï¼Œ&lt;code>Client-side Only Rendering&lt;/code> èˆ‡ &lt;code>Universal Rendering&lt;/code>ã€‚ä¹‹å¾Œå°‡æœƒæ¨å‡ºæ›´å…ˆè¿‘çš„æ¸²æŸ“æ¨¡å¼ï¼Œ&lt;code>æ··åˆæ¸²æŸ“ (Hybrid Rendering)&lt;/code> èˆ‡&lt;code>é‚Šç·£æ¸²æŸ“ (Edge-Side Rendering)&lt;/code>ã€‚&lt;/p>
&lt;ul>
&lt;li>Client-side Only Rendering&lt;/li>
&lt;/ul>
&lt;p>Nuxt 3 è¨­å®šç‚ºè©²æ¨¡å¼ï¼Œå¦‚åŒå–®ç´”ä½¿ç”¨ Vue 3 å»ºç½®å‡ºçš„ SPAï¼Œç€è¦½å™¨ä¸‹è¼‰ä¸¦è¼‰å…¥å®Œ Vue ç¨‹å¼ç¢¼å¾Œï¼Œ&lt;code>æ¸²æŸ“ HTML çš„æ‰€æœ‰å‹•ä½œçš†åœ¨å®¢æˆ¶ç«¯åŸ·è¡Œ&lt;/code>ï¼Œä¹Ÿå°±æ˜¯å®¢æˆ¶ç«¯æ¸²æŸ“ CSRã€‚&lt;/p>
&lt;ul>
&lt;li>Universal Rendering&lt;/li>
&lt;/ul>
&lt;p>Universal Rendering æ˜¯ &lt;code>Nuxt 3 é è¨­çš„æ¸²æŸ“æ¨¡å¼&lt;/code>ï¼Œåœ¨é€™å€‹æ¨¡å¼ä¹‹ä¸‹ï¼Œç„¡è«–é é¢æ˜¯é å…ˆç”¢ç”Ÿä¸¦ç·©å­˜é‚„æ˜¯å‹•æ…‹æ¸²æŸ“ï¼ŒNuxt éƒ½æœƒåœ¨ä¼ºæœå™¨ç’°å¢ƒä¸­åŸ·è¡Œ Vue ç¨‹å¼ç¢¼ï¼Œä¸¦æ¸²æŸ“ HTMLï¼Œä¹Ÿå°±æ˜¯å¦‚åŒ SSRï¼Œä¼ºæœå™¨æœƒå‘ç€è¦½å™¨è¿”å›ä¸€å€‹å®Œæ•´å‘ˆç¾çš„ HTML é é¢ã€‚ç•¶ç€è¦½å™¨å®Œæ•´å‘ˆç¾çš„é é¢å‡ºç¾å¾Œï¼Œä¹Ÿæœƒé–‹å§‹è¼‰å…¥ Vue ç¨‹å¼ç¢¼ï¼Œä»¥å› æ‡‰å¾ŒçºŒçš„å‹•æ…‹é é¢èˆ‡è·¯ç”±è·³è½‰ç­‰ï¼Œå³è½‰æ›ç‚º SPA é–‹å§‹ç”±å®¢æˆ¶ç«¯é€²è¡Œæ¸²æŸ“ã€‚ä¹Ÿå°±æ˜¯èªª Nuxt 3 çš„ &lt;code>Universal Rendering&lt;/code> å³æ˜¯æŒ‡ &lt;code>SSR + SPA&lt;/code>ã€‚&lt;/p>
&lt;ul>
&lt;li>æ··åˆæ¸²æŸ“ (Hybrid Rendering)&lt;/li>
&lt;/ul>
&lt;p>æˆ‘å€‘åœ¨ä½¿ç”¨ Vue é–‹ç™¼ SPA ç¶²ç«™æ™‚ï¼Œé€šå¸¸æ˜¯æœƒè¨­ç½®è·¯ç”± (Route) è®“ç¶²é èƒ½å¤ åˆ°é”ä¸åŒçš„é é¢å†ä¾†è«‹æ±‚è³‡æ–™ï¼Œæ­¤ç‚º CSRã€‚åœ¨ä½¿ç”¨ Nuxt é–‹ç™¼æ™‚èƒ½è®“èƒ½ç¶²ç«™æ“æœ‰ SSR + SPA çš„ Universal Rendering æ¸²æŸ“æ–¹å¼ï¼Œé™¤æ­¤ä¹‹å¤–ï¼ŒNuxt 3 é‚„æä¾›äº†ä¸€ç¨®æ›´å…ˆé€²çš„æ¸²æŸ“æ¨¡å¼â€”â€”&lt;code>æ··åˆæ¸²æŸ“ (Hybrid Rendering)&lt;/code>ï¼Œå¯ä»¥&lt;code>ç‚ºæ¯å€‹è·¯ç”±è¨­ç½®ä¸åŒçš„æ¸²æŸ“èˆ‡ç·©å­˜çš„è¦å‰‡&lt;/code>ï¼Œè®“éƒ¨åˆ†é é¢ä½¿ç”¨ CSR åœ¨å®¢æˆ¶ç«¯é€²è¡Œæ¸²æŸ“ï¼Œå¦ä¸€éƒ¨åˆ†ä½¿ç”¨ SSR åœ¨ä¼ºæœå™¨ç«¯é€²è¡Œæ¸²æŸ“ã€‚&lt;/p>
&lt;ul>
&lt;li>é‚Šç·£æ¸²æŸ“ (Edge-Side Rendering)&lt;/li>
&lt;/ul>
&lt;p>Nitro ç‚º Nuxt 3 æä¾›æ”¯æŒçš„å…¨æ–°ä¼ºæœå™¨ç«¯æ¸²æŸ“å¼•æ“ï¼Œå®ƒç‚º Node.jsã€Denoã€Worker ç­‰æä¾›è·¨å¹³å°çš„æ”¯æŒï¼Œè®“ Nuxt &lt;code>å¯ä»¥åœ¨ CDN Edge Workers é€²è¡Œæ¸²æŸ“&lt;/code>ï¼Œæ•…ç¨±ç‚º&lt;code>é‚Šç·£æ¸²æŸ“ (Edge-Side Rendering)&lt;/code>ï¼Œèƒ½æœ‰æ•ˆåˆ†æ“”åœ¨ä¼ºæœå™¨ç«¯æ¸²æŸ“æ™‚çš„è³‡æºè² è·ï¼Œå°‡å…¶æå‡åˆ°å¦ä¸€å€‹å±¤æ¬¡ï¼Œå¾è€Œæ¸›å°‘ç¶²è·¯å»¶é²åŠæˆæœ¬ã€‚&lt;/p>
&lt;h4 id="nuxt-3-çš„å»ºæ§‹å·¥å…·">Nuxt 3 çš„å»ºæ§‹å·¥å…·&lt;/h4>
&lt;p>Nuxt 3 é è¨­çš„å»ºæ§‹å·¥å…·å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>é è¨­ä½¿ç”¨ &lt;a class="link" href="https://vitejs.dev/" target="_blank" rel="noopener"
>Vite&lt;/a> ä¹Ÿå¯ä»¥åˆ‡æ›æˆ &lt;a class="link" href="https://webpack.js.org/" target="_blank" rel="noopener"
>webpack&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://rollupjs.org/" target="_blank" rel="noopener"
>Rollup&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://postcss.org/" target="_blank" rel="noopener"
>PostCSS&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://esbuild.github.io/" target="_blank" rel="noopener"
>esbuild&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Nuxt 3 å·²ç¶“å¹«æˆ‘å€‘é…ç½®å¥½ä¸€å †è¨­å®šå•¦ï¼ŒçœŸçš„æ˜¯é–‹ç®±å³ç”¨ï¼Œè€Œä¸” Nuxt ä¹Ÿæ”¯æ´ TypeScriptã€‚å¦‚æœèªªçœŸçš„è¦èª¿æ•´é…ç½®ï¼Œä¹Ÿå¯ä»¥å† &lt;code>nuxt.config&lt;/code> ä¸­é€²è¡Œèª¿æ•´ï¼Œéå¸¸æ–¹ä¾¿è²¼å¿ƒã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä½¿ç”¨-nuxi-å»ºç«‹ç¬¬ä¸€å€‹å°ˆæ¡ˆ">ä½¿ç”¨ nuxi å»ºç«‹ç¬¬ä¸€å€‹å°ˆæ¡ˆ&lt;/h2>
&lt;h3 id="ç·šä¸Šç©ç©çœ‹">ç·šä¸Šç©ç©çœ‹&lt;/h3>
&lt;p>å¦‚æœä½ é‚„åœ¨è§€æœ›æˆ–æ˜¯å¾éš”å£æ£šéä¾†çš„ï¼Œé‚„ä¸æƒ³å®‰è£ç›¸é—œå·¥å…·èˆ‡ç’°å¢ƒï¼Œé‚£éº¼å¯ä»¥é»æ“Šä¸‹é¢å…¶ä¸€é€£çµï¼Œåœ¨ StackBlitza æˆ– CodeSandbox çš„ç·šä¸Šç·¨è¼¯å™¨ç’°å¢ƒç¨å¾®ç©ç©ï¼Œç›´æ¥ç·šä¸Šé«”é©— Nuxt 3ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://stackblitz.com/github/nuxt/starter/tree/v3-stackblitz" target="_blank" rel="noopener"
>Play on StackBlitz&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://codesandbox.io/p/github/nuxt/starter/v3-codesandbox" target="_blank" rel="noopener"
>Play on CodeSandbox&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="é–‹å§‹å»ºç«‹ç¬¬ä¸€å€‹å°ˆæ¡ˆ">é–‹å§‹å»ºç«‹ç¬¬ä¸€å€‹å°ˆæ¡ˆ&lt;/h3>
&lt;h4 id="å…ˆæ±ºæ¢ä»¶">å…ˆæ±ºæ¢ä»¶&lt;/h4>
&lt;p>é–‹å§‹ä¹‹å‰ï¼Œä¾ç…§ Nuxt 3 å®˜ç¶²çš„&lt;a class="link" href="https://nuxt.com/docs/getting-started/installation" target="_blank" rel="noopener"
>èµ·æ‰‹å¼&lt;/a>æˆ‘å€‘æœ‰å¹¾å€‹é …ç›®éœ€è¦åšä¸€ä¸‹æª¢æŸ¥ï¼Œæˆ‘å€‘é€™è£¡åƒ…å…ˆæ³¨æ„ä¸€ä¸‹ Node.js çš„ç‰ˆæœ¬ï¼Œå»ºè­°ä½¿ç”¨ç›®å‰&lt;a class="link" href="https://nodejs.org/zh-tw/download/" target="_blank" rel="noopener"
>æœ€æ–° LTS ç‰ˆæœ¬&lt;/a> &lt;code>v16.17.0&lt;/code> (åŒ…å« NPM v8.15.0)ã€‚&lt;/p>
&lt;h4 id="ä½¿ç”¨-nuxi-å»ºç«‹-nuxt-3-å°ˆæ¡ˆ">ä½¿ç”¨ nuxi å»ºç«‹ Nuxt 3 å°ˆæ¡ˆ&lt;/h4>
&lt;p>&lt;a class="link" href="https://www.npmjs.com/package/nuxi" target="_blank" rel="noopener"
>nuxi&lt;/a> å…¨åç‚º &lt;strong>Nuxt Command Line Interface&lt;/strong>ï¼Œæ˜¯ç”± Nuxt æä¾›é–‹ç™¼çš„æ¨™æº–å·¥å…·ï¼ŒNuxt CLI å°±åƒæ˜¯ Vue CLI å¯ä»¥å»ºç«‹ Vue å°ˆæ¡ˆï¼Œæˆ‘å€‘ç•¶ç„¶ä¹Ÿå°±å¯ä»¥ä½¿ç”¨ Nuxt CLI ä¾†å»ºç«‹ Nuxt çš„å°ˆæ¡ˆã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œæ‰“é–‹çµ‚ç«¯æ©Ÿ (Terminal)ï¼Œå°‡ç›®éŒ„åˆ‡æ›è‡³è‡ªå·±ç¿’æ…£çš„å·¥ä½œå€ï¼Œæ¥è‘—è¼¸å…¥å¦‚ä¸‹çš„ nuxi æä¾›æŒ‡ä»¤ä¸¦åŸ·è¡Œï¼Œä¾†åˆå§‹åŒ–å»ºç«‹ä¸€å€‹ Nuxt 3 å°ˆæ¡ˆã€‚åœ¨æ­¤ï¼Œæˆ‘å€‘çš„å°ˆæ¡ˆåç‚º &lt;code>nuxt-app&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx nuxi init nuxt-app
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚ä¸‹åœ–ï¼Œnpx æœƒè©¢å•ä½ æ˜¯å¦å®‰è£æœ€æ–°ç‰ˆæœ¬çš„å¥—ä»¶ &lt;code>nuxi@3.0.0-rc.10&lt;/code> è¼¸å…¥ &lt;code>y&lt;/code> å³å¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616697991_767a632430_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>åŸ·è¡Œå®ŒæŒ‡ä»¤å¾Œç›´åˆ°å‡ºç¾å¦‚ä¸‹æç¤ºï¼Œä»£è¡¨å°ˆæ¡ˆå·²ç¶“åˆå§‹å»ºç«‹æˆåŠŸï¼Œå®Œæˆå¾Œå¯ä»¥ç™¼ç¾ç›®å‰ç›®éŒ„ä¸‹å¤šäº†ä¸€å€‹åç‚º &lt;code>nuxt-app&lt;/code> çš„è³‡æ–™å¤¾ï¼Œé€™å€‹è³‡æ–™å¤¾ä¹Ÿå°±æ˜¯ Nuxt 3 å°ˆæ¡ˆçš„æ ¹ç›®éŒ„ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964239_b438581d8d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘å¯ä»¥é€²å…¥å°ˆæ¡ˆç›®éŒ„ &lt;code>nuxt-app&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> nuxt-app
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ &lt;code>nuxt-app&lt;/code> å°ˆæ¡ˆç›®éŒ„ä¸‹å¯ä»¥çœ‹åˆ°ç†Ÿæ‚‰çš„ &lt;code>package.json&lt;/code>ï¼Œæˆ‘å€‘å°±å¯ä»¥é–‹å§‹å®‰è£ Nuxt 3 å°ˆæ¡ˆçš„ç›¸é—œä¾è³´å¥—ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Nuxt CLI å¦‚åŒ Vue CLI å·²ç¶“åœ¨å»ºç«‹å°ˆæ¡ˆæ™‚å¹«æˆ‘å€‘åˆå§‹å®Œæˆè¨±å¤šäº‹æƒ…ï¼Œå†å®‰è£å®Œç›¸é—œä¾è³´å¥—ä»¶å¾Œè¼¸å…¥ä¸‹åˆ—æŒ‡ä»¤ï¼Œæˆ‘å€‘å°±å¯ä»¥åœ¨é–‹ç™¼ç’°å¢ƒä¸‹å•Ÿå‹• Nuxt äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run dev -- -o
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run dev -- -o&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœæ²’æœ‰æ„å¤–ï¼Œå¯ä»¥çœ‹åˆ° Nitro å¹«æˆ‘å€‘å•Ÿå‹•äº† Nuxt 3 çš„æœå‹™ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186213_f7a11b0b5a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ ¹æ“šæç¤ºï¼Œæˆ‘å€‘å¯ä»¥åœ¨ç€è¦½å™¨è¼¸å…¥ç¶²å€ &lt;a class="link" href="http://localhost:3000/" target="_blank" rel="noopener"
>http://localhost:3000/&lt;/a> çœ‹çœ‹æœå‹™æ˜¯å¦æ­£å¸¸é‹ä½œã€‚&lt;/p>
&lt;p>å¦‚æœçœ‹åˆ°å¦‚ä¸‹åœ–çš„æ­¡è¿ç•«é¢ï¼Œæ­å–œä½ ï¼æˆ‘å€‘å·²ç¶“æˆåŠŸå»ºç«‹ç¬¬ä¸€å€‹ Nuxt 3 å°ˆæ¡ˆå›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964264_faa521ed78_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç¾åœ¨ä½ å¯ä»¥å˜—è©¦æ‰“é–‹åœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹çš„ &lt;code>app.vue&lt;/code> æª”æ¡ˆä¹‹ä¸­ï¼Œ&lt;code>app.vue&lt;/code> æ˜¯æˆ‘å€‘ Nuxt å°ˆæ¡ˆçš„é€²å…¥é»ï¼Œå®ƒçš„å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥ç™¼ç¾å®ƒèˆ‡ Vue 3 çš„å–®ä¸€å…ƒä»¶æª” (Single File Component, SFC) ç›¸æ¯”ï¼Œå¥½åƒå°‘äº†é»ä»€éº¼ï¼Œæ€éº¼æœ‰ç”¨äº† &lt;code>&amp;lt;NuxtWelcome /&amp;gt;&lt;/code> å»æ²’çœ‹è¦‹åœ¨å“ªé‚Š import çš„å‘¢ï¼Ÿ&lt;/p>
&lt;p>å…¶å¯¦å‘¢ï¼Œ&lt;code>&amp;lt;NuxtWelcome /&amp;gt;&lt;/code> é€™å€‹å…ƒä»¶å°±æ˜¯æˆ‘å€‘å‰é¢ç€è¦½å™¨çœ‹åˆ°çš„æ­¡è¿ç•«é¢ï¼Œæ˜¯ Nuxt æ¡†æ¶è‡ªå¸¶çš„ä¸€å€‹å…ƒä»¶ï¼Œè€Œä¸” Nuxt è‡ªå‹•å°å…¥å…ƒä»¶çš„æ›´æ˜¯å…¶ç‰¹è‰²ä¹‹ä¸€ï¼Œå¾Œé¢çš„ç³»åˆ—æˆ‘å€‘æœƒå†æåˆ°&lt;strong>è‡ªå‹•å°å…¥ (Auto Imports)&lt;/strong>ã€‚&lt;/p>
&lt;p>åœ¨é€™è£¡ç›´æ¥ç§»é™¤ &lt;code>&amp;lt;NuxtWelcome /&amp;gt;&lt;/code> å°±å¯ä»¥äº†ï¼Œæˆ‘å€‘å°‡ app.vue èª¿æ•´å¦‚ä¸‹ï¼Œä¸¦ä¿å­˜æª”æ¡ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span> &lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹è¦‹å› ç‚º Nuxt é è¨­ Vite å»ºæ§‹ä¸¦æ”¯æ´ &lt;a class="link" href="https://vitejs.dev/guide/features.html#hot-module-replacement" target="_blank" rel="noopener"
>HMR&lt;/a> (Hot Module Replacement)ï¼Œæˆ‘å€‘å¯ä»¥åœ¨ç€è¦½å™¨å¿«é€Ÿçš„çœ‹è¦‹ä¿®æ”¹å¾Œçš„çµæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698026_1bf03d908a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>è‡³æ­¤ï¼Œå¤§å®¶å°±å¯ä»¥å…ˆç°¡å–®çš„ç©ç© Nuxt 3ï¼Œæ¥ä¸‹ä¾†æˆ‘å°‡è£œå……ä¸€äº› nuxi çš„æŒ‡ä»¤èˆ‡åƒæ•¸ç°¡ä»‹ã€‚&lt;/p>
&lt;h3 id="nuxt-cli-å¸¸ç”¨æŒ‡ä»¤">Nuxt CLI å¸¸ç”¨æŒ‡ä»¤&lt;/h3>
&lt;p>ä»¥ä¸‹å°‡ç°¡å–®ä»‹ç´¹ä¸€äº›å¸¸ç”¨çš„æŒ‡ä»¤ï¼Œè‹¥æ‚¨åœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹è¨˜å¾—ä½¿ç”¨ &lt;code>npx&lt;/code> ä¾†åŸ·è¡Œ &lt;code>nuxi&lt;/code>ã€‚&lt;/p>
&lt;p>å¦å¤–åœ¨æ­¤æé†’ï¼Œä¸‹é¢æ‰€åˆ—çš„æŒ‡ä»¤&lt;code>éƒ¨åˆ†åƒæ•¸æœƒé€²è¡Œçœç•¥&lt;/code>ï¼Œè‹¥æœ‰èˆˆè¶£ç¿»ç¿»å®Œæ•´çš„æŒ‡ä»¤èˆ‡åƒæ•¸èªªæ˜ï¼Œå¯ä»¥åƒè€ƒ &lt;a class="link" href="https://v3.nuxtjs.org/api/commands/add" target="_blank" rel="noopener"
>Nuxt 3 å®˜æ–¹æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;h4 id="nuxi-init">nuxi init&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx nuxi init&lt;span class="p">|&lt;/span>create &lt;span class="o">[&lt;/span>dir&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹ &lt;code>nuxi init&lt;/code> æŒ‡ä»¤æ˜¯ç”¨ä¾†åˆå§‹åŒ–ä¸€å€‹ Nuxt å°ˆæ¡ˆï¼Œç­‰åŒ &lt;code>nuxi create&lt;/code> æŒ‡ä»¤ï¼Œ&lt;code>dir&lt;/code> ä½ å¯ä»¥å¡«å­—ä¸²ä½œç‚ºå°ˆæ¡ˆèˆ‡è³‡æ–™å¤¾åç¨±ï¼Œä¹Ÿå¯ä»¥å¡«å¯«å®Œæ•´è·¯å¾‘ä¾†å»ºç«‹å°ˆæ¡ˆç›®éŒ„ã€‚&lt;/p>
&lt;h4 id="nuxi-dev">nuxi dev&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx nuxi dev &lt;span class="o">[&lt;/span>--open, -o&lt;span class="o">]&lt;/span> &lt;span class="o">[&lt;/span>--port, -p&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘åœ¨æœ¬åœ°ç«¯é€²è¡Œé–‹ç™¼æ™‚ï¼Œéœ€è¦é‹è¡Œé–‹ç™¼ç’°å¢ƒï¼Œç•¶æˆ‘å€‘åŸ·è¡Œ &lt;code>npm run dev -- -o&lt;/code> æ™‚ï¼Œä¾æ“š &lt;code>package.json&lt;/code> ä¸­çš„ scripts æ‰€åˆ—ï¼Œå…¶å¯¦å°±æ˜¯åœ¨åŸ·è¡Œ &lt;code>nuxi dev -o&lt;/code>ï¼Œå…¶ä¸­çš„ &lt;code>-o&lt;/code> è¡¨ç¤º&lt;strong>æœå‹™å•Ÿå‹•å¾Œé–‹å•Ÿç€è¦½å™¨&lt;/strong>ã€‚&lt;/p>
&lt;p>å¦‚æœå•Ÿå‹•æœå‹™ç™¼ç¾ Port è¡çªï¼Œä½ ä¹Ÿå¯ä»¥é€é &lt;code>-p&lt;/code> ä¾†å°‡é è¨­çš„ç›£è½çš„ Port: 3000 èª¿æ•´ç‚ºå…¶ä»–æ•¸å€¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nuxi dev -p &lt;span class="m">3001&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æˆ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># npm run dev -- -o -p 3001&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="nuxi-cleanup">nuxi cleanup&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx nuxi clean&lt;span class="p">|&lt;/span>cleanup
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>nuxi cleanup&lt;/code> ç­‰åŒ &lt;code>nuxi clean&lt;/code> æŒ‡ä»¤ï¼Œç”¨ä¾†åˆªé™¤ Nuxt è‡ªå‹•ç”¢ç”Ÿçš„æª”æ¡ˆå’Œç·©å­˜åŒ…æ‹¬ï¼š&lt;/p>
&lt;ul>
&lt;li>.nuxt&lt;/li>
&lt;li>.output&lt;/li>
&lt;li>node_modules/.vite&lt;/li>
&lt;li>node_modules/.cache&lt;/li>
&lt;/ul>
&lt;h4 id="nuxi-upgrade">nuxi upgrade&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx nuxi upgrade &lt;span class="o">[&lt;/span>--force&lt;span class="p">|&lt;/span>-f&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹æŒ‡ä»¤å¯ä»¥ç”¨ä¾†å°‡ç›®å‰å°ˆæ¡ˆçš„ Nuxt 3 å‡ç´šè‡³æœ€æ–°çš„ç‰ˆæœ¬ï¼Œå¦‚æœæœ‰ä¸€äº›å¯èƒ½è¡Œç‚ºèª¿æ•´æˆ–ä¸ç›¸å®¹çš„æƒ…æ³ï¼Œå¯ä»¥å†ä¾æ“šå¯¦éš›æƒ…å¢ƒæ­é… &lt;code>-f&lt;/code> åƒæ•¸ä¾†å¼·åˆ¶æ›´æ–°ã€‚&lt;/p>
&lt;p>å¦‚ä¸‹åœ–ï¼Œåªè¦ä¸€è¡ŒæŒ‡ä»¤ &lt;code>npx nuxi upgrade&lt;/code> å°±å¯ä»¥å°‡å°ˆæ¡ˆç‰ˆæœ¬ç”± &lt;code>3.0.0-rc.9&lt;/code> å‡ç´šè‡³ &lt;code>3.0.0-rc.10&lt;/code>ï¼Œåœ¨ RC éšæ®µæˆ–ä¹‹å¾Œæƒ³å®šæœŸå‡ç´šç‰ˆæœ¬ä¾†èªªéå¸¸å¥½ç”¨ï¼Œä½†ä¹Ÿè«‹è¨˜å¾—&lt;code>å‡ç´šå‰å¯ä»¥å…ˆçœ‹ä¸€ä¸‹å®˜æ–¹çš„ Changelog&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186283_00309ed597_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="nuxt-3--typescript--eslint--prettier-ç’°å¢ƒå»ºç½®">Nuxt 3 + TypeScript + ESLint + Prettier ç’°å¢ƒå»ºç½®&lt;/h2>
&lt;p>åœ¨æˆ‘å€‘ä½¿ç”¨å®Œ Nuxt CLI å»ºç«‹å®Œå°ˆæ¡ˆå¾Œï¼Œå…¶å¯¦å°±å¯ä»¥é–‹å§‹é€²è¡Œå°ˆæ¡ˆçš„é–‹ç™¼ï¼Œä½†æ˜¯å‘¢ï¼Œç›¸ä¿¡ä¸å°‘äººå°æ–¼ç¨‹å¼ç¢¼çš„æ’ç‰ˆéƒ½æœ‰è‡ªå·±çš„é¢¨æ ¼ï¼Œä¸åŒäººçš„ Coding Style è‚¯å®šä¹Ÿéƒ½ä¸ä¸€æ¨£ï¼Œç„¶è€Œåœ¨åœ˜éšŠå”ä½œéœ€è¦æ¨™æº–æˆ–ç‚ºäº†æ•´é«”ä¸€è‡´ä¸”ç¾è§€ä¸‹ï¼ŒLinter å°±æ˜¯ä½ çš„å¥½å¹«æ‰‹ï¼Œæ­¤å¤–ï¼ŒTypeScript åœ¨ Nuxt 3 å·²ç¶“æœ‰å…§å»ºæ”¯æ´ï¼Œæˆ‘ä¹Ÿå»ºè­°åŠæ¨è–¦ä½¿ç”¨ TypeScriptï¼Œæ¥ä¸‹ä¾†åˆ†äº«æˆ‘è‡ªå·±åœ¨ä½¿ç”¨ Nuxt 3 é–‹ç™¼æ™‚çš„ Linter ç’°å¢ƒé…ç½®ï¼ŒåŒ…å«äº† &lt;code>TypeScript&lt;/code>ã€&lt;code>ESLint&lt;/code> èˆ‡ &lt;code>Prettier&lt;/code>ã€‚&lt;/p>
&lt;h3 id="typescript-é¡å‹æª¢æŸ¥">TypeScript é¡å‹æª¢æŸ¥&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964289_0dbc29572e_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>Nuxt 3 å·²ç¶“æœ‰å…§å»ºæ”¯æ´ TypeScriptï¼Œä¸€äº› TypeScript è¨­å®šéƒ½å¯ä»¥åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹é…ç½® &lt;code>tsconfig.json&lt;/code>ï¼Œä¾‹å¦‚ï¼Œåœ¨é–‹ç™¼éç¨‹ä¸­é‡å° TypeScript æˆ‘æœƒåœ¨é–‹ç™¼ç’°å¢ƒä¸‹å•Ÿå‹•é¡å‹æª¢æŸ¥ï¼Œå¯ä»¥åƒè€ƒä»¥ä¸‹é€²è¡Œé…ç½®ã€‚&lt;/p>
&lt;h4 id="step-1-å®‰è£-vs-code-æ’ä»¶">Step 1. å®‰è£ VS Code æ’ä»¶&lt;/h4>
&lt;p>é¦–å…ˆï¼Œæ¨è–¦å¤§å®¶å®‰è£ä¸‹åˆ—å…©å€‹ VS Code æ’ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=Vue.volar" target="_blank" rel="noopener"
>Vue Language Features (Volar)&lt;/a>ï¼šå¯« Vue 3 å¼·åŠ›æ¨è–¦å¿…è£çš„æ’ä»¶ï¼ŒåŒ…å«äº†ä¸Šè‰²ã€èªæ³•æç¤ºã€ç·¨è¼¯å™¨å¿«é€Ÿåˆ†å‰²ç­‰å¼·å¤§åŠŸèƒ½ï¼Œè€Œä¸”ä¹Ÿæ˜¯ Nuxt 3 æ¨è–¦çš„ç·¨è¼¯å™¨æ’ä»¶ã€‚&lt;/li>
&lt;li>&lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=Vue.vscode-typescript-vue-plugin" target="_blank" rel="noopener"
>TypeScript Vue Plugin (Volar)&lt;/a>ï¼šVue çš„ TypeScript æ’ä»¶ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="step-2-å®‰è£-vue-é¡å‹æª¢æŸ¥å¥—ä»¶">Step 2. å®‰è£ Vue é¡å‹æª¢æŸ¥å¥—ä»¶&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D vue-tsc typescript
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D vue-tsc typescript&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-èª¿æ•´-nuxtconfigts-è¨­å®š">Step 3. èª¿æ•´ nuxt.config.ts è¨­å®š&lt;/h4>
&lt;p>æ ¹æ“š nuxt3 å®˜æ–¹æ–‡ä»¶&lt;a class="link" href="https://nuxt.com/docs/guide/concepts/typescript" target="_blank" rel="noopener"
>èªªæ˜&lt;/a>ï¼Œæˆ‘å€‘å¯ä»¥åœ¨ &lt;code>nuxt.config.ts&lt;/code> ä¸­ï¼Œè¨­ç½® &lt;code>typescript.typeCheck: true&lt;/code> ä¾†è®“é–‹ç™¼æ™‚æœŸèƒ½åŸ·è¡Œé¡å‹æª¢æŸ¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">typescript&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">typeCheck&lt;/span>: &lt;span class="kt">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-4-é‡æ–°å•Ÿå‹•é–‹ç™¼ç’°å¢ƒæœå‹™">Step 4. é‡æ–°å•Ÿå‹•é–‹ç™¼ç’°å¢ƒæœå‹™&lt;/h4>
&lt;p>æˆ‘å€‘é‡æ–°åŸ·è¡Œ &lt;code>npm run dev -- -o&lt;/code> ä¾†é‡å•Ÿé–‹ç™¼ç’°å¢ƒçš„æœå‹™ï¼Œé€™æ¨£å°±é…ç½®å®Œæˆå›‰ï¼&lt;/p>
&lt;h4 id="çœ‹çœ‹æ•ˆæœ">çœ‹çœ‹æ•ˆæœ&lt;/h4>
&lt;p>å¦‚æœæˆ‘å€‘åœ¨ &lt;code>app.vue&lt;/code> å¯«äº†ä»¥ä¸‹ç¨‹å¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">year&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;2022&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">year&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> iThome éµäººè³½`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥ç™¼ç¾çµ‚ç«¯æ©Ÿ (Terminal) å°±&lt;code>æŒ‡å‡ºäº†ä¸€å€‹éŒ¯èª¤çš„é¡å‹æŒ‡æ´¾&lt;/code>ï¼Œä¸¦å‘ŠçŸ¥ä½ æœ‰éŒ¯èª¤ç¨‹å¼ç¢¼çš„ä½ç½®ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964299_7ee542dbc3_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="eslint-è¨­ç½®-linter">ESLint è¨­ç½® Linter&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698096_7b89a76f54_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ESLint æ˜¯ä¸€å€‹ &lt;code>JavaScript Linter&lt;/code>ï¼Œå®ƒç”¨ä¾†æª¢æŸ¥ JavaScript Coding Style çš„å·¥å…·ï¼Œä¸»è¦èƒ½å¹«ä½ &lt;code>åˆ†æä¸¦æ‰¾åˆ°èªæ³•éŒ¯èª¤&lt;/code>ï¼Œä¹Ÿèƒ½ç”¨ä¾†&lt;code>çµ±ä¸€é¢¨æ ¼&lt;/code>ï¼Œä¾‹å¦‚ï¼šç¸®æ’ç©ºç™½æ•¸ã€å­—ä¸²è¦ç”¨å–®å¼•è™Ÿæˆ–é›™å¼•è™Ÿç­‰ï¼Œæé†’ä½ åˆªæ‰å¤šé¤˜ç¨‹å¼ç¢¼æˆ–éµç…§æœ€ä½³çš„å¯¦è¸æ–¹å¼ï¼Œç¢ºä¿ç¨‹å¼ç¢¼èƒ½å…·æœ‰ä¸€å®šçš„æ°´æº–ã€‚åœ¨åœ˜éšŠå”ä½œä¸‹ ESLint æ›´èƒ½è®“å¤§å®¶æ’°å¯«ç¨‹å¼ç¢¼æ™‚éµç…§è¦å‰‡ï¼Œç¢ºä¿ç¨‹å¼ç¢¼å“è³ªã€‚ESLint é™¤äº†æä¾›ä½ å¯ä»¥ä½¿ç”¨å¤§å…¬å¸å¦‚ Googleã€Airbnb ç­‰çš„è¦å‰‡é…ç½®ä¾†ä½œç‚ºæª¢æŸ¥åŸºæº–ï¼Œä¹Ÿå¯ä»¥å®¢è£½è‡ªè¨‚å‡ºè‡ªå·±å–œå¥½æˆ–åœ˜éšŠå…±è­˜çš„è¦å‰‡ä¾†åˆ†æèˆ‡æé†’ä½ æ ¡æ­£èªæ³•ã€‚&lt;/p>
&lt;h4 id="step-1-å®‰è£-eslint-å¥—ä»¶">Step 1. å®‰è£ ESLint å¥—ä»¶&lt;/h4>
&lt;p>ç¾åœ¨æˆ‘å€‘è‡³ Nuxt å°ˆæ ¹ç›®éŒ„ä¸‹ï¼Œé–‹å§‹å®‰è£ ESLint ç›¸é—œå¥—ä»¶ï¼Œç•¶ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‘è‡ªå·±å–œæ­¡çš„é€²è¡Œé…ç½®ï¼Œä¸éåœ¨é€™è£¡é¸æ“‡ä»¥ Nuxt 3 å®˜æ–¹æä¾›çš„ ESLint è¨­å®šä¾†åšæ¨™æº–é…ç½®ï¼Œä¸¦æ·»åŠ æ”¯æ´ Vue 3 çš„ ESLint è¨­å®šã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D eslint @nuxtjs/eslint-config-typescript eslint-plugin-vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D eslint @nuxtjs/eslint-config-typescript eslint-plugin-vue&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-é…ç½®-eslint-è¨­å®šæª”">Step 2. é…ç½® ESLint è¨­å®šæª”&lt;/h4>
&lt;p>å®‰è£å®Œæ‰€éœ€å¥—ä»¶å¾Œï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘å°±å¯ä»¥ä¾†è¨­å®š ESLintï¼Œæˆ‘å€‘åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹å»ºç«‹ &lt;code>.eslintrc.js&lt;/code> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">env&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">browser&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">es2021&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">extends&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@nuxtjs/eslint-config-typescript&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;plugin:vue/vue3-recommended&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">parserOptions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ecmaVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">13&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourceType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;module&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rules&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">overrides&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">files&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/pages/**/*.{js,ts,vue}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/layouts/**/*.{js,ts,vue}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/app.{js,ts,vue}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/error.{js,ts,vue}&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rules&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;vue/multi-word-component-names&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;off&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨æˆ‘å€‘å»ºç«‹çš„ &lt;code>.eslintrc.js&lt;/code> æª”æ¡ˆä¸­ &lt;code>extends&lt;/code> å¯ä»¥æ˜¯ä¸€å€‹é™£åˆ—ï¼Œä¸»è¦æ˜¯ä¾†æ”¾ç½®&lt;code>æ“´å±•&lt;/code> ESLint çš„è¦å‰‡çš„é…ç½®ï¼Œé€™è£¡ç¨å¾®æ³¨æ„ä¸€ä¸‹é †åºå¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>@nuxtjs/eslint-config-typescript&lt;/strong>ï¼šå°æ‡‰ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/eslint-config-typescript" target="_blank" rel="noopener"
>@nuxtjs/eslint-config-typescript&lt;/a> å¥—ä»¶ï¼Œç”± Nuxt å®˜æ–¹æä¾›ç”¨æ–¼ Nuxt çš„ ESLint è¦å‰‡é…ç½®ã€‚å¦‚æœä½ ä¸æ˜¯ä½¿ç”¨ TypeScript å¯ä»¥ä½¿ç”¨ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/eslint-config" target="_blank" rel="noopener"
>@nuxtjs/eslint-config&lt;/a>ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>plugin:vue/vue3-recommended&lt;/strong>ï¼šå°æ‡‰ &lt;a class="link" href="https://www.npmjs.com/package/eslint-plugin-vue" target="_blank" rel="noopener"
>eslint-plugin-vue&lt;/a> å¥—ä»¶ï¼Œç”± Vue.js å®˜æ–¹æä¾›çš„ ESLint &lt;a class="link" href="https://github.com/vuejs/eslint-plugin-vue" target="_blank" rel="noopener"
>æ’ä»¶&lt;/a>ï¼ŒåŒ…å«äº†èƒ½é…åˆ Vue SFC èªæ³•åŠç‰¹æ€§çš„è¦å‰‡ï¼Œä¹Ÿå¯ä»¥åƒè€ƒ&lt;a class="link" href="https://eslint.vuejs.org/user-guide/#bundle-configurations" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ï¼Œä¾æ“šéœ€æ±‚ç¨ä½œèª¿æ•´ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>å°‡ç‰¹å®šç›®éŒ„ä¸‹çš„æª”æ¡ˆé—œé–‰ &lt;code>vue/multi-word-component-names&lt;/code> è¦å‰‡ï¼Œä»¥æ­¤ä¾†å› æ‡‰ nuxt çš„é–‹ç™¼é¿å…æç¤ºéŒ¯èª¤ã€‚&lt;/p>
&lt;blockquote>
&lt;p>å› ç‚ºç›®å‰ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/eslint-config-typescript" target="_blank" rel="noopener"
>@nuxtjs/eslint-config-typescript&lt;/a> æ˜¯åŸºæ–¼ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/eslint-config" target="_blank" rel="noopener"
>@nuxtjs/eslint-config&lt;/a> ä¾†æ“´å±• TypeScript çš„è¨­å®šï¼Œè€Œä¸” &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/eslint-config" target="_blank" rel="noopener"
>@nuxtjs/eslint-config&lt;/a> åŒ…å«çš„æ˜¯ Vue 2 çš„ ESLint è¨­å®šï¼Œæ‰€ä»¥æˆ‘å€‘éœ€è¦å†é¡å¤–å®‰è£ &lt;a class="link" href="https://www.npmjs.com/package/eslint-plugin-vue" target="_blank" rel="noopener"
>eslint-plugin-vue&lt;/a> ä¾†æ“´å±• Vue 3 è¦å‰‡é…ç½®ï¼Œä¸¦è¦†å¯« &lt;strong>vue/multi-word-component-names&lt;/strong> è¦å‰‡ã€‚&lt;/p>
&lt;/blockquote>
&lt;h4 id="ç”¨-eslint-ä¾†å˜—è©¦æª¢æŸ¥">ç”¨ ESLint ä¾†å˜—è©¦æª¢æŸ¥&lt;/h4>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘ç·¨è¼¯ &lt;code>app.vue&lt;/code> æª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">year&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2022&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">year&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> iThome éµäººè³½`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ä¾†ä½¿ç”¨ eslint æª¢æŸ¥ &lt;code>app.vue&lt;/code> é€™å€‹æª”æ¡ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx eslint -- app.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°ä¸‹åœ–ï¼ŒESLint æŒ‡å‡º &lt;code>app.vue&lt;/code> çš„å•é¡Œï¼Œåœ¨ç¬¬ 9 è¡Œä¸­çš„ &lt;code>title&lt;/code> é€™å€‹è®Šæ•¸å·²ç¶“å®£å‘Šäº†å»æ²’æœ‰è¢«ä½¿ç”¨ã€‚&lt;/p>
&lt;p>é€™å€‹éŒ¯èª¤è¨Šæ¯æ­£æ˜¯ä¾æ“šä¸Šé¢æˆ‘å€‘çš„ ESLint é…ç½®æ‰€è¢«æª¢è¦–å‡ºä¾†çš„ï¼Œåœ¨ ESLint è¦å‰‡å®šç¾©å¥½å¾Œï¼Œä¹Ÿæœ‰åˆ†æˆéŒ¯èª¤ (Error) èˆ‡è­¦å‘Š (Warning)ï¼Œæˆ‘å€‘å¯ä»¥å†ä¾æ“š ESLint çµ¦äºˆçš„æç¤ºé€²è¡Œèª¿æ•´èˆ‡ä¿®æ­£ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188177_46465e3ffe_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æˆ‘å€‘å˜—è©¦ä¿®æ­£ä¸€ä¸‹ &lt;code>app.vue&lt;/code> é€™å€‹æª”æ¡ˆï¼Œåœ¨ template ä¸­ä½¿ç”¨ title é€™å€‹è®Šæ•¸ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">year&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2022&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">year&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> iThome éµäººè³½`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†ä¸€æ¬¡åŸ·è¡Œ &lt;code>npx eslint -- app.vue&lt;/code>ï¼Œå°±æœƒç™¼ç¾æ²’æœ‰éŒ¯èª¤è¨Šæ¯ç”¢ç”Ÿå›‰ï¼&lt;/p>
&lt;h3 id="åœ¨-packagejson-è¨­ç½®è…³æœ¬">åœ¨ package.json è¨­ç½®è…³æœ¬&lt;/h3>
&lt;p>æˆ‘å€‘é™¤äº†é€å€‹æª”æ¡ˆåšæª¢æŸ¥ï¼Œä¹Ÿå¯ä»¥è¨­ç½®è…³æœ¬ä¾†æª¢æŸ¥æ•´å€‹å°ˆæ¡ˆç›®éŒ„ä¸‹çš„ç¨‹å¼ç¢¼ã€‚&lt;/p>
&lt;p>åœ¨ &lt;code>package.json&lt;/code> çš„ scripts è…³æœ¬ä¸­ï¼Œæˆ‘å€‘å¯ä»¥æ–°å¢ä¸€å€‹æŒ‡ä»¤ &lt;code>&amp;quot;lint&amp;quot;: &amp;quot;eslint --ext .ts,.js,.vue .&amp;quot;&lt;/code>ï¼Œé€™æ¨£ä¸€ä¾†æˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤ä¾†æª¢æŸ¥å°ˆæ¡ˆç›®éŒ„ä¸‹çš„æ‰€æœ‰åŒ…å« &lt;strong>.ts&lt;/strong>ã€&lt;strong>.js&lt;/strong>ã€&lt;strong>.vue&lt;/strong> å‰¯æª”åçš„æª”æ¡ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run lint
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run lint&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åœ¨-vs-code-ä¸­é¡¯ç¤º-eslint-éŒ¯èª¤æˆ–è­¦å‘Š">åœ¨ VS Code ä¸­é¡¯ç¤º ESLint éŒ¯èª¤æˆ–è­¦å‘Š&lt;/h3>
&lt;p>æ¨è–¦å¤§å®¶å®‰è£ VS Code çš„ ESLint æ’ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" target="_blank" rel="noopener"
>ESLint&lt;/a>ï¼šè®“ä½ åœ¨ç·¨è¼¯å™¨é–‹ç™¼æ™‚å°±èƒ½æœ‰æŒ‡ä»¤æª¢æŸ¥ï¼Œæ›´å¯ä»¥åšåˆ°å…¨åŸŸæˆ–ç‰¹å®šå·¥ä½œå€é–‹å•Ÿå„²å­˜æˆ–å¿«æ·éµè‡ªå‹•ä¿®æ­£ç¨‹å¼ç¢¼ç­‰è¨­ç½®ã€‚&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>å®‰è£å®Œç•¢å¾Œï¼Œå»ºè­°é‡å•Ÿ VS Code ä¾†é‡æ–°è¼‰å…¥ç›¸é—œè¨­å®šã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ç¾åœ¨ï¼Œä½ æœƒç™¼ç¾åœ¨ VS Code ä¸­ç·¨è¼¯ç¨‹å¼çš„éç¨‹ä¸­ï¼Œå¦‚æœæœ‰ ESLint æª¢æŸ¥åˆ°çš„éŒ¯èª¤æˆ–å»ºè­°ï¼Œå°±æœƒå‡ºç¾&lt;code>ç´…è‰²æˆ–é»ƒè‰²çš„æ³¢æµªåº•ç·š&lt;/code>ï¼Œç•¶æ»‘é¼ æŒ‡æ¨™ç§»å‹•è‡³æ³¢æµªåº•ç·šè™•ï¼Œå°±æœƒç™¼ç¾æœ‰å€‹å°è¦–çª—æç¤ºä½ éŒ¯èª¤æˆ–è­¦å‘Šçš„åŸå› æ˜¯ä»€éº¼ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186373_67101210bd_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="åœ¨-vs-code-ä¸­è‡ªå‹•ä¿®æ­£-eslint-éŒ¯èª¤æˆ–è­¦å‘Š">åœ¨ VS Code ä¸­è‡ªå‹•ä¿®æ­£ ESLint éŒ¯èª¤æˆ–è­¦å‘Š&lt;/h3>
&lt;p>åœ¨æŸäº›æƒ…æ³ï¼ŒESLint å¯ä»¥å¹«åŠ©ä½ åšè‡ªå‹•ä¿®æ­£ç¨‹å¼ç¢¼ï¼Œç”šè‡³åœ¨å­˜æ“‹æ™‚å°‡éŒ¯èª¤éƒ¨åˆ†ç›´æ¥é€²è¡Œä¿®æ­£ã€‚&lt;/p>
&lt;h4 id="æ‰‹å‹•å¿«é€Ÿä¿®æ­£">æ‰‹å‹•å¿«é€Ÿä¿®æ­£&lt;/h4>
&lt;p>æˆ‘å€‘å¯ä»¥åœ¨ç·¨è¼¯å™¨å°‡æ»‘é¼ æŒ‡æ¨™ç§»å‹•è‡³æ³¢æµªåº•ç·šé»æ“Šã€Œ&lt;strong>å¿«é€Ÿä¿®æ­£ (Quick Fix)&amp;hellip;&lt;/strong>ã€ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ç·¨è¼¯å™¨å»ºè­°çš„å¿«æ·éµ &lt;strong>Command + . (macOS)&lt;/strong>ï¼Œæ­¤æ™‚å°±èƒ½é¸æ“‡è¦ä¿®å¾©æˆ–é—œé–‰ç•¥ééŒ¯èª¤åŸå› ï¼›é€™è£¡æˆ‘å€‘é¸æ“‡ã€Œ&lt;strong>Fix all auto-fixable problems&lt;/strong>ã€ï¼Œä¾†ä¿®å¾©æ‰€æœ‰å¯èƒ½å¯ä»¥è¢«è‡ªå‹•ä¿®å¾©çš„å•é¡Œã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617134545_8b88fdc93b_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="å­˜æ“‹è‡ªå‹•ä¿®æ­£">å­˜æ“‹è‡ªå‹•ä¿®æ­£&lt;/h4>
&lt;p>é™¤äº†æ‰‹å‹•å¿«é€Ÿä¿®æ­£å¤–ï¼Œä½ ä¹Ÿå¯ä»¥é€éæ·»åŠ  VS Code çš„è¨­å®šæª”ï¼Œå¦‚å°ˆæ¡ˆç›®éŒ„ä¸‹æ–°å¢ &lt;code>.vscode/settings.json&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;editor.formatOnSave&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;prettier.semi&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;files.trimTrailingWhitespace&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;editor.defaultFormatter&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;esbenp.prettier-vscode&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;editor.codeActionsOnSave&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;source.fixAll.eslint&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;eslint.format.enable&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;eslint.validate&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;javascript&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;javascriptreact&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;html&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;vue&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;typescript&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;typescriptreact&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;eslint.enable&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘ç·¨è¼¯å®Œç¨‹å¼ç¢¼ï¼Œä¸¦ä¿å­˜æª”æ¡ˆæˆ–å¿«æ·éµå­˜æ“‹ &lt;strong>Command + S (macOS)&lt;/strong>ï¼Œå°±æœƒè§¸ç™¼ ESLint è‡ªå‹•ä¿®å¾©å›‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698136_f967028caa_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="prettier-è¨­ç½®">Prettier è¨­ç½®&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186383_1c8d988fe4_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>Prettier æ˜¯ç¨‹å¼ç¢¼æ ¼å¼åŒ–çš„å·¥å…·ï¼Œä¹Ÿå¯ä»¥èˆ‡ ESLint é€²è¡Œæ­é…ï¼ŒESLint èˆ‡ Prettier å°±èƒ½å„å¸å…¶è·å°‡ JaveScript èˆ‡ Vue ç­‰æª”æ¡ˆä¾ç…§é…ç½®é€²è¡Œæª¢æŸ¥èˆ‡æ’ç‰ˆã€‚&lt;/p>
&lt;h4 id="step-1-å®‰è£-prettier-å¥—ä»¶">Step 1. å®‰è£ Prettier å¥—ä»¶&lt;/h4>
&lt;p>æˆ‘å€‘ç›´æ¥å®‰è£ prettierã€eslint-config-prettier èˆ‡ eslint-plugin-prettier ä¸‰å€‹å¥—ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D prettier eslint-config-prettier eslint-plugin-prettier
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D prettier eslint-config-prettier eslint-plugin-prettier&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-é…ç½®-prettier-è¨­å®šæª”æ¡ˆ">Step 2. é…ç½® Prettier è¨­å®šæª”æ¡ˆ&lt;/h4>
&lt;p>æˆ‘å€‘åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹å»ºç«‹ &lt;code>.prettierrc.js&lt;/code> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼Œé€™äº›é…ç½®éƒ½å¯ä»¥è‡ªå·±è¨­å®šä¾†é…åˆ ESLintï¼Œæ›´å¤šé¸é …æˆ–èªªæ˜å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://prettier.io/docs/en/options.html" target="_blank" rel="noopener"
>Prettier å®˜æ–¹èªªæ˜æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">printWidth&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">120&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æ¯è¡Œæ–‡å­—æ•¸é‡é” 100 å­—å…ƒå°±æ›åˆ°æ–°çš„ä¸€è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">semi&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æ¯å€‹èªå¥çš„çµå°¾ä¸éœ€è¦åˆ†è™Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">singleQuote&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å­—ä¸²ä½¿ç”¨å–®å¼•è™Ÿï¼Œè€Œä¸æ˜¯é›™å¼•è™Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">trailingComma&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;none&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å¦‚ Objectã€Array å…§çš„å…ƒç´ ä¸éœ€è¦å°¾éš¨é€—è™Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">endOfLine&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;auto&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vueIndentScriptAndStyle&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-é…ç½®-eslint-è¨­å®šæª”æ¡ˆ">Step 3. é…ç½® ESLint è¨­å®šæª”æ¡ˆ&lt;/h4>
&lt;p>æˆ‘å€‘åœ¨å®‰è£æ™‚å¤šè£äº†å…©å€‹ ESLint ç›¸é—œå¥—ä»¶ï¼Œåˆ†åˆ¥ç‚º &lt;a class="link" href="https://github.com/prettier/eslint-config-prettier" target="_blank" rel="noopener"
>eslint-config-prettier&lt;/a> åŠ &lt;a class="link" href="https://www.npmjs.com/package/eslint-plugin-prettier" target="_blank" rel="noopener"
>eslint-plugin-prettier&lt;/a>ã€‚&lt;/p>
&lt;p>å°æ­¤æˆ‘å€‘éœ€è¦å°‡å…¶æ·»åŠ è‡³ ESLint çš„ &lt;code>.eslintrc.js&lt;/code> è¨­å®šæª”å…§ï¼Œåœ¨ &lt;code>extends&lt;/code> æ·»åŠ å­—ä¸² &lt;code>prettier&lt;/code> è¡¨ç¤ºä½¿ç”¨ &lt;a class="link" href="https://github.com/prettier/eslint-config-prettier" target="_blank" rel="noopener"
>eslint-config-prettier&lt;/a> æ“´å……é…ç½®ï¼Œä¸»è¦ç”¨ä¾†é˜²æ­¢ Prettier æ’ç‰ˆèˆ‡ ESLint ç™¼ç”Ÿè¡çªï¼Œè®“å…¶å¯ä»¥ç”¨ä¾†ç¦ç”¨ ESLint çš„æ ¼å¼åŒ–ï¼›æ¥è‘—åœ¨ &lt;code>plugins&lt;/code> ä¸­æ·»åŠ  &lt;code>prettier&lt;/code> å­—ä¸²è¡¨ç¤ºä½¿ç”¨ &lt;a class="link" href="https://www.npmjs.com/package/eslint-plugin-prettier" target="_blank" rel="noopener"
>eslint-plugin-prettier&lt;/a> å¥—ä»¶æ“´å……ï¼Œè®“ ESLint å¯ä»¥æç¤ºæˆ‘å€‘æ ¼å¼æœ‰éŒ¯èª¤çš„åœ°æ–¹ã€‚&lt;/p>
&lt;p>ç‚ºäº†è®“ Prettier èˆ‡ ESLint æœ‰æ›´å¥½çš„æ­é…ï¼Œåœ¨ &lt;code>rules&lt;/code> çš„åƒæ•¸ä¸­è¨˜å¾—æ·»åŠ  &lt;code>'prettier/prettier': 'error'&lt;/code> è®“ ESLint å¯ä»¥æç¤º Prettier çš„æ’ç‰ˆç•°å¸¸æç¤ºä¾›æˆ‘å€‘åšä¿®æ­£ï¼Œè‡³æ­¤ &lt;code>.eslintrc.js&lt;/code> è¨­å®šæª”æ‡‰è©²æœƒå¦‚ä¸‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">env&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">browser&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">es2021&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">extends&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;@nuxtjs/eslint-config-typescript&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;plugin:vue/vue3-recommended&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;prettier&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">parserOptions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ecmaVersion&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">13&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sourceType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;module&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;prettier&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rules&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;prettier/prettier&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;error&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">overrides&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">files&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/pages/**/*.{js,ts,vue}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/layouts/**/*.{js,ts,vue}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/app.{js,ts,vue}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;**/error.{js,ts,vue}&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rules&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;vue/multi-word-component-names&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;off&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-4-å®‰è£-vs-code-çš„-prettier-æ’ä»¶">Step 4. å®‰è£ VS Code çš„ Prettier æ’ä»¶&lt;/h4>
&lt;ul>
&lt;li>&lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode" target="_blank" rel="noopener"
>Prettier - Code formatter&lt;/a>ï¼šæä¾›æˆ‘å€‘åšç¨‹å¼ç¢¼çš„æ ¼å¼åŒ–ï¼Œæœ€é‡è¦çš„æ˜¯ä¾†å”åŠ©æˆ‘å€‘è‡ªå‹•è¼‰å…¥ &lt;code>.prettierrc.js&lt;/code> é…ç½®ã€‚&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>å®‰è£å®Œç•¢å¾Œï¼Œå»ºè­°é‡å•Ÿ VS Code ä¾†é‡æ–°è¼‰å…¥ç›¸é—œè¨­å®šã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æˆ‘å€‘å®Œæˆäº† TypeScript èˆ‡ Linter çš„é…ç½®ï¼Œé›–ç„¶é…ç½®æœ‰äº›ç¹ç‘£ï¼Œä½†å¯«ç¨‹å¼çš„é¢¨æ ¼æœ‰å€‹æ¨™æº–åŠè¦å‰‡ä¾å¾ªï¼Œè‚¯å®šèƒ½å”åŠ©ä½ å¯«å‡ºä»¤äººè®šå˜†çš„å®Œç¾çš„ç¨‹å¼ç¢¼ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä½¿ç”¨-tailwind-css">ä½¿ç”¨ Tailwind CSS&lt;/h2>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186403_1fa6ef95d7_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç‚ºäº†å¾ŒçºŒç¯„ä¾‹ç¨‹å¼åœ¨é é¢å‘ˆç¾ä¸Šèƒ½æœ‰æ¯”è¼ƒå¥½çœ‹çš„æ¨£å¼ï¼ŒåŸå…ˆæœ‰æƒ³éä½¿ç”¨ UI æ¡†æ¶æˆ–ç´”å¯« CSSï¼Œä½†æ˜¯ç¸½è¦ºå¾—å¥½åƒä¸å¤ æ½®ï¼Œæ‰€ä»¥å‘¢ï¼Œæˆ‘æ±ºå®šå¸¶å…¥è¿‘å¹´æ»¿ç†±é–€çš„ CSS æ¡†æ¶ &lt;a class="link" href="https://tailwindcss.com/" target="_blank" rel="noopener"
>Tailwind CSS&lt;/a>ï¼Œåœ¨æœ¬ç¯‡æ–‡ç« æˆ‘å°±ä¸å†å¤šèŠ±ç¯‡å¹…ä»‹ç´¹ &lt;a class="link" href="https://tailwindcss.com/" target="_blank" rel="noopener"
>Tailwind&lt;/a> çš„èªæ³•åŠæŒ‡ä»¤ç­‰ï¼Œä¸»è¦é‡å° Nuxt 3 å¦‚ä½•å°å…¥ &lt;a class="link" href="https://tailwindcss.com/" target="_blank" rel="noopener"
>Tailwind CSS&lt;/a> è‡³å°ˆæ¡ˆå…§ä½¿ç”¨ã€‚&lt;/p>
&lt;p>å…¶å¯¦æœ‰ç¨å¾®ç³¾çµä¸€ä¸‹è¦ä¸è¦ä½¿ç”¨ &lt;a class="link" href="https://css.master.co/tw" target="_blank" rel="noopener"
>Master CSS&lt;/a>ï¼Œé›–ç„¶æœ€å¾Œæ±ºå®šå…ˆç·©ç·©ï¼Œä½†æˆ‘èªç‚ºå®ƒéå¸¸æœ‰æ·ºåŠ›æˆç‚ºé€™é¡æ¡†æ¶çš„éœ¸ä¸»ï¼Œå¤§å®¶æœ‰ç©ºä¹Ÿå¯ä»¥æ”¯æŒä¸€ä¸‹æˆ–ç©ç©é€™å€‹ç”±è‡ºç£åœ˜éšŠé–‹ç™¼çš„ CSS æ¡†æ¶å“¦ï¼&lt;/p>
&lt;p>&lt;a class="link" href="https://tailwindcss.com/" target="_blank" rel="noopener"
>Tailwind CSS&lt;/a> æ˜¯è¿‘å¹´æ»¿ç†±é–€çš„ &lt;code>Utility-First CSS&lt;/code> æ¡†æ¶ï¼Œæ›¾æ€èµ·ä¸€ç•ªè«–æˆ°èªª Class ä¸æ˜¯è®“ä½ é€™æ¨£ç”¨çš„ä¹‹é¡çš„æ‰¹è©•åŠç¼ºé»ï¼Œä½†å¦‚æœä½ æ·±å…¥æš¸è§£å®ƒå¾Œï¼Œç¢ºå¯¦ä¸å¯å¦èªå®ƒèƒ½ç‚ºä½ å¸¶ä¾†æ›´å¥½çš„ç”Ÿç”¢æ•ˆç‡ç­‰è«¸å¤šå„ªé»ã€‚&lt;/p>
&lt;p>æ¥ä¸‹ä¾†ï¼Œæˆ‘æœƒåˆ†åˆ¥ä»‹ç´¹å…©ç¨®å°å…¥ &lt;a class="link" href="https://tailwindcss.com/" target="_blank" rel="noopener"
>Tailwind CSS&lt;/a> æ–¹å¼ï¼Œåˆ†åˆ¥ç‚º &lt;strong>Nuxt Community é‡‹å‡ºçš„ Tailwind CSS æ•´åˆæ¨¡çµ„&lt;/strong> åŠ &lt;strong>Tailwind CSS å®˜æ–¹æŒ‡å¼•æ­¥é©Ÿ&lt;/strong>ï¼Œä»¥ä¸‹çš„ &lt;strong>A&lt;/strong> æˆ– &lt;strong>B&lt;/strong> å…©ç¨®å°å…¥æ–¹å¼ï¼Œå¤§å®¶åªè¦&lt;code>æ“‡ä¸€&lt;/code>å°±å¯ä»¥äº†ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨-nuxt-tailwind-æ¨¡çµ„">ä½¿ç”¨ Nuxt Tailwind æ¨¡çµ„&lt;/h3>
&lt;h4 id="step-1-å®‰è£ç›¸é—œå¥—ä»¶">Step 1. å®‰è£ç›¸é—œå¥—ä»¶&lt;/h4>
&lt;p>é¦–å…ˆå®‰è£ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/tailwindcss" target="_blank" rel="noopener"
>@nuxtjs/tailwindcss&lt;/a>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D @nuxtjs/tailwindcss
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D @nuxtjs/tailwindcss&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-æ·»åŠ æ¨¡çµ„è‡³-nuxtconfigts">Step 2. æ·»åŠ æ¨¡çµ„è‡³ nuxt.config.ts&lt;/h4>
&lt;p>æ‰“é–‹ &lt;code>./nuxt.config.ts&lt;/code> å°‡ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/tailwindcss" target="_blank" rel="noopener"
>@nuxtjs/tailwindcss&lt;/a> æ¨¡çµ„æ·»åŠ è‡³ &lt;code>modules&lt;/code> è¨­å®šåƒæ•¸ä¸­ï¼Œå®Œæˆå¾Œçœ‹èµ·ä¾†æœƒåƒä¸‹é¢é€™æ¨£ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// https://v3.nuxtjs.org/api/configuration/nuxt.config
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@nuxtjs/tailwindcss&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">typescript&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">typeCheck&lt;/span>: &lt;span class="kt">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-é‡å•Ÿ-nuxt-æœå‹™">Step 3. é‡å•Ÿ Nuxt æœå‹™&lt;/h4>
&lt;p>é‡æ–°å•Ÿå‹•æˆ‘å€‘çš„ Nuxt æœå‹™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run dev -- -o
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run dev -- -o&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/tailwindcss" target="_blank" rel="noopener"
>@nuxtjs/tailwindcss&lt;/a> åªéœ€è¦å…©å€‹æ­¥é©Ÿå°±å®Œæˆäº† &lt;a class="link" href="https://tailwindcss.com/" target="_blank" rel="noopener"
>Tailwind CSS&lt;/a> çš„é…ç½®ï¼Œé€™å€‹æ¨¡çµ„å·²ç¶“åŒ…å«æ‰‹å‹•å®‰è£æ™‚éœ€è¦å»ºç«‹çš„ &lt;a class="link" href="https://tailwindcss.com/" target="_blank" rel="noopener"
>Tailwind CSS&lt;/a> æŒ‡ä»¤ &lt;code>tailwindcss.css&lt;/code> éœ€è¦çš„å…¨åŸŸè¨­å®šèˆ‡ PostCSS åƒæ•¸é¸é …ï¼ŒåŒæ™‚ä¹Ÿé è¨­äº† &lt;code>tailwind.config.js&lt;/code> çš„ç›¸é—œ &lt;strong>content&lt;/strong> ç›®éŒ„è·¯å¾‘ï¼Œè©³ç´°å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://github.com/nuxt-modules/tailwindcss" target="_blank" rel="noopener"
>Nuxt Tailwind&lt;/a>ã€‚&lt;/p>
&lt;h4 id="æ“´å……æˆ–è¦†å¯«-nuxtjstailwindcss-é…ç½®">æ“´å……æˆ–è¦†å¯« @nuxtjs/tailwindcss é…ç½®&lt;/h4>
&lt;blockquote>
&lt;p>å¦‚æœä½ æ²’æœ‰ç‰¹åˆ¥éœ€è¦æ“´å……æˆ–è¦†å¯«è¨­å®šå¯ä»¥è·³éé€™ä¸€æ®µã€‚&lt;/p>
&lt;/blockquote>
&lt;p>å°ˆæ¡ˆå…§è‹¥ä½¿ç”¨ &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/tailwindcss" target="_blank" rel="noopener"
>@nuxtjs/tailwindcss&lt;/a> æ¨¡çµ„ï¼Œé€™å…©å€‹ &lt;code>tailwind.css&lt;/code> èˆ‡ &lt;code>tailwind.config.js&lt;/code> æª”æ¡ˆå…¶å¯¦æ¨¡çµ„å·²ç¶“æœ‰é è¨­ï¼Œä¸éœ€è¦æ‰‹å‹•å»ºç«‹ï¼Œ&lt;code>tailwind.css&lt;/code> å°æ‡‰æ¨¡çµ„å…§çš„ &lt;strong>tailwind.css&lt;/strong> å¯ä»¥åƒè€ƒå°ˆæ¡ˆæª”æ¡ˆå…§å®¹ &lt;a class="link" href="https://github.com/nuxt-modules/tailwindcss/blob/main/src/runtime/tailwind.css" target="_blank" rel="noopener"
>tailwind.css&lt;/a>ï¼Œ&lt;code>tailwind.config.js&lt;/code> å‰‡æ˜¯é€éæ¨¡çµ„å‹•æ…‹æ–°å¢é…ç½®ã€‚&lt;/p>
&lt;p>å€˜è‹¥æƒ³è¦ä¿®æ”¹ä¹Ÿå¯ä»¥é€éå»ºç«‹è¨­å®šæª”æ¡ˆä¾†æ–°å¢æˆ–è¦†å¯«é è¨­å®šï¼Œä¾‹å¦‚åœ¨å°ˆæ¡ˆä¸‹åˆ†åˆ¥å»ºç«‹ &lt;code>tailwind.css&lt;/code> èˆ‡ &lt;code>tailwind.config.js&lt;/code> å…©å€‹æª”æ¡ˆï¼š&lt;/p>
&lt;ul>
&lt;li>tailwind.css&lt;/li>
&lt;/ul>
&lt;p>å°ˆæ¡ˆç›®éŒ„ä¸‹è‹¥å­˜åœ¨è·¯å¾‘æª”åä¸€è‡´çš„ &lt;code>./assets/css/tailwind.css&lt;/code> æª”æ¡ˆï¼Œ&lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/tailwindcss" target="_blank" rel="noopener"
>@nuxtjs/tailwindcss&lt;/a> å°±æœƒä»¥é€™å€‹æª”æ¡ˆå–ä»£æ¨¡çµ„å…§é è¨­çš„ &lt;code>tailwind.css&lt;/code> æª”æ¡ˆã€‚&lt;/p>
&lt;p>&lt;code>tailwind.css&lt;/code> é è¨­å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">base&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">components&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">utilities&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœæœ‰æˆåŠŸè¦†è“‹é…ç½®ï¼Œåœ¨é‡å•Ÿ Nuxt 3 æœå‹™æ™‚ï¼ŒTerminal æœƒæç¤ºä¸‹åˆ—å­—ä¸²ï¼Œè¡¨ç¤ºä½¿ç”¨äº†è‡ªè¨‚çš„ &lt;code>tailwind.css&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Using Tailwind CSS from ~/assets/css/tailwind.css
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>tailwind.config.js&lt;/li>
&lt;/ul>
&lt;p>å°ˆæ¡ˆç›®éŒ„ä¸‹è‹¥å­˜åœ¨ &lt;code>tailwind.config.js&lt;/code> æª”æ¡ˆå°±æœƒä»¥æ–°çš„é…ç½®æ‹“å±•æˆ–è¦†å¯« &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/tailwindcss" target="_blank" rel="noopener"
>@nuxtjs/tailwindcss&lt;/a> é è¨­çš„ &lt;code>tailwind.config&lt;/code>ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘æƒ³æ‹“å±•æˆ–è¦†å¯« content çš„é…ç½®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/** @type {import(&amp;#39;tailwindcss&amp;#39;).Config} */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./components/**/*.{vue,js,ts}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./layouts/**/*.vue&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./pages/**/*.vue&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./composables/**/*.{js,ts}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./plugins/**/*.{js,ts}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./app.{js,ts,vue}&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">theme&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">extend&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="tailwind-css-å®˜æ–¹æŒ‡å¼•æ­¥é©Ÿ">Tailwind CSS å®˜æ–¹æŒ‡å¼•æ­¥é©Ÿ&lt;/h3>
&lt;blockquote>
&lt;p>å¦‚æœä½ å·²ç¶“ä½¿ç”¨äº† &lt;a class="link" href="https://www.npmjs.com/package/@nuxtjs/tailwindcss" target="_blank" rel="noopener"
>@nuxtjs/tailwindcss&lt;/a> é€²è¡Œé…ç½®ï¼Œå‰‡å¯ä»¥è·³éé€™ä¸€æ®µã€‚&lt;/p>
&lt;/blockquote>
&lt;h4 id="step-1-å®‰è£ç›¸é—œå¥—ä»¶-1">Step 1. å®‰è£ç›¸é—œå¥—ä»¶&lt;/h4>
&lt;p>é¦–å…ˆé€²å…¥æˆ‘å€‘çš„ Nuxt å°ˆæ¡ˆç›®éŒ„ï¼Œä¸¦å®‰è£ Tailwind CSS æœƒä½¿ç”¨åˆ°çš„ä¸€äº›ç›¸é—œå¥—ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D tailwindcss postcss@latest postcss-custom-properties@latest autoprefixer@latest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D tailwindcss postcss@latest postcss-custom-properties@latest autoprefixer@latest&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-å»ºç«‹-tailwindconfigjs">Step 2. å»ºç«‹ tailwind.config.js&lt;/h4>
&lt;p>å®‰è£å®Œå¥—ä»¶å¾Œï¼Œå¯ä»¥åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤é€²è¡Œåˆå§‹åŒ–ï¼Œå®Œæˆå¾Œæœƒåœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹ç”¢ç”Ÿä¸€å€‹åç‚º &lt;code>tailwind.config.js&lt;/code> çš„ Tailwind CSS è¨­å®šæª”ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx tailwindcss init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-èª¿æ•´-tailwindconfigjs">Step 3. èª¿æ•´ tailwind.config.js&lt;/h4>
&lt;p>æ‰“é–‹å‰›å‰›ç”¢ç”Ÿçš„è¨­å®šæª” &lt;code>tailwind.config.js&lt;/code>ï¼Œåœ¨é…ç½®ä¸­çš„ &lt;code>content&lt;/code> é™£åˆ—æ·»åŠ ä¸€äº›è·¯å¾‘ï¼Œé€™äº›è·¯å¾‘çš†æ˜¯è·Ÿ Nuxt æœ‰é—œçš„è³‡æ–™å¤¾ç›®éŒ„èˆ‡æª”æ¡ˆï¼Œå®Œæˆå¾Œæª”æ¡ˆå…§å®¹å¦‚ä¸‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/** @type {import(&amp;#39;tailwindcss&amp;#39;).Config} */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./components/**/*.{vue,js,ts}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./layouts/**/*.vue&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./pages/**/*.vue&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./composables/**/*.{js,ts}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./plugins/**/*.{js,ts}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;./app.{js,ts,vue}&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">theme&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">extend&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-4-å»ºç«‹-tailwindcss">Step 4. å»ºç«‹ tailwind.css&lt;/h4>
&lt;p>æ¥è‘—æˆ‘å€‘åœ¨å°ˆæ¡ˆå»ºç«‹ç›®éŒ„ &lt;strong>assets&lt;/strong> èˆ‡å­ç›®éŒ„ &lt;strong>css&lt;/strong> ç”¨ä¾†æ”¾ç½® Tailwind CSS çš„è‡ªå®šç¾©æŒ‡ä»¤ï¼Œæˆ‘å€‘å°‡å…¶æ”¾ç½®åœ¨ &lt;strong>tailwind.css&lt;/strong> ä¾›å¾ŒçºŒåšä½¿ç”¨ï¼Œ&lt;strong>tailwind.css&lt;/strong> çš„è·¯å¾‘æ‡‰æœƒæ˜¯ &lt;code>./assets/css/tailwind.css&lt;/code> æª”æ¡ˆå…§å®¹å¦‚ä¸‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">base&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">components&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">utilities&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-5-é…ç½®å…¨åŸŸå…±ç”¨-css">Step 5. é…ç½®å…¨åŸŸå…±ç”¨ CSS&lt;/h4>
&lt;p>ä¸Šé¢æˆ‘å€‘å»ºç«‹å¥½ &lt;strong>tailwind.css&lt;/strong> å¾Œï¼Œç‚ºäº†è®“æ¯å€‹é é¢éƒ½å¯ä»¥åƒå¾—åˆ° Tailwind CSSï¼Œæˆ‘å€‘ä¿®æ”¹å°ˆæ¡ˆæ ¹ç›®éŒ„çš„ &lt;code>nuxt.config.ts&lt;/code> æª”æ¡ˆï¼Œåœ¨ &lt;code>css&lt;/code> åƒæ•¸é™£åˆ—å…§æ–°å¢ &lt;code>tailwind.css&lt;/code> è·¯å¾‘ï¼Œè®“ Nuxt å¯ä»¥é…ç½®å…¨åŸŸå…±ç”¨çš„ CSSï¼Œä¸¦æ·»åŠ  &lt;code>postcss&lt;/code> é¸é …åŠæˆ‘å€‘å‰›æ‰å®‰è£çš„å¥—ä»¶ä½œç‚ºæ’ä»¶ï¼Œæœ€å¾Œ &lt;code>nuxt.config.ts&lt;/code> æª”æ¡ˆçœ‹èµ·ä¾†å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// https://v3.nuxtjs.org/api/configuration/nuxt.config
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">postcss&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;postcss-import&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;tailwindcss/nesting&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tailwindcss&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">autoprefixer&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">css&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@/assets/css/tailwind.css&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">typescript&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">typeCheck&lt;/span>: &lt;span class="kt">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡³æ­¤ï¼Œæˆ‘å€‘å°ˆæ¡ˆç›®éŒ„æª”æ¡ˆå¦‚ä¸‹çµæ§‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nuxt-app
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .nuxt/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ assets/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ css/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ tailwind.css // æ‰‹å‹•æ–°å¢çš„æª”æ¡ˆï¼Œç”¨æ–¼è¨­ç½® Tailwind CSS æŒ‡ä»¤ä¸¦è®“å…¨éƒ¨é é¢å¼•ç”¨
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ node_modules/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .eslintrc.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .gitignore
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .prettierrc.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ app.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ nuxt.config.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ package-lock.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ package.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ tailwind.config.js // Tailwind åˆå§‹åŒ–æŒ‡ä»¤ç”¢ç”Ÿçš„è¨­å®šæª”
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ tsconfig.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-6-é‡å•Ÿ-nuxt-æœå‹™">Step 6. é‡å•Ÿ Nuxt æœå‹™&lt;/h4>
&lt;p>é‡æ–°å•Ÿå‹•æˆ‘å€‘çš„ Nuxt æœå‹™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run dev -- -o
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é–‹å§‹æ„Ÿå—-tailwind-css-çš„é­…åŠ›">é–‹å§‹æ„Ÿå— Tailwind CSS çš„é­…åŠ›&lt;/h3>
&lt;p>ç•¶æˆ‘å€‘é…ç½®å®Œ Tailwind CSS ä¸¦é‡å•Ÿ Nuxt æœå‹™å¾Œï¼Œæˆ‘å€‘ç·¨è¼¯ &lt;code>app.vue&lt;/code> æª”æ¡ˆå…§å®¹ï¼Œæ’°å¯«ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-blue-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-900&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‡æ–°ç€è¦½ä¸€æ¬¡ç¶²é ï¼Œå¯ä»¥ç™¼ç¾æ’ç‰ˆã€é¡è‰²ã€å­—å‹éƒ½æœ‰å‡ºç¾æˆ‘å€‘è¨­å®šçš„æ•ˆæœäº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188202_d650c12b2b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="è‡ªå‹•æ’åº-tailwind-css-çš„-class">è‡ªå‹•æ’åº Tailwind CSS çš„ Class&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964384_7ac2dd7e78_o.jpg"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç•¶æˆ‘å€‘åœ¨å¯« Tailwind CSS æ™‚çµ‚ç©¶æœƒç¢°åˆ°é¡å‹éå¤šï¼Œç¬¬ä¸€çœ¼ä¸ç¢ºå®šæ˜¯å¦åŒ…å«æŸå€‹ classï¼Œæˆ–è€…å°æ–¼é †åºä¸Šæœ‰å¼·çƒˆçµ±ä¸€çš„è¦æ±‚ï¼Œé‚£éº¼é€™å€‹ Prettier çš„&lt;a class="link" href="https://github.com/tailwindlabs/prettier-plugin-tailwindcss" target="_blank" rel="noopener"
>æ’ä»¶&lt;/a>ï¼Œ&lt;code>prettier-plugin-tailwindcss&lt;/code> æ’ä»¶æ˜¯ Tailwind æ¨å‡ºçš„ï¼Œç›®çš„åœ¨æ–¼å¯ä»¥ä½¿ç”¨å®˜æ–¹æ¨è–¦çš„ class é †åºï¼Œä¾†å¯¦ç¾&lt;code>è‡ªå‹•æ’åº class&lt;/code> ä¾†åšåˆ°çµ±ä¸€ç¨‹å¼ç¢¼é¢¨æ ¼ã€‚&lt;/p>
&lt;h3 id="tailwind-x-prettier">Tailwind x Prettier&lt;/h3>
&lt;h4 id="step-1-å®‰è£æ’ä»¶">Step 1. å®‰è£æ’ä»¶&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D prettier-plugin-tailwindcss
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D prettier-plugin-tailwindcss&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>å¦‚æœä½ ä¸æ˜¯ç…§è‘—å‰é¢çš„æ­¥é©Ÿå»ºç½®å°ˆæ¡ˆï¼Œè«‹è¨˜å¾—ç¢ºèªå·²ç¶“æœ‰å®‰è£ prettier å¥—ä»¶ã€‚&lt;/p>
&lt;/blockquote>
&lt;h4 id="step-2-é…ç½®è¨­å®šæª”">Step 2. é…ç½®è¨­å®šæª”&lt;/h4>
&lt;p>é–‹å•Ÿ &lt;code>.prettierrc.js&lt;/code> æª”æ¡ˆï¼Œæ·»åŠ  &lt;code>'prettier-plugin-tailwindcss'&lt;/code> è‡³ &lt;code>plugins&lt;/code> é™£åˆ—ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;prettier-plugin-tailwindcss&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">printWidth&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æ¯è¡Œæ–‡å­—æ•¸é‡é” 100 å­—å…ƒå°±æ›åˆ°æ–°çš„ä¸€è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">semi&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æ¯å€‹èªå¥çš„çµå°¾ä¸éœ€è¦åˆ†è™Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">singleQuote&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å­—ä¸²ä½¿ç”¨å–®å¼•è™Ÿï¼Œè€Œä¸æ˜¯é›™å¼•è™Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">trailingComma&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;none&amp;#39;&lt;/span> &lt;span class="c1">// å¦‚ Objectã€Array å…§çš„å…ƒç´ ä¸éœ€è¦å°¾éš¨é€—è™Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-è‡ªå‹•ä¿®æ­£æ•ˆæœ">Step 3. è‡ªå‹•ä¿®æ­£æ•ˆæœ&lt;/h4>
&lt;p>ä½ å¯ä»¥åœ¨ç·¨è¼¯å™¨å…§ç§»è‡³éŒ¯èª¤æ³¢æµªåº•ç·šä½¿ç”¨ã€Œ&lt;strong>å¿«é€Ÿä¿®å¾© (Quick Fix)&amp;hellip;&lt;/strong>ã€åŠŸèƒ½ï¼Œæˆ–è¨­ç½® &lt;code>&amp;quot;editor.codeActionsOnSave&amp;quot;&lt;/code> ä¸­ &lt;code>&amp;quot;source.fixAll.eslint&amp;quot;: true&lt;/code> ä¾†é”åˆ°ä¿å­˜å¾Œè‡ªå‹•ä¿®æ­£ prettier å¼•ç™¼çš„ ESLint éŒ¯èª¤ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698186_25eebdd0f7_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å°çµ">å°çµ&lt;/h3>
&lt;p>ç›¸è¼ƒæ–¼ Tailwind CSS å®˜æ–¹æŒ‡å¼•çš„å®‰è£æ–¹å¼ï¼Œä½¿ç”¨ Nuxt Community å¹«æˆ‘å€‘æ•´ç†å¥½çš„ &lt;code>@nuxtjs/tailwindcss&lt;/code> æ¨¡çµ„ï¼Œå¯ä»¥çœå»ç¹ç‘£çš„è¨­å®šæ­¥é©Ÿï¼Œä¹Ÿè§£æ±ºäº†ä¸€äº›ç›®å‰ Nuxt 3 å°ˆæ¡ˆä¸­ï¼Œå°å…¥ Tailwind CSS ä½¿ç”¨ HMR å¯èƒ½ç„¡æ³•è‡ªå‹•ç·¨è­¯ä¸¦é‡æ–°å¥—ç”¨ç­‰å•é¡Œã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä½¿ç”¨-pug">ä½¿ç”¨ Pug&lt;/h2>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698191_9faacb41c6_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;a class="link" href="https://pugjs.org/" target="_blank" rel="noopener"
>pug&lt;/a> ç‚º html æ¨¡æ¿èªè¨€ï¼Œå¯æ”¯æ´æ’°å¯« JS é‚è¼¯ã€‚å¯«æ³•ä¸Šï¼Œçœç•¥äº† HTML çš„é–‹ã€é–‰åˆæ¨™ç±¤ï¼Œèƒ½å¤ å¤§å¤§çš„æå‡å·¥ç¨‹å¸«é–‹ç™¼é€Ÿåº¦ï¼Œçœ‹ä¸Šå»ä¹Ÿæ›´ç‚ºç°¡æ½”ã€‚&lt;/p>
&lt;p>åœ¨æœ¬ç¯‡æ–‡ç« æˆ‘ä¾èˆŠä¸å†å¤šèŠ±ç¯‡å¹…ä»‹ç´¹ &lt;a class="link" href="https://pugjs.org/" target="_blank" rel="noopener"
>pug&lt;/a> çš„èªæ³•ï¼Œä¸»è¦é‡å° Nuxt 3 å¦‚ä½•å°å…¥ &lt;a class="link" href="https://pugjs.org/" target="_blank" rel="noopener"
>pug&lt;/a> è‡³å°ˆæ¡ˆå…§ä½¿ç”¨ã€‚&lt;/p>
&lt;p>ç‚ºäº†ä¹‹å¾Œé–‹ç™¼èƒ½å°‘æ‰“ä¸€é» Codeï¼Œé€™é‚ŠåŠ å…¥ &lt;a class="link" href="https://pugjs.org/" target="_blank" rel="noopener"
>pug&lt;/a> åˆ°å°ˆæ¡ˆã€‚&lt;/p>
&lt;h3 id="å®‰è£-vite-plugin-pug">å®‰è£ @vite-plugin-pug&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D vite-plugin-pug
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D vite-plugin-pug&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç›´æ¥é–‹å§‹é«”é©—-pug">ç›´æ¥é–‹å§‹é«”é©— Pug&lt;/h3>
&lt;p>ç›´æ¥å°‡åŸå…ˆçš„ &lt;code>app.vue&lt;/code> æ”¹ç”¨ pug èªæ³•ä¾†æ’°å¯«ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;pug&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">div&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">bg&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">white&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">py&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">24&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">flex&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">col&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">items&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">center&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">flex&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">h1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="nx">xl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">font&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">semibold&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">blue&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">600&lt;/span> &lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mt&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">4.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="nx">xl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">font&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">bold&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">gray&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">900&lt;/span> &lt;span class="nx">éµäººè³½&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">lang&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ts&amp;#34;&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">year&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;2022&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™é‚Šæ¨è–¦ä¸€æ¬¾ VS Code çš„å¥—ä»¶ - &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=dbalas.vscode-html2pug" target="_blank" rel="noopener"
>html2pug&lt;/a>ï¼Œå°‡ HTML åç™½å¾Œé»é¸ VS Code ä¸Šæ–¹çš„ &lt;strong>View&lt;/strong> &amp;gt; &lt;strong>Command Palette&amp;hellip;&lt;/strong>ï¼Œå°‹æ‰¾ä¸¦åŸ·è¡Œ &lt;strong>&amp;quot;&amp;gt; html2pug: Transform&amp;quot;&lt;/strong>ï¼Œå³å¯å°‡åç™½çš„ HTML è‡ªå‹•è½‰æ›æˆ pug èªæ³•ã€‚&lt;/p>
&lt;p>ä¸ç”¨ç®¡ HTML çš„çµå°¾ç¬¦è™Ÿï¼Œå¯«èµ·ä¾†æ•´å€‹å°±æ˜¯èˆ’æœé˜¿~~~&lt;/p>
&lt;hr>
&lt;h2 id="ç›®éŒ„çµæ§‹èˆ‡è‡ªå‹•è¼‰å…¥-auto-imports">ç›®éŒ„çµæ§‹èˆ‡è‡ªå‹•è¼‰å…¥ (Auto Imports)&lt;/h2>
&lt;p>éš¨è‘—æ•´å€‹å°ˆæ¡ˆçš„é–‹ç™¼ï¼Œç›®éŒ„èˆ‡å…ƒä»¶å‹¢å¿…ä¹Ÿæœƒè¶Šä¾†è¶Šå¤šï¼Œå¦‚åŒ Vue 3 çš„å°ˆæ¡ˆå¯èƒ½æœƒæœ‰å°ˆé–€æ”¾ç½®å…ƒä»¶ç›®éŒ„ components ç­‰ï¼Œåœ¨ Vue 3 æˆ‘å€‘å¯èƒ½ä¸å¤ªéœ€è¦å»åœ¨æ„ç›®éŒ„çš„åç¨±ï¼Œä½†åœ¨ Nuxt 3 çš„å°ˆæ¡ˆä¸‹ï¼Œæœ‰ä¸€äº›ç›®éŒ„èˆ‡åç¨±å…¶å¯¦æœ‰ä¸€äº›åŸºæœ¬çš„è¦å®šèˆ‡åç¨±ï¼Œåªè¦ç…§è‘— Nuxt 3 ç´„å®šå¥½çš„æ–¹å¼é€²è¡Œé–‹ç™¼ï¼Œå°±èƒ½æ›´å¥½åˆ©ç”¨ Nuxt 3 å¹«ä½ å®Œæˆè¨±å¤šè²¼å¿ƒçš„åŠŸèƒ½ã€‚&lt;/p>
&lt;h3 id="nuxt-3-çš„ç›®éŒ„çµæ§‹">Nuxt 3 çš„ç›®éŒ„çµæ§‹&lt;/h3>
&lt;p>ç•¶æˆ‘å€‘ Nuxt CLI å»ºç«‹ç¬¬ä¸€å€‹ Nuxt 3 å°ˆæ¡ˆä¸¦ç¬¬ä¸€æ¬¡å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨å¾Œï¼Œå°ˆæ¡ˆç›®éŒ„çµæ§‹æœƒé•·å¾—åƒé€™æ¨£ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964404_21aac96f76_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å¦‚æœä½ æ˜¯è·Ÿè‘—é€™å€‹ç³»åˆ—å®‰è£äº† TypeScriptã€Linterã€Tailwind CSS åŠ Pug ç­‰å¥—ä»¶ï¼Œé‚£éº¼å°ˆæ¡ˆç›®éŒ„çµæ§‹æœƒé•·å¾—åƒé€™æ¨£ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698211_e29e8f9352_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é›–ç„¶æˆ‘å€‘èƒ½ä¾ç…§éœ€æ±‚å»ºç«‹æª”æ¡ˆåŠç›®éŒ„ï¼Œä½† Nuxt 3 åœ¨&lt;code>ç›®éŒ„çš„çµæ§‹èˆ‡å‘½åå…¶å¯¦æœ‰ä¸€å®šçš„è¦å‰‡èˆ‡æ¨¡å¼&lt;/code>ï¼Œä»¥ä¸‹é‡å° Nuxt 3 ä¾†è¬›è¿°ä¸€ä¸‹ç›®éŒ„çš„çµæ§‹èˆ‡éµå¾ªçš„æ–¹å¼ã€‚&lt;/p>
&lt;h3 id="nuxt-3-é è¨­çš„ç›®éŒ„çµæ§‹">Nuxt 3 é è¨­çš„ç›®éŒ„çµæ§‹&lt;/h3>
&lt;p>Nuxt 3 æ¡†æ¶å¸Œæœ›æˆ‘å€‘å¯ä»¥å°ˆæ³¨åœ¨é–‹ç™¼è€Œä¸æ˜¯åœ¨é…ç½®ï¼Œæ‰€ä»¥åœ¨é è¨­çš„æƒ…æ³å°ˆæ¡ˆçš„ç›®éŒ„æ¶æ§‹å·²ç¶“æœ‰ä¸€å€‹ä¸éŒ¯çš„çµæ§‹å¯ä»¥éµå¾ªã€‚&lt;/p>
&lt;p>ä¾æ“š&lt;a class="link" href="https://nuxt.com/docs/guide/concepts/auto-imports" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ï¼Œä¸€å€‹å®Œæ•´çš„ Nuxt 3 å°ˆæ¡ˆï¼Œå®ƒçš„ç›®éŒ„çµæ§‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nuxt-app/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .nuxt/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .output/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ assets/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ components/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ composables/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ content/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ layouts/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ middleware/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ node_modules/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ pages/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ plugins/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ public/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ server/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ api/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ routes/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ middleware/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .gitignore
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ .nuxtignore
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ app.config.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ app.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ nuxt.config.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ package.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ tsconfig.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="nuxt-ç›®éŒ„">.nuxt ç›®éŒ„&lt;/h4>
&lt;p>é–‹ç™¼ç’°å¢ƒä¸‹ç”± Nuxt ç”¢ç”Ÿå‡º Vue çš„ç¶²ç«™ï¼Œ.nuxt ç›®éŒ„æ˜¯&lt;code>è‡ªå‹•ç”¢ç”Ÿ&lt;/code>çš„ï¼Œ&lt;strong>ä½ ä¸æ‡‰è©²ä»»æ„çš„èª¿æ•´è£¡é¢æª”æ¡ˆ&lt;/strong>ã€‚&lt;/p>
&lt;h4 id="output-ç›®éŒ„">.output ç›®éŒ„&lt;/h4>
&lt;p>ç•¶ä½ çš„ç¶²ç«™æº–å‚™éƒ¨ç½²è‡³æ­£å¼ç’°å¢ƒæ™‚ï¼Œæ¯æ¬¡ç·¨è­¯å»ºæ§‹å°ˆæ¡ˆæ™‚ï¼Œçš†æœƒ&lt;code>è‡ªå‹•é‡æ–°ç”¢ç”Ÿ&lt;/code>é€™å€‹ç›®éŒ„ï¼Œ&lt;strong>ä½ ä¸æ‡‰è©²ä»»æ„çš„èª¿æ•´è£¡é¢æª”æ¡ˆ&lt;/strong>ã€‚&lt;/p>
&lt;h4 id="assets-ç›®éŒ„">assets ç›®éŒ„&lt;/h4>
&lt;p>é¡§åæ€ç¾©ï¼Œé€™æ˜¯éœæ…‹è³‡æºæª”æ¡ˆæ‰€æ”¾ç½®çš„ä½ç½®ï¼Œç›®éŒ„å…§é€šå¸¸åŒ…å«ä»¥ä¸‹é¡å‹çš„æª”æ¡ˆï¼š&lt;/p>
&lt;ul>
&lt;li>CSS æ¨£å¼æª”æ¡ˆ (CSSã€SASS ç­‰&amp;hellip;)&lt;/li>
&lt;li>å­—å‹&lt;/li>
&lt;li>åœ–ç‰‡&lt;/li>
&lt;/ul>
&lt;p>é€™äº›éœæ…‹è³‡æºï¼Œæœ€çµ‚åœ¨å°ˆæ¡ˆç·¨è­¯å»ºæ§‹æ™‚ï¼Œç”± Vite æˆ– webpack é€²è¡Œç·¨è­¯æ‰“åŒ…ã€‚&lt;/p>
&lt;h4 id="components-ç›®éŒ„">components ç›®éŒ„&lt;/h4>
&lt;p>æ”¾ç½® Vue å…ƒä»¶çš„åœ°æ–¹ï¼ŒNuxt æœƒè‡ªå‹•è¼‰å…¥é€™å€‹ç›®éŒ„ä¸­çš„ä»»ä½•å…ƒä»¶ã€‚&lt;/p>
&lt;h4 id="composables-ç›®éŒ„">composables ç›®éŒ„&lt;/h4>
&lt;p>çµ„åˆå¼å‡½æ•¸æ”¾ç½®çš„ç›®éŒ„ï¼Œç°¡å–®ä¾†èªªå¯ä»¥æŠŠå¸¸ç”¨æˆ–é€šç”¨çš„åŠŸèƒ½å¯«æˆä¸€å€‹å…±ç”¨çš„å‡½æ•¸æˆ– JS æª”æ¡ˆï¼Œæ”¾ç½®åœ¨é€™å€‹ç›®éŒ„è¦–ç‚ºçµ„åˆå¼å‡½æ•¸ï¼ŒNuxt ä¹Ÿæœƒè‡ªå‹•è¼‰å…¥é€™äº›çµ„åˆå¼å‡½æ•¸ï¼Œè®“éœ€è¦ä½¿ç”¨çš„é é¢æˆ–å…ƒä»¶å¯ä»¥ç›´æ¥åšä½¿ç”¨ã€‚&lt;/p>
&lt;h4 id="content-ç›®éŒ„">content ç›®éŒ„&lt;/h4>
&lt;p>é€éä½¿ç”¨ &lt;a class="link" href="https://content.nuxtjs.org/" target="_blank" rel="noopener"
>Nuxt Content&lt;/a>ï¼Œæˆ‘å€‘å¯ä»¥åœ¨é€™å€‹ç›®éŒ„ä¸‹å»ºç«‹ &lt;strong>.md&lt;/strong>ã€&lt;strong>.yml&lt;/strong>ã€&lt;strong>.csv&lt;/strong> å’Œ &lt;strong>.json&lt;/strong> æª”æ¡ˆï¼ŒNuxt Content æœƒè®€å–ä¸¦è§£æé€™äº›æ–‡ä»¶ä¸¦é€²è¡Œæ¸²æŸ“ï¼Œç”¨ä¾†å»ºç«‹åŸºæ–¼æ–‡ä»¶çš„&lt;strong>å…§å®¹ç®¡ç†ç³»çµ±&lt;/strong>(Content Management Systemï¼Œç°¡ç¨±ï¼šCMS)ã€‚&lt;/p>
&lt;h4 id="layouts-ç›®éŒ„">layouts ç›®éŒ„&lt;/h4>
&lt;p>ç”¨æ–¼æ”¾ç½®é€šç”¨æˆ–å¯èƒ½é‡è¤‡ä½¿ç”¨åˆ°çš„ä½ˆå±€æ¨¡æ¿ï¼Œæä¾›ç¨‹å¼ç¢¼çš„å¯é‡è¤‡ä½¿ç”¨æ€§ã€‚&lt;/p>
&lt;h4 id="middleware-ç›®éŒ„">middleware ç›®éŒ„&lt;/h4>
&lt;p>Nuxt 3 æä¾›äº†è·¯ç”±ä¸­é–“ä»¶çš„æ¦‚å¿µï¼Œç”¨æ–¼å°èˆªåˆ°ä¸‹ä¸€å€‹é é¢ä¹‹å‰åŸ·è¡Œä¸€äº›ç¨‹å¼ç¢¼å¦‚&lt;strong>æ¬Šé™é©—è­‰&lt;/strong>&amp;hellip;ç­‰ã€‚&lt;/p>
&lt;h4 id="node_modules-ç›®éŒ„">node_modules ç›®éŒ„&lt;/h4>
&lt;p>é€šå¸¸æœ‰ä½¿ç”¨ Node.js çš„å¥—ä»¶ç®¡ç†ï¼Œä¾‹å¦‚ NPMï¼Œå°æ­¤ç›®éŒ„æ‡‰è©²æœ‰ä¸€äº›å°è±¡ï¼Œä½¿ç”¨ Nuxt 3 åŠå°ˆæ¡ˆæ‰€éœ€è¦çš„ç›¸ä¾å¥—ä»¶éƒ½æœƒå­˜æ”¾åœ¨é€™å€‹ç›®éŒ„ã€‚&lt;/p>
&lt;h4 id="pages-ç›®éŒ„">pages ç›®éŒ„&lt;/h4>
&lt;p>é€™å€‹ç›®éŒ„ä¸»è¦æ˜¯ç”¨ä¾†é…ç½®æˆ‘å€‘çš„é é¢ï¼Œä½ ä¹Ÿå¯ä»¥åªä½¿ç”¨ &lt;strong>app.vue&lt;/strong> ä¾†å®Œæˆä½ çš„ç¶²ç«™ï¼Œä½†å¦‚æœå»ºç«‹äº† &lt;strong>pages&lt;/strong> é€™å€‹ç›®éŒ„ï¼ŒNuxt 3 æœƒè‡ªå‹•æ•´åˆ &lt;code>vue-router&lt;/code>ï¼Œä¸¦æœƒä¾æ“šç›®éŒ„åŠæª”æ¡ˆçµæ§‹è¦å‰‡ä¾†&lt;code>è‡ªå‹•ç”¢ç”Ÿå‡ºå°æ‡‰è·¯ç”±&lt;/code>ï¼Œä¹Ÿæ˜¯ Nuxt3 ç”¢ç”Ÿè·¯ç”±çš„æ–¹å¼ã€‚&lt;/p>
&lt;h4 id="plugins-ç›®éŒ„">plugins ç›®éŒ„&lt;/h4>
&lt;p>Nuxt æœƒè‡ªå‹•è¼‰å…¥é€™å€‹ç›®éŒ„æª”æ¡ˆï¼Œä½œç‚ºæ’ä»¶ä½¿ç”¨ï¼Œåœ¨æª”æ¡ˆåç¨±å¯ä»¥ä½¿ç”¨å¾Œç¶´ &lt;code>.server&lt;/code> æˆ– &lt;code>.client&lt;/code>ï¼Œä¾‹å¦‚ï¼Œ&lt;code>plugin.server.ts&lt;/code> æˆ– &lt;code>plugin.client.ts&lt;/code> ä¾†æ±ºå®šåªè®“ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯è¼‰å…¥é€™å€‹æ’ä»¶ã€‚&lt;/p>
&lt;h4 id="server-ç›®éŒ„">server ç›®éŒ„&lt;/h4>
&lt;p>ç”¨æ–¼å»ºç«‹ä»»ä½•å¾Œç«¯çš„é‚è¼¯å¦‚å¾Œç«¯ APIï¼Œé€™å€‹ç›®éŒ„ä¸‹é‚„åŒ…å«äº† &lt;code>api&lt;/code>ã€&lt;code>server&lt;/code> å’Œ &lt;code>middleware&lt;/code> ä¾†å€åˆ†åŠŸèƒ½ï¼Œä¸å…·æœ‰è‡ªå‹•è¼‰å…¥ï¼Œä½†æ”¯æ´ HMRã€‚&lt;/p>
&lt;h4 id="gitignore-æª”æ¡ˆ">.gitignore æª”æ¡ˆ&lt;/h4>
&lt;p>åœ¨ä½¿ç”¨ Git ç‰ˆæœ¬æ§åˆ¶æ™‚ï¼Œå¯ä»¥è¨­ç½®ä¸€äº›ä¸éœ€è¦æˆ–å¿½ç•¥é—œæ³¨è®Šå‹•çš„æª”æ¡ˆåŠç›®éŒ„ã€‚&lt;/p>
&lt;h4 id="nuxtignore-æª”æ¡ˆ">.nuxtignore æª”æ¡ˆ&lt;/h4>
&lt;p>å¯ä»¥è¨­ç½®è®“ Nuxt ç·¨è­¯å»ºæ§‹æ™‚ï¼Œå¿½ç•¥ä¸€äº›ä¸éœ€è¦æˆ–æ¬²å¿½ç•¥çš„æª”æ¡ˆã€‚&lt;/p>
&lt;h4 id="appconfigts-æª”æ¡ˆ">app.config.ts æª”æ¡ˆ&lt;/h4>
&lt;p>æä¾›æœå‹™é‹è¡Œæ™‚æš´éœ²çµ¦å®¢æˆ¶ç«¯ä½¿ç”¨çš„è¨­å®šï¼Œå› æ­¤ï¼Œè«‹ä¸è¦åœ¨ &lt;strong>app.config.ts&lt;/strong> æª”æ¡ˆä¸­æ·»åŠ ä»»ä½•æ©Ÿå¯†è³‡è¨Šã€‚&lt;/p>
&lt;h4 id="appvue-æª”æ¡ˆ">app.vue æª”æ¡ˆ&lt;/h4>
&lt;p>Nuxt 3 ç¶²ç«™çš„å…¥å£é»å…ƒä»¶ã€‚&lt;/p>
&lt;h4 id="nuxtconfigts-æª”æ¡ˆ">nuxt.config.ts æª”æ¡ˆ&lt;/h4>
&lt;p>ç”¨æ–¼é…ç½® Nuxt å°ˆæ¡ˆçš„è¨­å®šæª”ã€‚&lt;/p>
&lt;h4 id="packagejson-æª”æ¡ˆ">package.json æª”æ¡ˆ&lt;/h4>
&lt;p>é€™å€‹æª”æ¡ˆè£¡é¢å®šç¾©äº†å°ˆæ¡ˆè³‡è¨Šã€è…³æœ¬ã€ç›¸ä¾å¥—ä»¶åŠç‰ˆæœ¬è™Ÿï¼Œé€šå¸¸æœ‰ä½¿ç”¨ Node.js å¥—ä»¶ç®¡ç†å·¥å…·å»ºç½®çš„å°ˆæ¡ˆéƒ½æœƒåŒ…å«æ­¤æª”æ¡ˆã€‚&lt;/p>
&lt;h4 id="tsconfigjson-æª”æ¡ˆ">tsconfig.json æª”æ¡ˆ&lt;/h4>
&lt;p>Nuxt 3 æœƒåœ¨ &lt;strong>.nuxt&lt;/strong> ç›®éŒ„ä¸‹&lt;code>è‡ªå‹•ç”¢ç”Ÿ&lt;/code>ä¸€å€‹ &lt;code>tsconfig.json&lt;/code> æª”æ¡ˆï¼Œå…¶ä¸­å·²ç¶“åŒ…å«äº†ä¸€äº›è§£æåˆ¥åç­‰é è¨­é…ç½®ï¼›ä½ å¯ä»¥é€é&lt;code>å°ˆæ¡ˆç›®éŒ„&lt;/code>ä¸‹çš„ &lt;code>tsconfig.json&lt;/code> ä¾†é…ç½®æ“´å±•æˆ–è¦†è“‹ Nuxt 3 é è¨­çš„ TypeScript è¨­å®šæª”ã€‚&lt;/p>
&lt;h3 id="è‡ªè¨‚ç›®éŒ„åç¨±">è‡ªè¨‚ç›®éŒ„åç¨±&lt;/h3>
&lt;p>å‰é¢ç°¡ä»‹äº† Nuxt 3 çš„é è¨­ç›®éŒ„çµæ§‹èˆ‡ç”¨é€”ï¼Œåœ¨ç›®éŒ„åç¨±ä¸Š Nuxt 3 ä¹Ÿæä¾›äº†å¯ä»¥èª¿æ•´ç›®éŒ„åç¨±çš„æ–¹å¼ï¼Œåªè¦åœ¨ &lt;code>nuxt.config.ts&lt;/code> ä¿®æ”¹å°æ‡‰çš„åƒæ•¸ï¼Œå°±å¯ä»¥è‡ªè¨‚ç›®éŒ„çš„åç¨±ã€‚ä¸éå‘¢ï¼Œä¹Ÿä¸¦ä¸æ˜¯æ‰€æœ‰çš„ç›®éŒ„éƒ½èƒ½ä¿®æ”¹ï¼Œç›®å‰&lt;a class="link" href="https://nuxt.com/docs/api/configuration/nuxt-config#dir" target="_blank" rel="noopener"
>å®˜æ–¹æä¾›&lt;/a>çš„ dir åƒæ•¸å…±æœ‰ä»¥ä¸‹å››å€‹ç›®éŒ„åƒæ•¸é¸é …ä¾›ä¿®æ”¹ï¼š&lt;/p>
&lt;ul>
&lt;li>layouts&lt;/li>
&lt;li>middleware&lt;/li>
&lt;li>pages&lt;/li>
&lt;li>public&lt;/li>
&lt;/ul>
&lt;p>ä¾‹å¦‚æˆ‘æƒ³å°‡ &lt;strong>pages&lt;/strong> ç›®éŒ„åç¨±èª¿æ•´ç‚º &lt;strong>views&lt;/strong> å°±å¯ä»¥æ–°å¢ä¸‹åˆ— &lt;code>dir&lt;/code> è¨­å®šæ·»åŠ è‡³ &lt;code>nuxt.config.ts&lt;/code>ï¼Œå°±å¯ä»¥å°‡ &lt;strong>pages&lt;/strong> ç›®éŒ„åŠŸèƒ½åŠè¦å‰‡èª¿æ•´ç‚º &lt;strong>views&lt;/strong> ç›®éŒ„ä¾†å¯¦ç¾ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dir&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pages&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;views&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è‡ªå‹•è¼‰å…¥-auto-imports">è‡ªå‹•è¼‰å…¥ (Auto Imports)&lt;/h3>
&lt;p>åœ¨ä»‹ç´¹ç›®éŒ„çµæ§‹æ™‚æœ‰æåˆ°ï¼ŒæŸäº›ç›®éŒ„ä¸‹çš„æª”æ¡ˆæ˜¯å…·æœ‰&lt;code>è‡ªå‹•è¼‰å…¥ (Auto Imports)&lt;/code>çš„åŠŸèƒ½ï¼Œæ„æ€å°±æ˜¯èªªï¼Œç•¶æˆ‘å€‘åœ¨é€™äº›ç‰¹å®šçš„ç›®éŒ„ &lt;code>components&lt;/code>ã€&lt;code>composables&lt;/code>ã€&lt;code>layouts&lt;/code>ã€&lt;code>plugins&lt;/code> æ·»åŠ æª”æ¡ˆæ™‚ï¼ŒNuxt 3 æœƒè‡ªå‹•è¼‰å…¥é€™äº›å…ƒä»¶æˆ–å‡½æ•¸ã€‚&lt;/p>
&lt;p>Nuxt 3 çš„è‡ªå‹•è¼‰å…¥å…·é«”æœ‰ä»¥ä¸‹ä¸‰ç¨®ï¼š&lt;/p>
&lt;ul>
&lt;li>Nuxt å¸¸ç”¨å…ƒä»¶èˆ‡å‡½æ•¸&lt;/li>
&lt;li>Vue 3 çš„ API&lt;/li>
&lt;li>åŸºæ–¼ç›®éŒ„çš„è‡ªå‹•è¼‰å…¥&lt;/li>
&lt;/ul>
&lt;h4 id="nuxt-å¸¸ç”¨å…ƒä»¶èˆ‡å‡½æ•¸çš„è‡ªå‹•è¼‰å…¥">Nuxt å¸¸ç”¨å…ƒä»¶èˆ‡å‡½æ•¸çš„è‡ªå‹•è¼‰å…¥&lt;/h4>
&lt;p>Nuxt æœƒè‡ªå‹•è¼‰å…¥ä¸€äº›å…ƒä»¶æˆ–çµ„åˆå¼å‡½æ•¸ï¼Œç”¨ä»¥è®“é–‹ç™¼æ™‚å¯ä»¥åœ¨å…¨éƒ¨é é¢æˆ–å®šç¾©çµ„ä»¶å’Œæ’ä»¶å¯ä»¥ä½¿ç”¨ã€‚&lt;/p>
&lt;p>Nuxt è‡ªå‹•è¼‰å…¥çš„å…ƒä»¶å°±å¥½æ¯” &lt;strong>app.vue&lt;/strong> ç¨‹å¼ç¢¼å…§ï¼Œä¸€é–‹å§‹åœ¨ &lt;strong>template&lt;/strong> å°±æœ‰çš„ &lt;code>&amp;lt;NuxtWelcome /&amp;gt;&lt;/code> æ­¡è¿é é¢å…ƒä»¶ï¼Œå…¶ä»–é‚„åŒ…å«äº† &lt;code>&amp;lt;NuxtPage&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;NuxtLayout&amp;gt;&lt;/code> å’Œ &lt;code>&amp;lt;NuxtLink&amp;gt;&lt;/code> ç­‰ï¼Œè©³ç´°å¯ä»¥åƒè€ƒ&lt;a class="link" href="https://nuxt.com/docs/api/components/client-only" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œä¸‹é¢ç¨‹å¼ç¢¼ä¸­çš„ &lt;code>useAsyncData&lt;/code> èˆ‡ &lt;code>$fetch&lt;/code> å°±æ˜¯ Nuxt è‡ªå‹•è¼‰å…¥çš„çµ„åˆå¼å‡½æ•¸ï¼Œåœ¨å„å€‹é é¢æˆ–å…ƒä»¶éƒ½èƒ½åšä½¿ç”¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">refresh&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pending&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">useAsyncData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/hello&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">$fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/hello&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="vue-3-api-çš„è‡ªå‹•è¼‰å…¥">Vue 3 API çš„è‡ªå‹•è¼‰å…¥&lt;/h4>
&lt;p>ä¾‹å¦‚ï¼ŒVue 3 ä¸­æœƒä½¿ç”¨åˆ°çš„ &lt;code>ref&lt;/code>ã€&lt;code>computed&lt;/code> ç­‰é€™é¡çš„ helpers æˆ– lifecycle hooksï¼Œåœ¨ Nuxt 3 ä¹Ÿéƒ½å°‡æœƒè‡ªå‹•çš„è¼‰å…¥ï¼Œä¸éœ€è¦åœ¨ importã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ä¸éœ€è¦åœ¨ import ref æˆ– computed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="kr">double&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åŸºæ–¼ç›®éŒ„çš„è‡ªå‹•è¼‰å…¥">åŸºæ–¼ç›®éŒ„çš„è‡ªå‹•è¼‰å…¥&lt;/h4>
&lt;p>å¦‚å‰é¢æ‰€æåŠçš„ï¼ŒNuxt æœƒè‡ªå‹•è¼‰å…¥å®šç¾©åœ¨ç‰¹å®šç›®éŒ„çš„æª”æ¡ˆï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;ul>
&lt;li>components: ç›¸å°æ–¼ Vue çš„çµ„ä»¶ã€‚&lt;/li>
&lt;li>composables: ç›¸å°æ–¼ Vue çš„çµ„åˆå¼å‡½æ•¸ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="å»ºç«‹ä¸€å€‹è‡ªå‹•å°å…¥çš„å…ƒä»¶">å»ºç«‹ä¸€å€‹è‡ªå‹•å°å…¥çš„å…ƒä»¶&lt;/h3>
&lt;p>æˆ‘å€‘å»ºç«‹ä¸€å€‹ &lt;strong>./components/IronManWelcome.vue&lt;/strong> æª”æ¡ˆï¼š&lt;/p>
&lt;h5 id="componentsironmanwelcomevue">components/IronManWelcome.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ &lt;strong>app.vue&lt;/strong> æª”æ¡ˆä¸­ï¼Œæ–°å¢ &lt;code>&amp;lt;IronManWelcome /&amp;gt;&lt;/code> å…ƒä»¶ã€‚&lt;/p>
&lt;h5 id="appvue">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">IronManWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¾åœ¨ï¼Œç€è¦½å™¨å¯ä»¥çœ‹è¦‹æˆ‘å€‘æ·»åŠ çš„å…ƒä»¶æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188282_4d52db7fc1_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å¯ä»¥ç™¼ç¾ï¼Œæˆ‘å€‘ä¸éœ€è¦æ·»åŠ  &lt;code>import IronManWelcome from './components/IronManWelcome'&lt;/code> å°±å¯ä»¥ç›´æ¥åœ¨ template ç›´æ¥ä½¿ç”¨ &lt;code>&amp;lt;IronManWelcome /&amp;gt;&lt;/code> å…ƒä»¶ï¼Œé€™å°±æ˜¯ Nuxt 3 åŸºæ–¼ç›®éŒ„çš„è‡ªå‹•è¼‰å…¥åŠŸèƒ½ã€‚&lt;/p>
&lt;h3 id="é—œé–‰è‡ªå‹•è¼‰å…¥">é—œé–‰è‡ªå‹•è¼‰å…¥&lt;/h3>
&lt;p>å¦‚æœæƒ³&lt;code>é—œé–‰&lt;/code> Nuxt çš„è‡ªå‹•è¼‰å…¥å…ƒä»¶æˆ–å‡½æ•¸çš„åŠŸèƒ½ï¼Œå¯ä»¥ä¿®æ”¹å°ˆæ¡ˆç›®éŒ„ä¸‹çš„ &lt;code>nuxt.config.ts&lt;/code> æª”æ¡ˆï¼Œå°‡ &lt;code>imports.autoImport&lt;/code> è¨­å®šç‚º &lt;code>false&lt;/code>ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">imports&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">autoImport&lt;/span>: &lt;span class="kt">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é¡¯å¼è¼‰å…¥-explicit-imports">é¡¯å¼è¼‰å…¥ (Explicit Imports)&lt;/h3>
&lt;p>Explicit (é¡¯å¼ã€æ˜ç¢ºçš„)ï¼Œç•¶æˆ‘å€‘éœ€è¦æ‰‹å‹•è¼‰å…¥ï¼Œå°±å¯ä»¥ç”¨ &lt;code>#import&lt;/code> é€™å€‹ Nuxt é‡‹å‡ºçš„åˆ¥åï¼Œä¾†å€‹åˆ¥è¼‰å…¥é‚£äº›å…·æœ‰è‡ªå‹•è¼‰å…¥çš„å…ƒä»¶æˆ–å‡½æ•¸ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">computed&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;#imports&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="kr">double&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>Nuxt 3 çš„å°ˆæ¡ˆç›®éŒ„èˆ‡çµæ§‹å·²ç¶“æœ‰ä¸€å€‹è¦å®šå¯ä»¥éµå®ˆï¼ŒNuxt 3 è¦åŠƒçš„ç›®éŒ„åŠæª”æ¡ˆæ¶æ§‹ï¼Œè®“æˆ‘å€‘å¯ä»¥ä¸ç”¨å†ç…©æƒ±è©²å¦‚ä½•é…ç½®ï¼Œåªéœ€è¦å°ˆæ³¨é–‹ç™¼ï¼Œç•¶ä½ ç†Ÿæ‚‰é€™äº›ç›®éŒ„æª”æ¡ˆè¦å‰‡èˆ‡è‡ªå‹•è¼‰å…¥çš„ç‰¹æ€§ï¼Œè‚¯å®šèƒ½æ›´å¿«ä¸Šæ‰‹ Nuxt 3ã€‚&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="é é¢-pages-èˆ‡è·¯ç”±-routing">é é¢ (Pages) èˆ‡è·¯ç”± (Routing)&lt;/h2>
&lt;p>åœ¨ Vue ä¸­ï¼Œæˆ‘å€‘æœƒä½¿ç”¨åˆ° &lt;a class="link" href="https://router.vuejs.org/" target="_blank" rel="noopener"
>Vue Router&lt;/a> ä¾†å¯¦ç¾åˆ‡æ›é é¢æˆ–è·¯ç”±çš„éœ€æ±‚ï¼Œè€Œåœ¨ Nuxt 3 ä¸­ï¼Œé è¨­æ˜¯æ²’æœ‰ä½¿ç”¨è·¯ç”±ç›¸é—œå¥—ä»¶ï¼Œç›´è‡³å»ºç«‹äº† &lt;strong>pages&lt;/strong> ç›®éŒ„ï¼ŒNuxt å°‡æœƒè‡ªå‹•è¼‰å…¥ Vue Router ä¾†ç®¡ç†è·¯ç”±ï¼Œä¸¦ä¸”å…·æœ‰ä¸€å®šçš„è¦å‰‡éœ€è¦éµå¾ªï¼Œä»¥ä¸‹å°‡ä»‹ç´¹é é¢ç›®éŒ„èˆ‡è·¯ç”±ä¹‹é–“çš„é—œä¿‚ã€‚&lt;/p>
&lt;h3 id="åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±-file-based-routing">åŸºæ–¼æª”æ¡ˆçš„è·¯ç”± (File-based Routing)&lt;/h3>
&lt;p>åœ¨ Nuxt 3 å°ˆæ¡ˆçš„ &lt;strong>pages&lt;/strong> ç›®éŒ„ä¸‹ï¼Œç•¶æˆ‘å€‘å»ºç«‹äº†ä¸€å€‹é é¢æª”æ¡ˆï¼Œå°±æœƒä»¥è©²æª”æ¡ˆå»ºç«‹å‡ºç›¸å°æ‡‰çš„è·¯ç”±ï¼ŒNuxt 3 åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±ï¼Œä¹Ÿä½¿ç”¨äº†ç¨‹å¼ç¢¼æ‹†åˆ†å°‡æ¯å€‹é é¢éœ€è¦çš„ç¨‹å¼ç¢¼æ¢³ç†å‡ºä¾†ï¼Œä¸¦ä»¥å‹•æ…‹è¼‰å…¥çš„æ–¹å¼è¼‰å…¥æœ€å°æ‰€éœ€è¦çš„ç¨‹å¼ç¢¼ã€‚å› ç‚ºæ˜¯ä»¥&lt;strong>ç›®éŒ„çµæ§‹&lt;/strong>èˆ‡&lt;strong>æª”æ¡ˆå‘½å&lt;/strong>æ–¹å¼ä¾†ç´„å®šï¼Œä¹Ÿç¨±ä¹‹ç‚ºç´„å®šå¼è·¯ç”±ã€‚&lt;/p>
&lt;h4 id="å»ºç«‹ç¬¬ä¸€å€‹é é¢">å»ºç«‹ç¬¬ä¸€å€‹é é¢&lt;/h4>
&lt;p>Nuxt 3 çš„ &lt;strong>pages&lt;/strong> ç›®éŒ„ï¼Œæ˜¯ç”¨ä¾†å»ºç«‹é é¢ä¸¦æ”¾ç½®çš„ç›®éŒ„ï¼Œç•¶å°ˆæ¡ˆä¸‹æœ‰å­˜åœ¨ &lt;strong>pages&lt;/strong> ç›®éŒ„ï¼ŒNuxt å°‡æœƒè‡ªå‹•è¼‰å…¥ Vue Router ä¾†å¯¦ç¾è·¯ç”±æ•ˆæœï¼Œç›®éŒ„ä¸‹çš„æª”æ¡ˆé€šå¸¸æ˜¯ Vue çš„å…ƒä»¶ï¼Œä¹Ÿå…è¨±å…·æœ‰ &lt;strong>.vue&lt;/strong>ã€&lt;strong>.js&lt;/strong>ã€&lt;strong>.jsx&lt;/strong>ã€&lt;strong>.ts&lt;/strong> æˆ– &lt;strong>.tsx&lt;/strong> å‰¯æª”åçš„æª”æ¡ˆã€‚&lt;/p>
&lt;p>ç•¶æˆ‘å€‘å»ºç«‹ &lt;strong>./pages/index.vue&lt;/strong>ï¼Œæª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼Œå‰‡è¡¨ç¤ºè·¯ç”± &lt;code>/&lt;/code> å°æ‡‰åˆ°é€™å€‹é é¢æª”æ¡ˆï¼Œæˆ‘å€‘åªéœ€è¦å»ºç«‹æª”æ¡ˆï¼Œè·¯ç”±çš„é…ç½®å°‡æœƒç”± Nuxt 3 è‡ªå‹•ç”¢ç”Ÿã€‚&lt;/p>
&lt;h5 id="pagesindexvue">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥ä½ é‚„è¨˜å¾— Vue Router ä¸­çš„ &lt;code>&amp;lt;router-view /&amp;gt;&lt;/code>ï¼Œé€™æ˜¯è·¯ç”±éœ€è¦çš„é€²å…¥é»ï¼ŒåŒæ¨£çš„åœ¨ Nuxt 3 æˆ‘å€‘éœ€è¦ä½¿ç”¨ &lt;code>&amp;lt;NuxtPage /&amp;gt;&lt;/code> ä¾†é¡¯ç¤ºæˆ‘å€‘å»ºç«‹çš„è·¯ç”±é é¢ï¼Œ&lt;code>é€™è£¡éå¸¸é‡è¦ï¼Œå¦å‰‡è·¯ç”±åŠé é¢å°‡ç„¡æ³•æ­£ç¢ºé‹ä½œ&lt;/code>ã€‚&lt;/p>
&lt;p>ä¿®æ”¹ &lt;strong>./app.vue&lt;/strong>ï¼Œæª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="appvue-1">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘åœ¨ç€è¦½å™¨ç€è¦½ &lt;code>/&lt;/code> è·¯ç”±ï¼Œå¦‚ &lt;code>http://localhost:3000/&lt;/code>ï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘å€‘åœ¨ &lt;strong>./pages/index.vue&lt;/strong> é é¢å…§å¯«çš„æ¨™é¡Œæ–‡å­—ã€Œé€™æ˜¯é¦–é ã€å›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186498_fb79e37a84_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å¤šå€‹è·¯ç”±é é¢">å¤šå€‹è·¯ç”±é é¢&lt;/h3>
&lt;p>åœ¨å¯¦å‹™ä¸Šï¼Œé€šå¸¸ä¸€å€‹ç¶²ç«™æœƒæœ‰å¤šå€‹é é¢ï¼Œä¸¦åˆ†åˆ¥å°æ‡‰åˆ°ä¸åŒçš„è·¯ç”±ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘å˜—è©¦å»ºç«‹ About èˆ‡ Contact å…©å€‹é é¢ã€‚&lt;/p>
&lt;h4 id="å»ºç«‹å¤šå€‹è·¯ç”±é é¢">å»ºç«‹å¤šå€‹è·¯ç”±é é¢&lt;/h4>
&lt;p>å»ºç«‹ &lt;strong>./pages/about.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesaboutvue">pages/about.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-yellow-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å¤§å®¶å¥½&lt;/span>&lt;span class="err">ï¼&lt;/span>&lt;span class="nx">æˆ‘æ˜¯&lt;/span> &lt;span class="nx">Ryan&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nx">about&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;strong>./pages/contact.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescontactvue">pages/contact.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-rose-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å¦‚æœæ²’äº‹ä¸è¦æ‰¾æˆ‘&lt;/span> &lt;span class="nx">xDDD&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nx">contact&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘åœ¨ç€è¦½å™¨åˆ†åˆ¥ç€è¦½ &lt;strong>/about&lt;/strong> æˆ– &lt;strong>/contact&lt;/strong>ï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘å€‘è·¯ç”±æ•ˆæœå›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186538_a097e76893_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188307_6a7217ce85_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å¯ä»¥ç™¼ç¾æ‰€å»ºç«‹çš„&lt;code>æª”æ¡ˆåç¨±&lt;/code>ï¼Œæœ€çµ‚å°±æœƒ&lt;code>è‡ªå‹•å°æ‡‰ç”¢ç”Ÿ&lt;/code>å‡º &lt;strong>/about&lt;/strong> åŠ &lt;strong>/contact&lt;/strong> è·¯ç”±ã€‚&lt;/p>
&lt;h4 id="è‡ªå‹•ç”¢ç”Ÿçš„è·¯ç”±">è‡ªå‹•ç”¢ç”Ÿçš„è·¯ç”±&lt;/h4>
&lt;p>å¦‚æœä½ æœ‰èˆˆè¶£æƒ³çœ‹çœ‹ Nuxt è‡ªå‹•ç”¢ç”Ÿå‡ºä¾†çš„è·¯ç”±é…ç½®é•·ä»€éº¼æ¨£å­ï¼Œå¯ä»¥ä½¿ç”¨ &lt;code>npm run build&lt;/code> æˆ– &lt;code>npx nuxt build&lt;/code> ä¾†å»ºæ§‹å‡º &lt;code>.output&lt;/code> ç›®éŒ„ï¼Œä¸¦æ‰“é–‹ &lt;strong>.output/server/chunks/app/server.mjs&lt;/strong>ï¼Œæœå°‹ &lt;code>const _routes =&lt;/code> æˆ–å‰›å‰›å»ºç«‹çš„æª”æ¡ˆåç¨± &lt;code>about.vue&lt;/code>ï¼Œå°±å¯ä»¥æ‰¾åˆ°ä¸‹é¢é€™ä¸€æ®µç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964449_0da965dc38_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€™æ®µç¨‹å¼ç¢¼èˆ‡ Vue ä¸­çš„è·¯ç”±é…ç½®éå¸¸ç›¸åƒï¼Œå…¶å¯¦é€™å°±æ˜¯ Nuxt 3 æª¢æ¸¬åˆ° &lt;strong>pages&lt;/strong> ç›®éŒ„ï¼Œè‡ªå‹•å¹«æˆ‘å€‘è¼‰å…¥ Vue Router èˆ‡ä¾æ“š &lt;strong>pages&lt;/strong> ç›®éŒ„ä¸‹çš„æª”æ¡ˆçµæ§‹ï¼Œè‡ªå‹•ç”¢ç”Ÿå‡ºæ‰€éœ€çš„è·¯ç”±é…ç½®ã€‚&lt;/p>
&lt;h3 id="å»ºç«‹è·¯ç”±é€£çµ">å»ºç«‹è·¯ç”±é€£çµ&lt;/h3>
&lt;p>åœ¨ Vue Router æˆ‘å€‘å¯ä»¥ä½¿ç”¨ &lt;code>&amp;lt;router-link&amp;gt;&lt;/code> ä¾†å»ºç«‹è·¯ç”±é€£çµï¼Œä»¥æ­¤ä¾†å°èˆªè‡³å…¶ä»–é é¢ï¼Œè€Œåœ¨ Nuxt 3 çš„è·¯ç”±ä¸­ï¼Œå‰‡æ˜¯ä½¿ç”¨ &lt;code>&amp;lt;NuxtLink&amp;gt;&lt;/code> ä¾†å»ºç«‹è·¯ç”±é€£çµä¾†é€²è¡Œé é¢çš„è·³è½‰ï¼Œæˆ‘å€‘å˜—è©¦åœ¨é¦–é æ–°å¢å¹¾å€‹è·¯ç”±é€£çµä¾†é€²è¡Œé é¢å°èˆªã€‚&lt;/p>
&lt;p>èª¿æ•´ &lt;strong>./pages/index.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesindexvue-1">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-4 flex space-x-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/about&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">About&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/contact&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">Contact&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘åœ¨ç€è¦½å™¨ç€è¦½é¦–é ï¼Œé»æ“Šã€Œå‰å¾€ Aboutã€æˆ–ã€Œå‰å¾€ Contactã€å°±å¯ä»¥çœ‹è¦‹è·¯ç”±å°èˆªæ•ˆæœå›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617134125_7f1f7071b0_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ä½¿ç”¨ &lt;code>&amp;lt;NuxtLink&amp;gt;&lt;/code> æ™‚ï¼Œå¯ä»¥å°±æŠŠå®ƒæƒ³åƒç‚º &lt;code>&amp;lt;router-link&amp;gt;&lt;/code> çš„æ›¿ä»£å“ï¼Œåƒ &lt;code>to&lt;/code> é€™å€‹ Pros æ§åˆ¶è·¯ç”±ä½ç½®çš„ç”¨æ³•åŸºæœ¬ä¸Šä¸€æ¨£ï¼Œå…¶ä»–æ›´å¤šçš„ Pros ç”¨æ³•åŠèªªæ˜å¯ä»¥åƒè€ƒå®˜ç¶²çš„&lt;a class="link" href="https://nuxt.com/docs/api/components/nuxt-link#props" target="_blank" rel="noopener"
>æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;p>å¦‚æœæƒ³è¦ä½¿ç”¨åƒ Vue Router æä¾›çš„ &lt;code>router.push&lt;/code> æ–¹æ³•æ–¼ Vue ä¸­ç›´æ¥å‘¼å«ä¾†å°èˆªè‡³å…¶ä»–é é¢ï¼Œåœ¨ Nuxt ä¸­ä½ å¯ä»¥ä½¿ç”¨ &lt;code>navigateTo&lt;/code>ï¼Œåƒæ•¸å¯ä»¥åƒè€ƒ&lt;a class="link" href="https://nuxt.com/docs/api/utils/navigate-to#navigateto" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ã€‚&lt;/p>
&lt;h3 id="ç´„å®šå¼è·¯ç”±ä¸­çš„-indexvue">ç´„å®šå¼è·¯ç”±ä¸­çš„ index.vue&lt;/h3>
&lt;p>åœ¨é–‹é ­æœ‰æåˆ°ï¼ŒNuxt 3 æä¾›äº†ä¸€å€‹åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±ï¼Œå¾ä¸Šè¿°ä¾‹å­ä½ æˆ–è¨±èƒ½ç™¼ç¾ï¼ŒåŸºæœ¬ä¸Šæª”æ¡ˆåç¨±å°±æ˜¯å°æ‡‰è‘—è·¯ç”±åç¨±ï¼Œä½† &lt;strong>index.vue&lt;/strong> æ¯”è¼ƒç‰¹åˆ¥ï¼Œå®ƒæ‰€å°æ‡‰çš„æ˜¯è·¯ç”± &lt;code>/&lt;/code>ã€‚&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>index.[ext]&lt;/strong> é€™å€‹æ•ˆæœå’Œç‰¹æ€§ï¼Œå…¶å¯¦æ˜¯èˆ‡ Node.js åº•å±¤æ ¸å¿ƒæœ‰é—œï¼Œåœ¨æ­¤å°±ä¸è´…è¿°ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å¯ä»¥åœ¨ &lt;strong>pages&lt;/strong> ä¸‹å»ºç«‹ä¸€å€‹ &lt;strong>docs.vue&lt;/strong> è¡¨ç¤ºå°æ‡‰è·¯ç”± &lt;strong>/docs&lt;/strong>ï¼Œä¹Ÿå¯ä»¥å°‡æª”æ¡ˆæ”¾ç½®åœ¨ &lt;strong>docs&lt;/strong> ç›®éŒ„ä¸‹ä¸¦é‡æ–°å‘½åç‚º &lt;strong>index.vue&lt;/strong> å³ &lt;strong>./pages/docs/index.vue&lt;/strong>ï¼Œé€™æ¨£ä¹Ÿå¯ä»¥é€é &lt;strong>/docs&lt;/strong> ç€è¦½åˆ°ç›¸åŒçš„é é¢ã€‚&lt;/p>
&lt;p>æ‰€ä»¥ç•¶ &lt;strong>index.vue&lt;/strong> å­˜åœ¨æ–¼ &lt;strong>pages&lt;/strong> ç›®éŒ„ä¸‹ï¼Œå·²ç¶“ä½æ–¼ç¶²ç«™é é¢çš„ç¬¬ä¸€å±¤ï¼Œæ‰€ä»¥æˆ‘å€‘ç€è¦½ &lt;a class="link" href="http://localhost:3000/" target="_blank" rel="noopener"
>http://localhost:3000/&lt;/a> å°±å¯ä»¥åšå‡ºé¦–é çš„æ•ˆæœã€‚&lt;/p>
&lt;h3 id="å¸¶åƒæ•¸çš„å‹•æ…‹è·¯ç”±åŒ¹é…">å¸¶åƒæ•¸çš„å‹•æ…‹è·¯ç”±åŒ¹é…&lt;/h3>
&lt;p>åœ¨å¯¦å‹™ä¸Šï¼Œæˆ‘å€‘å¯èƒ½éœ€è¦å°‡è·¯å¾‘ä½œç‚ºåƒæ•¸å‚³éçµ¦åŒä¸€å€‹å…ƒä»¶ï¼Œä¾‹å¦‚ï¼Œæˆ‘å€‘æœ‰ä¸€å€‹ &lt;strong>users&lt;/strong> é é¢å…ƒä»¶ï¼Œåœ¨ &lt;strong>/users/ryan&lt;/strong> æˆ– &lt;strong>/users/jennifer&lt;/strong> è·¯å¾‘ï¼Œéƒ½èƒ½åŒ¹é…åˆ°åŒä¸€å€‹ &lt;strong>users&lt;/strong> å…ƒä»¶ï¼Œä¸¦å°‡ &lt;strong>ryan&lt;/strong> æˆ– &lt;strong>jennifer&lt;/strong> ç•¶ä½œåƒæ•¸å‚³éçµ¦ &lt;strong>users&lt;/strong> é é¢å…ƒä»¶ä½¿ç”¨ï¼Œé‚£éº¼æˆ‘å€‘å°±éœ€è¦å‹•æ…‹è·¯ç”±ä¾†åšåˆ°é€™ä»¶äº‹ã€‚&lt;/p>
&lt;p>åœ¨ Vue 3 ä½¿ç”¨ Vue Router æˆ‘å€‘å¯èƒ½æœƒå¯«å‡ºå¦‚ä¸‹è·¯ç”±é…ç½®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">name:&lt;/span> &lt;span class="nt">&amp;#34;users&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">path:&lt;/span> &lt;span class="nt">&amp;#34;/users/:id&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">component:&lt;/span> &lt;span class="nt">&amp;#34;./pages/users.vue&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£æˆ‘å€‘å°±èƒ½é”åˆ°é€²å…¥ &lt;strong>/users/ryan&lt;/strong> è·¯ç”±å°‡ ryan ç•¶ä½œ &lt;strong>id&lt;/strong> åƒæ•¸å‚³å…¥ &lt;strong>users&lt;/strong> å…ƒä»¶ä¸­ï¼Œè·¯å¾‘åƒæ•¸ç”¨å†’è™Ÿ &lt;code>:&lt;/code> è¡¨ç¤ºï¼Œé€™å€‹è¢«åŒ¹é…çš„åƒæ•¸ (params)ï¼Œæœƒåœ¨å…ƒä»¶ä¸­å¯ä»¥ä½¿ç”¨ &lt;strong>useRoute()&lt;/strong> èˆ‡ &lt;strong>route.params.id&lt;/strong> å–å¾—ã€‚&lt;/p>
&lt;p>åœ¨ Nuxt 3 ä¸­ï¼Œæˆ‘å€‘è¦å¯¦ç¾é€™å€‹æ•ˆæœï¼Œéœ€è¦å°‡æª”æ¡ˆåç¨±æ·»åŠ ä¸­æ‹¬è™Ÿ &lt;code>[]&lt;/code>ï¼Œå…¶ä¸­æ”¾å…¥æ¬²è¨­å®šçš„åƒæ•¸åç¨±ï¼Œè­¬å¦‚ä¸‹é¢çš„ç›®éŒ„çµæ§‹èˆ‡æª”æ¡ˆåç¨±ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">./pages/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ users/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ &lt;span class="o">[&lt;/span>id&lt;span class="o">]&lt;/span>.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;code>./pages/users/[id].vue&lt;/code> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesusersidvue">pages/users/[id].vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯&lt;/span> &lt;span class="nx">Users&lt;/span> &lt;span class="nx">å‹•æ…‹è·¯ç”±é é¢&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">åŒ¹é…åˆ°çš„&lt;/span> &lt;span class="nx">Id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-5xl font-semibold text-blue-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">id&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">route&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRoute&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">id&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘åœ¨ &lt;strong>script&lt;/strong> å°±å¯ä»¥å¾ &lt;strong>route.params&lt;/strong> æ‹¿åˆ°æˆ‘å€‘æ‰€è¨­å®šçš„åƒæ•¸åç¨± &lt;strong>id&lt;/strong>ï¼Œä¸¦å°‡å…¶åœ¨ &lt;strong>template&lt;/strong> ä¸­æ¸²æŸ“å‡ºä¾†ã€‚ç€è¦½ &lt;a class="link" href="http://localhost:3000/users/ryan" target="_blank" rel="noopener"
>http://localhost:3000/users/ryan&lt;/a> ï¼Œçœ‹çœ‹æ•ˆæœï¼ŒNuxt 3 å°±èƒ½åŒ¹é…åˆ°ä½¿ç”¨è€…çš„ &lt;strong>id&lt;/strong> åƒæ•¸ &lt;strong>ryan&lt;/strong>ï¼Œä¸¦å‚³å…¥ &lt;strong>users&lt;/strong> é é¢å…ƒä»¶ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186583_c117eb473b_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ä½ ä¹Ÿå¯ä»¥åœ¨ &lt;strong>template&lt;/strong> ç›´æ¥ä½¿ç”¨ &lt;code>{{ $route.params.id }}&lt;/code> ä¾†æ¸²æŸ“å‡º &lt;strong>id&lt;/strong> åƒæ•¸ã€‚&lt;/p>
&lt;h3 id="åŒ¹é…æ‰€æœ‰å±¤ç´šçš„è·¯ç”±">åŒ¹é…æ‰€æœ‰å±¤ç´šçš„è·¯ç”±&lt;/h3>
&lt;p>å¦‚æœä½ éœ€è¦åŒ¹é…æŸå€‹é é¢ä¸‹çš„æ‰€æœ‰å±¤ç´šçš„è·¯ç”±ï¼Œä½ å¯ä»¥åœ¨åƒæ•¸å‰é¢åŠ ä¸Š &lt;code>...&lt;/code> ï¼Œä¾‹å¦‚ï¼Œ&lt;code>[...slug].vue&lt;/code>ï¼Œé€™å°‡åŒ¹é…è©²è·¯å¾‘ä¸‹çš„æ‰€æœ‰è·¯ç”±ã€‚&lt;/p>
&lt;p>å»ºç«‹ &lt;strong>./catch-all/[&amp;hellip;slug].vue&lt;/strong> æª”æ¡ˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">./pages/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ catch-all/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ &lt;span class="o">[&lt;/span>...slug&lt;span class="o">]&lt;/span>.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>./catch-all/[&amp;hellip;slug].vue&lt;/strong> æª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="catch-allslugvue">catch-all/[&amp;hellip;slug].vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-4xl text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯&lt;/span> &lt;span class="k">catch&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">all&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">...&lt;/span> &lt;span class="nx">ä¸‹çš„é é¢&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">åŒ¹é…åˆ°çš„&lt;/span> &lt;span class="nx">Params&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-4 text-5xl font-semibold text-violet-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">$route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">slug&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-xl text-gray-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">æ¯å€‹é™£åˆ—å…ƒç´ å°æ‡‰ä¸€å€‹å±¤ç´š&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å¯ä»¥è¼¸å…¥ &lt;strong>/catch-all/hello&lt;/strong> åŠ &lt;strong>/catch-all/hello/world&lt;/strong>ï¼Œè·¯ç”±çš„åƒæ•¸ &lt;strong>slug&lt;/strong> å°±æœƒæ˜¯ä¸€å€‹é™£åˆ—ï¼Œé™£åˆ—çš„æ¯å€‹å…ƒç´ å°æ‡‰æ¯ä¸€å€‹å±¤ç´šã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964479_ab69ffff26_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å»ºç«‹-404-not-found-é é¢">å»ºç«‹ 404 Not Found é é¢&lt;/h3>
&lt;p>Nuxt 3 æä¾›ä¸€å€‹é…ç½®ä¾†è™•ç† &lt;strong>404 Not Found&lt;/strong> çš„é é¢ï¼Œç•¶æˆ‘å€‘å»ºç«‹ &lt;strong>./pages/[&amp;hellip;slug].vue&lt;/strong> é é¢ï¼Œ Nuxt 3 æ‰€æœ‰æœªåŒ¹é…çš„è·¯ç”±ï¼Œå°‡æœƒäº¤ç”±é€™å€‹é é¢å…ƒä»¶åšè™•ç†ï¼Œä¸¦åŒæ™‚ä½¿ç”¨ &lt;code>setResponseStatus(404)&lt;/code> å‡½æ•¸è¨­å®š &lt;strong>404 HTTP Status Code&lt;/strong>ã€‚&lt;/p>
&lt;h5 id="pagesslugvue">pages/[&amp;hellip;slug].vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-8xl font-semibold text-red-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">404&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Not&lt;/span> &lt;span class="nx">Found&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-xl text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">çœŸçš„æ˜¯æ‰¾ä¸åˆ°é€™å€‹é é¢å•¦&lt;/span> &lt;span class="o">&amp;gt;&lt;/span>&lt;span class="c1">///&amp;lt;&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">setResponseStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">404&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>/omg&lt;/strong> é€™å€‹æ˜¯ä¸å­˜åœ¨çš„é é¢ï¼ŒæœªåŒ¹é…çš„è·¯ç”±å°±æœƒäº¤ç”± &lt;strong>./pages/[&amp;hellip;slug].vue&lt;/strong> é é¢ä¾†è™•ç†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188362_24b6c38fab_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å»ºç«‹å¤šå±¤çš„ç›®éŒ„çµæ§‹">å»ºç«‹å¤šå±¤çš„ç›®éŒ„çµæ§‹&lt;/h3>
&lt;p>å¦‚æœç†è§£äº†å‹•æ…‹è·¯ç”±çš„ä¸­æ‹¬è™Ÿ &lt;code>[]&lt;/code> ç”¨æ³•ï¼Œé‚£æˆ‘å€‘å°±å¯ä»¥å»ºç«‹æ›´è¤‡é›œçš„é é¢ç›®éŒ„çµæ§‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">./pages/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ posts/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ &lt;span class="o">[&lt;/span>postId&lt;span class="o">]&lt;/span>/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”œâ”€â”€ comments/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”‚ â””â”€â”€ &lt;span class="o">[&lt;/span>commentId&lt;span class="o">]&lt;/span>.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â””â”€â”€ index.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ index.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ top-&lt;span class="o">[&lt;/span>number&lt;span class="o">]&lt;/span>.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å››å€‹ Vue é é¢çš„åƒè€ƒç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagespostsindexvue">pages/posts/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-4xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯&lt;/span> &lt;span class="nx">Posts&lt;/span> &lt;span class="nx">é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-4 flex space-x-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/posts/8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">å‰å¾€æŒ‡å®šçš„æ–‡ç« &lt;/span> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/posts/8/comments/1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€æŒ‡å®šçš„æ–‡ç« ç•™è¨€&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/posts/top-3&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">Top&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/posts/top-10&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">Top&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="pagespoststop-numbervue">pages/posts/top-[number].vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯&lt;/span> &lt;span class="nx">posts&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">top&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">number&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="nx">çš„é é¢&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">åŒ¹é…åˆ°çš„&lt;/span> &lt;span class="nx">Top&lt;/span> &lt;span class="nb">Number&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-5xl font-semibold text-rose-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">number&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">route&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRoute&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">number&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="pagespostspostidindexvue">pages/posts/[postId]/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯&lt;/span> &lt;span class="nx">posts&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">postId&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="nx">çš„é é¢&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">åŒ¹é…åˆ°çš„&lt;/span> &lt;span class="nx">Post&lt;/span> &lt;span class="nx">Id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-5xl font-semibold text-blue-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">postId&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">route&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRoute&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">postId&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="pagespostspostidcommentscommentidvue">pages/posts/[postId]/comments/[commentId].vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯&lt;/span> &lt;span class="nx">posts&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">postId&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">comments&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">commentId&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="nx">çš„é é¢&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">åŒ¹é…åˆ°çš„&lt;/span> &lt;span class="nx">Post&lt;/span> &lt;span class="nx">Id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-5xl font-semibold text-blue-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">postId&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">åŒ¹é…åˆ°çš„&lt;/span> &lt;span class="nx">Comment&lt;/span> &lt;span class="nx">Id&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-5xl font-semibold text-purple-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">commentId&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">route&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRoute&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">postId&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">commentId&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¾†çœ‹çœ‹å¯¦éš›è·¯ç”±åŠåŒ¹é…æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186598_0c9c996bdc_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç‚ºäº†æ–¹ä¾¿ç†è§£ï¼Œæ•´ç†äº†ä»¥ä¸‹è¡¨æ ¼ï¼Œä¾†è¡¨ç¤ºé é¢çµæ§‹åŠæœŸæœ›åŒ¹é…çš„æ¨¡å¼èˆ‡åƒæ•¸ï¼š&lt;/p>
&lt;p>&lt;strong>./pages/posts/index.vue&lt;/strong>ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>åŒ¹é…æ¨¡å¼&lt;/th>
&lt;th>åŒ¹é…è·¯å¾‘&lt;/th>
&lt;th>åŒ¹é…åƒæ•¸ (Params)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>/posts&lt;/td>
&lt;td>/posts&lt;/td>
&lt;td>ç„¡&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>./pages/posts/top-[number].vue&lt;/strong>ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>åŒ¹é…æ¨¡å¼&lt;/th>
&lt;th>åŒ¹é…è·¯å¾‘&lt;/th>
&lt;th>åŒ¹é…åƒæ•¸ (Params)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>/posts/top-:number&lt;/td>
&lt;td>/posts/top-3&lt;/td>
&lt;td>{ number: 3 }&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>/posts/top-:number&lt;/td>
&lt;td>/posts/top-5&lt;/td>
&lt;td>{ number: 5 }&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>./pages/posts/[postId]/index.vue&lt;/strong>ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>åŒ¹é…æ¨¡å¼&lt;/th>
&lt;th>åŒ¹é…è·¯å¾‘&lt;/th>
&lt;th>åŒ¹é…åƒæ•¸ (Params)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>/posts/:postId&lt;/td>
&lt;td>/posts/8&lt;/td>
&lt;td>{ postId:8 }&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>./pages/posts/[postId]/comment/[commentId].vue&lt;/strong>ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>åŒ¹é…æ¨¡å¼&lt;/th>
&lt;th>åŒ¹é…è·¯å¾‘&lt;/th>
&lt;th>åŒ¹é…åƒæ•¸ (Params)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>/posts/:postId/comments/:commentId&lt;/td>
&lt;td>/posts/8/comments/1&lt;/td>
&lt;td>{ postId: 8, commentId: 1 }&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>åˆ°é€™è£¡æ‡‰è©²å°æ–¼å¦‚ä½•ä½¿ç”¨æª”æ¡ˆåç¨±èˆ‡ç›®éŒ„çµæ§‹ï¼Œä¾†è£½ä½œå‹•æ…‹è·¯ç”±èˆ‡åŒ¹é…åƒæ•¸æœ‰ä¸€äº›æ¦‚å¿µäº†ã€‚&lt;/p>
&lt;h3 id="å·¢ç‹€è·¯ç”±-nested-routes">å·¢ç‹€è·¯ç”± (Nested Routes)&lt;/h3>
&lt;p>å·¢ç‹€è·¯ç”± (Nested Routes) æˆ–ç¨±åµŒå¥—è·¯ç”±ï¼Œé¡§åæ€ç¾©ï¼Œç•¶æˆ‘å€‘æƒ³è¦åœ¨ä¸€å€‹é é¢é‘²åµŒå¦ä¸€å€‹é é¢æ™‚ï¼Œå°±éœ€è¦å·¢ç‹€è·¯ç”±ä¾†å¹«åŠ©æˆ‘å€‘ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘æƒ³è¦åœ¨ &lt;strong>docs&lt;/strong> é é¢å…ƒä»¶ä¸­é¡¯ç¤º &lt;strong>doc-1&lt;/strong> æˆ– &lt;strong>doc-2&lt;/strong> é é¢å…ƒä»¶ï¼Œä¸¦åœ¨åˆ‡æ› &lt;strong>doc-1&lt;/strong> æˆ– &lt;strong>doc-2&lt;/strong> é é¢æ™‚ï¼Œåªæ˜¯åœ¨ &lt;strong>docs&lt;/strong> ä¸‹çš„åµŒå¥—é é¢é€²è¡Œåˆ‡æ›ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">/docs/doc-1 /docs/doc-2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+------------------+ +-----------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> docs &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> docs &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +--------------+ &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> +-------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> doc-1 &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> +------------&amp;gt; &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> doc-2 &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +--------------+ &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> +-------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+------------------+ +-----------------+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ Vue 3 ä½¿ç”¨ Vue Router å¯¦ä½œä¸Šè¿°å·¢ç‹€è·¯ç”±æ™‚ï¼Œå³ &lt;strong>docs&lt;/strong> é é¢è¦èƒ½é¡¯ç¤º &lt;strong>doc-1&lt;/strong>ï¼Œæˆ‘å€‘åœ¨è·¯ç”±é…ç½®å¯èƒ½å°±æœƒå¯« &lt;code>path: '/docs'&lt;/code> èˆ‡ &lt;code>children&lt;/code>ï¼Œä¸¦åœ¨ &lt;code>children&lt;/code> åŠ å…¥ &lt;code>path: '/doc-1'&lt;/code>ï¼Œå…¶ä¸­ &lt;strong>docs&lt;/strong> é é¢åŒ…å« &lt;code>&amp;lt;router-view /&amp;gt;&lt;/code>ï¼Œæœ€çµ‚ç€è¦½è·¯ç”±è·¯å¾‘ &lt;code>/docs/doc-1&lt;/code> å°±å¯ä»¥çœ‹åˆ°åµŒå¥—é é¢çš„æ•ˆæœã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">path:&lt;/span> &lt;span class="nt">&amp;#34;/docs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">component:&lt;/span> &lt;span class="err">()&lt;/span> &lt;span class="err">=&amp;gt;&lt;/span> &lt;span class="err">import(&lt;/span>&lt;span class="nt">&amp;#34;./pages/docs.vue&amp;#34;&lt;/span>&lt;span class="err">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">children&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">path:&lt;/span> &lt;span class="nt">&amp;#34;doc-1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">component:&lt;/span> &lt;span class="err">()&lt;/span> &lt;span class="err">=&amp;gt;&lt;/span> &lt;span class="err">import(&lt;/span>&lt;span class="nt">&amp;#34;./pages/docs/doc-1.vue&amp;#34;&lt;/span>&lt;span class="err">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œåœ¨ Nuxt 3 é é¢çš„ç´„å®šå¼è·¯ç”±æ©Ÿåˆ¶ä¸‹ï¼Œæˆ‘å€‘å³æ˜¯é€éç›®éŒ„çµæ§‹èˆ‡é é¢å…ƒä»¶å¯¦åšå‡ºåµŒå¥—è·¯ç”±çš„æ•ˆæœã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œç•¶æˆ‘å€‘å»ºç«‹äº†ä¸‹é¢çš„ç›®éŒ„é é¢çµæ§‹ï¼š&lt;/p>
&lt;blockquote>
&lt;p>é€™è£¡éœ€è¦æ³¨æ„ï¼Œä¸€å®šè¦æœ‰ &lt;strong>docs.vue&lt;/strong> èˆ‡ &lt;strong>docs&lt;/strong> åŒåçš„ç›®éŒ„&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">./pages/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ docs/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â”œâ”€â”€ doc-1.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ doc-2.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ docs.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é é¢å…ƒä»¶çš„åƒè€ƒç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesdocsvue">pages/docs.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-6 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-3xl font-semibold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯&lt;/span> &lt;span class="nx">Docs&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-4 flex space-x-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/docs/doc-1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">Doc&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/docs/doc-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">Doc&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;border-b-2 border-gray-100&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="pagesdoc-1vue">pages/doc-1.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯æˆ‘çš„ç¬¬ä¸€ä»½æ–‡ä»¶&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="pagesdoc-2vue">pages/doc-2.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-green-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯æˆ‘çš„ç¬¬äºŒä»½æ–‡ä»¶&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Nuxt 3 åœ¨è‡ªå‹•ç”Ÿæˆè·¯ç”±æ™‚ï¼Œå¯¦éš›ä¸Šå¹«æˆ‘å€‘åšå‡ºäº†é¡ä¼¼é€™æ¨£å­çš„è·¯ç”±çµæ§‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">name:&lt;/span> &lt;span class="nt">&amp;#34;docs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">path:&lt;/span> &lt;span class="nt">&amp;#34;/docs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">component:&lt;/span> &lt;span class="nt">&amp;#34;./pages/docs.vue&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">children:&lt;/span> &lt;span class="err">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">name:&lt;/span> &lt;span class="nt">&amp;#34;docs-first-doc&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">path:&lt;/span> &lt;span class="nt">&amp;#34;doc-1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">component:&lt;/span> &lt;span class="nt">&amp;#34;./pages/docs/doc-1.vue&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸€å®šè¦è¨˜å¾—åœ¨ &lt;strong>docs&lt;/strong> é é¢åŠ ä¸Š &lt;code>&amp;lt;NuxtPage /&amp;gt;&lt;/code>ï¼Œä¾†ä½œç‚ºé¡¯ç¤ºå·¢ç‹€é é¢çš„å®¹å™¨ï¼Œæ¥è‘—åˆ†åˆ¥ç€è¦½ &lt;code>/docs&lt;/code>ã€&lt;code>/docs/doc-1&lt;/code> èˆ‡ &lt;code>/docs/doc-2&lt;/code>ï¼Œå¯ä»¥ç™¼ç¾åœ¨å…©å€‹é é¢ä¸­ä¸Šæ–¹çš„çš†æœ‰é¡¯ç¤ºæ¨™é¡Œã€Œé€™è£¡æ˜¯ Docsã€ï¼Œè©²æ–‡å­—æ˜¯ç”± &lt;code>docs.vue&lt;/code> å…ƒä»¶æä¾›çš„æ¨™é¡Œæ–‡å­—ï¼Œè€Œé é¢ä¸‹æ–¹å‰‡æ˜¯ &lt;strong>doc-1&lt;/strong> èˆ‡ &lt;strong>doc-2&lt;/strong> å­é é¢é¡¯ç¤ºçš„åœ°æ–¹ï¼Œä»¥æ­¤å°±å¯ä»¥å¯¦ç¾å·¢ç‹€è·¯ç”±æ•ˆæœå›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964494_bc91598456_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€éç›®éŒ„æª”æ¡ˆçš„çµæ§‹èˆ‡åç¨±åŠä¸­æ‹¬è™Ÿ &lt;code>[]&lt;/code> æˆ‘å€‘å°±å¯ä»¥å®Œæˆå¤šæ•¸è·¯ç”±çš„æƒ…å¢ƒï¼Œç¢ºå¯¦æ–¹ä¾¿å¾ˆå¤šï¼Œä¹Ÿè¶³ä»¥æ‡‰ä»˜å¤§éƒ¨åˆ†å¯¦å‹™ä¸Šçš„éœ€æ±‚ï¼Œå¦‚æœçœŸçš„éœ€è¦æ‰‹å‹•å»ºç«‹è·¯ç”±è¦å‰‡å¯ä»¥åœ¨åƒè€ƒ&lt;a class="link" href="https://nuxt.com/docs/api/configuration/nuxt-config/#router" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æª”&lt;/a>æˆ–ç­‰å¾…é‡‹å‡ºæ›´å¥½è§£æ±ºæ–¹æ¡ˆã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å¸ƒå±€æ¨¡æ¿-layouts">å¸ƒå±€æ¨¡æ¿ (Layouts)&lt;/h2>
&lt;p>Nuxt 3 æä¾›äº†ä¸€å€‹å¸ƒå±€æ¨¡æ¿ (Layouts) çš„åŠŸèƒ½ï¼Œå¯ä»¥è®“ä½ å®šç¾©å¥½å¸ƒå±€æ¨¡æ¿å¾Œï¼Œåœ¨æ•´å€‹ Nuxt ä¸­ä½¿ç”¨ï¼Œèˆ‰ä¾‹ä¾†èªªå°±å¾ˆé©åˆå¦‚ä¸Šæ–¹æœ‰å°è¦½åˆ—ï¼Œä¸‹æ–¹æ˜¯ç¶²é ä¸»é«”å…§å®¹çš„é€™ç¨®æ’ç‰ˆæ–¹å¼ï¼Œå°‡å…¶æ§‹å»ºæˆä¸€å€‹å¸ƒå±€æ¨¡æ¿å¾Œï¼Œæˆ‘å€‘å°±å¯ä»¥é‡è¤‡ä½¿ç”¨é€™ç¨®å¸ƒå±€æ–¹å¼ã€‚&lt;/p>
&lt;p>å¸ƒå±€æ¨¡æ¿é€šå¸¸æ”¾ç½®åœ¨ &lt;strong>./layouts&lt;/strong> ç›®éŒ„ä¹‹ä¸‹ï¼Œä¹Ÿå…·æœ‰ç•°æ­¥è‡ªå‹•å°å…¥çš„æ•ˆæœï¼Œç•¶æ–°å¢å¥½å¸ƒå±€æª”æ¡ˆå¾Œï¼Œæˆ‘å€‘å°±å¯ä»¥åœ¨ &lt;strong>app.vue&lt;/strong> ä¸­ï¼Œæ·»åŠ  &lt;code>&amp;lt;NuxtLayout /&amp;gt;&lt;/code> å…ƒä»¶ä¾†è¡¨ç¤ºä½¿ç”¨å¸ƒå±€æ¨¡æ¿ï¼Œä¹Ÿå¯ä»¥é€šé &lt;strong>name&lt;/strong> è¨­å®šä¸åŒçš„æ¨¡æ¿åç¨±ã€‚&lt;/p>
&lt;h3 id="å»ºç«‹ä¸€å€‹é è¨­çš„å¸ƒå±€æ¨¡æ¿">å»ºç«‹ä¸€å€‹é è¨­çš„å¸ƒå±€æ¨¡æ¿&lt;/h3>
&lt;p>å¸ƒå±€æ¨¡æ¿åœ¨ Nuxt 3 ä¸­æœ‰ç´„å®šä¸€å€‹åç¨±ç‚º &lt;code>default.vue&lt;/code> ä½œç‚ºé è¨­çš„æ¨¡æ¿ï¼Œå¦‚æœåœ¨é é¢å…ƒä»¶ä¸­æœªç‰¹åˆ¥æŒ‡å®šè¦ä½¿ç”¨å“ªå€‹æ¨¡æ¿æˆ– &lt;code>&amp;lt;NuxtLayout /&amp;gt;&lt;/code> æ²’æœ‰è¨­å®š &lt;strong>name&lt;/strong> å±¬æ€§ï¼Œé‚£éº¼éƒ½å°‡æœƒä½¿ç”¨ &lt;strong>default&lt;/strong> ä½œç‚ºé è¨­çš„å¸ƒå±€ã€‚&lt;/p>
&lt;h4 id="step-1-å»ºç«‹é è¨­å¸ƒå±€æ¨¡æ¿">Step 1. å»ºç«‹é è¨­å¸ƒå±€æ¨¡æ¿&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>./layouts/default.vue&lt;/strong> æª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="layoutsdefaultvue">layouts/default.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-sky-100 py-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 py-4 text-2xl text-gray-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯é è¨­çš„å¸ƒå±€&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">å…¨éƒ¨é é¢éƒ½æœƒä½¿ç”¨åˆ°&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨å¸ƒå±€æ¨¡æ¿ä¸­ï¼Œé€šå¸¸æœƒåŒ…å«ä¸€å€‹ &lt;code>&amp;lt;slot /&amp;gt;&lt;/code> æ’æ§½ï¼Œé€™å€‹æœªå‘½åçš„æ’æ§½ (slot) å³ç‚ºé è¨­æ’æ§½ï¼Œé€™å°‡æœƒæ˜¯æ¡ç”¨é€™å€‹å¸ƒå±€æ¨¡æ¿çš„é é¢å…ƒä»¶ï¼Œé¡¯ç¤ºçš„å…§å®¹å®¹å™¨ä½ç½®ã€‚&lt;/p>
&lt;h4 id="step-2-æ·»åŠ -å…ƒä»¶">Step 2. æ·»åŠ  å…ƒä»¶&lt;/h4>
&lt;p>èª¿æ•´ &lt;strong>app.vue&lt;/strong> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼Œæˆ‘å€‘æ·»åŠ  &lt;code>&amp;lt;NuxtLayout&amp;gt;&lt;/code> ä½œç‚ºå¸ƒå±€æ¨¡æ¿é¡¯ç¤ºçš„ä½ç½®ï¼Œ&lt;strong>name&lt;/strong> å±¬æ€§é è¨­æ˜¯ &lt;strong>default&lt;/strong>ï¼Œä¸éæˆ‘å€‘é‚„æ˜¯å¯«ä¸Š &lt;code>name=&amp;quot;default&amp;quot;&lt;/code> é¿å…èª¤æœƒï¼Œé€™å€‹ &lt;strong>name&lt;/strong> å±¬æ€§å€¼å°æ‡‰çš„å³æ˜¯å¸ƒå±€æ¨¡æ¿çš„åç¨±ã€‚&lt;/p>
&lt;p>ä¸‹åœ–å¯ä»¥çœ‹è¦‹ï¼Œæˆ‘å€‘åœ¨ &lt;strong>app.vue&lt;/strong> æ‰€å¯«çš„æ–‡å­—ã€Œé€™è£¡æ˜¯æœ€å¤–å±¤ app.vueã€ï¼Œæœƒæ˜¯åœ¨æœ€å¤–å±¤ï¼Œè€Œç·Šæ¥è‘—çš„ &lt;code>&amp;lt;NuxtLayout name=&amp;quot;default&amp;quot;&amp;gt;&amp;lt;/NuxtLayout&amp;gt;&lt;/code>ï¼Œå°±æ˜¯å¸ƒå±€é é¢ &lt;code>default.vue&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617134195_02b2a3944c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å¸ƒå±€æ¨¡æ¿ä¸­çš„æ’æ§½">å¸ƒå±€æ¨¡æ¿ä¸­çš„æ’æ§½&lt;/h3>
&lt;p>å¦‚æœä½ æœ‰æ³¨æ„åˆ°ï¼Œ&lt;strong>default.vue&lt;/strong> æª”æ¡ˆå…§ç¨‹å¼ç¢¼å…§ï¼Œæœ‰ä¸€å€‹æ’æ§½ &lt;code>&amp;lt;slot /&amp;gt;&lt;/code>ï¼Œé€™è£¡å°±æœƒæ˜¯ &lt;code>&amp;lt;NuxtLayout&amp;gt;&lt;/code> å…§çš„å…ƒç´ æ‰€é¡¯ç¤ºçš„ä½ç½®ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘åœ¨ &lt;strong>app.vue&lt;/strong> ç¨ä½œèª¿æ•´ï¼š&lt;/p>
&lt;h5 id="appvue-2">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;m-4 bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;pb-4 text-2xl text-slate-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯æœ€å¤–å±¤&lt;/span> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vue&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;default&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 pt-4 text-xl text-slate-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">è¢«&lt;/span> &lt;span class="nx">NuxtLayout&lt;/span> &lt;span class="nx">åŒ…è£¹çš„å…ƒä»¶å°‡æœƒæ”¾ç½®åˆ°&lt;/span> &lt;span class="nx">Layout&lt;/span> &lt;span class="nx">çš„&lt;/span> &lt;span class="nx">slot&lt;/span> &lt;span class="nx">ä¸­&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¢« &lt;code>&amp;lt;NuxtLayout name=&amp;quot;default&amp;quot;&amp;gt;&lt;/code> åŒ…è£¹çš„å…ƒç´ ï¼Œå°±æœƒåœ¨å¸ƒå±€æ¨¡æ¿ä¸­çš„æ’æ§½ &lt;code>&amp;lt;slot /&amp;gt;&lt;/code> é¡¯ç¤ºã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188382_5a181ede48_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="åœ¨å¸ƒå±€æ¨¡æ¿ä¸­å»ºç«‹å¤šå€‹æ’æ§½">åœ¨å¸ƒå±€æ¨¡æ¿ä¸­å»ºç«‹å¤šå€‹æ’æ§½&lt;/h3>
&lt;p>ç•¶ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å¸ƒå±€æ¨¡æ¿ä¸­æ·»åŠ å¤šå€‹æ’æ§½ï¼Œä¸¦çµ¦äºˆåç¨±ï¼Œé€™æ¨£å°±å¯ä»¥å°‡å…§å®¹å®‰æ’åˆ°ç‰¹å®šçš„ä½ç½®ã€‚&lt;/p>
&lt;h4 id="step-1-å»ºç«‹å…©å€‹å…·åçš„æ’æ§½-slotåˆ†åˆ¥ç‚º-header-èˆ‡-footer">Step 1. å»ºç«‹å…©å€‹å…·åçš„æ’æ§½ (Slot)ï¼Œåˆ†åˆ¥ç‚º &lt;strong>header&lt;/strong> èˆ‡ &lt;strong>footer&lt;/strong>&lt;/h4>
&lt;blockquote>
&lt;p>å¦‚æœæ’æ§½æ²’æœ‰çµ¦äºˆ &lt;strong>name&lt;/strong> å±¬æ€§ï¼Œé è¨­ç‚º &lt;code>default&lt;/code>ã€‚&lt;/p>
&lt;/blockquote>
&lt;h5 id="layoutsdefaultvue-1">layouts/default.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-sky-100 py-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 py-4 text-2xl text-gray-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯é è¨­çš„å¸ƒå±€&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">å…¨éƒ¨é é¢éƒ½æœƒä½¿ç”¨åˆ°&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;header&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;footer&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-å°‡ä¸åŒå…§å®¹é¡¯ç¤ºæ–¼æŒ‡å®šçš„æ’æ§½ä½ç½®">Step 2. å°‡ä¸åŒå…§å®¹ï¼Œé¡¯ç¤ºæ–¼æŒ‡å®šçš„æ’æ§½ä½ç½®ã€‚&lt;/h4>
&lt;h5 id="appvue-3">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;m-4 bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;pb-4 text-2xl text-slate-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯æœ€å¤–å±¤&lt;/span> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vue&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;default&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="err">#&lt;/span>&lt;span class="na">header&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 pt-4 text-xl text-green-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ®µæœƒæ”¾ç½®åœ¨&lt;/span> &lt;span class="nx">header&lt;/span> &lt;span class="nx">æ’æ§½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="err">#&lt;/span>&lt;span class="na">default&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 pt-4 text-xl text-cyan-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">è¢«&lt;/span> &lt;span class="nx">NuxtLayout&lt;/span> &lt;span class="nx">åŒ…è£¹çš„å…ƒä»¶å°‡æœƒæ”¾ç½®åˆ°&lt;/span> &lt;span class="nx">Layout&lt;/span> &lt;span class="nx">çš„é è¨­&lt;/span> &lt;span class="nx">slot&lt;/span> &lt;span class="nx">ä¸­&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="err">#&lt;/span>&lt;span class="na">footer&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 pt-4 text-xl text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ®µæœƒæ”¾ç½®åœ¨&lt;/span> &lt;span class="nx">footer&lt;/span> &lt;span class="nx">æ’æ§½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸‹åœ–å¯ä»¥çœ‹è¦‹ï¼Œæˆ‘å€‘å°±å¯ä»¥ä¾æ­¤ä¾†å®‰æ’å„å€‹å…ƒä»¶ï¼Œæ–¼å¸ƒå±€æ¨¡æ¿æ’æ§½çš„æ‰€åœ¨ä½ç½®ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186618_5d72657e32_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å¸ƒå±€æ¨¡æ¿èˆ‡è·¯ç”±é é¢">å¸ƒå±€æ¨¡æ¿èˆ‡è·¯ç”±é é¢&lt;/h3>
&lt;p>ç•¶ä½ ç†Ÿæ‚‰äº†æ’æ§½é…ç½®ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å…¶ä¸­æ·»åŠ  &lt;code>&amp;lt;NuxtPage /&amp;gt;&lt;/code> èˆ‡å»ºç«‹ &lt;strong>pages&lt;/strong> ä¸‹çš„é é¢å…ƒä»¶ï¼Œä»¥é”åˆ°ä¸åŒçš„è·¯ç”±é é¢ï¼Œä½¿ç”¨ç›¸åŒçš„å¸ƒå±€æ–¹å¼ã€‚&lt;/p>
&lt;p>å¦‚æœå¸ƒå±€æ¨¡æ¿çµåˆäº†è·¯ç”±é é¢ï¼Œæ•´é«”ç¶²ç«™å°±æœƒå¦‚ä¸‹çš„å·¢ç‹€é¡¯ç¤ºæ–¹å¼ï¼Œç¶²ç«™çš„å…¥å£é» &lt;strong>app.vue&lt;/strong> æ”¾ç½®å¸ƒå±€æ¨¡æ¿ï¼Œæ¨¡æ¿å…§çš„å…§å®¹å‰‡ä½¿ç”¨è·¯ç”±çš„ &lt;code>&amp;lt;NuxtPage /&amp;gt;&lt;/code>ï¼Œæœ€å¾Œå„å€‹è·¯ç”±çš„é é¢å°±æœƒåœ¨ &lt;code>&amp;lt;NuxtPage /&amp;gt;&lt;/code> å®¹å™¨ä¸­é¡¯ç¤ºã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">+---------------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> app.vue &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +-----------------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> layout &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> +-------------------+ &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> page &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> +-------------------+ &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> +-----------------------+ &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+---------------------------+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å»ºç«‹å¸ƒå±€æ¨¡æ¿èˆ‡è·¯ç”±é é¢">å»ºç«‹å¸ƒå±€æ¨¡æ¿èˆ‡è·¯ç”±é é¢&lt;/h3>
&lt;h4 id="step-1-èª¿æ•´-appvue-å…¥å£é»">Step 1. èª¿æ•´ app.vue å…¥å£é»&lt;/h4>
&lt;p>å°‡ &lt;strong>app.vue&lt;/strong> èª¿æ•´ç‚ºä»¥ä¸‹å…§å®¹ï¼š&lt;/p>
&lt;h5 id="appvue-4">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;m-4 bg-white&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;pb-4 text-2xl text-slate-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯æœ€å¤–å±¤&lt;/span> &lt;span class="nx">app&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vue&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtPage&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-å»ºç«‹è·¯ç”±é é¢">Step 2. å»ºç«‹è·¯ç”±é é¢&lt;/h4>
&lt;p>å»ºç«‹ &lt;strong>./pages/index.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesindexvue-2">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;m-6 bg-slate-50 py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£æˆ‘å€‘å°±å¯ä»¥ä¾†è®“è·¯ç”±é é¢å…±ç”¨ç›¸åŒçš„å¸ƒå±€æ¨¡æ¿ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186638_b40c944d07_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å¤šå€‹è·¯ç”±é é¢å…±ç”¨é è¨­å¸ƒå±€æ¨¡æ¿">å¤šå€‹è·¯ç”±é é¢å…±ç”¨é è¨­å¸ƒå±€æ¨¡æ¿&lt;/h3>
&lt;p>æ‰¿ä¸Šï¼Œæˆ‘å€‘å»ºç«‹å¥½é è¨­çš„å¸ƒå±€æ¨¡æ¿ï¼Œè®“å®ƒè² è²¬é¡¯ç¤ºè·¯ç”±çš„é é¢ã€‚&lt;/p>
&lt;h4 id="step-1-æ–°å¢è·¯ç”±é é¢">Step 1. æ–°å¢è·¯ç”±é é¢&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>./pages/about.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesaboutvue-1">pages/about.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-6 mb-4 bg-slate-50 py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-yellow-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å¤§å®¶å¥½&lt;/span>&lt;span class="err">ï¼&lt;/span>&lt;span class="nx">æˆ‘æ˜¯&lt;/span> &lt;span class="nx">Ryan&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nx">about&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ &lt;strong>./pages/contact.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescontactvue-1">pages/contact.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-6 mb-4 bg-slate-50 py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-rose-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å¦‚æœæ²’äº‹ä¸è¦æ‰¾æˆ‘&lt;/span> &lt;span class="nx">xDDD&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-8 text-3xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nx">contact&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-æ–°å¢è·¯ç”±é€£çµ">Step 2. æ–°å¢è·¯ç”±é€£çµ&lt;/h4>
&lt;p>èª¿æ•´ &lt;strong>./pages/index.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesindexvue-3">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-6 mb-4 bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-4 flex space-x-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/about&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">About&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/contact&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="nx">Contact&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥ç™¼ç¾ï¼Œç¾åœ¨é¦–é  &lt;code>/&lt;/code>ã€&lt;code>/about&lt;/code> èˆ‡ &lt;code>/contact&lt;/code> éƒ½å¥—ç”¨ä¸Šäº†é è¨­å¸ƒå±€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964569_b4e67e211a_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å»ºç«‹å¤šå€‹å¸ƒå±€æ¨¡æ¿">å»ºç«‹å¤šå€‹å¸ƒå±€æ¨¡æ¿&lt;/h3>
&lt;p>ä½ ä¹Ÿå¯ä»¥å»ºç«‹å¤šå€‹å¸ƒå±€æ¨¡æ¿ï¼Œå†ä¾æ“šä¸åŒçš„æƒ…å¢ƒï¼Œä½¿ç”¨ä¸åŒçš„å¸ƒå±€æ¨¡æ¿ã€‚&lt;/p>
&lt;h4 id="step-1-å»ºç«‹æ–°çš„å¸ƒå±€æ¨¡æ¿">Step 1. å»ºç«‹æ–°çš„å¸ƒå±€æ¨¡æ¿&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>./layouts/custom.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="layoutscustomvue">layouts/custom.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-rose-100 py-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 py-4 text-2xl text-gray-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ä½¿ç”¨&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-bold text-rose-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Custom&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">å¸ƒå±€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-æ–°å¢ä¸€å€‹è·¯ç”±é é¢">Step 2. æ–°å¢ä¸€å€‹è·¯ç”±é é¢&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>./pages/custom.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescustomvue">pages/custom.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;m-6 bg-slate-50 py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-ä½¿ç”¨æŒ‡å®šå¸ƒå±€æ¨¡æ¿">Step 3. ä½¿ç”¨æŒ‡å®šå¸ƒå±€æ¨¡æ¿&lt;/h4>
&lt;p>åœ¨ &lt;strong>./pages/custom.vue&lt;/strong> ä¸­çš„ &lt;strong>script&lt;/strong> ä½¿ç”¨ &lt;code>definePageMeta&lt;/code> æ–¹æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layout&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;custom&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>definePageMeta&lt;/code> æ–¹æ³•ï¼Œæä¾›æˆ‘å€‘å¯ä»¥è¨­å®šç‰¹å®šçš„å¸ƒå±€æ¨¡æ¿ï¼Œ&lt;code>layout&lt;/code> åƒæ•¸å€¼æ‰€å°æ‡‰çš„åç¨±ï¼Œå³ç‚º &lt;strong>./layouts&lt;/strong> ç›®éŒ„ä¸‹çš„å¸ƒå±€æ¨¡æ¿ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æ³¨æ„ï¼Œå¸ƒå±€æ¨¡æ¿çš„å‘½åè¢«è¦ç¯„ä½¿ç”¨ &lt;strong>Kebab Case&lt;/strong> å‘½åæ³•ï¼Œè‹¥æª”æ¡ˆåç¨±ç‚º &lt;strong>customLayout.vue&lt;/strong>ï¼Œå®ƒå°‡æœƒä»¥ &lt;code>custom-layout&lt;/code> ä½œç‚º &lt;strong>name&lt;/strong> å±¬æ€§å‚³éçµ¦&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188442_127e72da50_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="æ›´é€²éšçš„æŒ‡å®šå¸ƒå±€æ¨¡æ¿">æ›´é€²éšçš„æŒ‡å®šå¸ƒå±€æ¨¡æ¿&lt;/h3>
&lt;p>æˆ‘å€‘èƒ½ä½¿ç”¨ &lt;strong>layout: false&lt;/strong> ä¾†ç¦æ­¢ä½¿ç”¨é è¨­çš„å¸ƒå±€æ¨¡æ¿ï¼Œä¸¦åœ¨ &lt;strong>template&lt;/strong> æ·»åŠ  &lt;code>&amp;lt;NuxtLayout name=&amp;quot;custom&amp;quot;&amp;gt;&lt;/code> ä¾†ä½¿ç”¨ &lt;strong>custom&lt;/strong> å¸ƒå±€æ¨¡æ¿ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;custom&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-6 mb-4 bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layout&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶å¸ƒå±€æ¨¡æ¿å¯ä»¥åœ¨ &lt;strong>template&lt;/strong> ä¸­è¨­å®šä½¿ç”¨ï¼Œæˆ‘å€‘å°±èƒ½çµåˆæ’æ§½ç”šè‡³å‹•æ…‹çš„èª¿æ•´ &lt;strong>name&lt;/strong> å±¬æ€§ï¼Œåšå‡ºæ›´å¤šæ¨£éˆæ´»çš„å¸ƒå±€æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964574_0e7759f29b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ä¸Šåœ–çš„åƒè€ƒç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;h5 id="layoutscustomvue-1">layouts/custom.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-rose-100 py-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;px-6 py-4 text-2xl text-gray-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ä½¿ç”¨&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-bold text-rose-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Custom&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">å¸ƒå±€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;footer&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="pagescustomvue-1">pages/custom.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;custom&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="err">#&lt;/span>&lt;span class="na">default&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-6 mb-4 bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="err">#&lt;/span>&lt;span class="na">footer&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-xl text-slate-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">æ„Ÿè¬æ‚¨é–±è®€&lt;/span> &lt;span class="nx">Nuxe&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="nx">å­¸ç¿’ç­†è¨˜&lt;/span>&lt;span class="err">ï½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLayout&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">layout&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ä½ ä½¿ç”¨ &lt;strong>definePageMeta&lt;/strong> æ–¹æ³•ï¼Œç¦æ­¢ä½¿ç”¨é è¨­çš„å¸ƒå±€æ¨¡æ¿å¾Œï¼Œä½ ä¹Ÿèƒ½ä½¿ç”¨ &lt;code>setPageLayout&lt;/code> æ–¹æ³•ä¾†å‹•æ…‹æ”¹è®Šå¸ƒå±€ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">enableCustomLayout&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setPageLayout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;custom&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ä½ çœ‹éäº†é€™ç¯‡å…§å®¹å¾Œï¼Œä½ æœƒç™¼ç¾ Nuxt 3 æ‰€æä¾›çš„å¸ƒå±€æ¨¡æ¿éå¸¸çš„å¥½ç”¨ï¼Œå¸ƒå±€æ¨¡æ¿è¦åŠƒå¥½å¾Œï¼Œçˆ¾å¾Œé é¢æ‰€ä½¿ç”¨åˆ°çš„ç›¸åŒå¸ƒå±€ï¼Œåªéœ€è¦æ›´æ”¹åŒä¸€å€‹å¸ƒå±€æ¨¡æ¿ï¼Œå¦‚æœå†çµåˆå…ƒä»¶åŒ–æŠ€å·§ï¼Œæ›´æ˜¯è®“ä½ çš„ç¨‹å¼ç¢¼å…¼å…·é‡è¤‡ä½¿ç”¨æ€§èˆ‡ç¶­è­·æ€§ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å…ƒä»¶-components">å…ƒä»¶ (Components)&lt;/h2>
&lt;p>åœ¨å»ºç«‹ Vue çš„ç¶²ç«™é–‹ç™¼éç¨‹ä¸­ï¼Œæˆ‘å€‘å¯èƒ½æœƒè‡ªå·±å°è£å…ƒä»¶ (Component) è®“ç¨‹å¼ç¢¼å¯ä»¥è¢«é‡è¤‡ä½¿ç”¨ï¼Œä¹Ÿæ–¹ä¾¿é–‹ç™¼è€…ç¶­è­·ï¼Œé€™äº›ä¸€å€‹å€‹çš„å…ƒä»¶ï¼Œå¯ä»¥é€é&lt;code>å…¨åŸŸè¨»å†Š (Global Registration)&lt;/code> è®“æ•´å€‹ Vue æ‡‰ç”¨ç¨‹å¼ä¸­éƒ½å¯ä»¥ä½¿ç”¨é€™å€‹å…ƒä»¶ï¼Œä¹Ÿå¯ä»¥é€é&lt;code>å€åŸŸè¨»å†Š (Local Registration)&lt;/code> æ–¼ç‰¹å®šçš„å…ƒä»¶å†è¼‰å…¥ä½¿ç”¨ã€‚æ¥ä¸‹ä¾†æˆ‘å€‘å°‡ä»‹ç´¹ Nuxt 3 ä½¿ç”¨å…ƒä»¶æ™‚æ‡‰è©²éµå¾ªçš„è¦ç¯„åŠç‰¹è‰²ã€‚&lt;/p>
&lt;h3 id="å…ƒä»¶è‡ªå‹•è¼‰å…¥">å…ƒä»¶è‡ªå‹•è¼‰å…¥&lt;/h3>
&lt;p>åœ¨ Vue ä¸­ï¼Œé›–ç„¶å€åŸŸè¨»å†Šä½¿å¾—å…ƒä»¶é–“çš„ä¾è³´é—œä¿‚æ›´åŠ æ˜ç¢ºä¹Ÿå°æ–¼ &lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Tree_shaking" target="_blank" rel="noopener"
>Tree shaking&lt;/a> æ›´åŠ å‹å¥½ï¼Œä½†æˆ‘å€‘åœ¨ä½¿ç”¨å…ƒä»¶æ™‚ï¼Œå°±å¾—åœ¨éœ€è¦çš„åœ°æ–¹å€‹åˆ¥è¼‰å…¥åŠè¨»å†Šã€‚è€Œ Nuxt 3 æä¾›åœ¨ &lt;strong>components&lt;/strong> ç›®éŒ„ä¸‹å°ˆé–€æ”¾è‡³é€™äº›å…ƒä»¶ï¼Œä¸¦å…·æœ‰è‡ªå‹•è¼‰å…¥åŠå»¶é²è¼‰å…¥ç­‰åŠŸèƒ½ç‰¹è‰²ã€‚&lt;/p>
&lt;h4 id="å»ºç«‹èˆ‡ä½¿ç”¨å…ƒä»¶">å»ºç«‹èˆ‡ä½¿ç”¨å…ƒä»¶&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>./components/IronManWelcome.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="componentsironmanwelcomevue-1">components/IronManWelcome.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èª¿æ•´ &lt;strong>./app.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="appvue-5">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">IronManWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘å»ºç«‹äº† &lt;strong>./components/IronManWelcome.vue&lt;/strong> æª”æ¡ˆå¾Œï¼ŒNuxt æœƒè‡ªå‹•è¼‰å…¥ &lt;strong>./components&lt;/strong> ç›®éŒ„ä¸­çš„&lt;code>ä»»ä½•å…ƒä»¶&lt;/code>ï¼Œåœ¨ä½¿ç”¨æ™‚çš„å…ƒä»¶åç¨±ä¹Ÿå°æ‡‰è‘—æª”æ¡ˆåç¨±ï¼Œæ‰€ä»¥æˆ‘å€‘åªéœ€ç›´æ¥æ·»åŠ  &lt;code>&amp;lt;IronManWelcome /&amp;gt;&lt;/code> å°±å¯ä»¥ç›´äº›ä½¿ç”¨é€™å€‹å…ƒä»¶ã€‚&lt;/p>
&lt;h3 id="å…ƒä»¶åç¨±">å…ƒä»¶åç¨±&lt;/h3>
&lt;p>Nuxt æ‰€è‡ªå‹•è¼‰å…¥ &lt;strong>./components&lt;/strong> ç›®éŒ„ä¸‹çš„å…ƒä»¶ï¼Œåœ¨ä½¿ç”¨æ™‚çš„å…ƒä»¶åç¨±ä¹Ÿå°æ‡‰è‘—æª”æ¡ˆåç¨±ï¼Œè€Œç•¶ä½ åœ¨å·¢ç‹€çš„ç›®éŒ„çµæ§‹ä¸‹çš„å…ƒä»¶ï¼Œ&lt;code>å…ƒä»¶çš„åç¨±å°‡æœƒåŸºæ–¼ç›®éŒ„çš„è·¯å¾‘èˆ‡æª”æ¡ˆåç¨±ï¼Œä¸¦åˆªé™¤é‡è¤‡çš„å­—æ®µ&lt;/code>ã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœ &lt;strong>./components&lt;/strong> ç›®éŒ„çµæ§‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">components/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ base/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ apply/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ Button.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>./components/base/apply/Button.vue&lt;/strong> å…ƒä»¶çš„åç¨±å°±æœƒæ˜¯ç”±ç›®éŒ„èˆ‡æª”æ¡ˆåç¨±çµ„åˆå‡ºçš„ &lt;code>&amp;lt;BaseApplyButton&amp;gt;&lt;/code>ã€‚&lt;/p>
&lt;p>ç‚ºäº†é–‹ç™¼ä¸Šèƒ½æ›´æ¸…æ¥šè¾¨åˆ¥ï¼Œå»ºè­°å°‡æª”æ¡ˆåç¨±è¨­ç½®èˆ‡ä½¿ç”¨å…ƒä»¶æ™‚çš„åç¨±ç›¸åŒï¼Œæ‰€ä»¥æˆ‘å€‘é‡æ–°å‘½å &lt;strong>./components/base/apply/&lt;/strong> ä¸‹çš„ &lt;strong>Button.vue&lt;/strong> ç‚º &lt;code>BaseApplyButton.vue&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">components/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ base/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ apply/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ BaseApplyButton.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½ ä¹Ÿä¸ç”¨æ“”å¿ƒå…ƒä»¶åç¨±æœƒä¸æœƒè®Šæˆ &lt;code>&amp;lt;BaseApplyBaseApplyButton&amp;gt;&lt;/code> çœ‹èµ·ä¾†æœ‰é»é†œé†œçš„ï¼Œå› ç‚º Nuxt æœƒå¹«æˆ‘å€‘&lt;code>åˆªé™¤é‡è¤‡çš„å­—æ®µ&lt;/code>ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨æ™‚å…ƒä»¶åç¨±ç‚º &lt;code>&amp;lt;BaseApplyButton&amp;gt;&lt;/code>ã€‚&lt;/p>
&lt;h4 id="å…ƒä»¶åç¨±çš„å‘½åè¦å‰‡">å…ƒä»¶åç¨±çš„å‘½åè¦å‰‡&lt;/h4>
&lt;p>Vue åœ¨è¨»å†Šå…ƒä»¶æ™‚ï¼Œå¯ä»¥ä½¿ç”¨å¤§é§å³°å¼å‘½åæ³• (Pascal Case) æˆ–çƒ¤è‚‰ä¸²å‘½åæ³• (Kebab Case) ä¾†ç‚ºå…ƒä»¶å‘½åï¼Œä¸¦åœ¨ &lt;strong>template&lt;/strong> ä¹Ÿå¯ä»¥è‡ªç”±ä½¿ç”¨å…©ç¨®å‘½åæ–¹å¼ä½œç‚ºä½¿ç”¨å…ƒä»¶çš„æ¨™ç±¤ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œä»¥ &lt;code>&amp;lt;base-apply-button&amp;gt;&lt;/code> ä¾†è¡¨ç¤ºä½¿ç”¨ &lt;strong>./components/base/apply/BaseApplyButton.vue&lt;/strong> å…ƒä»¶ã€‚&lt;/p>
&lt;p>æŠ‘æˆ–å»ºç«‹ &lt;strong>./components/base/apply/base-apply-button.vue&lt;/strong> å…ƒä»¶ï¼Œä½¿ç”¨æ™‚ä»¥ &lt;code>&amp;lt;BaseApplyButton&amp;gt;&lt;/code> è¡¨ç¤ºã€‚&lt;/p>
&lt;p>å…©ç¨®æ–¹å¼ Nuxt éƒ½æ”¯æ´ï¼Œå¯ä»¥æ ¹æ“šè‡ªå·±çš„ç¿’æ…£åšé¸æ“‡ï¼Œè€Œæˆ‘å€‹äººæ˜¯ä»¥å¤§é§å³°å¼å‘½åæ³• (Pascal Case) ç‚ºä¸»ï¼Œä»¥æ­¤å€åˆ¥ç‚ºè‡ªå·±å»ºç«‹çš„å…ƒä»¶ã€‚&lt;/p>
&lt;h3 id="å‹•æ…‹å…ƒä»¶-dynamic-components">å‹•æ…‹å…ƒä»¶ (Dynamic Components)&lt;/h3>
&lt;p>å¦‚æœæƒ³è¦ä½¿ç”¨åƒ Vue ä¸­çš„ &lt;code>&amp;lt;component :is=&amp;quot;someComputedComponent&amp;quot;&amp;gt;&lt;/code> ä¾†&lt;a class="link" href="https://cn.vuejs.org/guide/essentials/component-basics.html#dynamic-components" target="_blank" rel="noopener"
>å‹•æ…‹&lt;/a>çš„åˆ‡æ›ä¸åŒçš„å…ƒä»¶ï¼Œå‰‡éœ€è¦ä½¿ç”¨ Vue æä¾›çš„ &lt;code>resolveComponentVue&lt;/code> æ–¹æ³•ä¾†é€²è¡Œè¼”åŠ©ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">component&lt;/span> &lt;span class="o">:&lt;/span>&lt;span class="na">is&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;show ? DynamicComponent : &amp;#39;div&amp;#39;&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">show&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">DynamicComponent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">resolveComponent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;BaseApplyButton&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å»ºç«‹å‹•æ…‹å…ƒä»¶">å»ºç«‹å‹•æ…‹å…ƒä»¶&lt;/h3>
&lt;h4 id="step-1-å»ºç«‹å…ƒä»¶">Step 1. å»ºç«‹å…ƒä»¶&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>./components/base/apply/BaseApplyButton.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="componentsbaseapplybaseapplybuttonvue">components/base/apply/BaseApplyButton.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;submit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-6 bg-blue-600 py-3 px-8 text-xl font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç«‹å³å ±å&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ &lt;strong>./components/round/apply/RoundApplyButton.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="componentsroundapplyroundapplybuttonvue">components/round/apply/RoundApplyButton.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;submit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-6 rounded-full bg-blue-600 py-3 px-8 text-xl font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç«‹å³å ±å&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-ä½¿ç”¨-resolvecomponent">Step 2. ä½¿ç”¨ resolveComponent()&lt;/h4>
&lt;p>èª¿æ•´ &lt;strong>./app.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="appvue-6">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8 flex items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;show-button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">v-model&lt;/span>&lt;span class="s">=&amp;#34;useRound&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> name=&amp;#34;show-button&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> type=&amp;#34;checkbox&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> class=&amp;#34;h-5 w-5&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> /&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;label for=&amp;#34;show-button&amp;#34; class=&amp;#34;ml-2 block text-base text-slate-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">ä½¿ç”¨åœ“è§’æŒ‰éˆ•&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">component&lt;/span> &lt;span class="o">:&lt;/span>&lt;span class="na">is&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;useRound ? RoundButton : BaseButton&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">useRound&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">BaseButton&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">resolveComponent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;BaseApplyButton&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">RoundButton&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">resolveComponent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;RoundApplyButton&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‘ˆç¾æ•ˆæœï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617134245_0c359ab608_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å‹•æ…‹è¼‰å…¥-dynamic-imports">å‹•æ…‹è¼‰å…¥ (Dynamic Imports)&lt;/h3>
&lt;p>å‹•æ…‹è¼‰å…¥ (Dynamic Imports) å…ƒä»¶ä¹Ÿç¨±ä¹‹ç‚º&lt;code>å»¶é²è¼‰å…¥ (lazy-loading)&lt;/code>ï¼Œå¦‚æœé é¢ä¸­ä¸éœ€è¦ç«‹åˆ»ä½¿ç”¨æˆ–é¡¯ç¤ºæŸå€‹å…ƒä»¶ï¼Œé€éå‹•æ…‹è¼‰å…¥çš„æ–¹å¼å¯ä»¥&lt;code>å»¶é²å…ƒä»¶è¼‰å…¥çš„æ™‚é–“é»&lt;/code>ï¼Œæœ‰åŠ©æ–¼å„ªåŒ– JavaScript é¦–æ¬¡è¼‰å…¥æ™‚çš„æª”æ¡ˆå¤§å°ã€‚&lt;/p>
&lt;p>ä½¿ç”¨çš„æ–¹å¼ä¹Ÿéå¸¸ç°¡å–®ï¼Œåªéœ€è¦åœ¨ä½¿ç”¨å…ƒä»¶æ™‚ï¼ŒåŠ ä¸Šå‰ç¶´ &lt;code>Lazy&lt;/code> å°±å¯ä»¥æœ‰å»¶é²è¼‰å…¥çš„æ•ˆæœã€‚&lt;/p>
&lt;h4 id="å»ºç«‹ä¸€å€‹å‹•æ…‹è¼‰å…¥çš„æŒ‰éˆ•">å»ºç«‹ä¸€å€‹å‹•æ…‹è¼‰å…¥çš„æŒ‰éˆ•&lt;/h4>
&lt;h4 id="step-1-å»ºç«‹æŒ‰éˆ•å…ƒä»¶">Step 1. å»ºç«‹æŒ‰éˆ•å…ƒä»¶&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>./components/base/apply/BaseApplyButton.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="componentsbaseapplybaseapplybuttonvue-1">components/base/apply/BaseApplyButton.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;submit&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-6 rounded-sm bg-blue-600 py-3 px-8 text-xl font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç«‹å³å ±å&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-æ·»åŠ -lazy-å‰ç¶´">Step 2. æ·»åŠ  Lazy å‰ç¶´&lt;/h4>
&lt;p>èª¿æ•´ &lt;strong>./app.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="appvue-7">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8 flex items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;show-button&amp;#34;&lt;/span> &lt;span class="nt">v-model&lt;/span>&lt;span class="s">=&amp;#34;show&amp;#34; name=&amp;#34;show-button&amp;#34; type=&amp;#34;checkbox&amp;#34; class=&amp;#34;h-5 w-5&amp;#34; /&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;label for=&amp;#34;show-button&amp;#34; class=&amp;#34;ml-2 block text-base text-slate-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">é¡¯ç¤ºå ±åæŒ‰éˆ•&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">LazyBaseApplyButton&lt;/span> &lt;span class="na">v&lt;/span>&lt;span class="nt">-if&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">show&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">show&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>çœ‹çœ‹å»¶é²è¼‰å…¥çš„æ•ˆæœï¼š&lt;/p>
&lt;p>åœ¨é é¢ä¸Šæœ‰ä¸€å€‹æ ¸å–æ–¹å¡Šï¼Œä½¿ç”¨è€…å‹¾é¸æ™‚æ‰é¡¯ç¤ºæŒ‰éˆ•ï¼Œæˆ‘å€‘é€éç€è¦½å™¨çš„é–‹ç™¼è€…å·¥å…·è§€å¯Ÿç¶²è·¯ (Network) çš„ä½¿ç”¨æƒ…æ³ï¼Œå¯ä»¥ç™¼ç¾åªæœ‰é¦–æ¬¡å‹¾é¸å¾Œæ‰è«‹æ±‚äº† &lt;strong>BaseApplyButton.vue&lt;/strong> æŒ‰éˆ•å…ƒä»¶ JSã€‚ç•¶é€™å€‹æŒ‰éˆ•å…ƒä»¶è¢«è¨­ç½®ç‚º &lt;code>Lazy&lt;/code> å‹•æ…‹è¼‰å…¥æ™‚ï¼Œé é¢é¦–æ¬¡è¼‰å…¥å…¶å¯¦ä¸æœƒåŒ…å«é€™å€‹æŒ‰éˆ•çš„ç¨‹å¼ç¢¼ï¼Œè€Œæ˜¯ç­‰å¾…éœ€è¦é€™å€‹å…ƒä»¶æ™‚æ‰å»è«‹æ±‚ä¸‹è¼‰ï¼Œä»¥æ­¤é”åˆ°&lt;code>å»¶é²è¼‰å…¥&lt;/code>çš„æ•ˆæœï¼ŒåŒæ™‚ä¹Ÿé™ä½é¦–æ¬¡é€²å…¥ç¶²é æ™‚éœ€è¦ä¸‹è¼‰çš„ JavaScript ç¨‹å¼ç¢¼å¤§å°ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698371_6fc18a0e8b_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="æ§åˆ¶ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯æ¸²æŸ“å…ƒä»¶">æ§åˆ¶ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯æ¸²æŸ“å…ƒä»¶&lt;/h3>
&lt;h4 id="clientonly-å…ƒä»¶">&lt;code>&amp;lt;ClientOnly&amp;gt;&lt;/code> å…ƒä»¶&lt;/h4>
&lt;p>Nuxt 3 æä¾›äº†ä¸€å€‹ &lt;code>&amp;lt;ClientOnly&amp;gt;&lt;/code> å…ƒä»¶ï¼Œå¯ä»¥æ§åˆ¶è¢«åŒ…è£¹çš„å…ƒä»¶åƒ…åœ¨å®¢æˆ¶ç«¯é€²è¡Œæ¸²æŸ“ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘å»ºç«‹ &lt;strong>./components/IronManWelcome.vue&lt;/strong> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="componentsironmanwelcomevue-2">components/IronManWelcome.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>&amp;lt;ClientOnly&amp;gt;&lt;/code> å…ƒä»¶åŒ…è£¹ &lt;code>&amp;lt;IronManWelcome&amp;gt;&lt;/code>ã€‚&lt;/p>
&lt;p>èª¿æ•´ &lt;strong>./app.vue&lt;/strong> ä¸­ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="appvue-8">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">IronManWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£å°±å¯ä»¥å°‡ &lt;code>&amp;lt;IronManWelcome&amp;gt;&lt;/code> å…ƒä»¶è¨­å®šç‚ºåƒ…åœ¨å®¢æˆ¶ç«¯é€²è¡Œæ¸²æŸ“ï¼Œé¦–æ¬¡è«‹æ±‚é é¢æ™‚å°‡ä¸æœƒåŒ…å«é€™å€‹å…ƒä»¶çš„ HTMLã€‚&lt;/p>
&lt;p>&lt;code>&amp;lt;ClientOnly&amp;gt;&lt;/code> å…ƒä»¶ä¸­æä¾›äº†ä¸€å€‹åç‚º &lt;code>fallback&lt;/code> çš„æ’æ§½ (Slot)ï¼Œå¯ä»¥ç”¨ä½œæ–¼åœ¨ä¼ºæœå™¨æ¸²æŸ“çš„é è¨­å…§å®¹ï¼Œç­‰åˆ°å®¢æˆ¶ç«¯è¼‰å…¥å®Œæˆæ‰æ¥æ‰‹æ¸²æŸ“è¢«åŒ…è£¹çš„ &lt;code>&amp;lt;IronManWelcome&amp;gt;&lt;/code> å…ƒä»¶ã€‚&lt;/p>
&lt;p>èª¿æ•´ &lt;strong>./app.vue&lt;/strong> ä¸­ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="appvue-9">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">IronManWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="err">#&lt;/span>&lt;span class="na">fallback&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-6 flex justify-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;[&lt;/span>&lt;span class="nx">IronManWelcome&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="nx">è¼‰å…¥ä¸­&lt;/span>&lt;span class="p">...&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶é€²å…¥é¦–æ¬¡ç¶²é ï¼Œæœƒå…ˆæ¸²æŸ“ &lt;code>fallback&lt;/code> æ’æ§½å…§çš„å…ƒç´ ï¼Œæ‰€ä»¥ç€è¦½å™¨å…ˆé¡¯ç¤º &lt;strong>[IronManWelcome] è¼‰å…¥ä¸­&amp;hellip;&lt;/strong> æ–‡å­—ï¼Œæ¥è‘—å®¢æˆ¶ç«¯è¼‰å…¥å®Œ JS å¾Œæ¥æ‰‹æ¸²æŸ“ &lt;code>&amp;lt;IronManWelcome&amp;gt;&lt;/code> å…ƒä»¶ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188487_a1bc229272_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ä½ ä¹Ÿå¯ä»¥é€éç€è¦½å™¨é é¢ä¸­é»æ“Šå³éµå¾Œå±•é–‹é¸å–®çš„ã€Œæª¢è¦–ç¶²é åŸå§‹ç¢¼ã€åŠŸèƒ½ï¼Œæ‰€çœ‹åˆ°çš„ç¶²é åŸå§‹ç¢¼ï¼Œç™¼ç¾ä¼ºæœå™¨ç«¯åƒ…å…ˆå›æ‡‰äº† &lt;code>&amp;lt;p class=&amp;quot;my-6 flex justify-center&amp;quot;&amp;gt;[IronManWelcome] è¼‰å…¥ä¸­...&amp;lt;/p&amp;gt;&lt;/code>ï¼Œè¡¨ç¤ºé€™æ˜¯ç”±ä¼ºæœå™¨ç«¯æ¸²æŸ“ &lt;code>&amp;lt;ClientOnly&amp;gt;&lt;/code> å…ƒä»¶ &lt;code>fallback&lt;/code> æ’æ§½çš„å…§å®¹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964604_68d7e7bf6a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="client-èˆ‡-server">.client èˆ‡ .server&lt;/h4>
&lt;p>Nuxt 3 çš„å…ƒä»¶ï¼Œä¹Ÿå¯ä»¥é€éå…ƒä»¶çš„æª”æ¡ˆåç¨±ä¾†æ§åˆ¶åƒ…é¡¯ç¤ºåœ¨å®¢æˆ¶ç«¯æˆ–ä¼ºæœå™¨ç«¯ã€‚&lt;/p>
&lt;p>å¦‚æœå…ƒä»¶åƒ…åœ¨å®¢æˆ¶ç«¯å‘ˆç¾ï¼Œå‰‡å¯ä»¥å°‡ &lt;code>.client&lt;/code> åŠ å…¥å…ƒä»¶æª”åçš„å¾Œç¶´ä¸­ã€‚&lt;/p>
&lt;p>å»ºç«‹ä¸€å€‹ &lt;strong>./components/JustClient.client.vue&lt;/strong> å…ƒä»¶æª”æ¡ˆï¼Œè¡¨ç¤º &lt;code>&amp;lt;JustClient&amp;gt;&lt;/code> å…ƒä»¶ï¼Œåƒ…æœƒåœ¨å®¢æˆ¶ç«¯é€²è¡Œæ¸²æŸ“ã€‚&lt;/p>
&lt;p>è€Œæ·»åŠ  &lt;code>.server&lt;/code> å¾Œç¶´çš„å…ƒä»¶æª”æ¡ˆï¼Œå‰‡æœƒæ˜¯é€™å€‹å…ƒä»¶åœ¨ä¼ºæœå™¨ç«¯æ¸²æŸ“çš„å…§å®¹ã€‚&lt;/p>
&lt;h4 id="æ§åˆ¶ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯æ¸²æŸ“å…ƒä»¶ç¯„ä¾‹">æ§åˆ¶ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯æ¸²æŸ“å…ƒä»¶ç¯„ä¾‹&lt;/h4>
&lt;p>æˆ‘å€‘ä½¿ç”¨ &lt;code>&amp;lt;ClientOnly&amp;gt;&lt;/code> å…ƒä»¶ã€&lt;code>.client&lt;/code> èˆ‡ &lt;code>.server&lt;/code> åšä¸€å€‹ç¯„ä¾‹ä¾†çœ‹å‘ˆç¾çš„æ•ˆæœã€‚&lt;/p>
&lt;h5 id="componentsironmanwelcomevue-3">components/IronManWelcome.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="mi">2022&lt;/span> &lt;span class="nx">iThome&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-bold text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">éµäººè³½&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="componentsjustclientclientvue">components/JustClient.client.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-16 my-4 rounded-lg bg-green-100 p-4 text-sm text-green-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-semibold&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;[&lt;/span>&lt;span class="nx">JustClient&lt;/span>&lt;span class="p">]&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ml-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™æ˜¯åªæœ‰åœ¨&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-bold&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Client&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">æ‰æœƒæ¸²æŸ“çš„å…ƒä»¶&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="componentsclientandserverclientvue">components/ClientAndServer.client.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-16 my-4 rounded-lg bg-sky-100 p-4 text-sm text-sky-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-semibold&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;[&lt;/span>&lt;span class="nx">ClientAndServer&lt;/span>&lt;span class="p">]&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ml-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">é€™æ˜¯å¾&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-bold text-red-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Client&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">æ¸²æŸ“å‡ºä¾†çš„å…ƒä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="componentsclientandserverservervue">components/ClientAndServer.server.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mx-16 my-4 rounded-lg bg-sky-100 p-4 text-sm text-sky-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-semibold&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;[&lt;/span>&lt;span class="nx">ClientAndServer&lt;/span>&lt;span class="p">]&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ml-2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">é€™æ˜¯å¾&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-bold text-red-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Server&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="nx">æ¸²æŸ“å‡ºä¾†çš„å…ƒä»¶&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">è«‹ç­‰å¾…&lt;/span> &lt;span class="nx">Client&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">æ¥æ‰‹æ¸²æŸ“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="appvue-10">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">IronManWelcome&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span> &lt;span class="err">#&lt;/span>&lt;span class="na">fallback&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-6 flex justify-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;[&lt;/span>&lt;span class="nx">IronManWelcome&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="nx">è¼‰å…¥ä¸­&lt;/span>&lt;span class="p">...&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">JustClient&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ClientAndServer&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘é‡æ–°ç€è¦½ç¶²é ï¼Œå¯ä»¥ç™¼ç¾åˆ°ç”±ä¼ºæœå™¨æ¸²æŸ“çš„æ’æ§½å…ƒç´  &lt;strong>[IronManWelcome] è¼‰å…¥ä¸­&amp;hellip;&lt;/strong> æ–‡å­—èˆ‡ &lt;strong>ClientAndServer.server.vue&lt;/strong> å…ƒä»¶ï¼Œç‡å…ˆè¢«é¡¯ç¤ºäº†å‡ºä¾†ã€‚æ¥è‘—ç•¶ JS è¼‰å…¥å®Œç•¢å¾Œï¼Œè¢« åŒ…è£¹çš„å…ƒä»¶ &lt;code>&amp;lt;IronManWelcome&amp;gt;&lt;/code> ä¹Ÿæ¥æ‰‹ä¸¦è¦†è“‹äº†ã€Œ&lt;strong>[IronManWelcome] è¼‰å…¥ä¸­&amp;hellip;&lt;/strong>ã€æ–‡å­—ï¼Œ&lt;strong>ClientAndServer.client.vue&lt;/strong> èˆ‡ &lt;strong>JustClient.client.vue&lt;/strong> åƒ…åœ¨å®¢æˆ¶ç«¯æ¸²æŸ“çš„å…ƒä»¶ï¼Œä¹Ÿåˆ†åˆ¥çš„è¦†è“‹èˆ‡é¡¯ç¤ºå‡ºä¾†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186703_ecb68732a9_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€éå…ƒä»¶æˆ‘å€‘èƒ½æ›´å¥½çš„æ•´ç†å¯é‡è¤‡ä½¿ç”¨çš„ç¨‹å¼ç¢¼ï¼Œä¹Ÿæå‡äº†å¯ç¶­è­·æ€§ï¼Œè€Œ Nuxt ä¸­çš„å‹•æ…‹è¼‰å…¥æ›´æ˜¯èƒ½å°‡éå¿…è¦ä½¿ç”¨çš„å…ƒä»¶å»¶é²è¼‰å…¥ï¼Œå¤§å¤§æå‡äº†é¦–æ¬¡é€²å…¥ç¶²é æ‰€éœ€è¦ä¸‹è¼‰çš„æª”æ¡ˆå¤§å°ï¼Œæœ€å¾Œæˆ‘å€‘ä¹Ÿä»‹ç´¹äº†å¦‚ä½•æ§åˆ¶ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯æ¸²æŸ“å…ƒä»¶ï¼Œç†Ÿæ‚‰äº†ä¹‹å¾Œå°±èƒ½é‡å°ç¶²ç«™éœ€æ±‚è¨­å®šå…ƒä»¶çš„è¼‰å…¥åŠæ¸²æŸ“æ–¹å¼å›‰ï¼&lt;/p>
&lt;hr>
&lt;h2 id="çµ„åˆå¼å‡½æ•¸-composables">çµ„åˆå¼å‡½æ•¸ (Composables)&lt;/h2>
&lt;p>çµ„åˆå¼å‡½æ•¸ (Composables) æ˜¯ä¸€ç¨®åˆ©ç”¨ Vue 3 çš„ &lt;strong>Composition API&lt;/strong> ä¾†å°è£å’Œè¤‡ç”¨&lt;code>æœ‰ç‹€æ…‹é‚è¼¯&lt;/code>çš„å‡½æ•¸ï¼Œåœ¨ Nuxt æˆ‘å€‘å¯ä»¥å°‡ä¸€äº›é€šç”¨çš„å•†æ¥­é‚è¼¯æ”¾ç½®åœ¨ &lt;code>composables&lt;/code> ä¾†å»ºç«‹çµ„åˆå¼å‡½æ•¸ï¼Œé€™æ¨£ä¸€ä¾†å°±å¯ä»¥åœ¨å„å€‹é é¢å…±ç”¨é€™å€‹çµ„åˆå¼å‡½æ•¸ã€‚&lt;/p>
&lt;h3 id="options-api-èˆ‡-composition-api">Options API èˆ‡ Composition API&lt;/h3>
&lt;ul>
&lt;li>é¸é …å¼ API (Options API)ï¼š&lt;/li>
&lt;/ul>
&lt;p>ä¸‹åˆ—é€™æ®µæ˜¯ Vue ä¾æ“š Options API æ’°å¯«å‡ºä¾†çš„ç¨‹å¼ç¢¼ï¼Œä¹Ÿæ˜¯ Vue 2 è™•ç†é‚è¼¯çš„å¯«æ³•ï¼Œæ‰€è¬‚ Options (é¸é …ã€å¯é¸çš„) æŒ‡çš„å°±æ˜¯ä»¥ç¨‹å¼ç¢¼çš„æ€§è³ªä¾†åˆ†å‰²ç¨‹å¼ç¢¼ï¼Œæ‰€æœ‰è¨­å®šè³‡æ–™åˆå§‹å€¼çš„éƒ½æœƒåœ¨ &lt;strong>data&lt;/strong> é€™é‚Šè™•ç†ï¼Œé€™å€‹å…ƒä»¶æ‰€éœ€è¦çš„æ–¹æ³•å‰‡æœƒåœ¨ &lt;strong>methods&lt;/strong> é€™è£¡å»ºç«‹ï¼Œ&lt;strong>data&lt;/strong> åŠ &lt;strong>methods&lt;/strong> ä¹Ÿå°±æ˜¯ä½¿ç”¨è€…éœ€è¦çš„&lt;strong>é¸é …&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doubleCount&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">methods&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">incrementByTwo&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">doubleCount&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>çµ„åˆå¼ API (Composition API)ï¼š&lt;/li>
&lt;/ul>
&lt;p>ç›®å‰åœ¨ Vue 3 ä½ ä»å¯ä»¥ç¹¼çºŒä½¿ç”¨ Vue 2 çš„ Options APIï¼Œä½†éš¨è‘—ç¨‹å¼ç¢¼é‚è¼¯çš„å¢åŠ ï¼Œçœ‹ä¼¼æœ‰æ¢ç†çš„åˆ†é¡ï¼Œå…¶å¯¦å°æ–¼ç†è§£åŠç¶­è­·ä¸Šæ²’æœ‰æƒ³åƒä¸­ä¾¿åˆ©ã€‚&lt;/p>
&lt;p>Vue 3 æå‡ºçš„&lt;strong>çµ„åˆå¼ API (Composition API)&lt;/strong> å‰‡æ˜¯ä»¥é‚è¼¯åŠŸèƒ½ä¾†é€²è¡Œåˆ†é¡ï¼Œä½ å¯ä»¥å°‡æ‰€æœ‰èˆ‡æŸå€‹åŠŸèƒ½çš„ &lt;strong>data&lt;/strong>ã€&lt;strong>computed&lt;/strong>ã€&lt;strong>methods&lt;/strong> èˆ‡ &lt;strong>watch&lt;/strong> &amp;hellip;ç­‰ï¼Œå¯«åœ¨åŒä¸€å€‹æ®µè½è¡Œç¨‹ä¸€å€‹å€å¡Šã€‚&lt;/p>
&lt;p>è©³ç´°èªªæ˜å¯é–±è®€å…ˆå‰æ’°å¯«çš„&lt;a class="link" href="https://wayneblog.ga/2022-08-11/option-api-vs-composition-api/" >åœ–è§£ Option API vs Composition API&lt;/a>æ–‡ç« ã€‚&lt;/p>
&lt;h3 id="mixins-èˆ‡-composables">Mixins èˆ‡ Composables&lt;/h3>
&lt;p>åœ¨ Options API å¯ä»¥ä½¿ç”¨ &lt;code>mixin&lt;/code> ä¾†å¼•å…¥å¯ä»¥é‡è¤‡ä½¿ç”¨çš„ç¨‹å¼ç¢¼ï¼Œè®“ä¸åŒçš„å…ƒä»¶å¯ä»¥å…±ç”¨å‡½æ•¸æ–¹æ³•ï¼Œä½†éš¨è‘—å°ˆæ¡ˆè®Šå¤§ï¼ŒåŒä¸€å€‹å…ƒä»¶å¯èƒ½ä½¿ç”¨ mixin åŒæ™‚ä¾†å¼•ç”¨è¨±å¤šçš„å…±ç”¨å‡½æ•¸ï¼Œé€™å°‡å°è‡´å®¹æ˜“ç”¢ç”Ÿå‘½åè¡çªã€å…ƒä»¶é–“çš„è€¦åˆèˆ‡ä¾†æºä¸å¤ æ¸…æ™°ç­‰å•é¡Œï¼ˆè©³ç´°åŸå› è«‹åƒè€ƒ&lt;a class="link" href="https://wayneblog.ga/2022-12-30/why-use-hooks/" >æ·ºè«‡ç‚ºä»€éº¼ Vue å’Œ React éƒ½é¸æ“‡äº† Hooksï¼Ÿ&lt;/a>ï¼‰ã€‚&lt;/p>
&lt;p>Vue 3 ç‚ºæˆ‘å€‘å¸¶ä¾†äº†çµ„åˆå¼ APIï¼Œå¯¦ç¾äº†æ›´ä¹¾æ·¨çš„ç¨‹å¼ç¢¼ç·¨æ’èˆ‡é«˜æ•ˆçš„é‚è¼¯é‡ç”¨ï¼Œ**çµ„åˆå¼å‡½æ•¸ (Composables)**ä¹ŸåŸºæ–¼çµ„åˆå¼ API ä¾†é€²è¡Œå°è£é€™äº›å¯è¤‡ç”¨çš„é‚è¼¯ï¼Œæ›´è§£æ±ºäº†ä½¿ç”¨ mixin å¯¦ç¾å…±ç”¨å‡½æ•¸çš„ç¼ºé»ã€‚&lt;/p>
&lt;h3 id="çµ„åˆå¼å‡½æ•¸-composables-1">çµ„åˆå¼å‡½æ•¸ (Composables)&lt;/h3>
&lt;p>åœ¨ Nuxt 3 ä¸­è¦å»ºç«‹ä¸€å€‹&lt;code>çµ„åˆå¼å‡½æ•¸ (Composables)&lt;/code> æˆ‘å€‘å¯ä»¥åœ¨ &lt;code>composables&lt;/code> ç›®éŒ„ä¸‹ç·¨å¯«ï¼Œé€™äº›å¸¸ç”¨çš„å‡½æ•¸ï¼Œå°‡æœƒè¢« Nuxt 3 è‡ªå‹•è¼‰å…¥åšä½¿ç”¨ï¼Œå¯¦ç¾åœ¨å„å€‹å…ƒä»¶ä½¿ç”¨é€™äº›å‡½æ•¸æ–¹æ³•ã€‚&lt;/p>
&lt;h4 id="å»ºç«‹çµ„åˆå¼å‡½æ•¸">å»ºç«‹çµ„åˆå¼å‡½æ•¸&lt;/h4>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘æ–°å¢ &lt;strong>./composables/useCounter.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="composablesusecounterjs">composables/useCounter.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">increment&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Nuxt è‡ªå‹•å°å…¥çš„ç‰¹æ€§ï¼Œç¾åœ¨æˆ‘å€‘å°±èƒ½åœ¨å…¶ä»–å…ƒä»¶ä¸­ä½¿ç”¨ &lt;strong>useCounter&lt;/strong> çµ„åˆå¼å‡½æ•¸ã€‚&lt;/p>
&lt;p>æ–°å¢ &lt;strong>./pages/count.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescountvue">pages/count.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8 text-4xl text-gray-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-6 rounded-sm bg-sky-600 py-2 px-4 text-base font-medium text-white hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;increment&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">å¢åŠ &lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">increment&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCounter&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="composables-çµ„åˆå¼å‡½æ•¸çš„åç¨±">Composables çµ„åˆå¼å‡½æ•¸çš„åç¨±&lt;/h3>
&lt;p>å‰é¢ç¯„ä¾‹ä½¿ç”¨çš„ &lt;code>useCounter()&lt;/code> æ˜¯ Nuxt 3 å¾ &lt;strong>./composables/useCounter.js&lt;/strong> è‡ªå‹•è¼‰å…¥çš„ï¼Œè€Œä¸” Nuxt 3 çš„çµ„åˆå¼å‡½æ•¸çš„åç¨±ï¼Œæœ‰å…©ç¨®æ–¹å¼æœƒå½±éŸ¿ä½¿ç”¨æ™‚çš„å‡½æ•¸åç¨±ï¼Œä¸éä¹Ÿå»ºè­°åœ¨å»ºç«‹çµ„åˆå¼å‡½æ•¸å¯ä»¥ä½¿ç”¨ &lt;code>use&lt;/code> ä½œç‚ºé–‹é ­ä¾†åŠ ä»¥è­˜åˆ¥ã€‚&lt;/p>
&lt;h4 id="1-ä½¿ç”¨é è¨­åŒ¯å‡º-default-export">1. ä½¿ç”¨é è¨­åŒ¯å‡º (Default export)&lt;/h4>
&lt;p>å¦‚æœåœ¨æª”æ¡ˆå…§ä½¿ç”¨çš„æ˜¯é è¨­åŒ¯å‡ºï¼Œé‚£éº¼é€™å€‹çµ„åˆå¼å‡½æ•¸åœ¨ä½¿ç”¨æ™‚ï¼Œå³&lt;code>å°æ‡‰æª”æ¡ˆåç¨±&lt;/code>ï¼Œæª”æ¡ˆåç¨±å¯ä»¥æ˜¯å°å¯«é§å³°å¼ (Camel case) æˆ–çƒ¤è‚‰ä¸² (Kebab case)ï¼Œä¾‹å¦‚å»ºç«‹ &lt;strong>./composables/useCounter.js&lt;/strong> æˆ– &lt;strong>./composables/use-counter.js&lt;/strong> æª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼Œä½¿ç”¨æ™‚çµ„åˆå¼å‡½æ•¸ç‚ºå°å¯«é§å³°å¼(Camel case) åç‚º &lt;code>useCounter&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">increment&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="2-ä½¿ç”¨å…·ååŒ¯å‡º-named-export">2. ä½¿ç”¨å…·ååŒ¯å‡º (Named export)&lt;/h4>
&lt;p>å¦‚æœå»ºç«‹çµ„åˆå¼å‡½æ•¸æ™‚ï¼Œä½¿ç”¨çš„æ˜¯æœ‰å…·åçš„åŒ¯å‡ºï¼Œé‚£éº¼&lt;code>çµ„åˆå¼å‡½æ•¸å°æ‡‰çš„åç¨±ï¼Œå°±ä¸æ˜¯æª”æ¡ˆåç¨±ï¼Œè€Œæ˜¯æª”æ¡ˆå…§ export å‡ºä¾†çš„åç¨±&lt;/code>ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œå»ºç«‹ &lt;strong>./composables/count.js&lt;/strong>ï¼Œæª”æ¡ˆå…§å®¹å¦‚ä¸‹ï¼Œçµ„åˆå¼å‡½æ•¸åç¨±å°±ä¸æœƒæ˜¯æª”æ¡ˆåç¨± countï¼Œè€Œæ˜¯å…·åå°å‡ºçš„åç¨± &lt;code>useCounter&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useCounter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">increment&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="composables-è‡ªå‹•è¼‰å…¥çš„è¦å‰‡">Composables è‡ªå‹•è¼‰å…¥çš„è¦å‰‡&lt;/h3>
&lt;p>&lt;strong>composables&lt;/strong> ç›®éŒ„ä¸‹ï¼ŒNuxt 3 æœƒè‡ªå‹•æƒæ &lt;strong>.js&lt;/strong>ã€&lt;strong>.ts&lt;/strong> èˆ‡ &lt;strong>.vue&lt;/strong> å‰¯æª”åçš„æª”æ¡ˆï¼Œä½†åªæœ‰&lt;code>æœ€ä¸Šå±¤çš„æª”æ¡ˆ&lt;/code>ï¼Œæ‰æœƒè‡ªå‹•çš„è¢«è¼‰å…¥ç‚ºçµ„åˆå¼å‡½æ•¸ï¼Œä»¥ä¸‹é¢é€™å€‹ç›®éŒ„çµæ§‹ç‚ºä¾‹ï¼Œåªæœ‰ &lt;strong>./composables/useCounter.js&lt;/strong> æ‰æœƒè¢«æ­£ç¢ºçš„è‡ªå‹•è¼‰å…¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">composables/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ time/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ useDateFormat.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ useCounter.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸‹åˆ—é€™ç¨®å½¢å¼ï¼Œ&lt;strong>./composables/time/index.js&lt;/strong> ä¹Ÿèƒ½æ­£ç¢ºçš„è‡ªå‹•è¼‰å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">composables/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ time/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ index.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ useCounter.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœä½ æƒ³è®“å·¢ç‹€çš„ç›®éŒ„çµæ§‹ä¸‹ä¹Ÿèƒ½è¢« Nuxt è‡ªå‹•æƒæè¼‰å…¥ï¼Œé‚£éº¼ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢å…©ç¨®æ–¹æ³•ï¼š&lt;/p>
&lt;h4 id="ä¸€é‡æ–°åŒ¯å‡º-span-classfocusæ¨è–¦span">ä¸€ã€é‡æ–°åŒ¯å‡º &lt;span class="focus">[æ¨è–¦]&lt;/span>&lt;/h4>
&lt;p>é…ç½® &lt;strong>./composables/index.js&lt;/strong> å°‡ç›®éŒ„ä¸‹çš„å‡½æ•¸æ–¼é€™è£¡æ•´ç†ä¸¦åŒ¯å‡ºä½ éœ€è¦çš„ä½œç‚ºçµ„åˆå¼å‡½æ•¸ã€‚&lt;/p>
&lt;h4 id="äºŒé…ç½®æƒæå·¢ç‹€ç›®éŒ„">äºŒã€é…ç½®æƒæå·¢ç‹€ç›®éŒ„&lt;/h4>
&lt;p>ä¿®æ”¹ &lt;code>nuxt.config.ts&lt;/code> æª”æ¡ˆï¼Œé…ç½®è‡ªå‹•è¼‰å…¥é¡å¤–æƒæ &lt;code>composables&lt;/code> ä¸‹çš„å·¢ç‹€ç›®éŒ„ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts-1">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">imports&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dirs&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æƒæ composables ç›®éŒ„é ‚å±¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="s1">&amp;#39;composables&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æƒææ·±åº¦ä¸€å±¤çš„ç‰¹å®šæª”æ¡ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="s1">&amp;#39;composables/*/index.{ts,js,mjs,mts}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æƒææ•´å€‹ composables ç›®éŒ„ä¸‹çš„æª”æ¡ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="s1">&amp;#39;composables/**&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸è«–åœ¨ Nuxt 3 æˆ–æ˜¯ Vue 3ï¼Œçµ„åˆå¼å‡½æ•¸ (Composables) éƒ½æ˜¯èƒ½å¹«åŠ©ä½ åœ¨æ•´å€‹ç¶²ç«™å¯ä»¥å…±ç”¨å‡½æ•¸çš„æ–¹æ³•ï¼Œç›®å‰ä¹Ÿæœ‰å°ˆæ¡ˆ &lt;a class="link" href="https://vueuse.org/" target="_blank" rel="noopener"
>VueUse&lt;/a> æä¾›äº†å¸¸ç”¨èˆ‡å¯¦ç”¨çš„çµ„åˆå¼å‡½æ•¸é›†åˆï¼Œèƒ½å¹«æˆ‘å€‘çœå»ä¸å°‘é–‹ç™¼æ™‚é–“èˆ‡æå‡é‡è¤‡ä½¿ç”¨æ€§ï¼Œ&lt;a class="link" href="https://wayneblog.ga/2022-12-30/npm-vueuse/" >VueUseçš„ä»‹ç´¹è«‹é»æˆ‘å‰å¾€&lt;/a>ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æ’ä»¶-plugins">æ’ä»¶ (Plugins)&lt;/h2>
&lt;p>åœ¨é–‹ç™¼æ™‚ï¼Œç‚ºäº†ä¸é‡è¤‡é€ è¼ªå­ï¼Œæˆ‘å€‘å¯èƒ½æœƒåœ¨ç¶²è·¯ä¸Šæ‰¾çœ‹çœ‹æœ‰æ²’æœ‰ç¾æˆçš„å¥—ä»¶å¯ä»¥åšä½¿ç”¨ï¼Œå¦‚æœé€™å€‹å¥—ä»¶åœ¨ Nuxt 3 æ²’æœ‰å°ˆç”¨çš„æ¨¡çµ„æˆ–æ’ä»¶ï¼Œé‚£éº¼æˆ‘å€‘å°±åªèƒ½ä¾ç…§å¥—ä»¶çš„æ”¯æ´èˆ‡å®‰è£æ–¹å¼å˜—è©¦æ·»åŠ è‡³ Nuxt ä¸­ä½¿ç”¨ã€‚é€™é‚Šå°‡æœƒä»‹ç´¹åœ¨ Nuxt æ’ä»¶çš„è¦å‰‡èˆ‡ç‰¹æ€§ï¼Œå¦‚ä½•å»ºç«‹è‡ªå·±çš„æ’ä»¶åŠå®‰è£ Vue çš„æ’ä»¶ã€‚&lt;/p>
&lt;p>èªªåˆ°æ’ä»¶ (Plugins)ï¼ŒChrome æˆ– Firefox ç­‰ç€è¦½å™¨çš„ä½¿ç”¨è€…ï¼Œä¸€å®šéƒ½è½éä¹Ÿå®‰è£éæ’ä»¶ï¼›å¦‚æœç€è¦½å™¨ä¸­çš„åŠŸèƒ½ä¸å¤ æ»¿è¶³ä½ çš„éœ€æ±‚ï¼Œé‚£éº¼ä½ å¯ä»¥é€éå®‰è£æ’ä»¶ä¾†å˜—è©¦è§£æ±ºä½ çš„å•é¡Œï¼Œè€Œæ’ä»¶åšçš„å°±æ˜¯å¹«åŠ©ä½ çš„ç€è¦½å™¨æˆ–æ˜¯ç¶²ç«™ï¼Œæ·»åŠ ä¸€äº›åŠŸèƒ½æˆ–æ˜¯é…ç½®ï¼Œåšä¸€å€‹æ“´å……çš„å‹•ä½œã€‚åœ¨ Nuxt 3 æŒ‡çš„æ’ä»¶ï¼Œé“ç†ä¹Ÿæ˜¯ä¸€æ¨£çš„ï¼Œæˆ‘å€‘å¯ä»¥é€éæ’ä»¶ä¾†å”åŠ©æˆ‘å€‘æ“´å……åŠŸèƒ½ã€‚&lt;/p>
&lt;h3 id="nuxt-3-æ’ä»¶ç›®éŒ„">Nuxt 3 æ’ä»¶ç›®éŒ„&lt;/h3>
&lt;p>Nuxt å°‡è‡ªå‹•è®€å– &lt;strong>plugins&lt;/strong> ç›®éŒ„ä¸­çš„æª”æ¡ˆä¸¦è‡ªå‹•è¼‰å…¥å®ƒå€‘ï¼Œä¹Ÿå› ç‚ºç›®éŒ„ä¸­çš„æ‰€æœ‰æ’ä»¶éƒ½æ˜¯è‡ªå‹•è¼‰å…¥çš„ï¼Œå› æ­¤ä¸å¿…æ–¼ &lt;code>nuxt.config.ts&lt;/code> ä¸­å†å€‹åˆ¥é…ç½®ã€‚&lt;/p>
&lt;p>Nuxt æœƒè‡ªå‹•æƒæ &lt;strong>plugins&lt;/strong> ç›®éŒ„ä¸‹çš„ &lt;strong>.js&lt;/strong>ã€&lt;strong>.ts&lt;/strong> èˆ‡ &lt;strong>.vue&lt;/strong> å‰¯æª”åçš„æª”æ¡ˆï¼Œä½†åªæœ‰æœ€ä¸Šå±¤çš„æª”æ¡ˆæˆ–æœ€ä¸Šå±¤ç›®éŒ„ä¸‹çš„ &lt;strong>index.js&lt;/strong> æª”æ¡ˆæ‰æœƒè¢«è‡ªå‹•è¼‰å…¥ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œåªæœ‰ &lt;strong>./plugins/myPlugin.js&lt;/strong> åŠ &lt;strong>./plugins/myPlugin/index.js&lt;/strong> æœƒè‡ªå‹•çš„è¢« Nuxt è¼‰å…¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">plugins/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ myPlugin/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ index.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ myPlugin.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å¦‚ä½•å»ºç«‹æ’ä»¶">å¦‚ä½•å»ºç«‹æ’ä»¶&lt;/h3>
&lt;p>ç•¶æ‚¨å»ºç«‹å¥½æ’ä»¶çš„æª”æ¡ˆå¾Œï¼Œåªéœ€è¦ä½¿ç”¨é è¨­å°å‡º Nuxt 3 ä¸­çš„ &lt;code>defineNuxtPlugin&lt;/code> æ–¹æ³•ï¼Œå‚³éçµ¦æ’ä»¶çš„å”¯ä¸€åƒæ•¸æ˜¯ &lt;code>nuxtApp&lt;/code>ï¼Œæ¥è‘—å°±å¯ä»¥åœ¨è£¡é ­å¯¦ä½œåŠŸèƒ½ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtPlugin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">nuxtApp&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å¯ä»¥ä½¿ç”¨ nuxtApp ä¾†åšä¸€äº›äº‹æƒ…
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆæ¬¡å»ºç«‹æ’ä»¶æ™‚ï¼Œå¯ä»¥å˜—è©¦å°å‡º &lt;code>nuxtApp&lt;/code> åƒæ•¸çœ‹çœ‹ï¼Œå¦‚ä¸‹åœ–ï¼Œ&lt;code>nuxtApp&lt;/code> åŒ…å«äº†å„ç¨®çš„å¯¦ä¾‹ (Instance)ï¼Œä¾‹å¦‚æˆ‘å€‘è¦ä½¿ç”¨ Vue çš„ &lt;code>app.use&lt;/code>ï¼Œå°±å¯ä»¥åœ¨ &lt;code>nuxtApp&lt;/code> æ‰¾åˆ° Vue çš„å¯¦ä¾‹ &lt;code>vueApp&lt;/code>ï¼Œä¸¦é€é &lt;code>nuxtApp.vueApp.use&lt;/code> ä¾†å®‰è£ Vue çš„æ’ä»¶ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188532_bb5139c839_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="åœ¨æ’ä»¶ä¸­ä½¿ç”¨çµ„åˆå¼å‡½æ•¸-composables">åœ¨æ’ä»¶ä¸­ä½¿ç”¨çµ„åˆå¼å‡½æ•¸ (Composables)&lt;/h3>
&lt;p>ä½ ä¹Ÿå¯ä»¥åœ¨è‡ªå®šç¾©çš„æ’ä»¶ä¸­ä½¿ç”¨çµ„åˆå¼å‡½æ•¸ï¼Œä½†åœ¨æ’ä»¶ä¸­å­˜åœ¨è‘—ä¸€äº›é™åˆ¶å’Œå·®ç•°ã€‚&lt;/p>
&lt;h4 id="æ’ä»¶çš„è¼‰å…¥é †åº">æ’ä»¶çš„è¼‰å…¥é †åº&lt;/h4>
&lt;p>æ’ä»¶æ˜¯ä¾ç…§é †åºä¾†å‘¼å«çš„ï¼Œå¦‚æœä½ ä½¿ç”¨çš„çµ„åˆå¼å‡½æ•¸ï¼Œä¾è³´è‘—å°šæœªè¼‰å…¥çš„æ’ä»¶ï¼Œå®ƒå°‡ç„¡æ³•æ­£å¸¸çš„åŸ·è¡Œï¼›é™¤éä½ å¾ˆç¢ºå®šæ’ä»¶çš„è¼‰å…¥é †åºï¼Œä¸ç„¶å„˜é‡åœ¨æ’ä»¶å…§ä½¿ç”¨å…¶ä»–æœƒä¾è³´æ’ä»¶æˆ–ç”±å…¶ä»–æ’ä»¶æ‰€æä¾›çš„çµ„åˆå¼å‡½æ•¸ã€‚&lt;/p>
&lt;h4 id="ä¾è³´-vue-çš„ç”Ÿå‘½é€±æœŸ">ä¾è³´ Vue çš„ç”Ÿå‘½é€±æœŸ&lt;/h4>
&lt;p>å¦‚æœæ’ä»¶å…§æ‰€ä½¿ç”¨çš„çµ„åˆå¼å‡½æ•¸ï¼Œä¾è³´æ–¼ Vue çš„ç”Ÿå‘½é€±æœŸï¼Œé‚£éº¼ä¹Ÿæœƒç„¡æ³•æ­£å¸¸çš„åŸ·è¡Œï¼Œå› ç‚ºæ’ä»¶åªæœƒç¶å®šåˆ° nuxtApp çš„å¯¦ä¾‹ä¸Šï¼Œèˆ‡ Vue å…ƒä»¶å…§ä½¿ç”¨çµ„åˆå¼å‡½æ•¸ç¶å®šçš„å…ƒä»¶å¯¦ä¾‹ï¼Œæœ‰æ‰€ä¸åŒã€‚&lt;/p>
&lt;h3 id="automatically-providing-helpers">Automatically Providing Helpers&lt;/h3>
&lt;p>å¦‚æœæƒ³åœ¨ NuxtApp çš„å¯¦ä¾‹ä¸Šæä¾› &lt;code>helper&lt;/code>ï¼Œæˆ‘å€‘å¯ä»¥åœ¨æ’ä»¶å›å‚³çš„ç‰©ä»¶ä¸­æ·»åŠ  &lt;code>provide&lt;/code>ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘å»ºç«‹ä¸€å€‹æ’ä»¶ &lt;strong>./plugins/myPlugin.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pluginsmypluginjs">plugins/myPlugin.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtPlugin&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provide&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hello&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="sb">`Hello &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">msg&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">!`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èª¿æ•´ &lt;strong>./app.vue&lt;/strong> å…§å®¹ï¼š&lt;/p>
&lt;h5 id="appvue-11">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-2 text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-2 text-6xl font-semibold text-emerald-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">$hello&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Jennifer&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">$hello&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useNuxtApp&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">$hello&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Ryan&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°±å¯ä»¥ç›´æ¥åœ¨ &lt;strong>template&lt;/strong> ä¸­ä½¿ç”¨ &lt;code>$hello&lt;/code>ï¼Œé€™å€‹ç”±æ’ä»¶æä¾›çš„ &lt;strong>Helper&lt;/strong>ï¼Œæ³¨æ„é€™é‚Šè¦åŠ ä¸ŠéŒ¢å­—ç¬¦è™Ÿ &lt;code>$&lt;/code>ã€‚ä¹Ÿå¯ä»¥é€é &lt;code>useNuxtApp&lt;/code> æ–¹æ³•å–å¾— NuxtApp çš„å¯¦ä¾‹å¾Œå†ä½¿ç”¨ &lt;code>$hello&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964639_61f022bcfe_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="åƒ…é™ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯ä¸­ä½¿ç”¨">åƒ…é™ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯ä¸­ä½¿ç”¨&lt;/h4>
&lt;p>æœ‰äº›æ’ä»¶å¯èƒ½åªèƒ½åœ¨ç€è¦½å™¨ä¸­ä½¿ç”¨ï¼ŒåŸå› å¯èƒ½æ˜¯é€™å€‹æ’ä»¶ä¸éœ€è¦æˆ–ç„¡æ³•åœ¨ä¼ºæœå™¨ç«¯ä¸­åŸ·è¡Œã€‚&lt;/p>
&lt;p>æˆ‘å€‘å¯ä»¥é€éæ’ä»¶çš„æª”æ¡ˆåç¨±ä¾†æ·»åŠ å¾Œç¶´ &lt;code>.client&lt;/code> æˆ– &lt;code>.server&lt;/code>ï¼Œæ§åˆ¶ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯ä¸­ä½¿ç”¨ã€‚&lt;/p>
&lt;h3 id="vue-æ’ä»¶èˆ‡æŒ‡ä»¤">Vue æ’ä»¶èˆ‡æŒ‡ä»¤&lt;/h3>
&lt;p>é€™è£¡æˆ‘å€‘å˜—è©¦åœ¨ Nuxt 3 ä¸­ä½¿ç”¨ Vue çš„ &lt;a class="link" href="https://github.com/MatteoGabriele/vue-gtag" target="_blank" rel="noopener"
>vue-gtag&lt;/a> æ’ä»¶ï¼Œä¾†æ·»åŠ  Google åˆ†ææ¨™ç±¤ã€‚&lt;/p>
&lt;h3 id="nuxt-3-ä¸­ä½¿ç”¨-vue-gtag-æ’ä»¶">Nuxt 3 ä¸­ä½¿ç”¨ vue-gtag æ’ä»¶&lt;/h3>
&lt;h4 id="step-1-å®‰è£å¥—ä»¶">Step 1. å®‰è£å¥—ä»¶&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D vue-gtag-next
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D vue-gtag-next&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-å»ºç«‹-nuxt-æ’ä»¶">Step 2. å»ºç«‹ Nuxt æ’ä»¶&lt;/h4>
&lt;p>æ–°å¢ &lt;strong>vue-gtag.client.js&lt;/strong> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pluginsvue-gtagclientjs">plugins/vue-gtag.client.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">VueGtag&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue-gtag-next&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtPlugin&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vueApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">VueGtag&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">property&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;GA_MEASUREMENT_ID&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="å®Œæˆæ•ˆæœ">å®Œæˆæ•ˆæœ&lt;/h4>
&lt;p>å¯ä»¥çœ‹è¦‹ç€è¦½å™¨å°±å‡ºç¾ä½¿ç”¨ vue-gtag æ’ä»¶ï¼Œå¹«æˆ‘å€‘è‡ªå‹•æ’å…¥èˆ‡é…ç½® script çš„æ•ˆæœå›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186723_d4fd2eee98_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="nuxt-3-ä¸­å»ºç«‹-vue-æŒ‡ä»¤">Nuxt 3 ä¸­å»ºç«‹ Vue æŒ‡ä»¤&lt;/h3>
&lt;p>åœ¨æ’ä»¶ä¸­å¯ä»¥å–å¾— Vue çš„å¯¦ä¾‹ï¼Œæ‰€ä»¥æˆ‘å€‘ä¹Ÿèƒ½åœ¨æ’ä»¶è¨»å†Šè‡ªå®šç¾©çš„æŒ‡ä»¤ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæ–°å¢ &lt;strong>./plugins/directive.js&lt;/strong> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pluginsdirectivejs">plugins/directive.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtPlugin&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vueApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">directive&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;focus&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mounted&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">el&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">el&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getSSRProps&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// you can provide SSR-specific props here
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;code>v-focus&lt;/code> é€™å€‹æŒ‡ä»¤ä¾†æ§åˆ¶å…ƒç´ èšç„¦çš„æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964679_7e9f1e5d2c_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>Nuxt è®“æˆ‘å€‘å¯ä»¥å¾ˆè¼•é¬†çš„å»ºç«‹æ’ä»¶ä¸¦é¸æ“‡é…ç½®æ–¼ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯ï¼Œå°æ–¼ä½¿ç”¨ UI æ¡†æ¶æˆ–å…ƒä»¶ï¼Œæ›´èƒ½åœ¨æ’ä»¶ä¸­ç›´æ¥å–å¾—å¯¦ä¾‹ä¾†å®‰è£ Vue çš„æ’ä»¶èˆ‡æŒ‡ä»¤ï¼Œä¸éå‘¢ï¼Œç›®å‰ä¹Ÿæœ‰å€‹ &lt;a class="link" href="https://github.com/nuxt/framework/discussions/1175" target="_blank" rel="noopener"
>RFC&lt;/a> æ­£åœ¨å¾µæ±‚æ„è¦‹æœŸå¾…è®“ Nuxt ä½¿ç”¨ Vue æ’ä»¶å¯ä»¥æ›´æ–¹ä¾¿å®¹æ˜“ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æ¨¡çµ„-modules">æ¨¡çµ„ (Modules)&lt;/h2>
&lt;p>Nuxt æä¾›äº†ä¸€å€‹æ¨¡çµ„ç³»çµ±ä¾†æ“´å±•è‡ªèº«æ¡†æ¶çš„æ ¸å¿ƒï¼Œä¹Ÿç°¡åŒ–äº†æ•´åˆéç¨‹ä¸­éœ€è¦çš„ç¹ç‘£é…ç½®ã€‚ç•¶ä½ æƒ³æ“´å±• Nuxt æˆ– Vue çš„åŠŸèƒ½ï¼Œé›–ç„¶ Nuxt å¯ä»¥é€šéå®‰è£èˆ‡é…ç½®æ’ä»¶é€²è¡ŒåŠŸèƒ½æ“´å±•ï¼Œä½†æ˜¯åœ¨å¤šå€‹å°ˆæ¡ˆæˆ–ä½¿ç”¨ä¸Šå¯èƒ½ç¹ç‘£è€—æ™‚æˆ–é‡è¤‡æ€§å¾ˆé«˜çš„ï¼Œä½†å¦‚æœå¥—ä»¶å·²ç¶“æœ‰é‡å° Nuxt æ¨¡çµ„åšæ•´åˆï¼Œæˆ‘å€‘å°±ä¸å¿…å¾é ­é–‹å§‹é–‹ç™¼æˆ–åƒå®‰è£æ’ä»¶ä¸€æ¨£éœ€è¦å»ºç«‹èˆ‡ç¶­è­·é€™äº›é…ç½®ã€‚&lt;/p>
&lt;h3 id="nuxt-3-ä¸­æ’ä»¶èˆ‡æ¨¡çµ„çš„å·®ç•°">Nuxt 3 ä¸­æ’ä»¶èˆ‡æ¨¡çµ„çš„å·®ç•°&lt;/h3>
&lt;p>Nuxt æ¨¡çµ„èˆ‡ Nuxt æ’ä»¶çš„å·®ç•°åœ¨æ–¼ï¼Œ&lt;code>æ¨¡çµ„è¼‰å…¥åŸ·è¡Œçš„æ™‚é–“é»æ›´æ—©&lt;/code>ï¼Œæ„æ€æ˜¯ Nuxt åœ¨å•Ÿå‹•ä¼ºæœå™¨å¾Œï¼Œé¦–å…ˆæœƒ&lt;code>ä¾åºçš„è¼‰å…¥æ¨¡çµ„ä¸¦åŸ·è¡Œ&lt;/code>ï¼Œæ¥çºŒå»ºç«‹ Nuxt çš„ç’°å¢ƒ (Context) èˆ‡ Vue çš„å¯¦ä¾‹ (Instance)ï¼Œæœ€å¾Œæ‰é–‹å§‹åŸ·è¡Œ Nuxt çš„æ’ä»¶ã€‚&lt;/p>
&lt;p>å› æ­¤ï¼ŒNuxt æ¨¡çµ„å¯ä»¥åšæ›´å¤šçš„äº‹æƒ…ï¼ŒåŒ…å«åœ¨ä½¿ç”¨ &lt;code>nuxi dev&lt;/code>ã€&lt;code>nuxi build&lt;/code> å•Ÿå‹•æˆ–å»ºæ§‹ Nuxt æ™‚ï¼Œå¯ä»¥é€éæ¨¡çµ„ä¾†è¦†è“‹æ¨¡æ¿ã€é…ç½® webpack åŠé…ç½®æ’ä»¶ç­‰è¨±å¤šä»»å‹™ã€‚&lt;/p>
&lt;h3 id="nuxt-3-å®‰è£ä½¿ç”¨æ¨¡çµ„">Nuxt 3 å®‰è£ä½¿ç”¨æ¨¡çµ„&lt;/h3>
&lt;p>Nuxt æ¨¡çµ„æ˜¯ä¸€å€‹å°å‡ºç•°æ­¥å‡½æ•¸çš„ JavaScript æª”æ¡ˆï¼Œç•¶å®‰è£ä½¿ç”¨æ¨¡çµ„æ™‚ï¼Œé€šå¸¸æœƒé…ç½®åœ¨ &lt;code>nuxt.config.ts&lt;/code> æª”æ¡ˆçš„ &lt;code>modules&lt;/code> ä¸­ï¼Œä¾‹å¦‚&lt;a class="link" href="https://wayneblog.ga/2023-01-14/nuxt-try-nuxt3/#%e4%bd%bf%e7%94%a8-nuxt-tailwind-%e6%a8%a1%e7%b5%84" >ä½¿ç”¨ Nuxt Tailwind æ¨¡çµ„&lt;/a> æœƒæ·»åŠ ä¸Š &lt;strong>&amp;rsquo;@nuxtjs/tailwindcss&amp;rsquo;&lt;/strong>ã€‚&lt;/p>
&lt;p>é€šå¸¸æ¨¡çµ„çš„é–‹ç™¼äººå“¡æœƒæä¾›é€™äº›æ¨¡çµ„æ‡‰è©²å¦‚ä½•åœ¨ &lt;strong>modules&lt;/strong> å±¬æ€§ä¾†åšé…ç½®ï¼Œç”šè‡³ä¸€äº›å¯é¸ç”¨çš„åƒæ•¸ä¾†é…ç½®é€™äº›æ¨¡çµ„ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ä½¿ç”¨å¥—ä»¶åç¨± (æ¨è–¦ä½¿ç”¨)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="s1">&amp;#39;@nuxtjs/example&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è¼‰å…¥æœ¬åœ°ç›®éŒ„çš„æ¨¡çµ„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="s1">&amp;#39;./modules/example&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ·»åŠ æ¨¡çµ„çš„é¸é …åƒæ•¸
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;./modules/example&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">token&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;123&amp;#39;&lt;/span> &lt;span class="p">}]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨è¡Œå…§å®šç¾©æ¨¡çµ„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">inlineOptions&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">nuxt&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="nuxt-3-æ¨¡çµ„åˆ—è¡¨">Nuxt 3 æ¨¡çµ„åˆ—è¡¨&lt;/h3>
&lt;p>ä½ å¯ä»¥åœ¨ &lt;a class="link" href="https://nuxt.com/modules" target="_blank" rel="noopener"
>Explore Nuxt Modules&lt;/a> ä¸Šå°‹æ‰¾ç”± Nuxt å®˜æ–¹æˆ–ç¤¾ç¾¤ç”Ÿæ…‹æ‰€ç™¼å±•å»ºç½®çš„æ¨¡çµ„ï¼ŒNuxt çš„æ¨¡çµ„é€šå¸¸éµå¾ªè‘—å®˜æ–¹æŒ‡å—æ‰€è£½ï¼Œä½¿ç”¨æ™‚åªéœ€è¦å®‰è£èˆ‡æ·»åŠ è‡³ &lt;strong>nuxt.config&lt;/strong> ä¸­ï¼ŒåŸºæœ¬ä¸Šå°±èƒ½å®Œæˆé…ç½®ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨-nuxt-icon-æ¨¡çµ„">ä½¿ç”¨ Nuxt Icon æ¨¡çµ„&lt;/h3>
&lt;p>Nuxt Icon æ¨¡çµ„æ•´åˆäº† Iconify æä¾›å¤šé” 100,000 å€‹ä»¥ä¸Šçš„ Icon åœ–ç¤ºï¼Œåªè¦åœ¨ Nuxt ä¸­å®‰è£å¾Œï¼Œæˆ‘å€‘å°±å¯ä»¥ç›´æ¥åšä½¿ç”¨ã€‚&lt;/p>
&lt;h4 id="step-1-å®‰è£å¥—ä»¶-1">Step 1. å®‰è£å¥—ä»¶&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D nuxt-icon
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D nuxt-icon&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-2-é…ç½®ä½¿ç”¨æ¨¡çµ„">Step 2. é…ç½®ä½¿ç”¨æ¨¡çµ„&lt;/h4>
&lt;p>åœ¨ &lt;strong>nuxt.config.ts&lt;/strong> ä¸­çš„ &lt;strong>modules&lt;/strong> å±¬æ€§ï¼Œæ·»åŠ  Nuxt Icon æ¨¡çµ„çš„åç¨± &lt;code>nuxt-icon&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;nuxt-icon&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-é–‹å§‹ä½¿ç”¨">Step 3. é–‹å§‹ä½¿ç”¨&lt;/h4>
&lt;p>ä¾ç…§èªªæ˜ï¼Œæˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨ Nuxt Icon æ¨¡çµ„ï¼Œç‚ºæˆ‘å€‘æ‰€æ·»åŠ çš„å…ƒä»¶ &lt;code>&amp;lt;Icon&amp;gt;&lt;/code>ï¼Œé€™å€‹ Icon å…ƒä»¶å¯ä»¥å‚³å…¥ &lt;strong>name&lt;/strong> å±¬æ€§ï¼Œä»¥æ­¤ä¾†é¡¯ç¤ºä¸åŒçš„ Icon åœ–ç¤ºï¼Œ&lt;strong>size&lt;/strong> å‰‡å¯ä»¥æ§åˆ¶åœ–ç¤ºçš„å¤§å°ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex justify-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Icon&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;logos:nuxt&amp;#34;&lt;/span> &lt;span class="na">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;360&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186748_8c9b770823_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å¦‚ä½•å»ºç«‹-nuxt-æ¨¡çµ„">å¦‚ä½•å»ºç«‹ Nuxt æ¨¡çµ„&lt;/h3>
&lt;p>&lt;a class="link" href="https://nuxt.com/docs/api/advanced/kit" target="_blank" rel="noopener"
>Nuxt Kit&lt;/a> æ˜¯ Nuxt å®˜æ–¹æä¾›çš„ä¸€å€‹æ¨™æº–å’Œæ–¹ä¾¿çš„ API ä¾†å®šç¾© Nuxt æ¨¡çµ„ã€‚&lt;/p>
&lt;p>é€šå¸¸ä½¿ç”¨å¦‚ä¸‹ç¨‹å¼ç¢¼ä½¿ç”¨ &lt;code>defineNuxtModule&lt;/code> æ–¹æ³•ä¾†å»ºç«‹ä¸€å€‹æ¨¡çµ„ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineNuxtModule&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@nuxt/kit&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtModule&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">meta&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¨¡çµ„çš„åç¨±ï¼Œé€šå¸¸ä¹Ÿæœƒå°æ‡‰ NPM ç™¼å¸ƒçš„å¥—ä»¶åç¨±
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;@nuxtjs/example&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å¦‚æœæœ‰é…ç½®é€™å€‹æ¨¡çµ„çš„ä¸€äº›é¸é …ï¼Œæœƒå°‡å…¶ä¿å­˜åœ¨é€™å€‹è¨­å®šéµå€¼ä¸‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">configKey&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;sample&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç›¸å®¹æ€§é™åˆ¶ `nuxt.config`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">compatibility&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç‚ºäº†æ§åˆ¶æ¨¡çµ„çš„ç‰ˆæœ¬ç›¸å®¹æ€§ï¼Œé€šå¸¸æœƒåœ¨é€™è£¡é…ç½® Nuxt ç‰ˆæœ¬çš„éœ€æ±‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">nuxt&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;^3.0.0&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¨¡çµ„é è¨­çš„é¸é …
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">defaults&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hooks&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">async&lt;/span> &lt;span class="nx">setup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">moduleOptions&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">nuxt&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Nuxt å•Ÿå‹•è¼‰å…¥æ¨¡çµ„å¾Œï¼Œæ¨¡çµ„æ‰€åŸ·è¡Œçš„é‚è¼¯æœƒåœ¨é€™è£¡å¯¦ä½œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ›´å¤š Nuxt æ¨¡çµ„çš„å»ºç«‹æŒ‡å—å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://nuxt.com/docs/guide/going-further/modules" target="_blank" rel="noopener"
>Nuxt 3 - Module Author Guide&lt;/a>ï¼Œé€™é‚Šå°±ä¸å†è´…è¿°ï¼Œç•¢ç«Ÿæˆ‘å€‘æ¯”è¼ƒå¸¸ç‚ºæ¨¡çµ„çš„ä½¿ç”¨è€…ã€‚&lt;/p>
&lt;h3 id="æ¨¡çµ„çš„è¼‰å…¥">æ¨¡çµ„çš„è¼‰å…¥&lt;/h3>
&lt;p>å‰é¢æˆ‘å€‘ä½¿ç”¨äº† Nuxt Icon æ¨¡çµ„ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥é–±è®€ä¸€ä¸‹ &lt;a class="link" href="https://github.com/nuxt-modules/icon/tree/v0.1.6" target="_blank" rel="noopener"
>Nuxt Icon v0.1.6&lt;/a> æ¨¡çµ„å¥—ä»¶çš„åŸå§‹ç¢¼ã€‚&lt;/p>
&lt;p>ä»¥ä¸‹æ˜¯ Nuxt Icon æ¨¡çµ„çš„ &lt;a class="link" href="https://github.com/nuxt-modules/icon/blob/v0.1.6/src/module.ts" target="_blank" rel="noopener"
>module.ts&lt;/a> æª”æ¡ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtModule&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ModuleOptions&lt;/span>&lt;span class="p">&amp;gt;({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">meta&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;nuxt-icon&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">configKey&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;icon&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">compatibility&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nuxt&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;^3.0.0-rc.9&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">defaults&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">_options&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">nuxt&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">resolve&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">createResolver&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">import&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">meta&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">addComponent&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Icon&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">filePath&lt;/span>: &lt;span class="kt">resolve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./runtime/Icon.vue&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Nuxt çš„æ¨¡çµ„ä½¿ç”¨äº†ä¸€å€‹ &lt;code>defineNuxtModule&lt;/code> æ–¹æ³•ä¾†å®šç¾©æ¨¡çµ„ï¼Œä¹Ÿå¯ä»¥è¦–ç‚ºæ¨¡çµ„çš„å…¥å£é»ï¼Œ&lt;code>meta.name&lt;/code> å°æ‡‰çš„å°±æ˜¯æ¨¡çµ„çš„åç¨±ï¼Œä¹Ÿæ˜¯æˆ‘å€‘æ·»åŠ è‡³ &lt;code>modules&lt;/code> å±¬æ€§æ‰€éœ€è¦çš„æ¨¡çµ„åç¨±ã€‚&lt;/p>
&lt;p>&lt;code>setup&lt;/code> å°±æ˜¯æ¨¡çµ„è¼‰å…¥å¾ŒåŸ·è¡Œçš„å‡½æ•¸ï¼Œå¯ä»¥çœ‹åˆ°æ¨¡çµ„ä½¿ç”¨ &lt;code>addComponent&lt;/code> ç‚ºæˆ‘å€‘ Nuxt æ·»åŠ äº†ä¸€å€‹å…ƒä»¶åç¨±ç‚º &lt;strong>Icon&lt;/strong>ï¼Œä½¿ç”¨çš„å…ƒä»¶æª”æ¡ˆä¾†è‡ª &lt;strong>./runtime/Icon.vue&lt;/strong>ã€‚&lt;/p>
&lt;p>æ¨¡çµ„ä¸­çš„ &lt;a class="link" href="https://github.com/nuxt-modules/icon/blob/v0.1.6/src/runtime/Icon.vue" target="_blank" rel="noopener"
>runtime/Icon.vue&lt;/a> ç‚ºæˆ‘å€‘å°è£äº† Iconify åœ–ç¤ºçš„ä½¿ç”¨é‚è¼¯ä»¥åŠå–å¾— Nuxt é…ç½®çš„åƒæ•¸ç­‰ã€‚&lt;/p>
&lt;p>é€éæ¨¡çµ„æˆ‘å€‘å¯ä»¥çœå»é€™äº›ç¹ç‘£çš„å°è£èˆ‡é…ç½®ï¼Œåªéœ€è¦å°ˆæ³¨åœ¨é…ç½®æ¨¡çµ„èˆ‡é–‹ç™¼ä¸Šé¢ã€‚&lt;/p>
&lt;p>æ¨¡çµ„èˆ‡æ’ä»¶å…¶å¯¦é‚„æ˜¯å­˜åœ¨è‘—è¼‰å…¥åŸ·è¡Œé †åºèˆ‡ä½¿ç”¨æƒ…å¢ƒä¸Šçš„å·®ç•°æ€§ï¼Œä»¥ Nuxt ä¾†èªªï¼Œé€šå¸¸ Nuxt çš„æ’ä»¶æœƒæ˜¯ç”¨ä¾†å°è£åŠä½¿ç”¨ Vue ä¸­æœƒä½¿ç”¨åˆ°çš„æ’ä»¶èˆ‡æˆ–å¥—ä»¶ï¼›è€Œ Nuxt çš„æ¨¡çµ„ï¼Œæœƒå°‡éœ€è¦ç¹ç‘£é…ç½®çš„å¥—ä»¶æˆ–æ’ä»¶ä¾†èˆ‡ Nuxt é€²è¡Œæ•´åˆèˆ‡å°è£ï¼Œä¸è«–æ˜¯é€éç¬¬ä¸‰æ–¹æ’ä»¶æˆ–æ¨¡çµ„ï¼Œé€™éƒ½å°‡ä½¿ Nuxt åœ¨é–‹ç™¼èˆ‡æ“´å……ä¸Šæ“æœ‰æ›´å¤šçš„å¯èƒ½æ€§ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä¸­é–“ä»¶ç›®éŒ„-middleware-directory">ä¸­é–“ä»¶ç›®éŒ„ (Middleware Directory)&lt;/h2>
&lt;p>åœ¨ Vue çš„å°ˆæ¡ˆå…§æˆ‘å€‘çš„é é¢é€šå¸¸ç”± Vue Router ä¾†æ§åˆ¶è·¯ç”±åŠå°èˆªï¼ŒVue Router æä¾›äº†å°èˆªå®ˆè¡› (Navigation Guards) çš„ Hook APIï¼Œè®“æˆ‘å€‘å¯ä»¥åœ¨å…¨åŸŸã€è·¯ç”±ç”šè‡³æ˜¯å…ƒä»¶ä¸­ï¼Œä¾†æ§åˆ¶è·¯ç”±è·³è½‰æˆ–å–æ¶ˆçš„æ–¹å¼ä¾†å®ˆè­·æˆ‘å€‘çš„è·¯ç”±ï¼Œä¸è®“å…¶éš¨æ„å°èˆªè‡³ç‰¹å®šé é¢ã€‚Nuxt 3 æä¾›äº†ä¸€å€‹ä¸­é–“ä»¶çš„ç›®éŒ„ï¼Œè®“æˆ‘å€‘å¯ä»¥è£½ä½œè·¯ç”±çš„ä¸­é–“ä»¶ï¼Œä¾†å¯¦ä½œå‡ºé¡ä¼¼å°èˆªå®ˆè¡›çš„æ•ˆæœã€‚&lt;/p>
&lt;h3 id="vue-router-çš„å°èˆªå®ˆè¡›-navigation-guards">Vue Router çš„å°èˆªå®ˆè¡› (Navigation Guards)&lt;/h3>
&lt;p>å°èˆªå®ˆè¡›å°±æ˜¯åœ¨è¨ªå•é é¢ä¹‹å‰ï¼Œæœƒæ””æˆªä½ çš„è·¯ç”±è«‹æ±‚ä¸¦åŸ·è¡Œè‡ªè¨‚çš„é©—è­‰é‚è¼¯ï¼Œä¾æ“šé©—è­‰çš„æˆåŠŸèˆ‡å¦ï¼Œå‡†äºˆæ”¾è¡Œè·³è½‰è‡³è·¯ç”±é é¢ï¼ŒæŠ‘æˆ–æ˜¯å–æ¶ˆè¨ªå•è©²è·¯ç”±ï¼Œå†ä¾ç…§ä¸åŒè™•ç†æ–¹å¼é€²è¡Œä¸­æ–·æˆ–é‡å°å‘è‡³ç‰¹å®šè·¯ç”±é é¢ã€‚&lt;/p>
&lt;p>å°èˆªå®ˆè¡›åœ¨å¯¦å‹™ä¸Šå¸¸è¦‹çš„ä½¿ç”¨æƒ…å¢ƒï¼Œå°±æ˜¯æ‹¿ä¾†åšé é¢è¨ªå•çš„æ¬Šé™é©—è­‰ï¼Œä¾‹å¦‚ï¼Œåªæœ‰ç®¡ç†å“¡æ‰èƒ½è¨ªå• &lt;code>/admin&lt;/code> è·¯ç”±ä¸‹çš„é é¢ï¼Œæˆ‘å€‘å¯èƒ½å°±æœƒæ·»åŠ æ””æˆªçš„ hook ä¾†é©—è­‰ä½¿ç”¨è€…æ˜¯å¦ç™»å…¥åŠå¤¾å¸¶çš„ Token æˆ– Role æ˜¯å¦æœ‰æ¬Šé™å¯ä»¥ç€è¦½ï¼Œå¦‚æœé©—è­‰æˆåŠŸå°±å‡†äºˆç€è¦½ç®¡ç†å“¡ç›¸é—œé é¢ï¼Œå¦å‰‡ï¼Œå°‡è·¯ç”±é é¢å°å›è‡³é¦–é ã€ç™»å…¥é æˆ–éŒ¯èª¤é é¢ï¼Œå¦‚åŒä¸€å€‹å®ˆè¡›åœ¨è·¯ç”±ä¹‹é–“é€²è¡ŒæŠŠé—œé©—è­‰æ¬Šé™ã€‚&lt;/p>
&lt;p>æˆ‘å€‘ä»¥ Vue Route v4 ä¾†èˆ‰ä¾‹ï¼ŒVue Route æä¾›äº†ä»¥ä¸‹ä¸‰ç¨®æƒ…æ³ä¸‹å¯ä»¥ä½¿ç”¨çš„ hookï¼Œåˆ†åˆ¥æ˜¯åœ¨å…¨åŸŸã€è·¯ç”±æˆ–æ˜¯å…ƒä»¶ä¸­ï¼š&lt;/p>
&lt;h3 id="å…¨åŸŸ">å…¨åŸŸ&lt;/h3>
&lt;h4 id="å…¨åŸŸå‰ç½®å®ˆè¡›-global-before-guards">å…¨åŸŸå‰ç½®å®ˆè¡› (Global Before Guards)&lt;/h4>
&lt;p>ç•¶å…¨åŸŸå®ˆè¡› hook æ·»åŠ å¥½ä¹‹å¾Œï¼Œæ¯æ¬¡å°èˆªè‡³ä¸åŒè·¯ç”±æ™‚ï¼Œéƒ½æœƒæ””æˆªä»¥ç•°æ­¥çš„æ–¹å¼åŸ·è¡Œç›¸å°æ‡‰çš„è™•ç†é‚è¼¯ã€‚&lt;/p>
&lt;p>å…¨åŸŸå®ˆè¡›æä¾›äº† &lt;code>router.beforeEach()&lt;/code> hook å¯ä»¥åœ¨é€²å…¥ä»»ä½•ä¸€å€‹è·¯ç”±å‰é€²è¡Œæ””æˆªè™•ç†ï¼Œç•¶å°èˆªè§¸ç™¼æ™‚å°±æœƒä¾ç…§å»ºç«‹çš„é †åºåšå‘¼å«ï¼Œå› ç‚ºæ˜¯ç•°æ­¥å‡½æ•¸è§£æåŸ·è¡Œï¼Œæ‰€ä»¥åœ¨æ‰€æœ‰çš„å®ˆè¡› &lt;strong>resolve&lt;/strong> ä¹‹å‰ï¼Œæœƒä¸€ç›´è™•æ–¼ &lt;strong>pending&lt;/strong> çš„ç‹€æ…‹ã€‚&lt;/p>
&lt;h4 id="å…¨åŸŸè§£æå®ˆè¡›-global-resolve-guards">å…¨åŸŸè§£æå®ˆè¡› (Global Resolve Guards)&lt;/h4>
&lt;p>è€ŒåŒæ¨£å±¬æ–¼å…¨åŸŸå®ˆè¡›çš„ &lt;code>router.beforeResolve()&lt;/code> hook æœƒåœ¨æ‰€æœ‰å…ƒä»¶å…§çš„å°èˆªå®ˆè¡›ã€è·¯ç”±éƒ½è¢«è§£æåŠåŸ·è¡Œå®Œç•¢å¾Œæ‰åŸ·è¡Œï¼Œä¹Ÿå°±æ˜¯èªªé€™å€‹ &lt;code>router.beforeResolve()&lt;/code> å‘¼å«çš„æ™‚é–“é»æ™šæ–¼ &lt;code>router.beforeEach()&lt;/code>ã€‚&lt;/p>
&lt;h4 id="å…¨åŸŸå¾Œç½®-hooks-global-after-hooks">å…¨åŸŸå¾Œç½® Hooks (Global After Hooks)&lt;/h4>
&lt;p>èˆ‡ &lt;code>router.beforeEach()&lt;/code> hook ç›¸åï¼Œå…¨åŸŸå¾Œç½® hooks æä¾›çš„ &lt;code>router.afterEach()&lt;/code> Hook æœƒæ˜¯åœ¨è·¯ç”±è·³è½‰çµæŸå¾Œæ‰è§¸ç™¼ï¼Œåœ¨é€™è£¡è·¯ç”±å·²ç¶“å®Œæˆè·³è½‰ï¼Œè·¯ç”±æœ¬èº«ä¹Ÿä¸æœƒå†è¢«æ›´å‹•ï¼Œé€™å€‹ hook é€šå¸¸ç”¨æ–¼åˆ†æé¡æˆ–è¨­ç½®é é¢ç›¸é—œçš„è³‡è¨Šç­‰è¼”åŠ©å‹çš„åŠŸèƒ½å¾ˆæœ‰å¹«åŠ©ã€‚&lt;/p>
&lt;h3 id="è·¯ç”±ç¨æœ‰å®ˆè¡›-per-route-guard">è·¯ç”±ç¨æœ‰å®ˆè¡› (Per-Route Guard)&lt;/h3>
&lt;p>èˆ‡ &lt;strong>router.beforeEach()&lt;/strong> ä¸åŒï¼Œæˆ‘å€‘å¯ä»¥ç‚ºæ¯ä¸€å€‹è·¯ç”±æ·»åŠ  &lt;code>beforeEnter()&lt;/code> hookï¼Œä¾†é”åˆ°æ¯ä¸€å€‹è·¯ç”±é é¢æœ‰ä¸åŒçš„åŸ·è¡Œæ–¹æ³•ï¼ŒåŒæ™‚ä¹Ÿåªæœƒåœ¨ä¸åŒçš„è·¯ç”±å°èˆªä¸­åˆ‡æ›æ‰æœƒè§¸ç™¼ã€‚&lt;/p>
&lt;h3 id="å…ƒä»¶å…§çš„å®ˆè¡›">å…ƒä»¶å…§çš„å®ˆè¡›&lt;/h3>
&lt;p>åœ¨å…ƒä»¶çš„å…§éƒ¨ä¸­ï¼Œä¹Ÿæä¾›ä¸‰ç¨® hooks åˆ†åˆ¥ç‚ºï¼š&lt;/p>
&lt;ul>
&lt;li>beforeRouteEnter(): åœ¨è·¯ç”±é€²å…¥ä¸¦æ¸²æŸ“é€™å€‹å…ƒä»¶ä¹‹å‰å‘¼å«ï¼Œæ‰€ä»¥é‚„æ²’æœ‰å…ƒä»¶çš„å¯¦é«”å¯ä»¥æ“ä½œä½¿ç”¨ã€‚&lt;/li>
&lt;li>beforeRouteUpdate(): ç›®å‰çš„è·¯ç”±æ”¹è®Šï¼Œè€Œä¸”é‚„è™•æ–¼åŒä¸€å€‹å…ƒä»¶ä¸­æ™‚å‘¼å«ã€‚&lt;/li>
&lt;li>beforeRouteLeave(): ç•¶å°èˆªæº–å‚™é›¢é–‹æ™‚ä¸”æ²’æœ‰ä½¿ç”¨åˆ°é€™å€‹å…ƒä»¶æ™‚å‘¼å«ã€‚&lt;/li>
&lt;/ul>
&lt;p>å°èˆªå®ˆè¡› (Navigation Guards) åœ¨å°èˆªå‡ºç™¼å¾Œçš„ hook è§¸ç™¼é †åºå¦‚ä¸‹åœ–ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698461_6a2572bcab_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="nuxt-3-è·¯ç”±ä¸­é–“ä»¶">Nuxt 3 è·¯ç”±ä¸­é–“ä»¶&lt;/h2>
&lt;p>Nuxt 3 ä¸­æä¾›äº†ä¸€å€‹è·¯ç”±ä¸­é–“ä»¶çš„æ¡†æ¶ï¼Œæˆ‘å€‘å¯ä»¥åœ¨å°ˆæ¡ˆä¸‹å»ºç«‹åç‚º &lt;code>middleware&lt;/code> ç›®éŒ„ï¼Œåœ¨é€™å€‹ç›®éŒ„ä¸‹æˆ‘å€‘å¯ä»¥å»ºç«‹ä¸­é–“ä»¶ï¼Œä¸¦è®“æ•´å€‹ Nuxt é é¢æˆ–ç‰¹å®šçš„è·¯ç”±åšä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨é é¢ä¸­æ·»åŠ ï¼Œé€™å€‹ä¸­é–“ä»¶å¯ä»¥ç†è§£ç‚º Vue Router ä¸­çš„å°èˆªå®ˆè¡› (Navigation Guards)ï¼ŒåŒæ¨£æœ‰ &lt;code>to&lt;/code> èˆ‡ &lt;code>from&lt;/code> åƒæ•¸ç”¨ä»¥åœ¨å°èˆªè‡³ç‰¹å®šè·¯ç”±ä¹‹å‰é©—è­‰æ¬Šé™æˆ–åŸ·è¡Œå•†æ¥­é‚è¼¯ç­‰ã€‚&lt;/p>
&lt;h3 id="è·¯ç”±ä¸­é–“ä»¶æ ¼å¼">è·¯ç”±ä¸­é–“ä»¶æ ¼å¼&lt;/h3>
&lt;p>ç•¶æˆ‘å€‘æƒ³è¦å»ºç«‹è·¯ç”±ä¸­é–“ä»¶æ™‚ï¼Œå¯ä»¥åœ¨ Nuxt å°ˆæ¡ˆçš„ &lt;code>middleware&lt;/code> ç›®éŒ„ä¸‹å»ºç«‹æª”æ¡ˆï¼Œä¸¦é è¨­åŒ¯å‡ºä¸€å€‹ç”± &lt;code>defineNuxtRouteMiddleware()&lt;/code> å®šç¾©çš„å‡½æ•¸ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtRouteMiddleware&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">from&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">abortNavigation&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">navigateTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è·¯ç”±ä¸­é–“ä»¶èƒ½æ¥æ”¶ç›®å‰çš„è·¯ç”± &lt;code>to&lt;/code> èˆ‡ä¸‹ä¸€å€‹è·¯ç”± &lt;code>from&lt;/code> åšç‚ºåƒæ•¸ï¼Œå¦‚åŒ Vue Router çš„å°èˆªå®ˆè¡›ï¼Œä»¥æ­¤æˆ‘å€‘å°±å¯ä»¥ä¾†åšä¸€äº›åˆ¤æ–·èˆ‡é©—è­‰æ“ä½œã€‚&lt;/p>
&lt;h3 id="è·¯ç”±ä¸­é–“ä»¶çš„å›å‚³">è·¯ç”±ä¸­é–“ä»¶çš„å›å‚³&lt;/h3>
&lt;p>Nuxt æä¾›äº†å…©å€‹å…¨åŸŸçš„ helpersï¼Œå¯ä»¥ç›´æ¥å¾ä¸­é–“ä»¶å›å‚³ï¼š&lt;/p>
&lt;h4 id="navigatetoto-options">navigateTo(to, options)&lt;/h4>
&lt;p>åœ¨æ’ä»¶æˆ–ä¸­é–“ä»¶ä¸­é‡æ–°å®šå‘åˆ°çµ¦å®šçš„è·¯ç”±ã€‚ä¹Ÿå¯ä»¥ç›´æ¥å‘¼å«å®ƒé€²è¡Œé é¢å°èˆªã€‚&lt;/p>
&lt;p>navigateTo åƒæ•¸ä¾åºç‚ºï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>to&lt;/strong>ï¼š RouteLocationRaw | undefined | null&lt;/li>
&lt;li>&lt;strong>options&lt;/strong>ï¼š { replace: boolean, redirectCode: number, external: boolean }&lt;/li>
&lt;/ul>
&lt;h4 id="abortnavigationerr">abortNavigation(err)&lt;/h4>
&lt;p>å¯ä»¥åœ¨ä¸­é–“ä»¶ä¸­å›å‚³ &lt;code>abortNavigation()&lt;/code> ä¾†ä¸­æ­¢å°èˆªï¼Œä¸¦å¯ä»¥é¸æ“‡æ˜¯å¦å‚³å…¥éŒ¯èª¤è¨Šæ¯ã€‚&lt;/p>
&lt;p>abortNavigation åƒæ•¸ç‚ºï¼š&lt;/p>
&lt;blockquote>
&lt;p>err?: string | Error&lt;/p>
&lt;/blockquote>
&lt;p>èˆ‡ Vue Router ä¸­çš„å°èˆªå®ˆè¡›ç¨æœ‰ä¸åŒï¼Œåœ¨ Nuxt çš„ä¸­é–“ä»¶ä¸­å¯ä»¥ä½¿ç”¨ &lt;code>navigateTo&lt;/code> èˆ‡ &lt;code>abortNavigation&lt;/code> ä¾†æ±ºå®šå°èˆªè‡³æ–°çš„è·¯ç”±æˆ–çµ‚æ­¢å°èˆªï¼Œå¦‚æœä¸­é–“ä»¶æ²’æœ‰å›å‚³ä»»ä½•æ±è¥¿ï¼Œå‰‡è¡¨ç¤ºä¸é˜»å¡å°èˆªï¼Œå¦‚æœæœ‰ä¸‹ä¸€å€‹ä¸­é–“ä»¶ï¼Œå‰‡è€Œç§»å¾€ä¸‹ä¸€å€‹åŠŸèƒ½åšåŸ·è¡Œï¼Œæˆ–è€…å®Œæˆè·¯ç”±å°èˆªã€‚&lt;/p>
&lt;ul>
&lt;li>nothing - ä¸é˜»å¡å°èˆªä¸¦ä¸”æœƒç§»å‹•åˆ°ä¸‹ä¸€å€‹ä¸­é–“ä»¶åŠŸèƒ½ã€‚&lt;/li>
&lt;li>å¦‚æœæœ‰çš„è©±ï¼Œæˆ–è€…å®Œæˆè·¯ç”±å°èˆª return navigateTo(&amp;rsquo;/&amp;rsquo;) æˆ– return navigateTo({ path: &amp;lsquo;/&amp;rsquo; }) - é‡å®šå‘åˆ°çµ¦å®šè·¯å¾‘ã€‚&lt;/li>
&lt;/ul>
&lt;p>å¦‚æœä½¿ç”¨ &lt;code>navigateTo()&lt;/code> é‡å®šå‘æ˜¯ç™¼ç”Ÿåœ¨ä¼ºæœå™¨ç«¯ ï¼Œå‰‡å°‡ HTTP Status Code è¨­ç½®ç‚º&lt;code>æš«æ™‚&lt;/code>é‡å®šå‘ç‹€æ…‹ç¢¼ &lt;strong>302 Found&lt;/strong>ã€‚&lt;/p>
&lt;p>å¦‚æœä½¿ç”¨ &lt;code>navigateTo()&lt;/code> ä¸¦å¤¾å…¥ &lt;code>options.redirectCode&lt;/code> å±¬æ€§ï¼Œä¾‹å¦‚ &lt;code>return navigateTo('/', { redirectCode: 301 })&lt;/code>ï¼Œç™¼ç”Ÿçš„é‡å®šå‘åœ¨ä¼ºæœå™¨ç«¯ï¼Œå°‡ HTTP Status Code è¨­ç½®ç‚º&lt;code>æ°¸ä¹…&lt;/code>é‡å®šå‘ç‹€æ…‹ç¢¼ &lt;strong>301 Moved Permanently&lt;/strong>ã€‚&lt;/p>
&lt;h3 id="è·¯ç”±ä¸­é–“ä»¶çš„ç¨®é¡">è·¯ç”±ä¸­é–“ä»¶çš„ç¨®é¡&lt;/h3>
&lt;p>åœ¨ Nuxt ä¸­è·¯ç”±ä¸­é–“ä»¶åˆ†ç‚ºä»¥ä¸‹ä¸‰ç¨®ï¼š&lt;/p>
&lt;h4 id="åŒ¿åæˆ–è€…æ˜¯è¡Œå…§çš„è·¯ç”±ä¸­é–“ä»¶">åŒ¿åæˆ–è€…æ˜¯è¡Œå…§çš„è·¯ç”±ä¸­é–“ä»¶&lt;/h4>
&lt;p>ä¸éœ€è¦å»ºç«‹æª”æ¡ˆï¼Œé€šå¸¸åœ¨è·¯ç”±é é¢ä¸­ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†å®šç¾©çš„ä¸­é–“ä»¶ï¼Œå°±å±¬æ–¼é€™ç¨®é¡å‹ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œç›´æ¥å®šç¾©ä¸€å€‹åŒ¿åçš„ä¸­é–“ä»¶åœ¨é é¢å…ƒä»¶ä¸­ä½¿ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">middleware&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">defineNuxtRouteMiddleware&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[åŒ¿åä¸­é–“ä»¶] æˆ‘æ˜¯ç›´æ¥å®šç¾©åœ¨é é¢å…§çš„åŒ¿åä¸­é–“ä»¶`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="å…·åçš„è·¯ç”±ä¸­é–“ä»¶">å…·åçš„è·¯ç”±ä¸­é–“ä»¶&lt;/h4>
&lt;p>åœ¨ &lt;code>middleware&lt;/code> ç›®éŒ„ä¸‹æ‰€å»ºç«‹çš„ä¸­é–“ä»¶ï¼Œç•¶åœ¨é é¢ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†æŒ‡å®šä½¿ç”¨å…·åçš„ä¸­é–“ä»¶æ™‚ï¼Œå°‡é€éç•°æ­¥ä¾†è‡ªå‹•è¼‰å…¥ã€‚å…·åçš„è·¯ç”±çš„åç¨±è¢«è¦ç¯„ç‚ºæ˜¯çƒ¤è‚‰ä¸²å¼ (Kebab case) å‘½åã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œå»ºç«‹ä¸€å€‹ &lt;strong>./middleware/random-redirect.js&lt;/strong> ä¸­é–“ä»¶æª”æ¡ˆï¼š&lt;/p>
&lt;h5 id="middlewarerandom-redirectjs">middleware/random-redirect.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtRouteMiddleware&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[ä¾†è‡ª random-redirect ä¸­é–“ä»¶] é‡æ–°å°å‘è‡³ /haha`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">navigateTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/haha&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[ä¾†è‡ª random-redirect ä¸­é–“ä»¶] æ²’ç™¼ç”Ÿä»€éº¼ç‰¹åˆ¥çš„äº‹æƒ…ï½`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘è¦ä½¿ç”¨é€™å€‹ä¸­é–“ä»¶æ™‚ï¼Œå¯ä»¥åœ¨é é¢ä¸­ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¸¦å‚³å…¥ &lt;code>middleware&lt;/code> å±¬æ€§ï¼Œä¾†æ·»åŠ è·¯ç”±ä¸­é–“ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">middleware&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;random-redirect&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœä¸­é–“ä»¶æœ‰å¤šå€‹ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨é™£åˆ—ä¾†å‚³å…¥å¤šå€‹ä¸­é–“ä»¶ï¼Œä¸¦ä¸”æœƒä¾åºåŸ·è¡Œé€™äº›è·¯ç”±ä¸­é–“ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">middleware&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;random-redirect&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;other&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘åœ¨é é¢ä¸­æ·»åŠ é€™å€‹ä¸­é–“ä»¶å¾Œï¼Œåœ¨åˆ‡æ›åˆ°é€™å€‹è·¯ç”±é é¢æ™‚ï¼Œç´„æœ‰ä¸€åŠçš„æ©Ÿæœƒï¼Œæœƒè¢«å°èˆªè‡³ &lt;strong>/haha&lt;/strong> é é¢ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186763_d4ff53ce17_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="å…¨åŸŸçš„è·¯ç”±ä¸­é–“ä»¶">å…¨åŸŸçš„è·¯ç”±ä¸­é–“ä»¶&lt;/h4>
&lt;p>åœ¨å…·åçš„ä¸­é–“ä»¶çš„æª”åæ·»åŠ å¾Œç¶´ &lt;code>.global&lt;/code>ï¼Œå¦‚ &lt;strong>auth.global.js&lt;/strong>ï¼Œé€™å€‹è·¯ç”±ä¸­é–“ä»¶å°‡æœƒè¢«è‡ªå‹•è¼‰å…¥ï¼Œä¸¦åœ¨æ¯æ¬¡å°èˆªè®Šæ›´æ™‚è‡ªå‹•åŸ·è¡Œã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘å»ºç«‹ä¸€å€‹ &lt;strong>./middleware/always-run.global.js&lt;/strong> ä¸­é–“ä»¶æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="middlewarealways-runglobaljs">middleware/always-run.global.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtRouteMiddleware&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">from&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`[å…¨åŸŸä¸­é–“ä»¶] to: &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">, from: &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">from&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹å…¨åŸŸçš„è·¯ç”±ä¸­é–“ä»¶ï¼Œå°‡æœƒåœ¨æ¯ä¸€æ¬¡å°èˆªåˆ‡æ›é é¢æ™‚åŸ·è¡Œã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617134335_bac452e9f6_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="å‹•æ…‹æ·»åŠ è·¯ç”±ä¸­é–“ä»¶">å‹•æ…‹æ·»åŠ è·¯ç”±ä¸­é–“ä»¶&lt;/h4>
&lt;p>ä½ å¯ä»¥ä½¿ç”¨ &lt;code>addRouteMiddleware()&lt;/code> è¼”åŠ©å‡½æ•¸ä¾†æ‰‹å‹•æ·»åŠ å…¨åŸŸæˆ–å‘½åè·¯ç”±ä¸­é–“ä»¶ï¼Œä¾‹å¦‚åœ¨æ’ä»¶ä¸­ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtPlugin&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">addRouteMiddleware&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;global-test&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é€™å€‹æ˜¯ç”±æ’ä»¶æ·»åŠ çš„å…¨åŸŸä¸­é–“ä»¶ï¼Œä¸¦å°‡åœ¨æ¯æ¬¡è·¯ç”±è®Šæ›´æ™‚åŸ·è¡Œ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">addRouteMiddleware&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;named-test&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é€™å€‹æ˜¯ç”±æ’ä»¶æ·»åŠ çš„å…·åä¸­é–“ä»¶ï¼Œä¸¦å°‡æœƒè¦†è“‹ä»»ä½•ç¾æœ‰çš„åŒåä¸­é–“ä»¶&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ Nuxt ä¸­æˆ‘å€‘å¯ä»¥ä½¿ç”¨æ‰€æä¾›çš„ä¸­é–“ä»¶æ¡†æ¶ï¼Œä¾†å»ºç«‹è·¯ç”±é é¢ä¸­çš„ä¸­é–“ä»¶ï¼Œè€Œè·¯ç”±ä¸­é–“ä»¶æœƒåœ¨åˆ°ç‰¹å®šè·¯ç”±ä¹‹å‰åŸ·è¡Œæƒ³è¦é‹è¡Œçš„é‚è¼¯ï¼Œå°æ–¼é©—è­‰æ¬Šé™ç­‰éå¸¸æ–¹ä¾¿ï¼Œä¹Ÿæ­£æ˜¯å¯¦ç¾å°èˆªå®ˆè¡› (Navigation Guards) çš„æ–¹å¼ã€‚é€™è£¡æˆ‘å€‘ä¸»è¦è¬›è¿°çš„è·¯ç”±ä¸­é–“ä»¶ï¼Œä¹Ÿå°‡æœƒèˆ‡æˆ‘å€‘å¾Œé¢æœƒæåˆ°çš„ä¼ºæœå™¨ç«¯çš„ä¸­é–“ä»¶æœ‰æ‰€ä¸åŒï¼Œé›–ç„¶åç¨±ç›¸ä¼¼ä½†èˆ‡ Nitro å•Ÿå‹•æ™‚åŸ·è¡Œçš„ä¼ºæœå™¨ä¸­é–“ä»¶&lt;code>å®Œå…¨ä¸åŒ&lt;/code>ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="server-api-èˆ‡-nitro-engine">Server API èˆ‡ Nitro Engine&lt;/h2>
&lt;p>é€™è£¡æœƒå…ˆä»‹ç´¹ä¸€ä¸‹ Nitro Engine æ˜¯ä»€éº¼æ±è¥¿ï¼Œ&lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> å¯èƒ½ä¸å¤šäººè½éä½†èˆ‡ Nuxt 3 æ¯æ¯ç›¸é—œï¼Œ&lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> ä¼ºæœå™¨å¼•æ“é™¤äº†æœ‰è·¨å¹³å°æ”¯æ´èˆ‡å¤šç¨®å¼·å¤§çš„åŠŸèƒ½å¤–ï¼Œæ›´åŒ…å«äº† API è·¯ç”±çš„æ”¯æ´ï¼Œæ„æ€å°±æ˜¯æˆ‘å€‘å¯ä»¥ç›´æ¥åœ¨åŸºæ–¼ &lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> çš„ Nuxt 3 ä¸Šç›´æ¥é–‹ç™¼ç”±å¾Œç«¯è™•ç†çš„é‚è¼¯æˆ–èˆ‡è³‡æ–™åº«äº’å‹•ï¼Œå†å°‡çµæœå›å‚³è‡³å‰ç«¯ï¼Œå¯¦ä½œå‡º Server APIã€‚&lt;/p>
&lt;h3 id="nitro-engine">Nitro Engine&lt;/h3>
&lt;p>åœ¨é–‹å§‹å»ºç½® Sever API ä¹‹å‰ï¼Œå…ˆä¾†ä»‹ç´¹ä¸€ä¸‹ Nitro ä¼ºæœå™¨å¼•æ“ï¼ŒNuxt 3 çš„ä¸€å¤§ç‰¹é»å°±æ˜¯æ¡ç”¨äº†ä¸€å€‹åç‚º &lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> çš„ä¼ºæœå™¨å¼•æ“ (Server Engine)ï¼Œ&lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> åŸºæ–¼ rollup èˆ‡ &lt;a class="link" href="https://github.com/unjs/h3" target="_blank" rel="noopener"
>h3&lt;/a>ï¼Œç‚ºé”é«˜æ•ˆèƒ½èˆ‡å¯ç§»æ¤æ€§ç›®æ¨™è€Œå»ºæ§‹çš„æœ€å° &lt;code>HTTP&lt;/code> æ¡†æ¶ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> æä¾›äº†ä»¥ä¸‹å¤šç¨®åŠŸèƒ½ç‰¹è‰²ï¼Œä½¿å¾— Nuxt æ›´ä½³å®Œå–„èˆ‡å¼·å¤§ï¼Œå¦‚åŒå®˜ç¶²æ‰€èªª &lt;strong>&lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> è®“ Nuxt ç›´æ¥è§£é–äº†æ–°çš„å…¨ç«¯èƒ½åŠ›&lt;/strong>ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;strong>å¿«é€Ÿçš„é–‹ç™¼é«”é©—&lt;/strong>ï¼šé–‹ç®±å³ç”¨çš„ç‰¹æ€§ï¼Œç„¡éœ€ä»»ä½•é…ç½®ï¼Œå°±å¯ä»¥å•Ÿå‹•å…·æœ‰ &lt;strong>hot module reloading&lt;/strong> çš„é–‹ç™¼ä¼ºæœå™¨ï¼Œå¯«å®Œç¨‹å¼ç¢¼å­˜æª”å¾Œï¼Œå°±èƒ½è®“ä¼ºæœå™¨è¼‰å…¥æ–°çš„ç¨‹å¼é‚è¼¯ã€‚&lt;/li>
&lt;li>&lt;strong>åŸºæ–¼æª”æ¡ˆç³»çµ±çš„è·¯ç”±&lt;/strong>ï¼šæˆ‘å€‘åªéœ€è¦å°ˆæ³¨åœ¨å»ºç«‹ä¼ºæœå™¨çš„ç›®éŒ„èˆ‡é é¢ï¼Œå°±èƒ½æ“æœ‰è‡ªå‹•è¼‰å…¥èˆ‡è·¯ç”±çš„æ•ˆæœã€‚&lt;/li>
&lt;li>&lt;strong>å¯ç§»æ¤ä¸”ä¾¿æ”œ&lt;/strong>ï¼šåŸºæœ¬ä¸Š Nuxt 3 ä½¿ç”¨çš„ä¾è³´å¥—ä»¶éƒ½åœ¨ &lt;strong>package.json&lt;/strong> æª”æ¡ˆçš„ &lt;strong>devDependencies&lt;/strong> ä¸­ï¼Œå»ºæ§‹æ­£å¼ç’°å¢ƒçš„ç¶²ç«™æ™‚ï¼Œ&lt;a class="link" href="https://github.com/unjs/nitro" target="_blank" rel="noopener"
>Nitro&lt;/a> è‡ªå‹•æ‹†åˆ†çš„ç¨‹å¼ç¢¼èˆ‡æ‰“åŒ…å‡ºä¾†çš„ &lt;code>.output&lt;/code> ç›®éŒ„ä¸å†éœ€è¦å®‰è£ä¾è³´å¥—ä»¶ï¼Œæ„å‘³è‘—ä¸å†æœ‰ &lt;strong>node_modules&lt;/strong>ï¼Œå› æ­¤éƒ¨ç½²æ™‚æ›´è¼•ä¾¿å¥½æ”œã€‚&lt;/li>
&lt;li>&lt;strong>æ··åˆæ¨¡å¼&lt;/strong>ï¼šé€é**æ··åˆæ¨¡å¼ (Hybrid mode)**å¯ä»¥å°‡ä¸€éƒ¨åˆ†é é¢é æ¸²æŸ“ç”¢ç”Ÿå‡ºéœæ…‹é é¢ï¼Œéƒ¨åˆ†é é¢æ˜¯å‹•æ…‹çš„åœ¨ä¼ºæœå™¨æˆ–å®¢æˆ¶ç«¯æ¸²æŸ“ï¼Œè®“æ¯å€‹è·¯ç”±é é¢æœ‰ä¸åŒçš„éœæ…‹æˆ–å‹•æ…‹ç”šè‡³æ“æœ‰å¿«å–è¦å‰‡ï¼Œé€™å°‡è®“ Nuxt 3 çš„&lt;a class="link" href="https://nuxt.com/docs/guide/concepts/rendering#universal-rendering" target="_blank" rel="noopener"
>é€šç”¨æ¸²æŸ“ (Universal Rendering)&lt;/a> æ–¹å¼æ›´é€²ä¸€æ­¥æˆ&lt;a class="link" href="https://nuxt.com/docs/guide/concepts/rendering#hybrid-rendering" target="_blank" rel="noopener"
>æ··åˆæ¸²æŸ“ (Hybrid Rendering)&lt;/a> ä¹Ÿèƒ½çµåˆç„¡ä¼ºæœå™¨ (Serverless) ä¾†é…ç½®æ··åˆæ¨¡å¼ã€‚&lt;/li>
&lt;/ul>
&lt;p>çœ‹åˆ°é€™è£¡ï¼Œå¯ä»¥ç™¼ç¾ Nuxt 3 èˆ‡ Nitro éƒ½ä¸‹äº†éå¸¸å¤§çš„åŠŸå¤«ï¼Œé›–ç„¶é‚„æœ‰äº›åŠŸèƒ½å°šæœªç©©å®šèˆ‡éœ€è¦æ”¹é€²çš„åœ°æ–¹ï¼Œä½†æ˜¯å·²ç¶“ç‚ºé–‹ç™¼ä¸Šæä¾›äº†å¼·å¤§æ”¯æ´èˆ‡è‰¯å¥½çš„é«”é©—ï¼Œæ›´å¤šç‰¹æ€§èˆ‡ç´°ç¯€å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://nuxt.com/docs/guide/concepts/server-engine" target="_blank" rel="noopener"
>Nuxt 3 - Server Engine&lt;/a> æˆ– &lt;a class="link" href="https://nitro.unjs.io/" target="_blank" rel="noopener"
>Nitro å®˜æ–¹&lt;/a>ã€‚&lt;/p>
&lt;h3 id="nuxt-3-çš„-server-ç›®éŒ„">Nuxt 3 çš„ Server ç›®éŒ„&lt;/h3>
&lt;p>æˆ‘å€‘å¯ä»¥é€é Nuxt 3 å°ˆæ¡ˆä¸‹çš„ &lt;code>server&lt;/code> ç›®éŒ„ä¾†å»ºç«‹å…·æœ‰ &lt;strong>hot module reloading&lt;/strong> æ”¯æ´çš„ Server API èˆ‡å¾Œç«¯è™•ç†é‚è¼¯ã€‚&lt;/p>
&lt;p>&lt;strong>server&lt;/strong> ç›®éŒ„å¸¸ç”¨çš„æœ‰ä¸‹é¢ä¸‰å€‹å­ç›®éŒ„ï¼š&lt;/p>
&lt;ul>
&lt;li>api&lt;/li>
&lt;/ul>
&lt;p>åœ¨é€™å€‹ç›®éŒ„çš„æª”æ¡ˆï¼Œå°‡æœƒç”± Nuxt è‡ªå‹•è¼‰å…¥ä¸¦ç”¢ç”Ÿ &lt;code>/api&lt;/code> é–‹é ­çš„è·¯ç”±ä¸¦å°æ‡‰æª”æ¡ˆåç¨±ï¼Œä¾‹å¦‚å»ºç«‹ &lt;strong>./server/api/hello.js&lt;/strong>ï¼Œå°±æœƒæ“æœ‰ &lt;strong>/api/hello&lt;/strong> çš„è·¯ç”±å°æ‡‰é€™å€‹ APIï¼Œå¯ä»¥ä½¿ç”¨ &lt;a class="link" href="http://localhost:3000/api/hello" target="_blank" rel="noopener"
>http://localhost:3000/api/hello&lt;/a> è¨ªå•è©²è·¯ç”±ã€‚&lt;/p>
&lt;ul>
&lt;li>routes&lt;/li>
&lt;/ul>
&lt;p>åœ¨é€™å€‹ç›®éŒ„çš„æª”æ¡ˆï¼Œå°‡æœƒç”± Nuxt è‡ªå‹•è¼‰å…¥ä¸¦ç”¢ç”Ÿå°æ‡‰æª”æ¡ˆåç¨±çš„è·¯ç”±ï¼Œä¾‹å¦‚å»ºç«‹ &lt;strong>./server/routes/world.js&lt;/strong>ï¼Œå°±æœƒæ“æœ‰ &lt;code>/world&lt;/code> çš„è·¯ç”±å°æ‡‰é€™å€‹ APIï¼Œå¯ä»¥ä½¿ç”¨ &lt;a class="link" href="http://localhost:3000/world" target="_blank" rel="noopener"
>http://localhost:3000/world&lt;/a> è¨ªå•è©²è·¯ç”±ã€‚&lt;/p>
&lt;ul>
&lt;li>middleware&lt;/li>
&lt;/ul>
&lt;p>åœ¨é€™å€‹ç›®éŒ„çš„æª”æ¡ˆï¼Œæœƒè¢« Nuxt è‡ªå‹•è¼‰å…¥ï¼Œä¸¦æ·»åŠ è‡³&lt;code>ä¼ºæœå™¨ä¸­é–“ä»¶&lt;/code>ï¼Œä¸¦åœ¨æ¯å€‹ Request é€²å…¥ä¼ºæœå™¨ API çš„è·¯ç”±å‰åŸ·è¡Œã€‚&lt;/p>
&lt;h3 id="å»ºç«‹ç¬¬ä¸€å€‹ä¼ºæœå™¨-api">å»ºç«‹ç¬¬ä¸€å€‹ä¼ºæœå™¨ API&lt;/h3>
&lt;p>Nuxt æœƒè‡ªå‹•æƒæ &lt;code>server&lt;/code> ç›®éŒ„ä¸­çš„æª”æ¡ˆçµæ§‹ï¼Œå»ºç«‹ Server API æ™‚é€šå¸¸ä»¥ &lt;strong>.js&lt;/strong> æˆ– &lt;strong>.ts&lt;/strong> ä½œç‚ºå‰¯æª”åï¼Œä¸¦ä¾ç…§å®˜æ–¹å»ºè­°ï¼Œæ¯å€‹æª”æ¡ˆéƒ½æ‡‰è©²é è¨­åŒ¯å‡º &lt;code>defineEventHandler()&lt;/code> å‡½æ•¸ï¼Œä¸¦åœ¨å…¶ handler å…§å¯¦ä½œè™•ç†é‚è¼¯ã€‚&lt;/p>
&lt;p>handler æ¥æ”¶äº†ä¸€å€‹ &lt;code>event&lt;/code> åƒæ•¸ï¼Œç”¨ä¾†è§£æè«‹æ±‚çš„è³‡æ–™ï¼Œä¸¦å¯ä»¥ç›´æ¥å›å‚³ä¸€å€‹&lt;strong>å­—ä¸²&lt;/strong>ã€&lt;strong>JSON&lt;/strong>ã€&lt;strong>Promise&lt;/strong> æˆ–è€…ä½¿ç”¨ &lt;strong>event.res.end()&lt;/strong> é€å‡ºè«‹æ±‚å›æ‡‰ã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘å»ºç«‹ä¸€å€‹æª”æ¡ˆ &lt;strong>./server/api/hello.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapihellojs">server/api/hello.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello World!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚åŒ &lt;code>pages&lt;/code> é é¢è·¯ç”±ä¸€æ¨£ï¼Œåœ¨ &lt;strong>./server/api&lt;/strong> ç›®éŒ„ä¸‹æœƒåŸºæ–¼æª”æ¡ˆç³»çµ±çµæ§‹ä¾†ç”¢ç”Ÿå‡ºç›¸å°æ‡‰çš„è·¯ç”±ï¼Œä¸¦ä¸”æœƒæ·»åŠ ä¸€å€‹è·¯ç”±å‰ç¶´ &lt;code>/api&lt;/code>ï¼Œç¾åœ¨ï¼Œå¯ä»¥ä½¿ç”¨ &lt;a class="link" href="http://localhost:3000/api/hello" target="_blank" rel="noopener"
>http://localhost:3000/api/hello&lt;/a> è¨ªå•è©²è·¯ç”±ï¼Œçœ‹è¦‹å›å‚³çš„ JSON è³‡æ–™ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964704_e3841ca57a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="ä¼ºæœå™¨è·¯ç”±">ä¼ºæœå™¨è·¯ç”±&lt;/h3>
&lt;h4 id="åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±">åŸºæ–¼æª”æ¡ˆçš„è·¯ç”±&lt;/h4>
&lt;p>å‰é¢çš„ä¾‹å­æœ‰æåˆ°ï¼ŒServer API çš„è·¯ç”±æ˜¯&lt;code>åŸºæ–¼æª”æ¡ˆçµæ§‹ä¾†è‡ªå‹•ç”¢ç”Ÿ&lt;/code>ï¼Œå¦‚æœä½ ä¸æƒ³è¦æœ‰ &lt;code>/api&lt;/code> çš„å‰ç¶´ï¼Œå¯ä»¥å°‡ API è™•ç†é‚è¼¯æª”æ¡ˆï¼Œæ”¾ç½®åœ¨ &lt;strong>./server/routes&lt;/strong> ç›®éŒ„ä¸­ã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œä»¥ä¸‹çš„æª”æ¡ˆçµæ§‹æœƒç”¢ç”Ÿå…©å€‹å¯ä»¥è¨ªå•çš„ä¼ºæœå™¨ API è·¯ç”±ï¼Œåˆ†åˆ¥ç‚º &lt;strong>/api/hello&lt;/strong> åŠ &lt;strong>/api/world&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nuxt-app/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ server/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ api/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â””â”€â”€ hello.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ routes/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ world.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åŒ¹é…è·¯ç”±åƒæ•¸">åŒ¹é…è·¯ç”±åƒæ•¸&lt;/h4>
&lt;p>å°‡æª”æ¡ˆåç¨±æ·»åŠ ä¸­æ‹¬è™Ÿ &lt;code>[]&lt;/code>ï¼Œå…¶ä¸­æ”¾å…¥æ¬²è¨­å®šçš„åƒæ•¸åç¨±ï¼Œä»¥æ­¤ä¾†è™•ç†å‹•æ…‹è·¯ç”±åŒ¹é…ã€‚
èˆ‰ä¾‹ä¾†èªªï¼Œå»ºç«‹ &lt;strong>./server/api/hello/[name].js&lt;/strong> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapihellonamejs">server/api/hello/[name].js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`Hello, &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">!`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ handler å…§å°±èƒ½ä½¿ç”¨ &lt;code>event.context.params&lt;/code> ä¾†è¨ªå• &lt;strong>name&lt;/strong> è·¯ç”±åƒæ•¸ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698486_37c5da2beb_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="åŒ¹é…-http-è«‹æ±‚æ–¹æ³•-http-request-method">åŒ¹é… HTTP è«‹æ±‚æ–¹æ³• (HTTP Request Method)&lt;/h4>
&lt;p>æˆ‘å€‘å¯ä»¥æ·»åŠ  &lt;strong>.get&lt;/strong>ã€&lt;strong>.post&lt;/strong>ã€&lt;strong>.put&lt;/strong> æˆ– &lt;strong>.delete&lt;/strong> ç­‰æª”æ¡ˆåç¨±å¾Œç¶´ï¼Œä¾†åŒ¹é…å°æ‡‰çš„ HTTP request methodsã€‚&lt;/p>
&lt;p>æ–°å¢ &lt;strong>server/api/test.get.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapitestgetjs">server/api/test.get.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ¸¬è©¦ [GET] /api/test&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ &lt;strong>server/api/test.post.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapitestpostjs">server/api/test.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ¸¬è©¦ [POST] /api/test&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘ä½¿ç”¨ &lt;a class="link" href="https://www.postman.com/" target="_blank" rel="noopener"
>Postman&lt;/a> ä¾†æ‰“é€™å…©éš» APIï¼Œå¯ä»¥çœ‹åˆ°ä½¿ç”¨ä¸åŒçš„ HTTP Request Methodï¼Œå°±æœƒåŒ¹é…è‡³å°æ‡‰å¾Œç¶´æª”æ¡ˆä¸­çš„ handler é€²è¡Œè™•ç†ã€‚&lt;/p>
&lt;h5 id="get-apitest">[GET] /api/test&lt;/h5>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188612_a1886c609d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h5 id="post-apitest">[POST] /api/test&lt;/h5>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964714_af11679e95_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å¾ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘å€‘å»ºç«‹äº† &lt;code>test.get.js&lt;/code> èˆ‡ &lt;code>test.post.js&lt;/code> æª”æ¡ˆï¼Œåˆ†åˆ¥å°æ‡‰äº† &lt;strong>GET&lt;/strong> èˆ‡ &lt;strong>POST&lt;/strong> æ–¹æ³•ï¼Œå¦‚æœåŒä¸€å€‹è·¯ç”±ä½¿ç”¨äº†å…¶ä»–æ–¹æ³•è€Œç„¡æ³•åŒ¹é…è™•ç†çš„æª”æ¡ˆæ™‚ï¼Œå‰‡æœƒå›å‚³ HTTP ç‹€æ…‹ç¢¼ &lt;strong>405 Method Not Allowed&lt;/strong> è¡¨ç¤ºéŒ¯èª¤ã€‚&lt;/p>
&lt;h4 id="åŒ¹é…åŒ…ç¾…è¬è±¡çš„è·¯ç”±-catch-all-route">åŒ¹é…åŒ…ç¾…è¬è±¡çš„è·¯ç”± (Catch-all Route)&lt;/h4>
&lt;p>ä½ å¯ä»¥å»ºç«‹ &lt;code>[â€¦].js&lt;/code> çš„æª”æ¡ˆï¼Œä¾†å°‡æ‰€æœ‰ä¸åŒ¹é…çš„è·¯ç”±äº¤ç”±é€™å€‹ handler ä½œè™•ç†ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œå»ºç«‹ &lt;strong>./server/api/catch-all/[â€¦].js&lt;/strong>ï¼Œå°‡å¯ä»¥åŒ¹é… &lt;strong>/api/catch-all/x&lt;/strong>ã€&lt;strong>/api/catch-all/x/y&lt;/strong>&amp;hellip;ç­‰ &lt;strong>/catch-all&lt;/strong> ä¸‹æ‰€æœ‰å±¤ç´šçš„è·¯ç”±ã€‚&lt;/p>
&lt;h5 id="serverapicatch-alljs">server/api/catch-all/[â€¦].js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">url&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/api/catch-all ä¸‹ä¸åŒ¹é…çš„è·¯ç”±éƒ½æœƒé€²å…¥é€™è£¡&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;strong>./server/api/[â€¦].js&lt;/strong> æª”æ¡ˆå¦‚ä¸‹ï¼Œå°‡å¯ä»¥æ¥æ‰‹æ‰€æœ‰ &lt;strong>/api&lt;/strong> ä¸‹ç„¡æ³•åŒ¹é…çš„è·¯ç”±ã€‚&lt;/p>
&lt;h5 id="serverapijs">server/api/[â€¦].js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">url&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">message&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/api ä¸‹ä¸åŒ¹é…çš„è·¯ç”±éƒ½æœƒé€²å…¥é€™è£¡&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸‹åœ–ç¤ºç¯„ä¸­ï¼Œç•¶æˆ‘å€‘è¼¸å…¥çš„è·¯ç”±å¦‚æœæ²’æœ‰è¾¦æ³•è™•ç†ï¼Œå°‡æœƒè¢« &lt;code>[...].js&lt;/code> æ‰€åŒ¹é…ï¼Œä»¥æ­¤æˆ‘å€‘å¯ä»¥ä¾†å¯¦ä½œè¿”å›ã€é‡æ–°å°å‘æˆ–éŒ¯èª¤é é¢ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186823_7aa4ffbd74_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="ä¼ºæœå™¨ä¸­é–“ä»¶">ä¼ºæœå™¨ä¸­é–“ä»¶&lt;/h3>
&lt;p>Nuxt æœƒè‡ªå‹•è¼‰å…¥ &lt;code>./server/middleware&lt;/code> ä¸­çš„æª”æ¡ˆï¼Œä¸¦æ·»åŠ è‡³&lt;code>ä¼ºæœå™¨ä¸­é–“ä»¶&lt;/code>ï¼Œä¼ºæœå™¨çš„ä¸­é–“ä»¶èˆ‡è·¯ç”±ä¸­é–“ä»¶ä¸åŒçš„æ˜¯ï¼Œ&lt;code>pages&lt;/code> è·¯ç”±é é¢çš„è«‹æ±‚æ˜¯ä¸æœƒåŸ·è¡Œä¼ºæœå™¨ä¸­é–“ä»¶ã€‚&lt;/p>
&lt;p>ä¼ºæœå™¨çš„ä¸­é–“ä»¶æœƒåœ¨æ¯å€‹ Request é€²å…¥ä¼ºæœå™¨ API çš„è·¯ç”±å‰åŸ·è¡Œï¼Œé€šå¸¸ç”¨ä¾†æ·»åŠ æˆ–æª¢æŸ¥è«‹æ±‚çš„æ¨™é ­ (headers)ã€è¨˜éŒ„è«‹æ±‚æˆ–æ“´å±•èª¿æ•´è«‹æ±‚çš„ç‰©ä»¶ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ä¼ºæœå™¨ä¸­é–“ä»¶çš„è™•ç†é‚è¼¯ï¼Œä¸æ‡‰è©²å›å‚³ä»»ä½•å…§å®¹ï¼Œä¹Ÿä¸æ‡‰ä¸­æ–·æˆ–ç›´æ¥å›æ‡‰è«‹æ±‚ï¼Œä¼ºæœå™¨ä¸­é–“ä»¶æ‡‰è©²åƒ…æª¢æŸ¥ã€æ“´å±•è«‹æ±‚ä¸Šä¸‹æ–‡æˆ–ç›´æ¥æ‹‹å‡ºéŒ¯èª¤ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>èˆ‰ç†ä¾†èªªï¼Œä½ å¯ä»¥æ–°å¢ &lt;strong>./server/middleware/log.js&lt;/strong> ç”¨ä¾†è¨˜éŒ„æ¯å€‹è«‹æ±‚çš„ URLã€‚&lt;/p>
&lt;h5 id="servermiddlewarelogjs">server/middleware/log.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;New request: &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ–è€…ï¼Œæ–°å¢ &lt;strong>./server/middleware/auth.js&lt;/strong> ç”¨ä¾†è§£æè«‹æ±‚æˆ–æ“´å±•è«‹ç”±ç‰©ä»¶ã€‚&lt;/p>
&lt;h5 id="servermiddlewareauthjs">server/middleware/auth.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">auth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">username&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ryan&amp;#39;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä¼ºæœå™¨æ’ä»¶">ä¼ºæœå™¨æ’ä»¶&lt;/h3>
&lt;p>Nuxt æœƒè‡ªå‹•æƒæä¸¦è¼‰å…¥ &lt;code>./server/plugins&lt;/code> ç›®éŒ„ä¸‹çš„æª”æ¡ˆï¼Œä¸¦å°‡ä»–å€‘è¨»å†Šç‚º Nitro çš„æ’ä»¶ï¼Œåœ¨ Nitro å•Ÿå‹•æ™‚ï¼Œé€™äº›æ’ä»¶å°‡æœƒåœ¨ä¼ºæœå™¨è¼‰å…¥ä¸¦åŸ·è¡Œï¼Œæ’ä»¶å…è¨±æ“´å±• Nitro åŸ·è¡Œæ™‚çš„è¡Œç‚ºåŠé€£æ¥åˆ°ç”Ÿå‘½é€±æœŸçš„äº‹ä»¶ã€‚&lt;/p>
&lt;p>æ›´å¤šç´°ç¯€å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://nitro.unjs.io/guide/advanced/plugins" target="_blank" rel="noopener"
>Nitro Plugins&lt;/a>ã€‚&lt;/p>
&lt;h3 id="ä¼ºæœå™¨é€šç”¨åŠŸèƒ½">ä¼ºæœå™¨é€šç”¨åŠŸèƒ½&lt;/h3>
&lt;p>Nuxt ä¸­ä¼ºæœå™¨çš„è·¯ç”±ï¼Œæ˜¯ç”± &lt;a class="link" href="https://github.com/unjs/h3" target="_blank" rel="noopener"
>unjs/h3&lt;/a> æ‰€æä¾›ï¼Œh3 å…§å»ºä¸€äº›æ–¹ä¾¿å¯¦ç”¨çš„ helpersï¼Œå¯ä»¥åƒè€ƒ &lt;a class="link" href="https://www.jsdocs.io/package/h3#package-index-functions" target="_blank" rel="noopener"
>Available H3 Request Helpers&lt;/a>ã€‚&lt;/p>
&lt;h3 id="ä¼ºæœå™¨è·¯ç”±å¸¸ç”¨çš„-http-è«‹æ±‚è™•ç†">ä¼ºæœå™¨è·¯ç”±å¸¸ç”¨çš„ HTTP è«‹æ±‚è™•ç†&lt;/h3>
&lt;h4 id="è™•ç†-http-è«‹æ±‚ä¸­çš„-body">è™•ç† HTTP è«‹æ±‚ä¸­çš„ Body&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥ä½¿ç”¨ &lt;code>readBody(event)&lt;/code> ä¾†è§£æè«‹æ±‚ä¸­çš„ Bodyï¼Œæ³¨æ„ &lt;code>readBody()&lt;/code> æ˜¯ä¸€å€‹ç•°æ­¥å‡½æ•¸ï¼Œè¨˜å¾— &lt;code>await&lt;/code> ç­‰å¾…è§£æå®Œæˆã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186843_8c75e8307f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="è™•ç†-url-ä¸­çš„æŸ¥è©¢åƒæ•¸-query-parameters">è™•ç† URL ä¸­çš„æŸ¥è©¢åƒæ•¸ (Query Parameters)&lt;/h4>
&lt;p>å¯ä»¥ä½¿ç”¨ &lt;code>getQuery(evnet)&lt;/code> ä¾†è§£ææŸ¥è©¢åƒæ•¸ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">query&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getQuery&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">query&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶è«‹æ±‚ URL ç‚º &lt;strong>/api/query?name=ryan&lt;/strong>ï¼Œå¯ä»¥è§£æå‡ºæŸ¥è©¢åƒæ•¸ &lt;strong>query.name&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964724_f604a17188_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="è§£æ-http-è«‹æ±‚æ‰€å¤¾å¸¶çš„-cookie">è§£æ HTTP è«‹æ±‚æ‰€å¤¾å¸¶çš„ Cookie&lt;/h4>
&lt;p>å¯ä»¥ä½¿ç”¨ &lt;code>parseCookies(event)&lt;/code> ä¾†è§£æè«‹æ±‚æ‰€å¤¾å¸¶çš„ Cookieã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">cookies&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">parseCookies&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ok&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cookies&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘é€éç€è¦½å™¨çš„é–‹ç™¼å·¥å…·ï¼Œæ‰‹å‹•æ·»åŠ äº†ä¸€çµ„ &lt;strong>cookie&lt;/strong> åç‚º &lt;code>token&lt;/code>ï¼ŒServer API å¯ä»¥é€é &lt;code>parseCookies()&lt;/code> ä¾†è§£æå‡ºç€è¦½å™¨è‡ªå‹•å¤¾å¸¶çš„ &lt;strong>cookie&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698541_f2d257d4c0_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="é€²éšä½¿ç”¨ç¯„ä¾‹">é€²éšä½¿ç”¨ç¯„ä¾‹&lt;/h3>
&lt;h4 id="nitro-é…ç½®">Nitro é…ç½®&lt;/h4>
&lt;p>ä½ å¯ä»¥åœ¨ &lt;code>nuxt.config.ts&lt;/code> ä¸­ä½¿ç”¨ &lt;code>nitro&lt;/code> å±¬æ€§ä¾†é…ç½® &lt;a class="link" href="https://nitro.unjs.io/config" target="_blank" rel="noopener"
>Nitro è¨­å®š&lt;/a>ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts-2">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// https://nitro.unjs.io/config
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">nitro&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä½¿ç”¨å·¢ç‹€è·¯ç”±">ä½¿ç”¨å·¢ç‹€è·¯ç”±&lt;/h4>
&lt;p>ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;a class="link" href="https://www.jsdocs.io/package/h3" target="_blank" rel="noopener"
>h3&lt;/a> çš„ &lt;code>createRouter()&lt;/code> æ–¹æ³•ä¾†å»ºç«‹å·¢ç‹€è·¯ç”±ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">createRouter&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;h3&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">router&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">createRouter&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">router&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="s1">&amp;#39;Hello World&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">router&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä¼ºæœå™¨å„²å­˜">ä¼ºæœå™¨å„²å­˜&lt;/h4>
&lt;p>Nitro æä¾›äº†ä¸€å€‹è·¨å¹³å°çš„&lt;a class="link" href="https://nitro.unjs.io/guide/introduction/storage" target="_blank" rel="noopener"
>å„²å­˜å±¤&lt;/a>ï¼Œä½ å¯ä»¥ Nitro çš„é…ç½®ä¸­è¨­å®š &lt;code>storage&lt;/code> å±¬æ€§ï¼Œä¾†é…ç½®é¡å¤–çš„å„²å­˜æ›è¼‰ä½ç½®ï¼Œå®˜ç¶²æä¾›äº†ä¸€å€‹&lt;a class="link" href="https://nuxt.com/docs/guide/directory-structure/server/#example-using-redis" target="_blank" rel="noopener"
>ä½¿ç”¨ Redis çš„ç¯„ä¾‹&lt;/a>ã€‚&lt;/p>
&lt;p>æ›´å¤š Nitro ä¼ºæœå™¨çš„è¨­å®šèˆ‡ä½¿ç”¨å¯ä»¥åƒè€ƒ&lt;a class="link" href="https://nuxt.com/docs/guide/directory-structure/server/" target="_blank" rel="noopener"
>å®˜ç¶²&lt;/a>ã€‚&lt;/p>
&lt;p>Nitro ä¼ºæœå™¨å¼•æ“å°‡ Nuxt 3 æå‡è‡³å¦ä¸€å€‹å¢ƒç•Œï¼Œä¸åƒ…åŠŸèƒ½å¼·å¤§ä¸”è®“é–‹ç™¼ä¸­æ“æœ‰ä¸éŒ¯çš„é«”é©—ï¼Œä¼ºæœå™¨è·¯ç”±æ›´æ˜¯èƒ½åœ¨å¾Œç«¯ç›´æ¥è™•ç†é‚è¼¯å¯¦ä½œ Server APIï¼Œè€Œæ¥ä¸‹ä¾†å°‡ä»‹ç´¹å¦‚ä½•åœ¨ Nuxt æ‰“ API å–å¾—è³‡æ–™ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="è³‡æ–™ç²å–-data-fetching">è³‡æ–™ç²å– (Data Fetching)&lt;/h2>
&lt;p>Nuxt æä¾›äº† &lt;code>$fetch&lt;/code> åŠå››ç¨®çµ„åˆå¼å‡½æ•¸ (Composables)ï¼Œä¾†é€²è¡Œè³‡æ–™ç²å–ï¼Œä¹Ÿå°±æ˜¯èªªï¼Œæˆ‘å€‘ä¸éœ€è¦å†é¡å¤–å®‰è£ä»»ä½• HTTP Client ï¼Œå¦‚ &lt;a class="link" href="https://github.com/axios/axios" target="_blank" rel="noopener"
>axios&lt;/a> ä¾†ç™¼é€ HTTP è«‹æ±‚ï¼Œå› ç‚º Nuxt æœ¬èº«å°±è‡ªå¸¶äº†æ‰“ API çš„æ–¹æ³•ï¼Œè€Œä¸”åœ¨é é¢ã€å…ƒä»¶æˆ–æ’ä»¶ä¸­éƒ½èƒ½ç›´æ¥å‘¼å«åšä½¿ç”¨ï¼Œéå¸¸æ–¹ä¾¿ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘å…ˆä»‹ç´¹ä¸€ä¸‹ &lt;code>$fetch&lt;/code> é€™å€‹ç”± Nuxt æä¾›ä½¿ç”¨ &lt;a class="link" href="https://github.com/unjs/ofetch" target="_blank" rel="noopener"
>ohmyfetch&lt;/a> å¥—ä»¶æ‰€å°è£çš„ helperï¼Œ&lt;code>$fetch&lt;/code> å¯ä»¥åœ¨ Nuxt ä¸­ç”¨æ–¼ç™¼é€ HTTP è«‹æ±‚ã€‚&lt;/p>
&lt;p>å¦‚æœåœ¨ä¼ºæœå™¨ç«¯æ¸²æŸ“çš„æœŸé–“ï¼Œå‘¼å« &lt;code>$fetch&lt;/code> æ‰“å…§éƒ¨ API è·¯ç”±ï¼Œä¹Ÿå°±æ˜¯æ‰“æˆ‘å€‘è‡ªå·±åœ¨ &lt;code>./server&lt;/code> ä¸‹å¯¦ä½œçš„å¾Œç«¯ APIï¼Œé‚£éº¼å› ç‚ºä½¿ç”¨ &lt;code>$fetch&lt;/code> çš„é—œä¿‚ï¼ŒNuxt æœƒæ¨¡æ“¬è«‹æ±‚ï¼Œæ”¹ç”±ç›´æ¥å‘¼å«å…§éƒ¨ API çš„è™•ç†å‡½æ•¸ï¼Œé€™æ¨£å°±èƒ½ç¯€çœé¡å¤–çš„ API å‘¼å«ã€‚&lt;/p>
&lt;p>ä½¿ç”¨çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">$fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å¯ä»¥ä½¿ç”¨ &lt;strong>$fetch(&amp;rsquo;/api/count&amp;rsquo;)&lt;/strong> å»ºç«‹ä¸€å€‹ GET è«‹æ±‚ï¼Œç™¼é€è‡³ &lt;strong>/api/count&lt;/strong> å¾Œæœƒè¿”å›ä¸€å€‹ Promiseï¼Œå®Œæˆå¾Œæˆ‘å€‘å°±å¯ä»¥æ¥æ”¶å›å‚³çš„è³‡æ–™ã€‚&lt;/p>
&lt;p>&lt;code>$fetch&lt;/code> çš„ &lt;strong>options&lt;/strong> çš„åƒæ•¸åŠå»ºç«‹æ””æˆªå™¨ç­‰åŠŸèƒ½å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://github.com/unjs/ohmyfetch" target="_blank" rel="noopener"
>ohmyfetch&lt;/a>ï¼Œä¸éå‘¢ï¼Œæˆ‘å€‘é‚„æœƒä½¿ç”¨ Nuxt æä¾›çš„çµ„åˆå‡½æ•¸çµåˆ &lt;strong>$fetch&lt;/strong> ä¾†æ‰“ APIã€‚&lt;/p>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘å°±ä¾†ä¾åºä»‹ç´¹ï¼Œå¦‚ä½•ä½¿ç”¨ Nuxt æä¾›çš„å››ç¨®çµ„åˆå‡½æ•¸ä¾†å¾ API ç²å–è³‡æ–™ã€‚&lt;/p>
&lt;h3 id="useasyncdata">useAsyncData&lt;/h3>
&lt;p>é€™å€‹ &lt;code>useAsyncData()&lt;/code> çµ„åˆå‡½æ•¸ï¼Œå…¶å¯¦ä¸æ˜¯å‚³å…¥ URL ç›´æ¥å‘¼å«å°±æœƒç™¼å‡º API è«‹æ±‚ï¼Œè€Œæ˜¯ Nuxt å¯ä»¥é€éé€™å€‹å‡½æ•¸ä¾†æ·»åŠ ç•°æ­¥è«‹æ±‚è³‡æ–™çš„é‚è¼¯ã€‚&lt;/p>
&lt;p>&lt;code>useAsyncData&lt;/code> çµ„åˆå‡½æ•¸èƒ½æ¥æ”¶ &lt;code>key&lt;/code>ã€&lt;code>handler&lt;/code> èˆ‡ &lt;code>options&lt;/code>ï¼Œå…¶ä¸­ &lt;strong>handler&lt;/strong> æœƒä¾†æ·»åŠ è«‹æ±‚ç•°æ­¥è³‡æ–™çš„é‚è¼¯ã€‚ç•¶æˆ‘å€‘åœ¨é é¢ã€å…ƒä»¶å’Œæ’ä»¶ä¸­å‘¼å« &lt;strong>useAsyncData&lt;/strong>ï¼Œä¸¦ç­‰å¾…å›å‚³çš„ &lt;strong>Promise&lt;/strong>ï¼Œæˆ‘å€‘çš„é é¢æˆ–å…ƒä»¶çš„æ¸²æŸ“å°‡æœƒ&lt;code>é˜»å¡è·¯ç”±è¼‰å…¥&lt;/code>è‡³ &lt;strong>handler&lt;/strong> ç•°æ­¥é‚è¼¯è™•ç†å®Œç•¢å¾Œæ‰æœƒç¹¼çºŒåŸ·è¡Œï¼Œä¹Ÿå°±æ˜¯èªªï¼Œæ•´å€‹é é¢å…ƒä»¶å°‡æœƒç­‰å¾…æ‰€æœ‰ä½¿ç”¨ &lt;strong>useAsyncData&lt;/strong> å‘¼å«çš„ API å›å‚³å®Œæˆå¾Œæ‰æœƒé–‹å§‹é€²è¡Œæ¸²æŸ“ã€‚&lt;/p>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæˆ‘å€‘æ–°å¢ä¸€å€‹ Server APIï¼Œä¸¦ç¨å¾®æ·»åŠ ä¸€ä¸‹å»¶é²ï¼Œæ¨¡æ“¬ API ç´„éœ€è¦è™•ç† 2 ç§’æ‰å›å‚³è³‡æ–™ï¼Œ&lt;strong>./server/api/count.js&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapicountjs">server/api/count.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1">// ç­‰å¾… 2 ç§’
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stringify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">counter&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ä¸€å€‹è·¯ç”±é é¢ï¼Œ&lt;strong>./pages/count/useAsyncData.vue&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescountuseasyncdatavue">pages/count/useAsyncData.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-24 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-4xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ç€è¦½æ¬¡æ•¸&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-6xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">useAsyncData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">$fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/count&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘ç€è¦½ &lt;strong>/count/useAsyncData&lt;/strong> æ™‚ï¼Œæœƒæ‰“ &lt;strong>/api/count&lt;/strong> é€™éš» APIï¼Œä¸¦ç­‰å¾…è¿”å›å¾Œæ‰é–‹å§‹æ¸²æŸ“å…ƒä»¶ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186873_0f1db5744d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å› ç‚ºç€è¦½ &lt;a class="link" href="http://localho:3000/count/useAsyncData" target="_blank" rel="noopener"
>http://localho:3000/count/useAsyncData&lt;/a> æ™‚ï¼Œç¬¬ä¸€æ¬¡éƒ½æ˜¯ç”±å¾Œç«¯æ¸²æŸ“è™•ç†ï¼Œçœ‹ä¸å¤ªå‡ºå°èˆªæœ‰è¢«é˜»å¡çš„æ•ˆæœï¼Œå»ºè­°å¯ä»¥æ·»åŠ ä¸€ä¸‹è·¯ç”±é€£çµä¾†é€²è¡Œå°èˆªï¼Œå°±å¯ä»¥ç™¼ç¾å·®ç•°ã€‚&lt;/p>
&lt;p>ç•¶æˆ‘å€‘å¾é¦–é ï¼Œç”±å®¢æˆ¶ç«¯å°èˆªè‡³ &lt;code>/count/useAsyncData&lt;/code> é é¢æ™‚ï¼Œæœƒç™¼ç¾ç¶²å€çš„è·¯ç”±å·²ç¶“è®ŠåŒ–ï¼Œä½†æ˜¯é é¢ç´„ç­‰äº†ä¸€æœƒå…’æ‰æ¸²æŸ“å‡ºç¾ï¼Œé€™å°±æ˜¯å› ç‚ºé é¢ä¸­ä½¿ç”¨äº† &lt;code>useAsyncData()&lt;/code> ä¾†ç²å–è³‡æ–™ï¼Œ&lt;code>await&lt;/code> å°‡é˜»å¡æ•´å€‹é é¢å…ƒä»¶çš„è¼‰å…¥èˆ‡æ¸²æŸ“ï¼Œç›´è‡³ API è™•ç†å®Œç•¢å›å‚³å¾Œæ‰é–‹å§‹è¼‰å…¥è·¯ç”±æ¸²æŸ“å…ƒä»¶ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186898_35b72a8173_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;strong>useAsyncData() å…±æœ‰å…©ç¨®å‘¼å«æ™‚ä½¿ç”¨åƒæ•¸å·®ç•°ï¼Œå¯ä»¥é¸æ“‡æ˜¯å¦å‚³å…¥ç¬¬ä¸€å€‹åƒæ•¸ &lt;code>key&lt;/code>ï¼Œæ‰€å‚³å…¥åƒæ•¸çš„é¡å‹å¦‚ä¸‹&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">useAsyncData&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handler&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">nuxtApp?&lt;/span>: &lt;span class="kt">NuxtApp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">options?&lt;/span>: &lt;span class="kt">AsyncDataOptions&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">AsyncData&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">useAsyncData&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">key&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">handler&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">nuxtApp?&lt;/span>: &lt;span class="kt">NuxtApp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">options?&lt;/span>: &lt;span class="kt">AsyncDataOptions&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">AsyncData&lt;/span>&lt;span class="err">&amp;lt;&lt;/span>&lt;span class="na">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">AsyncDataOptions&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">server?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lazy?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">?:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">DataT&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">transform&lt;/span>&lt;span class="o">?:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>: &lt;span class="kt">DataT&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">DataT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pick?&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">watch?&lt;/span>: &lt;span class="kt">WatchSource&lt;/span>&lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">initialCache?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">immediate?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">RefreshOptions&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_initial?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">AsyncData&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">ErrorT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>: &lt;span class="kt">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="na">null&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pending&lt;/span>: &lt;span class="kt">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">boolean&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">execute&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">void&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">refresh&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">opts?&lt;/span>: &lt;span class="kt">RefreshOptions&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">void&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">error&lt;/span>: &lt;span class="kt">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ErrorT&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="na">null&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="useasyncdata-å‚³å…¥çš„åƒæ•¸">useAsyncData() å‚³å…¥çš„åƒæ•¸&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>key&lt;/strong>ï¼šå”¯ä¸€éµï¼Œå¯ä»¥ç¢ºä¿è³‡æ–™ä¸æœƒé‡è¤‡çš„ç²å–ï¼Œä¹Ÿå°±æ˜¯å¦‚æœ Key ç›¸åŒä¾¿ä¸æœƒå†ç™¼é€ç›¸åŒçš„è«‹æ±‚ï¼Œé™¤éé‡æ–°æ•´ç†é é¢ç”±å¾Œç«¯å†æ¬¡æ¸²æŸ“ç²å–ï¼Œæˆ–å‘¼å« &lt;code>useAsyncData&lt;/code> å›å‚³çš„ &lt;code>refresh()&lt;/code> å‡½æ•¸é‡æ–°å–å¾—è³‡æ–™ã€‚&lt;/li>
&lt;li>&lt;strong>handler&lt;/strong>ï¼šå›å‚³ç•°æ­¥è«‹æ±‚è³‡æ–™çš„è™•ç†å‡½æ•¸ï¼Œæ‰“ API æˆ–åŠ å·¥çš„ç•°æ­¥é‚è¼¯éƒ½å¯ä»¥åœ¨é€™è£¡è™•ç†ã€‚&lt;/li>
&lt;li>&lt;strong>options&lt;/strong>ï¼š
&lt;ul>
&lt;li>&lt;strong>server&lt;/strong>ï¼šæ˜¯å¦åœ¨ä¼ºæœå™¨ç«¯ç²å–è³‡æ–™ï¼Œé è¨­ç‚º &lt;code>true&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>lazy&lt;/strong>ï¼šæ˜¯å¦æ–¼è¼‰å…¥è·¯ç”±å¾Œæ‰é–‹å§‹åŸ·è¡Œç•°æ­¥è«‹æ±‚å‡½æ•¸ï¼Œé è¨­ç‚º &lt;code>false&lt;/code>ï¼Œæ‰€ä»¥æœƒé˜»æ­¢è·¯ç”±è¼‰å…¥ç›´åˆ°è«‹æ±‚å®Œæˆå¾Œæ‰é–‹å§‹æ¸²æŸ“é é¢å…ƒä»¶ã€‚&lt;/li>
&lt;li>&lt;strong>default&lt;/strong>ï¼šç•¶å‚³å…¥é€™å€‹ factory functionï¼Œå¯ä»¥å°‡ç•°æ­¥è«‹æ±‚ç™¼é€èˆ‡å›å‚³è§£æå‰ï¼Œè¨­å®šè³‡æ–™çš„é è¨­å€¼ï¼Œå°æ–¼è¨­å®š &lt;code>lazy: true&lt;/code> é¸é …ç‰¹åˆ¥æœ‰ç”¨è™•ï¼Œè‡³å°‘æœ‰å€‹é è¨­å€¼å¯ä»¥ä½¿ç”¨åŠæ¸²æŸ“é¡¯ç¤ºã€‚&lt;/li>
&lt;li>&lt;strong>transform&lt;/strong>ï¼šä¿®æ”¹åŠ å·¥ &lt;code>handler&lt;/code> å›å‚³çµæœçš„å‡½æ•¸ã€‚&lt;/li>
&lt;li>&lt;strong>pick&lt;/strong>ï¼š&lt;code>handler&lt;/code> è‹¥å›å‚³ä¸€å€‹ç‰©ä»¶ï¼Œåªå¾ä¸­ä¾ç…§éœ€è¦çš„ key å–å‡ºè³‡æ–™ï¼Œä¾‹å¦‚åªå¾ JSON ç‰©ä»¶ä¸­å–çš„æŸå¹¾å€‹ key çµ„æˆæ–°çš„ç‰©ä»¶ã€‚&lt;/li>
&lt;li>&lt;strong>watch&lt;/strong>ï¼šç›£è½ &lt;code>ref&lt;/code> æˆ– &lt;code>reactive&lt;/code> éŸ¿æ‡‰å¼è³‡æ–™ç™¼ç”Ÿè®ŠåŒ–æ™‚ï¼Œè§¸ç™¼é‡æ–°è«‹æ±‚è³‡æ–™ï¼Œé©ç”¨æ–¼è³‡æ–™åˆ†é ã€éæ¿¾çµæœæˆ–æœå°‹ç­‰æƒ…å¢ƒã€‚&lt;/li>
&lt;li>&lt;strong>initialCache&lt;/strong>ï¼šé è¨­ç‚º &lt;code>true&lt;/code>ï¼Œç•¶ç¬¬ä¸€æ¬¡è«‹æ±‚è³‡æ–™æ™‚ï¼Œå°‡æœƒæŠŠæœ‰æ•ˆçš„ payload å¿«å–ï¼Œä¹‹å¾Œçš„è«‹æ±‚åªè¦æ˜¯ç›¸åŒçš„ keyï¼Œéƒ½æœƒç›´æ¥å›å‚³å¿«å–çš„çµæœã€‚&lt;/li>
&lt;li>&lt;strong>immediate&lt;/strong>ï¼šé è¨­ç‚º &lt;code>true&lt;/code>ï¼Œè«‹æ±‚å°‡æœƒç«‹å³è§¸ç™¼ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="useasyncdata-çš„å›å‚³å€¼">useAsyncData() çš„å›å‚³å€¼&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>data&lt;/strong>ï¼šå‚³å…¥ç•°æ­¥å‡½æ•¸çš„å›å‚³çµæœã€‚&lt;/li>
&lt;li>&lt;strong>pending&lt;/strong>ï¼šä»¥ &lt;code>true&lt;/code> æˆ– &lt;code>false&lt;/code> è¡¨ç¤ºæ˜¯å¦æ­£åœ¨ç²å–è³‡æ–™ã€‚&lt;/li>
&lt;li>&lt;strong>refresh / execute&lt;/strong>ï¼šä¸€å€‹å‡½æ•¸ï¼Œå¯ä»¥ç”¨ä¾†é‡æ–°åŸ·è¡Œ &lt;code>handler&lt;/code> å‡½æ•¸ï¼Œå›å‚³æ–°çš„è³‡æ–™ï¼Œé¡ä¼¼é‡æ–°æ•´ç†ã€é‡æ‰“ä¸€æ¬¡ API çš„æ¦‚å¿µã€‚é è¨­æƒ…æ³ä¸‹ &lt;code>refresh()&lt;/code> åŸ·è¡Œå®Œä¸¦å›å‚³å¾Œæ‰èƒ½å†æ¬¡åŸ·è¡Œã€‚&lt;/li>
&lt;li>&lt;strong>error&lt;/strong>ï¼šè³‡æ–™ç²å–å¤±æ•—æ™‚å›å‚³çš„ç‰©ä»¶ã€‚&lt;/li>
&lt;/ul>
&lt;p>çœ‹åˆ°é€™è£¡ï¼Œæˆ‘å€‘å†é‡æ–°é–±è®€èˆ‡è§£é‡‹ &lt;code>useAsyncData()&lt;/code> çš„ç¯„ä¾‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pending&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">error&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">refresh&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">useAsyncData&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">$fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/count&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‘¼å« &lt;code>useAsyncData()&lt;/code> ä¸¦ä¸æ˜¯ç›´æ¥å¹«æˆ‘å€‘é€å‡º HTTP è«‹æ±‚ï¼Œè€Œæ˜¯åœ¨ &lt;code>handler&lt;/code> å…§ä½¿ç”¨ &lt;code>$fetch&lt;/code> ä¾†æ‰“ APIï¼Œåªæ˜¯ &lt;code>useAsyncData()&lt;/code> çµ„åˆå¼å‡½æ•¸ï¼Œå°è£äº†æ›´å¤šæ‰“ API æ™‚å¯ä»¥ä½¿ç”¨çš„æ–¹æ³•èˆ‡åƒæ•¸ï¼Œä¾†å› æ‡‰ä¸åŒçš„ä½¿ç”¨æƒ…å¢ƒã€‚ç•¶ç„¶å¦‚æœæƒ³è¦ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–å¥—ä»¶ä¾†æ›¿æ› &lt;code>$fetch&lt;/code> ä½†å¯èƒ½å°±æ²’è¾¦æ³•äº«å—å®ƒæ‰€å¸¶ä¾†çš„å¥½è™•ã€‚&lt;/p>
&lt;h3 id="usefetch">useFetch&lt;/h3>
&lt;p>é€™å€‹çµ„åˆå¼å‡½æ•¸å°‡ &lt;code>useAsyncData&lt;/code> å’Œ &lt;code>$fetch&lt;/code> é€²è¡ŒåŒ…è£ï¼Œç•¶ä½¿ç”¨é€™å€‹å‡½æ•¸æ™‚å®ƒæœƒæ ¹æ“š URL å’Œ fetch çš„é¸é …ä¾†è‡ªå‹•ç”¢ç”Ÿ &lt;code>useAsyncData&lt;/code> éœ€è¦çš„åƒæ•¸ &lt;code>key&lt;/code>ï¼Œå¦‚æœå‘¼å«çš„ API æ˜¯ä¼ºæœå™¨ç«¯æ‰€æä¾›çš„ï¼Œä¹Ÿæœƒè‡ªå‹•æ ¹æ“šä¼ºæœå™¨ API è·¯ç”±ä¾†ç‚ºè«‹æ±‚æä¾›é¡å‹æç¤ºï¼Œä¸¦æ¨æ–· API çš„å›å‚³é¡å‹ã€‚&lt;/p>
&lt;p>&lt;strong>useFetch() æ‰€å‚³å…¥åƒæ•¸çš„é¡å‹å¦‚ä¸‹&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Request&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">string&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="na">Request&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Request&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">options?&lt;/span>: &lt;span class="kt">UseFetchOptions&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">AsyncData&lt;/span>&lt;span class="err">&amp;lt;&lt;/span>&lt;span class="na">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">UseFetchOptions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">key?&lt;/span>: &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">method?&lt;/span>: &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">params?&lt;/span>: &lt;span class="kt">SearchParams&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">body?&lt;/span>: &lt;span class="kt">RequestInit&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;body&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Record&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">headers&lt;/span>&lt;span class="o">?:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">key&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">value&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="p">}[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">baseURL?&lt;/span>: &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">server?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">lazy?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">immediate?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">?:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">DataT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">transform&lt;/span>&lt;span class="o">?:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>: &lt;span class="kt">DataT&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">DataT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pick?&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">watch?&lt;/span>: &lt;span class="kt">WatchSource&lt;/span>&lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">initialCache?&lt;/span>: &lt;span class="kt">boolean&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">AsyncData&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>: &lt;span class="kt">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">DataT&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pending&lt;/span>: &lt;span class="kt">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">boolean&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">refresh&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">void&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">execute&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">Promise&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">void&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">error&lt;/span>: &lt;span class="kt">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Error&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="na">boolean&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="usefetch-å‚³å…¥çš„åƒæ•¸">useFetch() å‚³å…¥çš„åƒæ•¸&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>url&lt;/strong>ï¼šè¦ç²å–è³‡æ–™çš„ URL æˆ– API Endpointã€‚&lt;/li>
&lt;li>&lt;strong>options&lt;/strong>ï¼š(ç¹¼æ‰¿è‡ª &lt;a class="link" href="https://github.com/unjs/ohmyfetch" target="_blank" rel="noopener"
>unjs/ohmyfetch&lt;/a> é¸é …èˆ‡ &lt;a class="link" href="https://nuxt.com/docs/api/composables/use-async-data#params" target="_blank" rel="noopener"
>AsyncDataOptions&lt;/a>)
&lt;ul>
&lt;li>&lt;strong>method&lt;/strong>ï¼šç™¼é€ HTTP è«‹æ±‚çš„æ–¹æ³•ï¼Œä¾‹å¦‚ GETã€POST æˆ– DELETE ç­‰ã€‚&lt;/li>
&lt;li>&lt;strong>params&lt;/strong>ï¼šæŸ¥è©¢åƒæ•¸ (Query params)ã€‚&lt;/li>
&lt;li>&lt;strong>body&lt;/strong>ï¼šè«‹æ±‚çš„ bodyï¼Œå¯ä»¥å‚³å…¥ä¸€å€‹ç‰©ä»¶ï¼Œå®ƒå°‡è‡ªå‹•è¢«è½‰åŒ–ç‚ºå­—ä¸²ã€‚&lt;/li>
&lt;li>&lt;strong>headers&lt;/strong>ï¼šè«‹æ±‚çš„æ¨™é ­ (headers)ã€‚&lt;/li>
&lt;li>&lt;strong>baseURL&lt;/strong>ï¼šè«‹æ±‚çš„ API è·¯å¾‘ï¼ŒåŸºæ–¼çš„ URLã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>options&lt;/strong>ï¼š(ç¹¼æ‰¿è‡ª &lt;code>useAsyncData&lt;/code> çš„é¸é …)
&lt;ul>
&lt;li>&lt;strong>key&lt;/strong>ï¼šå”¯ä¸€éµï¼Œå¯ä»¥ç¢ºä¿è³‡æ–™ä¸æœƒé‡è¤‡çš„ç²å–ï¼Œä¹Ÿå°±æ˜¯å¦‚æœ Key ç›¸åŒä¾¿ä¸æœƒå†ç™¼é€ç›¸åŒçš„è«‹æ±‚ï¼Œé™¤éé‡æ–°æ•´ç†é é¢ç”±å¾Œç«¯å†æ¬¡æ¸²æŸ“ç²å–ï¼Œæˆ–å‘¼å« &lt;code>useAsyncData&lt;/code> å›å‚³çš„ &lt;code>refresh()&lt;/code> å‡½æ•¸é‡æ–°å–å¾—è³‡æ–™ã€‚&lt;/li>
&lt;li>&lt;strong>server&lt;/strong>ï¼šæ˜¯å¦åœ¨ä¼ºæœå™¨ç«¯ç²å–è³‡æ–™ï¼Œé è¨­ç‚º &lt;code>true&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>lazy&lt;/strong>ï¼šæ˜¯å¦æ–¼è¼‰å…¥è·¯ç”±å¾Œæ‰é–‹å§‹åŸ·è¡Œç•°æ­¥è«‹æ±‚å‡½æ•¸ï¼Œé è¨­ç‚º &lt;code>false&lt;/code>ï¼Œæ‰€ä»¥æœƒé˜»æ­¢è·¯ç”±è¼‰å…¥ç›´åˆ°è«‹æ±‚å®Œæˆå¾Œæ‰é–‹å§‹æ¸²æŸ“é é¢å…ƒä»¶ã€‚&lt;/li>
&lt;li>&lt;strong>immediate&lt;/strong>ï¼šé è¨­ç‚º &lt;code>true&lt;/code>ï¼Œè«‹æ±‚å°‡æœƒç«‹å³è§¸ç™¼ã€‚&lt;/li>
&lt;li>&lt;strong>default&lt;/strong>ï¼šç•¶å‚³å…¥é€™å€‹ factory functionï¼Œå¯ä»¥å°‡ç•°æ­¥è«‹æ±‚ç™¼é€èˆ‡å›å‚³è§£æå‰ï¼Œè¨­å®šè³‡æ–™çš„é è¨­å€¼ï¼Œå°æ–¼è¨­å®š &lt;code>lazy: true&lt;/code> é¸é …ç‰¹åˆ¥æœ‰ç”¨è™•ï¼Œè‡³å°‘æœ‰å€‹é è¨­å€¼å¯ä»¥ä½¿ç”¨åŠæ¸²æŸ“é¡¯ç¤ºã€‚&lt;/li>
&lt;li>&lt;strong>transform&lt;/strong>ï¼šä¿®æ”¹åŠ å·¥ &lt;code>handler&lt;/code> å›å‚³çµæœçš„å‡½æ•¸ã€‚&lt;/li>
&lt;li>&lt;strong>pick&lt;/strong>ï¼š&lt;code>handler&lt;/code> è‹¥å›å‚³ä¸€å€‹ç‰©ä»¶ï¼Œåªå¾ä¸­ä¾ç…§éœ€è¦çš„ key å–å‡ºè³‡æ–™ï¼Œä¾‹å¦‚åªå¾ JSON ç‰©ä»¶ä¸­å–çš„æŸå¹¾å€‹ key çµ„æˆæ–°çš„ç‰©ä»¶ã€‚&lt;/li>
&lt;li>&lt;strong>watch&lt;/strong>ï¼šç›£è½ &lt;code>ref&lt;/code> æˆ– &lt;code>reactive&lt;/code> éŸ¿æ‡‰å¼è³‡æ–™ç™¼ç”Ÿè®ŠåŒ–æ™‚ï¼Œè§¸ç™¼é‡æ–°è«‹æ±‚è³‡æ–™ï¼Œé©ç”¨æ–¼è³‡æ–™åˆ†é ã€éæ¿¾çµæœæˆ–æœå°‹ç­‰æƒ…å¢ƒã€‚&lt;/li>
&lt;li>&lt;strong>initialCache&lt;/strong>ï¼šé è¨­ç‚º &lt;code>true&lt;/code>ï¼Œç•¶ç¬¬ä¸€æ¬¡è«‹æ±‚è³‡æ–™æ™‚ï¼Œå°‡æœƒæŠŠæœ‰æ•ˆçš„ payload å¿«å–ï¼Œä¹‹å¾Œçš„è«‹æ±‚åªè¦æ˜¯ç›¸åŒçš„ keyï¼Œéƒ½æœƒç›´æ¥å›å‚³å¿«å–çš„çµæœã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="usefetch-çš„å›å‚³å€¼">useFetch() çš„å›å‚³å€¼&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>data&lt;/strong>ï¼šå‚³å…¥ç•°æ­¥å‡½æ•¸çš„å›å‚³çµæœã€‚&lt;/li>
&lt;li>&lt;strong>pending&lt;/strong>ï¼šä»¥ &lt;code>true&lt;/code> æˆ– &lt;code>false&lt;/code> è¡¨ç¤ºæ˜¯å¦æ­£åœ¨ç²å–è³‡æ–™ã€‚&lt;/li>
&lt;li>&lt;strong>refresh / execute&lt;/strong>ï¼šä¸€å€‹å‡½æ•¸ï¼Œå¯ä»¥ç”¨ä¾†é‡æ–°åŸ·è¡Œ &lt;code>handler&lt;/code> å‡½æ•¸ï¼Œå›å‚³æ–°çš„è³‡æ–™ï¼Œé¡ä¼¼é‡æ–°æ•´ç†ã€é‡æ‰“ä¸€æ¬¡ API çš„æ¦‚å¿µã€‚é è¨­æƒ…æ³ä¸‹ &lt;code>refresh()&lt;/code> åŸ·è¡Œå®Œä¸¦å›å‚³å¾Œæ‰èƒ½å†æ¬¡åŸ·è¡Œã€‚&lt;/li>
&lt;li>&lt;strong>error&lt;/strong>ï¼šè³‡æ–™ç²å–å¤±æ•—æ™‚å›å‚³çš„ç‰©ä»¶ã€‚&lt;/li>
&lt;/ul>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæˆ‘å€‘æ–°å¢ä¸€å€‹ Server APIï¼Œ&lt;strong>./server/api/about.js&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiaboutjs">server/api/about.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Ryan&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ç”·&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ryanchien8125@gmail.com&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ä¸€å€‹è·¯ç”±é é¢ï¼Œ&lt;strong>./pages/about/useFetch.vue&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesaboutusefetchvue">pages/about/useFetch.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-24 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-2xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">è«‹æ±‚ç‹€æ…‹&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">pending&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;è«‹æ±‚ä¸­&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;å®Œæˆ&amp;#39;&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="nt">v-if&lt;/span>&lt;span class="s">=&amp;#34;error&amp;#34; class=&amp;#34;mt-4 text-6xl text-gray-600&amp;#34;&amp;gt;æ˜¯å¦éŒ¯èª¤: {{ error }}&amp;lt;/span&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;span class=&amp;#34;mt-4 text-2xl text-gray-600&amp;#34;&amp;gt;å›å‚³è³‡æ–™:&amp;lt;/span&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;p class=&amp;#34;mt-4 text-3xl font-semibold text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="na">data&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-6 rounded-sm bg-blue-500 py-3 px-8 text-xl font-medium text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;refresh&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">é‡æ–°ç²å–è³‡æ–™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pending&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">error&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">refresh&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/about&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">pick&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€é &lt;code>useFetch()&lt;/code> æˆ‘å€‘èƒ½æ›´ç°¡å–®çš„ç™¼é€ API è«‹æ±‚ï¼Œä¸¦èƒ½å¾—åˆ°ç‹€æ…‹èˆ‡é‡æ–°ç²å–è³‡æ–™çš„å‡½æ•¸ï¼Œç”šè‡³åœ¨ç¬¬ä¸€æ¬¡é€²å…¥é é¢æ™‚ï¼Œåˆ©ç”¨ &lt;code>$fetch&lt;/code> å¯ä»¥ç›´æ¥å‘¼å«ä¼ºæœå™¨ API å‡½æ•¸çš„ç‰¹æ€§ä¾†é™ä½ API çš„è«‹æ±‚æ¬¡æ•¸ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964759_a9278ba6d0_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="æ””æˆªå™¨">æ””æˆªå™¨&lt;/h3>
&lt;p>æˆ‘å€‘ä¹Ÿå¯ä»¥é€é &lt;code>$fetch&lt;/code> æä¾›çš„é¸é …ä¾†è¨­ç½®æ””æˆªå™¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pending&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">error&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">refresh&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/auth/login&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onRequest&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è¨­å®šè«‹æ±‚æ™‚å¤¾å¸¶çš„æ¨™é ­
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authorization&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onRequestError&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">error&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è™•ç†è«‹æ±‚æ™‚ç™¼ç”Ÿçš„éŒ¯èª¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onResponse&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è™•ç†è«‹æ±‚å›æ‡‰çš„è³‡æ–™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">onResponseError&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è™•ç†è«‹æ±‚å›æ‡‰ç™¼ç”Ÿçš„éŒ¯èª¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="uselazyasyncdata">useLazyAsyncData&lt;/h3>
&lt;p>é è¨­çš„æƒ…æ³ä¸‹ï¼Œ&lt;code>useAsyncData()&lt;/code> çš„ &lt;code>options.lazy&lt;/code> ç‚º &lt;code>false&lt;/code>ï¼Œæ„æ€æ˜¯ï¼Œé è¨­å¾—æƒ…æ³ä¸‹ï¼Œç•¶é€²å…¥è·¯ç”±å¾Œï¼Œæœƒé–‹å§‹åŸ·è¡Œç•°æ­¥è«‹æ±‚å‡½æ•¸ï¼Œä¸¦æœƒæœƒé˜»æ­¢è·¯ç”±è¼‰å…¥å…ƒä»¶ç­‰ï¼Œç›´åˆ°è«‹æ±‚å®Œæˆå¾Œæ‰é–‹å§‹æ¸²æŸ“é é¢å…ƒä»¶ã€‚&lt;/p>
&lt;p>&lt;code>useLazyAsyncData()&lt;/code> å‰‡æ˜¯ &lt;code>options.lazy&lt;/code> é è¨­ç‚º &lt;code>true&lt;/code> çš„å°è£ï¼Œä¹Ÿå°±æ˜¯è«‹æ±‚è³‡æ–™æ™‚å®ƒå°‡ä¸æœƒé˜»å¡ï¼Œä¸¦è®“é é¢ç¹¼çºŒæ¸²æŸ“å…ƒä»¶ã€‚&lt;/p>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæˆ‘å€‘æ–°å¢ä¸€å€‹ Server APIï¼Œä¸¦ç¨å¾®æ·»åŠ ä¸€ä¸‹å»¶é²ï¼Œæ¨¡æ“¬ API ç´„éœ€è¦è™•ç† 2 ç§’æ‰å›å‚³è³‡æ–™ï¼Œ&lt;strong>./server/api/count.js&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapicountjs-1">server/api/count.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Promise&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">resolve&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1">// ç­‰å¾… 2 ç§’
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">JSON&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stringify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">counter&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ä¸€å€‹è·¯ç”±é é¢ï¼Œ&lt;strong>./pages/count/useLazyAsyncData.vue&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescountuselazyasyncdatavue">pages/count/useLazyAsyncData.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-24 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ç€è¦½æ¬¡æ•¸&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/count&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å›é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useLazyAsyncData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">$fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/count&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥ç™¼ç¾ï¼Œæˆ‘å€‘ä½¿ç”¨ &lt;code>useLazyAsyncData()&lt;/code> å¾Œï¼Œæœƒèˆ‡å‰é¢ä½¿ç”¨ &lt;code>useAsyncData()&lt;/code> çš„æ•ˆæœä¸ä¸€æ¨£ï¼Œæœƒå…ˆæ¸²æŸ“å‡ºå…ƒä»¶ï¼Œå³çœ‹åˆ°çš„æ–‡å­—ã€Œç€è¦½æ¬¡æ•¸ã€ï¼Œä¸¦å† API å›å‚³å¾Œæ‰éŸ¿æ‡‰è³‡æ–™é‡æ–°æ¸²æŸ“æ•¸å€¼ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186908_7d896f5934_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€é &lt;code>default&lt;/code> é¸é …å¯ä»¥ä¾†å»ºç«‹ API å›å‚³å‰çš„é è¨­å€¼ï¼Œåœ¨ &lt;code>options.lazy&lt;/code> ç‚º &lt;code>true&lt;/code> çš„æƒ…æ³ä¸‹ï¼Œéƒ½å»ºè­°è¨­å®šä¸€ä¸‹é è¨­å€¼ï¼Œå¯ä»¥è®“ä½¿ç”¨è€…é«”é©—æ›´å¥½ä¸€äº›ã€‚&lt;/p>
&lt;p>æ·»åŠ  &lt;strong>default&lt;/strong> é¸é …ï¼Œ&lt;strong>./pages/count/useLazyAsyncData.vue&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescountuselazyasyncdatavue-1">pages/count/useLazyAsyncData.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-24 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ç€è¦½æ¬¡æ•¸&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-9xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å›é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useLazyAsyncData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">$fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/count&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="s1">&amp;#39;-&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ API è«‹æ±‚å›ä¾†å‰ï¼Œé è¨­å€¼æœƒæ˜¯ &lt;code>-&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964784_390b71eeb8_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="uselazyfetch">useLazyFetch&lt;/h3>
&lt;p>å¦‚åŒ &lt;code>useLazyAsyncData&lt;/code> æ‰€æè¿°ï¼Œ&lt;code>useLazyFetch&lt;/code> å‰‡æ˜¯ &lt;strong>useFetch&lt;/strong> çš„ &lt;code>options.lazy&lt;/code> é¸é …é è¨­ç‚º &lt;code>true&lt;/code> çš„å°è£ã€‚&lt;/p>
&lt;h4 id="é‡æ–°ç²å–è³‡æ–™">é‡æ–°ç²å–è³‡æ–™&lt;/h4>
&lt;p>å‰é¢æœ‰æåˆ°æˆ‘å€‘å¯ä»¥ä½¿ç”¨ &lt;code>refresh()&lt;/code> ä¾†é‡æ–°ç²å–å…·æœ‰ä¸åŒæŸ¥è©¢åƒæ•¸çš„è³‡æ–™ã€‚&lt;/p>
&lt;h4 id="refreshnuxtdata">refreshNuxtData&lt;/h4>
&lt;p>ä½ ä¹Ÿå¯ä»¥é€é &lt;code>refreshNuxtData&lt;/code> ä¾†ä½¿ &lt;strong>useAsyncData&lt;/strong>ã€&lt;strong>useLazyAsyncData&lt;/strong>ã€&lt;strong>useFetch&lt;/strong> èˆ‡ &lt;strong>useLazyFetch&lt;/strong> çš„å¿«å–å¤±æ•ˆï¼Œå†è§¸ç™¼åˆ·æ–°è³‡æ–™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">pending&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;Loading&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;refresh&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">Refresh&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">pending&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useLazyAsyncData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">$fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/count&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">refresh&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">refreshNuxtData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Nuxt å·²ç¶“ç‚ºæˆ‘å€‘å°è£å¥½å¯ä»¥æ‰“ API çš„çµ„åˆå‡½æ•¸ï¼Œç”¨èµ·ä¾†ä¹Ÿç›¸ç•¶ç°¡å–®æ–¹ä¾¿ï¼Œç…§è‘—&lt;a class="link" href="https://nuxt.com/docs/api/composables/use-async-data#example" target="_blank" rel="noopener"
>å®˜ç¶²ç¯„ä¾‹&lt;/a>åŠ &lt;a class="link" href="https://github.com/unjs/ofetch" target="_blank" rel="noopener"
>ohmyfetch&lt;/a> å¥—ä»¶çš„èªªæ˜ï¼Œç›¸ä¿¡å¾ˆå¿«å°±èƒ½ä¸Šæ‰‹ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ç‹€æ…‹ç®¡ç†-state-management">ç‹€æ…‹ç®¡ç† (State Management)&lt;/h2>
&lt;p>Vue 3 çˆ¶å­å…ƒä»¶é–“è³‡æ–™å‚³éèˆ‡è®€å¯«æˆ–æ˜¯è·¨å…ƒä»¶é–“çš„ç‹€æ…‹å…±äº«ï¼Œå¯ä»¥é¸æ“‡ä½¿ç”¨ &lt;strong>Props / Emit&lt;/strong>ã€&lt;strong>Provide / Inject&lt;/strong> æˆ– &lt;strong>Vuex store&lt;/strong> ä¾†è™•ç†ï¼Œé€™ä¸‰ç¨®è³‡æ–™æµéƒ½ä¸å¤§ä¸€æ¨£ï¼Œæˆ‘å€‘ä¹Ÿæœƒä¾æ“šæƒ…å¢ƒä¾†æ±ºå®šç‹€æ…‹ç®¡ç†çš„æ–¹å¼ã€‚é€™é‚Šæœƒé‡å° Nuxt 3 æ‰€æä¾›çš„çµ„åˆå¼å‡½æ•¸ &lt;code>useState&lt;/code> ä¾†è¬›è¿°å…ƒä»¶é–“çš„å…±äº«ç‹€æ…‹ï¼Œæ‡‰è©²å¦‚ä½•åšå®šç¾©ï¼Œä»¥åŠä½¿ç”¨ &lt;a class="link" href="https://pinia.vuejs.org/" target="_blank" rel="noopener"
>Pinia&lt;/a> æ›¿ä»£ &lt;a class="link" href="https://vuex.vuejs.org/" target="_blank" rel="noopener"
>Vuex&lt;/a> ä¾†åšç‹€æ…‹ç®¡ç†ã€‚&lt;/p>
&lt;h3 id="hydration">Hydration&lt;/h3>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘å…ˆä¾†çœ‹ä¸€å€‹ä¾‹å­ï¼Œå»ºç«‹ &lt;strong>./pages/random.vue&lt;/strong> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesrandomvue">pages/random.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-9xl font-semibold text-sky-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">round&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é é¢å‘ˆç¾å‡ºï¼Œæ¯æ¬¡é‡æ–°æ•´ç†é é¢ï¼Œé é¢æœƒé¡¯ç¤ºæ–°çš„äº‚æ•¸ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617186923_40cff8bd77_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç´°å¿ƒä½ çš„å¯èƒ½æœƒç™¼ç¾ï¼Œæ¯æ¬¡é‡æ•´é é¢ï¼Œæ•¸å­—å¥½åƒ&lt;code>è®ŠåŒ–äº†å…©æ¬¡&lt;/code>ï¼Œåœ–ä¸­æ•¸å­—åœç•™åœ¨ &lt;strong>517&lt;/strong>ï¼Œé‡æ–°æ•´ç†ç¶²é å¾Œç«Ÿç„¶å…ˆè®Šæˆäº† &lt;strong>163&lt;/strong> å¾Œå†è®Šæˆ &lt;strong>101&lt;/strong>ã€‚&lt;/p>
&lt;p>é€™å€‹ç¾è±¡å…¶å¯¦æ˜¯ä¼ºæœå™¨ç«¯æ¸²æŸ“å¾Œèˆ‡å®¢æˆ¶ç«¯å†æ¬¡æ¸²æŸ“æ‰€å°è‡´çš„ã€‚è¬›çš„ç™½è©±ä¸€é»å°±æ˜¯ï¼Œå› ç‚º Nuxt é è¨­çš„æ¸²æŸ“æ¨¡å¼ &lt;a class="link" href="https://nuxt.com/docs/guide/concepts/rendering/#universal-rendering" target="_blank" rel="noopener"
>Universal Rendering&lt;/a> åœ¨ SSR æ™‚æœŸï¼Œå°‡ &lt;code>random.vue&lt;/code> å…§å®¹æ–¼ä¼ºæœå™¨ç«¯æ¸²æŸ“å®Œæˆå¾Œäº‚å‡ºç”¢ç”Ÿå‡º &lt;strong>163&lt;/strong> ä½œç‚ºåˆå§‹å€¼ï¼Œæ„å³ &lt;strong>const count = ref(&lt;code>163&lt;/code>)&lt;/strong>ï¼Œæ‰€ä»¥ç¶²é å…ˆé¡¯ç¤ºäº† &lt;strong>163&lt;/strong> é€™å€‹æ•¸å­—ï¼ŒåŒæ™‚ï¼Œç€è¦½å™¨çš„èƒŒæ™¯ä¹Ÿæ­£åœ¨ä¸‹è¼‰å®¢æˆ¶ç«¯æ‰€éœ€è¦çš„ JS æº–å‚™æ¥æ‰‹åš CSRï¼Œç•¶ JS è¼‰å…¥å®Œæˆå¾Œåˆå†ä¸€æ¬¡çš„åŸ·è¡Œ Vue å…ƒä»¶çš„ &lt;strong>const count = ref(Math.round(Math.random() * 1000))&lt;/strong> é€™æ®µç¨‹å¼ç¢¼ï¼Œæ­¤æ™‚äº‚æ•¸ç”¢ç”Ÿäº† &lt;strong>101&lt;/strong> é€™å€‹æ•¸å­—ï¼Œå®¢æˆ¶ç«¯ä¹Ÿå°±é‡æ–°æ¸²æŸ“å‡ºäº† &lt;strong>101&lt;/strong> æ–¼é é¢ä¸Šï¼Œé€™ä¹Ÿå°±æ˜¯ç‚ºä»€éº¼æ¯æ¬¡é‡æ–°æ•´ç†æ•¸å­—æœƒè®ŠåŒ–å…©æ¬¡çš„åŸå› ã€‚&lt;/p>
&lt;p>Nuxt é è¨­çš„&lt;strong>é€šç”¨æ¸²æŸ“ (Universal Rendering)&lt;/strong> æ¨¡å¼ï¼Œæ˜¯çµåˆäº† SSR èˆ‡ CSR çš„æŠ€è¡“ï¼Œåœ¨ Nuxt æ”¶åˆ°ç¶²é è«‹æ±‚å¾Œï¼Œæœƒåœ¨ä¼ºæœå™¨æ¸²æŸ“å‡º HTML å›å‚³è‡³ç€è¦½å™¨æ¸²æŸ“é¡¯ç¤ºå‡ºéœæ…‹é é¢ï¼ŒåŒæ™‚é–‹å§‹è¼‰å…¥éœ€è¦çš„ Vue ç¨‹å¼ç¢¼ï¼Œè®“å®¢æˆ¶ç«¯æ¥æ‰‹ç‚º SPA ä½¿å¾—ç¶²é å…·æœ‰äº’å‹•æ€§ï¼Œæ¥æ‰‹å¾Œçš„æ¸²æŸ“è¡Œç‚ºéƒ½æ˜¯åœ¨å®¢æˆ¶ç«¯é€²è¡Œçš„ CSRï¼Œé€™ä¹Ÿå°±è®“é€šç”¨æ¸²æŸ“åŒæ™‚å…¼å…· SSR å° SEO çš„å‹å–„ä»¥åŠ CSR è‰¯å¥½äº’é€šæ€§çš„ä½¿ç”¨è€…é«”é©—ã€‚&lt;/p>
&lt;p>é€™ç¨®åœ¨ç€è¦½å™¨ä¸­ä½¿å¾Œç«¯æ¸²æŸ“å‡ºçš„éœæ…‹é é¢å…·æœ‰äº¤äº’æ€§ï¼Œç¨±ä¹‹ç‚ºã€Œ&lt;strong>Hydration&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>ä¾æ“šå®˜ç¶²æ‰€æä¾›çš„&lt;a class="link" href="https://nuxt.com/docs/guide/concepts/rendering/" target="_blank" rel="noopener"
>åœ–ç‰‡&lt;/a>ï¼Œæˆ‘æ·»åŠ äº†ä¸€äº›æ–‡å­—ä¾†å¹«åŠ©ç†è§£ã€‚å‰è¿°æåˆ°äº†åœ¨ä¼ºæœå™¨æ¸²æŸ“ç¶²é  HTML çµ¦ç€è¦½å™¨æ™‚ï¼Œä½¿ç”¨å¯ä»¥æ­£å¸¸çš„çœ‹è¦‹ç¶²é ï¼Œä½†æ˜¯åœ¨ JS ä¸‹è¼‰å®Œæˆä¹‹å‰ï¼Œç¶²é æ˜¯&lt;code>ä¸å…·æœ‰äº’å‹•æ€§&lt;/code>çš„ï¼Œä¹Ÿå°±æ˜¯é‚„ä¸å…·æœ‰è·¯ç”±è·³è½‰ç­‰ Vue äº’å‹•é‚è¼¯ï¼Œç›´è‡³ JS ä¸‹è¼‰å®Œå¾Œæœƒ Hydrate Vue ç¨‹å¼ç¢¼ï¼Œé€™æ™‚å®¢æˆ¶ç«¯å°±å®Œå…¨æ¥æ‰‹å¾ŒçºŒçš„äº’å‹•èˆ‡ CSRï¼Œåˆ°é€™é‚Š Hydration å®Œæˆï¼Œæˆ‘å€‘ä¹Ÿå°±èƒ½èˆ‡ç¶²ç«™å®Œæ•´çš„äº’å‹•äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964794_a7eaeeb3ef_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å›åˆ°ä¸€é–‹å§‹çš„ä¾‹å­ï¼Œæˆ‘å€‘åœ¨ç€è¦½å™¨æ‰“é–‹é–‹ç™¼è€…å·¥å…·çš„ä¸»æ§å° (Console)ï¼Œå¯ä»¥ç™¼ç¾åˆ°å…¶å¯¦é–‹ç™¼çš„éç¨‹ï¼Œä¹Ÿå‡ºç¾äº†éŒ¯èª¤æç¤ºã€Œ&lt;code>Hydration completed but contains mismatches.&lt;/code>ã€ï¼Œå‘Šè¨´æˆ‘å€‘ &lt;strong>Hydration&lt;/strong> å®Œæˆäº†ä½†æ˜¯åŒ…å«äº†ä¸åŒ¹é…ï¼Œæ­£æ˜¯å‰ç«¯èˆ‡å¾Œç«¯åˆå§‹å€¼ä¸åŒçš„éŒ¯èª¤ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964799_2110719e1c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘å°‡ä»‹ç´¹ Nuxt æä¾›çš„çµ„åˆå¼å‡½æ•¸ &lt;code>useState&lt;/code>ï¼Œä¾†å¯ä»¥è§£æ±ºé€™å€‹å•é¡Œã€‚&lt;/p>
&lt;h3 id="nuxt-3-çš„ç‹€æ…‹ç®¡ç†-state-management">Nuxt 3 çš„ç‹€æ…‹ç®¡ç† (State Management)&lt;/h3>
&lt;p>Nuxt æä¾›äº†ä¸€å€‹çµ„åˆå¼å‡½æ•¸ &lt;code>useState&lt;/code> ç”¨ä¾†å»ºç«‹å…·æœ‰éŸ¿æ‡‰å¼åŠå°æ–¼ SSR å‹å–„çš„å…±äº«ç‹€æ…‹ã€‚&lt;/p>
&lt;p>åœ¨å‰é¢çš„ä¾‹å­æˆ‘å€‘æåˆ°å› ç‚º &lt;strong>Hydration&lt;/strong> è€Œå°è‡´å‰å¾Œç«¯çš„åˆå§‹å€¼å¯èƒ½ä¸ä¸€è‡´ï¼Œè€Œ &lt;code>useState&lt;/code> æ˜¯ä¸€å€‹å° SSR å‹å–„çš„ &lt;code>ref&lt;/code> æ›¿ä»£å“ï¼Œä½¿ç”¨ &lt;code>useState&lt;/code> å»ºç«‹çš„éŸ¿æ‡‰å¼è®Šæ•¸ï¼Œå®ƒçš„å€¼æœƒåœ¨ä¼ºæœå™¨ç«¯æ¸²æŸ“å¾Œèˆ‡å®¢æˆ¶ç«¯ &lt;strong>Hydration&lt;/strong> æœŸé–“çš„å¾—ä»¥è¢«ä¿ç•™ã€‚&lt;/p>
&lt;p>&lt;code>useState&lt;/code> æœ‰å…©ç¨®æ¥æ”¶ä¸åŒæ•¸é‡åƒæ•¸çš„å‘¼å«æ–¹å¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useState&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="o">?:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">T&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useState&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="nx">key&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">init&lt;/span>&lt;span class="o">?:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">T&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nx">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Ref&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;strong>key&lt;/strong>ï¼šå”¯ä¸€éµï¼Œç”¨æ–¼ç¢ºä¿è³‡æ–™èƒ½è¢«æ­£ç¢ºè«‹æ±‚ä¸”ä¸é‡è¤‡ã€‚&lt;/li>
&lt;li>&lt;strong>init&lt;/strong>ï¼šç”¨æ–¼æä¾›çš„åˆå§‹å€¼çµ¦ State çš„å‡½æ•¸ï¼Œé€™å€‹å‡½æ•¸ä¹Ÿå¯ä»¥å›å‚³ä¸€å€‹ &lt;code>ref&lt;/code>ã€‚&lt;/li>
&lt;/ul>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæ–°å¢ &lt;strong>./pages/count.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescountvue-1">pages/count.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-9xl font-semibold text-emerald-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">round&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥ç™¼ç¾ï¼Œä½¿ç”¨ &lt;code>useState&lt;/code> åˆå§‹åŒ– count çš„å€¼å¾Œï¼Œç€è¦½å™¨é‡æ•´é é¢ï¼Œå°±ä¸åƒå‰é¢çš„ä¾‹å­æœƒç™¼ç”Ÿå…©æ¬¡çš„æ•¸å€¼è®Šå‹•ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698646_9098f6524f_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç•¶æˆ‘å€‘ä½¿ç”¨ &lt;code>useState&lt;/code> ä¸¦ä»¥ &lt;strong>count&lt;/strong> ç•¶ä½œ keyï¼Œåœ¨ç¶²é è«‹æ±‚é€²å…¥ä¼ºæœå™¨ç«¯åŸ·è¡Œæ™‚ï¼Œé‚„æ²’æœ‰é€™å€‹ &lt;strong>count&lt;/strong> ç‹€æ…‹ï¼Œæ‰€ä»¥åŸ·è¡Œäº†åˆå§‹åŒ–å‡½æ•¸ç”¢ç”Ÿå‡ºä¸€å€‹äº‚æ•¸ï¼Œä¾‹å¦‚ &lt;strong>888&lt;/strong> å°±æœƒå›å‚³çµ¦ &lt;strong>count&lt;/strong> ç•¶ä½œéŸ¿æ‡‰å¼è®Šæ•¸çš„åˆå§‹å€¼ï¼Œæ­¤æ™‚é€™å€‹ç¶²é è«‹æ±‚ï¼Œå·²ç¶“æœ‰ä¸€å€‹ &lt;strong>count&lt;/strong> çš„éŸ¿æ‡‰å¼ç‹€æ…‹ï¼Œç•¶å‰ç«¯æ–¼ &lt;strong>Hydration&lt;/strong> æ­¥é©Ÿå†æ¬¡çš„åŸ·è¡Œäº†ä¸‹é¢é€™æ®µç¨‹å¼ç¢¼ï¼Œ&lt;code>useState&lt;/code> ä¸€æ¨£æ˜¯ä»¥ &lt;strong>count&lt;/strong> ç•¶ä½œ &lt;strong>key&lt;/strong>ï¼Œä½†æ˜¯å­˜åœ¨äº†ä¸€å€‹ç”±ä¼ºæœå™¨ç«¯å»ºç«‹å¥½çš„ &lt;strong>count&lt;/strong>ï¼Œå°±æœƒç›´æ¥ä½¿ç”¨è©²ç‹€æ…‹ï¼Œä¹Ÿå°±ä¸æœƒåœ¨åŸ·è¡Œåˆå§‹åŒ–å‡½æ•¸ï¼Œè€Œå°è‡´å‰å¾Œç«¯çš„åˆå§‹ç‹€æ…‹ä¸ä¸€è‡´çš„å•é¡Œã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">round&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="usestate-çš„åŸºæœ¬ç”¨æ³•">useState çš„åŸºæœ¬ç”¨æ³•&lt;/h3>
&lt;p>æ–°å¢ &lt;strong>./pages/counter/increment.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescounterincrementvue">pages/counter/increment.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-9xl font-semibold text-sky-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8 flex flex-row&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-base mx-2 rounded-full bg-sky-500 px-4 py-2 text-xl text-white hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;counter++&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">å¢åŠ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-base mx-2 rounded-full bg-sky-500 px-4 py-2 text-xl text-white hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;counter--&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">æ¸›å°‘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-slate-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡é€²å…¥é€™å€‹é é¢&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">æ•¸å€¼åˆå§‹è¨­å®šç‚º&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å›é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘ä½¿ç”¨ &lt;code>useState&lt;/code> ä¸¦ä»¥ &lt;strong>counter&lt;/strong> ç•¶ä½œ keyï¼Œé¦–æ¬¡æ–¼å¾Œç«¯æ¸²æŸ“æ™‚æœƒåˆå§‹åŒ–ç‚º 0ï¼Œç•¶å‰ç«¯Hydration æ­¥é©Ÿè¼‰å…¥ Vue æˆ–è·³è½‰é é¢ï¼Œå› ç‚ºä½¿ç”¨ç›¸åŒçš„ key æ‰€ä»¥é€™å€‹ç‹€æ…‹ä¹Ÿæœƒç¹¼çºŒè¢«ä¿ç•™ï¼Œç›´è‡³æˆ‘å€‘ä¸‹ä¸€æ¬¡é‡æ–°æ•´ç†ç¶²é ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698666_a945fe9cc8_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="usestate-çš„å…±äº«ç‹€æ…‹">useState çš„å…±äº«ç‹€æ…‹&lt;/h3>
&lt;p>å‰é¢ &lt;code>useState&lt;/code> çš„åŸºæœ¬ç”¨æ³•ä»¥ &lt;code>counter&lt;/code> ç•¶ä½œ &lt;strong>key&lt;/strong>ï¼Œæˆ‘å€‘å¯ä»¥å†å»ºç«‹ä¸åŒçš„é é¢å…ƒä»¶ä¸¦ä½¿ç”¨ &lt;code>useState('counter')&lt;/code> å°±å¯ä»¥æŠŠé€™å€‹ç‹€æ…‹æ‹¿åšå‡ºä¾†ç”¨ï¼Œä¹Ÿå°±é”åˆ°äº†åœ¨ä»»ä½•å…ƒä»¶ä¸­å¯ä»¥å…±äº«ç›¸åŒçš„éŸ¿æ‡‰å¼ç‹€æ…‹ã€‚&lt;/p>
&lt;p>æ–°å¢ &lt;strong>./pages/counter/surprise.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescountersurprisevue">pages/counter/surprise.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-9xl font-semibold text-sky-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8 flex flex-row&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-base mx-2 rounded-full bg-sky-500 px-4 py-2 text-xl text-white hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;counter++&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">å¢åŠ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-base mx-2 rounded-full bg-sky-500 px-4 py-2 text-xl text-white hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;counter--&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">æ¸›å°‘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-slate-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡é€²å…¥é€™å€‹é é¢&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">æ•¸å€¼åˆå§‹è¨­å®šç‚ºäº‚æ•¸&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å›é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">round&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å¯ä»¥ä»»æ„å°èˆªè‡³ &lt;strong>/counter/increment&lt;/strong> èˆ‡ &lt;strong>/counter/surprise&lt;/strong> é é¢ï¼Œå¯ä»¥ç™¼ç¾å…©å€‹é é¢å¯ä»¥å…±äº«ç›¸åŒçš„ &lt;code>counter&lt;/code> ç‹€æ…‹ï¼Œç•¶é¦–æ¬¡é€²å…¥æˆ–é‡æ–°æ•´ç† &lt;strong>increment.vue&lt;/strong> é é¢ï¼Œæœƒå°‡ &lt;code>counter&lt;/code> åˆå§‹åŒ–ç‚º &lt;strong>0&lt;/strong>ï¼›è€Œé¦–æ¬¡é€²å…¥æˆ–é‡æ–°æ•´ç† &lt;code>surprise.vue&lt;/code> é é¢å‰‡æ˜¯ç”¢ç”Ÿä¸€å€‹äº‚æ•¸çµ¦äºˆ &lt;strong>counter&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616964824_e6466ee572_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç•¶ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥åœ¨å…¶ä»–å…ƒä»¶ä¸­ä½¿ç”¨ &lt;code>useState('counter')&lt;/code>ï¼Œå°±å¯ä»¥å–å¾—å…±äº«çš„éŸ¿æ‡‰å¼è£æ…‹ï¼Œä½†å¦‚æœé€™å€‹å…ƒä»¶æ˜¯åˆæ¬¡é€²å…¥è€Œæ²’æœ‰é è¨­å€¼çš„å»ºç«‹å‡½æ•¸ï¼Œå¯èƒ½æœƒå¼•ç™¼ä¸€äº›éŒ¯èª¤ï¼Œè¦ç‰¹åˆ¥çš„æ³¨æ„ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨çµ„åˆå¼å‡½æ•¸å»ºç«‹å…±äº«ç‹€æ…‹">ä½¿ç”¨çµ„åˆå¼å‡½æ•¸å»ºç«‹å…±äº«ç‹€æ…‹&lt;/h3>
&lt;p>å¦‚ä¸‹ä¾‹å­ï¼Œæˆ‘å€‘å¯ä»¥å»ºç«‹çµ„åˆå¼å‡½æ•¸ (Composables) ä¾†æ­é… &lt;code>useState&lt;/code>ã€‚&lt;/p>
&lt;p>æ–°å¢ &lt;strong>./composables/states.ts&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="composablesstatests">composables/states.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useColor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">string&lt;/span>&lt;span class="p">&amp;gt;(&lt;/span>&lt;span class="s1">&amp;#39;color&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="s1">&amp;#39;green&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ &lt;strong>./pages/color.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescolorvue">pages/color.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-9xl font-semibold text-emerald-400&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">color&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">color&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useColor&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†æˆ‘å€‘å®šç¾©å¥½çš„çµ„åˆå¼å‡½æ•¸å°±å¯ä»¥è¢«è‡ªå‹•çš„å°å…¥åŠå»ºç«‹å…·æœ‰é¡å‹å®‰å…¨çš„ç‹€æ…‹ï¼Œåœ¨å„å€‹å…ƒä»¶ä¹‹é–“å°±å¯ä»¥å‘¼å«é€™å€‹çµ„åˆå‡½æ•¸ä¾†å–å¾—å…±äº«ç‹€æ…‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617134505_9cb332e17c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>åœ¨é€šç”¨æ¸²æŸ“çš„æ¨¡å¼ä¹‹ä¸‹ï¼Œç€è¦½å™¨æ–¼ Hydration å®Œæˆå‰ï¼Œç¶²é é›–ç„¶èƒ½ç€è¦½ä½†æ˜¯å°šä¸å…·æœ‰äº’å‹•æ€§ï¼Œç›´è‡³ Hydration å®Œæˆå¾Œï¼ŒVue çš„é é¢å…ƒä»¶æœƒé‡æ–°è¼‰å…¥èˆ‡ç¶å®šï¼Œå› æ­¤æˆ‘å€‘å°æ–¼éŸ¿æ‡‰å¼çš„è®Šæ•¸ï¼Œå„˜é‡ä½¿ç”¨ &lt;code>useState&lt;/code> ä¾†æ›¿ä»£ &lt;code>ref&lt;/code> ä»¥ç¢ºä¿ Hydration å‰å¾Œçš„åˆå§‹å€¼å¾—ä»¥è¢«ä¿ç•™ï¼Œè€Œä¸” &lt;code>useState&lt;/code> å› ç‚ºå¯ä»¥ä½¿ç”¨ &lt;code>key&lt;/code> ä¾†ä½¿ç‹€æ…‹æ–¼å…ƒä»¶é–“å…±äº«ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ç‹€æ…‹ç®¡ç†---store--pinia">ç‹€æ…‹ç®¡ç† - Store &amp;amp; Pinia&lt;/h2>
&lt;p>ä¸Šè¿°æˆ‘å€‘ä»‹ç´¹äº†å¦‚ä½•åœ¨ Nuxt 3 ä½¿ç”¨ useState ä¾†å»ºç«‹ä¸€å€‹å…ƒä»¶é–“çš„å…±äº«ç‹€æ…‹ï¼Œéš¨è‘—å°ˆæ¡ˆçš„å¥å£¯å¢å¤§ï¼Œæˆ‘å€‘å°±éœ€è¦ä¸€å€‹æ›´å¥½çš„æ–¹å¼ä¾†ç®¡ç†èˆ‡å„²å­˜é€™äº›ç‹€æ…‹ï¼Œä¾‹å¦‚åœ¨ Vue ä¸­ä½¿ç”¨ &lt;a class="link" href="https://vuex.vuejs.org/" target="_blank" rel="noopener"
>Vuex&lt;/a> æˆ– &lt;a class="link" href="https://pinia.vuejs.org/" target="_blank" rel="noopener"
>Pinia&lt;/a> ä¾†å»ºç«‹ä¸€å€‹ Store ç®¡ç†é€™äº›ç‹€æ…‹å°±æ˜¯ä¸€å€‹è§£æ±ºæ–¹æ¡ˆã€‚å¦‚æœä½ é‚„ä¸äº†è§£ &lt;a class="link" href="https://pinia.vuejs.org/" target="_blank" rel="noopener"
>Pinia&lt;/a>ï¼Œå¯ä»¥ç†è§£ç‚ºæ˜¯ Vuex v5ã€‚å› ç‚ºç›®å‰ &lt;a class="link" href="https://pinia.vuejs.org/" target="_blank" rel="noopener"
>Pinia&lt;/a> å·²ç¶“æˆç‚º Vue å®˜æ–¹æ¨è–¦çš„ç‹€æ…‹ç®¡ç†è§£æ±ºæ–¹æ¡ˆï¼Œæœ¬ç¯‡å°‡é‡å° Nuxt ä½¿ç”¨ &lt;a class="link" href="https://pinia.vuejs.org/" target="_blank" rel="noopener"
>Pinia&lt;/a> åšä¸€å€‹ç°¡å–®çš„ä»‹ç´¹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616698686_1ffe5c9e82_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="pinia">Pinia&lt;/h3>
&lt;p>å¦‚æœä½ ä½¿ç”¨é Vuex å¤§æ¦‚æœƒçŸ¥é“ Vue å¦‚ä½•å»ºç«‹ Store ä¾†åšç‹€æ…‹ç®¡ç†ï¼Œéš¨è‘—æ™‚é–“ Vuex å¾ˆç©æ¥µçš„è’é›†ç¤¾ç¾¤åŠä½¿ç”¨è€…çš„&lt;a class="link" href="https://github.com/vuejs/rfcs/discussions/270" target="_blank" rel="noopener"
>æ„è¦‹&lt;/a>ä¾†è¦åŠƒ Vuex v5ã€‚Pinia çš„ä½œè€… &lt;a class="link" href="https://github.com/posva" target="_blank" rel="noopener"
>Eduardo&lt;/a> æ˜¯ Vue.js æ ¸å¿ƒåœ˜éšŠçš„æˆå“¡ä¹‹ä¸€ï¼Œä¹Ÿåƒèˆ‡è‘— Vuex çš„é–‹ç™¼ï¼Œç•¶æ™‚ä»–æ­£æ¸¬è©¦è‘— Vuex v5 çš„&lt;a class="link" href="https://github.com/kiaking/rfcs/blob/vuex-5/active-rfcs/0000-vuex-5.md" target="_blank" rel="noopener"
>ææ¡ˆ&lt;/a>ï¼Œè€Œ &lt;a class="link" href="https://pinia.vuejs.org/" target="_blank" rel="noopener"
>Pinia&lt;/a> æˆç‚ºæ¢ç´¢é€™äº›æ„è¦‹åŠå¯èƒ½æ€§çš„å…ˆé©…ï¼Œå¯¦ç¾äº† Vuex v5 å¯èƒ½çš„æ¨£å­ï¼Œç¾åœ¨ Pinia çš„ API å·²ç¶“é€²å…¥ç©©å®šç‹€æ…‹ï¼Œä¹Ÿæˆç‚º Vue å®˜æ–¹æ¨è–¦ä½¿ç”¨çš„ç‹€æ…‹ç®¡ç†è§£æ±ºæ–¹æ¡ˆï¼Œä¸¦éµå¾ªè‘— Vue ç”Ÿæ…‹çš„ RFC æµç¨‹ã€‚&lt;/p>
&lt;p>Pinia ç›¸è¼ƒæ–¼ Vuex æœ‰ä»¥ä¸‹å·®ç•°ï¼š&lt;/p>
&lt;ul>
&lt;li>æ²’æœ‰ &lt;code>mutation&lt;/code>ï¼Œåªéœ€è¦ä½¿ç”¨ &lt;code>action&lt;/code> å°±å¯ä»¥æ”¹ç‹€æ…‹ã€‚&lt;/li>
&lt;li>ä¸å†æœ‰ &lt;code>modules&lt;/code> å·¢ç‹€çš„çµæ§‹ï¼Œä¹Ÿä¸å†éœ€è¦ç‚ºæ¨¡çµ„å®šç¾©å‘½åç©ºé–“ï¼Œå› ç‚ºåœ¨ Pinia ä¸­ï¼Œå¯ä»¥å®šç¾©å¤šå€‹ Store è€Œä¸”æ¯å€‹éƒ½æ˜¯ç¨ç«‹çš„ä¹Ÿéƒ½å…·æœ‰è‡ªå·±çš„å‘½åç©ºé–“ã€‚&lt;/li>
&lt;li>æ›´å®Œæ•´çš„æ”¯æ´ TypeSctiptï¼Œä¹Ÿä¸å†éœ€è¦ä½¿ç”¨å¤šé¤˜çš„ types ä¾†å°è£ï¼Œæ‰€æœ‰çš„å…§å®¹éƒ½æ˜¯é¡å‹åŒ–çš„ï¼ŒPinia API çš„è¨­è¨ˆæ–¹å¼ç›¡å¯èƒ½ä½¿ç”¨ TypeSctipt é¡å‹æ¨æ–·ã€‚&lt;/li>
&lt;li>éå¸¸è¼•å·§ï¼Œç´„åƒ…æœ‰ 1 KBï¼Œè€Œä¸”å¯ä»¥è‡ªå®šç¾©æ’ä»¶ã€‚&lt;/li>
&lt;li>æ”¯æ´ä¼ºæœå™¨ç«¯æ¸²æŸ“ (SSR) èˆ‡ç¨‹å¼ç¢¼è‡ªå‹•æ‹†åˆ†ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="nuxt-3-å®‰è£-pinia">Nuxt 3 å®‰è£ Pinia&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D pinia @pinia/nuxt --force
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D pinia @pinia/nuxt --force&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ç›®å‰ç…§è‘—å®˜æ–¹å®‰è£ Piniaï¼Œæœƒç™¼ç”Ÿä¸€äº›å•é¡Œï¼Œæ‰€ä»¥æˆ‘å€‘åœ¨å®‰è£æ™‚åŠ ä¸Š &lt;strong>&amp;ndash;force&lt;/strong> åƒæ•¸&lt;/p>
&lt;/blockquote>
&lt;p>æ·»åŠ  &lt;code>@pinia/nuxt&lt;/code> è‡³ &lt;code>nuxt.config.ts&lt;/code> çš„ &lt;strong>modules&lt;/strong> å±¬æ€§ä¸­ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts-3">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">module&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;@pinia/nuxt&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å»ºç«‹ç¬¬ä¸€å€‹-pinia-çš„-store">å»ºç«‹ç¬¬ä¸€å€‹ Pinia çš„ Store&lt;/h3>
&lt;p>Pinia æä¾›äº†ä¸€å€‹å‡½æ•¸ &lt;code>defineStore&lt;/code> ç”¨ä¾†å®šç¾© storeï¼Œå‘¼å«æ™‚éœ€è¦ä¸€å€‹å”¯ä¸€çš„åç¨±ä¾†ç•¶ä½œç¬¬ä¸€å€‹åƒæ•¸å‚³éï¼Œä¹Ÿç¨±ä¹‹ç‚º &lt;code>id&lt;/code>ï¼ŒPinia æœƒä½¿ç”¨å®ƒä¾†å°‡ store é€£æ¥åˆ° devtoolsã€‚&lt;/p>
&lt;p>å»ºè­°å°‡å›å‚³çš„å‡½æ•¸å‘½åç‚º &lt;code>use...&lt;/code>ï¼Œä¾‹å¦‚ &lt;code>useCounterStore&lt;/code>ï¼Œ&lt;code>use&lt;/code> ä½œç‚ºé–‹é ­æ˜¯çµ„åˆå¼å‡½æ•¸å‘½åçš„ç´„å®šï¼Œä¾†ç¬¦åˆä½¿ç”¨ä¸Šçš„ç¿’æ…£ã€‚&lt;/p>
&lt;p>è€Œ &lt;code>defineStore&lt;/code> çš„ç¬¬äºŒå€‹åƒæ•¸ï¼Œå¯ä»¥å‚³å…¥ &lt;code>Options ç‰©ä»¶&lt;/code>æˆ–æ˜¯ &lt;code>Setup å‡½æ•¸&lt;/code>ï¼Œä¾‹å¦‚æˆ‘å€‘ä½¿ç”¨ Options ä¾†å®šç¾©ä¸€å€‹ Storeï¼Œæ–°å¢ &lt;strong>./stores/counter.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="storescounterjs">stores/counter.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useCounterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">actions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">decrement&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getters&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doubleCount&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥ç™¼ç¾åˆ°èˆ‡ Vue çš„ Options API éå¸¸é¡ä¼¼ï¼Œæˆ‘å€‘å¯ä»¥å‚³éå¸¶æœ‰ &lt;strong>state&lt;/strong>ã€&lt;strong>actions&lt;/strong> å’Œ &lt;strong>getters&lt;/strong> å±¬æ€§çš„ç‰©ä»¶ã€‚é€™äº›å±¬æ€§æ­£å¥½è®“ Store èˆ‡ Options API å‘¼æ‡‰å½¼æ­¤çš„é—œä¿‚ï¼Œå¦‚ &lt;strong>state&lt;/strong> å°æ‡‰ &lt;strong>data&lt;/strong>ã€&lt;strong>actions&lt;/strong> å°æ‡‰ &lt;strong>methods&lt;/strong> è€Œ &lt;strong>getters&lt;/strong> å°æ‡‰ &lt;strong>computed&lt;/strong>ã€‚&lt;/p>
&lt;p>é‚„æœ‰å¦ä¸€ç¨®æ–¹å¼å¯ä»¥ä¾†å®šç¾© Storeï¼Œèˆ‡ Vue Composition API çš„ setup å‡½æ•¸é¡ä¼¼ï¼Œæˆ‘å€‘å¯ä»¥å‚³å…¥ä¸€å€‹å‡½æ•¸ï¼Œé€™å€‹å‡½æ•¸è£¡é¢å®šç¾©éŸ¿æ‡‰å¼å±¬æ€§ã€æ–¹æ³•ç­‰å‡½æ•¸ï¼Œæœ€å¾Œå›å‚³æˆ‘å€‘æƒ³å…¬é–‹çš„å±¬æ€§å’Œæ–¹æ³•æ‰€çµ„æˆçš„ç‰©ä»¶ã€‚&lt;/p>
&lt;p>ä»¥ setup å‡½æ•¸å®šç¾© counter storeï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useCounterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">increment&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">decrement&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">doubleCount&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">decrement&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doubleCount&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é–‹å§‹ä½¿ç”¨-store">é–‹å§‹ä½¿ç”¨ Store&lt;/h3>
&lt;p>æˆ‘å€‘åªéœ€è¦åœ¨å…ƒä»¶ä¸­ï¼Œå¦‚ä¸‹ç¨‹å¼ç¢¼åŒ¯å…¥ä¸¦å‘¼å« &lt;code>useCounterStore()&lt;/code> å°±å¯ä»¥æ“ä½œ store è£¡é¢çš„æ–¹æ³•æˆ–å±¬æ€§å›‰ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useCounterStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/stores/counter&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCounterStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘æ–°å¢ä¸€å€‹é é¢å…ƒä»¶ &lt;strong>./pages/counter.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescountervue">pages/counter.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-9xl font-semibold text-sky-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">counterStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8 flex flex-row&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-base mx-2 rounded-full bg-sky-500 px-4 py-2 text-xl text-white hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;counterStore.increment&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">å¢åŠ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;font-base mx-2 rounded-full bg-sky-500 px-4 py-2 text-xl text-white hover:bg-sky-600 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;counterStore.decrement&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">æ¸›å°‘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å›é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useCounterStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/stores/counter&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCounterStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ¨£æˆ‘å€‘å°±å®Œæˆäº†ä¸€å€‹ store çš„é¡¯ç¤ºç‹€æ…‹å€¼ï¼Œé€éå‘¼å« &lt;code>counterStore&lt;/code> å…§å®šç¾©çš„ &lt;strong>increment&lt;/strong> èˆ‡ &lt;strong>decrement&lt;/strong> ä¾†æ”¹è®Šç‹€æ…‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188807_576821f99a_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>åœ¨ä¸åŒçš„å…ƒä»¶é–“ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code>useCounterStore&lt;/code> å–å¾—å·²ç¶“å»ºç«‹å¥½çš„ store ä¾†å…±äº«é€™äº›ç‹€æ…‹æˆ–é€²è¡Œæ“ä½œã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617187013_1e1f4c217e_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="pinia-store-çš„-state">Pinia Store çš„ State&lt;/h3>
&lt;p>é è¨­æƒ…æ³ä¸‹ï¼Œå¯ä»¥ç›´æ¥å° store çš„å¯¦ä¾‹ä¾†å–å¾—ç‹€æ…‹ï¼Œè€Œä½¿ç”¨ Pinia å®šç¾©çš„ store æ¯”è¼ƒç‰¹åˆ¥çš„æ˜¯ï¼Œæˆ‘å€‘å¯ä»¥ä¸ç”¨é€éå‘¼å«å‡½æ•¸ä¾†ä¿®æ”¹ç‹€æ…‹ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å° store çš„ç‹€æ…‹é€²è¡Œä¿®æ”¹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCounterStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">counterStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ”¹è®Šç‹€æ…‹">æ”¹è®Šç‹€æ…‹&lt;/h4>
&lt;p>é™¤äº†ç›´æ¥ä½¿ç”¨ &lt;code>counterStore.count += 10&lt;/code> ä¿®æ”¹ storeï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ store æä¾›çš„ helper &lt;code>$patch&lt;/code> ä¾†ä¿®æ”¹éƒ¨åˆ†çš„ç‹€æ…‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">userStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$patch&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Ryan&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">money&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;88888888&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°æ–¼é›†åˆé¡å‹çš„ä¿®æ”¹ï¼Œä¾‹å¦‚é™£åˆ—çš„æ–°å¢ã€åˆªé™¤æˆ–æŒ‡å®šä¿®æ”¹æŸä¸€å€‹å…ƒç´ ç­‰æ“ä½œï¼Œä½ å¯ä»¥ä½¿ç”¨ &lt;code>$patch&lt;/code> å‚³å…¥ä¸€å€‹å‡½æ•¸ï¼Œé€™å€‹å‡½æ•¸æœƒæ¥æ”¶ä¸€å€‹ &lt;code>state&lt;/code> è®“ä½ å¯ä»¥ä¿®æ”¹ï¼Œå°æ–¼æ¯”è¼ƒè¤‡é›œçš„æ“ä½œæœƒå¾ˆæ–¹ä¾¿ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">cartStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$patch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">items&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;shoes&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">quantity&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">hasChanged&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœä½ éœ€è¦ï¼Œä¹Ÿå¯ä»¥å°‡ store çš„æ•´å€‹ state é‡æ–°è¨­ç½®æˆä¸€å€‹æ–°çš„ç‰©ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">cartStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">items&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">hasChanged&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="é‡ç½®ç‹€æ…‹">é‡ç½®ç‹€æ…‹&lt;/h4>
&lt;p>store çš„å¯¦ä¾‹æä¾›äº†ä¸€å€‹ &lt;code>$reset()&lt;/code> çš„ helperï¼Œå‘¼å«å®ƒå°±å¯ä»¥å°‡ store çš„ç‹€æ…‹é‡ç½®è‡³åˆå§‹å€¼ï¼Œä¸éç›®å‰åªåœ¨ä½¿ç”¨ Option ç‰©ä»¶å®šç¾©çš„ store æ‰æœ‰å¯¦ä½œã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCounterStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">counterStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$reset&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="pinia-store-çš„-getters">Pinia Store çš„ Getters&lt;/h3>
&lt;h4 id="ä½¿ç”¨åŒä¸€å€‹-store-ä¸­çš„å…¶ä»–-getter">ä½¿ç”¨åŒä¸€å€‹ store ä¸­çš„å…¶ä»– getter&lt;/h4>
&lt;p>åœ¨ store å…§ä½ å¯ä»¥çµ„åˆå¤šå€‹ getterï¼Œåœ¨ Option ç‰©ä»¶ä¸‹ï¼Œå¯ä»¥é€éä½¿ç”¨ &lt;code>this&lt;/code> ä¾†å‘¼å«ä½¿ç”¨å…¶ä»–çš„ getterã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;main&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getters&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doubleCount&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">counter&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doubleCountPlusOne&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">doubleCount&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä½¿ç”¨å…¶ä»–-store-çš„-getter">ä½¿ç”¨å…¶ä»– store çš„ getter&lt;/h4>
&lt;p>åœ¨ store å…§ä½ ä¹Ÿå¯ä»¥çµ„åˆå…¶ä»– store çš„ getterï¼Œåªè¦å»ºç«‹å‡ºå…¶ä»– store å¯¦ä¾‹å°±å¯ä»¥å‘¼å«ä½¿ç”¨äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useOtherStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./other-store&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;main&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getters&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">otherGetter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">otherStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useOtherStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">localData&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">otherStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="pinia-store-çš„-actions">Pinia Store çš„ Actions&lt;/h4>
&lt;p>Actions ç›¸ç•¶æ–¼å…ƒä»¶ä¸­çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯ä¿®æ”¹ç‹€æ…‹çš„å•†æ¥­é‚è¼¯å®šç¾©çš„ä½ç½®ï¼Œaction å¯ä»¥æ˜¯åŒæ­¥ä¹Ÿå¯ä»¥æ˜¯ç•°æ­¥çš„ï¼Œå› æ­¤ï¼Œæˆ‘å€‘ä¹Ÿèƒ½åœ¨ action ä¸­æ‰“å¾Œç«¯ API ä¾†å–å¾—è³‡æ–™å¾Œæ›´æ–°ç‹€æ…‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useUserStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;user&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">profile&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">actions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">async&lt;/span> &lt;span class="nx">getUserProfile&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/profile&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">profile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">error&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="store-çš„è§£æ§‹">Store çš„è§£æ§‹&lt;/h3>
&lt;p>æœ‰äº›æƒ…æ³ï¼Œä½ å¯èƒ½éœ€è¦å°‡ Store ä¸­çš„å±¬æ€§æˆ–æ–¹æ³•ç¨ç«‹çš„æå–å‡ºä¾†ï¼Œä½†ç‚ºäº†ä¿æŒå±¬æ€§çš„éŸ¿æ‡‰æ€§ï¼Œä½ éœ€è¦ä½¿ç”¨ &lt;code>storeToRefs&lt;/code> ä¾†å»ºç«‹å±¬æ€§çš„åƒè€ƒï¼Œå°±åƒä½¿ç”¨ &lt;code>toRefs&lt;/code> ä¾†å»ºç«‹ &lt;code>props&lt;/code> çš„åƒè€ƒä¸€æ¨£ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">storeToRefs&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">useCounterStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/stores/counter&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCounterStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">storeToRefs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">counterStore&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">increment&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">decrement&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">counterStore&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="pinia-æŒä¹…åŒ–æ’ä»¶---pinia-plugin-persistedstate">Pinia æŒä¹…åŒ–æ’ä»¶ - Pinia Plugin Persistedstate&lt;/h2>
&lt;p>Pinia æ˜¯å€‹éå¸¸è¼•é‡çš„ç‹€æ…‹ç®¡ç†è§£æ±ºæ–¹æ¡ˆï¼Œè€Œä¸”ä¹Ÿæä¾›åº•å±¤ API ä½¿å¾— Pinia èƒ½å¤ è‡ªå®šç¾©æ’ä»¶ä¾†æ“´å±•åŠŸèƒ½ï¼Œèˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘æœ‰äº›ç‹€æ…‹éœ€è¦å„²å­˜åœ¨ä½¿ç”¨è€…ç€è¦½å™¨ä¸­ï¼Œä¸‹æ¬¡å†ç€è¦½æ™‚å¯ä»¥å–çš„ç•¶æ™‚å„²å­˜çš„ç‹€æ…‹è³‡æ–™ï¼Œæˆ‘å€‘å°±éœ€è¦å°‡ store çš„ç‹€æ…‹æŒä¹…åŒ–ã€‚&lt;/p>
&lt;p>æˆ‘å€‘å¯ä»¥ä½¿ç”¨ &lt;a class="link" href="https://github.com/prazdevs/pinia-plugin-persistedstate" target="_blank" rel="noopener"
>Pinia Plugin Persistedstate&lt;/a> é€™å€‹æ’ä»¶ï¼Œä¾†åšåˆ°æŒä¹…åŒ–é€™ä»¶äº‹ï¼Œé€™å°æ–¼å„²å­˜ä½¿ç”¨è€…è³‡è¨Šæˆ–ç™»å…¥ç‹€æ…‹éå¸¸çš„æ–¹ä¾¿ã€‚&lt;/p>
&lt;h3 id="åœ¨-nuxt-3-ä¸­é…ç½®ä½¿ç”¨-pinia-plugin-persistedstate">åœ¨ Nuxt 3 ä¸­é…ç½®ä½¿ç”¨ Pinia Plugin Persistedstate&lt;/h3>
&lt;h4 id="step-1-å®‰è£å¥—ä»¶-2">Step 1. å®‰è£å¥—ä»¶&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D pinia-plugin-persistedstate --force
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D pinia-plugin-persistedstate --force&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ç›®å‰ç…§è‘—å®˜æ–¹å®‰è£ Piniaï¼Œæœƒç™¼ç”Ÿä¸€äº›å•é¡Œï¼Œæ‰€ä»¥æˆ‘å€‘åœ¨å®‰è£æ™‚åŠ ä¸Š &lt;strong>&amp;ndash;force&lt;/strong> åƒæ•¸&lt;/p>
&lt;/blockquote>
&lt;h4 id="step-2-åœ¨-nuxt-3-ç‚º-pinia-æ·»åŠ -persist-æ’ä»¶">Step 2. åœ¨ Nuxt 3 ç‚º Pinia æ·»åŠ  Persist æ’ä»¶&lt;/h4>
&lt;p>å»ºç«‹ &lt;strong>./plugins/pinia-plugin-persistedstate.client.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pluginspinia-plugin-persistedstateclientjs">plugins/pinia-plugin-persistedstate.client.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">piniaPersistedstate&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia-plugin-persistedstate&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtPlugin&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$pinia&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">piniaPersistedstate&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-3-ç‚ºä½ çš„-store-æ·»åŠ æŒä¹…åŒ–é…ç½®">Step 3. ç‚ºä½ çš„ Store æ·»åŠ æŒä¹…åŒ–é…ç½®&lt;/h4>
&lt;p>åœ¨ç¾æœ‰çš„ store å®šç¾©ä¸­æ·»åŠ ï¼Œ&lt;code>persist&lt;/code> å±¬æ€§ï¼Œä¾†é…ç½® store æŒä¹…åŒ–ï¼Œå°‡ç‹€æ…‹å„²å­˜åœ¨ç€è¦½å™¨çš„ &lt;code>localStorage&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useCounterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">actions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">decrement&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getters&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doubleCount&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">count&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">persist&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">enabled&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">strategies&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">key&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">storage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">client&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nx">localStorage&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœæ˜¯ä½¿ç”¨ setup å‡½æ•¸å®šç¾© storeï¼Œä½ å¯ä»¥åœ¨ defineStore å‚³å…¥ç¬¬ä¸‰å€‹åƒæ•¸ä¸¦æ·»åŠ  &lt;code>persist&lt;/code> å±¬æ€§ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineStore&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;pinia&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">useCounterStore&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineStore&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">increment&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">decrement&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">doubleCount&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">computed&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">increment&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">decrement&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">doubleCount&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">persist&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">enabled&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">strategies&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">key&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">storage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">client&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nx">localStorage&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="step-4-æŒä¹…åŒ–æ•ˆæœ">Step 4. æŒä¹…åŒ–æ•ˆæœ&lt;/h4>
&lt;p>ç•¶æˆ‘å€‘è¨­ç½®å¥½ counterStore çš„æŒä¹…åŒ–å¾Œï¼Œæˆ‘å€‘çš„ç‹€æ…‹å°±æœƒè¢«å„²å­˜åœ¨ç€è¦½å™¨çš„ &lt;code>localStorage&lt;/code> ä¹‹ä¸­ï¼Œå°±ç®—é—œé–‰ç€è¦½å™¨æˆ–é‡æ–°æ•´ç†ç¶²é ï¼Œstore çš„ç‹€æ…‹éƒ½æœƒå†å¾ &lt;code>localStorage&lt;/code> è®€å–å‡ºä¾†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617187033_e0fd11b0a5_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>åœ¨å°å‹çš„å°ˆæ¡ˆä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ useState ä¾†ç®¡ç†ï¼Œä½†å¤§å°ˆæ¡ˆä½ å°±éœ€è¦ä¸€å€‹æ›´å¥½çš„æ–¹å¼ä¾†ç®¡ç†é€™äº›ç‹€æ…‹ï¼Œå¦‚ Pinia ä¾†ç‚ºæˆ‘å€‘ç®¡ç†é€™äº›ç‹€æ…‹ï¼Œç”šè‡³å®šç¾©å¤šå€‹ storeï¼ŒPinia æ”¯æ´çš„æ’ä»¶èƒ½å”åŠ©æˆ‘å€‘æ“´å±• Pinia çš„åŠŸèƒ½ï¼ŒPinia Plugin Persistedstate å°±æ˜¯ä¸€å€‹å¾ˆå¸¸ç”¨çš„æ’ä»¶ï¼Œèƒ½å”åŠ©æˆ‘å€‘å°‡ Pinia çš„ç‹€æ…‹æŒä¹…åŒ–è‡³ç€è¦½å™¨çš„ &lt;code>localStorage&lt;/code> æˆ– &lt;code>sessionStorage&lt;/code> ä¸­ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="runtime-config--app-config">Runtime Config &amp;amp; App Config&lt;/h2>
&lt;p>åœ¨ Nuxt 3 ä¸­æä¾›äº†å…©ç¨®å¯ä»¥æ–¹å¼è¨­å®šç’°å¢ƒè®Šæ•¸æˆ–å‰ç«¯éœ€è¦ä½¿ç”¨çš„å…±ç”¨è¨­å®šï¼Œåˆ†åˆ¥æ˜¯åœ¨ Nuxt å•Ÿå‹•æ™‚æœƒåœ¨å¾Œç«¯è¼‰å…¥ä½¿ç”¨çš„ Runtime Config åŠå¯ä»¥åœ¨å‰ç«¯è¢«ä½¿ç”¨çš„ App Config é€™å…©è€…é–“çš„å€åˆ¥é€™é‚Šåšä¸€äº›è¬›è§£ã€‚&lt;/p>
&lt;h3 id="runtime-config">Runtime Config&lt;/h3>
&lt;p>åœ¨é–‹ç™¼ç¶²ç«™æˆ–éƒ¨ç½²æ™‚ï¼Œæˆ‘å€‘ç¸½æ˜¯æœ‰ä¸€äº›ç’°å¢ƒè®Šæ•¸éœ€è¦åšè¨­ç½®ï¼Œ&lt;a class="link" href="https://github.com/motdotla/dotenv" target="_blank" rel="noopener"
>dotenv&lt;/a> å°±æ˜¯ä¸€å€‹å¾ˆå¥½ç”¨çš„å¥—ä»¶ï¼Œèƒ½å¹«åŠ©æˆ‘å€‘å°‡å°ˆæ¡ˆä¸‹çš„ &lt;code>.env&lt;/code> æª”æ¡ˆè¼‰å…¥åˆ° Node.js çš„ &lt;code>process.env&lt;/code> ä¹‹ä¸­ï¼Œå°¤å…¶åœ¨å¾Œç«¯ä¼ºæœå™¨çš„ API é–‹ç™¼ï¼Œé€™äº›ä¸èƒ½å…¬é–‹æˆ–æ•æ„Ÿçš„ Key æˆ–è¨­å®šå€¼ï¼Œé€šå¸¸ä¸æœƒèˆ‡æ•´å€‹å°ˆæ¡ˆä¸€èµ·é€²è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œè€Œæ˜¯é‡å°ä¸åŒç’°å¢ƒèˆ‡æ©Ÿå™¨ï¼Œé…ç½®æ–¼ &lt;code>.env&lt;/code> æˆ–ç’°å¢ƒè®Šæ•¸ä¹‹ä¸­ã€‚&lt;/p>
&lt;p>é€™å€‹ &lt;code>.env&lt;/code> è¨­å®šæª”å…§çš„ç’°å¢ƒè®Šæ•¸ï¼Œä¾‹å¦‚ï¼šè³‡æ–™åº«çš„å¸³è™Ÿå¯†ç¢¼ã€ç¬¬ä¸‰æ–¹æœå‹™çš„ Token æˆ– API Key &amp;hellip;ç­‰ï¼Œé€šå¸¸åªæœƒåœ¨ä¼ºæœå™¨è¢«è®€å–åšä½¿ç”¨ï¼Œä¹Ÿä¸æœƒæ´©æ¼é€™äº›è¨­å®šçµ¦ä½¿ç”¨è€…çŸ¥é“ï¼Œæˆ‘å€‘ä¹Ÿç¨±ä¹‹ç‚º&lt;code>åŸ·è¡Œæ™‚çš„è¨­å®š (Runtime Config)&lt;/code>ã€‚&lt;/p>
&lt;p>Nuxt 3 æä¾›äº†å¯ä»¥è¨­å®š &lt;strong>Runtime Config&lt;/strong> çš„æ–¹å¼ï¼Œæˆ‘å€‘å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¾†è¨­å®šé€™äº›ç’°å¢ƒè®Šæ•¸çµ¦äºˆä¼ºæœå™¨åŸ·è¡Œæ™‚ä½¿ç”¨ã€‚&lt;/p>
&lt;h4 id="é…ç½®-runtimeconfig">é…ç½® runtimeConfig&lt;/h4>
&lt;p>æˆ‘å€‘å¯ä»¥åœ¨ &lt;code>nuxt.config.ts&lt;/code> ä¸­æ·»åŠ  &lt;code>runtimeConfig&lt;/code> å±¬æ€§ï¼Œå°±å¯ä»¥ä¾†è¨­å®šåªæœ‰ä¼ºæœå™¨ç«¯å¯ä»¥ä½¿ç”¨çš„ç’°å¢ƒè®Šæ•¸ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œåœ¨ &lt;strong>nuxt.config.ts&lt;/strong> æª”æ¡ˆä¸­ï¼Œæ·»åŠ ä¸€å€‹ &lt;code>apiSecret&lt;/code> è‡³ &lt;code>runtimeConfig&lt;/code> å±¬æ€§å…§ï¼š&lt;/p>
&lt;h5 id="nuxtconfigts-4">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiSecret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ€éº¼å¯ä»¥è®“ä½ çŸ¥é“å‘¢ :P&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°±å¯ä»¥åœ¨ Server API ä½¿ç”¨ &lt;code>useRuntimeConfig()&lt;/code> ç²å¾—åŸ·è¡Œæ™‚çš„è¨­å®šï¼Œå†å¾ä¸­å–å¾— &lt;code>apiSecret&lt;/code> ç’°å¢ƒè®Šæ•¸ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">apiSecret&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`æ¥æ”¶åˆ°äº†ä¸€å€‹ Server API è«‹æ±‚: &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">req&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`åŸ·è¡Œæ™‚çš„ç’°å¢ƒè®Šæ•¸ [apiSecret]: &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">apiSecret&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s1">&amp;#39;ok&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› ç‚ºæˆ‘å€‘æ˜¯å®šç¾©åœ¨ Server APIï¼Œæ‰€ä»¥å¯ä»¥åœ¨æ¸¬è©¦ä¼ºæœå™¨å•Ÿå‹•çš„ Terminal çœ‹è¦‹ console.log çš„çµæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617187068_2610474e64_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ­¤å¤–ä½ ä¹Ÿå¯ä»¥åœ¨æ’ä»¶æˆ– Vue ä¸­ä½¿ç”¨ &lt;code>useRuntimeConfig()&lt;/code> ä¾†å–å¾—åŸ·è¡Œæ™‚çš„è¨­ç½®ï¼Œä½†ä¹Ÿåƒ…åœ¨ &lt;strong>setup&lt;/strong> æˆ– &lt;strong>Nuxt Lifecycle Hooks&lt;/strong> ä¸­æœ‰æ•ˆã€‚&lt;/p>
&lt;h4 id="å®¢æˆ¶ç«¯ä½¿ç”¨-runtimeconfig">å®¢æˆ¶ç«¯ä½¿ç”¨ runtimeConfig&lt;/h4>
&lt;p>é€šå¸¸ä¸€äº›å¯†é‘°æˆ–æ•æ„Ÿè³‡è¨Šï¼Œæˆ‘å€‘éƒ½æœƒå®šç¾©åœ¨ &lt;code>runtimeConfig&lt;/code> åƒ…ä¾›ä¼ºæœå™¨ç«¯åšä½¿ç”¨ï¼Œè€Œ &lt;code>runtimeConfig&lt;/code> ä¹Ÿå¯ä»¥é…ç½®ä¸€å€‹ &lt;code>public&lt;/code> çš„å±¬æ€§ï¼Œä¾†æŠŠä¸€äº›ç’°å¢ƒè®Šæ•¸æ–¼ä¼ºæœå™¨ç«¯æˆ–å®¢æˆ¶ç«¯åšä½¿ç”¨ï¼Œä¾‹å¦‚ï¼ŒAPI çš„ Base URL é€™é¡åœ¨ä¼ºæœå™¨ç«¯æ‰“ API æ™‚æœƒéœ€è¦ä½¿ç”¨ï¼Œè€Œå®¢æˆ¶ç«¯çš„æ“ä½œæµç¨‹ä¹Ÿæœƒæ‰“åŒæ¨£çš„ API ä½ç½®ï¼Œæˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨ &lt;code>public&lt;/code> çš„å±¬æ€§ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œåœ¨ &lt;strong>nuxt.config.ts&lt;/strong> æª”æ¡ˆä¸­ï¼Œæ·»åŠ ä¸€å€‹ &lt;code>apiBase&lt;/code> è‡³ &lt;code>runtimeConfig.public&lt;/code> å±¬æ€§å…§ï¼š&lt;/p>
&lt;h5 id="nuxtconfigts-5">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiSecret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ€éº¼å¯ä»¥è®“ä½ çŸ¥é“å‘¢ :P&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">public&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiBase&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/api&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–°å¢ &lt;strong>./pages/profile.vue&lt;/strong> é é¢ï¼š&lt;/p>
&lt;h5 id="pagesprofilevue">pages/profile.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-24 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-2xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å›å‚³è³‡æ–™&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-3xl font-semibold text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">apiBase&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">public&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">toRaw&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">apiBase&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">/hello`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ·»åŠ åœ¨ &lt;code>runtimeConfig.public&lt;/code> å±¬æ€§çš„ç’°å¢ƒè®Šæ•¸ï¼Œåœ¨ä¼ºæœå™¨ç«¯èˆ‡å®¢æˆ¶ç«¯éƒ½å¯ä»¥è®€å–å¾—åˆ°ã€‚&lt;/p>
&lt;p>ä¸‹åœ–ä¸­å¯ä»¥ç™¼ç¾ï¼Œåœ¨ç€è¦½å™¨ä¸­çš„ Console æ‰€å°å‡ºçš„ &lt;code>runtimeConfig&lt;/code> æ˜¯ä¸æœƒåŒ…å«åƒ…æœ‰åœ¨ä¼ºæœå™¨ç«¯èƒ½ä½¿ç”¨çš„ &lt;code>apiSecret&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617134565_8558d435e9_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="ä½¿ç”¨-env-å»ºç«‹ç’°å¢ƒè®Šæ•¸">ä½¿ç”¨ .env å»ºç«‹ç’°å¢ƒè®Šæ•¸&lt;/h4>
&lt;p>Nuxt åœ¨é–‹ç™¼æ¨¡å¼æˆ–åŸ·è¡Œæ™‚ï¼Œå·²ç¶“æœ‰å…§å»º &lt;a class="link" href="https://github.com/motdotla/dotenv" target="_blank" rel="noopener"
>dotenv&lt;/a>ï¼Œå¦‚æœåœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹æ·»åŠ äº† &lt;code>.env&lt;/code>ï¼ŒNuxt æœƒåœ¨é–‹ç™¼æœŸé–“ã€å»ºæ§‹æ™‚æˆ–ç”¢ç”Ÿéœæ…‹ç¶²ç«™æ™‚ï¼Œè‡ªå‹•è¼‰å…¥ &lt;code>.env&lt;/code> å…§çš„ç’°å¢ƒè®Šæ•¸ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚å»ºç«‹ &lt;strong>.env&lt;/strong> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="env">.env&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-env" data-lang="env">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NUXT_API_SECRET&lt;/span>&lt;span class="o">=&lt;/span>api_secret_token
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NUXT_PUBLIC_API_BASE&lt;/span>&lt;span class="o">=&lt;/span>https://nuxtjs.org
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å…©å€‹å€¼ï¼Œå°‡è¢« &lt;a class="link" href="https://github.com/motdotla/dotenv" target="_blank" rel="noopener"
>dotenv&lt;/a> è‡ªå‹•è¼‰å…¥è‡³ &lt;code>process.env&lt;/code> ä¸­ï¼Œä½œç‚ºç’°å¢ƒè®Šæ•¸ã€‚&lt;/p>
&lt;h4 id="ç’°å¢ƒè®Šæ•¸çš„è¦†è“‹">ç’°å¢ƒè®Šæ•¸çš„è¦†è“‹&lt;/h4>
&lt;p>ä¸è«–æ˜¯é€é &lt;a class="link" href="https://github.com/motdotla/dotenv" target="_blank" rel="noopener"
>dotenv&lt;/a> è‡ªå‹•è¼‰å…¥ &lt;strong>.env&lt;/strong> æˆ–å…¶ä»–æ–¹å¼é…ç½®çš„ç’°å¢ƒè®Šæ•¸ï¼Œåªè¦ç’°å¢ƒè®Šæ•¸å‘½åæ˜¯ &lt;code>NUXT_&lt;/code> é–‹é ­ï¼Œé€™å€‹ç’°å¢ƒè®Šæ•¸å°‡æœƒè¦†è“‹ &lt;code>runtimeConfig&lt;/code> çš„è¨­ç½®ã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œç•¶æˆ‘å€‘ &lt;code>runtimeConfig&lt;/code> è¨­ç½®å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiSecret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ€éº¼å¯ä»¥è®“ä½ çŸ¥é“å‘¢ :P&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">public&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiBase&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/api&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;strong>.env&lt;/strong> æª”æ¡ˆæˆ–å…¶ä»–æ–¹å¼è¨­ç½®ä¸‹åˆ—ç’°å¢ƒè®Šæ•¸ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-env" data-lang="env">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NUXT_API_SECRET&lt;/span>&lt;span class="o">=&lt;/span>api_secret_token
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NUXT_PUBLIC_API_BASE&lt;/span>&lt;span class="o">=&lt;/span>https://nuxtjs.org
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‚£éº¼ &lt;code>NUXT_API_SECRET&lt;/code> ç’°å¢ƒè®Šæ•¸ï¼Œå°‡æœƒè¦†è“‹ &lt;code>runtimeConfig.apiSecret&lt;/code>ï¼Œè€Œ &lt;code>NUXT_PUBLIC_API_BASE&lt;/code> å°‡æœƒè¦†è“‹ &lt;code>runtimeConfig.public.apiBase&lt;/code>ï¼Œæœ€çµ‚ runtimeConfig çš„è¨­å®šæœƒè®Šæˆå¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">apiSecret:&lt;/span> &lt;span class="nt">&amp;#34;api_secret_token&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// è¢« NUXT_API_SECRET ç’°å¢ƒè®Šæ•¸è¦†è“‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="err">public:&lt;/span> &lt;span class="err">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">apiBase:&lt;/span> &lt;span class="nt">&amp;#34;https://nuxtjs.org&amp;#34;&lt;/span> &lt;span class="c1">// è¢« NUXT_PUBLIC_API_BASE ç’°å¢ƒè®Šæ•¸è¦†è“‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœƒæœ‰é€™æ¨£å­çš„ç‰¹æ€§æ˜¯å› ç‚º Nuxt æœƒåœ¨å•Ÿå‹•æ™‚ï¼Œå…ˆè¼‰å…¥ &lt;code>nuxt.conf.ts&lt;/code> å…§çš„ &lt;code>runtimeConfig&lt;/code>ï¼Œå»ºç«‹å‡ºå‘¼å« &lt;code>useRuntimeConfig()&lt;/code> æ‰€å¾—åˆ°çš„åŸ·è¡Œæ™‚è¨­å®šï¼Œä¾‹å¦‚ï¼Œå…ˆå»ºæ§‹å‡ºäº† &lt;code>_runtimeConfig&lt;/code> ç‰©ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">_runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiSecret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ€éº¼å¯ä»¥è®“ä½ çŸ¥é“å‘¢ :P&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">public&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apiBase&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/api&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æœƒèµ°è¨ªé€™å€‹ &lt;strong>_runtimeConfig&lt;/strong> ç‰©ä»¶è£¡é¢çš„ &lt;code>key&lt;/code>ï¼Œé€ä¸€å°‡ &lt;strong>key&lt;/strong> çš„åç¨±è½‰æ›&lt;strong>è›‡å½¢å‘½åæ³• (Snake case)&lt;/strong>ï¼Œä¸¦è½‰æˆå…¨å¤§å¯«å†åŠ ä¸Š &lt;code>NUXT_&lt;/code> å‰ç¶´å¾Œå–å¾—å°æ‡‰çš„ç’°å¢ƒè®Šæ•¸ï¼Œå¦‚æœå­˜åœ¨å°±æœƒä»¥æ–°å€¼ä¾†è¦†è“‹ &lt;strong>_runtimeConfig&lt;/strong> å…§çš„å±¬æ€§ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ &lt;strong>apiSecret&lt;/strong> ç¶“éè½‰æ›è®Šæˆ &lt;strong>api_secret&lt;/strong>ï¼Œæ¥è‘—è½‰å¤§å¯« &lt;strong>API_SECRET&lt;/strong> æœ€å¾ŒåŠ ä¸Šå‰ç¶´è®Šæˆ &lt;strong>NUXT_API_SECRET&lt;/strong>ï¼Œå¦‚æ­¤ç’°å¢ƒè®Šæ•¸ &lt;strong>NUXT_API_SECRET&lt;/strong> çš„å€¼å°±è¦†è“‹ &lt;strong>runtimeConfig.apiSecret&lt;/strong>ã€‚&lt;/p>
&lt;p>è€Œåœ¨ &lt;strong>public&lt;/strong> ä¸‹çš„è¨­ç½®ï¼Œä¹Ÿæœƒå…ˆè½‰ç‚º &lt;strong>public_apiBase&lt;/strong> å†ç¶“éè›‡è¡Œå‘½åæˆ &lt;strong>public_api_base&lt;/strong> ç­‰æ­¥é©Ÿï¼Œæœ€å¾Œè®Šæˆ &lt;strong>NUXT_PUBLIC_API_BASE&lt;/strong> ä¾†è¼‰å…¥ç’°å¢ƒè®Šæ•¸ä¸¦è¦†è“‹ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æœ€å¾Œå°æé†’ï¼Œç•¶å»ºæ§‹å‡ºç”Ÿç”¢ç’°å¢ƒçš„ç¶²ç«™ï¼Œå¦‚ .output ç›®éŒ„å¾Œï¼Œdotenv ä¸¦ä¸æœƒåŒ…å«åœ¨å»ºæ§‹çš„ç¶²ç«™å…§ï¼Œ ä½ éœ€è¦å†è‡ªå·±è¼‰å…¥æˆ–é…ç½®ç’°å¢ƒè®Šæ•¸æ‰èƒ½æ­£å¸¸é‹ä½œå“¦ï¼Œä¾‹å¦‚åœ¨ PM2 é…ç½® envã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="app-config">App Config&lt;/h3>
&lt;h4 id="é…ç½®-appconfig">é…ç½® appConfig&lt;/h4>
&lt;p>åœ¨ &lt;code>nuxt.config.ts&lt;/code> æª”æ¡ˆä¸­ï¼Œå¯ä»¥åœ¨ &lt;code>appConfig&lt;/code> å±¬æ€§å…§æ·»åŠ è¨­ç½®ï¼Œä¾‹å¦‚ï¼Œé€šå¸¸æˆ‘å€‘æœƒæ·»åŠ åƒç¶²ç«™ä¸»é¡Œçš„ä¸»è‰²ç­‰é€™é¡&lt;code>å¯ä»¥å…¬é–‹&lt;/code>çš„é…ç½®ï¼Œè®“ç¶²ç«™å¯ä»¥ä½¿ç”¨é€™å€‹è¨­ç½®ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">appConfig&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">theme&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">primaryColor&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;#0ea5e9&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶å»ºç«‹å¥½ appConfig å¾Œï¼Œå°±å¯ä»¥ä½¿ç”¨çµ„åˆå¼å‡½æ•¸ &lt;code>useAppConfig()&lt;/code> ä¾†å–å¾—è¨­ç½®ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œå»ºç«‹ &lt;strong>./pages/config.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesconfigvue">pages/config.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-24 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-2xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">primaryColor&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-3xl font-semibold text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">primaryColor&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">appConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useAppConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">theme&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">appConfig&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="appconfig-æª”æ¡ˆ">app.config æª”æ¡ˆ&lt;/h4>
&lt;p>ä½ ä¹Ÿå¯ä»¥åœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹å»ºç«‹ &lt;code>app.config.ts&lt;/code> ä¾†é…ç½® App Configï¼Œé€™å€‹æª”æ¡ˆçš„å‰¯æª”åå¯ä»¥æ˜¯ &lt;strong>.ts&lt;/strong>ã€&lt;strong>.js&lt;/strong> æˆ– &lt;strong>.mjs&lt;/strong>ã€‚&lt;/p>
&lt;h5 id="appconfigts">app.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineAppConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">theme&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">primaryColor&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;#3b82f6&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶å»ºç«‹äº† &lt;code>app.config.ts&lt;/code> æª”æ¡ˆï¼Œè©²è¨­å®šæœƒèˆ‡ &lt;strong>nuxt.config.ts&lt;/strong> æª”æ¡ˆä¸­çš„ &lt;strong>appConfig&lt;/strong> å±¬æ€§çµåˆï¼Œå¦‚æœå…·æœ‰ç›¸åŒçš„å‘½åï¼Œå‰‡ä»¥ &lt;code>app.config.ts&lt;/code> æª”æ¡ˆå…§çš„è¨­ç½®ç‚ºä¸»ã€‚&lt;/p>
&lt;h4 id="å…·æœ‰éŸ¿æ‡‰å¼çš„è¨­å®š">å…·æœ‰éŸ¿æ‡‰å¼çš„è¨­å®š&lt;/h4>
&lt;p>ç•¶è¨­å®šå¥½çš„ App Config åœ¨ä½¿ç”¨æ™‚ï¼Œè§£æ§‹å‡ºçš„è®Šæ•¸æ˜¯å…·æœ‰éŸ¿æ‡‰æ€§çš„ï¼Œä¹Ÿå°±æ˜¯èªªåœ¨å…¶ä»–é é¢ä¿®æ”¹ä¸»é¡Œé¡è‰²çš„è¨­å®šï¼Œå¯ä»¥éŸ¿æ‡‰è‡³æ‰€æœ‰ä½¿ç”¨é€™å€‹è¨­å®šçš„å…ƒä»¶ã€‚&lt;/p>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæ–°å¢ä¸€å€‹ &lt;strong>darkMode&lt;/strong> çš„å±¬æ€§è‡³ &lt;strong>app.config.ts&lt;/strong> æª”æ¡ˆå…§çš„ themeï¼š&lt;/p>
&lt;h5 id="appconfigts-1">app.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineAppConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">theme&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">primaryColor&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;#3b82f6&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">darkMode&lt;/span>: &lt;span class="kt">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;strong>./pages/index.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesindexvue-4">pages/index.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;bg-white py-24&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-6xl font-semibold text-gray-800&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é€™è£¡æ˜¯é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-4 flex flex-col space-y-4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/config&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å‰å¾€&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nx">config&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-2xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">darkMode&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-3xl font-semibold text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">darkMode&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">appConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useAppConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">theme&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">appConfig&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ &lt;strong>./pages/config.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagesconfigvue-1">pages/config.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;my-24 flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-2xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">primaryColor&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-3xl font-semibold text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">primaryColor&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-2xl text-gray-600&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">darkMode&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-4 text-3xl font-semibold text-blue-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">darkMode&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-6 rounded-sm bg-blue-500 py-2 px-4 text-base font-medium text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;theme.darkMode = !theme.darkMode&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">theme&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">darkMode&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;å–æ¶ˆ&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;å•Ÿç”¨&amp;#39;&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">æ·±è‰²æ¨¡å¼`&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">NuxtLink&lt;/span> &lt;span class="na">to&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">å›é¦–é &lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">NuxtLink&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">appConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useAppConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">theme&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">appConfig&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚ä¸‹åœ–ï¼Œæˆ‘å€‘çš„é¦–é å–å¾—äº† &lt;strong>App Config&lt;/strong> ä¸­çš„ &lt;strong>theme.darkMode&lt;/strong> é è¨­ç‚º &lt;code>false&lt;/code>ï¼Œæ¥è‘—æˆ‘å€‘åˆ‡æ›è‡³ &lt;strong>/config&lt;/strong> é é¢ï¼Œå¯ä»¥å°‡å¾ &lt;code>useAppConfig()&lt;/code> è§£æ§‹å‡ºçš„ theme é€²è¡Œè®Šæ›´ï¼Œæˆ‘å€‘ä½¿ç”¨æŒ‰éˆ•ä¾†è¨­ç½® &lt;strong>theme.darkMode&lt;/strong> ç‚º &lt;code>true&lt;/code> æˆ– &lt;code>false&lt;/code> è¡¨ç¤ºå•Ÿç”¨æˆ–å–æ¶ˆæ·±è‰²æ¨¡å¼ã€‚ç•¶è®Šæ›´å®Œæˆå¾Œï¼Œå›è‡³é¦–é ï¼Œå¯ä»¥ç™¼ç¾ &lt;strong>theme.darkMode&lt;/strong> ç™¼ç”Ÿäº†éŸ¿æ‡‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52616188867_a568b0a7c2_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="å°çµ-1">å°çµ&lt;/h3>
&lt;p>Nuxt 3 æä¾›äº† &lt;strong>Runtime Config&lt;/strong> åŠ &lt;strong>App Config&lt;/strong> ä¾†è®“æˆ‘å€‘å°‡å¸¸ç”¨æˆ–é è¨­è¨­å®šæ‡‰ç”¨åœ¨ä¸åŒçš„æƒ…å¢ƒï¼Œä½¿ç”¨æ™‚ï¼Œæˆ‘å€‘åƒ…éœ€è¨˜å¾—ï¼Œ&lt;code>ä¸èƒ½å…¬é–‹çš„é‡‘é‘°&lt;/code>æˆ–&lt;code>æ•æ„Ÿè¨Šæ¯&lt;/code>ï¼Œåƒ…æ”¾ç½®åœ¨ &lt;code>runtimeConfig&lt;/code> ä¸­è€Œä¸”&lt;code>ä¸åœ¨ public å±¬æ€§å…§&lt;/code>ï¼Œ&lt;code>runtimeConfig.public&lt;/code> é€šå¸¸æ”¾çš„æ˜¯&lt;code>å‰å¾Œç«¯æœƒä½¿ç”¨åˆ°ä¸”ä¸å¸¸ä¿®æ”¹çš„å¸¸æ•¸&lt;/code>ã€‚è€Œ &lt;code>App Config&lt;/code> å‰‡æ˜¯ç•¶ä¼ºæœå™¨ç«¯èˆ‡å®¢æˆ¶ç«¯&lt;code>éœ€è¦ä½¿ç”¨çš„è¨­ç½®&lt;/code>ï¼Œå¦‚ä¸»é¡Œé¡è‰²ã€æ˜¯å¦å•Ÿç”¨æ·±è‰²æ¨¡å¼ç­‰é€™é¡å¯ä»¥è¢«ä½¿ç”¨è€…èª¿æ•´è®Šå‹•çš„ä¸”éœ€è¦å…·æœ‰éŸ¿æ‡‰æ€§ï¼Œå°±å¯ä»¥æ”¾ç½®åœ¨ &lt;code>appConfig&lt;/code> ä¹‹ä¸­ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å¯¦ä½œç·´ç¿’">å¯¦ä½œç·´ç¿’&lt;/h2>
&lt;p>é€™è£¡ä»‹ç´¹ç¶²ç«™çš„æœƒå“¡ç³»çµ±å¸¸æœƒä½¿ç”¨åˆ°ç¬¬ä¸‰æ–¹ç™»å…¥ï¼Œå°‡ä»¥ Google OAuth ç‚ºä¾‹ä¾†å¯¦éš›æ–¼ Nuxt 3 ä¸­åšä¸²æ¥ã€‚&lt;/p>
&lt;h3 id="ä¸²æ¥-google-oauth-ç™»å…¥">ä¸²æ¥ Google OAuth ç™»å…¥&lt;/h3>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘éœ€è¦æœ‰ä¸€çµ„ Google OAuth ä½¿ç”¨çš„ &lt;code>Client ID&lt;/code>ï¼Œä½ å¯ä»¥åˆ° &lt;a class="link" href="https://console.cloud.google.com/apis/credentials" target="_blank" rel="noopener"
>Google Console&lt;/a> æ–°å¢ä¸€å€‹ã€Œ&lt;strong>OAuth 2.0 ç”¨æˆ¶ç«¯ ID&lt;/strong>ã€ï¼Œé€™è£¡æˆ‘å°±ä¸å†è´…è¿°ç¶²é æ‡‰ç”¨ç¨‹å¼ç”¨çš„ç”³è«‹éç¨‹ã€‚&lt;/p>
&lt;p>é€™é‚Šå°æé†’ä¸€ä¸‹ï¼Œåœ¨å»ºç«‹ OAuth Client ID æ™‚ï¼Œ&lt;strong>å·²æˆæ¬Šçš„ JavaScript ä¾†æº&lt;/strong>ï¼Œè¨˜å¾—å¡«å¯«ä¸Šæ‚¨çš„æ­£å¼ç’°å¢ƒæˆ–é–‹ç™¼ç’°å¢ƒçš„ Domainï¼Œä¸”å»ºè­°ä½¿ç”¨ HTTPSã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618245251_3509e645c4_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å®Œæˆå¾Œï¼Œè¨˜å¾—ä¿ç®¡å¥½&lt;code>ç”¨æˆ¶ç«¯å¯†ç¢¼&lt;/code>ã€&lt;code>ç”¨æˆ¶ç«¯ ID (Client ID)&lt;/code> æ˜¯æˆ‘å€‘ç¨å¾Œæœƒéœ€è¦çš„ï¼Œç”¨æˆ¶ç«¯ç·¨è™Ÿæ ¼å¼å¤§æ¦‚å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">168152363730-b37gnijdpa2rdvvbq0qc29cjh4082t3b.apps.googleusercontent.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°‡é€™çµ„ Client IDï¼Œæ”¾ç½®åœ¨ Nuxt çš„ Runtime Config ä¹‹ä¸­ã€‚èª¿æ•´ &lt;strong>nuxt.config.ts&lt;/strong> å…§å®¹ï¼Œåœ¨ runtimeConfig.public æ·»åŠ  &lt;code>googleClientId&lt;/code>ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts-6">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">public&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">googleClientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;é€™é‚Šæ”¾ä¸Šä½ çš„ Google Client ID&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥ä¸‹ä¾†ï¼Œå®‰è£ Vue çš„ Google OAuth æ’ä»¶ï¼Œé€™é‚Šä½¿ç”¨çš„æ˜¯ &lt;a class="link" href="https://github.com/yobaji/vue3-google-login" target="_blank" rel="noopener"
>vue3-google-login&lt;/a>ï¼Œä¹Ÿæœ‰è©³ç´°çš„&lt;a class="link" href="https://yobaji.github.io/vue3-google-login/" target="_blank" rel="noopener"
>èªªæ˜æ–‡ä»¶&lt;/a>å¯ä»¥åƒè€ƒã€‚&lt;/p>
&lt;p>å®‰è£ &lt;a class="link" href="https://yobaji.github.io/vue3-google-login/" target="_blank" rel="noopener"
>vue3-google-login&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D vue3-google-login
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D vue3-google-login&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ Nuxt 3 æ’ä»¶ä¾†ä½¿ç”¨ &lt;a class="link" href="https://yobaji.github.io/vue3-google-login/" target="_blank" rel="noopener"
>vue3-google-login&lt;/a>ï¼Œæ–°å¢ &lt;strong>./plugins/vue3-google-login.client.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pluginsvue3-google-loginclientjs">plugins/vue3-google-login.client.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">vue3GoogleLogin&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue3-google-login&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtPlugin&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleClientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">public&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nuxtApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vueApp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">vue3GoogleLogin&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘åœ¨å…ƒä»¶ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;code>&amp;lt;GoogleLogin&amp;gt;&lt;/code> å…ƒä»¶ï¼Œä¸¦æ·»åŠ ä¸€å€‹ &lt;code>callback&lt;/code> å±¬æ€§ï¼›æ­¤å¤–ï¼Œæˆ‘ä½¿ç”¨äº† Nuxt 3 æä¾›çš„ &lt;code>&amp;lt;ClientOnly&amp;gt;&lt;/code> å…ƒä»¶ï¼Œå°‡ &lt;code>&amp;lt;GoogleLogin&amp;gt;&lt;/code> åŒ…è£¹èµ·ä¾†ï¼Œä»¥ç¢ºä¿è©²å…ƒä»¶åƒ…åœ¨å®¢æˆ¶ç«¯åšæ¸²æŸ“ï¼Œä»¥å…ç™»å…¥æŒ‰éˆ•åœ¨åˆå§‹åŒ–ç™¼ç”Ÿå•é¡Œã€‚&lt;/p>
&lt;h5 id="pagesloginvue">pages/login.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">GoogleLogin&lt;/span> &lt;span class="nt">:callback&lt;/span>&lt;span class="s">=&amp;#34;callback&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ClientOnly&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">callback&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘å•Ÿå‹• Nuxt ä¼ºæœå™¨ï¼Œé€™é‚Šæˆ‘æœƒç¿’æ…£ä½¿ç”¨ &lt;code>yarn run dev -- --https&lt;/code> ä¾†å•Ÿç”¨ &lt;strong>HTTPS&lt;/strong> åšæ¸¬è©¦ï¼Œå°±èƒ½ç™¼ç¾ä½¿ç”¨ Google å¸³è™Ÿç™»å…¥æˆåŠŸå¾Œï¼Œæ‰€è¿”å›çš„ Credentialã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618682810_b13a4d8304_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="one-tap-prompt">One Tap prompt&lt;/h3>
&lt;p>ä½ å¯ä»¥åœ¨ &lt;code>&amp;lt;GoogleLogin&amp;gt;&lt;/code> å…ƒä»¶æ·»åŠ  &lt;code>prompt&lt;/code> å±¬æ€§ä¸¦è¨­ç‚º &lt;code>true&lt;/code>ï¼Œé€™æ¨£å°±èƒ½åŒæ™‚å•Ÿç”¨ &lt;strong>Google ä¸€éµç™»å…¥ (One Tap prompt)&lt;/strong> çš„åŠŸèƒ½å›‰ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">GoogleLogin&lt;/span> &lt;span class="nt">:callback&lt;/span>&lt;span class="s">=&amp;#34;callback&amp;#34;&lt;/span> &lt;span class="na">prompt&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ–è€…ä¹Ÿå¯ä»¥åœ¨ &lt;code>onMounted&lt;/code> ä¸­å‘¼å« &lt;strong>vue3-google-login&lt;/strong> çš„ &lt;code>googleOneTap()&lt;/code> æ–¹æ³•ï¼Œä¾†å–®ç¨ä½¿ç”¨ &lt;strong>One Tap prompt&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleOneTap&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue3-google-login&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">onMounted&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">googleOneTap&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è‡ªè¨‚æŒ‰éˆ•">è‡ªè¨‚æŒ‰éˆ•&lt;/h3>
&lt;p>å¦‚æœä½ æƒ³è‡ªè¨‚ç™»å…¥æŒ‰éˆ•çš„æ¨£å¼ï¼Œå¯ä»¥åœ¨ &lt;code>&amp;lt;GoogleLogin&amp;gt;&lt;/code> çš„é è¨­æ’æ§½ (Slot) åšå»ºç«‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">GoogleLogin&lt;/span> &lt;span class="nt">:callback&lt;/span>&lt;span class="s">=&amp;#34;callback&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ä½¿ç”¨&lt;/span> &lt;span class="nx">Google&lt;/span> &lt;span class="nx">é€²è¡Œç™»å…¥&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">GoogleLogin&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨è‡ªè¨‚æŒ‰éˆ•æœƒè®“ OAuth æµç¨‹ç¨å¾®æœ‰é»ä¸ä¸€æ¨£ï¼Œç•¶ä½ ç™»å…¥æˆåŠŸå¾Œé è¨­æœƒå›å‚³ &lt;a class="link" href="https://developers.google.com/identity/oauth2/web/guides/use-code-model#auth_code_handling" target="_blank" rel="noopener"
>Auth Code&lt;/a>ã€‚&lt;/p>
&lt;p>å¦‚æœè¨­å®šå±¬æ€§ &lt;code>popup-type=&amp;quot;TOKEN&amp;quot;&lt;/code>ï¼Œå‰‡å›å‚³ &lt;a class="link" href="https://developers.google.com/identity/oauth2/web/guides/use-token-model" target="_blank" rel="noopener"
>Access Token&lt;/a>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">GoogleLogin&lt;/span> &lt;span class="nt">:callback&lt;/span>&lt;span class="s">=&amp;#34;callback&amp;#34;&lt;/span> &lt;span class="na">popup&lt;/span>&lt;span class="nt">-type&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">TOKEN&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ä½¿ç”¨&lt;/span> &lt;span class="nx">Google&lt;/span> &lt;span class="nx">é€²è¡Œç™»å…¥&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">GoogleLogin&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä½¿ç”¨-googletokenlogin">ä½¿ç”¨ googleTokenLogin()&lt;/h3>
&lt;p>åœ¨å…ƒä»¶ä¸­æˆ‘å€‘ä¹Ÿå¯ä»¥è‡ªå·±å»ºç«‹ &lt;code>handleGoogleLogin&lt;/code> é»æ“Šäº‹ä»¶ï¼Œå‘¼å« &lt;code>googleTokenLogin()&lt;/code> æ–¹æ³•ä¸¦å‚³å…¥è¨­å®šåœ¨ &lt;strong>Runtime Config&lt;/strong> ä¸­çš„ &lt;strong>Google Client ID&lt;/strong>ï¼Œé€™æ¨£é»æ“Šç™»å…¥æŒ‰éˆ•å°±èƒ½è™•ç† Google ç™»å…¥å–å¾— &lt;strong>Access Token&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleTokenLogin&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue3-google-login&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleClientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">public&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">handleGoogleLogin&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">googleTokenLogin&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ä¸€å€‹ç™»å…¥æŒ‰éˆ•ä¾†å‘¼å« &lt;code>handleGoogleLogin&lt;/code> é»æ“Šäº‹ä»¶ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;handleGoogleLogin&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ä½¿ç”¨&lt;/span> &lt;span class="nx">Google&lt;/span> &lt;span class="nx">ç¹¼çºŒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;strong>vue3-google-login&lt;/strong> æä¾›çš„ &lt;code>googleTokenLogin()&lt;/code> æ–¹æ³•ï¼Œæˆ‘å€‘å°±èƒ½å–å¾— Google ä½¿ç”¨è€…çš„ &lt;strong>Access Token&lt;/strong> å›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617734947_56a5365817_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="ä½¿ç”¨-googleauthcodelogin">ä½¿ç”¨ googleAuthCodeLogin()&lt;/h3>
&lt;p>æˆ‘å€‘ä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code>googleAuthCodeLogin()&lt;/code> ä¾†å–å¾— &lt;strong>Auth Code&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleAuthCodeLogin&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue3-google-login&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleClientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">public&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">handleGoogleLogin&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">googleAuthCodeLogin&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618245191_6103912bce_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="ä¼ºæœå™¨ç«¯é©—è­‰">ä¼ºæœå™¨ç«¯é©—è­‰&lt;/h3>
&lt;p>ç•¶ä½¿ç”¨è€…æ–¼å‰ç«¯æˆåŠŸç™»å…¥å¾Œï¼Œé€šå¸¸æœƒå‚³è‡³å¾Œç«¯é€²è¡Œç™»å…¥æˆ–è¨˜éŒ„ä½¿ç”¨è€…ï¼Œå†ç”¢ç”Ÿä½¿ç”¨æ–¼ç¶²ç«™çš„ Tokenã€Cookie æˆ– Session ç­‰ï¼Œä»¥ä¾›å¾ŒçºŒçš„ç¶²ç«™é©—è­‰åšä½¿ç”¨ã€‚&lt;/p>
&lt;p>æˆ‘å€‘å¯ä½¿ç”¨ &lt;a class="link" href="https://github.com/googleapis/google-auth-library-nodejs" target="_blank" rel="noopener"
>google-auth-library&lt;/a> æ–¼å¾Œç«¯é€²è¡Œä¸€ç³»åˆ—çš„é©—è­‰æˆ–å–å¾—ä½¿ç”¨è€…è³‡è¨Šã€‚&lt;/p>
&lt;p>å®‰è£ &lt;a class="link" href="https://github.com/googleapis/google-auth-library-nodejs" target="_blank" rel="noopener"
>google-auth-library&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D google-auth-library
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add -D google-auth-library&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘å°±èƒ½ä¾ç…§ä¸åŒçš„ç™»å…¥æ–¹å¼å–å¾—çš„ &lt;code>Credential&lt;/code>ã€&lt;code>Access Token&lt;/code> æˆ– &lt;code>Auth Code&lt;/code> é€è‡³å¾Œç«¯åšé©—è­‰ã€‚&lt;/p>
&lt;h4 id="é©—è­‰-access-token">é©—è­‰ Access Token&lt;/h4>
&lt;p>æ–°å¢ä¸€å€‹ Server APIï¼Œåªæ¥å— POST æ–¹æ³•ï¼Œåœ¨ Body ä¸­å¤¾å¸¶ &lt;code>accessToken&lt;/code> ç™¼é€è‡³å¾Œç«¯ã€‚&lt;/p>
&lt;p>å»ºç«‹ &lt;strong>./server/api/auth/google.post.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiauthgooglepostjs">server/api/auth/google.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;google-auth-library&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">oauth2Client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setCredentials&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">access_token&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">accessToken&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">oauth2Client&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://www.googleapis.com/oauth2/v3/userinfo&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">revokeCredentials&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userInfo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Invalid token&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sub&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">picture&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emailVerified&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email_verified&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èª¿æ•´å…ƒä»¶å…§çš„ç™»å…¥æµç¨‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleTokenLogin&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue3-google-login&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">googleClientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="kr">public&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">handleGoogleLogin&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">accessToken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">googleTokenLogin&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">GOOGLE_CLIENT_ID&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">access_token&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">accessToken&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s1">&amp;#39;ç™»å…¥å¤±æ•—&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/auth/google&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">method&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;POST&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">body&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">accessToken&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">initialCache&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘ä½¿ç”¨ Google OAuth ç™»å…¥æˆåŠŸå¾Œï¼Œæœƒå–å¾— &lt;strong>Access Token&lt;/strong>ï¼Œä¸¦å°‡å…¶å‚³è‡³ Server APIï¼Œ&lt;code>/api/auth/google&lt;/code> æ¥æ”¶ &lt;strong>Access Token&lt;/strong> ä¸¦ä½¿ç”¨ Google API å–å¾—ä½¿ç”¨è€…çš„è³‡è¨Šï¼Œæœ€å¾Œå›å‚³çµ¦å‰ç«¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618245256_903381f8c0_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="é©—è­‰-credential">é©—è­‰ Credential&lt;/h4>
&lt;p>åœ¨å…ƒä»¶ä¸­ï¼Œæˆ‘å€‘ä½¿ç”¨çš„ç™»å…¥æ–¹å¼å¦‚æœæ˜¯ &lt;code>Google æ¸²æŸ“çš„é è¨­æŒ‰éˆ•&lt;/code>æˆ– &lt;code>One Tap prompt&lt;/code>ï¼Œå›å‚³å€¼å°±æœƒåŒ…å« &lt;code>Credential&lt;/code>ï¼Œæˆ‘å€‘å°‡å°±å¯ä½¿ç”¨ä¸‹é¢ä¿®æ”¹å¾Œçš„ Server API é€²è¡Œé©—è­‰ã€‚&lt;/p>
&lt;p>&lt;strong>server/api/auth/google.post.js&lt;/strong> å…§å®¹ä¿®æ”¹ç‚ºå¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiauthgooglepostjs-1">server/api/auth/google.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;google-auth-library&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">oauth2Client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">ticket&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">verifyIdToken&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">idToken&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">credential&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">payload&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ticket&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getPayload&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">payload&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Invalid token&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sub&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">picture&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emailVerified&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">payload&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email_verified&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="é©—è­‰-auth-code">é©—è­‰ Auth Code&lt;/h4>
&lt;p>æˆ‘å€‘ä½¿ç”¨çš„ç™»å…¥æ–¹å¼å¦‚æœæ˜¯å‘¼å« &lt;strong>vue3-google-login&lt;/strong> çš„ &lt;code>googleAuthCodeLogin()&lt;/code>ï¼Œå›å‚³å€¼å°±æœƒåŒ…å« &lt;code>Auth Code&lt;/code>ï¼Œæˆ‘å€‘å°±å¯ä½¿ç”¨ä¸‹é¢ä¿®æ”¹å¾Œçš„ Server API é€²è¡Œé©—è­‰ã€‚&lt;/p>
&lt;p>&lt;strong>server/api/auth/google.post.js&lt;/strong> å…§å®¹ä¿®æ”¹ç‚ºå¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiauthgooglepostjs-2">server/api/auth/google.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;google-auth-library&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">oauth2Client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clientId&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ä½ çš„ Google Client ID&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">clientSecret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ä½ çš„ Google Client Secret&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">redirectUri&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ä½ çš„ Google Redirect Uri&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">tokens&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getToken&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authCode&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setCredentials&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">access_token&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">tokens&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">access_token&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">oauth2Client&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://www.googleapis.com/oauth2/v3/userinfo&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">revokeCredentials&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userInfo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Invalid token&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sub&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">picture&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">emailVerified&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email_verified&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»¥ä¸Šå¯¦ç¾äº†ä¸²æ¥ Google OAuth ç™»å…¥ï¼Œä¸¦å°‡ &lt;code>Access Token&lt;/code> è³‡è¨Šç™¼é€è‡³å¾Œç«¯é€²è¡Œé©—è­‰ï¼Œå¤§å®¶å¯ä»¥åœ¨ä¾ç…§ä½¿ç”¨æƒ…å¢ƒè‡ªå·±æŒ‘é¸ç™»å…¥æ–¹å¼åŠé©—è­‰æ–¹å¼ï¼Œå¾ŒçºŒä¹Ÿèƒ½å°‡ä½¿ç”¨è€…è³‡è¨Šå„²å­˜åˆ°è³‡æ–™åº«ä¸­ï¼Œæœ‰äº†è³‡æ–™åº«æˆ‘å€‘å°±èƒ½ä¾ç…§ä½¿ç”¨è€…è³‡è¨Šï¼Œä¾†æ¯”å°è³‡æ–™åº«é€²è¡Œè¨»å†Šã€é©—è­‰ç™»å…¥åŠç”¢ç”Ÿå¾ŒçºŒçš„ Session æˆ– Cookie ç­‰ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="cookie-çš„è¨­ç½®èˆ‡-jwt-çš„æ­é…">Cookie çš„è¨­ç½®èˆ‡ JWT çš„æ­é…&lt;/h2>
&lt;p>Cookie åœ¨ç€è¦½ç¶²ç«™æ™‚å¤šæœƒä½¿ç”¨åˆ°ï¼Œä¸è«–æ˜¯ç”¨ä¾†å„²å­˜è‡¨æ™‚çš„è³‡è¨Šæˆ–æ˜¯è¾¨è­˜ä½¿ç”¨è€…ç­‰ï¼Œé€™ä¸€å€‹å„²å­˜åœ¨ç€è¦½å™¨çš„ä¸€å°æ®µæ–‡å­—è³‡æ–™ï¼Œæœƒåœ¨æ¯æ¬¡ç™¼é€ HTTP è«‹æ±‚æ™‚è‡ªå‹•å¤¾å¸¶ï¼Œæ‰€ä»¥ Cookie æœ€å¸¸è¦‹çš„ç”¨é€”å°±åŒ…å«äº†ç™»å…¥ç‹€æ…‹ã€é©—è­‰èº«ä»½ç­‰ã€‚&lt;/p>
&lt;p>ä»¥ä¸‹å°‡è¬›è¿°åœ¨ Nuxt 3 å¦‚ä½•è¨­ç½® Cookieï¼Œä¸¦çµåˆ JWT (JSON Web Token) ä¾†åšä¸€å€‹å¯¦éš›ä½¿ç”¨è€…é©—è­‰ã€‚&lt;/p>
&lt;h3 id="nuxt-3-cookie-çš„è¨­ç½®æ–¹å¼">Nuxt 3 Cookie çš„è¨­ç½®æ–¹å¼&lt;/h3>
&lt;h4 id="usecookie">useCookie&lt;/h4>
&lt;p>Nuxt 3 æä¾›äº†ä¸€å€‹çµ„åˆå¼å‡½æ•¸ &lt;code>useCookie()&lt;/code> ä¾†è®“æˆ‘å€‘å¯ä»¥è®€å¯« Cookieï¼Œä¸¦ä¸”å°æ–¼ SSR ä¹Ÿæœ‰æ”¯æ´ï¼Œåœ¨é é¢ã€å…ƒä»¶æˆ–æ’ä»¶ä¸­ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ &lt;code>useCookie()&lt;/code> ä¾†å»ºç«‹ä¸€å€‹ cookie å…·æœ‰éŸ¿æ‡‰æ€§çš„åƒè€ƒã€‚&lt;/p>
&lt;p>ä½¿ç”¨æ–¹å¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">cookie&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;strong>name&lt;/strong>ï¼šå°æ‡‰çš„å°±æ˜¯ cookie çš„ keyã€‚&lt;/li>
&lt;li>&lt;strong>options&lt;/strong>ï¼šå‚³å…¥ä¸€å€‹ç‰©ä»¶ä¾†è¨­ç½®å¤šå€‹ cookie å±¬æ€§ï¼š
&lt;ul>
&lt;li>&lt;strong>maxAge&lt;/strong>ï¼šæŒ‡å®š &lt;code>Max-Age&lt;/code> å±¬æ€§çš„å€¼ï¼Œå–®ä½æ˜¯ç§’ã€‚å¦‚æœæ²’æœ‰è¨­ç½®ï¼Œå‰‡é€™å€‹ cookie å°‡æœƒæ˜¯ Session Onlyï¼Œæ„å³ç¶²é é—œé–‰å¾Œå°±æœƒæ¶ˆå¤±ã€‚&lt;/li>
&lt;li>&lt;strong>expires&lt;/strong>ï¼šæŒ‡å®šä¸€å€‹ Date ç‰©ä»¶ä¾†ä½œç‚ºéæœŸçš„æ™‚é–“ï¼Œé€šå¸¸æ˜¯è¦ç›¸å®¹æ¯”è¼ƒèˆŠçš„ç€è¦½å™¨åšä½¿ç”¨ï¼Œå¦‚æœ &lt;strong>maxAge&lt;/strong> èˆ‡ &lt;strong>expires&lt;/strong> å±¬æ€§éƒ½æœ‰è¨­å®šï¼Œå‰‡éæœŸæ™‚é–“æ‡‰è©²è¦è¨­å®šç‚ºä¸€æ¨£ã€‚&lt;/li>
&lt;li>&lt;strong>httpOnly&lt;/strong>ï¼šæ˜¯ä¸€å€‹å¸ƒæ—å€¼ï¼Œé è¨­ç‚º &lt;code>false&lt;/code>ï¼Œç•¶è¨­ç½®ç‚º &lt;code>true&lt;/code> æ™‚ï¼Œè¡¨ç¤ºå®¢æˆ¶ç«¯çš„ JavaScript å°‡ç„¡æ³•ä½¿ç”¨ &lt;code>document.cookie&lt;/code> ä¾†æŸ¥çœ‹é€™å€‹ cookieã€‚é€šå¸¸æ˜¯æ¯”è¼ƒæ•æ„Ÿæˆ–æ©Ÿå¯†çš„è¨Šæ¯ï¼Œå¦‚ Token æˆ– Session Id æœƒè¨­å®šç‚º &lt;code>true&lt;/code>ï¼Œåªè®“ç€è¦½å™¨ç™¼å‡ºè«‹æ±‚æ™‚è‡ªå‹•å¤¾å¸¶ã€‚&lt;/li>
&lt;li>&lt;strong>secure&lt;/strong>ï¼šæ˜¯ä¸€å€‹å¸ƒæ—å€¼ï¼Œé è¨­ç‚º &lt;code>false&lt;/code>ï¼Œç•¶è¨­ç½®ç‚º &lt;code>true&lt;/code> æ™‚ç€è¦½å™¨å¾—æ˜¯ HTTPS çš„åŠ å¯†å‚³è¼¸å”å®šçš„æƒ…å¢ƒä¸‹ï¼Œæ‰æœƒè‡ªå‹•å¤¾å¸¶é€™å€‹ cookieã€‚&lt;/li>
&lt;li>&lt;strong>domain&lt;/strong>ï¼šæŒ‡å®š cookie å¯ä»¥é©ç”¨çš„ Domainï¼Œé€šå¸¸æœƒä¿æŒé è¨­ï¼Œè¡¨ç¤ºé©ç”¨æ–¼è‡ªå·±çš„ Domain ä¹‹ä¸‹ã€‚&lt;/li>
&lt;li>&lt;strong>path&lt;/strong>ï¼šæŒ‡å®š cookie é©ç”¨çš„è·¯å¾‘ã€‚&lt;/li>
&lt;li>&lt;strong>sameSite&lt;/strong>ï¼šç‚ºä¸€å€‹å¸ƒæ—å€¼æˆ–æ˜¯å­—ä¸²ï¼Œç”¨æ–¼è¨­å®š&lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite" target="_blank" rel="noopener"
>å®‰å…¨ç­–ç•¥&lt;/a>ã€‚&lt;/li>
&lt;li>&lt;strong>encode&lt;/strong>ï¼šç”±æ–¼ cookie çš„å€¼åªèƒ½ä½¿ç”¨æœ‰é™çš„å­—å…ƒé›†ï¼Œæ‰€ä»¥é€™å€‹è¨­ç½®å¯ä»¥å°‡ cookie ç·¨ç¢¼æˆåˆæ³•çš„å­—ä¸²å€¼ï¼Œé è¨­çš„ç·¨ç¢¼æ˜¯ä½¿ç”¨ &lt;code>JSON.stringify&lt;/code> + &lt;code>encodeURIComponent()&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>decode&lt;/strong>ï¼šcookie æœƒç¶“éä¸€å€‹è§£ç¢¼çš„éç¨‹ï¼Œé è¨­çš„è§£ç¢¼æ˜¯ä½¿ç”¨ &lt;code>decodeURIComponent&lt;/code> + &lt;code>destr&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>default&lt;/strong>ï¼šç‚ºä¸€å€‹å‡½æ•¸ï¼Œå¯ä»¥ç”¨æ–¼å›å‚³ cookie çš„é è¨­å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯å›å‚³ä¸€å€‹ &lt;code>Ref&lt;/code>ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæ–°å¢ &lt;strong>pages/cookie.vue&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="pagescookievue">pages/cookie.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center justify-center py-12 px-4 sm:px-6 lg:px-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;w-full max-w-md&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 text-center text-3xl font-bold tracking-tight text-gray-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Cookie&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 flex w-full max-w-md flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 w-fit rounded-sm bg-emerald-500 py-2 px-4 text-sm text-white hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;setNameCookie&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">è¨­ç½®&lt;/span> &lt;span class="nx">name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 flex&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-lg font-semibold text-emerald-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ml-2 flex text-lg text-slate-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 flex w-full max-w-md flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 w-fit rounded-sm bg-emerald-500 py-2 px-4 text-sm text-white hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;setCounterCookie&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">è¨­ç½®&lt;/span> &lt;span class="nx">counter&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 flex&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">label&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text-lg font-semibold text-emerald-500&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">counter&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">label&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ml-2 flex text-lg text-slate-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">maxAge&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">setNameCookie&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Ryan&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">setCounterCookie&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">round&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°±å¯ä»¥è¨­ç½®ä¸€å€‹åªæœ‰ç›®å‰ç¶²é æœ‰æ•ˆçš„ cookie åç‚º &lt;code>name&lt;/code> åŠä¸€å€‹éæœŸæ™‚é–“ç‚º 60 ç§’å¾Œçš„ &lt;code>counter&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618245241_9307ee8408_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="ä¼ºæœå™¨ç«¯ä½¿ç”¨-getcookie-èˆ‡-setcookie">ä¼ºæœå™¨ç«¯ä½¿ç”¨ getCookie èˆ‡ setCookie&lt;/h3>
&lt;p>ä½ å¯ä»¥åœ¨ä¼ºæœå™¨ç«¯ä½¿ç”¨ &lt;code>getCookie()&lt;/code> ä¾†å–å¾—å‰ç«¯å¤¾å¸¶éä¾†çš„ cookieï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code>setCookie&lt;/code> ä¾†è¨­ç½® cookie å›æ‡‰çµ¦å‰ç«¯ã€‚&lt;/p>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæ–°å¢ &lt;strong>server/api/coookie.js&lt;/strong>ï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapicoookiejs">server/api/coookie.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">parseInt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">counter&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">counter&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;counter&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">counter&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">counter&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶å‰ç«¯æ‰“ &lt;code>/api/cookie&lt;/code> é€™éš» Server API æ™‚ï¼Œå°±æœƒè‡ªå‹•å¤¾å¸¶ç€è¦½å™¨ä¸­çš„ cookieï¼Œä¼ºæœå™¨ç«¯æ”¶åˆ°è«‹æ±‚è§£æ cookie å¾Œå¾—åˆ° &lt;code>counter&lt;/code>ï¼Œå°‡å…¶è½‰ç‚ºæ•¸å€¼æˆ–é è¨­ç‚º 0 å¾Œå¢åŠ  1ï¼Œå†é‡æ–°è¨­å®šå›å»çµ¦å‰ç«¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618682865_832fc7b792_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="ä½¿ç”¨-cookie-åšä½¿ç”¨è€…é©—è­‰">ä½¿ç”¨ Cookie åšä½¿ç”¨è€…é©—è­‰&lt;/h3>
&lt;p>æˆ‘å€‘å¯ä»¥å°‡ Cookie çš„é‹ä½œæ©Ÿåˆ¶æ‡‰ç”¨åœ¨æœƒå“¡ç³»çµ±ç•¶ä¸­ï¼Œä½¿ç”¨è€…ç™»å…¥æˆåŠŸå¾Œï¼Œå¾Œç«¯ç”¢ç”Ÿçš„ Token æˆ– Session å›å‚³ä¸¦å„²å­˜åœ¨ä½¿ç”¨è€…çš„ç€è¦½å™¨ä¸­ï¼Œä¹‹å¾Œçš„è«‹æ±‚å°‡æœƒè‡ªå‹•å¤¾å¸¶å¯ä»¥è¾¨è­˜å‡ºä½¿ç”¨è€…çš„ cookieï¼Œæˆ‘å€‘å°±å¯ä»¥åœ¨å¾Œç«¯è§£ææˆ–æ¯”å° cookie ä¾†é©—è­‰ä½¿ç”¨è€…çš„è³‡è¨Šï¼Œä¸¦ä¾ç…§ç­–ç•¥çµ¦äºˆä¸åŒçš„è™•ç†é‚è¼¯ã€‚&lt;/p>
&lt;p>æˆ‘å€‘å»¶çºŒä¸Šè¿°çš„&lt;a class="link" href="#%e4%b8%b2%e6%8e%a5-google-oauth-%e7%99%bb%e5%85%a5" >ä½¿ç”¨ Google OAuth ç™»å…¥&lt;/a>ï¼Œæˆ‘å€‘å¯ä»¥åœ¨å¾Œç«¯å¯¦ä½œç”¢ç”Ÿæˆ‘å€‘è‡ªå·±ç³»çµ±ä½¿ç”¨çš„ Tokenï¼Œä¸¦è¨­ç½®åœ¨ &lt;code>access_token&lt;/code> é€™å€‹ cookie ä¹‹ä¸­ï¼Œå¾Œç«¯å¯ä»¥å¯«å¦‚ä¸‹ç¨‹å¼ç¢¼ï¼Œä¾†è¨­ç½® &lt;code>httpOnly&lt;/code> åŠ &lt;code>maxAge&lt;/code> éæœŸæ™‚é–“ç­‰åƒæ•¸ã€‚&lt;/p>
&lt;h5 id="serverapiauthgooglepostjs-3">server/api/auth/google.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;access_token&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">accessToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">httpOnly&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">maxAge&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expires&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">expires&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">secure&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NODE_ENV&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;production&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘ä½¿ç”¨ &lt;a class="link" href="https://github.com/auth0/node-jsonwebtoken" target="_blank" rel="noopener"
>jsonwebtoken&lt;/a> ç”¢ç”Ÿ JWTï¼Œè£¡é¢çš„ Payload æ”¾ç½®äº†ä½¿ç”¨è€…è³‡è¨Šï¼Œå…¶ä¸­ &lt;code>jwtSignSecret&lt;/code> ä½œç‚ºæ ¸ç™¼ JWT çš„ç°½ç½²é‡‘é‘°ï¼Œæˆ‘å€‘å®šç¾©åœ¨ &lt;code>nuxt.config.ts&lt;/code> ä¸­çš„ &lt;code>runtimeConfig.jwtSignSecret&lt;/code>ã€‚&lt;/p>
&lt;p>å®‰è£ &lt;a class="link" href="https://github.com/auth0/node-jsonwebtoken" target="_blank" rel="noopener"
>jsonwebtoken&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install jsonwebtoken
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn add jsonwebtoken&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®Œæ•´çš„ &lt;strong>./server/api/auth/google.post.js&lt;/strong> ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="serverapiauthgooglepostjs-4">server/api/auth/google.post.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;google-auth-library&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">jwt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;jsonwebtoken&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">body&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">readBody&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">oauth2Client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">OAuth2Client&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setCredentials&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">access_token&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">accessToken&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">oauth2Client&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">request&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://www.googleapis.com/oauth2/v3/userinfo&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">oauth2Client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">revokeCredentials&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">userInfo&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">400&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Invalid token&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtTokenPayload&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sub&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">maxAge&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">24&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">7&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">expires&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">now&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">maxAge&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtToken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">jwt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sign&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">exp&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">expires&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">jwtTokenPayload&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jwtSignSecret&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;access_token&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">jwtToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">httpOnly&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">maxAge&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expires&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">expires&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">secure&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NODE_ENV&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;production&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">path&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">avatar&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">picture&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>JWT åœ¨æ ¸ç™¼æ™‚ä½¿ç”¨çš„åŠ å¯†é‡‘é‘°ï¼Œå»ºè­°ä½¿ç”¨éå°ç¨±å¼çš„é‡‘é‘°é€²è¡ŒåŠ å¯†ï¼Œé€™é‚Šåƒ…æ˜¯ç‚ºäº†ç¯„ä¾‹å±•ç¤ºæ–¹ä¾¿è€Œä½¿ç”¨ç›¸åŒçš„ Secret é€²è¡ŒåŠ è§£å¯†ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æ¥è‘—ï¼Œæˆ‘å€‘å¯ä»¥å¯¦ä½œä¸€å€‹ Server APIï¼Œ&lt;strong>./server/api/whoami.js&lt;/strong> ä¾†å¾ cookie å¾—åˆ° &lt;code>access_token&lt;/code>ï¼Œå†ç”¨ &lt;code>jwt.verify()&lt;/code> æ–¹æ³•ï¼Œä¾†é©—è­‰ JTW å¾Œçš„åˆ°ä½¿ç”¨è€…è³‡è¨Šã€‚&lt;/p>
&lt;h5 id="serverapiwhoamijs">server/api/whoami.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">jwt&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;jsonwebtoken&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRuntimeConfig&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineEventHandler&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jwtToken&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getCookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;access_token&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">jwt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">verify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">jwtToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">runtimeConfig&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jwtSignSecret&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">id&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nickname&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nickname&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">email&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">email&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="nx">createError&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">401&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">statusMessage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Unauthorized&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘åœ¨å‰ç«¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ &lt;code>/api/whoami&lt;/code> é€™éš» API ä¾†å¾—åˆ°ä½¿ç”¨è€…çš„è³‡è¨Šå›‰ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618515934_2af8149c8f_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ä¸Šåœ–çš„æµç¨‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>å‰å¾€ç™»å…¥é é¢ï¼Œä¸¦ä½¿ç”¨ Google é€²è¡Œç™»å…¥&lt;/li>
&lt;li>ç™»å…¥æˆåŠŸå¾Œï¼Œæ‰“ &lt;strong>/api/auth/google&lt;/strong> APIï¼ŒBody å¤¾å¸¶ Google OAuth å›å‚³çš„ &lt;code>access_token&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>/api/auth/google&lt;/strong> API å›å‚³å¾Œç«¯ç”¢ç”Ÿçš„æ™‚æ•ˆä¸ƒå¤©çš„ JWTï¼Œä¸¦è¨­ç½®æ–¼ cookie çš„ &lt;code>access_token&lt;/code>ï¼Œä¸¦å°‡å‰ç«¯é é¢å°èˆªè‡³ &lt;strong>/whoami&lt;/strong> é é¢ã€‚&lt;/li>
&lt;li>åœ¨ &lt;strong>/whoami&lt;/strong> é é¢ï¼Œé»æ“Šã€Œ&lt;strong>æ‰“ /api/whoami API&lt;/strong>ã€æŒ‰éˆ•ï¼Œé€å‡º &lt;strong>/api/whoami&lt;/strong> API è«‹æ±‚ï¼Œç€è¦½å™¨æœƒè‡ªå‹•å¤¾å¸¶ cookie è‡³å¾Œç«¯ã€‚&lt;/li>
&lt;li>å¾Œç«¯ API &lt;strong>/api/whoami&lt;/strong> æ”¶åˆ°è«‹æ±‚å¾Œï¼Œå¾ cookie ä¸­è§£æå‡º &lt;code>access_token&lt;/code> çš„å€¼ï¼Œä¸¦é©—è­‰è§£æå‡º JWT å…§å«çš„ä½¿ç”¨è€…è³‡è¨Šï¼Œä¸¦å°‡å…¶å›å‚³è‡³å‰ç«¯æ¸²æŸ“ã€‚&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>pages/whoami.vue&lt;/strong> å®Œæ•´ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;h5 id="pageswhoamivue">pages/whoami.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center justify-center py-12 px-4 sm:px-6 lg:px-8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;w-full max-w-md&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;flex flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-6 text-center text-3xl font-bold tracking-tight text-gray-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">æˆ‘æ˜¯èª°&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-6 flex w-full max-w-md flex-col items-center&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;button&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mt-2 w-fit rounded-sm bg-emerald-500 py-2 px-4 text-sm text-white hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-offset-2&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;whoami&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">æ‰“&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nx">api&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">whoami&lt;/span> &lt;span class="nx">API&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="nt">v-if&lt;/span>&lt;span class="s">=&amp;#34;userInfo&amp;#34; class=&amp;#34;mt-8 flex w-full max-w-md flex-col&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;div v-for=&amp;#34;key in Object.keys(userInfo)&amp;#34; :key=&amp;#34;key&amp;#34; class=&amp;#34;mt-1 flex flex-wrap break-all&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;label class=&amp;#34;text-lg font-semibold text-emerald-500&amp;#34;&amp;gt; {{ key }}:&amp;lt;/label&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;span class=&amp;#34;ml-2 flex flex-1 text-lg text-slate-700&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="na">userInfo&lt;/span>&lt;span class="err">[&lt;/span>&lt;span class="na">key&lt;/span>&lt;span class="err">]&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">whoami&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/whoami&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">response&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">userInfo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">response&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">value&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡³æ­¤ï¼Œæˆ‘å€‘å°±å¯¦ä½œå‡ºä¸€å€‹ Google OAuth çš„ç™»å…¥åŠé©—è­‰æ©Ÿåˆ¶ï¼Œå¾ŒçºŒå¯ä»¥å†å°‡é€™äº›è³‡è¨Šå„²å­˜è‡³è³‡æ–™åº«ä¹‹ä¸­åšå¾ŒçºŒçš„ä½¿ç”¨ã€‚&lt;/p>
&lt;p>é€™å€‹ç¯„ä¾‹çš„å®Œæ•´ç¨‹å¼ç¢¼å¯ä»¥åƒè€ƒ &lt;a class="link" href="https://github.com/wjdesign/ithome-2022-ironman-nuxt3/tree/day20/nuxt-app-whoami" target="_blank" rel="noopener"
>Nuxt 3 - ä½¿ç”¨ Cookie èˆ‡ JWT åšä½¿ç”¨è€…é©—è­‰&lt;/a>&lt;/p>
&lt;p>å°æé†’ï¼Œå¦‚æœæ˜¯åœ¨ä¼ºæœå™¨ç«¯æ‰“ APIï¼Œå¯ä»¥ä½¿ç”¨ &lt;a class="link" href="https://nuxt.com/docs/api/composables/use-request-headers" target="_blank" rel="noopener"
>useRequestHeaders&lt;/a> å°±å¯ä»¥å¾ä¼ºæœå™¨ç«¯è¨ªå•å’Œä»£ç† cookie åˆ° APIã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">userInfo&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">await&lt;/span> &lt;span class="nx">useFetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/api/whoami&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">headers&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">useRequestHeaders&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;cookie&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="cookielocalstoragetoken-èˆ‡-jwt">Cookieã€LocalStorageã€Token èˆ‡ JWT&lt;/h3>
&lt;p>åœ¨åšä½¿ç”¨è€…é©—è­‰çš„æ™‚å€™ï¼ŒCookieã€LocalStorageã€Token èˆ‡ JWT æ˜¯å€‹é‡è¦çš„æ¦‚å¿µï¼Œé€™é‚Šç¨å¾®ç°¡è¿°ä¸€ä¸‹ä¹‹é–“çš„å·®ç•°èˆ‡ä½¿ç”¨æƒ…å¢ƒã€‚&lt;/p>
&lt;h4 id="cookie">Cookie&lt;/h4>
&lt;p>é€šå¸¸æ¡ç”¨ Cookie ä¾†é©—è­‰ä½¿ç”¨è€…æ™‚ï¼Œç•¶ä½¿ç”¨è€…ç™»å…¥æˆåŠŸï¼Œæœƒç”±ä¼ºæœå™¨ç«¯ç”¢ç”Ÿä¸€çµ„ cookie ä¾†ç•¶ä½œå¾ŒçºŒé©—è­‰ä½¿ç”¨çš„ä¾æ“šï¼Œé€™å€‹ä¾æ“šæœƒæ˜¯ä¸€å€‹å­—ä¸²å½¢å¼ï¼Œç€è¦½å™¨æ¯æ¬¡ç™¼é€è«‹æ±‚æ™‚æœƒ&lt;code>è‡ªå‹•å¤¾å¸¶&lt;/code>ç¬¦åˆ Domainã€è·¯å¾‘è¨­å®šç­‰çš„ cookieï¼Œä¼ºæœå™¨ç«¯å°±å¯ä»¥ä¾æ“š cookie ä¾†è§£æé©—è­‰é€™å€‹å­—ä¸²æ‰€ä»£è¡¨çš„æ¶µæ„ï¼Œä¾‹å¦‚æ˜¯ä¸æ˜¯åŒ¹é…ä»£è¡¨æŸä½ä½¿ç”¨è€…å­—ä¸²ã€‚&lt;/p>
&lt;p>å¦‚åŒå‰é¢çš„ä¾‹å­ï¼Œæˆ‘å€‘å°‡ä¸€çµ„èƒ½å¤ ä»£è¡¨ &lt;strong>Ryan&lt;/strong> çš„ JWT ç”±ç™»å…¥å¾Œç”¢ç”Ÿï¼Œä¸¦åœ¨å¾ŒçºŒè«‹æ±‚ä¸­å¤¾å¸¶ï¼Œä»¥é”åˆ°é©—è­‰ä½¿ç”¨è€…çš„æ•ˆæœã€‚&lt;/p>
&lt;p>é€™ä¸²å­—ä¸²ï¼Œä¸ä¸€å®šæ˜¯è¦ JWTï¼Œåªè¦ä¼ºæœå™¨ç«¯èƒ½å›æ¨æˆ–å¾è³‡æ–™åº«æ¯”å°å‡ºæ‰€ä»£è¡¨çš„ä½¿ç”¨è€…æˆ–ç‰¹å®šè³‡è¨Šï¼Œé‚£éº¼ä¹Ÿå¯ä»¥æ˜¯éš¨æ„ç”¢ç”Ÿçš„å­—ä¸²ã€‚&lt;/p>
&lt;h4 id="localstorage">LocalStorage&lt;/h4>
&lt;p>LocalStorage æ˜¯ç¾ä»Šç€è¦½å™¨åŸºæœ¬ä¸Šéƒ½æ”¯æ´çš„ä¸€å€‹å„²å­˜ç©ºé–“ï¼ŒåŒæ¨£å…·æœ‰ Domain çš„å¯«å…¥èˆ‡è®€å–çš„æ¦‚å¿µï¼Œåœ¨ cookie æˆ‘å€‘æœ€å¤šåªèƒ½å„²å­˜ &lt;strong>4KB&lt;/strong> å·¦å³çš„å­—ä¸²è³‡æ–™ï¼Œä½†æ˜¯åœ¨ LocalStorage é€šå¸¸æœ‰ &lt;code>5MB&lt;/code> æ‰€ä»¥èƒ½å¤ å„²å­˜æ›´å¤šçš„è³‡è¨Šã€‚&lt;/p>
&lt;p>ä¹Ÿæœ‰ç¶²ç«™æœƒæŠŠé©—è­‰ä½¿ç”¨è€…çš„ Token æˆ–æ†‘è­‰ä¾æ“šå„²å­˜åœ¨ LocalStorageï¼Œä¹‹å¾Œç™¼é€è«‹æ±‚æˆ–éœ€è¦æ™‚å†å¾ä¸­æ‹¿å–å‡ºä¾†ä¸¦æ‰‹å‹•å¤¾å¸¶å‡ºå»ï¼ŒåŒæ¨£ä¹Ÿå¯ä»¥å¯¦ä½œå‡ºé©—è­‰ä½¿ç”¨è€…çš„æµç¨‹ã€‚&lt;/p>
&lt;p>åœ¨ç€è¦½å™¨çš„å„²å­˜ç©ºé–“ï¼Œé‚„æœ‰ä¸€å€‹ SessionStorageï¼Œå„²å­˜åœ¨é€™è£¡é¢çš„è³‡æ–™ï¼Œç•¶ç¶²é é—œé–‰æ™‚ï¼Œå°±æœƒè‡ªå‹•æ¸…é™¤ã€‚èˆ‡ LocalStorage ä¸åŒï¼Œé™¤éæ‰‹å‹•æˆ–ä½¿ç”¨ JS æ¸…é™¤ï¼Œä¸ç„¶è³‡æ–™æ°¸é å­˜åœ¨ï¼Œä¹Ÿä¸æœƒæœ‰éæœŸæ™‚é–“ã€‚&lt;/p>
&lt;h4 id="token">Token&lt;/h4>
&lt;p>ç”¨æ–¼æä¾›çµ¦ä½¿ç”¨è€…å¾ŒçºŒå¤¾å¸¶çµ¦å¾Œç«¯çš„æ†‘æ“šï¼Œç›¸ç•¶æ–¼ä¸€å€‹èº«åˆ†è­‰ï¼ŒToken é€šå¸¸ç”±å­—ä¸²çµ„æˆï¼Œä¸”éœ€è¦å¤ é•·ä¸å®¹æ˜“è¢«æš´åŠ›å˜—è©¦ç ´è§£ï¼ŒToken å­—ä¸²é€šå¸¸ä¸å…·æœ‰ä»»ä½•æ„ç¾©ï¼Œç›´è‡³å¾Œç«¯èˆ‡è³‡æ–™åº«æˆ–å…¶ä»–æ–¹å¼æ¯”å°å¾Œï¼Œæœƒå°æ‡‰å‡º Token æ‰€ä»£è¡¨çš„æ„ç¾©ï¼Œä¾‹å¦‚ä½¿ç”¨è€…è³‡è¨Šã€‚&lt;/p>
&lt;p>é€šå¸¸è«‹æ±‚å¤¾å¸¶çš„ Tokenï¼Œéœ€è¦æ¯æ¬¡å¾€å¿«å–æˆ–è³‡æ–™åº«åšæ¯”å°ï¼Œæ‰èƒ½çŸ¥é“ Token æ‰€ä»£è¡¨çš„ä½¿ç”¨è€…ã€‚&lt;/p>
&lt;h4 id="jwtjson-web-token">JWT(JSON Web Token)&lt;/h4>
&lt;p>JWT æ˜¯ä¸€ç¨®é–‹æ”¾çš„æ¨™æº– &lt;a class="link" href="https://www.rfc-editor.org/rfc/rfc7519" target="_blank" rel="noopener"
>RFC 7519&lt;/a>ï¼Œå¦‚åŒåå­— JWT æ˜¯åŸºæ–¼ JSON Object æ‰€ç·¨ç¢¼å‡ºä¾†çš„ï¼ŒJWT æ˜¯ç”±ä¸‰å€‹éƒ¨åˆ† &lt;code>Header&lt;/code>ã€&lt;code>Payload&lt;/code> åŠ &lt;code>Signature&lt;/code> çµ„åˆè€Œæˆã€‚&lt;/p>
&lt;p>å…¶ä¸­æœ€å¤§çš„ç‰¹è‰²å°±æ˜¯ &lt;code>Payload&lt;/code> é€™å€‹éƒ¨åˆ†ï¼Œç•¶å¾Œç«¯ä¼ºæœå™¨æ”¶åˆ° JWT æ™‚ï¼Œå¯ä»¥å¾ &lt;code>Payload&lt;/code> è§£æå‡ºç•¶åˆç°½ç™¼ JWT æ‰€åŒ…å«çš„è³‡è¨Šï¼Œé€šå¸¸æœƒåœ¨ &lt;code>Payload&lt;/code> æ”¾ç½®ä½¿ç”¨è€…çš„ç›¸é—œè³‡æ–™ï¼Œå¦‚ Idã€å§“åæˆ–ä¿¡ç®±ç­‰ï¼Œå› ç‚ºé€™å€‹ç‰¹è‰²æˆ‘å€‘ä¸éœ€è¦å†æ¯”å°å¿«å–æˆ–è³‡æ–™åº«ï¼Œå°±å¯ä»¥ç›´æ¥è§£æå‡ºä½¿ç”¨è€…è³‡æ–™ã€‚&lt;/p>
&lt;p>è€Œ &lt;code>Payload&lt;/code> é€™å€‹æ¬„ä½ï¼Œå› ç‚ºå¯ä»¥è¢«è§£ç¢¼å‡ºä¾†ï¼Œå†ä»»æ„çš„ä¿®æ”¹å¾Œé‡æ–°ç·¨ç¢¼ï¼Œæ‰€ä»¥æˆ‘å€‘å°±æœƒå€ŸåŠ© &lt;code>Header&lt;/code> åŠ &lt;code>Signature&lt;/code> é€™å…©å€‹éƒ¨åˆ†ï¼Œä¾†ç¢ºèªç•¶åˆåŠ å¯†çš„æ¼”ç®—æ³•åŠé©—è­‰ç°½ç« æ˜¯å¦ç¬¦åˆï¼Œä»¥é˜²æ­¢ &lt;code>Payload&lt;/code> è¢«ä»»æ„çš„ç«„æ”¹ã€‚&lt;/p>
&lt;h4 id="token-æˆ–-jwt-é¸å“ªä¸€å€‹">Token æˆ– JWT é¸å“ªä¸€å€‹ï¼Ÿ&lt;/h4>
&lt;p>é€™å…©è€…ä¹‹é–“å„æœ‰å„ªç¼ºé»ï¼Œé›–ç„¶è‡ªç”¢ Token éœ€è¦æ¯æ¬¡æ¯”å°è³‡æ–™åº«ï¼Œä½†æ˜¯èƒ½æœ‰æ•ˆçš„è¨˜éŒ„ä½¿ç”¨è€… Token æ ¸ç™¼ä½¿ç”¨çš„ä½ç½®åŠè¨»éŠ·ç‰¹å®šçš„ Tokenï¼Œå› ç‚º JWT åœ¨ç°½ç™¼å¾Œï¼Œä¸€å®šå¾—ç­‰åˆ°éæœŸæ‰æœƒå¤±æ•ˆç„¡æ³•ä½¿ç”¨ï¼Œä¹Ÿå°±å°è‡´ JWT åœ¨æ ¸ç™¼ä¹‹å¾Œæ˜¯ç„¡æ³•è¨»éŠ·çš„ï¼Œé™¤éè‡ªå·±åœ¨å¯¦ä½œä¸€å€‹é»‘åå–®æˆ–ç™½åå–®çš„æ©Ÿåˆ¶ã€‚&lt;/p>
&lt;p>å¯ä»¥ä¾æ“šä½¿ç”¨çš„æƒ…å¢ƒä¾†æ±ºå®š Token æˆ– JWTï¼Œåªè¦è¨˜å¾—ä½¿ç”¨ Token ä½œç‚ºè§£æ±ºæ–¹æ¡ˆï¼Œè¦ä¿è­‰ Token è¶³å¤ è¤‡é›œæˆ–éš¨æ©Ÿï¼Œä¸å®¹æ˜“è¢«æ¨æ¸¬æˆ–æš´åŠ›å˜—è©¦ï¼Œå¦‚æœçœŸçš„è¦ä½¿ç”¨æ¯”è¼ƒçŸ­çš„ Token ä¹Ÿç¢ºä¿éæœŸçš„æ™‚é–“ä¸è¦è¨­å®šå¤ªé•·ï¼Œè¦é »ç¹çš„æ›´æ›é€™çµ„ Token æˆ–æ·»åŠ å…¶ä»–é©—è­‰æ©Ÿåˆ¶ã€‚&lt;/p>
&lt;p>è€Œ JWT çš„åˆ©æ–¼å¯ä»¥åŒ…å« Payloadï¼Œä¹Ÿåˆ‡è¨˜åœ¨å¾Œç«¯æ ¸ç™¼æ™‚ä¸è¦å°‡æ•æ„Ÿè³‡æ–™æˆ–å¯†é‘°å¤¾å¸¶åœ¨ Payload ä¹‹ä¸­ï¼Œå› ç‚º JWT çš„ Payload å°±ç®—ä¸çŸ¥é“åŠ å¯†çš„ç§é‘°é‚„æ˜¯å¯ä»¥è¢«è§£ç¢¼çš„ã€‚è€Œç°½ç™¼ JWT é¸æ“‡åŠ å¯†çš„æ–¹å¼ä¹Ÿç›¡é‡æ¡ç”¨éå°ç¨±å¼çš„å®¶å§å¯†ï¼Œä¾‹å¦‚ä½¿ç”¨ ES256 (ECDSA-SHA256) æ¼”ç®—æ³•ç”¢ç”Ÿçš„éå°ç¨±é‡‘é‘°ä¾†é€²è¡ŒåŠ å¯†ã€‚&lt;/p>
&lt;h4 id="token-è¦æ”¾åœ¨-cookie-é‚„æ˜¯-localstorage">Token è¦æ”¾åœ¨ Cookie é‚„æ˜¯ LocalStorageï¼Ÿ&lt;/h4>
&lt;p>å¾Œç«¯ç”¢ç”Ÿçš„ Token æˆ– JWTï¼Œä¸ç®¡å­˜æ”¾åœ¨ Cookie æˆ– LocalStorage åªè¦æ³¨æ„å…¶ç‰¹æ€§åŠå®‰å…¨ï¼Œé‚£éº¼æƒ³å­˜åœ¨å“ªè£¡ï¼Œéƒ½æ˜¯å¯ä»¥è¢«æ¥å—çš„ã€‚&lt;/p>
&lt;ul>
&lt;li>æ”¾åœ¨ Cookie&lt;/li>
&lt;/ul>
&lt;p>å°‡ Token å­˜æ”¾åœ¨ Cookie çš„å¥½è™•ï¼Œå¯ä»¥ç”¨ä¾†æ§åˆ¶ç¶²ç«™çš„ Domain æˆ– SubDomain é€²è¡Œå­˜å–ï¼Œä¹Ÿå¯ä»¥è¨­å®šéæœŸæ™‚é–“ä¾†æ§åˆ¶å‰ç«¯æ˜¯å¦è¦é‡æ–°å•å¾Œç«¯ç”¢ç”Ÿæ–°çš„ Tokenï¼Œæœ€å¤§çš„ç‰¹é»å°±æ˜¯è‡ªå‹•å¤¾å¸¶åœ¨æ¯å€‹è«‹æ±‚ç•¶ä¸­ï¼Œä¹Ÿå› ç‚ºé€™é …ç‰¹æ€§ï¼Œæœ‰ä¸€äº›è³‡å®‰é¢¨éšªå°±éœ€è¦ç¨å¾®æ³¨æ„ä¸€ä¸‹ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://owasp.org/www-community/attacks/csrf" target="_blank" rel="noopener"
>è·¨ç«™è«‹æ±‚å½é€  (Cross Site Request Forgery, CSRF)&lt;/a> å°±æ˜¯ä¸€å€‹ cookie ä½¿ç”¨æ™‚æ‰€éœ€è¦æ³¨æ„çš„è³‡å®‰å•é¡Œï¼Œæ‰€ä»¥ç•¶ä½¿ç”¨ cookie ä½œç‚ºé©—è­‰æ©Ÿåˆ¶æ™‚ï¼Œå»ºè­°åœ¨æ•æ„Ÿçš„æ“ä½œä¸Šå¤šæ·»åŠ é©—è­‰çš„æ©Ÿåˆ¶ï¼Œæˆ–ä½¿ç”¨ CSRF Token ä¾†ä¿è­·ä½ çš„ cookie ä¸è¢«éš¨æ„å½é€ è«‹æ±‚çš„å¤¾å¸¶å‡ºå»ã€‚&lt;/p>
&lt;p>å°‡ Token æˆ–æ•æ„Ÿè³‡æ–™å„²å­˜åœ¨ cooike æ™‚ï¼Œé‚„æ˜¯å¯ä»¥é€é JavaScript çš„ &lt;code>document.cookie&lt;/code> åšå­˜å–ï¼Œæ‰€ä»¥å¦‚æœç¶²ç«™æœ‰å­˜åœ¨&lt;a class="link" href="https://owasp.org/www-community/attacks/xss/" target="_blank" rel="noopener"
>è·¨ç¶²ç«™æŒ‡ä»¤ç¢¼ (Cross-site scripting, XSS)&lt;/a> çš„å¼±é»ï¼Œä½ çš„ cookie å¾ˆå¯èƒ½å°±æœƒç›´æ¥è¢«å·èµ°ï¼Œç‚ºäº†é˜²æ­¢ XSS å¼±é»å°è‡´ cookie å¤–æ´©ï¼Œä½ å¯ä»¥å°‡ cookie è¨­å€¼æ™‚çš„å±¬æ€§ &lt;code>httpOnly&lt;/code> è¨­ç½®ç‚º &lt;code>true&lt;/code>ï¼Œè®“å®¢æˆ¶ç«¯ç€è¦½å™¨ç„¡æ³•ç›´æ¥å­˜å–ï¼Œåƒ…æœ‰åœ¨ç™¼é€è«‹æ±‚æ™‚ï¼Œç”±ç€è¦½å™¨è‡ªå‹•å¤¾å¸¶è‡³å¾Œç«¯ï¼Œæ­¤å¤–ï¼Œä¹Ÿå¯ä»¥è¨­ç½® &lt;code>secure&lt;/code> è®“ cookie åªåœ¨ HTTPS ä¸‹å‚³è¼¸ã€‚&lt;/p>
&lt;ul>
&lt;li>æ”¾åœ¨ LocalStorage&lt;/li>
&lt;/ul>
&lt;p>é—œæ–¼ Token æ˜¯å¦å„²å­˜åœ¨ LocalStorage å…¶å¯¦æœ‰ä¸åŒçš„çœ‹æ³•ï¼Œå› ç‚º cookie å­˜åœ¨è‘— CSRF æˆ– XSS ç­‰å•é¡Œéœ€è¦è§£æ±ºï¼Œè€Œå­˜æ”¾åœ¨ LocalStorage ä¸åƒ…æœ‰æ›´å¤§çš„ç©ºé–“ï¼Œé‚„ä¸è‡ªå¸¶å…ç–« CSRFï¼Œé›£é“ä¸é¦™å—ï¼Ÿ&lt;/p>
&lt;p>ä½†æ˜¯åˆ¥å¿˜äº† LocalStorage ä¹Ÿæ˜¯é€é JS ä¾†åšå„²å­˜èˆ‡è®€å–ï¼Œæ‰€ä»¥å°±ç®—ä½¿ç”¨ LocalStorage äº†ï¼Œä½† XSS å¼±é»å¦‚æœå­˜åœ¨ï¼Œä½ çš„ Token ä¸€æ¨£æœ‰å¤–æ´©çš„å¯èƒ½æ€§ã€‚&lt;/p>
&lt;p>è€Œä¸” LocalStorage ä¸å…·æœ‰éæœŸè‡ªå‹•åˆªé™¤çš„ç‰¹æ€§ï¼Œé™¤éè‡ªå·±å¯¦ä½œæˆ–åˆªé™¤å¦å‰‡å°‡æ°¸é çš„å­˜åœ¨ç€è¦½å™¨ä¹‹ä¸­ã€‚&lt;/p>
&lt;p>æ‰€ä»¥ï¼Ÿ&lt;/p>
&lt;p>ç¶²è·¯ä¸Šæœ‰è¨±å¤šä½¿ç”¨ Cookie æˆ– LocalStorage å„²å­˜ Token èªªæ³•ï¼Œæœ‰èˆˆè¶£ä¹Ÿå¯ä»¥çœ‹çœ‹å…©æ´¾å„è‡ªè«–è¿°çš„å„ªç¼ºé»ï¼Œæ‰€ä»¥ï¼Œä¸ç®¡æ˜¯ Cookie é‚„æ˜¯ LocalStorage æ²’æœ‰èªªä¸€å®šä¸èƒ½ä½¿ç”¨èª°ï¼Œè€Œæ˜¯è¦ä¾æ“šç‰¹æ€§åŠæƒ…å¢ƒä¾†åšä½¿ç”¨ï¼Œä¸¦åšå¥½å®šæœŸé‡æ–°ç”¢ç”ŸåŠç›¸é—œçš„å®‰å…¨é…ç½®ã€‚&lt;/p>
&lt;p>æˆ‘è‡ªå·±å¤§æ¦‚æœƒä¾ç…§é€™å€‹ç¶²ç«™æˆ–æœå‹™ï¼Œæ˜¯ç›¸å°ç°¡å–®ä¹Ÿæ¯”è¼ƒä¸æœƒæœ‰æœƒé€ æˆæ‚²åŠ‡çš„æ“ä½œæˆ–å…§å®¹ç®¡ç†ç‚ºä¸»çš„æœå‹™ï¼Œæˆ‘å¯èƒ½å°±æœƒæ¡ç”¨ cookie çš„æ–¹æ¡ˆè™•ç†é©—è­‰ï¼Œå› ç‚ºç›¸å°ä¾†èªªè‡ªå‹•å¤¾å¸¶èˆ‡æœ‰æ•ˆæœŸé™åŠ &lt;code>httpOnly&lt;/code> ä¾†æ§åˆ¶å®¢æˆ¶ç«¯æ˜¯å¦èƒ½ç›´æ¥å­˜å–ï¼Œå°æˆ‘ä¾†èªªé‚„æ˜¯æŒºæ–¹ä¾¿èˆ‡å®‰å…¨çš„ï¼Œå¯èƒ½åœ¨é©ç•¶çš„æ™‚æ©Ÿå†æ·»åŠ  CSRF Token æˆ–å¤šé“é©—è­‰æ©Ÿåˆ¶ï¼Œå°±èƒ½å®‰å…¨çš„ä½¿ç”¨ cookieã€‚&lt;/p>
&lt;p>è€Œåœ¨å¤šç‚ºå…§éƒ¨ç³»çµ±ä½¿ç”¨æˆ–æ˜¯ API åœ¨ Mobile App ç”šè‡³æ˜¯ä¸æ”¯æ´ Cookie ç’°å¢ƒä¹‹ä¸‹éœ€è¦ä½¿ç”¨ Token ä¾†é©—è­‰ï¼Œæˆ‘å°±æœƒæ¡ç´å°‡ Token å„²å­˜åœ¨ LocalStorageã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æœå°‹å¼•æ“æœ€ä½³åŒ–-seo-èˆ‡-html-meta-tag">æœå°‹å¼•æ“æœ€ä½³åŒ– (SEO) èˆ‡ HTML Meta Tag&lt;/h2>
&lt;p>é¸æ“‡ä½¿ç”¨ Nuxt 3 ä½œç‚ºç¶²ç«™é–‹ç™¼æ¡†æ¶çš„é–‹ç™¼è€…ï¼Œå¤šæ•¸éƒ½æ˜¯ç‚ºäº†è¦ä½¿ç”¨ SSR æˆ– SSG ä¾†åŠ å¼·å° SEO çš„å„ªåŒ–è¨­ç½®ï¼Œé€™ç¯‡å°‡æœƒè¬›è¿° Nuxt æä¾›çš„å¹¾å€‹çµ„åˆå¼å‡½æ•¸ï¼Œä¾†å”åŠ©æˆ‘å€‘è¨­ç½®ç¶²é çš„æ¨™é¡Œã€å…§æ–‡ã€Meta ç­‰ï¼Œä»¥æ­¤ä¾†è¨­ç½® SEO æˆ–å¤–éƒ¨é€£çµå¯èƒ½æœƒè§£æåˆ°çš„æ¨™ç±¤èˆ‡æ•¸å€¼å…§å®¹ã€‚&lt;/p>
&lt;h3 id="æœå°‹å¼•æ“æœ€ä½³åŒ–-seo---ç¶²ç«™çš„æ¨™é¡Œ-title-èˆ‡æè¿°-description">æœå°‹å¼•æ“æœ€ä½³åŒ– (SEO) - ç¶²ç«™çš„æ¨™é¡Œ (Title) èˆ‡æè¿° (Description)&lt;/h3>
&lt;p>ç•¶ç¶²ç«™éœ€è¦åšæœå°‹å¼•æ“æœ€ä½³åŒ– (SEO) çš„æ™‚å€™ï¼Œ&lt;strong>Meta Tag&lt;/strong> é€™å€‹åè©ä½ ä¸€å®šä¸èƒ½å¿½ç•¥ï¼Œ&lt;strong>Meta Tag&lt;/strong> ç¨±ä¹‹ç‚º&lt;strong>å…ƒæ¨™ç±¤&lt;/strong>æˆ–&lt;strong>æè¿°æ¨™ç±¤&lt;/strong>ï¼Œé¡§åæ€ç¾©ï¼Œæ˜¯ä¾†é¡å¤–æè¿°ç¶²é çš„è³‡æ–™ä½¿ç”¨ï¼›&lt;strong>Meta Tag&lt;/strong> é€šå¸¸æ”¾ç½®åœ¨ HTML çš„ ä¸­ï¼Œé›–ç„¶ &lt;strong>Meta Tag&lt;/strong> ä¸æœƒç›´æ¥é¡¯ç¤ºåœ¨ç¶²é ä¸Šï¼Œä½†å°æ–¼æœå°‹å¼•æ“çš„çˆ¬èŸ²ä¾†èªªï¼Œæ˜¯ç›¸ç•¶é‡è¦çš„ä¸€é …è­˜åˆ¥è³‡è¨Šï¼Œä¹Ÿæ˜¯ Facebook æå‡ºçš„ &lt;strong>Open Graph&lt;/strong> æ”¾ç½®çš„ä½ç½®ï¼Œè®“ç¶²é çš„æ¨™é¡Œã€æè¿°æˆ–ç¸®åœ–ç­‰ï¼Œèƒ½æ­£ç¢ºçš„è¢«è§£æé¡¯ç¤ºå‡ºä¾†ã€‚&lt;/p>
&lt;p>é‚£éº¼ç¶²é æ¨™é¡Œèˆ‡æè¿°ï¼Œå¦‚æœæ­£ç¢ºè¨­å®šæœƒæœ‰ä»€éº¼æ¨£å­çš„æ•ˆæœå‘¢ï¼Ÿèˆ‰ä¾‹ä¾†èªªï¼Œå‰é¢çš„ã€ä¸²æ¥ Google OAuth ç™»å…¥ã€‘æˆ‘å€‘å¯ä»¥é€éç¶²é åŸå§‹ç¢¼ä¾†æŸ¥çœ‹ï¼Œå¯ä»¥ç™¼ç¾ &lt;code>&amp;lt;title&amp;gt;&lt;/code> èˆ‡ &lt;code>&amp;lt;meta name=&amp;quot;description&amp;quot; â€¦ /&amp;gt;&lt;/code> éƒ½æœ‰è¨­å®šã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618814898_c2eb521b53_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æœå°‹å¼•æ“çˆ¬èŸ²åœ¨æ”¶éŒ„ç¶²é æ™‚ï¼Œå°±æœƒè§£æé€™äº›æ¨™ç±¤ä¾†å»ºç«‹ç´¢å¼•ï¼Œæˆ‘å€‘åœ¨ä½¿ç”¨æœå°‹è³‡æ–™æ™‚ï¼Œç¶²é çš„è³‡è¨Šä¹Ÿå°±å°æ‡‰è‘—é¡¯ç¤ºå‡ºä¾†ï¼Œå¦‚ä¸‹åœ–ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618326416_00c8081182_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å„å®¶çš„æœå°‹å¼•æ“çˆ¬èŸ²ï¼Œé›–ç„¶éƒ½æœ‰è‡ªå·±è§£æçš„è¦å‰‡ï¼Œä¸éæ ¹æ“š SEO çš„ç¶“é©—éƒ½æœ‰å¤§æ–¹å‘èƒ½å¤ ä¾å¾ªåšå»ºç«‹ï¼Œæ­¤å¤–å°±æ˜¯åœ¨é‡å°ç‰¹å®šçš„æœå°‹å¼•æ“åŠ å¼·è­˜åˆ¥æ¨™è¨˜ï¼Œéµç…§å®˜æ–¹æŒ‡å¼•å°±èƒ½è®“ç¶²ç«™çš„å…§å®¹èƒ½è¦‹åº¦æœ‰é¡¯è‘—æå‡ã€‚&lt;/p>
&lt;h3 id="ç¶²ç«™çš„-open-graph-og">ç¶²ç«™çš„ Open Graph (OG)&lt;/h3>
&lt;p>&lt;strong>OG&lt;/strong> æ˜¯ç”± Facebook æ‰€æå‡ºçš„è¨­å®šï¼Œå…¨åç‚º &lt;strong>Open Graph Protocol&lt;/strong>ï¼Œå®˜æ–¹ç¿»è­¯ç‚ºã€Œ&lt;strong>é–‹æ”¾ç¤¾äº¤é—œä¿‚åœ–&lt;/strong>ã€ï¼Œåœ¨è¨­å®šç¶²ç«™çš„ &lt;strong>Meta&lt;/strong> æ™‚é€šå¸¸ä¹Ÿç¨± &lt;strong>OG Tag&lt;/strong>ï¼ŒFacebook æä¾›äº†&lt;a class="link" href="https://developers.facebook.com/docs/sharing/webmasters" target="_blank" rel="noopener"
>ç¶²ç«™ç®¡ç†å“¡åˆ†äº«æŒ‡å—&lt;/a>ï¼Œç•¶åˆè¨­è¨ˆçš„ç›®çš„æ˜¯ï¼Œç•¶ç¶²é ä¸­è¨­å®šäº† &lt;strong>OG Tag&lt;/strong>ï¼Œèƒ½è®“ç¶²é è¢«åˆ†äº«è‡³ç¤¾ç¾¤åª’é«”æ™‚ï¼Œèƒ½æœ‰å‘ˆç¾æ›´ç‚ºè±å¯Œçš„å…§å®¹ï¼Œä¾‹å¦‚æ¨™é¡Œã€æè¿°åŠç¸®åœ–ç­‰ã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œç•¶&lt;a class="link" href="https://wayneblog.ga/2022-12-12/nodejs-create-openai-line-bot/" target="_blank" rel="noopener"
>ç¶²é &lt;/a>è¨­å®šäº† &lt;strong>OG Tag&lt;/strong>ï¼Œä»¥é€£çµå½¢å¼è¢«åˆ†äº«è‡³ Facebookï¼Œæœƒå‘ˆç¾å¦‚ä¸‹çš„è³‡è¨Šï¼ŒFacebook æœƒè§£æç¶²é å…§çš„ &lt;strong>OG Tag&lt;/strong> å°‡å°æ‡‰çš„å¦‚æ¨™é¡ŒåŠç¸®åœ–ç­‰è³‡è¨Šé¡¯ç¤ºå‡ºä¾†ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618326446_7205784c15_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å…¶ä¸­ç¸®åœ–ä¾ç…§ Facebook çš„æŒ‡å¼•ï¼Œå³æ˜¯å°æ‡‰ç¶²é ä¸­çš„ &lt;code>&amp;lt;meta property=&amp;quot;og:image&amp;quot; ... /&amp;gt;&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52617815467_ca6f72b1e6_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ä¸åªæ˜¯åœ¨ Facebook ä¸Šåˆ†äº«é€£çµæœƒæœ‰&lt;code>é€£çµé è¦½&lt;/code>çš„æ•ˆæœï¼Œä¹Ÿå› ç‚ºå¤§å®¶éƒ½éµå¾ªè‘— &lt;strong>OG Tag&lt;/strong> é€²è¡Œè¨­å®šï¼Œæ‰€ä»¥åœ¨å…¶ä»–ä¸»æµçš„ç¤¾ç¾¤åª’é«”æˆ–é€šè¨Šè»Ÿé«”ç­‰ä¹Ÿéƒ½æœ‰è·Ÿé€²è§£æã€‚ä¾‹å¦‚ï¼Œæˆ‘å€‘ä½¿ç”¨ LINE å‚³é€ä¸€æ¢é€£çµï¼Œä¹Ÿæœƒå› ç‚ºè¨­ç½®äº† &lt;strong>OG Tag&lt;/strong> ä¹Ÿæœ‰æˆåŠŸè§£æå‡º&lt;code>é€£çµé è¦½&lt;/code>çš„æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618814953_27c41dfc45_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>LINE é–‹ç™¼è€…ä¹Ÿæœ‰æä¾›ä¸€äº›å•ç­”æŒ‡å¼•å¯ä»¥åšåƒè€ƒï¼Œ&lt;code>é€£çµé è¦½&lt;/code>èˆ‡ &lt;code>og:title&lt;/code>ã€&lt;code>og:description&lt;/code> å’Œ &lt;code>og:image&lt;/code> æœ‰è‘—ç›¸æ‡‰çš„è¨­å®šé—œä¿‚ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618595494_9fd4af0f1e_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="usehead">useHead&lt;/h3>
&lt;p>æˆ‘å€‘å¯ä»¥ä½¿ç”¨ Nuxt 3 æä¾›çš„ &lt;code>useHead()&lt;/code> çµ„åˆå¼å‡½æ•¸ï¼Œä¾†è¨­å®šç¶²ç«™çš„ä¸€äº›æ¨™ç±¤æˆ–æ¨™è¨˜ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Nuxt 3 Blog&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">viewport&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;width=device-width, initial-scale=1, maximum-scale=1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">charset&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;utf-8&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">meta&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;description&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;é€™è£¡æ˜¯ Nuxt 3 å­¸ç¿’ç­†è¨˜ å¯¦æˆ°éƒ¨è½æ ¼&amp;#39;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">bodyAttrs&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">class&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>useHead()&lt;/code> å‡½æ•¸æ¥å—åƒæ•¸çš„é¡å‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useHead&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">meta&lt;/span>: &lt;span class="kt">Computable&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">MetaObject&lt;/span>&lt;span class="p">&amp;gt;)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">MetaObject&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Record&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">charset?&lt;/span>: &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">viewport?&lt;/span>: &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">meta?&lt;/span>: &lt;span class="kt">Array&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Record&lt;/span>&lt;span class="err">&amp;lt;&lt;/span>&lt;span class="na">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">link?&lt;/span>: &lt;span class="kt">Array&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Record&lt;/span>&lt;span class="err">&amp;lt;&lt;/span>&lt;span class="na">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">style?&lt;/span>: &lt;span class="kt">Array&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Record&lt;/span>&lt;span class="err">&amp;lt;&lt;/span>&lt;span class="na">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">script?&lt;/span>: &lt;span class="kt">Array&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Record&lt;/span>&lt;span class="err">&amp;lt;&lt;/span>&lt;span class="na">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">noscript?&lt;/span>: &lt;span class="kt">Array&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Record&lt;/span>&lt;span class="err">&amp;lt;&lt;/span>&lt;span class="na">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">titleTemplate?&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="nx">title&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title?&lt;/span>: &lt;span class="kt">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">bodyAttrs?&lt;/span>: &lt;span class="kt">Record&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">htmlAttrs?&lt;/span>: &lt;span class="kt">Record&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">string&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;strong>charset&lt;/strong>ï¼šæŒ‡å®š HTML çš„å­—å…ƒç·¨ç¢¼ï¼Œé è¨­ç‚º &lt;code>utf-8&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>viewport&lt;/strong>ï¼šè¨­å®šç¶²é çš„å¯è¦‹å€åŸŸï¼Œé è¨­ç‚º &lt;code>width=device-width, initial-scale=1&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>meta&lt;/strong>ï¼šæ¥å—ä¸€å€‹é™£åˆ—ï¼Œé™£åˆ—ä¸­çš„æ¯å€‹å…ƒç´ ï¼Œéƒ½å°‡æœƒå»ºç«‹ä¸€å€‹ &lt;code>&amp;lt;meta&amp;gt;&lt;/code> æ¨™è¨˜ï¼Œå…ƒç´ ä¸­ç‰©ä»¶çš„å±¬æ€§å°‡å°æ‡‰è‡³ çš„å±¬æ€§ã€‚&lt;/li>
&lt;li>&lt;strong>link&lt;/strong>ï¼šæ¥å—ä¸€å€‹é™£åˆ—ï¼Œé™£åˆ—ä¸­çš„æ¯å€‹å…ƒç´ ï¼Œéƒ½å°‡æœƒå»ºç«‹ä¸€å€‹ &lt;code>&amp;lt;link&amp;gt;&lt;/code> æ¨™è¨˜ï¼Œå…ƒç´ ä¸­ç‰©ä»¶çš„å±¬æ€§å°‡å°æ‡‰è‡³ çš„å±¬æ€§ã€‚&lt;/li>
&lt;li>&lt;strong>style&lt;/strong>ï¼šæ¥å—ä¸€å€‹é™£åˆ—ï¼Œé™£åˆ—ä¸­çš„æ¯å€‹å…ƒç´ ï¼Œéƒ½å°‡æœƒå»ºç«‹ä¸€å€‹ &lt;code>&amp;lt;style&amp;gt;&lt;/code> æ¨™è¨˜ï¼Œå…ƒç´ ä¸­ç‰©ä»¶çš„å±¬æ€§å°‡å°æ‡‰è‡³ çš„å±¬æ€§ã€‚&lt;/li>
&lt;li>&lt;strong>script&lt;/strong>ï¼šæ¥å—ä¸€å€‹é™£åˆ—ï¼Œé™£åˆ—ä¸­çš„æ¯å€‹å…ƒç´ ï¼Œéƒ½å°‡æœƒå»ºç«‹ä¸€å€‹ &lt;code>&amp;lt;script&amp;gt;&lt;/code> æ¨™è¨˜ï¼Œå…ƒç´ ä¸­ç‰©ä»¶çš„å±¬æ€§å°‡å°æ‡‰è‡³ çš„å±¬æ€§ã€‚&lt;/li>
&lt;li>&lt;strong>noscript&lt;/strong>ï¼šæ¥å—ä¸€å€‹é™£åˆ—ï¼Œé™£åˆ—ä¸­çš„æ¯å€‹å…ƒç´ ï¼Œéƒ½å°‡æœƒå»ºç«‹ä¸€å€‹ &lt;code>&amp;lt;noscript&amp;gt;&lt;/code> æ¨™è¨˜ï¼Œå…ƒç´ ä¸­ç‰©ä»¶çš„å±¬æ€§å°‡å°æ‡‰è‡³ çš„å±¬æ€§ã€‚&lt;/li>
&lt;li>&lt;strong>titleTemplage&lt;/strong>ï¼šæ¥å—ä¸€å€‹å­—ä¸²æˆ–å‡½æ•¸ï¼Œç”¨ä¾†å‹•æ…‹çš„è¨­å®šè©²é é¢å…ƒä»¶çš„&lt;code>ç¶²é æ¨™é¡Œ&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>title&lt;/strong>ï¼šåœ¨é é¢å…ƒä»¶è¨­ç½®éœæ…‹çš„&lt;code>ç¶²é æ¨™é¡Œ&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>bodyAttrs&lt;/strong>ï¼šæ¥å—ä¸€å€‹ç‰©ä»¶ï¼Œè¨­ç½®ç¶²é ä¸­ æ¨™ç±¤çš„å±¬æ€§ï¼Œç‰©ä»¶ä¸­çš„å±¬æ€§å°‡å°æ‡‰è‡³ çš„å±¬æ€§ã€‚&lt;/li>
&lt;li>&lt;strong>htmlAttrs&lt;/strong>ï¼šæ¥å—ä¸€å€‹ç‰©ä»¶ï¼Œè¨­ç½®ç¶²é ä¸­ æ¨™ç±¤çš„å±¬æ€§ï¼Œç‰©ä»¶ä¸­çš„å±¬æ€§å°‡å°æ‡‰è‡³ çš„å±¬æ€§ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="è‡ªè¨‚-metadata">è‡ªè¨‚ Metadata&lt;/h4>
&lt;p>ä½¿ç”¨ &lt;code>useHead()&lt;/code> å‡½æ•¸è¨­å®šå±¬æ€§æ‰€å‚³å…¥çš„å­—ä¸²æˆ–ç‰©ä»¶å¯ä»¥æ˜¯å…·æœ‰éŸ¿æ‡‰æ€§çš„è®Šæ•¸ï¼Œç•¶æ•¸å€¼è®Šå‹•æ™‚ï¼Œç›¸å°æ‡‰çš„æ•¸å€¼ä¹Ÿæœƒä¸€åŒéŸ¿æ‡‰ï¼Œä¾‹å¦‚ä¸‹é¢çš„ç¨‹å¼ç¢¼ï¼Œå¯ä»¥å‹•æ…‹çš„è®Šæ›´æ¨™é¡Œæˆ–æè¿°ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Nuxt 3 Blog&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">description&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é€™è£¡æ˜¯ Nuxt 3 å­¸ç¿’ç­†è¨˜ å¯¦æˆ°éƒ¨è½æ ¼&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">meta&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;description&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">description&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ·»åŠ å‹•æ…‹ç¶²é çš„æ¨™é¡Œ">æ·»åŠ å‹•æ…‹ç¶²é çš„æ¨™é¡Œ&lt;/h4>
&lt;p>æˆ‘å€‘å¯ä»¥åœ¨ &lt;strong>app.vue&lt;/strong> æ·»åŠ å¦‚ä¸‹ç¨‹å¼ç¢¼ï¼Œ&lt;strong>titleTemplage&lt;/strong> ä¸­çš„ &lt;code>%s&lt;/code> å°‡æœƒå¸¶å…¥ç›®å‰é é¢ &lt;code>title&lt;/code> æˆ–æ›´ä¸Šå±¤é é¢çš„ &lt;code>title&lt;/code> å±¬æ€§ï¼š&lt;/p>
&lt;h5 id="appvue-12">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Nuxt 3 Blog&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">titleTemplate&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;%s - é¦–é &amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°ç¶²é çš„æ¨™é¡Œè®Šç‚ºã€ŒNuxt 3 Blog - é¦–é ã€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618326576_756d879b60_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ä½ ä¹Ÿå¯ä»¥å‚³å…¥ä¸€å€‹å‡½æ•¸ä¾†å‹•æ…‹çš„æ·»åŠ ç¶²é çš„æ¨™é¡Œã€‚&lt;/p>
&lt;h5 id="appvue-13">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Nuxt 3 Blog&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">titleTemplate&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> - é¦–é `&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;é¦–é &amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ·»åŠ å¤–éƒ¨-css">æ·»åŠ å¤–éƒ¨ CSS&lt;/h4>
&lt;p>æˆ‘å¯ä»¥ä½¿ç”¨ &lt;code>useHead()&lt;/code> ä¾†æ·»åŠ  Google å­—é«”è‡³ &lt;code>link&lt;/code> å±¬æ€§ä¹‹ä¸­ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">link&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rel&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;preconnect&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">href&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://fonts.googleapis.com&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rel&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;stylesheet&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">href&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://fonts.googleapis.com/css2?family=Roboto&amp;amp;display=swap&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">crossorigin&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ·»åŠ ç¬¬ä¸‰æ–¹çš„-javascript">æ·»åŠ ç¬¬ä¸‰æ–¹çš„ JavaScript&lt;/h4>
&lt;p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code>useHead()&lt;/code> ä¾†æ’å…¥ç¬¬ä¸‰æ–¹çš„ JSã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">script&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">src&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;https://third-party-script.com&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">body&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ç›¸å°æ‡‰çš„å…ƒä»¶è¨­ç½®å±¬æ€§åŠæ¨™ç±¤">åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ç›¸å°æ‡‰çš„å…ƒä»¶è¨­ç½®å±¬æ€§åŠæ¨™ç±¤&lt;/h4>
&lt;p>Nuxt æä¾› &lt;code>&amp;lt;Title&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;Base&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;Script&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;NoScript&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;Style&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;Meta&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;Link&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;Body&amp;gt;&lt;/code>ã€&lt;code>&amp;lt;Html&amp;gt;&lt;/code> å’Œ &lt;code>&amp;lt;Head&amp;gt;&lt;/code>ï¼Œæˆ‘å€‘å¯ä»¥ç›´æ¥åœ¨å…ƒä»¶ä¸­æ¨¡æ¿ (Template) ä½¿ç”¨é€™äº›å…ƒä»¶é€²è¡Œè¨­å®šç¶²é çš„å±¬æ€§åŠæ¨™ç±¤ã€‚&lt;/p>
&lt;p>å› ç‚ºé€™äº›å…ƒä»¶åç¨±èˆ‡åŸç”Ÿ HTML æ¨™è¨˜ç›¸ä¼¼ï¼Œæ‰€ä»¥è¨˜å¾—åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨è¦é–‹é ­ç‚º&lt;code>å¤§å¯«&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Title&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">Title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Meta&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;description&amp;#34;&lt;/span> &lt;span class="nt">:content&lt;/span>&lt;span class="s">=&amp;#34;description&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Style&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text/css&amp;#34;&lt;/span> &lt;span class="na">children&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;body { background-color: green; }&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">Style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">Head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Nuxt 3 Blog&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">description&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é€™è£¡æ˜¯ Nuxt 3 å­¸ç¿’ç­†è¨˜ å¯¦æˆ°éƒ¨è½æ ¼&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="definepagemeta">definePageMeta()&lt;/h3>
&lt;p>æˆ‘å€‘å…¶å¯¦åœ¨å‰é¢å°±æœ‰ä½¿ç”¨é &lt;code>definePageMeta()&lt;/code> ä¾†è¨­ç½®é é¢çš„å¸ƒå±€æˆ–ä¸­é–“ä»¶ï¼Œåœ¨å„å€‹é é¢ä¹‹ä¸­ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code>definePageMeta()&lt;/code> ä¾†è¨­ç½®ä¸€äº›å±¬æ€§èˆ‡ &lt;code>useHead()&lt;/code> é€²è¡Œæ­é…ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæˆ‘å€‘çš„ &lt;strong>app.vue&lt;/strong> ä½¿ç”¨ &lt;code>useHead&lt;/code> è¨­å®šçš„ä¸€å€‹ &lt;strong>meta&lt;/strong>ï¼Œä¸¦ä¸”æ˜¯æ ¹æ“š &lt;strong>route.meta.title&lt;/strong> æ‰€å‹•æ…‹çš„è¨­å®šã€‚&lt;/p>
&lt;h5 id="appvue-14">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">route&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useRoute&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">useHead&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">meta&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[{&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;og:title&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">route&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">meta&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> | Nuxt 3 Blog`&lt;/span> &lt;span class="p">}]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘åœ¨ &lt;strong>pages/articles.vue&lt;/strong> æ·»åŠ å¦‚ä¸‹ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;h5 id="pagesarticlesvue">pages/articles.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">definePageMeta&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ‰€æœ‰æ–‡ç« &amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘ç€è¦½ &lt;strong>/articles&lt;/strong> é é¢æ™‚ï¼ŒNuxt åœ¨ä¼ºæœå™¨ç«¯å°±å¹«æˆ‘å€‘æ¸²æŸ“å¥½ &lt;code>og:title&lt;/code> çš„ &lt;code>meta&lt;/code> äº†ã€‚æˆ‘å€‘å¯ä»¥é€éæª¢è¦–åŸå§‹ç¢¼çš„æ–¹å¼ä¾†çœ‹çœ‹æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52618815023_04fb4a9b6a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>åœ¨ Nuxt 3 æä¾›äº†ä¸€äº›å¯ä»¥è¨­ç½®ç¶²é å±¬æ€§èˆ‡ &lt;strong>Meta&lt;/strong> çš„çµ„åˆå¼å‡½æ•¸ï¼Œæ›´èƒ½å‹•æ…‹çš„èª¿æ•´èˆ‡éŸ¿æ‡‰ï¼Œçµåˆ SSR è®“é€™äº›æ¨™è¨˜åœ¨ä¼ºæœå™¨ç«¯å°±èƒ½æ¸²æŸ“å‡ºä¾†ï¼Œå°ç¶²ç«™åšæœå°‹å¼•æ“æœ€ä½³åŒ– (SEO) éå¸¸å¾—å‹å–„ï¼Œä¹Ÿæ˜¯å¤šæ•¸äººé¸æ“‡ Nuxt 3 ä¾†è™•ç† SSR èˆ‡ SEO çš„åŸå› ã€‚é™¤äº† SEO å¯èƒ½æœƒä½¿ç”¨åˆ°çš„æ¨™è¨˜å¤–ï¼Œä¹Ÿæœ‰ &lt;strong>OG Tag&lt;/strong> å¯ä»¥åŠ å¼·ç¶²é çš„é€£çµé è¦½æ•ˆæœï¼Œé›–ç„¶ &lt;strong>OG Tag&lt;/strong> èˆ‡ SEO æ²’æœ‰çµ•å°çš„é—œä¿‚ï¼Œä½†æ˜¯é€éä¼ºæœå™¨ç«¯æ¸²æŸ“èª¿æ•´é€™äº› &lt;strong>Meta&lt;/strong> å°æœå°‹å¼•æ“æˆ–ç¶²ç«™éƒ½éå¸¸çš„æ–¹ä¾¿ï¼Œæˆ‘å€‘åªè¦æ ¹æ“šéœ€æ±‚åŠæŒ‡å¼•åšè¨­å®šï¼Œå°±èƒ½å°ç¶²ç«™çš„èƒ½è¦‹åº¦æœ‰æ‰€æå‡ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="public-èˆ‡-assets-è³‡æºç›®éŒ„nuxt-3-çš„éœæ…‹è³‡æº">Public èˆ‡ Assets è³‡æºç›®éŒ„(Nuxt 3 çš„éœæ…‹è³‡æº)&lt;/h2>
&lt;p>åœ¨ç¶²ç«™çš„é–‹ç™¼éç¨‹ä¸­ï¼Œå¤šå°‘æœƒä½¿ç”¨åˆ°åœ–ç‰‡ã€æ¨£å¼æˆ–è¨­å®šå­—é«”ï¼Œè€Œç•¶é€™äº›æª”æ¡ˆè‹¥æ²’æœ‰å¤–éƒ¨é€£çµæˆ–æŸäº›éœ€æ±‚ä¸‹éœ€è¦åŒ…å«åœ¨å°ˆæ¡ˆå…§åšä½¿ç”¨ï¼Œæœ€å¾Œé€£å¸¶é€™äº›æª”æ¡ˆä¸€èµ·éƒ¨ç½²ã€‚åœ¨ä½¿ç”¨ &lt;a class="link" href="https://github.com/vuejs/create-vue" target="_blank" rel="noopener"
>create-vue&lt;/a> å»ºç«‹çš„ Vue çš„å°ˆæ¡ˆä¸‹åŒ…å«äº† &lt;code>public&lt;/code> èˆ‡ src å…§çš„ &lt;code>assets&lt;/code> ç›®éŒ„ï¼Œé€™å…©å€‹ç›®éŒ„éƒ½æ˜¯å¯ä»¥æ”¾ç½®é€™é¡ä¸å¸¸è®Šå‹•çš„éœæ…‹è³‡æºï¼Œä½†é€™å…©å€‹ç›®éŒ„å„è‡ªå› ç‚ºä¸€äº›ç‰¹æ€§ï¼Œå»ºè­°æ”¾ç½®çš„æª”æ¡ˆé¡å‹ä¾æ“šä½¿ç”¨ç›®çš„æœ‰æ‰€å€åˆ¥ã€‚&lt;/p>
&lt;p>Nuxt 3 ä½¿ç”¨å°ˆæ¡ˆä¸‹çš„å…©å€‹ç›®éŒ„ä¾†æä¾›ä½¿ç”¨è€…è™•ç†åœ–ç‰‡ã€æ¨£å¼æˆ–å­—é«”ï¼Œé€™å…©å€‹ç›®éŒ„åˆ†åˆ¥ç‚º &lt;code>public&lt;/code> èˆ‡ &lt;code>assets&lt;/code>ã€‚&lt;/p>
&lt;h3 id="public-ç›®éŒ„">public ç›®éŒ„&lt;/h3>
&lt;p>åœ¨ Nuxt 3 çš„å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹ï¼Œå­˜åœ¨ä¸€å€‹åç‚º &lt;code>public&lt;/code> çš„ç›®éŒ„ï¼Œé€™å€‹ç›®éŒ„å¦‚åŒ Vue ä¸­çš„ &lt;code>public&lt;/code> ç›®éŒ„æˆ– Nuxt 2 ä¸­çš„ &lt;code>static&lt;/code> ç›®éŒ„ã€‚é€™å€‹ç›®éŒ„ä¸‹çš„æª”æ¡ˆï¼Œå°‡æœƒç”± Nuxt ç›´æ¥æ–¼ç¶²ç«™çš„æ ¹è·¯å¾‘ï¼Œä¾‹å¦‚ &lt;code>/&lt;/code> æä¾›å­˜å–ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚å»ºç«‹ &lt;strong>public/robots.txt&lt;/strong> å°‡å¯ä»¥ä½¿ç”¨ &lt;a class="link" href="http://localhost:3000/robots.txt" target="_blank" rel="noopener"
>http://localhost:3000/robots.txt&lt;/a> å­˜å–ã€‚&lt;/p>
&lt;p>é€šå¸¸æˆ‘å€‘æœƒåœ¨ &lt;code>public&lt;/code> ç›®éŒ„æ”¾ç½®ä¸å¸¸æ›´å‹•çš„æª”æ¡ˆï¼Œæˆ–æ˜¯éœ€è¦ä¿ç•™æª”æ¡ˆçš„åç¨±ï¼Œä¾‹å¦‚ &lt;strong>robots.txt&lt;/strong> å°±éœ€è¦ä¸€å€‹å›ºå®šçš„åç¨±ï¼Œæ‰èƒ½æ­£ç¢ºçš„è¢«æœå°‹å¼•æ“çš„çˆ¬èŸ²æ‰€è§£æå†æ±ºå®šæª¢ç´¢çš„è¦å‰‡ï¼ŒæŠ‘æˆ– &lt;strong>sitemap.xml&lt;/strong> èˆ‡ &lt;strong>favicon.ico&lt;/strong> æª”æ¡ˆç­‰ï¼Œéƒ½å¾ˆé©åˆæ”¾ç½®åœ¨ &lt;code>public&lt;/code> ç›®éŒ„ã€‚&lt;/p>
&lt;p>ä½ å¯èƒ½ä¹Ÿæœƒæƒ³ï¼Œé‚£åœ–ç‰‡æˆ– CSS æ¨£å¼ï¼Œæˆ‘ä¹Ÿä¸å¸¸è®Šå‹•ï¼Œé›£é“å°±ä¸èƒ½æ”¾ç½®åœ¨ public ç›®éŒ„å—ï¼Ÿ&lt;/p>
&lt;p>&lt;strong>è¡Œï¼Œç•¶ç„¶è¡Œï¼Œå“ªæ¬¡ä¸è¡Œï¼&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630176588_1a720e08f8_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>èˆ‰å€‹ä¾‹å­ï¼Œæˆ‘å€‘å°‡é€™å¼µåœ–ç‰‡æ”¾ç½®æ–¼ &lt;code>public&lt;/code> ç›®éŒ„ä¸‹ä¸¦å‘½åç‚º &lt;strong>bg.png&lt;/strong>ï¼Œå°ˆæ¡ˆç›®éŒ„ä¸‹å…¶ä»–æª”æ¡ˆå°±å…ˆä¸åˆ—ï¼Œæ•´å€‹çµæ§‹å¤§æ¦‚é•·çš„åƒä¸‹é¢é€™æ¨£ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nuxt-app/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ public/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ bg.png
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ app.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ ¹æ“šè¦å‰‡ï¼Œæˆ‘å¯ä»¥ä½¿ç”¨ &lt;a class="link" href="http://localhost:3000/bg.png" target="_blank" rel="noopener"
>http://localhost:3000/bg.png&lt;/a> å­˜å–ï¼Œå¦‚ä¸‹åœ–æˆ‘å€‘ç¢ºå¯¦æˆåŠŸçš„èƒ½å­˜å–åˆ°åœ–ç‰‡ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630176003_baa9c8737a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ‰€ä»¥ï¼Œæˆ‘å€‘åœ¨ &lt;strong>app.vue&lt;/strong> æ–°å¢å¦‚ä¸‹ç¨‹å¼ç¢¼ï¼Œä½¿ç”¨ &lt;code>/bg.png&lt;/code> ä¾†ç­‰åŒè¨ªå• &lt;strong>public/bg.png&lt;/strong> æª”æ¡ˆï¼š&lt;/p>
&lt;h5 id="appvue-15">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/bg.png&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹Ÿç¢ºå¯¦èƒ½åœ¨ç¶²é ä¸­ä½¿ç”¨ &lt;code>&amp;lt;img src=&amp;quot;/bg.png&amp;quot; /&amp;gt;&lt;/code> ä¾†é¡¯ç¤ºåœ–ç‰‡ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629175752_c8f3b2c406_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ—¢ç„¶ &lt;code>public&lt;/code> ç›®éŒ„å·²ç¶“èƒ½æä¾›éœæ…‹è³‡æºçš„é€£çµï¼Œé‚£éº¼ç‚ºä»€éº¼é‚„æœ‰ä¸€å€‹åç‚º &lt;code>assets&lt;/code> çš„ç›®éŒ„å‘¢ï¼Ÿæ¥ä¸‹ä¾†æˆ‘å€‘å…ˆä»‹ç´¹ &lt;code>assets&lt;/code> ç›®éŒ„ï¼Œæœ€å¾Œå†ä¾†ç¸½çµä¸€ä¸‹å·®ç•°ã€‚&lt;/p>
&lt;h3 id="assets-ç›®éŒ„-1">assets ç›®éŒ„&lt;/h3>
&lt;p>Nuxt 3 ä½¿ç”¨ &lt;a class="link" href="https://vitejs.dev/guide/assets.html" target="_blank" rel="noopener"
>Vite&lt;/a> æˆ– &lt;a class="link" href="https://webpack.js.org/guides/asset-management/" target="_blank" rel="noopener"
>Webpack&lt;/a> ä¾†å»ºæ§‹å°ˆæ¡ˆé€²è¡Œæ‰“åŒ…ï¼Œé€™äº›å»ºæ§‹å·¥å…·ä¸»è¦åŠŸèƒ½æ˜¯ç”¨ä¾†è™•ç† JavaScript æª”æ¡ˆå°‡å…¶ç·¨è­¯ã€è½‰æ›æˆ–å£“ç¸®ç­‰ï¼Œä½†å®ƒå€‘å¯ä»¥é€éå„è‡ªçš„&lt;strong>æ’ä»¶&lt;/strong>æˆ– &lt;strong>Loader&lt;/strong> ä¾†è™•ç†å…¶ä»–æª”æ¡ˆé¡å‹çš„è³‡æºï¼Œä¾‹å¦‚æ¨£å¼ã€å­—é«”æˆ– SVG ç­‰ã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘åœ¨ &lt;code>assets&lt;/code> ä¸‹å»ºç«‹ä¸€å€‹ Sass çš„æ¨£å¼ï¼Œç•¶é€™å€‹ Sass æª”æ¡ˆè¢«è¼‰å…¥ä½¿ç”¨ï¼Œå°±æœƒç¶“é&lt;strong>æ’ä»¶&lt;/strong>æˆ– &lt;strong>Loader&lt;/strong> ä¾†é€²è¡Œ CSS çš„é è™•ç†åŠç·¨è­¯ï¼Œæœ€çµ‚ç”¢ç”Ÿä¸€å€‹ CSS æª”æ¡ˆï¼Œä¹Ÿå¯ä»¥é‡å°å–®ç´”çš„ CSS æª”æ¡ˆé€²è¡Œå£“ç¸®ã€‚åˆæˆ–è€…èªªï¼Œç•¶ä½¿ç”¨ &lt;code>&amp;lt;img&amp;gt;&lt;/code> çš„ &lt;strong>src&lt;/strong> å±¬æ€§è¨­å®šè¼‰å…¥æˆ‘å€‘æ”¾ç½®åœ¨ &lt;code>assets&lt;/code> çš„åœ–ç‰‡æˆ–åœ–ç¤ºï¼Œæœ€çµ‚éœ€è¦è½‰æ›ç‚º Base64 ç·¨ç¢¼è€Œä¸æ˜¯ç”¢ç”Ÿä¸€å€‹é€£çµï¼Œæˆ‘å€‘ä¹Ÿéœ€è¦ä¾è³´å»ºæ§‹å·¥å…·æ’ä»¶çš„æ“´å±•ä¾†å¹«åŠ©ã€‚&lt;/p>
&lt;p>å…¶ä¸»è¦çš„ç›®çš„ï¼Œä¸å¤–ä¹å°±æ˜¯ç‚ºäº†æ•ˆèƒ½èˆ‡è§£æ±ºç€è¦½å™¨çš„å¿«å–ã€‚æ”¾ç½®åœ¨ &lt;code>assets&lt;/code> ç›®éŒ„ä¸‹çš„æª”æ¡ˆï¼Œå¯èƒ½æœƒè¢«&lt;strong>æ’ä»¶&lt;/strong>æˆ– &lt;strong>Loader&lt;/strong> é€²è¡Œè½‰æ›æˆ–å£“ç¸®ï¼Œæœ€çµ‚ç”¢ç”Ÿå‡ºä¾†çš„æª”æ¡ˆä¹Ÿå…·å‚™é€£çµå¯ä»¥é€²è¡Œå­˜å–ã€‚&lt;/p>
&lt;p>å¦‚æœä½¿ç”¨ &lt;code>public&lt;/code> ç›®éŒ„ä¸‹å°å‡ºçš„ &lt;strong>/bg.png&lt;/strong>ï¼Œå°±ç®—æˆ‘å€‘æ›¿æ›äº† &lt;strong>bg.png&lt;/strong> åœ–ç‰‡ï¼Œå¯èƒ½å°±æœƒå› ç‚ºæª”æ¡ˆæ ¹æ“šæª”æ¡ˆåç¨±è¢«ç€è¦½å™¨å¿«å–ä½ï¼Œå°è‡´å‰ç«¯é‚„æ˜¯çœ‹åˆ°èˆŠçš„æª”æ¡ˆã€‚æˆ‘å€‘åœ¨ä½¿ç”¨ &lt;code>assets&lt;/code> ç›®éŒ„ä¸‹çš„æª”æ¡ˆæ™‚é›–ç„¶æª”åéƒ½æ˜¯ &lt;strong>bg.png&lt;/strong>ï¼Œä½†åœ¨å»ºæ§‹æ™‚ç”¢ç”Ÿçš„æª”æ¡ˆé€šå¸¸æœƒå¤¾å¸¶ &lt;code>Hash&lt;/code>ï¼Œä¾‹å¦‚ï¼š&lt;strong>bg.16a2f98c.png&lt;/strong>ï¼Œå¦‚æ­¤ä¸€ä¾†æˆ‘å€‘æ¯æ¬¡æ›´æ–°åœ–ç‰‡ï¼Œéƒ½éƒ½æœƒéš¨æ©Ÿçš„ç”¢ç”Ÿä¸€çµ„ Hash å°±èƒ½é˜²æ­¢ç€è¦½å™¨å¿«å–ï¼Œå°è‡´å¥½åƒç¶²ç«™æ›´æ–°å¤±æ•ˆçš„éŒ¯è¦ºã€‚&lt;/p>
&lt;p>èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘ä»¥ç›¸åŒçš„åœ–ç‰‡ï¼Œæ”¹æ”¾ç½®æ–¼ &lt;strong>assets/bg.png&lt;/strong>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nuxt-app/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ assets/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ bg.png
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ app.vue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="appvue-16">app.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;~/assets/bg.png&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨é–‹ç™¼ç’°å¢ƒ &lt;code>~/assets/bg.png&lt;/code> æœƒè½‰æ›ç‚º &lt;code>/_nuxt/assets/bg.png&lt;/code>ï¼Œå¯¦éš›ä¸Šä¹Ÿèƒ½ä½¿ç”¨ &lt;a class="link" href="http://localhost:3000/_nuxt/assets/bg.png" target="_blank" rel="noopener"
>http://localhost:3000/_nuxt/assets/bg.png&lt;/a> é€²è¡Œè¨ªå•ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630134105_59cf185408_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>é™¤äº† ~/assets å¯ä»¥å°æ‡‰ assets ç›®éŒ„å¤–ï¼Œä¹Ÿå¯ä»¥åƒè€ƒå®˜æ–¹çš„ &lt;a class="link" href="https://nuxt.com/docs/api/configuration/nuxt-config#alias" target="_blank" rel="noopener"
>alias&lt;/a> æ›´å¤šæˆ–è‡ªè¨‚åˆ¥åä¾†ä½¿ç”¨ç›¸å°è·¯å¾‘ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ä½†ç•¶ä½ çš„ç¶²ç«™éƒ¨ç½²å®Œæˆæˆ–å•Ÿå‹•å»ºæ§‹å‡ºä¾†çš„å°ˆæ¡ˆï¼Œæœƒç™¼ç¾åœ–ç‰‡æª”ååŒ…å«äº† &lt;code>Hash&lt;/code>ï¼Œä¾‹å¦‚ &lt;code>/_nuxt/bg.0a299ea1.png&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630176173_dd37d79c67_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æœ€å¾Œæˆ‘å€‘ä»¥æœ€çµ‚å»ºæ§‹å‡ºä¾†çš„å°ˆæ¡ˆçµæ§‹å°æ¯”å¦‚ä¸‹åœ–ï¼Œåœ¨ &lt;code>public&lt;/code> ç›®éŒ„ä¸‹çš„æª”æ¡ˆï¼ŒæœƒåŸå°ä¸å‹•çš„ç…§æ¬è‡³ &lt;code>.output/public&lt;/code> ä¸‹ï¼Œä¹Ÿå°±å¯ä»¥ä½¿ç”¨ &lt;strong>/bg.png&lt;/strong> å­˜å–ï¼›è€Œæ”¾ç½®åœ¨ &lt;code>assets&lt;/code> ä¸‹çš„æª”æ¡ˆï¼Œå¯èƒ½æœƒè¢«è™•ç†åŠ å·¥ï¼Œæœ€å¾Œæª”æ¡ˆåç¨±æœƒåŠ ä¸Šä¸€å€‹ &lt;code>Hash&lt;/code> ä¸¦æ”¾ç½®åœ¨ &lt;code>.output/public/_nuxt&lt;/code> ä¸‹ï¼Œä¹Ÿå°±éœ€è¦ä½¿ç”¨ &lt;strong>/_nuxt/bg.0a299ea1.png&lt;/strong> å­˜å–ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629175877_933064e5f8_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç¸½çµä¾†èªªå¤šæ•¸æƒ…æ³å»ºè­°æŠŠéœæ…‹è³‡æºæ”¾ç½®åœ¨ &lt;code>assets&lt;/code>ï¼Œä¹Ÿå› ç‚ºéœæ…‹è³‡æºå¤šç‚º SFC æ‰€ä½¿ç”¨ï¼Œé€šå¸¸ä¹Ÿæœƒæ”¾ç½®æœ€å¤šæª”æ¡ˆï¼Œæœ€å¾Œå»ºæ§‹æ™‚ä¹Ÿæœƒå› ç‚ºå»ºæ§‹å·¥å…·çš„è¨­å®šä¾†é€²è¡Œè½‰æ›æˆ–å£“ç¸®ï¼Œæœ€å¾Œæ·»åŠ  &lt;code>Hash&lt;/code> ä¾†æä¾›å­˜å–ï¼Œä¹Ÿå› ç‚ºæ¯æ¬¡å»ºæ§‹ç”¢ç”Ÿçš„æª”æ¡ˆéƒ½ä¸ä¸€æ¨£ï¼Œæ‰€ä»¥ä¸é©åˆç›´æ¥ä»¥å®Œæ•´çš„ URL ä¾›å¤–éƒ¨é€£çµä½¿ç”¨ã€‚è€Œç•¶æœ‰äº›ä¾‹å¤–æƒ…æ³ä¸é©åˆï¼Œä¾‹å¦‚ &lt;code>robots.txt&lt;/code> æˆ– &lt;code>sitemap.xml&lt;/code> é€™é¡çš„æª”æ¡ˆä¸éœ€è¦ç¶“éé¡å¤–è™•ç†ä¸”éœ€è¦çµ•å°è·¯å¾‘ä¿æŒæª”æ¡ˆåç¨±ï¼Œé‚£å°±å¾—æ”¾ç½®åœ¨ &lt;code>public&lt;/code> ç›®éŒ„ä¸‹æä¾›å­˜å–ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ç™¼å¸ƒç¶²ç«™å‰çš„å»ºæ§‹æ‰“åŒ…-build-èˆ‡éœæ…‹ç¶²ç«™ç”Ÿæˆ-static-site-generation">ç™¼å¸ƒç¶²ç«™å‰çš„å»ºæ§‹æ‰“åŒ… (Build) èˆ‡éœæ…‹ç¶²ç«™ç”Ÿæˆ (Static Site Generation)&lt;/h2>
&lt;p>ç•¶ç¶²ç«™é–‹ç™¼å®Œæˆæˆ–æœ‰å°å…¥ CI/CDï¼Œåœ¨æº–å‚™ç™¼å¸ƒç¶²ç«™å‰ï¼Œæˆ‘å€‘æœƒå°‡ Nuxt ç¶²ç«™çš„é–‹ç™¼å°ˆæ¡ˆé€é Nuxt æä¾›çš„æŒ‡ä»¤ï¼Œæˆ‘å€‘å¯ä»¥ä¾†å»ºæ§‹å‡º&lt;strong>æ­£å¼ç’°å¢ƒ&lt;/strong>æ‰€éœ€è¦çš„ç‰ˆæœ¬ï¼Œé€™å€‹å»ºæ§‹çš„éç¨‹ä½ å¯ä»¥ç†è§£ç‚ºå°ˆæ¡ˆå°‡æœƒæ‰“åŒ…éœ€è¦çš„ä¾è³´å¥—ä»¶ã€ç·¨è­¯èˆ‡è½‰æ›ç›¸é—œçš„ Vue SFC èˆ‡æ¨£å¼ç­‰ï¼Œç”šè‡³å¹«ä½ å£“ç¸®é€™äº›æª”æ¡ˆç­‰è¨±å¤šæ­¥é©Ÿï¼Œé€™äº›ç¹ç‘£çš„éç¨‹éƒ½é€é Nuxt çš„å»ºæ§‹æŒ‡ä»¤ä¾†å¹«ä½ å®Œæˆï¼Œä½ å¯ä»¥çµåˆä¸€äº›è¨­å®šåƒæ•¸èˆ‡æŒ‡ä»¤ï¼Œä¾†å¹«åŠ©ä½ å»ºæ§‹å‡º&lt;strong>æ­£å¼ç’°å¢ƒ&lt;/strong>æ‰€éœ€è¦çš„ç¶²ç«™å°ˆæ¡ˆï¼Œæœ€å¾Œå†é€²è¡Œéƒ¨ç½²çš„å‹•ä½œã€‚&lt;/p>
&lt;h3 id="nuxt-3-å°ˆæ¡ˆå¦‚ä½•å»ºæ§‹æ­£å¼ç’°å¢ƒç‰ˆæœ¬">Nuxt 3 å°ˆæ¡ˆå¦‚ä½•å»ºæ§‹æ­£å¼ç’°å¢ƒç‰ˆæœ¬ï¼Ÿ&lt;/h3>
&lt;p>ç•¶æˆ‘å€‘å»ºç«‹ä¸€å€‹ä¹¾æ·¨çš„ Nuxt 3 å°ˆæ¡ˆï¼Œå¯ä»¥ä½¿ç”¨ &lt;strong>package.json&lt;/strong> ä¸­ &lt;strong>scripts&lt;/strong> å…§çš„æŒ‡ä»¤ä¾†é€²è¡Œå»ºæ§‹æˆ–é æ¸²æŸ“ç”¢ç”Ÿéœæ…‹é é¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm run generate
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run build&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run generate&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ–è€…ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ Nuxt CLI ä¾†é”åˆ°ä¸€æ¨£çš„æ•ˆæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx nuxi build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npx nuxi generate
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>generate&lt;/code> æŒ‡ä»¤æœƒè§¸ç™¼ &lt;code>build&lt;/code> çš„æŒ‡ä»¤ä¸¦å¸¶æœ‰ &lt;strong>prerender&lt;/strong> ç‚º &lt;code>true&lt;/code> çš„åƒæ•¸ï¼Œæœ€çµ‚ç”¢ç”Ÿå‡ºä¾†çš„ç›®éŒ„å¯ä»¥ç›´æ¥é€²è¡Œéƒ¨ç½²ï¼Œä¸éœ€è¦å†åŸ·è¡Œä¸€æ¬¡ &lt;code>build&lt;/code> çš„æŒ‡ä»¤ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨é è¨­é…ç½®é€²è¡Œå»ºæ§‹---å»ºæ§‹é€šç”¨æ¸²æŸ“-universal-rendering-çš„ç¶²ç«™">ä½¿ç”¨é è¨­é…ç½®é€²è¡Œå»ºæ§‹ - å»ºæ§‹é€šç”¨æ¸²æŸ“ (Universal Rendering) çš„ç¶²ç«™&lt;/h3>
&lt;p>é€™é‚Šæˆ‘å€‘ä»¥ &lt;a class="link" href="https://wayneblog.ga/2023-01-16/nuxt-nuxt3-practice-project/" >ã€Nuxt3ã€‘å¯¦æˆ°ç·´ç¿’ - å¯¦ä½œéƒ¨è½æ ¼&lt;/a> æ‰€å»ºç«‹çš„&lt;a class="link" href="https://github.com/wjdesign/ithome-2022-ironman-nuxt3/tree/nuxt-app-blog" target="_blank" rel="noopener"
>éƒ¨è½æ ¼&lt;/a>ä½œç‚ºç¯„ä¾‹ï¼Œä¾†å˜—è©¦ä»¥é è¨­çš„é…ç½®é€²è¡Œå»ºæ§‹ï¼Œç›®å‰ Nuxt 3 é è¨­ &lt;code>nuxt.config.ts&lt;/code> ä¸­ &lt;code>ssr&lt;/code> å±¬æ€§ç‚º &lt;code>true&lt;/code>ï¼Œä¹Ÿå°±ä½¿ç”¨&lt;strong>é€šç”¨æ¸²æŸ“ (Universal Rendering)&lt;/strong>ã€‚&lt;/p>
&lt;p>æˆ‘å€‘é€²å…¥å°ˆæ¡ˆç›®éŒ„ï¼ŒåŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run build&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸éœ€è¦åœ¨é¡å¤–çš„é…ç½®æˆ–æ­¥é©Ÿï¼ŒNuxt å°±æœƒè‡ªå‹•å¹«æˆ‘å€‘æ‰“åŒ…ä¸¦å»ºæ§‹å‡ºå¯ä»¥éƒ¨ç½²çš„ç¶²ç«™ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630176278_33ffb31297_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å»ºæ§‹å®Œæˆå¾Œæœƒåœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹å¤šå‡ºä¸€å€‹ &lt;code>.output&lt;/code> ç›®éŒ„ï¼Œ&lt;code>public&lt;/code> å°±æ˜¯åœ¨ç¶²ç«™æ ¹ç›®éŒ„ç›´æ¥å…¬é–‹æ‰“åŒ…å¾Œçš„ JSã€CSS åœ–ç‰‡ç­‰ç›¸é—œæª”æ¡ˆã€‚ç”±æ–¼é€šç”¨æ¸²æŸ“ä½¿ç”¨ Nitro ä½œç‚ºæœå‹™å¼•æ“ï¼Œæ‰€ä»¥æœƒéœ€è¦ä½¿ç”¨ Node.js ä¾†å•Ÿå‹•æˆ‘å€‘çš„æœå‹™ï¼Œæ‰€ä»¥ &lt;code>server&lt;/code> å‰‡æ˜¯æœƒæ”¾ç½®ä¼ºæœå™¨ç«¯çš„ Nitroã€Server API è™•ç†é‚è¼¯ç­‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630134450_bf00a38cea_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æˆ‘å€‘å¯ä»¥å…ˆåœ¨æœ¬åœ°åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ä¾†é è¦½å»ºæ§‹å‡ºä¾†çš„ç¶²ç«™èˆ‡ Nitro æ˜¯å¦èƒ½é‹ä½œæ­£å¸¸ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">node .output/server/index.mjs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ç¢ºèªæ²’å•é¡Œå¾Œï¼Œå°±èƒ½ä»¥ &lt;code>.output&lt;/code> ç›®éŒ„é€²è¡Œç¶²ç«™éƒ¨ç½²ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨é æ¸²æŸ“å»ºç½®å…¨éœæ…‹é é¢ç¶²ç«™">ä½¿ç”¨é æ¸²æŸ“å»ºç½®å…¨éœæ…‹é é¢ç¶²ç«™&lt;/h3>
&lt;p>æˆ‘å€‘å¯ä»¥åœ¨ Nuxt 3 å»ºæ§‹æ™‚æœŸä¾†é€²è¡Œ&lt;strong>é æ¸²æŸ“ (pre-rendering)&lt;/strong>ï¼Œå°‡å°ˆæ¡ˆå…§éœ€è¦æ‰“ API è«‹æ±‚åŠå‹•æ…‹æ¸²æŸ“å…ƒä»¶çš„åœ°æ–¹ï¼Œå…ˆæ¸²æŸ“ç”Ÿæˆå‡º HTML ç¶²é ï¼Œé€™å€‹éç¨‹ä¹Ÿç¨±ä¹‹ç‚º&lt;strong>éœæ…‹ç¶²ç«™ç”Ÿæˆ (Static Site Generation)&lt;/strong>ï¼Œé€²è€Œå»ºæ§‹å‡ºå…¨éœæ…‹é é¢çš„ç¶²ç«™ã€‚&lt;/p>
&lt;p>åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤é€²è¡Œéœæ…‹é é¢ç”Ÿæˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run generate
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run generate&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>generate&lt;/code> æŒ‡ä»¤æœƒè§¸ç™¼ &lt;code>build&lt;/code> çš„æŒ‡ä»¤ä¸¦å¸¶æœ‰ &lt;strong>prerender&lt;/strong> ç‚º &lt;code>true&lt;/code> çš„åƒæ•¸ï¼Œæœ€çµ‚æœƒæç¤ºç”¢ç”Ÿçš„ç›®éŒ„ &lt;code>.output/public&lt;/code> å¯ä»¥ç”¨ä¾†éƒ¨ç½²è‡³éœæ…‹è¨—ç®¡ä¼ºæœå™¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629943864_15a3b70736_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç•¶å»ºæ§‹å®Œæˆå¾Œï¼Œæœƒåœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹å¤šå‡ºä¸€å€‹ &lt;code>.output&lt;/code> ç›®éŒ„åŒæ™‚ä¹Ÿæœƒæœ‰ &lt;code>dist&lt;/code> ç›®éŒ„ï¼Œå¯ä»¥ç™¼ç¾ &lt;code>.output/public&lt;/code> ç›®éŒ„å…§å®¹èˆ‡ &lt;code>dist&lt;/code> ç›®éŒ„ç›¸åŒã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629176072_058cbabe22_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>éœæ…‹é é¢çš„ç”Ÿæˆå› ç‚º Nuxt ä½¿ç”¨åŸºæ–¼çˆ¬èŸ²çš„æŠ€è¡“ç‚ºæ¯å€‹é é¢ç”¢ç”Ÿ HTML èˆ‡ Payload æª”æ¡ˆï¼Œå¯ä»¥ç™¼ç¾ç”¢ç”Ÿçš„éœæ…‹é é¢ç›®éŒ„çµæ§‹ï¼Œä¹Ÿå°æ‡‰è‘—æˆ‘å€‘å°ˆæ¡ˆçš„è·¯ç”±é é¢ï¼Œè€Œé é¢å…ƒä»¶è³‡æ–™å¤¾å…§æœƒç”±ä¸€å€‹ &lt;code>index.html&lt;/code> èˆ‡ &lt;code>_payload.js&lt;/code> çµ„æˆã€‚&lt;/p>
&lt;p>ä¸‹åœ–æ‰€ç”¢ç”Ÿçš„çµæ§‹ï¼Œæ˜¯å› ç‚ºæˆ‘å€‘çš„éƒ¨è½æ ¼è³‡æ–™åº«å…§å·²ç¶“æœ‰ä¸‰ç­†æ–‡ç« è³‡æ–™ï¼Œ&lt;code>/articles&lt;/code> é é¢æœƒå–å¾—æ‰€æœ‰çš„æ–‡ç« ï¼Œä¸¦åˆ—å‡ºå°æ‡‰è‘— &lt;code>/articles/1&lt;/code>ã€&lt;code>/articles/2&lt;/code> èˆ‡ &lt;code>/articles/3&lt;/code> ç›®éŒ„ï¼Œæ¯å€‹é é¢å…§ä¹Ÿéƒ½åŒ…å«é å…ˆå¾ Server API è«‹æ±‚å¥½çš„æ–‡ç« è³‡æ–™ä¸¦å­˜æ–¼ &lt;code>_payload.js&lt;/code> ä¹‹ä¸­ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630134335_4a264f46cd_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>è‡³æ­¤æˆ‘å€‘å°±å¯ä»¥å°‡ &lt;code>.output&lt;/code> ç›®éŒ„éƒ¨ç½²è‡³ä¼ºæœå™¨æˆ–éœæ…‹è¨—ç®¡æœå‹™ï¼Œè€Œä¸”ä¹Ÿä¸éœ€è¦åœ¨ä½¿ç”¨ Node.js ä¼ºæœå™¨ä¾†æœå‹™é€™äº›éœæ…‹æª”æ¡ˆã€‚&lt;/p>
&lt;h3 id="æ‰‹å‹•è¨­å®šé æ¸²æŸ“çš„è·¯ç”±è¦å‰‡">æ‰‹å‹•è¨­å®šé æ¸²æŸ“çš„è·¯ç”±è¦å‰‡&lt;/h3>
&lt;p>æˆ‘å€‘ä½¿ç”¨ &lt;code>generate&lt;/code> æŒ‡ä»¤æ‰€ç”¢ç”Ÿçš„å…¨éœæ…‹é é¢ç¶²ç«™ï¼Œæ˜¯åŸºæ–¼ Nuxt çš„çˆ¬èŸ²æŠ€è¡“ä¾†åˆ†æé é¢ï¼Œå¦‚åŒå‰å€‹ä¾‹å­æ–‡ç« é é¢çš„ç”¢ç”Ÿæ‰€æè¿°ï¼Œå¦‚æœæˆ‘å€‘çš„è³‡æ–™åº«å­˜åœ¨è‘— &lt;strong>200&lt;/strong> ç­†è³‡æ–™ï¼Œä½† &lt;code>/articles&lt;/code> é é¢æ‰€æ‰“çš„ API ç¸½æ˜¯åªå›å‚³æœ€æ–°çš„ &lt;strong>10&lt;/strong> ç­†ï¼Œé‚£éº¼é‚£äº›æ²’æœ‰è·¯ç”±é€£çµå¯ä»¥é€£çµéå»çš„æ–‡ç« é é¢ï¼Œå°±ç„¡æ³•è¢« Nuxt çš„çˆ¬èŸ²æ‰€åˆ†æåˆ°ï¼Œä¹Ÿå°±ç„¡æ³•ç”¢ç”Ÿå°æ‡‰çš„éœæ…‹é é¢ã€‚&lt;/p>
&lt;p>ç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼Œæˆ‘å€‘å¯ä»¥è—‰ç”±é…ç½® Nitro çš„é æ¸²æŸ“è·¯ç”±ï¼Œä¾†æ‰‹å‹•çš„è¨­å®šå“ªäº›é é¢è¦é€²è¡Œé æ¸²æŸ“ç”¢ç”Ÿéœæ…‹é é¢ï¼Œæˆ–è€…å¿½ç•¥ç”¢ç”Ÿéœæ…‹é é¢ã€‚&lt;/p>
&lt;h5 id="nuxtconfigts-7">nuxt.config.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nitro&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prerender&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ignore&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[],&lt;/span> &lt;span class="c1">// å¿½ç•¥ç‰¹å®šè·¯ç”±ä¸é€²è¡Œé æ¸²æŸ“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">routes&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[],&lt;/span> &lt;span class="c1">// æŒ‡å®šè·¯ç”±é€²è¡Œé æ¸²æŸ“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">crawlLinks&lt;/span>: &lt;span class="kt">true&lt;/span> &lt;span class="c1">// å•Ÿç”¨ Nuxt çˆ¬èŸ²è’é›†é é¢é€£çµä¾†é€²è¡Œé æ¸²æŸ“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ç„¶ï¼Œä¹Ÿå¯ä»¥æ­é… &lt;code>build&lt;/code> æˆ– &lt;code>generate&lt;/code> æŒ‡ä»¤åšä½¿ç”¨ï¼Œä½†æœƒç¨å¾®æœ‰äº›ä¸ä¸€æ¨£ã€‚&lt;/p>
&lt;h4 id="build">build&lt;/h4>
&lt;p>ä¾‹å¦‚ï¼šè¨­ç½®å¦‚ä¸‹ï¼Œä¸¦ä½¿ç”¨ &lt;code>npm run build&lt;/code> æŒ‡ä»¤ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nitro&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prerender&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">routes&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;/articles&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;/articles/2&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‚£éº¼å»ºæ§‹å‡ºä¾†çš„é€šç”¨æ¸²æŸ“ç¶²ç«™ï¼Œå°±æœƒåŒ…å«éƒ¨åˆ†é é¢æ˜¯å·²ç¶“é æ¸²æŸ“å¥½çš„éœæ…‹é é¢ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629696171_a693e5422d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h4 id="generate">generate&lt;/h4>
&lt;p>ç•¶æˆ‘å€‘ä½¿ç”¨ &lt;code>generate&lt;/code> æ™‚ï¼Œå› ç‚ºæ˜¯é€²è¡Œå…¨ç«™çš„éœæ…‹é é¢ç”Ÿæˆï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šæ¶µè“‹äº†æ‰€æœ‰è·¯ç”±é é¢ï¼Œä¸¦ä¸” &lt;code>nitro.prerender.crawlLinks&lt;/code> å±¬æ€§é è¨­ç‚º &lt;code>true&lt;/code> æœƒå•Ÿç”¨ Nuxt çˆ¬èŸ²ä¾†è’é›†æ•´çš„ç¶²ç«™çš„è·¯ç”±é é¢ï¼Œé€²è€Œé–‹å§‹é æ¸²æŸ“ç”¢ç”Ÿéœæ…‹é é¢ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼šè¨­ç½®å¦‚ä¸‹ï¼Œä¸¦ä½¿ç”¨ &lt;code>npm run generate&lt;/code> æŒ‡ä»¤ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineNuxtConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nitro&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">prerender&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ignore&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;/login&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;/register&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">routes&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;/articles/2&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">crawlLinks&lt;/span>: &lt;span class="kt">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‚£éº¼å»ºæ§‹å‡ºä¾†çš„ &lt;code>.output&lt;/code> ç›®éŒ„ï¼Œå°±æœƒå› ç‚ºè¨­ç½®äº† &lt;code>nitro.prerender.ignore&lt;/code> è€Œå¿½ç•¥ &lt;strong>/login&lt;/strong> èˆ‡ &lt;strong>/register&lt;/strong> é é¢çš„éœæ…‹ç”Ÿæˆ ï¼Œè€Œ &lt;strong>/articles/2&lt;/strong> åœ¨ç¶²ç«™ä¸­å› ç‚ºæ²’æœ‰ä»»ä½•é é¢èƒ½é€£çµåˆ°æ­¤ï¼Œæ‰€ä»¥ Nuxy çˆ¬èŸ²ç„¡æ³•è’é›†åˆ°ï¼Œæ‰€ä»¥å¯ä»¥æ‰‹å‹•æ·»åŠ é€² &lt;code>nitro.prerender.routes&lt;/code> ä¹‹ä¸­ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629696156_f6e435c338_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å¦‚æœæˆ‘å€‘å°‡ &lt;code>nitro.prerender.crawlLinks&lt;/code> å±¬æ€§è¨­ç‚º &lt;code>false&lt;/code>ï¼Œé‚£éº¼åœ¨ç”¢ç”Ÿéœæ…‹é é¢çš„æ™‚å€™ï¼Œå°±ç®— &lt;code>/articles&lt;/code> åŒ…å«äº†æ‰€æœ‰æ–‡ç« çš„é€£çµï¼ŒNuxt çˆ¬èŸ²ä¹Ÿå°±ä¸æœƒè’é›†é€£çµä¾†ç”¢ç”Ÿéœæ…‹é é¢ï¼Œè€Œæ˜¯åƒ…ä¾ç…§å°ˆæ¡ˆç›®éŒ„ä¸‹çš„ &lt;code>pages&lt;/code> æ‰€ç”¢ç”Ÿå‡ºçš„è·¯ç”±ä½†ä¸åŒ…å« &lt;code>[id].vue&lt;/code> é€™é¡å‹•æ…‹åŒ¹é…çš„è·¯ç”±ä¾†ç”¢ç”Ÿéœæ…‹é é¢ã€‚&lt;/p>
&lt;h3 id="å»ºæ§‹åƒ…åœ¨å®¢æˆ¶ç«¯æ¸²æŸ“çš„ç¶²ç«™">å»ºæ§‹åƒ…åœ¨å®¢æˆ¶ç«¯æ¸²æŸ“çš„ç¶²ç«™&lt;/h3>
&lt;p>åŒæ¨£çš„ä½¿ç”¨&lt;a class="link" href="https://github.com/wjdesign/ithome-2022-ironman-nuxt3/tree/nuxt-app-blog" target="_blank" rel="noopener"
>éƒ¨è½æ ¼&lt;/a>ä½œç‚ºç¯„ä¾‹ï¼Œä¾†å˜—è©¦å°‡ &lt;code>nuxt.config.ts&lt;/code> ä¸­ &lt;code>ssr&lt;/code> å±¬æ€§è¨­ç‚º &lt;code>false&lt;/code>ï¼Œä¹Ÿå°±è®“ç¶²ç«™&lt;strong>åƒ…åœ¨å®¢æˆ¶ç«¯æ¸²æŸ“ (Client-side Only Rendering)&lt;/strong>ã€‚&lt;/p>
&lt;p>åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤é€²è¡Œå»ºæ§‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run build&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºæ§‹å®Œæˆå¾Œï¼Œæœƒåœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹å¤šå‡ºä¸€å€‹ &lt;code>.output&lt;/code> ç›®éŒ„ï¼Œå¯ä»¥ç™¼ç¾ &lt;code>public&lt;/code> ç›®éŒ„çµæ§‹èˆ‡é€šç”¨æ¸²æŸ“å»ºæ§‹å‡ºçš„ä¸å¤§ä¸€æ¨£ï¼Œå¤šå‡ºäº†åƒ Vue å°ˆæ¡ˆå»ºæ§‹å®Œæˆå¾Œçš„ &lt;code>index.html&lt;/code> æª”æ¡ˆï¼Œä¾†ä½œç‚ºé¡¯ç¤ºçš„å®¹å™¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629176037_b1ec094f74_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€™é‚Šæ¯”è¼ƒéœ€è¦ç•™æ„çš„åœ°æ–¹æ˜¯ï¼Œç•¶æˆ‘å€‘å°‡ &lt;code>ssr&lt;/code> å±¬æ€§è¨­ç‚º &lt;code>false&lt;/code>ï¼Œä¹Ÿé‚„æ˜¯æœƒåœ¨ &lt;code>.output&lt;/code> å»ºæ§‹å‡º &lt;code>server&lt;/code> ç›®éŒ„ï¼Œä¹Ÿæ“æœ‰è‘— &lt;code>.output/server/index.mjs&lt;/code>ã€‚&lt;/p>
&lt;p>é‚£é€™ä¸å°±æ„è¬‚è‘—æˆ‘é‚„æ˜¯å¾—æœ‰ Node.js æœå‹™æ‰èƒ½éƒ¨ç½²å—ï¼Ÿå…¶å¯¦ä½ å¯ä»¥é€™éº¼ç†è§£ï¼Œç•¶æˆ‘å€‘è¨­å®š Nuxt åƒ…åœ¨å®¢æˆ¶ç«¯é€²è¡Œæ¸²æŸ“ï¼Œä½† Nuxt å°ˆæ¡ˆä¸­ä»ç„¶å¯èƒ½æœ‰ Server APIï¼Œé€™å€‹å±¬æ–¼ä¼ºæœå™¨ç«¯çš„ APIï¼Œç¸½ä¸å¯èƒ½ä¸€åŒæ‰“åŒ…è‡³å‰ç«¯å»åšæ¶è¨­å§ï¼æ‰€ä»¥ä½¿ç”¨ &lt;code>npm run build&lt;/code> å»ºæ§‹å‡ºä¾†çš„å°ˆæ¡ˆï¼Œéƒ½æœƒä½¿ç”¨ Nitro å¼•æ“ä¾†å•Ÿå‹•æœå‹™ï¼Œè‹¥æœ‰ Server API çš„è™•ç†é‚è¼¯ï¼Œå‰‡æœƒé€£å¸¶æ‰“åŒ…é€² &lt;code>.output/server&lt;/code> ç›®éŒ„ä¹‹ä¸‹ã€‚&lt;/p>
&lt;p>å¦‚æœä½ ç¢ºå®š Nuxt çš„å°ˆæ¡ˆå…§æ²’æœ‰è‡ªå·±å¯¦ä½œçš„ Server APIï¼Œå…¨éƒ¨æ˜¯ä¾è³´éå°ˆæ¡ˆå…§çš„ Server APIï¼Œé‚£éº¼ä½ å¯ä»¥ç›´æ¥å°‡ &lt;code>public&lt;/code> ç›®éŒ„ï¼Œè¦–ç‚º Vue å»ºæ§‹å‡ºçš„ &lt;code>dist&lt;/code> ç›®éŒ„ä¾†é€²è¡Œéƒ¨ç½²ï¼Œå› ç‚ºé¸æ“‡ä¸å†éœ€è¦ Nitro å¼•æ“ä¾†ç‚ºæˆ‘å€‘æä¾› Web Server çš„æœå‹™ï¼Œä¸”å°ˆæ¡ˆå…§çš„å‰ç«¯ä¹Ÿéƒ½æ‰“åŒ…å®Œåœ¨ &lt;code>public&lt;/code> ä¸‹å¯ä»¥è¦–ç‚º SPA ç¶²ç«™ã€‚&lt;/p>
&lt;h3 id="æ•´ç†é€™äº›æ’åˆ—å»ºæ§‹åƒæ•¸çš„çµ„åˆ">æ•´ç†é€™äº›æ’åˆ—å»ºæ§‹åƒæ•¸çš„çµ„åˆ&lt;/h3>
&lt;p>ç›¸ä¿¡çœ‹åˆ°é€™è£¡ï¼Œå¯èƒ½å°å»ºæ§‹èˆ‡ç”¢ç”Ÿéœæ…‹é é¢æœ‰ä¸€é»æ··äº‚äº†ï¼Œé€™é‚Šç¨å¾®æ•´ç†äº†ä¸€ä¸‹ï¼Œå¤§å®¶å¯ä»¥å†ä¾æ“šéœ€æ±‚ä¾†å•Ÿç”¨ç›¸å°æ‡‰çš„é…ç½®ï¼š&lt;/p>
&lt;h4 id="npm-run-build--ssr-true">npm run build + ssr: true&lt;/h4>
&lt;ul>
&lt;li>build + ssr: true&lt;/li>
&lt;/ul>
&lt;p>Nuxt 3 é è¨­çš„å»ºæ§‹åƒæ•¸ï¼Œä½¿ç”¨&lt;strong>é€šç”¨æ¸²æŸ“ (Universal Rendering) æ¨¡å¼&lt;/strong>ã€‚&lt;/p>
&lt;ul>
&lt;li>build + ssr: true + nitro.prerender.crawlLinks: true&lt;/li>
&lt;/ul>
&lt;p>ä½¿ç”¨é€šç”¨æ¸²æŸ“æ¨¡å¼ï¼Œé é¢ä¸­éœ€è¦æ‰“ API å‹•æ…‹ç”¢ç”Ÿçš„é€£çµè€Œè¢« Nuxt çˆ¬èŸ²æ‰€è’é›†åˆ°çš„é é¢å°‡è¢«é æ¸²æŸ“æˆéœæ…‹é é¢ã€‚&lt;/p>
&lt;ul>
&lt;li>build + ssr: true + nitro.prerender.routes + nitro.prerender.crawlLinks: false&lt;/li>
&lt;/ul>
&lt;p>ä½¿ç”¨é€šç”¨æ¸²æŸ“æ¨¡å¼ï¼Œä½†æŒ‡å®šé é¢é æ¸²æŸ“æˆéœæ…‹é é¢ã€‚&lt;/p>
&lt;h4 id="npm-run-build--ssr-false">npm run build + ssr: false&lt;/h4>
&lt;ul>
&lt;li>build + ssr: false&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>åƒ…åœ¨å®¢æˆ¶ç«¯æ¸²æŸ“ (Client-side Only Rendering)&lt;/strong> çš„æ¨¡å¼ï¼Œéƒ¨ç½²æ™‚åŒæ¨£éœ€è¦ä½¿ç”¨ &lt;code>server&lt;/code> ä¸­çš„ &lt;code>index.mjs&lt;/code> ä¾†å•Ÿå‹• Nitro ä¼ºæœå™¨ï¼Œé€™æ¨£æ‰èƒ½æ­£ç¢ºçš„é‹ä½œ Server APIï¼›é™¤éç¢ºèªå°ˆæ¡ˆå…§å®Œå…¨ç„¡ä¾è³´å°ˆæ¡ˆå…§çš„ Server APIï¼Œå‰‡å¯ä»¥ç›´æ¥å°‡ &lt;code>.output/public&lt;/code> è¦–ç‚º Vue çš„ &lt;code>dist&lt;/code> ç›®éŒ„é€²è¡Œéƒ¨ç½²ã€‚&lt;/p>
&lt;h4 id="npm-run-generate--ssr-true">npm run generate + ssr: true&lt;/h4>
&lt;ul>
&lt;li>generate + ssr: true&lt;/li>
&lt;/ul>
&lt;p>ä½¿ç”¨é æ¸²æŸ“ç”¢ç”Ÿéœæ…‹é é¢ï¼Œé è¨­ç”¢ç”Ÿå…¨ç«™éœæ…‹é é¢ï¼Œ&lt;code>generate&lt;/code> ä¸‹ &lt;code>nitro.prerender.crawlLinks&lt;/code> å±¬æ€§é è¨­è®Šç‚º &lt;code>true&lt;/code>ï¼Œæ•´å€‹ç¶²ç«™åŒ…å« Nuxt çˆ¬èŸ²æ‰€è’é›†åˆ°çš„é é¢å°‡è¢«é æ¸²æŸ“æˆéœæ…‹é é¢ã€‚&lt;/p>
&lt;ul>
&lt;li>generate + ssr: true + nitro.prerender.ignore&lt;/li>
&lt;/ul>
&lt;p>ä½¿ç”¨ &lt;code>generate&lt;/code> å·²ç¶“åŒ…å«æ•´å€‹ç¶²ç«™ï¼Œå¦‚æœæƒ³è¦å¿½ç•¥æŸäº›é é¢é€²è¡Œé æ¸²æŸ“ï¼Œå¯ä»¥æ·»åŠ è·¯ç”±è‡³ &lt;code>nitro.prerender.ignore&lt;/code> ä¸­ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„ï¼Œé€™äº›è¢«å¿½ç•¥çš„é é¢å¦‚æœæœ‰ä½¿ç”¨å°ˆæ¡ˆå…§çš„ Server API éœ€æ±‚ï¼Œå¯èƒ½å°±ç„¡æ³•æ­£ç¢ºçš„åœ¨éœæ…‹è¨—ç®¡å¹³å°é‹ä½œï¼Œè€Œå¤–éƒ¨çš„å€’æ˜¯ä¸å—å½±éŸ¿ã€‚&lt;/p>
&lt;ul>
&lt;li>generate + ssr: true + nitro.prerender.routes&lt;/li>
&lt;/ul>
&lt;p>é›–ç„¶ä½¿ç”¨ &lt;code>generate&lt;/code> å·²ç¶“åŒ…å«æ•´å€‹ç¶²ç«™ï¼Œä½† Nuxt çˆ¬èŸ²æ‰€è’é›†åˆ°çš„é é¢åƒ…ç‚ºé é¢ä¸­ç”¢ç”Ÿçš„ï¼Œå¦‚æœé€£çµä¸å­˜åœ¨é€™äº›é é¢å…§ï¼Œåªèƒ½ç›´æ¥å¾ç€è¦½å™¨ç¶²å€åˆ—è¼¸å…¥é€²å…¥ï¼Œé‚£éº¼æˆ‘å€‘å¯ä»¥å°‡è·¯ç”±æ·»åŠ è‡³ &lt;code>nitro.prerender.routes&lt;/code> ä¾†é¡å¤–è£œå……éœ€è¦é æ¸²æŸ“çš„é é¢ã€‚&lt;/p>
&lt;ul>
&lt;li>generate + ssr: true + nitro.prerender.routes + nitro.prerender.crawlLinks: false&lt;/li>
&lt;/ul>
&lt;p>åŒæ¨£æœƒç”¢ç”Ÿå…¨ç«™éœæ…‹é é¢ï¼Œä½†ä¸ä½¿ç”¨ Nuxt çˆ¬èŸ²æ‰€è’é›†åˆ°çš„é€£çµé é¢ï¼Œæ‰€ä»¥é€™äº›å‹•æ…‹åŒ¹é…æˆ–éœ€è¦æ‰“ API ç²å–è³‡æ–™å†æ¸²æŸ“çš„é é¢ï¼Œå°‡ä¸æœƒæ˜¯éœæ…‹é é¢ï¼Œå› æ­¤ä¹Ÿéœ€è¦æ³¨æ„ï¼Œå¦‚æœé€™äº›é é¢æœ‰ä½¿ç”¨å°ˆæ¡ˆå…§çš„ Server API éœ€æ±‚ï¼Œå¯èƒ½å°±ç„¡æ³•æ­£ç¢ºçš„åœ¨éœæ…‹è¨—ç®¡å¹³å°é‹ä½œï¼Œè€Œå¤–éƒ¨çš„å€’æ˜¯ä¸å—å½±éŸ¿ã€‚&lt;/p>
&lt;blockquote>
&lt;p>å…¶å®ƒè·Ÿå»ºæ§‹æœ‰é—œçš„åƒæ•¸å±¬æ€§å¯ä»¥å†åƒè€ƒ&lt;a class="link" href="https://nuxt.com/docs/api/configuration/nuxt-config/#build" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ã€&lt;a class="link" href="https://nuxt.com/docs/api/configuration/nuxt-config/#vite" target="_blank" rel="noopener"
>Vite&lt;/a> èˆ‡ &lt;a class="link" href="https://nuxt.com/docs/api/configuration/nuxt-config/#webpack-1" target="_blank" rel="noopener"
>webpack&lt;/a> å»ºæ§‹å·¥å…·ä¹Ÿéƒ½èƒ½é¡å¤–è¨­å®šåƒæ•¸å±¬æ€§ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>Nuxt çš„å»ºæ§‹æŒ‡ä»¤ &lt;code>build&lt;/code> èˆ‡ç”¢ç”Ÿéœæ…‹é é¢çš„ &lt;code>generate&lt;/code> æŒ‡ä»¤ï¼Œè®“æˆ‘å€‘å¯ä»¥ä¾æ“šä¸åŒçš„æƒ…å¢ƒä¾†æ±ºå®šæ¸²æŸ“æ¨¡å¼èˆ‡é æ¸²æŸ“çš„é é¢ï¼Œæœ€çµ‚ç”¢ç”Ÿçš„ &lt;code>.output&lt;/code> ç›®éŒ„ä¹Ÿæœƒæœ‰ä¸ä¸€æ¨£çš„çµæ§‹ã€‚é æ¸²æŸ“çš„é é¢èˆ‡å–®ç´”çš„ SPA ä¹Ÿè¦æ³¨æ„ä½¿å¦æœ‰ä½¿ç”¨åˆ° Nuxt å°ˆæ¡ˆå»ºç«‹çš„ Server APIï¼Œå†æ±ºå®šæ˜¯å¦éœ€è¦ Nitro ä¼ºæœå™¨ä¾†å•Ÿå‹•æ­£å¼ç’°å¢ƒçš„ç¶²ç«™æœå‹™ã€‚ç•¶ä¸€åˆ‡å°±ç·’ä¹‹å¾Œæœ€å¾Œå°±èƒ½å°‡è¼¸å‡ºçš„ç›®éŒ„æ‰“åŒ…é€²è¡Œéƒ¨ç½²ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å°±å‰©æœ€å¾Œä¸€æ­¥äº†---éƒ¨ç½²-deployment">å°±å‰©æœ€å¾Œä¸€æ­¥äº† - éƒ¨ç½² (Deployment)&lt;/h2>
&lt;p>Nuxt 3 çš„å°ˆæ¡ˆæ‡‰ç”¨ç¨‹å¼ï¼Œå¯ä»¥éƒ¨ç½²åœ¨ Node.js çš„ä¼ºæœå™¨ä¸Šé¢ï¼Œä¹Ÿå¯ä»¥å°‡é æ¸²æŸ“çš„éœæ…‹ç¶²ç«™ç”±éœæ…‹è¨—ç®¡å¹³å°ä¾†æœå‹™ï¼Œæˆ–é€™éƒ¨ç½²è‡³ç„¡ä¼ºæœå™¨ (serverless) æˆ– CDN ç’°å¢ƒä¸Šã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨-nodejs-ä¼ºæœå™¨">ä½¿ç”¨ Node.js ä¼ºæœå™¨&lt;/h3>
&lt;p>Nuxt 3 çš„å°ˆæ¡ˆé è¨­ä½¿ç”¨ &lt;a class="link" href="https://nuxt.com/docs/guide/concepts/server-engine/" target="_blank" rel="noopener"
>Nitro&lt;/a> ä¾†ä½œç‚ºæœå‹™å¼•æ“ï¼Œæ‰€ä»¥æˆ‘å€‘åœ¨ä»»ä½• Node.js ä¼ºæœå™¨ç’°å¢ƒä¹‹ä¸‹ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥å•Ÿå‹• Nuxt å»ºç½®å‡ºä¾†çš„ Nitro Serverã€‚&lt;/p>
&lt;p>ç•¶æˆ‘å€‘ä½¿ç”¨ &lt;code>npm run build&lt;/code> å»ºæ§‹å°ˆæ¡ˆå¾Œï¼Œè¼¸å‡ºçš„ &lt;code>.output/server/index.mjs&lt;/code> æª”æ¡ˆï¼Œå³æ˜¯ä¸€å€‹æº–å‚™å•Ÿå‹• Node ä¼ºæœå™¨çš„å…¥å£é»ã€‚&lt;/p>
&lt;p>æˆ‘å€‘å¯ä»¥é€éä¸‹åˆ—æŒ‡ä»¤ä¾†å•Ÿå‹•æˆ‘å€‘å»ºæ§‹å¥½çš„å°ˆæ¡ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">node .output/server/index.mjs
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸ·è¡Œå¾Œå¦‚ä¸‹é¢åœ–ç¤ºé¡¯ç¤ºï¼Œç¶²ç«™å°‡æ–¼ &lt;strong>Prot: 3000&lt;/strong> é€²è¡Œæœå‹™ç›£è½ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629762661_a3a806890c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ä½ å¯ä»¥è¨­å®šä¸‹åˆ—ç’°å¢ƒè®Šæ•¸ä¾†èª¿æ•´é è¨­ç›£è½çš„ &lt;strong>Port&lt;/strong> æˆ– &lt;strong>Host&lt;/strong>ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;strong>NITRO_PORT&lt;/strong> æˆ– &lt;strong>PORT&lt;/strong>ï¼šç›£è½çš„ Port (é è¨­ç‚º &lt;strong>3000&lt;/strong>)&lt;/li>
&lt;li>&lt;strong>NITRO_HOST&lt;/strong> æˆ– &lt;strong>HOST&lt;/strong>ï¼šæœå‹™çš„ Host (æ²’æœ‰é è¨­å€¼ï¼Œä½†é è¨­ç›£è½æ‰€æœ‰çš„ç¶²è·¯ä»‹é¢åŒ…å« IPv4 èˆ‡ IPv6 çš„ä½å€ )&lt;/li>
&lt;li>&lt;strong>NITRO_SSL_CERT&lt;/strong> èˆ‡ &lt;strong>NITRO_SSL_KEY&lt;/strong>ï¼šå¦‚æœå…©è€…çš†è¨­å®šï¼Œå°‡ä»¥ HTTPS æ¨¡å¼ä¸‹å•Ÿå‹•ä¼ºæœå™¨ï¼Œé€šå¸¸åƒ…ä½œç‚ºæ¸¬è©¦ç”¨é€”ï¼Œå› ç‚ºå»ºè­°å°‡ SSL æ†‘è­‰ç­‰è¨­å®šæ–¼æä¾›åå‘ä»£ç†çš„æœå‹™ï¼Œä¾‹å¦‚ NGINX æˆ– CloudFlareï¼ŒNitro ä¼ºæœå™¨å‰‡åŸ·è¡Œåœ¨åå‘ä»£ç†å¾Œé¢ã€‚&lt;/li>
&lt;/ul>
&lt;p>éƒ¨ç½²æ™‚ï¼Œä½ å¯ä»¥å°‡æ•´å€‹ &lt;code>.output&lt;/code> ä¸Šå‚³è‡³æ­£å¼ç’°å¢ƒçš„æ©Ÿå™¨ä¸Šï¼Œä¸¦ä½¿ç”¨ Node.js åšåŸ·è¡Œï¼Œä½†ç‚ºäº†é˜²æ­¢æˆ‘å€‘çš„æœå‹™å› ç‚ºç•°å¸¸ï¼Œå°è‡´ Node.js æœå‹™æ„å¤–å´©æ½°ï¼Œæˆ‘å€‘éœ€è¦ä¸€å€‹ &lt;strong>Process&lt;/strong> çš„ &lt;strong>Daemon&lt;/strong>ï¼Œä¾†å°‡æœå‹™å¸¸é§ï¼Œæ„å¤–å´©æ½°æ™‚èƒ½è‡ªå‹•é‡å•Ÿï¼Œä¾†ç¶­æŒæ•´å€‹ç¶²ç«™çš„æ­£å¸¸æœå‹™ã€‚&lt;/p>
&lt;p>é€šå¸¸æˆ‘å€‘æœƒåœ¨æ­£å¼ç’°å¢ƒä½¿ç”¨ &lt;a class="link" href="https://pm2.keymetrics.io/" target="_blank" rel="noopener"
>PM2&lt;/a> ä¾†ç®¡ç† Node.js çš„æœå‹™ï¼Œ&lt;a class="link" href="https://pm2.keymetrics.io/" target="_blank" rel="noopener"
>PM2&lt;/a> æ˜¯ç¶­æŒä¸€å€‹ Process åŸ·è¡Œçš„ç®¡ç†å™¨ï¼Œæˆ‘å€‘å¯ä»¥è—‰ç”± &lt;a class="link" href="https://pm2.keymetrics.io/" target="_blank" rel="noopener"
>PM2&lt;/a> ä¾†å•Ÿå‹•æˆ‘å€‘çš„ Nitro Serverï¼Œç•¶æœå‹™å´©æ½°æ™‚èƒ½è‡ªå‹•çš„é‡æ–°å•Ÿå‹•ï¼Œä»¥ç¶­æŒæœå‹™çš„æ­£å¸¸é‹ä½œï¼Œé™¤æ­¤ä¹‹å¤– &lt;a class="link" href="https://pm2.keymetrics.io/" target="_blank" rel="noopener"
>PM2&lt;/a> å¯ä»¥å•Ÿç”¨å¢é›† (Cluster) çš„åŠŸèƒ½çµåˆè«‹æ±‚çš„é™„è¼‰å¹³è¡¡ï¼Œä¾†è®“å¤šæ ¸å¿ƒçš„æ©Ÿå™¨æå‡è³‡æºçš„åˆ©ç”¨ç‡èˆ‡æ•ˆèƒ½ï¼Œæ›´é‚„æœ‰ç›£æ¸¬å¤šé …æ•¸æ“šç­‰åŠŸèƒ½å¯ä¾›æ­£å¼ç’°å¢ƒåšä½¿ç”¨ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨-pm2">ä½¿ç”¨ PM2&lt;/h3>
&lt;p>ä½¿ç”¨çš„æ–¹å¼ä¹Ÿå¾ˆç°¡å–®ï¼Œé¦–å…ˆä½¿ç”¨ NPM å®‰è£ &lt;a class="link" href="https://pm2.keymetrics.io/" target="_blank" rel="noopener"
>PM2&lt;/a>ï¼Œå¯ä»¥åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -g pm2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ Nuxt å°ˆæ¡ˆç›®éŒ„ä¸‹å»ºç«‹ &lt;code>ecosystem.config.js&lt;/code> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="ecosystemconfigjs">ecosystem.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apps&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;NuxtAppName&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">exec_mode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;cluster&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">instances&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;max&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">script&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;./.output/server/index.mjs&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æˆ‘å€‘å°±èƒ½ä½¿ç”¨ &lt;a class="link" href="https://pm2.keymetrics.io/" target="_blank" rel="noopener"
>PM2&lt;/a> ä¾†åŸ·è¡Œæˆ‘å€‘çš„æœå‹™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pm2 start ecosystem.config.js
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630242508_e873a0929c_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ä½ ä¹Ÿå¯ä»¥åœ¨ &lt;code>ecosystem.config.js&lt;/code> ä¸­æ·»åŠ ç’°å¢ƒè®Šæ•¸ã€‚&lt;/p>
&lt;h5 id="ecosystemconfigjs-1">ecosystem.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">module&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">exports&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">apps&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;NuxtAppName&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">exec_mode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;cluster&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">instances&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;max&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">script&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;./.output/server/index.mjs&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">env&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">NITRO_PORT&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3001&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">NITRO_HOST&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;127.0.0.1&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è£½ä½œ-docker-image">è£½ä½œ Docker Image&lt;/h3>
&lt;p>ç›®å‰ä½¿ç”¨ Docker ä¾†éƒ¨ç½²æœå‹™çš„ä¹Ÿä¸åœ¨å°‘æ•¸ï¼Œå€‹äººä¹Ÿæ˜¯æ¡ç”¨å®¹å™¨åŒ–ä¾†å•Ÿå‹•ç¶²ç«™æœå‹™ä¸¦æ•´åˆ CI/CD è‡ªå‹•åŒ–çš„æµç¨‹ä¾†å»ºæ§‹èˆ‡éƒ¨ç½² Nuxt 3 å°ˆæ¡ˆï¼Œä»¥ä¸‹å°‡åˆ—å‡ºè‡ªå·±ä½¿ç”¨çš„ Dockerfileï¼Œæœ‰èˆˆè¶£çš„å¯ä»¥å†åƒè€ƒçœ‹çœ‹ã€‚&lt;/p>
&lt;p>å°ˆæ¡ˆç›®éŒ„ä¸‹å»ºç«‹ &lt;code>Dockerfile&lt;/code> æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="dockerfile">Dockerfile&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span>&lt;span class="s"> node:16-alpine AS builder&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> mkdir -p /nuxt-app&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /nuxt-app&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> . .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> npm ci &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> npm cache clean --force&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> npm run build&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> keymetrics/pm2:16-alpine&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> mkdir -p /nuxt-app/.output&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /nuxt-app/.output&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> --from&lt;span class="o">=&lt;/span>builder /nuxt-app/.output .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> ./ecosystem.config.js /nuxt-app&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> &lt;span class="nv">NUXT_HOST&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>.0.0.0&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> &lt;span class="nv">NUXT_PORT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">3000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">EXPOSE&lt;/span>&lt;span class="s"> 3000 &lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENTRYPOINT&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;pm2-runtime&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;start&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;/nuxt-app/ecosystem.config.js&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ‰“é–‹çµ‚ç«¯æ©Ÿ (Terminal)ï¼Œä¸¦æ–¼å°ˆæ¡ˆç›®éŒ„ä¸‹åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker build -t nuxt-app .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶é–‹å§‹è£½ä½œ Docker Image æ™‚ï¼Œæœƒä¾ç…§ Dockerfile ä¾†å»ºç½®ï¼Œä¸»è¦åˆ†æˆå…©å€‹éƒ¨åˆ†ï¼Œé¦–å…ˆæˆ‘æœƒå…ˆåœ¨ &lt;code>node:16-alpine&lt;/code> å®¹å™¨ç’°å¢ƒä¸­åŸ·è¡Œå»ºæ§‹ (build) çš„æŒ‡ä»¤ï¼Œä¸¦å°‡éœ€è¦éƒ¨ç½²çš„ç›®éŒ„ &lt;code>.output&lt;/code> è¤‡è£½è‡³ &lt;code>keymetrics/pm2:16-alpine&lt;/code> å®¹å™¨ç’°å¢ƒä¸­ï¼Œé€™æ¨£æœ€çµ‚ä½¿ç”¨ PM2 åŸ·è¡Œæœå‹™çš„ Image å¤§å°å°±æœƒç¨å¾®å°ä¸€äº›ã€‚&lt;/p>
&lt;p>ç•¶ Docker Image è£½ä½œå®Œç•¢å¾Œï¼Œå¯ä»¥å†è—‰ç”± docker run æˆ– docker compose ç”šè‡³ k8s ä¾†å•Ÿå‹•æœå‹™å¾Œï¼Œå†ç”±å¦‚ NGINX æä¾›åå‘ä»£ç†æœå‹™é€£æ¥åˆ°å…§éƒ¨çš„ Nitro Serverã€‚&lt;/p>
&lt;h3 id="éƒ¨ç½²è‡³-cloudflare-workers">éƒ¨ç½²è‡³ CloudFlare Workers&lt;/h3>
&lt;p>æˆ‘å€‘ä¹Ÿå¯ä»¥å°‡ Nuxt éƒ¨ç½²åˆ°ç„¡ä¼ºæœå™¨ (Serverless) çš„ç’°å¢ƒï¼Œå®˜æ–¹æä¾›äº†å¤šç¨®çš„é è¨­éƒ¨ç½²å¯ä»¥åšä½¿ç”¨ï¼Œæˆ‘å€‘å°±ç°¡å–®ä»¥ä¸€å€‹ä¹¾æ·¨çš„ Nuxt 3 å°ˆæ¡ˆä¾†åšç¯„ä¾‹ï¼Œå˜—è©¦éƒ¨ç½²åˆ° &lt;a class="link" href="https://workers.cloudflare.com/" target="_blank" rel="noopener"
>CloudFlare Workers&lt;/a>ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘å…ˆæº–å‚™ä¸€å€‹ Nuxt 3 å°ˆæ¡ˆï¼Œåœ¨æ­¤æˆ‘ä½¿ç”¨ä¸‹åˆ—æŒ‡ä»¤å»ºç«‹ä¸€å€‹ä¹¾æ·¨çš„ Nuxt 3 å°ˆæ¡ˆï¼Œä¸¦é€²å…¥å°ˆæ¡ˆç›®éŒ„å®‰è£å¥—ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx nuxi init nuxt-app
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> nuxt-app
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ NPM å®‰è£ &lt;a class="link" href="https://www.npmjs.com/package/wrangler" target="_blank" rel="noopener"
>wrangler&lt;/a>ï¼Œå®ƒæ˜¯ç”¨æ–¼å»ºæ§‹ Cloudflare Workers çš„å‘½ä»¤åˆ—å·¥å…· (command line tool)ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -g wrangler
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½ å¯èƒ½éœ€è¦è¨»å†Šä¸€å€‹ CloudFlare çš„å¸³è™Ÿï¼Œä¸¦ä½¿ç”¨ä¸‹åˆ—æŒ‡ä»¤ä¾†ç™»å…¥ CloudFlare å¸³è™Ÿä¸¦æˆæ¬Š Wrangler ä¾†å»ºç«‹ CloudFlare Workersï¼Œæˆ‘å€‘é¸æ“‡å…è¨± (Allow) å³å¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wrangler login
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–¼å°ˆæ¡ˆç›®éŒ„ä¸‹å»ºç«‹ &lt;code>wrangler.toml&lt;/code> å…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;h5 id="wranglertoml">wrangler.toml&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">name&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;nuxt-app-hello&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">main&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;./.output/server/index.mjs&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">workers_dev&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">compatibility_date&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;2022-10-15&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">site&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">bucket&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;.output/public&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å°‡ &lt;code>NITRO_PRESET&lt;/code> ç’°å¢ƒè®Šæ•¸ï¼Œè¨­ç½®ç‚º &lt;code>cloudflare&lt;/code> ä¸¦é–‹å§‹å»ºæ§‹æˆ‘å€‘çš„å°ˆæ¡ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NITRO_PRESET&lt;/span>&lt;span class="o">=&lt;/span>cloudflare npm run build
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630011164_8598f2fb8a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ¥ä¸‹ä¾†ï¼Œå¯ä»¥é¸æ“‡åŸ·è¡Œçµ‚ç«¯æ©Ÿæç¤ºçš„æŒ‡ä»¤ä¾†å•Ÿå‹•ä¼ºæœå™¨é€²è¡Œç›¸é—œæ¸¬è©¦ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx wrangler dev .output/server/index.mjs --site .output/public --local
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630011119_2100d3cd32_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç•¶ç¢ºèªå°ˆæ¡ˆæœå‹™é‹ä½œä¸Šæ²’å•é¡Œå¾Œï¼Œå¯ä»¥åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤é€²è¡Œç™¼å¸ƒã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx wrangler publish
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®Œæˆç™¼å¸ƒå¾Œï¼Œå°±æœƒæç¤ºæˆ‘å€‘ç™¼å¸ƒå®ŒæˆåŠæœå‹™çš„ç¶²å€ï¼Œä¾‹å¦‚ &lt;a class="link" href="https://nuxt-app-hello.ryanchien8125.workers.dev" target="_blank" rel="noopener"
>https://nuxt-app-hello.ryanchien8125.workers.dev&lt;/a>ï¼Œæˆ‘å€‘å°±å¯ä»¥ç€è¦½æˆ‘å€‘éƒ¨ç½²å¥½çš„ç¶²ç«™å›‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630011089_34c0659438_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="éœæ…‹çš„ç¶²ç«™éƒ¨ç½²è‡³-cloudflare-pages">éœæ…‹çš„ç¶²ç«™éƒ¨ç½²è‡³ CloudFlare Pages&lt;/h3>
&lt;p>æˆ‘å€‘ä½¿ç”¨ Nuxt 3 å¯ä»¥é æ¸²æŸ“å…¨éœæ…‹çš„ç¶²ç«™ï¼Œå› æ­¤ä¹Ÿå¯ä»¥å°‡å°ˆæ¡ˆéƒ¨ç½²è‡³éœæ…‹è¨—ç®¡å¹³å°ï¼Œä»¥ CloudFlare Pages ç‚ºä¾‹ï¼Œéƒ¨ç½²çš„æ­¥é©Ÿå¦‚ä¸‹ï¼š&lt;/p>
&lt;p>é¦–å…ˆï¼Œå…ˆåŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤é€²è¡Œå…¨ç«™çš„é æ¸²æŸ“ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm run generate
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># yarn run generate&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ NPM å®‰è£ &lt;a class="link" href="https://www.npmjs.com/package/wrangler" target="_blank" rel="noopener"
>wrangler&lt;/a>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -g wrangler
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½ å¯èƒ½éœ€è¦è¨»å†Šä¸€å€‹ CloudFlare çš„å¸³è™Ÿï¼Œä¸¦ä½¿ç”¨ä¸‹åˆ—æŒ‡ä»¤ä¾†ç™»å…¥ CloudFlare å¸³è™Ÿä¸¦æˆæ¬Š Wranglerï¼Œæˆ‘å€‘é¸æ“‡å…è¨± (Allow) å³å¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wrangler login
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å»ºç«‹ä¸€å€‹ CloudFlare Pages åç‚º &lt;code>nuxt-app-blog&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wrangler pages project create nuxt-app-blog
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52630242568_959e7a5907_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ä½¿ç”¨ä¸‹åˆ—æŒ‡ä»¤ï¼Œå°‡é æ¸²æŸ“çš„ç¶²ç«™ç›®éŒ„é€²è¡Œéƒ¨ç½²ï¼Œä¸¦æŒ‡å®šå°ˆæ¡ˆåç¨±ç‚º &lt;code>nuxt-app-blog&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wrangler pages publish ./.output/public --project-name nuxt-app-blog
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶éƒ¨ç½²å®Œæˆå¾Œï¼Œå°±æœƒå¾—åˆ°ä¸€å€‹é€£çµä¾†æŸ¥çœ‹éƒ¨ç½²çš„éœæ…‹ç¶²é ï¼Œä½ ä¹Ÿå¯ä»¥å¾ CloudFlare Pages å¾Œå°ï¼Œçœ‹è¦‹ç¶²ç«™ç¶²å€çš„åˆ¥å Aliases ä¾†ä½¿ç”¨è‡ªè¨‚çš„ç¶²å€ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52629762746_a0dc3bb113_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ä»¥ä¸Šæ˜¯ä»‹ç´¹ Nuxt 3 çš„å¹¾å€‹éƒ¨ç½²æ–¹å¼çš„ä¾‹å­ï¼Œæ›´å¤šé›²ç«¯å¹³å°ä¸Šé¢çš„éƒ¨ç½²ï¼Œä¹Ÿå¯ä»¥åƒè€ƒ &lt;a class="link" href="https://nuxt.com/docs/getting-started/deployment#deployment" target="_blank" rel="noopener"
>Nuxt&lt;/a> èˆ‡ &lt;a class="link" href="https://nitro.unjs.io/deploy/node" target="_blank" rel="noopener"
>Nitro&lt;/a> å®˜æ–¹æ–‡ä»¶ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä¸Šç·šå‰çš„æ¸¬è©¦é …ç›®">ä¸Šç·šå‰çš„æ¸¬è©¦é …ç›®&lt;/h2>
&lt;p>æœ€å¾Œèˆ‡å¤§å®¶åˆ†äº«ä¸€ä¸‹ç¶²ç«™å°ˆæ¡ˆä¸Šç·šå‰çš„å¹¾å€‹æˆ‘æœƒç‰¹åˆ¥æ³¨æ„çš„å¹¾å€‹å°ç´°ç¯€ï¼Œä¹Ÿæ­¡è¿å¤§å®¶ä¸€èµ·ä¾†äº¤æµã€‚&lt;/p>
&lt;h3 id="å‰ç«¯ç´°ç¯€">å‰ç«¯ç´°ç¯€&lt;/h3>
&lt;ul>
&lt;li>ç¶²é çš„æ¨™é¡Œ (Title)&lt;/li>
&lt;li>ä½¿ç”¨ä¹‹è³‡æºæˆæ¬Š (ä½¿ç”¨æ¬Šã€æ™ºè²¡æ¬Š)&lt;/li>
&lt;li>åœ–ç‰‡æ›¿ä»£æ–‡å­—&lt;/li>
&lt;li>Favicon&lt;/li>
&lt;li>HTML Meta data&lt;/li>
&lt;li>Google Analytics&lt;/li>
&lt;/ul>
&lt;h3 id="ç€è¦½å™¨ç›¸å®¹æ€§æ¸¬è©¦">ç€è¦½å™¨ç›¸å®¹æ€§æ¸¬è©¦&lt;/h3>
&lt;ul>
&lt;li>RWD&lt;/li>
&lt;li>è·¨ç€è¦½å™¨
&lt;ul>
&lt;li>BrowserStack&lt;/li>
&lt;li>Comparium&lt;/li>
&lt;li>TestingBot&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="api-æ¸¬è©¦">API æ¸¬è©¦&lt;/h3>
&lt;ul>
&lt;li>å–®å…ƒæ¸¬è©¦&lt;/li>
&lt;li>ä¸åŒå ´æ™¯æ¸¬è©¦ (æ¸¬è©¦ç’°å¢ƒã€æ­£å¼ç’°å¢ƒ)&lt;/li>
&lt;li>æ•ˆèƒ½æ¸¬è©¦
&lt;ul>
&lt;li>JMeter&lt;/li>
&lt;li>k6&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>å®‰å…¨æ€§æ¸¬è©¦&lt;/li>
&lt;/ul>
&lt;h3 id="å£“åŠ›æ¸¬è©¦">å£“åŠ›æ¸¬è©¦&lt;/h3>
&lt;ul>
&lt;li>æ¨¡æ“¬ä½¿ç”¨è€…æˆ–é€£ç·šæ•¸&lt;/li>
&lt;li>è§€å¯Ÿæ©Ÿå™¨è³‡æºä½¿ç”¨é‡&lt;/li>
&lt;li>è³‡æ–™åº«é€£ç·šæ•¸è§€å¯Ÿ&lt;/li>
&lt;li>æŒçºŒæé«˜æ¨¡æ“¬æ•¸é‡è§€å¯Ÿåˆ†æ&lt;/li>
&lt;li>åˆ†ææ¯å€‹è«‹æ±‚æ–¼ä½µç™¼çš„å¹³å‡éŸ¿æ‡‰æ™‚é–“&lt;/li>
&lt;li>æ˜¯å¦è«‹æ±‚ä¸­å¤¾é›œéé æœŸä¹‹ç‹€æ…‹ç¢¼ (HTTP Status Code)&lt;/li>
&lt;/ul>
&lt;h3 id="api-æˆ–ç¶²ç«™å®‰å…¨æ€§">API æˆ–ç¶²ç«™å®‰å…¨æ€§&lt;/h3>
&lt;ul>
&lt;li>åƒè€ƒ OWASP Top 10&lt;/li>
&lt;li>SQL åƒæ•¸åŒ–æŸ¥è©¢&lt;/li>
&lt;li>è³‡å®‰å…¬å¸æ»²é€æ¸¬è©¦ã€ç´…éšŠæ¼”ç·´&lt;/li>
&lt;/ul>
&lt;h3 id="é–‹ç™¼æˆ–é™¤éŒ¯ç”¨çš„è¨Šæ¯">é–‹ç™¼æˆ–é™¤éŒ¯ç”¨çš„è¨Šæ¯&lt;/h3>
&lt;ul>
&lt;li>è­¦å‘Šè¨Šæ¯æˆ–ç•°å¸¸è¨Šæ¯ç§»é™¤ï¼ˆconsole.log æˆ–è­¦å‘Šè¨Šæ¯ç­‰ï¼‰&lt;/li>
&lt;li>JavaScript Source Maps è¨˜å¾—ç§»é™¤&lt;/li>
&lt;li>æ•æ„Ÿè³‡è¨Šè¨˜å¾—ç§»é™¤ (é–‹ç™¼ç”¨ Keyã€å¸³è™Ÿå¯†ç¢¼ç­‰)&lt;/li>
&lt;/ul>
&lt;h3 id="ç¶²ç«™ç›¸ä¾æ€§æª¢æŸ¥">ç¶²ç«™ç›¸ä¾æ€§æª¢æŸ¥&lt;/h3>
&lt;ul>
&lt;li>ä½¿ç”¨åˆ°ç¬¬ä¸‰æ–¹ç¶²ç«™è³‡æºåŠç©©å®šæ€§&lt;/li>
&lt;li>æª¢æŸ¥æ‰€æœ‰ç¶²å€çš†èƒ½æ­£å¸¸é‹ä½œ&lt;/li>
&lt;li>ç•¶ç¬¬ä¸‰æ–¹ç¶²ç«™ç•°å¸¸æ™‚æ‡‰å°æªæ–½&lt;/li>
&lt;/ul>
&lt;h3 id="éƒ¨ç½²ç›¸é—œ">éƒ¨ç½²ç›¸é—œ&lt;/h3>
&lt;ul>
&lt;li>æ˜¯å¦æœ‰é«˜å¯ç”¨æ€§ (HA)&lt;/li>
&lt;li>Docker æˆ– Kubernetes æ•´åˆ&lt;/li>
&lt;li>ç¶²åŸŸæ™‚æ•ˆ&lt;/li>
&lt;li>SSL è­‰æ›¸æ—¥æœŸ&lt;/li>
&lt;li>é˜²ç«ç‰†æˆ– WAF è¨­å®š&lt;/li>
&lt;li>å…§ç¶²æˆ–å¤–ç¶²å€éš”&lt;/li>
&lt;/ul>
&lt;h3 id="å‚™ä»½æ©Ÿåˆ¶">å‚™ä»½æ©Ÿåˆ¶&lt;/h3>
&lt;ul>
&lt;li>éœæ…‹æœ‰ç‹€æ…‹è³‡æ–™ (ä½¿ç”¨è€…ä¸Šå‚³çš„)&lt;/li>
&lt;li>è³‡æ–™åº«è³‡æ–™&lt;/li>
&lt;/ul>
&lt;p>é€™é‚Šä¸»è¦èˆ‡å¤§å®¶åˆ†äº«å¹¾ç¨® Nuxt çš„éƒ¨ç½²æ–¹å¼ï¼Œä¸ç®¡æ˜¯éƒ¨ç½²åœ¨è‡ªå·±çš„æ©Ÿæˆ¿ä¸»æ©Ÿæˆ–é›²ç«¯ï¼Œå¤§å®¶å¯ä»¥åœ¨æŒ‘é¸åˆé©çš„è§£æ±ºæ–¹æ¡ˆï¼ŒNitro ä¹Ÿæ”¯æ´ç„¡ä¼ºæœå™¨ (Serverless) ç­‰éƒ¨ç½²æ–¹å¼éå¸¸çš„æ–¹ä¾¿ï¼Œåªæ˜¯è¦ç‰¹åˆ¥æ³¨æ„åˆ° Serverless åŸ·è¡Œä¸€äº› binary çš„å•é¡Œï¼Œå†æŒ‘é¸è‡ªå·±é©åˆçš„éƒ¨ç½²èˆ‡æœå‹™æ–¹å¼ã€‚&lt;/p>
&lt;p>ç¶“éæœ¬ç¯‡æ–‡ç« ï¼Œå¤§å®¶æ‡‰è©²éƒ½å°æ–¼ Nuxt 3 æœ‰åˆæ­¥çš„ç†è§£ï¼Œæ¥ä¸‹ä¾†ä¸‹ä¸€ç¯‡æ–‡ç« æˆ‘å€‘å°‡æœƒé€²å…¥å¯¦æˆ°ç·´ç¿’ï¼Œå°‡æœƒä»¥ Nuxt 3 ä¾†å¯¦ä½œä¸€å€‹éƒ¨è½æ ¼ç¶²ç«™ï¼&lt;/p>
&lt;hr></description></item><item><title>é—¡è¿°å–®å…ƒæ¸¬è©¦ã€å…ƒä»¶æ¸¬è©¦ï¼Œä¸¦å­¸ç¿’åœ¨è‡ªå·±çš„ Vue3 å°ˆæ¡ˆä¸­åŠ å…¥ Vitestï¼</title><link>https://wayneblog.ga/2022-12-29/vitest-unit-test/</link><pubDate>Thu, 29 Dec 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-12-29/vitest-unit-test/</guid><description>&lt;img src="https://madewithnetworkfra.fra1.digitaloceanspaces.com/spatie-space-production/29079/vitest.jpg" alt="Featured image of post é—¡è¿°å–®å…ƒæ¸¬è©¦ã€å…ƒä»¶æ¸¬è©¦ï¼Œä¸¦å­¸ç¿’åœ¨è‡ªå·±çš„ Vue3 å°ˆæ¡ˆä¸­åŠ å…¥ Vitestï¼" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://blog.miniasp.com/post/2019/02/18/Unit-testing-Integration-testing-e2e-testing" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/articles/10278764" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/articles/10298229" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://ithelp.ithome.com.tw/articles/10293368" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>ç¶²ç«™å»ºç½®ä¸æ˜¯ä»¶ç°¡å–®çš„äº‹ï¼Œæˆ‘å€‘éƒ½çŸ¥é“ç¶²ç«™åšå¥½ä¹‹å¾Œï¼Œæœ‰å¥½å¤šç´°ç¯€éœ€è¦å…¼é¡§ï¼Œæ‰€ä»¥è¨±å¤šå…¬å¸èŠ±äº†å¤§é‡çš„æ™‚é–“èˆ‡é‡‘éŒ¢ï¼Œè€—ç”¨äººåŠ›å°ç¶­è­·ä¸­çš„ç¶²ç«™é€²è¡Œä¸æ–·çš„ã€é‡è¤‡çš„äººå·¥æ¸¬è©¦ï¼Œæƒ³é”åˆ°çš„ç›®çš„ä¸å¤–ä¹æ˜¯å¸Œæœ›ç¶²ç«™ä¸è¦å‡ºéŒ¯ï¼Œå¯ä»¥çµ¦å®¢æˆ¶/ä½¿ç”¨è€…æœ€å¥½çš„ç¶²ç«™ä½¿ç”¨é«”é©—ã€‚æœ¬ç¯‡ç« èªªæ˜ä½¿ç”¨ Vue3 é–‹ç™¼çš„å°ˆæ¡ˆï¼Œå°å…¥ Vitest é€²è¡Œæ¥µé€Ÿå–®å…ƒæ¸¬è©¦çš„é«”é©—ï¼&lt;/p>
&lt;hr>
&lt;h2 id="æ¸¬è©¦çš„ç¨®é¡">æ¸¬è©¦çš„ç¨®é¡&lt;/h2>
&lt;p>åœ¨ä¸åŒçš„æ¸¬è©¦é¡å‹ä¸­ï¼Œæ‰€éœ€è¦ä¿è­·çš„é¢å‘ä¸å¤ªç›¸åŒï¼Œä»¥ä¸‹æ˜¯ä¸åŒæ¸¬è©¦é¡å‹çš„å¤§è‡´ä»‹ç´¹ï¼š&lt;/p>
&lt;h3 id="å–®å…ƒæ¸¬è©¦-unit-testing">å–®å…ƒæ¸¬è©¦ (Unit testing)&lt;/h3>
&lt;p>ä»¥ç¨‹å¼ç¢¼çš„æœ€å°å–®ä½é€²è¡Œæ¸¬è©¦ï¼Œä¿è­·ç¨‹å¼é‚è¼¯ä¸æœƒåœ¨ç³»çµ±ç¶­è­·çš„éç¨‹ä¸­é­åˆ°ç ´å£ï¼Œä¹Ÿé€²ä¸€æ­¥ç¢ºä¿ç¶­è­·ä¸­çš„ç¨‹å¼ç¢¼å“è³ªã€‚&lt;/p>
&lt;p>é€™ç¨®æ¸¬è©¦é¡å‹é€šå¸¸ç”±é–‹ç™¼äººå“¡è‡ªè¡Œæ’°å¯«ï¼Œè‡ªå·±å¯«çš„ Code è‡ªå·±å¯«æ¸¬è©¦ï¼Œæœ‰ç¶“é©—çš„é–‹ç™¼äººå“¡å¯ä»¥ç”¨éå¸¸æœ‰æ•ˆç‡çš„æ–¹å¼æ’°å¯«å–®å…ƒæ¸¬è©¦ï¼Œå› ç‚ºæ¸¬è©¦ç¯„åœå°ï¼Œé€™ç¨®é¡å‹çš„æ¸¬è©¦é€šå¸¸ä¸éœ€è¦è¨­ç«‹æ¸¬è©¦ç’°å¢ƒï¼Œå› æ­¤å¯ä»¥å¾—åˆ°è¼ƒé«˜çš„æ’°å¯«æ•ˆç‡ï¼Œä¹Ÿæ˜¯æ‰€æœ‰æ¸¬è©¦é¡å‹ä¸­æœ€å®¹æ˜“æ’°å¯«çš„æ¸¬è©¦é¡å‹ã€‚ä¸éï¼Œå°æ–¼ä¸€å€‹æ²’æœ‰ç¶“é©—çš„é–‹ç™¼è€…ä¾†èªªï¼Œæ’°å¯«å–®å…ƒæ¸¬è©¦å¯èƒ½æœƒè€—ç”¨å¤§é‡æ™‚é–“ï¼Œå¯«æ¸¬è©¦ç¨‹å¼çš„æ™‚é–“å¾ˆæœ‰å¯èƒ½æœƒé å¤§æ–¼å¯¦éš›æ’°å¯«ç¨‹å¼ç¢¼çš„æ™‚é–“ï¼Œæœ‰è »å¤šäººæœƒå› ç‚ºé€™æ¨£è€Œæ”¾æ£„æ’°å¯«å–®å…ƒæ¸¬è©¦ã€‚&lt;/p>
&lt;h3 id="æ•´åˆæ¸¬è©¦-integration-testing">æ•´åˆæ¸¬è©¦ (Integration testing)&lt;/h3>
&lt;p>æ•´åˆå¤šæ–¹è³‡æºé€²è¡Œæ¸¬è©¦ï¼Œç¢ºä¿æ¨¡çµ„èˆ‡æ¨¡çµ„ä¹‹é–“çš„äº’å‹•è¡Œç‚ºæ­£ç¢ºç„¡èª¤ï¼Œä¹Ÿè®“ä¸åŒæ¨¡çµ„åœ¨å„è‡ªé–‹ç™¼ç¶­è­·çš„éç¨‹ä¸­ä¸æœƒå› ç‚ºåŠŸèƒ½èª¿æ•´è€Œé­åˆ°ç ´å£ã€‚&lt;/p>
&lt;p>é€™ç¨®é¡å‹çš„æ¸¬è©¦é€šå¸¸ä»‹æ–¼å–®å…ƒæ¸¬è©¦èˆ‡ç«¯å°ç«¯æ¸¬è©¦ä¹‹é–“ï¼Œæœ‰æ™‚å€™æœƒç”±å°ˆè·çš„æ¸¬è©¦äººå“¡é€²è¡Œé–‹ç™¼ï¼Œä½†å¤§éƒ¨åˆ†é‚„æ˜¯ç”±é–‹ç™¼åœ˜éšŠä¸­è² è²¬ç‰¹å®šæ¨¡çµ„çš„äººä¾†æ’°å¯«ã€‚æœ‰æ™‚å€™å–®ä¸€æ¨¡çµ„å³ä¾¿å®Œå…¨é€šéå–®å…ƒæ¸¬è©¦ï¼Œç¨ç«‹é‹ä½œä¹Ÿæ­£å¸¸ï¼Œä½†æ˜¯ç•¶éœ€è¦èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•æ™‚ï¼Œä¹Ÿæ˜¯æœ‰å¯èƒ½ç™¼ç”ŸéŒ¯èª¤ï¼Œé€™æ™‚å°±æ˜¯æ•´åˆæ¸¬è©¦çš„ä¸»è¦è² è²¬é ˜åŸŸã€‚&lt;/p>
&lt;p>ä»¥ä¸‹æ˜¯æœªé€šéæ•´åˆæ¸¬è©¦çš„æ¡ˆä¾‹ï¼š(å…©å€‹å…ƒä»¶åœ¨æ•´åˆæ™‚ç™¼ç¾å•é¡Œ)&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593420093_cb58f5a813_o.gif"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="ç«¯å°ç«¯æ¸¬è©¦-end-to-end-testing-e2e-testing">ç«¯å°ç«¯æ¸¬è©¦ (End-to-end testing) (E2E testing)&lt;/h3>
&lt;p>æ‰€è¬‚çš„ã€Œç«¯å°ç«¯ã€(E2E) æ˜¯æŒ‡å¾ä½¿ç”¨è€…çš„è§’åº¦å‡ºç™¼(ä¸€ç«¯)ï¼Œå°çœŸå¯¦ç³»çµ±(å¦ä¸€ç«¯)é€²è¡Œæ¸¬è©¦ã€‚&lt;/p>
&lt;p>é€™ç¨®é¡å‹çš„æ¸¬è©¦å°è¨±å¤šå…¬å¸ä¾†èªªï¼Œå°±æ˜¯ã€Œäººå·¥æ¸¬è©¦ã€çš„ä¸»è¦ç¯„åœï¼Œå› ç‚ºä½ å¯ä»¥é€éäººå·¥å°å·²ç¶“å®Œæ•´éƒ¨å±¬çš„ç¶²ç«™é€²è¡Œæ¸¬è©¦ï¼Œå› æ­¤å¯ä»¥é©—è­‰å‡ºç³»çµ±æ˜¯å¦ç¬¦åˆå®¢æˆ¶çš„å¯¦éš›éœ€æ±‚ã€‚é€™éƒ¨åˆ†ä¹Ÿå¯ä»¥é€éæ’°å¯« E2E æ¸¬è©¦ç¨‹å¼ä¾†é€²è¡Œè‡ªå‹•åŒ–ï¼Œå¢åŠ æ¸¬è©¦æ•ˆç‡ã€‚&lt;/p>
&lt;p>é€™è£¡æœ‰å€‹&lt;a class="link" href="https://twitter.com/i/status/1078363114666627072" target="_blank" rel="noopener"
>æœªé€šé E2E æ¸¬è©¦çš„æ¡ˆä¾‹&lt;/a>ç›¸ç•¶æœ‰è¶£ï¼Œé›–ç„¶æ¯å€‹æ•´å¥—ç³»çµ±æ¯å€‹æ¨¡çµ„éƒ½é€šéæ‰€æœ‰å–®å…ƒæ¸¬è©¦èˆ‡æ•´åˆæ¸¬è©¦ï¼Œä½†æœ€å¾Œçµ„è£èµ·ä¾†å¾Œï¼Œå¾ä½¿ç”¨è€…çš„è§’åº¦ç„¡æ³•æ¥å—ï¼&lt;/p>
&lt;hr>
&lt;h2 id="æ¸¬è©¦æ¡ˆä¾‹ä¸­çš„-3a-æ¨¡å¼">æ¸¬è©¦æ¡ˆä¾‹ä¸­çš„ 3A æ¨¡å¼&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è²“å’ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é¤µé£Ÿï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‹¿ç©å…·é€—ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ä»€éº¼éƒ½ä¸åšï¼Œæ‡‰è©²æ¨å€’çœ¼å‰çœ‹åˆ°çš„æ‰€æœ‰æ±è¥¿&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æˆ‘å€‘è¨­ç«‹å¥½æ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹çš„æ•˜è¿°çµæ§‹ä¹‹å¾Œï¼Œè¦é–‹å§‹æ’°å¯«æ¸¬è©¦æ¡ˆä¾‹å…§éƒ¨çš„å¯¦ä½œæ™‚å°±å¯ä»¥åˆ©ç”¨æ‰€è¬‚çš„ 3A æ¨¡å¼ä¾†å®‰æ’ã€‚&lt;/p>
&lt;p>&lt;strong>3A&lt;/strong> æ¨¡å¼ä¸»è¦æ˜¯ç‚º(&lt;strong>Arrange-Act-Assert&lt;/strong>)ä¸‰å€‹è‹±æ–‡å­—çš„ç¸®å¯«ï¼Œè€Œä»–å€‘åˆ†åˆ¥ä»£è¡¨äº†ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>æº–å‚™(Arrange)&lt;/strong>ï¼šæº–å‚™å¥½å—æ¸¬ç›®æ¨™éœ€è¦çš„ä¸€åˆ‡ï¼ŒåŒ…å«ä¾è³´çš„éš”é›¢ç­‰&lt;/li>
&lt;li>&lt;strong>æ“ä½œ(Act)&lt;/strong>ï¼šæ“ä½œå—æ¸¬ç‰©ç›®æ¨™&lt;/li>
&lt;li>&lt;strong>æ–·è¨€(Assert)&lt;/strong>ï¼šé æœŸå—æ¸¬ç‰©çš„æŸå€‹ç‹€æ…‹æ˜¯å¦ç‚ºæˆ‘å€‘æ‰€é æœŸ&lt;/li>
&lt;/ul>
&lt;p>ä»¥ä¸Šæ–¹ç¬¬ä¸€é …æ¸¬è©¦æ¡ˆä¾‹ä¾†å¥—ç”¨ 3A æ¨¡å¼çš„è©±å°±æœƒåƒæ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Arrange: æº–å‚™å¥½ä¸€éš»è²“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cat&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Act: æ‘¸æ‘¸é‚£éš»è²“å’ª
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touch&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Assert: è§€å¯Ÿé‚£éš»è²“æ˜¯å¦ç™¼å‡ºå‘¼åš•åš•å«è²
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‚£å¦‚æœé€™æ™‚å€™ä½ å¯èƒ½æœƒæƒ³åˆ°æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹éƒ½è¦æº–å‚™ä¸€éš»è²“è²“ï¼Œå°æ–¼æ¸¬è©¦æ¡ˆä¾‹ä¾†èªªå°±æœƒä¸€ç›´ä¸æ–·åœ°å»åšã€Œ&lt;strong>æº–å‚™(Arrange)&lt;/strong>ã€é€™å€‹è¡Œç‚ºï¼Œå› æ­¤ä½ å¯èƒ½æœƒå¾ˆç›´è¦ºçš„é€™éº¼è™•ç†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è²“å’ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cat&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touch&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é¤µé£Ÿï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">feed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ä¹¾ä¹¾&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‹¿ç©å…·é€—ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">play&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†é€™æ¨£çš„å¾Œæœå°±æ˜¯æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹ä¹‹é–“å°±æœƒæœ‰é—œè¯äº†ï¼Œæ¯”æ–¹è²“è²“å…¶å¯¦æ‘¸å¤ªå¤šä¸‹ä»–ä¹Ÿæœƒè¦ºå¾—å­ç…©ï¼Œå¾è€Œå°è‡´æ¸¬è©¦å¤±æ•—ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è²“å’ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cat&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸ä¸‹å·´ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touch&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å†æ‘¸ä¸€æ¬¡ä¸‹å·´ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touch&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å†æ‘¸ä¸€æ¬¡ä¸‹å·´ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touch&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// é æœŸå‘¼åš•åš•ï¼Œçµæœè²“å’ªç”Ÿæ°£äº†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œè¦å¯«å¥½æ¸¬è©¦æ¡ˆä¾‹çš„å…¶ä¸­å¹¾å€‹æ¦‚å¿µå°±æ˜¯è¦ç›¡é‡è®“æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹ä¹‹é–“ã€Œ&lt;strong>ä¸å—é †åºå½±éŸ¿æ¸¬è©¦çµæœ&lt;/strong>ã€èˆ‡ã€Œ&lt;strong>ä¿æŒç¨ç«‹&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>å› æ­¤å¤§å¤šæ•¸çš„ã€Œæ¸¬è©¦ç’°å¢ƒã€çš„å·¥å…·éƒ½æœƒæä¾›é¡ä¼¼ç›¸é—œçš„ API ä¾†å”åŠ©è™•ç†æ¸¬è©¦é–‹å§‹å‰çš„ã€Œ&lt;strong>Setup&lt;/strong>ã€èˆ‡çµæŸå¾Œçš„ã€Œ&lt;strong>Teardown&lt;/strong>ã€ç’°ç¯€ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è²“å’ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cat&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹é–‹å§‹å‰è¦åšçš„äº‹æƒ…
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// åˆå§‹åŒ–è²“è²“çš„å„ç¨®ç‹€æ…‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹çµæŸå¾Œè¦åšçš„äº‹æƒ…
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touch&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// é€™æ™‚å€™çš„ target å·²ç¶“æ˜¯ç¶“é init() çš„ç‰ˆæœ¬äº†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é¤µé£Ÿï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">feed&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ä¹¾ä¹¾&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// é€™æ™‚å€™çš„ target å·²ç¶“æ˜¯ç¶“é init() çš„ç‰ˆæœ¬äº†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‹¿ç©å…·é€—ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">play&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// é€™æ™‚å€™çš„ target å·²ç¶“æ˜¯ç¶“é init() çš„ç‰ˆæœ¬äº†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">speaking&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‘¼åš•åš•&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¶œåˆä¸Šè¿° &lt;strong>3A&lt;/strong> èˆ‡è™•ç† &lt;strong>Setup&lt;/strong> &amp;amp; &lt;strong>Teardown&lt;/strong> çš„è§€å¿µï¼Œä¹‹å¾Œå†å¯«æ¸¬è©¦æ¡ˆä¾‹æ™‚ï¼Œæˆ‘å€‘å¯ä»¥å…ˆå¾åŸºç¤çš„ &lt;strong>3A&lt;/strong> æ¨¡å¼é–‹å§‹æ’°å¯«ï¼Œè€Œåˆ°æœ‰éœ€è¦è™•ç†é‡è¤‡çš„äº‹å‰æº–å‚™(Setup)èˆ‡å¾ŒçºŒæ¸…ç†æ™‚(Teardown)ï¼Œå°±å¯ä»¥è—‰ç”±å·¥å…·ä¾†æ›¿æˆ‘å€‘çµ±ä¸€è™•ç†ã€‚&lt;/p>
&lt;p>çœ‹åˆ°é€™é‚Šè®€è€…æ‡‰è©²æœƒç™¼ç¾ï¼Œæ¸¬è©¦çš„åŸºæœ¬æ¦‚å¿µå…¶å¯¦ä¸é›£æ‡‚ï¼Œè€Œåœ¨ç­è§£æ¸¬è©¦çš„æ¦‚å¿µå¾Œï¼Œå‰©ä¸‹çš„å°±æ˜¯æŠŠæ¦‚å¿µè½‰æ›ç‚ºæ¸¬è©¦å·¥å…·å¯è®€æ‡‚æ¸¬è©¦ç¨‹å¼ç¢¼å°±å¥½äº†ï¼&lt;/p>
&lt;hr>
&lt;h2 id="å°ˆæ¡ˆåŠ å…¥-vitest">å°ˆæ¡ˆåŠ å…¥ Vitest&lt;/h2>
&lt;h3 id="åœ¨åˆå§‹åŒ–å°ˆæ¡ˆéç¨‹åŠ å…¥-vitest">åœ¨åˆå§‹åŒ–å°ˆæ¡ˆéç¨‹åŠ å…¥ Vitest&lt;/h3>
&lt;p>å»ºç«‹å°ˆæ¡ˆæ™‚è‹¥è¦åŠ å…¥å–®å…ƒæ¸¬è©¦è¦æ³¨æ„åˆ°çš„æ˜¯ï¼šNode.js ç‰ˆæœ¬å¿…é ˆç‚º 14 ä»¥ä¸Šï¼Œå¦å‰‡ Vitest æœƒç„¡æ³•é †åˆ©åŸ·è¡Œï¼&lt;/p>
&lt;p>ç¢ºèª Node.js ç‰ˆæœ¬å¾Œï¼Œåœ¨è¦å»ºç«‹å°ˆæ¡ˆçš„çˆ¶å±¤è·¯å¾‘åº•ä¸‹é€éçµ‚ç«¯æ©ŸæŒ‡ä»¤è¼¸å…¥ &lt;code>npm create vite@latest&lt;/code> ä¾†å»ºç«‹ä¸€å€‹åŸºæ–¼ Vite æ‰€å»ºæ§‹çš„å°ˆæ¡ˆï¼Œæ¥è‘—çµ‚ç«¯æ©Ÿæœƒå‡ºç¾ä¸€äº›å•é¡Œï¼Œè¦–å°ˆæ¡ˆéœ€æ±‚é¸æ“‡ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593587230_cdfd077261_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;ul>
&lt;li>Project name â‡’ è¼¸å…¥è‡ªè¨‚çš„å°ˆæ¡ˆåç¨±å¾ŒæŒ‰ä¸‹ Enter&lt;/li>
&lt;li>Select a framework â‡’ é¸æ“‡ &lt;code>Vue&lt;/code> å¾ŒæŒ‰ä¸‹ Enter&lt;/li>
&lt;li>Select a variant â‡’ é¸æ“‡ &lt;code>Customize with create-vue&lt;/code> å¾ŒæŒ‰ä¸‹ Enter&lt;/li>
&lt;li>ä¸­é–“å¯èƒ½é‚„æœƒæœ‰ TypeScript, ESLintâ‹¯â‹¯ç­‰ç­‰å•é¡Œï¼Œè«‹è¦–å°ˆæ¡ˆéœ€è¦åŠ å…¥&lt;/li>
&lt;li>Add Vitest for Unit Testing(y/n) â‡’ é¸æ“‡ &lt;code>Yes&lt;/code> å¾ŒæŒ‰ä¸‹ Enter &lt;strong>(æœ€é‡è¦çš„éƒ¨åˆ†&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>å›ç­”å®Œä¸Šé¢çš„å•é¡Œå¾Œï¼Œå»ºæ§‹å·¥å…·å°±æœƒä¾æ“šå‰›æ‰ç­”è¦†çš„å…§å®¹ï¼Œè‡ªå‹•ç”Ÿæˆéœ€è¦çš„éƒ¨åˆ†ã€‚&lt;/p>
&lt;p>æ¯”æ–¹åœ¨ &lt;code>Add Vitest for Unit Testing&lt;/code> å•é¡Œå›ç­” &lt;code>Yes&lt;/code> çš„è©±ï¼Œé€™æ™‚å»ºæ§‹å·¥å…·å°±æœƒåœ¨å°ˆæ¡ˆä¸­ç”Ÿæˆå–®å…ƒæ¸¬è©¦æ‰€éœ€è¦çš„ç›¸é—œå…§å®¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>ä¸€å€‹ä½æ–¼ &lt;code>~å°ˆæ¡ˆæ ¹ç›®éŒ„/src/components/__test__/HelloWorld.spec.js&lt;/code> çš„æ¸¬è©¦ç¯„ä¾‹&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">describe&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">mount&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@vue/test-utils&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">HelloWorld&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;../HelloWorld.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;HelloWorld&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;renders properly&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">HelloWorld&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">msg&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello Vitest&amp;#39;&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello Vitest&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>åœ¨ &lt;code>~å°ˆæ¡ˆæ ¹ç›®éŒ„/package.json&lt;/code> è‡ªå‹•æ–°å¢ä¸€å€‹å•Ÿå‹•å–®å…ƒæ¸¬è©¦çš„ scripts æŒ‡ä»¤&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;test:unit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vitest --environment jsdom&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>åœ¨ &lt;code>~å°ˆæ¡ˆæ ¹ç›®éŒ„/package.json&lt;/code> è‡ªå‹•æ–°å¢å–®å…ƒæ¸¬è©¦æ‰€éœ€è¦çš„å·¥å…·å€‘&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;devDependencies&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@vue/test-utils&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^2.0.2&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;jsdom&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^20.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;vitest&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^0.23.0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—å¦‚å‰›å‰›çµ‚ç«¯æ©Ÿå¾Œæ–¹çš„æç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593586900_2fbde224e0_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;ul>
&lt;li>åŸ·è¡Œ &lt;code>cd {å‰›æ‰å°ˆæ¡ˆåç¨±}&lt;/code> åˆ‡æ›åˆ°å°ˆæ¡ˆç›®éŒ„åº•ä¸‹&lt;/li>
&lt;li>åŸ·è¡Œ &lt;code>npm install&lt;/code> å®‰è£å°ˆæ¡ˆæ‰€éœ€è¦çš„å…§å®¹&lt;/li>
&lt;/ul>
&lt;p>å®‰è£å®Œç•¢å¾Œï¼Œæ¥è‘—å°±å¯ä»¥åŸ·è¡Œ &lt;code>npm run dev&lt;/code> ç¢ºèªç’°å¢ƒï¼Œå¾ŒçºŒè¦åŸ·è¡Œæ¸¬è©¦çš„è©±ï¼ŒåŸ·è¡Œ &lt;code>npm run test:unit&lt;/code> å°±èƒ½ç«‹å³é‹ä½œäº†ã€‚&lt;/p>
&lt;h3 id="åœ¨æ—¢æœ‰å°ˆæ¡ˆä¸­åŠ å…¥-vitest">åœ¨æ—¢æœ‰å°ˆæ¡ˆä¸­åŠ å…¥ Vitest&lt;/h3>
&lt;p>åœ¨æ—¢æœ‰å°ˆæ¡ˆä¸­åŠ å…¥ &lt;code>Vitest&lt;/code> ä¾†ä½œç‚ºåŸ·è¡Œæ¸¬è©¦çš„ç’°å¢ƒæ™‚ï¼Œéœ€ç¢ºèªå°ˆæ¡ˆæœ¬èº«æ˜¯ç”± &lt;code>Vite&lt;/code>(&lt;code>2.7.10&lt;/code> ç‰ˆæœ¬ä»¥ä¸Š)æ‰€å»ºæ§‹çš„ä¹‹å¤–ï¼Œå…¶ &lt;code>Node.js&lt;/code> ç‰ˆæœ¬ä¹Ÿå¿…é ˆç‚º &lt;code>14&lt;/code> ä»¥ä¸Šï¼Œå¦å‰‡æœƒç„¡æ³•é †åˆ©åŸ·è¡Œæ¸¬è©¦ï¼&lt;/p>
&lt;p>ç¢ºèªå¥½å¿…è¦æ¢ä»¶å¾Œå°±å¯ä»¥é–‹å§‹å®‰è£æ¸¬è©¦å·¥å…·ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>vitest&lt;/code>ï¼šå–®å…ƒæ¸¬è©¦æ¡†æ¶(æä¾›äº†åŸ·è¡Œæ¸¬è©¦çš„ç’°å¢ƒã€æ–·è¨€ã€éš”é›¢åº«â‹¯â‹¯ç­‰ç­‰åŠŸèƒ½èˆ‡ API)&lt;/li>
&lt;li>&lt;code>@vue/test-utils&lt;/code>ï¼šæ¸¬è©¦ &lt;code>Vue&lt;/code> å…ƒä»¶çš„å·¥å…·&lt;/li>
&lt;li>&lt;code>jsdom&lt;/code>ï¼šè®“æˆ‘å€‘å¯ä»¥åœ¨ &lt;code>Node&lt;/code> ç’°å¢ƒæ¨¡æ“¬å‡ºç€è¦½å™¨ä¸­çš„ &lt;code>DOM&lt;/code> ç’°å¢ƒ(æ–¹ä¾¿æ¸¬è©¦)&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸‹åŸ·è¡Œï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D vitest @vue/test-utils jsdom
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>æ–°å¢ npm åŸ·è¡Œå–®å…ƒæ¸¬è©¦çš„æŒ‡ä»¤ï¼š&lt;/li>
&lt;/ol>
&lt;h5 id="packagejson">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;test:unit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vitest --environment jsdom&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™æ™‚è‹¥å¿ƒæ€¥çš„åŸ·è¡Œ &lt;code>npm run test:unit&lt;/code> æœƒç™¼ç¾çµ‚ç«¯æ©Ÿå‘Šè¨´ä½  &lt;code>No test files found, exiting with code 1&lt;/code>ï¼ŒåŸå› æ˜¯ä½ &lt;strong>å°šæœªåŠ å…¥ä»»ä½•ä¸€å€‹æ¸¬è©¦æ¡ˆä¾‹&lt;/strong>ã€‚&lt;/p>
&lt;p>è€Œä¸€é–‹å§‹ &lt;code>Vitest&lt;/code> é è¨­æ¸¬è©¦çš„æ¯”å°è¦å‰‡æ˜¯ &lt;code>*/*.{test,spec}.{js,mjs,cjs,ts,mts,cts,jsx,tsx}&lt;/code>ï¼Œç°¡å–®ä¾†èªªä½ åœ¨å°ˆæ¡ˆåº•ä¸‹ä½¿ç”¨ &lt;code>A.test.js&lt;/code> æˆ–æ˜¯ &lt;code>B.spec.ts&lt;/code> çš„æ–¹å¼éƒ½æœƒè¢« Vitest èªç‚ºæ˜¯æ¸¬è©¦ç¨‹å¼æª”ã€‚&lt;/p>
&lt;p>é€™æ™‚ï¼Œæˆ‘å€‘å¯ä»¥åœ¨ &lt;code>~å°ˆæ¡ˆæ ¹ç›®éŒ„/src/components/__test__/&lt;/code> åº•ä¸‹æ–°å»º &lt;code>HelloWorld.spec.js&lt;/code>ï¼š&lt;/p>
&lt;h5 id="srccomponents__test__helloworldspecjs">src/components/&lt;strong>test&lt;/strong>/HelloWorld.spec.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">describe&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;HelloWorld&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1 + 1 should be 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†æ¬¡åŸ·è¡Œ &lt;code>npm run test:unit&lt;/code> çµ‚ç«¯æ©Ÿå°±æœƒé¡¯ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421644_db0c07f63f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>åˆ°é€™è£¡å°±ç®—æ˜¯æˆåŠŸå®‰è£å¥½å›‰ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘æœƒå†æŠŠ &lt;code>Vitest Config&lt;/code> åˆæœŸéœ€è¦è¨­å®šçš„éƒ¨åˆ†èª¿æ•´å¥½å¾Œï¼Œå»ºç½®çš„éƒ¨åˆ†å°±å®Œæˆäº†ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="vitest-config-è¨­å®šæ–¹å¼">Vitest Config è¨­å®šæ–¹å¼&lt;/h2>
&lt;p>Vitest æ¸¬è©¦åœ¨åŸ·è¡Œçš„æ™‚å€™é è¨­æœƒåŸºæ–¼åŸå…ˆå°ˆæ¡ˆä¸­çš„ &lt;code>vite.config.js&lt;/code> è¨­å®šæª”ï¼Œæ‰€ä»¥æ²’æœ‰éœ€è¦èª¿æ•´çš„è©±ä¸å¤ªéœ€è¦å¦å¤–è¨­ç½®ï¼Œéœ€è¦èª¿æ•´çš„è©± Vitest ä¹Ÿæä¾›äº†ä¸‰ç¨®æ–¹æ³•è®“ä½ åœ¨ä¸åŒé–‹ç™¼æƒ…å¢ƒä¸‹é¸æ“‡èª¿æ•´æ–¹å¼ï¼š&lt;/p>
&lt;ul>
&lt;li>åŸ·è¡Œ &lt;code>npm&lt;/code> æŒ‡ä»¤æ™‚å¸¶åƒæ•¸æŒ‡å®šè¨­å®šæª”æ¡ˆè·¯å¾‘&lt;/li>
&lt;li>ç›´æ¥åœ¨åŸå…ˆ &lt;code>vite.config.js&lt;/code> ä¸­èª¿æ•´&lt;/li>
&lt;li>é€é &lt;code>vitest.config.js&lt;/code> æª”æ¡ˆèª¿æ•´æ¸¬è©¦è¨­å®š&lt;/li>
&lt;/ul>
&lt;h3 id="åŸ·è¡Œ-npm-æŒ‡ä»¤æ™‚å¸¶åƒæ•¸æŒ‡å®šè¨­å®šæª”æ¡ˆè·¯å¾‘">åŸ·è¡Œ npm æŒ‡ä»¤æ™‚å¸¶åƒæ•¸æŒ‡å®šè¨­å®šæª”æ¡ˆè·¯å¾‘&lt;/h3>
&lt;p>è‹¥æƒ³è¦åœ¨åŸ·è¡Œçš„æ™‚å€™å»å¼•å…¥ä¸åŒçš„è¨­å®šæª”æ¡ˆï¼Œå‰‡å¯ä»¥åœ¨ &lt;code>package.json&lt;/code> æŒ‡ä»¤ä¸­é€é &lt;code>--config&lt;/code> åŠ ä¸Šè¨­å®šæª”æ¡ˆçš„è·¯å¾‘(e.g. &lt;code>vitest --config ./src/scripts/vitest.config.js&lt;/code> )ï¼š&lt;/p>
&lt;h5 id="packagejson-1">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;test:unit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vitest --config ./src/__test__/config/vitest.config.js&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">//...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—è©²æª”æ¡ˆå°±å¦‚è¨­å®š &lt;code>vitest.config.js&lt;/code> ä¸€æ¨£èª¿æ•´å°±å¯ä»¥äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vite&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">vue&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@vitejs/plugin-vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// https://vitejs.dev/config/
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vue&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨é€™é‚ŠåŠ å…¥è¨­å®š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åœ¨å°ˆæ¡ˆä¸­çš„-viteconfigjs-ä¸­èª¿æ•´æ¸¬è©¦è¨­å®š">åœ¨å°ˆæ¡ˆä¸­çš„ vite.config.js ä¸­èª¿æ•´æ¸¬è©¦è¨­å®š&lt;/h3>
&lt;p>è‹¥æƒ³åœ¨åŸå…ˆçš„ &lt;code>vite.config.js&lt;/code> ä¸­èª¿æ•´æ¸¬è©¦è¨­å®šï¼Œæœ‰å…©ç¨®æ–¹å¼å¯ä»¥ä½¿ç”¨ï¼š&lt;/p>
&lt;ul>
&lt;li>ç¬¬ä¸€ç¨®æ˜¯ç›´æ¥åœ¨æœ€ä¸Šæ–¹åŠ å…¥ &lt;code>/// &amp;lt;reference types=&amp;quot;vitest&amp;quot; /&amp;gt;&lt;/code> å¾Œï¼Œåœ¨ test å±¬æ€§ä¸­åŠ å…¥è¨­å®šï¼š&lt;/li>
&lt;/ul>
&lt;h5 id="viteconfigjs">vite.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">/// &amp;lt;reference types=&amp;#34;vitest&amp;#34; /&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vite&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨é€™é‚ŠåŠ å…¥è¨­å®š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ç¬¬äºŒç¨®ï¼ŒæŠŠåŸå…ˆçš„ &lt;code>defineConfig&lt;/code> æ”¹ç”± &lt;code>vitest/config&lt;/code> å‚³å…¥å¾Œï¼Œåœ¨ &lt;code>test&lt;/code> å±¬æ€§ä¸­åŠ å…¥è¨­å®šï¼š&lt;/li>
&lt;/ul>
&lt;h5 id="viteconfigjs-1">vite.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest/config&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨é€™é‚ŠåŠ å…¥è¨­å®š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é€é-vitestconfigjs-æª”æ¡ˆèª¿æ•´æ¸¬è©¦è¨­å®š">é€é vitest.config.js æª”æ¡ˆèª¿æ•´æ¸¬è©¦è¨­å®š&lt;/h3>
&lt;p>è‹¥æƒ³å€éš”é–‹ç™¼èˆ‡æ¸¬è©¦ç”¨çš„è¨­å®šæ™‚ï¼Œå¯ä»¥åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸­æ–°å¢ &lt;code>vitest.config.js&lt;/code> æª”æ¡ˆï¼Œé€™æœƒæ¯”åŸå…ˆåƒè€ƒçš„ &lt;code>vite.config.js&lt;/code> æ“æœ‰æ›´é«˜çš„å„ªå…ˆæ¬Šã€‚&lt;/p>
&lt;p>ä¸æƒ³å°‡åŸå…ˆåœ¨ &lt;code>vite.config.js&lt;/code> è¨­å®šéƒ½é‡æ–°å…¨å¯«ä¸€æ¬¡çš„è©±ï¼Œä¹Ÿå¯ä»¥åœ¨ &lt;code>vitest.config.js&lt;/code> ä¸­ï¼Œä½¿ç”¨ &lt;code>mergeConfig&lt;/code> ä¾†èåˆ &lt;code>vite.config.js&lt;/code> çš„è¨­å®šï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">mergeConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vite&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest/config&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">viteConfig&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./vite.config&amp;#39;&lt;/span> &lt;span class="c1">// åŸå…ˆçš„ vite è¨­å®šæª”æ¡ˆ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">mergeConfig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">viteConfig&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨é€™è£¡åŠ å…¥æ¸¬è©¦è¨­å®š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="vitest-config-option">Vitest config option&lt;/h2>
&lt;p>è‡³æ–¼ Vitest config èƒ½èª¿æ•´ä»€éº¼å…§å®¹å‘¢ï¼Œé€™è£¡åˆ—äº†å¹¾å€‹å¸¸è¦‹çš„èª¿æ•´é¸é …ï¼š&lt;/p>
&lt;ul>
&lt;li>include&lt;/li>
&lt;li>exclude&lt;/li>
&lt;li>globals&lt;/li>
&lt;li>environment&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>è¨»ï¼šä»¥ä¸‹éƒ¨åˆ†è³‡æ–™å¼•ç”¨ &lt;a class="link" href="https://cn.vitest.dev/config/" target="_blank" rel="noopener"
>Vitest Config Option&lt;/a> ä¸¦ç¿»è­¯èˆ‡è£œå……ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="include">include&lt;/h3>
&lt;ul>
&lt;li>Typeï¼š string[]&lt;/li>
&lt;li>é è¨­å€¼ï¼š [&amp;rsquo;**/*.{test,spec}.{js,mjs,cjs,ts,mts,cts,jsx,tsx}']&lt;/li>
&lt;/ul>
&lt;p>è—‰ç”±é€™å€‹æ¬„ä½æˆ‘å€‘å¯ä»¥æä¾› glob æ ¼å¼è®“ vitest å»æ¯”å°å“ªäº›æ˜¯æ¸¬è©¦æª”æ¡ˆï¼Œä¹Ÿå¯ä»¥æ”¾å…¥å¤šå€‹æ¢ä»¶åœ¨é™£åˆ—ä¸­ã€‚&lt;/p>
&lt;h5 id="vitestconfigjs">vitest.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest/config&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">include&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;**/*.spec.js&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹è¨­å®šä¸»è¦æœƒå½±éŸ¿åˆ°å¾ŒçºŒæˆ‘å€‘è¦å¦‚ä½•æ“ºæ”¾æ¸¬è©¦ç¨‹å¼ç¢¼ï¼Œå› æ­¤åšè¦åŠƒæ™‚å¯ä»¥æŒ‰éœ€æ±‚è€ƒé‡èª¿æ•´ã€‚&lt;/p>
&lt;h3 id="exclude">exclude&lt;/h3>
&lt;ul>
&lt;li>Typeï¼š string[]&lt;/li>
&lt;li>é è¨­å€¼ï¼š [&amp;rsquo;&lt;strong>/node_modules/&lt;/strong>&amp;rsquo;, &amp;lsquo;&lt;strong>/dist/&lt;/strong>&amp;rsquo;, &amp;lsquo;&lt;strong>/cypress/&lt;/strong>&amp;rsquo;, &amp;lsquo;&lt;strong>/.{idea,git,cache,output,temp}/&lt;/strong>&amp;rsquo;]&lt;/li>
&lt;/ul>
&lt;p>è—‰ç”±é€™å€‹æ¬„ä½æˆ‘å€‘å¯ä»¥æä¾› glob æ ¼å¼è®“ vitest å»æ’é™¤å“ªäº›ä¸æ˜¯æ¸¬è©¦æª”æ¡ˆï¼Œä¹Ÿå¯ä»¥æ”¾å…¥å¤šå€‹æ¢ä»¶åœ¨é™£åˆ—ä¸­ã€‚&lt;/p>
&lt;h5 id="vitestconfigjs-1">vitest.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest/config&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">exclude&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;**/node_modules/**&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;**/dist/**&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;**/cypress/**&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;**/.{idea,git,cache,output,temp}/**&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èˆ‡ &lt;code>include&lt;/code> ç›¸åï¼Œé€™æ¬¡å‰‡æ˜¯è¦æ’é™¤å“ªäº›è·¯å¾‘ä¸éœ€è¦å°‹æ‰¾æ˜¯å¦æœ‰æ¸¬è©¦æª”æ¡ˆï¼Œå…¶ä¸­å¦‚æœæœ‰ç”¨åˆ° &lt;code>cypress&lt;/code> åš E2E æ¸¬è©¦çš„è©±ï¼Œé è¨­è¦å‰‡ä¸­å°±å·²ç¶“æœ‰å¦å¤–æ’é™¤äº†ï¼Œæ‰€ä»¥æ²’å¿…è¦çš„è©±ä¸å¿…ç‰¹åˆ¥è¨­ç½®ï¼Œä½†å¯ä»¥å…ˆè¨˜å¾—æœ‰é€™å€‹æ–¹ä¾¿çš„æ¬„ä½ã€‚&lt;/p>
&lt;h3 id="globals">Globals&lt;/h3>
&lt;ul>
&lt;li>Typeï¼š boolean&lt;/li>
&lt;li>é è¨­å€¼ï¼š false&lt;/li>
&lt;/ul>
&lt;p>ç”±æ–¼åœ¨æ’°å¯«æ¸¬è©¦æ™‚ï¼ŒVitest é è¨­æ˜¯éœ€è¦è‡ªå·±æŒ‰éœ€è¦å¼•å…¥å°æ‡‰çš„æ–¹æ³•ç­‰ç­‰ï¼Œå¦‚æœè¦é¡ä¼¼åƒ Jest ä»¥&lt;strong>å…¨åŸŸ&lt;/strong>çš„æ–¹å¼æ³¨å…¥åˆ°æ¸¬è©¦ä¸­ï¼Œå°±å¯ä»¥é€éåœ¨åŸ·è¡Œæ™‚åŠ ä¸Š &lt;code>--globals&lt;/code> é¸é …ï¼Œæˆ–æ˜¯åœ¨ &lt;code>vitest config&lt;/code> é¸é …ä¸­åŠ å…¥ &lt;code>globals: true&lt;/code>ã€‚&lt;/p>
&lt;h5 id="vitestconfigjs-2">vitest.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest/config&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">globals&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸå…ˆè¨­å®šå‰ï¼Œæ¸¬è©¦ç¨‹å¼ç¢¼éœ€è¦å¦‚ä¸‹æ–¹å¼•å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">describe&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;HelloWorld&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1 + 1 should be 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŠ å…¥ &lt;code>Globals: true&lt;/code> å¾Œï¼Œå°±ä¸éœ€è¦é¡¯ç¤ºå¼•å…¥ vitest æ¸¬è©¦ç›¸é—œçš„ APIï¼Œè®“æ¸¬è©¦çœ‹èµ·ä¾†æ›´ä¹¾æ·¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;HelloWorld&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1 + 1 should be 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="environment">environment&lt;/h3>
&lt;ul>
&lt;li>Typeï¼š &amp;rsquo;node&amp;rsquo; | &amp;lsquo;jsdom&amp;rsquo; | &amp;lsquo;happy-dom&amp;rsquo; | &amp;rsquo;edge-runtime&amp;rsquo; | string&lt;/li>
&lt;li>é è¨­å€¼ï¼š &amp;rsquo;node&amp;rsquo;&lt;/li>
&lt;/ul>
&lt;p>ç”±æ–¼ Vitest æœ¬èº«é»˜èªç’°å¢ƒ Node.jsï¼Œå› æ­¤è‹¥è¦åœ¨æ¸¬è©¦ä¸­ä»¿é€ ç€è¦½å™¨çš„æ‡‰ç”¨ç¨‹å¼ï¼Œå¯ä»¥é€éé¡ä¼¼ &lt;code>jsdom&lt;/code> ç­‰å·¥å…·ä¾†å–ä»£ï¼Œè€Œå·²ç¶“ä»‹ç´¹éçš„ npm æŒ‡ä»¤çš„å¯«æ³•ä¹‹å¤– &lt;code>-environment jsdom&lt;/code> ï¼Œé‚„å¯ä»¥åœ¨æ¸¬è©¦æª”æ¡ˆä¸Šä»¥ docblock æˆ– comment é¢¨æ ¼çš„æ–¹å¼è¨»è¨˜ã€‚&lt;/p>
&lt;p>Docblock é¢¨æ ¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/**
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> * @vitest-environment jsdom
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">**/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;use jsdom in this test file&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;div&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">element&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerHTML&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;p&amp;gt;Hello, HTML!&amp;lt;/p&amp;gt;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerHTML&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;lt;p&amp;gt;Hello, HTML!&amp;lt;/p&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Comment é¢¨æ ¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// @vitest-environment jsdom
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;use jsdom in this test file&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">element&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;div&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">element&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerHTML&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;p&amp;gt;Hello, HTML!&amp;lt;/p&amp;gt;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerHTML&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;lt;p&amp;gt;Hello, HTML!&amp;lt;/p&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯«åœ¨ &lt;code>vitest config&lt;/code> ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineConfig&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest/config&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">environment&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;jsdom&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†åœ¨æ¸¬è©¦ä¸­æˆ‘å€‘å°±å¯ä»¥æ¨¡æ“¬ Web ç«¯ç’°å¢ƒä¾†æ“ä½œäº†ã€‚&lt;/p>
&lt;p>ä»¥ä¸Šæ˜¯ Vitest å¹¾å€‹æ¯”è¼ƒå¸¸è¦‹çš„è¨­å®šï¼Œå…¶é¤˜çš„è¨­å®šå¾ŒçºŒä¹ŸæœƒæŒ‰éœ€æ±‚é™¸çºŒæåˆ°ï¼Œè‹¥å°æ–¼å…¶ä»–è¨­å®šé¸é …æœ‰èˆˆè¶£çš„ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åˆ°å®˜æ–¹æ–‡ä»¶ä¸­çš„ &lt;a class="link" href="https://cn.vitest.dev/config/" target="_blank" rel="noopener"
>config åˆ†é &lt;/a> æŸ¥çœ‹ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æ¸¬è©¦çš„æœ¬è³ª">æ¸¬è©¦çš„æœ¬è³ª&lt;/h2>
&lt;p>æ¸¬è©¦çš„æœ¬è³ªç©¶ç«Ÿæ˜¯ä»€éº¼ï¼Ÿæ¸¬è©¦ç°¡å–®çš„ä¾†èªªä¸»è¦å°±æ˜¯è—‰ç”±æ“æ§å—æ¸¬ç‰©(SUT, System Under Test)ï¼Œè§€å¯Ÿç”±å—æ¸¬ç‰©ç”¢ç”Ÿçš„æœ€çµ‚ç‹€æ…‹æ˜¯å¦å¦‚æˆ‘å€‘æ‰€é æœŸçš„æ¨£å­ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421659_5c5cde3ea2_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>è‹¥æœ€çµ‚ç‹€æ…‹ç¬¦åˆæˆ‘å€‘çš„é æœŸï¼Œå°æ–¼é–‹ç™¼è€…çš„å«ç¾©ä¾†èªªï¼Œå°±æ˜¯å—æ¸¬ç‰©ç¬¦åˆäº†æˆ‘å€‘çš„æœŸå¾…ã€‚&lt;/p>
&lt;p>ä½†é€™é»å¥½è™•çœ‹ä¼¼æ²’æœ‰åšã€Œæ¸¬è©¦ã€çš„å¿…è¦ï¼Œç•¢ç«Ÿæˆ‘å€‘å¹³æ™‚é–‹ç™¼èƒ½é©—æ”¶å®Œæˆä¸å°±æ˜¯ç¬¦åˆäº†è¦æ ¼æ›¸çš„æœŸå¾…å—ï¼Ÿ&lt;/p>
&lt;p>å› æ­¤ç‚ºäº†èƒ½å¤ æ›´åŠ é«”æœƒæ¸¬è©¦èƒŒå¾Œçš„åƒ¹å€¼ï¼Œæˆ‘å€‘æ¥ä¸‹ä¾†å°‡å¯¦éš›åšä¸€å€‹æ¸¬è©¦å·¥å…·ä¾†ä¾†æª¢é©—æˆ‘å€‘è‡ªå·±æ‰€å¯«çš„å‡½å¼ã€‚&lt;/p>
&lt;h3 id="æƒ…å¢ƒèˆ‰ä¾‹">æƒ…å¢ƒèˆ‰ä¾‹&lt;/h3>
&lt;p>é¦–å…ˆï¼Œæƒ…å¢ƒå‡è¨­åœ¨å°ˆæ¡ˆä¸­æœ‰ä¸€è™•é‚è¼¯åˆ¤æ–·éœ€è¦æª¢æ¸¬å‚³é€²ä¾†è³‡æ–™çš„æ˜¯å¦ç‚ºæ•¸å€¼(Numeric)ï¼Œè€Œå‚³é€²ä¾†çš„è³‡æ–™å¯èƒ½æœ‰ &lt;code>1&lt;/code>, &lt;code>null&lt;/code>, &lt;code>'100'&lt;/code>, &lt;code>NaN&lt;/code> ç­‰ã€‚&lt;/p>
&lt;p>æˆ‘å€‘å¸Œæœ›ç•¶ &lt;code>1&lt;/code> å’Œ &lt;code>'100'&lt;/code> æ™‚ï¼Œè©²åˆ¤æ–·æ‡‰è©²è¦ç‚º &lt;code>true&lt;/code>ï¼Œè€Œ &lt;code>null&lt;/code> èˆ‡ &lt;code>NaN&lt;/code> å‰‡æ˜¯è¦ç‚º &lt;code>false&lt;/code>ã€‚&lt;/p>
&lt;p>æ¥ä¸‹ä¾†çš„ç›®æ¨™æˆ‘å€‘è¦åšçš„å°±æ˜¯ï¼š&lt;/p>
&lt;ol>
&lt;li>è£½ä½œä¸€å€‹ç°¡æ˜“çš„æ¸¬è©¦å·¥å…·&lt;/li>
&lt;li>å¯«æ¸¬è©¦æ¡ˆä¾‹&lt;/li>
&lt;li>å¯«å—æ¸¬ç¨‹å¼ç¢¼çš„å¯¦ä½œ&lt;/li>
&lt;/ol>
&lt;h3 id="ç°¡æ˜“çš„æ¸¬è©¦å·¥å…·">ç°¡æ˜“çš„æ¸¬è©¦å·¥å…·&lt;/h3>
&lt;p>é¦–å…ˆè¦åŠƒä¸€ä¸‹å·¥å…·æˆ‘æœ€å¾Œå¸Œæœ›ç”¨èµ·ä¾†åƒæ˜¯é€™å€‹æ¨£å­ï¼š&lt;/p>
&lt;p>&lt;code>expect(å—æ¸¬ç‰©).toBe(é æœŸç‹€æ…‹)&lt;/code>&lt;/p>
&lt;ul>
&lt;li>å›å‚³ &lt;code>true&lt;/code> è¡¨ç¤ºæ¸¬è©¦æˆåŠŸ (å³ç‚ºæœ€çµ‚ç‹€æ…‹èˆ‡é æœŸç‹€æ…‹ç›¸åŒ)&lt;/li>
&lt;li>å›å‚³ &lt;code>false&lt;/code> è¡¨ç¤ºæ¸¬è©¦å¤±æ•— (å³ç‚ºæœ€çµ‚ç‹€æ…‹èˆ‡é æœŸç‹€æ…‹ä¸åŒ)ï¼Œç„¶å¾ŒåŠ ä¸Š error æç¤ºé æœŸç‹€æ…‹æ‡‰è©²è¦æ˜¯ä»€éº¼ï¼Œæœ€çµ‚ç‹€æ…‹ç›®å‰æ˜¯ä»€éº¼ã€‚&lt;/li>
&lt;/ul>
&lt;p>æ¥è‘—æŒ‰ç…§ä¸Šé¢çš„è¨­æƒ³ï¼Œå…ˆå®šç¾©äº†ä¸€å€‹å®£å‘Šå‡½å¼ &lt;code>expect&lt;/code>ï¼Œåƒæ•¸å‰‡æ˜¯é è¨ˆè¼¸å…¥å—æ¸¬ç‰©(&lt;code>input&lt;/code>)èˆ‡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†ä¾†å·¥å…·æœ¬èº«å‘¼å«æ™‚éœ€å›å‚³äº†ä¸€å€‹å«åš &lt;code>toBe&lt;/code> çš„é©—è­‰æ–¹æ³•ï¼Œè©²é©—è­‰æ–¹æ³•çš„åƒæ•¸ç‚ºé æœŸç›®æ¨™(&lt;code>expected&lt;/code>)ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">toBe&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">toBe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—è¨­è¨ˆè©²é©—è­‰çš„æ–¹æ³•ï¼Œä½¿å…¶èƒ½å¤ å›æ‡‰æ¸¬è©¦çš„çµæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">toBe&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">expected&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">toBe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¾åœ¨æˆ‘å€‘é€éç¶²é ç€è¦½å™¨çš„ devtool console æ§åˆ¶å°ï¼Œå°±å¯ä»¥é€éè©²æ¸¬è©¦å·¥å…·åšç°¡æ˜“çš„æ¸¬è©¦æ¡ˆä¾‹äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">toBe&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">expected&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">toBe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†æˆ‘å€‘å¸Œæœ›ä»–èƒ½å¤ åœ¨æ¸¬è©¦æ¡ˆä¾‹å¤±æ•—çš„æ™‚å€™å›æ‡‰ä¸€ä¸‹ç•¶ä¸‹é æœŸèˆ‡çµæœçš„ç‹€æ³ï¼Œå¾ŒçºŒæˆ‘å€‘æ‰èƒ½é‡å°ç´€éŒ„çš„çµæœåšä¿®æ­£ã€‚å› æ­¤æˆ‘å€‘å†ä¿®æ”¹ä¸€ä¸‹æ¸¬è©¦æ–¹æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">handleOnError&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`æ¸¬è©¦å¤±æ•—ï¼šé æœŸæ‡‰è©²ç‚º &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">expected&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">ï¼Œçµæœç¾åœ¨ç‚º &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">toBe&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">expected&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">handleOnError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">toBe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†åŸ·è¡Œä¸€å€‹æ•…æ„å¯«éŒ¯çš„æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593679828_d73a14781b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç¾åœ¨å¯ä»¥çœ‹åˆ°ç•¶æ¸¬è©¦æ¡ˆä¾‹ç™¼ç”ŸéŒ¯èª¤çš„æ™‚å€™ï¼Œé™¤äº†æœƒå›å‚³æ¸¬è©¦çµæœä¹‹å¤–ï¼Œé‚„æœƒå¤šå€‹éŒ¯èª¤æé†’ç›®å‰éŒ¯èª¤çš„åŸå› äº†ï¼&lt;/p>
&lt;h3 id="å¯«æ¸¬è©¦æ¡ˆä¾‹">å¯«æ¸¬è©¦æ¡ˆä¾‹&lt;/h3>
&lt;p>åœ¨å®Œæˆæ¸¬è©¦å·¥å…·å¾Œï¼Œç¾åœ¨æˆ‘å€‘è¦ä¾†å¯«æ¸¬è©¦æ¡ˆä¾‹ï¼Œé¦–å…ˆæˆ‘å€‘å…ˆå¯«ä¸€å€‹é‚„æ²’æœ‰å¯«å¯¦ä½œéƒ¨åˆ†çš„åˆ¤æ–·å‡½å¼(&lt;code>isNumeric&lt;/code>)ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">isNumeric&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—æŒ‰ç…§é¡Œç›®æ‰€è¨­å®šçš„æ¢ä»¶ï¼Œä¾†æ’°å¯«æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;blockquote>
&lt;p>é¡Œç›®è¨­å®šï¼š&lt;br>
ç•¶ &lt;code>1&lt;/code> å’Œ &lt;code>'100'&lt;/code> æ™‚ï¼Œè©²åˆ¤æ–·æ‡‰è©²è¦ç‚º &lt;code>true&lt;/code>ï¼Œ&lt;br>
è€Œ &lt;code>null&lt;/code> èˆ‡ &lt;code>NaN&lt;/code> å‰‡æ˜¯è¦ç‚º &lt;code>false&lt;/code>ã€‚&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">isNumeric&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;100&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">NaN&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ™‚åŸ·è¡Œå¾Œæœƒç™¼ç¾æœƒç™¼ç¾å››å€‹æ¡ˆä¾‹éƒ½å ±éŒ¯ï¼Œå› ç‚ºç›®å‰æˆ‘å€‘é‚„æ²’æ’°å¯« &lt;code>isNumeric&lt;/code> çš„åˆ¤æ–·å¯¦ä½œï¼Œä½†åˆ°é€™ä¸€æ­¥æ¸¬è©¦æ¡ˆä¾‹å°±å·²ç¶“ç®—æ˜¯å¯«å¥½äº†ï¼Œå› ç‚ºæˆ‘å€‘çš„ç›®çš„æ˜¯è¦å¯«å°çš„æ¸¬è©¦æ¡ˆä¾‹ï¼Œè®“å¯¦ä½œå»ç¬¦åˆã€‚&lt;/p>
&lt;h3 id="å¯«å—æ¸¬ç¨‹å¼ç¢¼çš„å¯¦ä½œ">å¯«å—æ¸¬ç¨‹å¼ç¢¼çš„å¯¦ä½œ&lt;/h3>
&lt;p>å®Œæˆæ¸¬è©¦æ¡ˆä¾‹å¾Œï¼Œæˆ‘å€‘å°‡è¦ä¾†å¯«æ¸¬è©¦ç¨‹å¼ç¢¼çš„å¯¦ä½œéƒ¨åˆ†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">isNumeric&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="nb">isNaN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nb">parseFloat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ€å¾Œï¼Œå°‡æ•´å€‹æ¸¬è©¦èˆ‡å¯¦ä½œåˆä½µèµ·ä¾†å°±æœƒåƒé€™æ¨£å­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ¸¬è©¦å·¥å…·ç¨‹å¼ç¢¼éƒ¨åˆ†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">expect&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">handleOnError&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`æ¸¬è©¦å¤±æ•—ï¼šé æœŸæ‡‰è©²ç‚º &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">expected&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">ï¼Œçµæœç¾åœ¨ç‚º &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">result&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">toBe&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">expected&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">handleOnError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expected&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">toBe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å¯¦ä½œç¨‹å¼ç¢¼éƒ¨åˆ†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">isNumeric&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="nb">isNaN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nb">parseFloat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ¸¬è©¦æ¡ˆä¾‹éƒ¨åˆ†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// trueï¼Œå³ç‚ºé€šéæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;100&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// trueï¼Œå³ç‚ºé€šéæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// trueï¼Œå³ç‚ºé€šéæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">NaN&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// trueï¼Œå³ç‚ºé€šéæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®Œæˆï¼ç¾åœ¨å·²ç¶“ä¸æœƒé¡¯ç¤ºæ¸¬è©¦å¤±æ•—çš„è¨Šæ¯äº†ï¼Œä¹Ÿå°±è¡¨ç¤º &lt;code>isNumeric&lt;/code> æ–¹æ³•ç¬¦åˆæˆ‘å€‘çš„é æœŸå›‰ã€‚&lt;/p>
&lt;p>è€Œç¾åœ¨å‡ä½¿æˆ‘æƒ³ä½¿å¯¦ä½œç¨‹å¼ç¢¼çš„éƒ¨åˆ†æ›´åŠ çš„å®Œå–„ï¼Œåªè¦å¢åŠ åˆé©çš„æ¸¬è©¦æ¡ˆä¾‹é€²å»å°±å¯ä»¥å¢æ·»å—æ¸¬ç‰©æœ¬èº«çš„ä¿¡è³´èˆ‡ç©©å®šåº¦ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">1.123&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mh">0xFFF&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;100&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">undefined&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">isNumeric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">NaN&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”šè‡³å°‡ä¾†æ”¹å¯«å¯¦ä½œ(&lt;code>isNumeric&lt;/code>)çš„æ™‚å€™ï¼Œæ—¢æœ‰çš„æ¸¬è©¦å…§å®¹å°±æœƒæé†’ä½ æ˜¯å¦é•åäº†ä¹‹å‰æ‰€å¯«çš„æ¸¬è©¦æ¡ˆä¾‹ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æ¸¬è©¦å·¥å…·çš„é¸æ“‡">æ¸¬è©¦å·¥å…·çš„é¸æ“‡&lt;/h2>
&lt;p>ä¸Šé¢æœ‰æåˆ°ç°¡æ˜“çš„æ¸¬è©¦å·¥å…·æ˜¯å¦‚ä½•æ‰‹åˆ»å‡ºä¾†çš„ï¼Œä¹Ÿç¨å¾®è«‡åˆ°äº†æ‰‹åˆ»æ¸¬è©¦å·¥å…·çš„å›°é›£ï¼Œå› æ­¤é¸æ“‡ä¸€å€‹é©ç•¶çš„æ¸¬è©¦å·¥å…·ä¾†è¼”åŠ©æˆ‘å€‘é€²è¡Œæ¸¬è©¦æ˜¯æœ‰å¿…è¦æ€§çš„ã€‚&lt;/p>
&lt;p>ä½†æ¸¬è©¦å·¥å…·ç™¾ç™¾ç¨®ï¼Œè¨±å¤šå·¥å…·åœ¨æä¾›çš„åŠŸèƒ½ä¸Šåˆé‡ç–Šï¼Œé‚£éº¼æˆ‘å€‘è©²å¦‚ä½•é¸æ“‡å·¥å…·å‘¢ï¼Ÿ&lt;/p>
&lt;p>è‹¥æ˜¯ä»¥ã€Œ&lt;strong>å–®å…ƒæ¸¬è©¦&lt;/strong>ã€ä¾†èªªçš„è©±ï¼Œæˆ‘å€‘åœ¨æ’°å¯«æ¸¬è©¦ç¨‹å¼ç¢¼æ™‚å¯èƒ½è‡³å°‘å°±æœƒæœ‰ä»¥ä¸‹çš„éœ€æ±‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* å¼•å…¥ç›¸é—œæª”æ¡ˆ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒæè¿°&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹æè¿°&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, World&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å¦ä¸€å€‹æ¸¬è©¦æ¡ˆä¾‹æè¿°&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Unit-test!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Unit-test!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>æ¸¬è©¦ç’°å¢ƒ(test runner)ï¼šæä¾›ä¸Šæ–¹æ¸¬è©¦ç¨‹å¼ç¢¼åŸ·è¡Œçš„ç’°å¢ƒã€‚&lt;/li>
&lt;li>æ¸¬è©¦æƒ…å¢ƒ(test suite)ï¼šå¦‚ä¸Šæ–¹çš„ &lt;code>describe&lt;/code>ï¼Œç”¨ä¾†åŒ…è£¹å¤šå€‹æ¸¬è©¦æ¡ˆä¾‹ï¼Œä»¥åŠæè¿°æ¸¬è©¦æƒ…å¢ƒâ‹¯â‹¯ç­‰åŠŸèƒ½ã€‚&lt;/li>
&lt;li>æ¸¬è©¦æ¡ˆä¾‹(test case)ï¼šå¦‚ä¸Šæ–¹çš„ &lt;code>it&lt;/code>ï¼Œç”¨ä¾†åŒ…è£¹è©²æ¸¬è©¦æ¡ˆä¾‹çš„å¯¦éš›æƒ…æ³ï¼Œè‹¥æœ‰éŒ¯èª¤æ™‚éœ€è®“æˆ‘å€‘èƒ½å¤ è¼•æ˜“æ‰¾åˆ°æ˜¯å“ªå€‹æ¡ˆä¾‹ç™¼ç”Ÿçš„â‹¯â‹¯ç­‰ç­‰åŠŸèƒ½ã€‚&lt;/li>
&lt;li>æ–·è¨€(Assertion)ï¼šå¦‚ä¸Šæ–¹çš„ expectï¼Œä¸»è¦æ˜¯ç”¨ä¾†åˆ¤æ–·å—æ¸¬ç‰©èˆ‡é æœŸçµæœæ˜¯å¦ä¸€è‡´çš„æ–¹æ³•ï¼Œç”šè‡³ä¾æ“šä¸åŒåˆ¤æ–·æ–¹å¼å…§éƒ¨ä¹Ÿæä¾›äº†å¤šç¨®åˆ¤æ–·æ–¹å¼ï¼Œå¦‚ .toBe å¯ç”¨ä¾†åˆ¤æ–·é¸å–çš„ç›®æ¨™èˆ‡é æœŸçµæœæ˜¯å¦ç›¸ç­‰ã€‚&lt;/li>
&lt;/ul>
&lt;p>é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨å¿…è¦çš„æƒ…æ³ä¸‹ç”šè‡³æœƒéœ€è¦ï¼š&lt;/p>
&lt;ul>
&lt;li>æ¸¬è©¦æ›¿èº«(test double)ï¼šç”¨ä¾†æ¨¡ä»¿ä¾è³´å·¥å…·æˆ–å‡½å¼åŸå…ˆçš„åŠŸèƒ½ç‹€æ³&lt;/li>
&lt;li>è§£ææˆ–æ¨¡æ“¬å…ƒä»¶å®¹å™¨&lt;/li>
&lt;li>æ¨¡æ“¬ç€è¦½å™¨ä¸­ DOM çš„ç’°å¢ƒ&lt;/li>
&lt;/ul>
&lt;p>è€Œæ ¹æ“šä¸Šè¿°éœ€æ±‚ï¼Œå°±èƒ½å¤ åˆ—å‡ºä¸€å€‹éœ€æ±‚è¡¨ï¼Œä¾†è©•ä¼°å„å€‹æ¸¬è©¦å·¥å…·æ˜¯å¦ç¬¦åˆæˆ‘å€‘æ¸¬è©¦éœ€è¦çš„éƒ¨åˆ†ï¼š&lt;/p>
&lt;blockquote>
&lt;p>æ¸¬è©¦å·¥å…·åˆ—è¡¨å¯åƒè€ƒå€‹æ¡†æ¶ä¸­çš„æ¸¬è©¦å»ºè­°æŒ‡å—ï¼Œæ¯”æ–¹ &lt;a class="link" href="https://cn.vuejs.org/guide/scaling-up/testing.html#component-testing" target="_blank" rel="noopener"
>Vue çš„æ¸¬è©¦å»ºè­°æŒ‡å—&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>éœ€æ±‚&lt;/th>
&lt;th>Vitest&lt;/th>
&lt;th>Jest&lt;/th>
&lt;th>Mocha&lt;/th>
&lt;th>Chai.js&lt;/th>
&lt;th>Sinon.js&lt;/th>
&lt;th>Vue-test-utils&lt;/th>
&lt;th>jsdom&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>æ¸¬è©¦ç’°å¢ƒ(test runner)&lt;/td>
&lt;td>âœ”(è¨»1)&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ¸¬è©¦æƒ…å¢ƒ(test suite)&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ¸¬è©¦æ¡ˆä¾‹(test case)&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ–·è¨€(Assertion)&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ¸¬è©¦æ›¿èº«(test double)&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>è§£ææˆ–æ¨¡æ“¬å…ƒä»¶å®¹å™¨&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æä¾›æ¨¡æ“¬ DOM ç’°å¢ƒ&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>âœ”&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>è¨»1ï¼šVitest æœ¬èº«åŸºæ–¼ Vite ç’°å¢ƒï¼Œå› æ­¤å°ˆæ¡ˆè‹¥éé€é Vite æ‰€æ§‹å»ºçš„è©±å°±ç„¡æ³•ä½¿ç”¨ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ç¾åœ¨é€éé€™å€‹è¡¨æˆ‘å€‘å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹è¦‹ï¼Œå‡è¨­å°ˆæ¡ˆæ˜¯åŸºæ–¼ &lt;code>Vite&lt;/code> æ‰€å»ºç«‹çš„é‚£éº¼æˆ‘å¯ä»¥é¸æ“‡ä¸‹åˆ—é€™å€‹çµ„åˆï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>Vitest&lt;/code> + &lt;code>Vue-test-utils&lt;/code> + &lt;code>jsdom&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>å¦‚æœå°ˆæ¡ˆæ˜¯åŸºæ–¼ &lt;code>Vue-cli&lt;/code> æ‰€å»ºç«‹çš„ï¼Œé‚£éº¼å°±ç„¡æ³•ä½¿ç”¨äº† &lt;code>Vitest&lt;/code> ä½œç‚ºæ¸¬è©¦é‹è¡Œçš„ç’°å¢ƒäº†ï¼Œæ­¤æ™‚æ ¹æ“šè¡¨ä¸­æˆ‘å€‘å°±å¯ä»¥æ›¿æ›ç‚ºï¼š&lt;/p>
&lt;ul>
&lt;li>æ–¹æ¡ˆä¸€ï¼š&lt;code>Jest&lt;/code> + &lt;code>Vue-test-utils&lt;/code> + &lt;code>jsdom&lt;/code>&lt;/li>
&lt;li>æ–¹æ¡ˆäºŒï¼š&lt;code>Mocha&lt;/code> + &lt;code>Chai.js&lt;/code> + &lt;code>Sinon.js&lt;/code> + &lt;code>Vue-test-utils&lt;/code> + &lt;code>jsdom&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>è€Œåœ¨åšå·¥å…·æ›¿æ›æ™‚ï¼Œéœ€è¦æ³¨æ„åˆ°çš„æ˜¯ï¼Œä¸åŒçš„æ¸¬è©¦ç’°å¢ƒ(test runner)å¯èƒ½æœƒå°æ–¼å¼•å…¥(&lt;code>import&lt;/code>)æª”æ¡ˆæ™‚ç™¼ç”Ÿè§£æä¸Šçš„å•é¡Œï¼Œæ¯”æ–¹è‹¥ç”¨åˆ° Vue ä¸­çš„ &lt;code>SFC&lt;/code> é¡å‹æª”æ¡ˆä½œç‚ºé–‹ç™¼ï¼Œé‚£åœ¨ &lt;code>Jest&lt;/code> åšç‚ºæ¸¬è©¦ç’°å¢ƒæ™‚æˆ‘å€‘å°±éœ€è¦å¦å¤–å®‰è£ &lt;code>vue-jest&lt;/code> ä¾†åšè½‰æ› &lt;code>SFC&lt;/code> ä¸Šçš„è™•ç†ã€‚&lt;/p>
&lt;p>ç•¶ç„¶ï¼Œä¸Šè¿°çš„éœ€æ±‚è¡¨åªæ˜¯ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼Œè€Œéš¨è‘—æ’°å¯«æ¸¬è©¦çš„ç¶“é©—è¶Šå¤šï¼Œå¾ŒçºŒæ…¢æ…¢å°±æœƒç­è§£åˆ°å°ˆæ¡ˆä¸­æœƒéœ€è¦å“ªäº›æ¸¬è©¦å·¥å…·ä¾†å”åŠ©æˆ‘å€‘é€²è¡Œæ¸¬è©¦ï¼Œç”šè‡³æ¯”è¼ƒå„ç¨®æ¸¬è©¦å·¥å…·çš„å„ªç¼ºé»å¾è€Œé¸å‡ºæœ€é©åˆåœ˜éšŠçš„æ¸¬è©¦å·¥å…·ï¼&lt;/p>
&lt;p>ç¾åœ¨æˆ‘å€‘å·²ç¶“äº†è§£è¦å¦‚ä½•æŒ‘é¸æ¸¬è©¦å·¥å…·äº†ï¼Œæ¥ä¸‹ä¾†è¦é–‹å§‹èŠèŠæ’°å¯«æ¸¬è©¦æ¡ˆä¾‹æ™‚æ‡‰è©²è¦å¦‚ä½•æ€è€ƒï¼&lt;/p>
&lt;hr>
&lt;h2 id="æ±ºå®šæ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹">æ±ºå®šæ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹&lt;/h2>
&lt;p>å†ä¾†è«‡è«‡åœ¨é¸æ“‡é€™äº›å·¥å…·å¾Œï¼Œæˆ‘å€‘è¦å¦‚ä½•ä¾†æ€è€ƒé‡å°ã€Œå–®å…ƒæ¸¬è©¦ã€çš„éƒ¨åˆ†ï¼Œæ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹è¦æ€éº¼æ’°å¯«ä»¥åŠéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚&lt;/p>
&lt;h3 id="æ¸¬è©¦æƒ…å¢ƒtest-suiteæ¸¬è©¦æ¡ˆä¾‹test-case">æ¸¬è©¦æƒ…å¢ƒ(test suite)æ¸¬è©¦æ¡ˆä¾‹(test case)&lt;/h3>
&lt;p>æä¾›æ¸¬è©¦ç’°å¢ƒçš„å·¥å…·ä¸€èˆ¬æœƒçµ¦äºˆæ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹çš„ç›¸é—œ APIï¼Œè€Œæ¸¬è©¦æƒ…å¢ƒèˆ‡æ¡ˆä¾‹æœ€ä¸»è¦çš„ç”¨æ„æ˜¯ç”¨ä¾†å¹«åŠ©æˆ‘å€‘è¦åŠƒèˆ‡æ•´ç†æ•´å€‹æ¸¬è©¦é‚è¼¯ï¼Œä¸¦ä¸”åœ¨æˆ‘å€‘æ¸¬è©¦æ¡ˆä¾‹éŒ¯èª¤çš„æ™‚å€™åŒæ™‚æä¾›ç›¸å°æ‡‰çš„è³‡è¨Šã€‚&lt;/p>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘ä»¥ã€Œ&lt;strong>è²“å’ªä½œç‚ºå…ƒä»¶&lt;/strong>ã€ç‚ºæ•…äº‹ä¸»è»¸ä¾†è«‡è«‡å–®å…ƒæ¸¬è©¦çš„æ€è·¯æœƒæ˜¯æ€éº¼æ’°å¯«ã€‚&lt;/p>
&lt;p>é¦–å…ˆæˆ‘å€‘å‡è¨­ã€Œ&lt;strong>è²“å’ª&lt;/strong>ã€å…ƒä»¶æœƒæä¾›ä¸‹åˆ—åŠŸèƒ½ï¼š&lt;/p>
&lt;ul>
&lt;li>ç™¼å‡ºå‘¼åš•åš•å«è²&lt;/li>
&lt;li>æ¨å€’çœ¼å‰çœ‹åˆ°çš„æ‰€æœ‰æ±è¥¿&lt;/li>
&lt;/ul>
&lt;p>è€Œä»¥ä½¿ç”¨è€…è§’åº¦ä¸Šä¾†çœ‹ï¼Œæˆ‘å€‘æœƒå°ã€Œ&lt;strong>è²“å’ª&lt;/strong>ã€åšå‡ºé€™äº›äº‹æƒ…ï¼š&lt;/p>
&lt;ul>
&lt;li>æ‘¸æ‘¸&lt;/li>
&lt;li>é¤µé£Ÿ&lt;/li>
&lt;li>æ‹¿ç©å…·é€—&lt;/li>
&lt;/ul>
&lt;p>æ¥è‘—æˆ‘å€‘å°±å¯ä»¥ä»¥å…ƒä»¶ä½œç‚ºæƒ…å¢ƒä¾†å®šç¾©å‡ºå„ç¨®ä½¿ç”¨ä¸Šçš„æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è²“å’ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é¤µé£Ÿï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‹¿ç©å…·é€—ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ä»€éº¼éƒ½ä¸åšï¼Œæ‡‰è©²æ¨å€’çœ¼å‰çœ‹åˆ°çš„æ‰€æœ‰æ±è¥¿&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†çœŸå¯¦çš„æ¸¬è©¦æ¡ˆä¾‹ä¸æœƒé€™éº¼ç°¡å–®ï¼Œç¸½æœƒæœ‰ä¸€äº›ä¾‹å¤–ç‹€æ³ï¼Œé‚£éº¼æ¸¬è©¦æ¡ˆä¾‹æ‡‰è©²è¦åŒ…å«å“ªäº›è¦ç´ æ¯”è¼ƒå¥½ï¼Ÿ&lt;/p>
&lt;h3 id="æ¡ˆä¾‹è·¯å¾‘happy-pathsad-pathbad-path">æ¡ˆä¾‹è·¯å¾‘(happy pathã€sad pathã€bad path)&lt;/h3>
&lt;p>åœ¨è¨­å®šæ¸¬è©¦æ¡ˆä¾‹æ™‚ï¼Œç¸½æœƒæœ‰ç™¾ç™¾ç¨®æƒ…æ³ï¼Œä½†æ˜¯æˆ‘å€‘ä¸å¯èƒ½æ¯å€‹éƒ½å¯«å‡ºä¾†ï¼Œè€Œæ ¹æ“šæ¸¬è©¦æ¡ˆä¾‹çš„é¡å‹ä¸»è¦å¯ä»¥åˆ†ç‚ºä¸‰ç¨®è·¯å¾‘ï¼š&lt;/p>
&lt;ul>
&lt;li>Happy Pathï¼šåœ¨æˆ‘å€‘å®šç¾©æ‰€è¬‚ã€Œ&lt;strong>æ­£å¸¸çš„ä½¿ç”¨ç‹€æ³&lt;/strong>ã€ä¸‹ï¼Œé‡å°ã€Œ&lt;strong>æ­£ç¢ºçš„å…§å®¹&lt;/strong>ã€ï¼Œæˆ‘å€‘é æœŸæ‡‰è©²è¦åšå‡ºçš„åæ‡‰ã€‚&lt;/li>
&lt;li>Sad Pathï¼šåœ¨æˆ‘å€‘å®šç¾©æ‰€è¬‚ã€Œ&lt;strong>æ­£å¸¸çš„ä½¿ç”¨ç‹€æ³&lt;/strong>ã€ä¸‹ï¼Œé‡å°ã€Œ&lt;strong>éŒ¯èª¤çš„å…§å®¹&lt;/strong>ã€ï¼Œæˆ‘å€‘é æœŸæ‡‰è©²è¦åšå‡ºçš„åæ‡‰ã€‚&lt;/li>
&lt;li>Bad Pathï¼šåœ¨æˆ‘å€‘å®šç¾©æ‰€è¬‚ã€Œ&lt;strong>éŒ¯èª¤&lt;/strong>ã€çš„ä½¿ç”¨ç‹€æ³ä¸‹ï¼Œæˆ‘å€‘é æœŸæ‡‰è©²è¦åšå‡ºçš„åæ‡‰ã€‚&lt;/li>
&lt;/ul>
&lt;p>åŒæ¨£ä»¥è²“è¢«æ‘¸æ‘¸ä½œç‚ºä¾‹å­ä¾†çœ‹ï¼Œå‡è¨­å°æ–¼è²“ä¾†èªªèƒ½å¤ æ¥å—æ‘¸æ‘¸çš„æƒ…æ³åªé™æ–¼ã€Œ&lt;strong>é ­èˆ‡ä¸‹å·´&lt;/strong>ã€ï¼Œè€Œå–œæ­¡è¢«æ‘¸çš„éƒ¨åˆ†åªæœ‰ã€Œ&lt;strong>ä¸‹å·´&lt;/strong>ã€ï¼Œé‚£éº¼æ¸¬è©¦æ¡ˆä¾‹è·¯å¾‘å°±å¯ä»¥é€™éº¼å®šç¾©ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è²“å’ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Happy Path
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸ä¸‹å·´ï¼Œæ‡‰è©²æœƒç™¼å‡ºã€Œå‘¼åš•åš•ã€è²&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Sad Path
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸é ­ï¼Œæ‡‰è©²æ²’åæ‡‰&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Bad Path
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸è‚šå­ï¼Œæ‡‰è©²æ‹‹å‡ºéŒ¯èª¤&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è·¯å¾‘å„ªå…ˆåº¦">è·¯å¾‘å„ªå…ˆåº¦&lt;/h3>
&lt;p>è€Œä»¥å„å€‹è·¯å¾‘å„ªå…ˆåº¦ä¾†èªªï¼Œæˆ‘å€‘æ‡‰ç•¶ç›¡å¯èƒ½çš„å…ˆå®Œå–„ Happy Path èˆ‡ Sad Path çš„å„ç¨®æ¡ˆä¾‹ï¼Œå› ç‚ºå°æ–¼å¯¦éš›å°ˆæ¡ˆä¸Šä¾†èªªï¼Œé€™äº›å…§å®¹æ˜¯æˆ‘å€‘é æœŸå…ƒä»¶æˆ–å‡½å¼æœ¬èº«æ‡‰æä¾›çš„å…§å®¹ã€‚&lt;/p>
&lt;p>ç„¶è€Œ Bad Path é€šå¸¸æ˜¯å»ºç«‹å·²çŸ¥å“ªäº›æƒ…æ³æœƒæ˜¯ã€Œä¸æ­£ç¢ºçš„ä½¿ç”¨ã€ï¼Œæˆ‘å€‘åªèƒ½å°±å·²çŸ¥çš„ç‹€æ³ä¾†é é˜²ã€‚ç„¶è€Œï¼Œé€™ä¸€éƒ¨åˆ†å…¶å¯¦å†æ€éº¼ç¸å¯†ï¼Œéƒ½é‚„æ˜¯æœƒæœ‰æ¥µå…¶ä¾‹å¤–çš„äº‹æƒ…ç™¼ç”Ÿï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è²“å’ª&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Bad Path
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸è‚šå­ï¼Œæ‡‰è©²æ‹‹å‡ºéŒ¯èª¤&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸å°¾å·´ï¼Œæ‡‰è©²æ‹‹å‡ºéŒ¯èª¤&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸æ‰‹ï¼Œæ‡‰è©²æ‹‹å‡ºéŒ¯èª¤&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‘¸æ‘¸è…³ï¼Œæ‡‰è©²æ‹‹å‡ºéŒ¯èª¤&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// èˆ‰ä¸å®Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤é€éæ¸¬è©¦ä¾†ä½œé˜²ç¦¦æ‰€æœ‰ä¸åˆç†çš„è¡Œç‚ºæ˜¯ä¸æ²»æœ¬çš„è¡Œç‚ºï¼Œæˆ‘æ‡‰è©²å¾å—æ¸¬ç‰©æœ¬èº«æä¾›çš„æ“ä½œæˆ–æ˜¯ç”¢å“è¦åŠƒä¸Šä¾†å»è€ƒé‡ç›¸å°æ²»æœ¬çš„æ–¹å¼ï¼›æ¯”æ–¹åœ¨ã€Œ&lt;strong>è²“å’ª&lt;/strong>ã€å…ƒä»¶ä¸Šé€éç¨‹å¼è¨­è¨ˆçš„éƒ¨åˆ†ï¼Œè¦åŠƒã€Œ&lt;strong>æ‘¸æ‘¸&lt;/strong>ã€è¡Œç‚ºåªé–‹æ”¾ã€Œ**é ­ã€**èˆ‡ã€Œ&lt;strong>ä¸‹å·´&lt;/strong>ã€çš„éƒ¨ä½ï¼Œå¾é–‹ç™¼éšæ®µå°±é˜»æ­¢å…¶ä»–é–‹ç™¼è€…èª¤ç”¨ã€Œ&lt;strong>æ‘¸æ‘¸&lt;/strong>ã€æ–¹æ³•ï¼Œåˆ°æœ€å¾ŒçœŸçš„æœ‰å…¶å¿…è¦ç‰¹åˆ¥æ‹‹å‡ºæ™‚æ‰é‡å°é€™ä¸€éƒ¨åˆ†å¯« Bad Path æ¡ˆä¾‹ã€‚&lt;/p>
&lt;p>æœ€å¾Œï¼Œå†ç”¨ä¸€å€‹å¯¦éš›ä¸€é»çš„ä¾‹å­èªªæ˜ï¼Œå‡è¨­ä»Šå¤©æœ‰å€‹ç™»å…¥çš„è¡¨å–®å…ƒä»¶ï¼Œé‚£éº¼æœ€ç°¡å–®é æœŸæœƒæœ‰çš„æ¡ˆä¾‹å°±æœƒæ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ç™»å…¥å…ƒä»¶&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Happy Path
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è¼¸å…¥æ­£ç¢ºå¸³è™Ÿå¯†ç¢¼ï¼Œæ‡‰ç™»å…¥åˆ°ï¼¯ï¼¯é é¢&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Sad Path
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;åªè¼¸å…¥å¸³è™Ÿï¼Œæ‡‰è©²é¡¯ç¤ºè«‹è¼¸å…¥å¯†ç¢¼&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;åªè¼¸å…¥å¯†ç¢¼ï¼Œæ‡‰è©²é¡¯ç¤ºè«‹è¼¸å…¥å¸³è™Ÿ&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;è¼¸å…¥éŒ¯èª¤å¸³è™Ÿå¯†ç¢¼ï¼Œæ‡‰è©²é¡¯ç¤ºç™»å…¥è³‡è¨ŠéŒ¯èª¤&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»¥ä¸Šå°±æ˜¯æ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹æœ€åŸºæœ¬éœ€è¦ç­è§£çš„éƒ¨åˆ†ï¼Œæ¥è‘—æˆ‘å€‘ä¾†é—œæ³¨æ–¼æ¸¬è©¦æ¡ˆä¾‹ä¸­å…§éƒ¨æ‡‰è©²è¦å¦‚ä½•ä¾†æ’°å¯«ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æ’°å¯«æ¸¬è©¦ç¨‹å¼ç¢¼çš„å‰è¨€">æ’°å¯«æ¸¬è©¦ç¨‹å¼ç¢¼çš„å‰è¨€&lt;/h2>
&lt;h3 id="æ’°å¯«æ¸¬è©¦ç¨‹å¼ç¢¼éœ€ä¿æŒçš„å¿ƒå¢ƒ">æ’°å¯«æ¸¬è©¦ç¨‹å¼ç¢¼éœ€ä¿æŒçš„å¿ƒå¢ƒ&lt;/h3>
&lt;p>è«‡åˆ°æ’°å¯«æ¸¬è©¦ï¼Œä¸å¾—ä¸æåˆ° Robert Cecil Martin æœ‰æœ¬ç¶“å…¸çš„ã€Šç„¡ç‘•çš„ç¨‹å¼ç¢¼ï¼šæ•æ·è»Ÿé«”é–‹ç™¼æŠ€å·§å®ˆå‰‡ã€‹ï¼Œä½œè€…åœ¨å…¶ä¸­é‡å°äº†ç¨‹å¼ç¢¼çš„éƒ¨åˆ†æäº†å¾ˆå¤šå„ªè‰¯çš„å»ºè­°ï¼Œä¸è«–æ˜¯æ’°å¯«ç¨‹å¼ç¢¼ä¸­çš„å‘½åã€å‡½å¼åƒæ•¸ç­‰ç­‰åšæ¢è¨ï¼Œä¹Ÿåœ¨å¯¦éš›çš„æ¡ˆä¾‹ä¸­åšä¸€äº›è¨è«–èˆ‡é‡æ§‹ï¼Œæœ€å¾Œå›é¡§é‚£äº›ç¨‹å¼ç¢¼ä¸­çš„æ°£å‘³ã€æ¸…ç†ç¨‹å¼ç¢¼ï¼Œä¸€æ°£å‘µæˆã€‚&lt;/p>
&lt;p>è€Œå…¶ä¸­æœ‰ä¸€å€‹ç« ç¯€æœ€ä¸»è¦å°±æ˜¯åœ¨è¬›æœ‰é—œã€Œå–®å…ƒæ¸¬è©¦ã€çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯ç³»åˆ—æ–‡å‰è¨€æåˆ°ã€Œè¢«æ¨å‘ã€çš„éƒ¨åˆ†ï¼Œæˆ‘æŠŠè£¡é¢çš„æ¦‚å¿µçµåˆæˆ‘çš„ç¶“é©—ä¾†é‡æ–°é—¡è¿°ä¸€æ¬¡ï¼š&lt;/p>
&lt;p>è‹¥å¸¶è‘—å–®ç´”å­¸ç¿’çš„å¿ƒæ…‹ä¾†çœ‹å¾…æ¸¬è©¦ç¨‹å¼ç¢¼ï¼Œå…¶å¯¦å¾ˆå®¹æ˜“æŠŠå®ƒç•¶ä½œä¸€é …è¼”åŠ©å·¥å…·åœ¨è™•ç†ï¼Œè¦ºå¾—æ²’æœ‰ä¹Ÿæ²’ä»€éº¼é—œä¿‚ï¼Œç”šè‡³ç¤™æ‰‹ç¤™è…³çš„ï¼Œç”šè‡³å¯èƒ½è¦ºå¾—é‚„è¦ç‰¹åœ°èŠ±äº†ä¸å°‘å¿ƒåŠ›ä¾†ç­è§£å®ƒï¼Œä½†é€™æ˜¯ä¸€é«”å…©é¢çš„ã€‚&lt;/p>
&lt;p>è‹¥ä½ æŠŠå®ƒç•¶ä½œç”¢å“ä¸­çš„ä¸€éƒ¨åˆ†å°±æœƒç™¼ç¾ï¼Œé›–ç„¶é–‹ç™¼æ™‚æœƒå—åˆ°æ¸¬è©¦ç¨‹å¼ç¢¼çš„ã€Œé™åˆ¶ã€ï¼Œä½†åŒæ™‚ä»–å…¶å¯¦ä¹Ÿæ˜¯åœ¨åšã€Œå®ˆè­·ã€ç”¢å“ç¨‹å¼ç¢¼é€™ä»¶äº‹æƒ…ï¼›ç”šè‡³å› ç‚ºæœ‰äº†ã€Œå¯ä¿¡è³´çš„æ¸¬è©¦ã€ï¼Œæ‰€ä»¥ç•¶æˆ‘å€‘åœ¨é€²è¡Œã€Œé‡æ§‹ã€ç­‰ç­‰èª¿æ•´æ™‚ä¹Ÿæ‰èƒ½æ›´æœ‰ä¿¡å¿ƒåœ°å»è™•ç†ã€‚&lt;/p>
&lt;p>å› æ­¤åªè¦ç¢ºä¿æˆ‘å€‘åœ¨é©ç•¶çš„æ™‚æ©ŸåŠ å…¥å®ƒï¼Œé‚£éº¼å®ƒå°±èƒ½å¤ å¸¶ä¾†å¯è§€çš„å¾ŒçºŒæ•ˆç›Šï¼Œè€Œæ—¢ç„¶ä»–èƒ½å¤ æ›¿æˆ‘å€‘å¸¶ä¾†æ•ˆç›Šï¼Œé‚£æˆ‘å€‘å°å¾…æ¸¬è©¦ç¨‹å¼ç¢¼çš„æ…‹åº¦å…¶å¯¦ä¹Ÿæ‡‰è©²è¦åŒç†ç”¢å“ç¨‹å¼ç¢¼ï¼Œå¯æ˜¯é™¤äº†è®“æ¸¬è©¦ç¨‹å¼ç¢¼å¦‚åŒç”¢å“ç¨‹å¼ç¢¼ä¸€æ¨£ä¿æŒã€Œæ•´æ½”ã€èˆ‡ã€Œå¯è®€æ€§ã€ä¹‹å¤–ï¼Œæˆ‘å€‘é‚„æœ‰ä»€éº¼è¾¦æ³•å‘¢ï¼Ÿ&lt;/p>
&lt;p>å°æ–¼é€™å€‹å•é¡Œ Martin çµ¦äº†ä¸€å€‹æ’°å¯«æ¸¬è©¦ç¢¼çš„å„ªè‰¯æº–å‰‡ï¼Œé‚£å°±æ˜¯ F.I.R.S.T æ³•å‰‡ã€‚&lt;/p>
&lt;h3 id="first-æ³•å‰‡">F.I.R.S.T æ³•å‰‡&lt;/h3>
&lt;p>F.I.R.S.T æ³•å‰‡é¡§åæ€ç¾©å…¶å¯¦å°±æ˜¯äº”å€‹è‹±æ–‡å–®å­—çš„ç¸®å¯«ï¼Œä»–å€‘åˆ†åˆ¥æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>Fast&lt;/li>
&lt;li>Independent&lt;/li>
&lt;li>Repeatable&lt;/li>
&lt;li>Self-Validating&lt;/li>
&lt;li>Timely&lt;/li>
&lt;/ul>
&lt;h4 id="fastå¿«">Fast(å¿«)&lt;/h4>
&lt;p>ç°¡å–®ä¾†èªªå°±æ˜¯å¿«ï¼Œå› ç‚ºå¿«æ‰èƒ½è®“æˆ‘å€‘å¿«é€Ÿé‡è¤‡å¤§é‡åœ°æª¢é©—ç”¢å“ç¨‹å¼ç¢¼ï¼›é€™æ„å‘³è‘—æˆ‘å€‘åœ¨æ¸¬è©¦ç¨‹å¼ç¢¼ä¸­æœ‰å¯èƒ½æœƒé‡åˆ°è¦ call API çš„æƒ…æ³ï¼Œé‚£éº¼æˆ‘å€‘å¯ä»¥å°‡å…¶éš”é›¢ä¸¦ç«‹åˆ»å›å‚³æˆ‘å€‘é å®šå¥½çš„è³‡æ–™ä¾†æ¸›å°‘ç­‰å¾…å›æ‡‰çš„æ™‚é–“ã€‚&lt;/p>
&lt;h4 id="independentç¨ç«‹">Independent(ç¨ç«‹)&lt;/h4>
&lt;p>å¦‚æˆ‘å€‘ä¸Šä¸€ç¯‡æ–‡ç« æ‰€æåˆ°çš„ï¼Œæ¯å€‹æ¸¬è©¦æ¡ˆä¾‹æ‡‰è©²è¦äº’ç›¸ç¨ç«‹ï¼Œå½¼æ­¤ä¸å—å¹²æ“¾ä¹‹å¤–ï¼Œç”šè‡³é€£åŸ·è¡Œé †åºä¸Šéƒ½ä¸æœƒå½±éŸ¿åˆ°æœ€çµ‚çµæœã€‚&lt;/p>
&lt;h4 id="repeatableå¯é‡è¤‡">Repeatable(å¯é‡è¤‡)&lt;/h4>
&lt;p>å¯é‡è¤‡æ€§ä¸»è¦æçš„å°±æ˜¯ä¸è«–åœ¨ä»€éº¼è¨­å‚™ç‹€æ³ä¸‹ï¼Œæ‡‰è©²éƒ½è¦ä¿æŒè‘—ä¸€è‡´çš„çµæœï¼Œé€™æ¨£æˆ‘å€‘æ‰èƒ½æ’é™¤æ‰å…¶ä»–ä¸å¿…è¦çš„åŸå› ï¼Œå°ˆæ³¨åœ¨ç™¼ç”Ÿå•é¡Œçš„ç¨‹å¼ç¢¼ä¸Šã€‚&lt;/p>
&lt;h4 id="self-validatingèƒ½è‡ªæˆ‘é©—è­‰">Self-Validating(èƒ½è‡ªæˆ‘é©—è­‰)&lt;/h4>
&lt;p>æ¸¬è©¦çš„æœ€çµ‚ç‹€æ…‹æ‡‰è©²è¦èƒ½å¤ é¡¯ç¤ºã€Œé€šéèˆ‡å¦ã€ï¼Œè€Œé€™ä¸€éƒ¨åˆ†æ¸¬è©¦å·¥å…·æˆ–æ¡†æ¶éƒ½æœƒå¹«æˆ‘å€‘è™•ç†å¥½ï¼Œç”šè‡³éƒ½é‚„æœ‰æä¾›é¡å¤–çš„ diff å·®ç•°è®“æˆ‘å€‘å¿«é€ŸæŸ¥çœ‹éŒ¯èª¤çš„åœ°æ–¹ã€‚&lt;/p>
&lt;h4 id="timelyå³æ™‚">Timely(å³æ™‚)&lt;/h4>
&lt;p>æ¸¬è©¦ç¨‹å¼ç¢¼è¦ç›¡å¯èƒ½çš„èˆ‡ç”¢å“ç¨‹å¼ç¢¼åŒé€²é€€ï¼Œå¦‚æœæ¸¬è©¦ç¨‹å¼ç¢¼è½å¾Œç”¢å“ç¨‹å¼ç¢¼å¤ªå¤šï¼Œæ¸¬è©¦ç¨‹å¼ç¢¼æœƒè¶Šä¾†è¶Šé›£è·Ÿä¸Šç”¢å“ç¨‹å¼ç¢¼çš„æ­¥èª¿ã€‚&lt;/p>
&lt;p>è€Œæ ¹æ“šå°å¾…æ¸¬è©¦ç¨‹å¼ç¢¼å¿ƒæ…‹çš„å„ªè‰¯æ³•å‰‡ï¼Œåœ¨æ’°å¯«æ¸¬è©¦ç¨‹å¼ç¢¼æ™‚å°±èƒ½æ›´å®¹æ˜“é«”æœƒåˆ°ä»–çš„é­…åŠ›ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="describe--it-èˆ‡-è¼”åŠ©-api">describe &amp;amp; it èˆ‡ è¼”åŠ© API&lt;/h2>
&lt;h3 id="describe--it-åŸºç¤ç”¨æ³•">describe &amp;amp; it åŸºç¤ç”¨æ³•&lt;/h3>
&lt;p>ç¨æ—©æœ‰æåˆ°çš„æ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹åœ¨ &lt;code>Vitest&lt;/code> å·¥å…·ä¸­ä¸»è¦ä¾¿æ˜¯é€é &lt;code>describe&lt;/code> èˆ‡ &lt;code>it&lt;/code>(æˆ– &lt;code>test&lt;/code>) ä¾†æ’°å¯«ï¼Œè€Œä»–å€‘çš„ç”¨æ„é™¤äº†è¦åŠƒæ¸¬è©¦çš„è„ˆçµ¡ä¹‹å¤–ï¼Œæœ€ä¸»è¦æ˜¯ç”¨ä¾†åŒ…è£æ–·è¨€çµæœçš„è³‡è¨Šï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">describe&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vitest&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒçš„æè¿°&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ç¬¬ä¸€å€‹æ¸¬è©¦æ¡ˆä¾‹çš„æè¿°&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">add&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">y&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‡è¨­åœ¨çµ‚ç«¯æ©ŸåŸ·è¡Œä¸Šæ–¹çš„æ¸¬è©¦ç¨‹å¼ç¢¼æ™‚ï¼Œä¾æ“šå·¥å…·é è¨­è¨­å®šæœƒåœ¨çµ‚ç«¯æ©Ÿé¡¯ç¤ºã€ŒéŒ¯èª¤çš„ç›¸é—œè³‡è¨Šã€èˆ‡ã€Œç¶œåˆçµæœã€ã€‚&lt;/p>
&lt;p>éŒ¯èª¤çš„ç›¸é—œè³‡è¨Šï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161161_6eaf044f61_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;ul>
&lt;li>FAILï¼šç™¼ç”Ÿæ–·è¨€éŒ¯èª¤æª”æ¡ˆè·¯å¾‘ + æƒ…å¢ƒæè¿° + æ¡ˆä¾‹æè¿°(è¦–ç•¶ä¸‹éŒ¯èª¤æ‰€å±¬çš„æƒ…å¢ƒèˆ‡æ¡ˆä¾‹)ã€‚&lt;/li>
&lt;li>AssertionErrorï¼šç™¼ç”Ÿæ–·è¨€éŒ¯èª¤çš„åŸå› ï¼Œèˆ‡ç™¼ç”ŸéŒ¯èª¤çš„æ®µè½ã€‚&lt;/li>
&lt;li>Expectedï¼šé æœŸçµæœã€‚&lt;/li>
&lt;li>Receivedï¼šå¯¦éš›çµæœã€‚&lt;/li>
&lt;/ul>
&lt;p>ç¶œåˆçµæœï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421709_7ab116b4c3_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;ul>
&lt;li>Test Filesï¼šç¸½å…±æ¸¬è©¦äº†å¹¾éš»æ¸¬è©¦æª”æ¡ˆï¼Œä¸¦é¡¯ç¤ºæˆåŠŸã€å¤±æ•—èˆ‡è·³éçš„æ•¸é‡ã€‚&lt;/li>
&lt;li>Testsï¼šç¸½å…±æ¸¬äº†å¹¾å€‹æ¸¬è©¦æ¡ˆä¾‹ï¼Œä¸¦é¡¯ç¤ºæˆåŠŸã€å¤±æ•—èˆ‡è·³éçš„æ•¸é‡ã€‚&lt;/li>
&lt;li>Startï¼šæ¸¬è©¦é–‹å§‹æ™‚é–“ã€‚&lt;/li>
&lt;li>Durationï¼šæ¸¬è©¦éç¨‹ç¸½å…±è€—è²»æ™‚é–“ã€‚&lt;/li>
&lt;/ul>
&lt;p>è€Œé™¤äº†ä¸Šè¿°åŸºæœ¬ç”¨æ³•ä¹‹å¤–ï¼Œåœ¨åŒä¸€å€‹æ¸¬è©¦æƒ…å¢ƒä¸­ä¹Ÿèƒ½å®¹ç´æ•¸å€‹æ¸¬è©¦æ¡ˆä¾‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒçš„æè¿°&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ç¬¬ä¸€å€‹æ¸¬è©¦æ¡ˆä¾‹çš„æè¿°&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ç¬¬äºŒå€‹æ¸¬è©¦æ¡ˆä¾‹çš„æè¿°&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”šè‡³æ¸¬è©¦æƒ…å¢ƒè¼ƒç‚ºè¤‡é›œçš„æƒ…æ³ï¼Œæ¸¬è©¦æƒ…å¢ƒ(&lt;code>describe&lt;/code>)ä¹Ÿå…è¨±å·¢ç‹€çš„æ–¹å¼ä¾†å»ºæ§‹æ¸¬è©¦ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;çˆ¶å±¤æƒ…å¢ƒ&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;åŸºæ–¼çˆ¶å±¤æƒ…å¢ƒçš„æƒ…å¢ƒä¸€&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;åŸºæ–¼çˆ¶å±¤æƒ…å¢ƒçš„æƒ…å¢ƒäºŒ&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å‡ºç¾æç¤ºå¯„ä»¶è€…å§“åèˆ‡é›»è©±å°‡ç›´æ¥è¨»å†Šæˆæœƒå“¡&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç›¸ååœ°ï¼Œè‹¥åœ¨ç°¡å–®çš„æƒ…å¢ƒçš„ä¹‹ä¸‹ï¼Œåªæœ‰æ¸¬è©¦æ¡ˆä¾‹ä¹Ÿæ˜¯å…è¨±çš„æ–¹å¼ä¹‹ä¸€ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="describe--it-è¼”åŠ©-api">describe &amp;amp; it è¼”åŠ© API&lt;/h3>
&lt;p>é™¤äº†ä¸Šè¿°çš„åŸºæœ¬ç”¨æ³•ä¹‹å¤–ï¼Œé€é &lt;code>describe&lt;/code> èˆ‡ &lt;code>it&lt;/code> æ’°å¯«æ¸¬è©¦çš„éç¨‹ä¸­ä¹Ÿèƒ½é€é&lt;code>è¼”åŠ©çš„ API&lt;/code> ä¾†æ•´ç†æ¸¬è©¦ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>.only&lt;/code>ï¼šæ¸¬è©¦æƒ…å¢ƒã€æ¸¬è©¦æ¡ˆä¾‹çš†å¯ä½¿ç”¨&lt;/li>
&lt;li>&lt;code>.skip&lt;/code>ï¼šæ¸¬è©¦æƒ…å¢ƒã€æ¸¬è©¦æ¡ˆä¾‹çš†å¯ä½¿ç”¨&lt;/li>
&lt;li>&lt;code>.todo&lt;/code>ï¼šæ¸¬è©¦æƒ…å¢ƒã€æ¸¬è©¦æ¡ˆä¾‹çš†å¯ä½¿ç”¨&lt;/li>
&lt;li>&lt;code>.fails&lt;/code>ï¼šæ¸¬è©¦æ¡ˆä¾‹æ‰èƒ½ä½¿ç”¨&lt;/li>
&lt;/ul>
&lt;h4 id="only">only&lt;/h4>
&lt;p>è‹¥åœ¨&lt;strong>æ¸¬è©¦æƒ…å¢ƒ&lt;/strong>ç”¨äº†æ­¤æŒ‡ä»¤ï¼Œå‰‡åœ¨åŒå€‹æ¸¬è©¦æª”æ¡ˆä¸­åªæœƒåŸ·è¡Œå¸¶æœ‰ &lt;code>.only&lt;/code> çš„æ¸¬è©¦æƒ…å¢ƒï¼Œè€Œå…¶é¤˜æ¸¬è©¦æƒ…å¢ƒåº•ä¸‹æ‰€æœ‰çš„æ¸¬è©¦æ¡ˆä¾‹å°‡æœƒè¢«è·³é(&lt;code>skipped&lt;/code>)ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">only&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 3&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥åœ¨&lt;strong>æ¸¬è©¦æ¡ˆä¾‹&lt;/strong>ä¸­ä½¿ç”¨ï¼Œå‰‡é™¤äº†å¸¶æœ‰ &lt;code>.only&lt;/code> ä¹‹å¤–çš„æ¸¬è©¦æ¡ˆä¾‹éƒ½å°‡æœƒè¢«è·³éï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">only&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">only&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 3&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="skip">skip&lt;/h4>
&lt;p>æ¸¬è©¦æƒ…å¢ƒæˆ–æ¸¬è©¦æ¡ˆä¾‹è¢«æ¨™æ³¨æ™‚ï¼Œå°‡è‡ªå‹•è·³éè©²ç¯„ç–‡å…§çš„æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">skip&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æƒ…å¢ƒ 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">skip&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸¬è©¦æ¡ˆä¾‹&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="cm">/* */&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// skipped
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="todo">todo&lt;/h4>
&lt;p>æ¸¬è©¦æƒ…å¢ƒæˆ–æ¸¬è©¦æ¡ˆä¾‹è¢«æ¨™æ³¨æ™‚ï¼ŒåŒæ¨£å°‡è‡ªå‹•è·³éè©²ç¯„ç–‡å…§çš„æ¸¬è©¦æ¡ˆä¾‹ï¼Œä½† &lt;code>todo&lt;/code> å«ç¾©æ¯”è¼ƒæ¥è¿‘å¾…åŠ å…¥æ¸¬è©¦çš„å€å¡Šï¼Œä¸¦ä¸”å°‡ä¾†è‹¥ç”¢å‡ºå ±å‘Šæ™‚ä¹Ÿæœƒç‰¹åˆ¥æ•´ç†å‡ºé‚„æœ‰å“ªäº›åœ°æ–¹éœ€è¦è£œä¸Šæ¸¬è©¦ã€‚&lt;/p>
&lt;h4 id="fails">fails&lt;/h4>
&lt;p>æœ€å¾Œä¸€å€‹ä»‹ç´¹çš„æ˜¯æ¸¬è©¦æ¡ˆä¾‹æ‰èƒ½ä½¿ç”¨çš„è¼”åŠ© APIï¼Œé‚„è¨˜å¾—åˆ—æ¸¬è©¦æ¡ˆä¾‹æ™‚çš„ &lt;code>sad path&lt;/code> å—ï¼Ÿç•¶æ¸¬è©¦æ¡ˆä¾‹æ‡‰è©²è¦å¤±æ•—çš„æ™‚å€™å°±å¯ä»¥é€é &lt;code>fails&lt;/code> é¡¯æ€§æ¨™è¨»ä»–å€‘ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fails&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&amp;#39;1&amp;#39; + &amp;#39;1&amp;#39; should not to be &amp;#39;11&amp;#39;`&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">add&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">Number&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">Number&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;11&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ç„¶ä½ ä¹Ÿå¯ä»¥å–®ç´”è—‰ç”±æ–·è¨€ä¸­çš„ &lt;code>.not&lt;/code> é”åˆ°åŒæ¨£çš„æ•ˆæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&amp;#39;1&amp;#39; + &amp;#39;1&amp;#39; should not to be &amp;#39;11&amp;#39;`&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">add&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nb">Number&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">Number&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">not&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;11&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»¥ä¸Šä¾¿æ˜¯æ¸¬è©¦ç¨‹å¼ç¢¼ä¸­æ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹çš„éƒ¨åˆ†ï¼Œæœ‰é—œæ–¼è¼”åŠ© API çš„éƒ¨åˆ†æœ‰äº›å…§å®¹ä¸ä¸€å®šæœƒä½¿ç”¨çš„åˆ°ï¼Œè‹¥æƒ³æ›´åŠ ç­è§£æ‰€æœ‰å¯ç”¨çš„éƒ¨åˆ†å¯ä»¥åƒè€ƒ Vitest &lt;a class="link" href="https://cn.vitest.dev/api/#describe" target="_blank" rel="noopener"
>æ¸¬è©¦æƒ…å¢ƒ&lt;/a> èˆ‡ &lt;a class="link" href="https://cn.vitest.dev/api/#test" target="_blank" rel="noopener"
>æ¸¬è©¦æ¡ˆä¾‹&lt;/a> çš„æ–‡ä»¶å›‰ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="æº–å‚™setupèˆ‡æ¸…ç†teardown">æº–å‚™(Setup)èˆ‡æ¸…ç†(Teardown)&lt;/h2>
&lt;p>ç¶“éäº†åŸºæœ¬çš„æ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹èªæ³•ï¼ŒåŠ ä¸Šç°¡å–®çš„æ–·è¨€èªæ³• &lt;code>expect().toBe()&lt;/code> å°±èƒ½å¤ æ¸¬è©¦è¨±å¤šç°¡å–®çš„æ±è¥¿äº†ï¼Œç„¶è€Œåœ¨æ¸¬è©¦éç¨‹ä¸­æœ‰æ™‚æœƒé‡åˆ°å¤§é‡é‡è¤‡çš„ã€Œ&lt;strong>å‰ç½®æ“ä½œ&lt;/strong>ã€æˆ–æ˜¯æ¯æ¬¡æ¸¬è©¦å¾Œã€Œ&lt;strong>éœ€è¦æ¸…ç†æ¸¬è©¦ä¸­çš„ç’°å¢ƒ&lt;/strong>ã€ï¼Œé€™æ™‚æˆ‘å€‘å¯ä»¥é€é &lt;code>Vitest&lt;/code> æä¾›çš„ &lt;code>Setup&lt;/code> &amp;amp; &lt;code>Teardown&lt;/code> API ä¾†è™•ç†ï¼š&lt;/p>
&lt;ul>
&lt;li>beforeEachï¼šåœ¨æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹åŸ·è¡Œå‰å‘¼å«ä¸€æ¬¡ã€‚&lt;/li>
&lt;li>beforeAllï¼šåœ¨æ‰€æœ‰æ¸¬è©¦æ¡ˆä¾‹åŸ·è¡Œå‰å‘¼å«ä¸€æ¬¡ã€‚&lt;/li>
&lt;li>afterEachï¼šåœ¨æ¯å€‹æ¸¬è©¦æ¡ˆä¾‹åŸ·è¡Œå¾Œå‘¼å«ä¸€æ¬¡ã€‚&lt;/li>
&lt;li>afterAllï¼šåœ¨æ‰€æœ‰æ¸¬è©¦æ¡ˆä¾‹åŸ·è¡Œå¾Œå‘¼å«ä¸€æ¬¡ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é‡å°æ¸¬è©¦æ¡ˆä¾‹é‡æ–°åˆå§‹åŒ–
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">initTestEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="setup--teardown-api-çš„ç¯„ç–‡">Setup &amp;amp; Teardown API çš„ç¯„ç–‡&lt;/h3>
&lt;p>&lt;code>Setup&lt;/code> &amp;amp; &lt;code>Teardown&lt;/code> API ã€Œ&lt;strong>æ‰€æœ‰&lt;/strong>ã€çš„å®šç¾©æ˜¯æ ¹æ“šç•¶ä¸‹çš„ç¯„ç–‡(&lt;code>context&lt;/code>)ä¾†æ±ºå®šï¼Œé™¤äº†æ¸¬è©¦æª”æ¡ˆæœ¬èº«ä¹‹å¤–ï¼Œä½¿ç”¨ &lt;code>describe&lt;/code> ä¾†å®šç¾©æ¸¬è©¦æƒ…å¢ƒä¹Ÿæœƒå½¢æˆä¸€å€‹ &lt;code>context&lt;/code>ï¼Œå› æ­¤å‡å¦‚æ¸¬è©¦æƒ…å¢ƒæœ‰å·¢ç‹€çš„æƒ…æ³å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">history&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;çˆ¶å±¤æƒ…å¢ƒ&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeAll&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeAll - çˆ¶å±¤æƒ…å¢ƒ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeEach - çˆ¶å±¤æƒ…å¢ƒ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterAll&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;afterAll - çˆ¶å±¤æƒ…å¢ƒ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;afterEach - çˆ¶å±¤æƒ…å¢ƒ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å­å±¤æƒ…å¢ƒ A&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeAll&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeAll - å­å±¤æƒ…å¢ƒ A&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeEach - å­å±¤æƒ…å¢ƒ A&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterAll&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;afterAll - å­å±¤æƒ…å¢ƒ A&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;afterEach - å­å±¤æƒ…å¢ƒ A&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¡ˆä¾‹ 1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å­å±¤æƒ…å¢ƒ A æ¡ˆä¾‹ 1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¡ˆä¾‹ 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å­å±¤æƒ…å¢ƒ A æ¡ˆä¾‹ 2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å­å±¤æƒ…å¢ƒ B&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeAll&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeAll - å­å±¤æƒ…å¢ƒ B&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;beforeEach - å­å±¤æƒ…å¢ƒ B&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterAll&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;afterAll - å­å±¤æƒ…å¢ƒ B&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;afterEach - å­å±¤æƒ…å¢ƒ B&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¡ˆä¾‹ 1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å­å±¤æƒ…å¢ƒ B æ¡ˆä¾‹ 1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¡ˆä¾‹ 2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å­å±¤æƒ…å¢ƒ B æ¡ˆä¾‹ 2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ™‚å°‡é€é &lt;code>console.log(history)&lt;/code> æŸ¥çœ‹ä¸¦æ­¸ç´æ•´ç†å°±èƒ½å¾—åˆ°ä»¥ä¸‹çµæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">--- é€²å…¥æ¸¬è©¦ç¨‹å¼ç¢¼æœ¬èº«çš„ Context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- é€²å…¥çˆ¶å±¤æƒ…å¢ƒçš„ Context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeAll - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- é€²å…¥å­å±¤æƒ…å¢ƒ A çš„ Context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeAll - å­å±¤æƒ…å¢ƒ A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - å­å±¤æƒ…å¢ƒ A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">å­å±¤æƒ…å¢ƒ A æ¡ˆä¾‹ &lt;span class="m">1&lt;/span> // åŸ·è¡Œ æƒ…å¢ƒ A æ¡ˆä¾‹ &lt;span class="m">1&lt;/span> çš„æ™‚é–“é»
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - å­å±¤æƒ…å¢ƒ A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - å­å±¤æƒ…å¢ƒ A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">å­å±¤æƒ…å¢ƒ A æ¡ˆä¾‹ &lt;span class="m">2&lt;/span> // åŸ·è¡Œ æƒ…å¢ƒ A æ¡ˆä¾‹ &lt;span class="m">2&lt;/span> çš„æ™‚é–“é»
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - å­å±¤æƒ…å¢ƒ A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterAll - å­å±¤æƒ…å¢ƒ A
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- é›¢é–‹å­å±¤æƒ…å¢ƒ A çš„ Context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- é€²å…¥å­å±¤æƒ…å¢ƒ B çš„ Context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeAll - å­å±¤æƒ…å¢ƒ B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - å­å±¤æƒ…å¢ƒ B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">å­å±¤æƒ…å¢ƒ B æ¡ˆä¾‹ &lt;span class="m">1&lt;/span> // åŸ·è¡Œ æƒ…å¢ƒ B æ¡ˆä¾‹ &lt;span class="m">1&lt;/span> çš„æ™‚é–“é»
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - å­å±¤æƒ…å¢ƒ B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">beforeEach - å­å±¤æƒ…å¢ƒ B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">å­å±¤æƒ…å¢ƒ B æ¡ˆä¾‹ &lt;span class="m">2&lt;/span> // åŸ·è¡Œ æƒ…å¢ƒ B æ¡ˆä¾‹ &lt;span class="m">2&lt;/span> çš„æ™‚é–“é»
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - å­å±¤æƒ…å¢ƒ B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterEach - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterAll - å­å±¤æƒ…å¢ƒ B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- é›¢é–‹å­å±¤æƒ…å¢ƒ B çš„ Context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">afterAll - çˆ¶å±¤æƒ…å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- é›¢é–‹çˆ¶å±¤æƒ…å¢ƒçš„ Context
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--- é›¢é–‹æ¸¬è©¦ç¨‹å¼ç¢¼æœ¬èº«çš„ Context
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤æˆ‘å€‘åœ¨ä½¿ç”¨é€™é¡ API æ™‚è¦æ³¨æ„ç•¶ä¸‹ &lt;code>context&lt;/code> æ‰€åŒ…å«çš„ç¯„åœã€‚&lt;/p>
&lt;h3 id="é¿å…èª¤å€åœ¨-expect-å¾Œåšæ¸…æƒè™•ç†">é¿å…èª¤å€ï¼šåœ¨ expect å¾Œåšæ¸…æƒè™•ç†&lt;/h3>
&lt;p>é™¤äº†ä¸Šé¢çš„ç”¨æ³•ï¼Œæœ‰æ™‚å€™ä½ å¯èƒ½æœƒèªç‚ºæ—¢ç„¶è¦æ¸…æƒï¼Œé‚£æˆ‘ä½•ä¸åœ¨æ–·è¨€å¾Œè™•ç†å°±å¥½å‘¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨é€™è£¡åšæ¸…é™¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">resetTestingEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™éº¼åšç•¶ä½ åœ¨æ¸¬è©¦æ¡ˆä¾‹éƒ½æ˜¯é€šéçš„æƒ…æ³ä¸‹éƒ½æ²’æœ‰å•é¡Œï¼Œä½†æ˜¯ä¸€ä½†æŸå€‹æ¸¬è©¦æ¡ˆä¾‹ç™¼ç”Ÿäº†éŒ¯èª¤ï¼Œç”±æ–¼æ¸¬è©¦æ¡ˆä¾‹å°±æœƒåœ¨æ–·è¨€æ™‚æ‹‹å‡º &lt;code>AssertionError&lt;/code> å¾Œåœæ­¢ï¼Œå› æ­¤å¾ˆæœ‰å¯èƒ½å› ç‚ºä¸€å€‹æ¸¬è©¦æ¡ˆä¾‹å£äº†å°è‡´æ¥ä¸‹ä¾†æ‰€æœ‰æ¸¬è©¦éƒ½å—åˆ°å½±éŸ¿ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// AssertionErrorï¼Œé€™å€‹æ¸¬è©¦æ¡ˆä¾‹å°±åœåœ¨é€™äº†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">resetTestingEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨æ²’æœ‰ç¶“é `resetTestingEnv()` ä¸‹é€²è¡Œæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨æ²’æœ‰ç¶“é `resetTestingEnv()` ä¸‹é€²è¡Œæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨æ²’æœ‰ç¶“é `resetTestingEnv()` ä¸‹é€²è¡Œæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åœ¨æ²’æœ‰ç¶“é `resetTestingEnv()` ä¸‹é€²è¡Œæ¸¬è©¦
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤è¼ƒä½³çš„ä½œæ³•é‚„æ˜¯ä½¿ç”¨ &lt;code>Setup&lt;/code> &amp;amp; &lt;code>Teardown&lt;/code> API ä¾†è™•ç†æœƒæ¯”è¼ƒå¥½ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setupTestingEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">afterEach&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resetTestingEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é¿å…éåº¦ä½¿ç”¨-setup--teardown-api">é¿å…éåº¦ä½¿ç”¨ Setup &amp;amp; Teardown API&lt;/h3>
&lt;p>ä¸€åå°æ–¼æ¸¬è©¦é ˜åŸŸé —æœ‰ç ”ç©¶çš„ Kent C. Dodds åœ¨ twitter ä¸Šç™¼è¡¨ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593679893_c0af1b393a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>è¨±å¤šäººä¸€çœ‹äº†ç´›ç´›è¡¨ç¤ºä¸­æ§ï¼Œå¿ƒæƒ³é€™ä¸å°±æ˜¯æˆ‘åœ¨å¯«çš„æ±è¥¿å—ï¼Ÿå› æ­¤ç™¼æ–‡ä¸€å‡ºä¸å°‘äººå°±å¥½å¥‡é‚£éº¼åˆ°åº•ç‚ºä»€éº¼ä¸Šæ–¹çš„ç”¨æ³•æœƒæ¯”è¼ƒå¥½å‘¢ï¼Ÿä¸”è®“æˆ‘å€‘å¾æŠ½è±¡å…‰è­œä»‹ç´¹èµ·ã€‚&lt;/p>
&lt;h3 id="æŠ½è±¡å…‰è­œthe-spectrum-of-abstraction">æŠ½è±¡å…‰è­œ(The Spectrum of Abstraction)&lt;/h3>
&lt;p>Kent C. Dodds &lt;a class="link" href="https://kentcdodds.com/blog/aha-testing" target="_blank" rel="noopener"
>æå‡º&lt;/a>åœ¨æŠ½è±¡å…‰è­œä¸­ä¸»è¦åˆ†æˆäº†ä¸‰ç¨®æ¦‚å¿µï¼š&lt;/p>
&lt;ul>
&lt;li>ANAï¼šAbsolutely No Abstraction&lt;/li>
&lt;li>AHAï¼šAvoid Hasty Abstraction&lt;/li>
&lt;li>DRYï¼šDon&amp;rsquo;t Repeat Yourself&lt;/li>
&lt;/ul>
&lt;p>è€Œå¾Œä¸¦å°‡æ­¤æ¦‚å¿µæ‡‰ç”¨åœ¨ Testing èº«ä¸Šä¸¦åˆ†åˆ¥è§£èªªäº†ä¸‰ç¨®æŠ½è±¡å‹æ…‹ä¸‹çš„æ¸¬è©¦çš„å„ªåŠ£åˆ†æã€‚&lt;/p>
&lt;p>å…¶ä¸­æˆ‘å€‘å¾€å¾€ä¸€é–‹å§‹å­¸ç¿’å¯èƒ½å› ç‚ºå°èªæ³•ä¸ç†Ÿç¨”ï¼Œå› æ­¤å¯èƒ½æœƒå¯«å‡º ANA Testing å½¢å¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æº–å‚™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ“ä½œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ–·è¨€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æº–å‚™ï¼šé‡è¤‡çš„æº–å‚™é¡ä¼¼çš„å…§å®¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ“ä½œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ–·è¨€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æº–å‚™ï¼šé‡è¤‡çš„æº–å‚™é¡ä¼¼çš„å…§å®¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ“ä½œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ–·è¨€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œéš¨è‘—æ¸¬è©¦ç¶“é©—è¶Šä¾†è¶Šç†Ÿç¨”ä¹‹å¾Œï¼Œæˆ‘å€‘å¯èƒ½æœƒæƒ³ç›¡å„ç¨®æ–¹æ³•ä¾†ã€Œç¯€çœã€æ’°å¯«æ¸¬è©¦ä¸Šçš„æ™‚é–“ï¼Œç”šè‡³åƒè€ƒ DRY å¿ƒæ³•å¯«å‡ºé€™æ¨£çš„æ¸¬è©¦ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// çµ±ä¸€çš„äº‹å‰æº–å‚™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">testEnv&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">TestEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">testEnv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç›´æ¥æ“ä½œäº‹å…ˆæº–å‚™å¥½çš„å…§å®¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ–·è¨€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç›´æ¥æ“ä½œäº‹å…ˆæº–å‚™å¥½çš„å…§å®¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ–·è¨€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œé€™æ¨£çš„ä¸‹å ´å°‡æœƒåœ¨è¤‡é›œçš„å·¢ç‹€æ¸¬è©¦æƒ…å¢ƒä¸‹è¶Šä¾†è¶Šé›£ä»¥é–±è®€èˆ‡èª¿æ•´ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">testEnv&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">TestEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">testEnv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">testEnv&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">TestEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">testEnv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">testEnv&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">TestEnv&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beforeEach&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">testEnv&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">init&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ... ç­‰ç­‰ é€™è£¡çš„åˆå§‹æº–å‚™æœ‰ä»€éº¼ ï¼Ÿï¼Ÿï¼Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œé™¤äº†å·¢ç‹€æƒ…å¢ƒæœ¬èº«æ˜¯å€‹è­°é¡Œä¹‹å¤–ï¼ŒKent C. Dodds èªç‚ºæˆ‘å€‘æ‡‰è©²å…¼å®¹çš„æ–¹å¼å»çœ‹å¾…ä»–ï¼Œä¹Ÿå°±æ˜¯èªªä»–ä¸æ’æ–¥æˆ‘å€‘å»åšæŠ½è±¡é€™ä»¶äº‹æƒ…ï¼Œä½†æ˜¯é¦–å…ˆè¦åšçš„æ‡‰è©²æ˜¯å…ˆä¿æŒå–®ç´”ï¼Œç›´åˆ°æˆ‘å€‘çœ‹åˆ°è¶³å¤ å¤šå…±åŒçš„æ¡ˆä¾‹ä¾†åˆ†æèƒ½æŠ½å–å‡ºçš„éƒ¨åˆ†ï¼Œå¦‚æœä¸å¤ å¤šé‚£ç”šè‡³åŸå…ˆ &lt;code>inline&lt;/code> çš„æ¸¬è©¦æ¡ˆä¾‹ç‰ˆæœ¬ä¹Ÿæ¯”éå¤šæŠ½è±¡çš„ç‰ˆæœ¬è¦å¥½å¾—å¤šã€‚&lt;/p>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://kentcdodds.com/blog/avoid-nesting-when-youre-testing" target="_blank" rel="noopener"
>é¿å…éåº¦å·¢ç‹€æƒ…å¢ƒ&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>æœ€å¾Œï¼Œå…±ç”¨çš„éƒ¨åˆ†é™¤éçœŸçš„æœ‰å¿…è¦é€é &lt;code>setup&lt;/code> &amp;amp; &lt;code>teardown&lt;/code> å¯¦ä½œè™•ç†ï¼Œå¦å‰‡å…±ç”¨çš„éƒ¨åˆ†å¤§å¤šä¹Ÿå¯ä»¥é€éè«¸å¦‚&lt;code>å·¥å» æ¨¡å¼&lt;/code>(&lt;code>factory pattern&lt;/code>)çš„å½¢å¼ç”¢ç”Ÿã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* æ“·å–è‡ªæˆ‘æŸå€‹å°ˆæ¡ˆå…§çš„å…ƒä»¶æ¸¬è©¦ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">factory&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">options&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">createSpy&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">createTestingPinia&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">options&lt;/span>&lt;span class="p">)],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">store&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">useMainStore&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">store&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ‰€ä»¥å¾€å¾Œè‹¥æœ‰ä½¿ç”¨åˆ°é€™é¡ API æ™‚ä¸ä»¿å…ˆæ€è€ƒä¸€ä¸‹æˆ‘å€‘çœŸçš„éœ€è¦å—ï¼Œé‚„æ˜¯æœ‰æ›´åŠ å„ªé›…çš„æ–¹å¼èƒ½å¤ è§£æ±ºé‡è¤‡çš„å•é¡Œå‘¢ï¼Ÿ&lt;/p>
&lt;hr>
&lt;h2 id="æ–·è¨€èªæ³•èˆ‡-matchers">æ–·è¨€èªæ³•èˆ‡ Matchers&lt;/h2>
&lt;p>æ–·è¨€(Assertion)åœ¨ç¨‹å¼è¨­è¨ˆé ˜åŸŸä¸­ä¸»è¦æŒ‡çš„æ˜¯ã€Œé‡å°ä¸€å€‹çµæœæŒ‡å‡ºç‚ºçœŸ(&lt;code>true&lt;/code>)æˆ–å‡(&lt;code>false&lt;/code>)ã€çš„é‚è¼¯åˆ¤æ–·å¼ã€‚&lt;/p>
&lt;p>è€Œåœ¨æ¸¬è©¦ä¸­æ–·è¨€ä¸»è¦æŒ‡çš„éƒ¨åˆ†å¦‚å…ˆå‰æåˆ°çš„ 3A æ¨¡å¼ä¸­çš„(Assert)æ­¥é©Ÿï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">describe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æº–å‚™ï¼šArrange
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello, Unit-test!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ“ä½œï¼šAct
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;button&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ–·è¨€ï¼šAssert
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;content&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, Unit-test!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­æ–·è¨€(Assert)éšæ®µä¸­åœ¨èªæ³•çš„éƒ¨åˆ†å‰‡æœƒä½¿ç”¨åˆ°æ‰€è¬‚çš„ã€ŒMatchersã€ï¼Œä»¥ä¸Šæ–¹ç¨‹å¼ç¢¼ç‚ºä¾‹çš„è©±å°±æœƒæ˜¯ &lt;code>expect()&lt;/code> å¾Œæ–¹çš„ &lt;code>toBe()&lt;/code> é€™å€‹èªæ³•ï¼Œè€Œä¸åŒçš„ã€ŒMatchersã€èƒ½æ¯”å°çš„æ±è¥¿ä¹Ÿä¸å¤ªä¸€æ¨£ï¼Œç­è§£ä»€éº¼æ™‚å€™è©²é¸ä»€éº¼ Matchers åŸºæœ¬ä¸Šå¯«æ–·è¨€çš„æ™‚å€™å°±èƒ½ä¿¡æ‰‹æ»ä¾†ã€‚&lt;/p>
&lt;h3 id="æ–·è¨€èªæ³•">æ–·è¨€èªæ³•&lt;/h3>
&lt;p>ä¾æ“šä¸åŒå·¥å…·æˆ–æ¡†æ¶æ‰€æä¾›çš„æ–·è¨€èªæ³•(Assertion)ï¼Œå°æ–¼ Matchers ä¾†èªªå°±æœƒæœ‰ä¸åŒçš„å¯«æ³•ï¼Œæ‰€ä»¥é¦–å…ˆæˆ‘å€‘è¦å…ˆä¾†ç°¡å–®èªè­˜ä¸€ä¸‹ä¸åŒå·¥å…·ä¹‹é–“çš„æ–·è¨€èªæ³•é¢¨æ ¼ä¸Šçš„å·®ç•°ï¼ŒæŒ‘é¸èƒ½æ¥å—çš„æ–·è¨€é¢¨æ ¼å¾Œå†ä¾†çœ‹è©²é¢¨æ ¼çš„ Matcher ç”¨æ³•ï¼Œè€Œé¢¨æ ¼çš„éƒ¨åˆ†ä»¥ä¸‹å°‡ä¾åºä»‹ç´¹ï¼š&lt;/p>
&lt;ul>
&lt;li>Chai æ–·è¨€åº«&lt;/li>
&lt;li>Jest æ¡†æ¶ä¸­çš„æ–·è¨€èªæ³•&lt;/li>
&lt;li>Vitest ä¸­æ‰€èƒ½ç”¨çš„éƒ¨åˆ†&lt;/li>
&lt;/ul>
&lt;h4 id="chai-assertion">Chai Assertion&lt;/h4>
&lt;p>&lt;a class="link" href="https://www.chaijs.com/" target="_blank" rel="noopener"
>Chai.js&lt;/a> æœ¬èº«æ˜¯ä¸€å€‹å°ˆæ³¨åœ¨æä¾›æ–·è¨€èªæ³•çš„å·¥å…·åº«ï¼Œå®ƒæä¾›äº†&lt;a class="link" href="https://www.chaijs.com/guide/styles/" target="_blank" rel="noopener"
>ä¸‰ç¨®å¯«æ³•&lt;/a>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>Assert&lt;/code>(TDD style)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Chai/Assert&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Orange tabby cat&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;fat&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">assert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Orange tabby cat is not fat&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>Expect&lt;/code>(BDD style)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Chai/Expect&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">to&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">be&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">an&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;array&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">that&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">does&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">not&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">include&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>Should&lt;/code>(BDD style)ï¼šé€éæ“´å……ç‰©ä»¶ &lt;code>prototype&lt;/code> çµ¦äºˆ &lt;code>should&lt;/code> å±¬æ€§çš„æ–¹å¼ä½¿æˆ‘å€‘å¯ä»¥ç›´æ¥éˆå¼åŠ å…¥ Matchers åœ¨å®šç¾©å¥½çš„è®Šæ•¸å¾Œã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// é¸æ“‡ä¸€ï¼šåœ¨æ–·è¨€å‰éœ€è¦å‘¼å« `chai.should` æ–¹æ³•ï¼Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="nx">chai&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;chai&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">chai&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">should&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// é¸æ“‡äºŒï¼šç›´æ¥å¼•å…¥ä¸‹æ–¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">import&lt;/span> &lt;span class="s1">&amp;#39;chai/register-should&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// åº•ä¸‹çš„æ¸¬è©¦æ¡ˆä¾‹å°±èƒ½ç›´æ¥éˆå¼åŠ ä¸Š Matchers
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Chai/Assert&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">foo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">beverages&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">tea&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;chai&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;matcha&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;oolong&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">foo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">should&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">be&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;string&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">foo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">should&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">equal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bar&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">foo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">should&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">have&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lengthOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">beverages&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">should&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">have&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">property&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;tea&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="kd">with&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lengthOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="jest-assertion">Jest Assertion&lt;/h4>
&lt;p>ä»¥ &lt;a class="link" href="https://jestjs.io/" target="_blank" rel="noopener"
>Jest&lt;/a> æ¸¬è©¦æ¡†æ¶ä¸­æ‰€æä¾›çš„æ–·è¨€æ–¹æ³•å‰‡åªæœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>Expect&lt;/code>(BDD style)ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;expect/ BDD style&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>éœ€ç‰¹åˆ¥æ³¨æ„çš„æ˜¯ Jest ä¸­çš„ &lt;code>expect&lt;/code> èˆ‡ Chai çš„ &lt;code>expect&lt;/code> æ‰€æä¾›çš„ Matchers æ˜¯ä¸ä¸€æ¨£çš„ã€‚&lt;/p>
&lt;/blockquote>
&lt;h4 id="vitest">Vitest&lt;/h4>
&lt;p>ä»¥ &lt;a class="link" href="https://cn.vitest.dev/" target="_blank" rel="noopener"
>Vitest&lt;/a> æ¸¬è©¦å·¥å…·ä¾†èªªï¼Œæ–·è¨€(Assertion)èªæ³•çš„éƒ¨åˆ†ä»–å…§å»ºäº† Chai æ–·è¨€åº«èˆ‡å…¼å®¹äº† Jest ä¸­çš„æ–·è¨€èªæ³•ï¼Œå› æ­¤ä¸»è¦å°±æ˜¯åœ¨ä»¥ä¸Šä»‹ç´¹çš„å››ç¨®å¯«æ³•ä¸­é¸æ“‡ä¸€ç¨®ä½¿ç”¨ï¼&lt;/p>
&lt;p>è€Œæ¥ä¸‹ä¾†ä¸»è¦è‘—é‡ä»‹ç´¹ Jest Assertion ä¸­çš„ &lt;code>expect&lt;/code> èªæ³•çš„ Matchers è¦å¦‚ä½•ä½¿ç”¨ï¼&lt;/p>
&lt;h3 id="vitestjest-expect-matchers">Vitest(Jest expect Matchers)&lt;/h3>
&lt;p>è¦å­¸ç¿’é€™é¡ Matchers é™¤äº†æŠŠ API doc ç¿»ä¸€è¼ªä¹‹å¤–ï¼Œæœ€å¿«çš„æ–¹å¼ä¹‹ä¸€å°±æ˜¯é‡å°ä¸åŒçš„æ¸¬è©¦çµæœç›®æ¨™é¡å‹å»æ­¸ç´ï¼Œè€Œä¾ç…§ç¶“é©—å¸¸è¦‹ç¨®é¡æœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>å¸¸ç”¨ï¼štoBe, not&lt;/li>
&lt;li>ç´”å€¼æ¯”å°(Primitive)é¡å‹ï¼šString, Number, Boolean&amp;hellip;, etc.&lt;/li>
&lt;li>é™£åˆ—æ¯”å°èˆ‡æª¢æŸ¥&lt;/li>
&lt;li>ç‰©ä»¶æ¯”å°èˆ‡æª¢æŸ¥&lt;/li>
&lt;li>ç›£è½å‡½å¼&lt;/li>
&lt;li>å¿«ç…§&lt;/li>
&lt;li>Error&lt;/li>
&lt;/ul>
&lt;p>ç”±æ–¼ Matchers ç¹å¤šï¼Œæ‰€ä»¥å¾å¸¸ç”¨è·Ÿæ¦‚å¿µå®¹æ˜“ææ··çš„å¹¾å€‹é–‹å§‹å…ˆä»‹ç´¹èµ·ï¼š&lt;/p>
&lt;h4 id="å¸¸ç”¨">å¸¸ç”¨&lt;/h4>
&lt;ul>
&lt;li>toBeï¼šå°è³‡æ–™é¡å‹ç‚ºç´”å€¼(Primitive Value)ä¾†èªªå°±æ˜¯æ¯”å°å€¼ç›¸ç­‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°éç´”å€¼(Non-Primitive Value)ä¾†èªªå°±æ˜¯æ¯”è¨˜æ†¶é«”ä½ç½®(reference)æ˜¯å¦ç›¸ç­‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">obj&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">({}).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">({})&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// `not`ï¼šç”¨æ–¼åè½‰æ–·è¨€çš„é‚è¼¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">not&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">not&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ç´”å€¼è³‡æ–™é¡å‹æ¯”å°">ç´”å€¼è³‡æ–™é¡å‹æ¯”å°&lt;/h4>
&lt;ul>
&lt;li>toBeCloseToï¼šè™•ç†æµ®é»æ•¸é‹ç®—æ™‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">0.1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mf">0.2&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">0.3&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// failed ç¬¦é»æº¢å‡ºï¼Œçµæœæ‡‰è©²æœƒç‚º 0.30000000000000004
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">0.1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mf">0.2&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeCloseTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">0.3&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toBeGreaterThanã€toBeGreaterThanOrEqualã€toBeLessThanã€toBeLessThanOrEqual&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeGreaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeGreaterThanOrEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeLessThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeLessThanOrEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toBeDefinedã€toBeUndefined&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="nx">b&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeDefined&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeUndefined&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toBeTruthyã€toBeFalsy&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeTruthy&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeFalsy&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toBeNullã€toBeNaN&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBeNull&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toMatchï¼šå­—ä¸²æˆ–æ­£å‰‡æ¯”å°&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;0912345678&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sr">/^09[0-9]{8}$/&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="é™£åˆ—æ¯”å°èˆ‡æª¢æŸ¥">é™£åˆ—æ¯”å°èˆ‡æª¢æŸ¥&lt;/h4>
&lt;ul>
&lt;li>toContainï¼šé™£åˆ—æ˜¯å¦å«æœ‰ç›®æ¨™å€¼&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;4&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toContainEqualï¼š é™£åˆ—æ˜¯å¦å«æœ‰è©²å€¼(é¡å‹ç‚ºç´”å€¼æ™‚æª¢é©—æ˜¯å¦ç›¸ç­‰ï¼Œé¡å‹ç‚ºç‰©ä»¶æ™‚æª¢é©—çµæ§‹æ˜¯å¦å…¨ç­‰)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">toContainEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">([{&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span> &lt;span class="p">}]).&lt;/span>&lt;span class="nx">toContainEqual&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">([{&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">something&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;other&amp;#39;&lt;/span> &lt;span class="p">}]).&lt;/span>&lt;span class="nx">toContainEqual&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">val&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveLengthï¼šç¢ºèªå…¶å±¬æ€§çš„é•·åº¦æ˜¯å¦ç›¸ç­‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;12&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveLength&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">toHaveLength&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">length&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="p">}).&lt;/span>&lt;span class="nx">toHaveLength&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ç‰©ä»¶æ¯”å°èˆ‡æª¢æŸ¥">ç‰©ä»¶æ¯”å°èˆ‡æª¢æŸ¥&lt;/h4>
&lt;ul>
&lt;li>toEqualï¼šæ¯”å°ç‰©ä»¶çµæ§‹æ˜¯å¦ç›¸åŒï¼Œè€Œéæ¯”å°åƒç…§ä¾†æº(reference)ï¼Œè€Œçµæ§‹ä¸­è‹¥å€¼ç‚º undefined æœƒå¿½ç•¥&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">A&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">B&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">secret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">undefined&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">A&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toStrictEqualï¼šèˆ‡ toEqual é¡ä¼¼ï¼Œä½† undefined ä¸æœƒè¢«å¿½ç•¥&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">A&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">B&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">C&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">secret&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">undefined&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">A&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toStrictEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">B&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">A&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toStrictEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">C&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”šè‡³ Class æ‰€å‰µé€ çš„ç‰©ä»¶èˆ‡ç‰©ä»¶å¯¦å­—(Object Literals)ç›¸æ¯”ä¹Ÿè¦–ç‚ºä¸åŒã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">class&lt;/span> &lt;span class="nx">MockClass&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">num&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">num&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">}).&lt;/span>&lt;span class="nx">toStrictEqual&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">})&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nx">MockClass&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toStrictEqual&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">})&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHavePropertyï¼šæª¢æŸ¥ç‰©ä»¶å«æœ‰å±¬æ€§èˆ‡å…¶å±¬æ€§å€¼&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveProperty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;num&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveProperty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;num&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveProperty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;num&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toMatchObjectï¼š æª¢æŸ¥ç‰©ä»¶çš„å­å±¤&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">nested&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="p">},&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchObject&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchObject&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchObject&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">nested&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// failed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchObject&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">nested&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="p">})&lt;/span> &lt;span class="c1">// passed
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¹¼çºŒè¬›è§£ä¸‹åˆ—å¹¾å€‹æ¯”è¼ƒç‰¹åˆ¥çš„ Matcher&lt;/p>
&lt;h4 id="ç›£è½å‡½å¼">ç›£è½å‡½å¼&lt;/h4>
&lt;p>åœ¨æ¸¬è©¦çš„éç¨‹ä¸­ï¼Œæœ‰æ™‚å€™æˆ‘å€‘ä¸åƒ…åªæ˜¯æ–·è¨€å—æ¸¬ç‰©(SUT, System Under Test)çš„ç‹€æ…‹ï¼Œæœ‰æ™‚å€™å¯èƒ½æœƒå°å—æ¸¬ç›®æ¨™çš„ã€Œä¾è³´ç‰©ã€(DOC, Depended-on Component)ç‹€æ…‹æœ‰èˆˆè¶£ï¼Œè€Œé€™æ™‚æˆ‘å€‘å°±ç„¡æ³•å–®ç´”ä»¥ Matchers ä¾†æ–·è¨€ï¼Œå› ç‚ºæˆ‘å€‘éœ€è¦ç›£è½ä¾è³´ç‰©å‰å¾Œçš„è®ŠåŒ–ã€‚&lt;/p>
&lt;p>è€Œåœ¨ç¨‹å¼æ¸¬è©¦é ˜åŸŸä¸­ï¼Œæ¸¬è©¦æ›¿èº«(&lt;code>test double&lt;/code>)ä¸»è¦å°±æ˜¯è² è²¬è™•ç†é€™ä¸€é¡éå—æ¸¬ç‰©æœ¬èº«æ‰€åšçš„äº‹æƒ…ï¼Œä¸¦ä¸”åœ¨éœ€è¦æ™‚é‚„èƒ½å¹«æˆ‘å€‘ç´€éŒ„å¿…è¦çš„è³‡è¨Šã€‚&lt;/p>
&lt;p>å‡è‹¥æˆ‘å€‘ä»Šå¤©æ¸¬è©¦æ¡ˆä¾‹å—æ¸¬ç‰©æœ¬èº«æœƒå»å‘¼å«åˆ°çš„ä¾è³´ç›®æ¨™æ˜¯å€‹ã€Œå‡½å¼ã€æ™‚ï¼Œé€™æ™‚æˆ‘å€‘å¯ä»¥é€é &lt;code>Vitest&lt;/code> æ‰€æä¾›çš„ &lt;code>vi.fn()&lt;/code> ä¾†æ¨¡ä»¿(spy)å‡½å¼ã€‚&lt;/p>
&lt;p>&lt;code>vi.fn()&lt;/code> æœ¬èº«æœƒå›å‚³ä¸€å€‹å¯¦é«”(&lt;code>CallableMockInstance&lt;/code>)ï¼Œåœ¨é€™å€‹å¯¦é«”ä¸­æœƒè¨˜éŒ„è‘—æœ‰é—œæ¸¬è©¦å‡½å¼æ™‚æœƒéœ€è¦çš„è³‡æ–™èˆ‡æ–¹æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> called: false,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> callCount: 0,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> results: [],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> calls: [],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> impl: [Function (anonymous)],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> reset: [Function: i],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> nextError: [Function (anonymous)],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> nextResult: [Function (anonymous)],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> restore: [Function: w],
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm"> ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤å°‡å—æ¸¬çš„ç›®æ¨™å‡½å¼æ”¾å…¥ &lt;code>vi.fn&lt;/code> ä¸­ï¼Œå¾ŒçºŒåªè¦æ¸¬è©¦éç¨‹ä¸­å¦‚æœæ¸¬è©¦ç›®æ¨™å»èª¿ç”¨äº†å·²è¢« Spy éçš„å‡½å¼æ™‚ï¼Œ&lt;code>CallableMockInstance&lt;/code> å°±æœƒå¹«æˆ‘å€‘ç´€éŒ„ç›¸é—œçš„è³‡è¨Šï¼Œæ¥è‘—æˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨æ–·è¨€èªæ³•ç›¸é—œçš„ Matcher å»æ¯”å°æˆ‘å€‘é æœŸçš„çµæœï¼Œæ¯”æ–¹èªªï¼š&lt;/p>
&lt;ul>
&lt;li>toHaveBeenCalledï¼šæ–·è¨€å‡½å¼æœ‰è¢«å‘¼å«é&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sayHi&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveBeenCalled&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveBeenCalledTimesï¼šæ–·è¨€å‡½å¼è¢«å‘¼å«éå¹¾æ¬¡&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sayHi&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveBeenCalledTimes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveBeenCalledWithï¼šæ–·è¨€å‡½å¼è¢«å‘¼å«æ™‚æ‰€å¸¶çš„åƒæ•¸&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sayHi&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, Unit-Test!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveBeenCalledWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, Unit-Test!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveReturnedï¼šæ–·è¨€å‡½å¼å‘¼å«å¾Œæ‡‰è©²è‡³å°‘è¦è¿”å›å€¼ä¸€æ¬¡&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39; Hello, Spy!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">sayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, Unit-Test!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveReturned&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveReturnedTimesï¼šæ–·è¨€å‡½å¼ç¶“éæ“ä½œå¾Œæ‡‰è©²è¦è¿”å›å€¼å¹¾æ¬¡&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">sayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Nice to meet you!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;See you again!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveReturnedTimes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveLastReturnedWithï¼šæ–·è¨€å‡½å¼ç¶“éæ“ä½œå¾Œæœ€å¾Œæ‡‰è©²è¦è¿”å›çš„å€¼&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">sayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Nice to meet you!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;See you again!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveLastReturnedWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;See you again!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveNthReturnedWithï¼šæ–·è¨€å‡½å¼ç¶“éæ“ä½œå¾Œç¬¬ N æ¬¡æ‡‰è©²è¦è¿”å›çš„å€¼&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">sayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Nice to meet you!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;See you again!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveNthReturnedWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Nice to meet you!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>toHaveReturnedWithï¼šæ–·è¨€å‡½å¼å‘¼å«å¾Œè¿”å›çš„å€¼&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">sayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">something&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">something&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39; Hello, Spy!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">spyOnSayHi&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fn&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">sayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">val&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, Unit-Test!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">spyOnSayHi&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveReturnedWith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, Unit-Test! Hello, Spy!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œæ¸¬è©¦æ›¿èº«(test double)é™¤äº†åƒæ˜¯ vi.fn() é€™é¡é–“è«œé¡å‹(Spy)ä¹‹å¤–ï¼Œé‚„æœ‰è¨±å¤šä¸åŒçš„æ¸¬è©¦æ›¿èº«ï¼Œå®ƒå€‘åœ¨æ¸¬è©¦ä¸­éƒ½æœ‰å„è‡ªçš„ç”¨é€”ä¾†å”åŠ©æˆ‘å€‘æ›´å¥½çš„æ¸¬è©¦ã€‚&lt;/p>
&lt;h3 id="å¿«ç…§æ¸¬è©¦snapshot-testingèˆ‡å¿«ç…§-matchers">å¿«ç…§æ¸¬è©¦(Snapshot Testing)èˆ‡å¿«ç…§ matchers&lt;/h3>
&lt;h4 id="jest-snapshot">Jest Snapshot&lt;/h4>
&lt;p>åœ¨ Jest çš„ &lt;a class="link" href="https://jestjs.io/docs/snapshot-testing" target="_blank" rel="noopener"
>Snapshot Testing&lt;/a> èªªæ˜æ–‡ä»¶çš„å®šç¾©ä¸­ä¸»è¦æŒ‡çš„æ˜¯ç”¨ä¾†é˜²æ­¢ UI å‡ºç¾å°šæœªé æœŸçš„è®ŠåŒ–ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">data-test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;link&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;http://ithelp.ithome.com.tw&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> Ithelp &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">mount&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@vue/test-utils&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¸²æŸ“é€£çµ&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;link&amp;#34;&lt;/span>&lt;span class="p">])).&lt;/span>&lt;span class="nx">toMatchSnapshot&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶è€Œé€™é‚Šçš„è®ŠåŒ–ï¼Œä¸¦éä½ æ‰€æƒ³åƒçš„æŠŠè¦–è¦ºç•«é¢çµ¦ç…§ç›¸ä¸‹ä¾†æ¯”å°åƒç´ æˆ–æ¯”ä¾‹çš„é‚£ç¨®è¦–è¦ºå›æ­¸æ¸¬è©¦(Visual Regression Testing)ï¼Œè€Œæ˜¯è—‰ç”±å°‡ç›®æ¨™å…ƒä»¶é€éæ¸²æŸ“(Render)å…ƒä»¶ç”¢ç”Ÿäº†ä¸€å€‹ DOM çµæ§‹çš„æ–‡å­—ï¼Œä¸¦åœ¨æ¸¬è©¦ç¨‹å¼æª”è·¯å¾‘åº•ä¸‹çš„ &lt;code>__snapshots__&lt;/code> è³‡æ–™å¤¾ç”Ÿæˆä¸€å€‹ &lt;code>.snap&lt;/code> æª”æ¡ˆä¾†åšç´€éŒ„ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">exports&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="sb">`æ¸²æŸ“é€£çµ`&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">&amp;lt;a
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> data-test=&amp;#34;link&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> href=&amp;#34;http://ithelp.ithome.com.tw&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> Ithelp
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">&amp;lt;/a&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>æˆªè‡³ Jest Snapshot é é¢ä¸­çš„&lt;a class="link" href="https://jestjs.io/docs/snapshot-testing" target="_blank" rel="noopener"
>ç¨‹å¼ç¢¼&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>åœ¨ç¬¬äºŒæ¬¡åŸ·è¡Œæ¸¬è©¦çš„æ™‚å€™ï¼Œå°±æœƒå†æ¬¡åšä¸€æ¬¡åŒæ¨£çš„æµç¨‹ï¼Œè€Œé€™æ¬¡æ‰€ç”¢ç”Ÿçš„çµæœæœƒèˆ‡å…ˆå‰çš„ &lt;code>.snap&lt;/code> ç´€éŒ„åšæ¯”å°ã€‚&lt;/p>
&lt;p>å‡è¨­æ¯”å°ä¸Šæœ‰è½å·®å°±æœƒæ‹‹å‡ºéŒ¯èª¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">- Snapshot - 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ Received + 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">-&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;http://ithelp.ithome.com.tw&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">+&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://ithelp.ithome.com.tw&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;gt;&lt;/span> Ithelp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è—‰ç”±é€™å€‹æ¯”å°æ©Ÿåˆ¶å¾è€Œå¯¦ç¾ã€Œ&lt;strong>é˜²æ­¢ UI å‡ºç¾å°šæœªé æœŸçš„è®ŠåŒ–&lt;/strong>ã€çš„åŠŸèƒ½ã€‚&lt;/p>
&lt;h4 id="vitest-snapshot">Vitest Snapshot&lt;/h4>
&lt;p>è€Œå‰é¢æœ‰æåˆ° &lt;code>Vitest&lt;/code> æœ¬èº«å…¼å®¹äº† &lt;code>Jest&lt;/code> çš„æ–·è¨€(assertion)èªæ³•ï¼Œæ‰€ä»¥å¿«ç…§(Snapshot)çš„ matcher è‡ªç„¶ä¹Ÿæ˜¯ä¸èƒ½æ”¾éã€‚&lt;/p>
&lt;p>åœ¨ &lt;code>Vitest&lt;/code> ä¸­ä¸»è¦å…¼å®¹çš„ matcher éƒ¨åˆ†æœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>toMatchSnapshot&lt;/li>
&lt;li>toMatchInlineSnapshot&lt;/li>
&lt;/ul>
&lt;p>åŸºæœ¬ä¸Šæ¦‚å¿µèˆ‡ Jest Snapshot ç›¸ä¼¼ï¼Œéƒ½æ˜¯åœ¨åšçµæ§‹å¿«ç…§é€™ä»¶äº‹æƒ…ï¼Œç„¶è€Œ &lt;code>Vitest&lt;/code> æ–‡ä»¶éƒ¨åˆ†å‰‡æ˜¯æ²’æœ‰ç‰¹åœ°å¼·èª¿ UI çš„éƒ¨åˆ†ï¼Œè€Œæ˜¯é—œæ³¨åœ¨å€¼(&lt;code>value&lt;/code>)çš„æ¯”å°ã€‚&lt;/p>
&lt;p>å› æ­¤æˆ‘å€‘å–®ç´”æ”¾å…¥ä¸€å€‹é™£åˆ—ç‰©ä»¶&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;cat snapshot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Orange&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Blank&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchSnapshot&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>.snap&lt;/code> çš„çµæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">exports&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="sb">`component &amp;gt; cat snapshot 1`&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> [
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;age&amp;#34;: 4,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;name&amp;#34;: &amp;#34;Orange&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> },
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;age&amp;#34;: 6,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;name&amp;#34;: &amp;#34;Blank&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> },
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> ]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb">`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”šè‡³ä¹Ÿå¯ä»¥å¼•å…¥ JSON æª”æ¡ˆä¾†åšå¿«ç…§ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">Area&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./area.json&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;static json snapshot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Area&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchSnapshot&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶ç„¶å…ƒä»¶å¿«ç…§ä¹Ÿæ˜¯èƒ½åšçš„ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">mount&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@vue/test-utils&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;snapshot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;content&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchSnapshot&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œä»¥ä¸Šå¿«ç…§éƒ¨åˆ†å¦‚æœä½ è¦ºå¾—è¦ç”Ÿæˆä¸€å€‹æª”æ¡ˆä¾†ç®¡ç†æœ‰é»å›‰å”†ï¼Œé‚£éº¼ä½ å¯ä»¥é€é &lt;code>toMatchInlineSnapshot&lt;/code> ä¾†è™•ç†é€™é¡çš„éœ€æ±‚ï¼Œå…¶å·®åˆ¥åœ¨æ–¼ç”Ÿæˆçš„ä½ç½®æœƒæ˜¯åœ¨ &lt;code>toMatchInlineSnapshot()&lt;/code> å‡½å¼æœ¬èº«è£¡é¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;cat snapshot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Orange&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Blank&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åŸå…ˆ toMatchInlineSnapshot å…§æ²’æœ‰ä»»ä½•æ±è¥¿
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// åœ¨åŸ·è¡Œæ¸¬è©¦å¾Œå°±æœƒå°‡å¿«ç…§å…§å®¹è‡ªå‹•ç”Ÿæˆåœ¨ toMatchInlineSnapshot è£¡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toMatchInlineSnapshot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> [
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;age&amp;#34;: 4,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;name&amp;#34;: &amp;#34;Orange&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> },
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;age&amp;#34;: 6,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;name&amp;#34;: &amp;#34;Blank&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> },
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> ]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> `&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ€å¾Œï¼Œå¦‚æœé‡åˆ°è®Šæ›´çš„éƒ¨åˆ†æ˜¯æˆ‘å€‘æ‰€é æœŸçš„æ™‚å€™ï¼Œæ­¤æ™‚å°±éœ€è¦æ›´æ–°å¿«ç…§çš„éƒ¨åˆ†ï¼Œå¯ä»¥åœ¨åŸ·è¡Œæ¸¬è©¦çš„ &lt;code>watch&lt;/code> æ¨¡å¼æ™‚æŒ‰ä¸‹ &lt;code>u&lt;/code> éµï¼Œå°±å°‡æ–°çš„å¿«ç…§ä¿å­˜èµ·ä¾†ï¼Œæˆ–æ˜¯é€éæ–°å¢ &lt;code>npm scripts&lt;/code> æŒ‡ä»¤ä¾†åŸ·è¡Œå‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;test:update&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vitest -u&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="error">Error&lt;/h3>
&lt;p>æœ€å¾Œä»‹ç´¹åˆ°çš„å‰‡æ˜¯&lt;strong>éŒ¯èª¤é¡å‹&lt;/strong>çš„ Matcherï¼š&lt;/p>
&lt;ul>
&lt;li>toThrowError&lt;/li>
&lt;li>toThrowErrorMatchingSnapshot&lt;/li>
&lt;li>toThrowErrorMatchingInlineSnapshot&lt;/li>
&lt;/ul>
&lt;p>å…ˆå‰æˆ‘å€‘æœ‰æåˆ°æ¸¬è©¦æ¡ˆä¾‹é æƒ³çš„ä¸‰å€‹è·¯å¾‘(Happy pathã€sad Pathã€Bad Path)ï¼Œ&lt;code>Bad Path&lt;/code> å¾ç”¢å“è§’åº¦ä¸Šä¾†èªª End-User ä½¿ç”¨ä¸Šçš„éŒ¯èª¤ï¼Œæ‡‰è©²è€ƒæ…®å¾ç”¢å“ä½¿ç”¨è§’åº¦ä¸Šå»æ€è€ƒè¦æ€éº¼å”åŠ©ä»–å€‘å»ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸æ‡‰è©²ç‚ºäº†æ‹‹å‡ºéŒ¯èª¤è€Œæ‹‹å‡ºã€‚&lt;/p>
&lt;p>ä½†å‡è¨­ä»Šå¤©æ‹‹å‡ºéŒ¯èª¤çš„æƒ…å¢ƒæ˜¯è¼ƒç‚ºåˆç†çš„éƒ¨åˆ†ï¼Œæ¯”æ–¹æ˜¯é‡å°é–‹ç™¼äººå“¡åœ¨é–‹ç™¼æ™‚æœŸèª¤ç”¨å°è‡´çš„éŒ¯èª¤â‹¯â‹¯ç­‰ç­‰æƒ…æ³ï¼Œé€™æ™‚æˆ‘å€‘å°±å¯ä»¥é€éé€™ä¸€é¡ Matcher ä¾†è™•ç†ã€‚&lt;/p>
&lt;p>è€Œä½¿ç”¨ä¸Šè¦æ¯”è¼ƒå°å¿ƒçš„æ˜¯ï¼Œå—æ¸¬ç›®æ¨™è‹¥æœƒæ‹‹å‡ºéŒ¯èª¤å‰‡è¦é€é wrap function çš„å½¢å¼ä¾†è™•ç†ï¼Œå¦å‰‡æ‹‹å‡ºçš„éŒ¯èª¤æœƒé€ æˆæ¸¬è©¦æ¡ˆä¾‹çš„æ–·è¨€éŒ¯èª¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()=&amp;gt;{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">food&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;å°é»ƒç“œ&amp;#39;&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æˆ‘ä¸åƒå°é»ƒç“œ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">food&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å°é»ƒç“œ&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toThrowError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æˆ‘ä¸åƒå°é»ƒç“œ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// è‹¥é€™æ¨£å¯«çš„è©±è£¡é ­çš„ Error æœƒå°è‡´æ¸¬è©¦æ¡ˆä¾‹å¤±æ•—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">food&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;å°é»ƒç“œ&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toThrowError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æˆ‘ä¸åƒå°é»ƒç“œ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// éœ€è¦é€éé€™ç¨®æ–¹å¼æ‰èƒ½æ­£ç¢ºæ–·è¨€
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å…ƒä»¶æ¸¬è©¦">å…ƒä»¶æ¸¬è©¦&lt;/h2>
&lt;h3 id="vue-test-utils-èˆ‡å…ƒä»¶æ¸¬è©¦">Vue Test Utils èˆ‡å…ƒä»¶æ¸¬è©¦&lt;/h3>
&lt;p>æ¥è‘—ï¼Œè‹¥æˆ‘å€‘æƒ³é€²ä¸€æ­¥åœ¨å°ˆæ¡ˆä¸­æ¸¬è©¦ Vue å…ƒä»¶çš„è©±ï¼Œæˆ‘å€‘é™¤äº†åŸºæ–¼å‰é¢çš„æ¦‚å¿µèˆ‡èªæ³•ä¹‹å¤–ï¼Œé‚„å¾—ä¾é èƒ½å¤ å¹«åŠ©èƒ½å¤ è§£æ Vue å…ƒä»¶ä¸¦èˆ‡å…¶æ¨¡æ“¬äº’å‹•çš„å·¥å…·ï¼š&lt;/p>
&lt;ul>
&lt;li>Vue Test Utils&lt;/li>
&lt;li>Cypress&lt;/li>
&lt;li>Vue Testing Library&lt;/li>
&lt;/ul>
&lt;p>è€Œæœ¬ç¯‡å°‡è‘—é‡åœ¨ä»‹ç´¹è¦æ€éº¼é€é &lt;a class="link" href="https://test-utils.vuejs.org/" target="_blank" rel="noopener"
>Vue Test Utils&lt;/a> ä¾†é€²è¡Œèˆ‡ Vue å…ƒä»¶æœ‰é—œçš„ã€Œ&lt;strong>å…ƒä»¶æ¸¬è©¦&lt;/strong>ã€ï¼Œå› æ­¤æœ¬æ–‡è¦ä¾†ä»‹ç´¹ä¸€ä¸‹ Vue Test Utils èˆ‡å…ƒä»¶æ¸¬è©¦æ˜¯åœ¨åšä»€éº¼ï¼Œåˆé€™åˆè·Ÿå–®å…ƒæ¸¬è©¦æœ‰ä»€éº¼é—œä¿‚å‘¢ã€‚&lt;/p>
&lt;h3 id="vue-test-utils">Vue-Test-Utils&lt;/h3>
&lt;p>é¦–å…ˆå€è¾¨ä¸€ä¸‹ä»–èˆ‡æˆ‘å€‘ç›®å‰ç”¨åˆ°çš„æ¸¬è©¦å·¥å…·çš„å„è‡ªç”¨è™•ï¼Œæ‰èƒ½æ›´ç­è§£æ¥ä¸‹å­¸çš„å…§å®¹æ˜¯ç”±å“ªå€‹å·¥å…·è² è²¬çš„ï¼Œå°‡ä¾†æœ‰å¿…è¦æŸ¥é–±è³‡æ–™æ™‚å°±èƒ½æ›´æ¸…æ¥šçš„å€åˆ¥ä»–å€‘ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://test-utils.vuejs.org/" target="_blank" rel="noopener"
>Vue Test Utils&lt;/a> ä¸»è¦æ˜¯ä½œç‚ºæä¾›æ¸¬è©¦ Vue å…ƒä»¶çš„ç›¸é—œå·¥å…·é›†ï¼Œè®“æˆ‘å€‘èƒ½æ›´è¼•æ˜“çš„æ¨¡æ“¬æ“ä½œå…ƒä»¶ä¾†é€²è¡Œæ¸¬è©¦ï¼Œä½†æœ¬èº«ä¸¦æ²’æœ‰é‹è¡Œæ¸¬è©¦ç’°å¢ƒ(test runner)çš„åŠŸèƒ½ï¼Œå› æ­¤æˆ‘å€‘æœƒéœ€è¦è—‰ç”± Vitest ä¾†ä½œç‚ºæ¸¬è©¦ç’°å¢ƒä»¥åŠç›¸é—œçš„æ¸¬è©¦æƒ…å¢ƒæ¡ˆä¾‹èˆ‡æ–·è¨€ Matcherï¼›é™¤æ­¤ä¹‹å¤–æˆ‘å€‘é‚„éœ€è¦ç”¨ä¾†åœ¨ Node ç’°å¢ƒä¸­æ¨¡æ“¬ç€è¦½å™¨ç’°å¢ƒçš„ &lt;code>jsdom&lt;/code> ä¾†å”åŠ©è™•ç†æœ‰é—œ DOM ä¸Šçš„æ“ä½œï¼Œå¦‚æ­¤ä¸€ä¾†æ‰èƒ½é †åˆ©åœ°ä½¿ç”¨ &lt;a class="link" href="https://test-utils.vuejs.org/" target="_blank" rel="noopener"
>Vue Test Utils&lt;/a>ã€‚&lt;/p>
&lt;p>è€Œç‰ˆæœ¬çš„éƒ¨åˆ†è¦ç‰¹åˆ¥æ³¨æ„åˆ°ï¼Œç”±æ–¼ &lt;a class="link" href="https://test-utils.vuejs.org/" target="_blank" rel="noopener"
>Vue Test Utils&lt;/a> ç‚ºäº†ç›¸å®¹ Vue ä¸åŒç‰ˆæœ¬ä¹‹é–“çš„ API å› æ­¤æˆ‘å€‘è¦å®‰è£å°æ‡‰çš„ç‰ˆæœ¬æœªä¾†æ‰ä¸æœƒå‡ºéŒ¯ï¼š&lt;/p>
&lt;ul>
&lt;li>Vue 2ï¼šå®‰è£ &lt;a class="link" href="https://v1.test-utils.vuejs.org/" target="_blank" rel="noopener"
>Vue Test Utils 1&lt;/a>&lt;/li>
&lt;li>Vue 3ï¼šå®‰è£ &lt;a class="link" href="https://test-utils.vuejs.org/" target="_blank" rel="noopener"
>Vue Test Utils 2&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ç¢ºèªç‰ˆæœ¬æ²’å•é¡Œå¾Œï¼Œæ¨¡æ“¬å…ƒä»¶çš„éƒ¨åˆ†äº¤çµ¦ &lt;a class="link" href="https://test-utils.vuejs.org/" target="_blank" rel="noopener"
>Vue Test Utils&lt;/a> åŸºæœ¬ä¸Šå°±æ²’å•é¡Œäº†ï¼Œä½†é—œæ–¼ã€Œå…ƒä»¶æ¸¬è©¦ã€ç›®æ¨™ä¸»è¦æ˜¯è¦æ¸¬è©¦ä»€éº¼æ±è¥¿å‘¢ï¼Ÿ&lt;/p>
&lt;h3 id="å…ƒä»¶æ¸¬è©¦çš„ç›®æ¨™">å…ƒä»¶æ¸¬è©¦çš„ç›®æ¨™&lt;/h3>
&lt;p>æ¸¬è©¦æœ¬è³ªä¸»è¦æ˜¯åœ¨é æœŸçµæœèˆ‡å¯¦éš›æ˜¯å¦ç›¸ç­‰ï¼Œè€Œåœ¨å…ƒä»¶æ¸¬è©¦ä¸­ä½œç‚ºå—æ¸¬ç‰©çš„å…ƒä»¶ï¼Œå…¶æœ¬èº«ä¸»è¦æ˜¯è² è²¬ UI ä¸Šçš„ä¸€åˆ‡å…§å®¹ï¼Œå› æ­¤æˆ‘å€‘æ¸¬è©¦ç›®æ¨™åœ¨è‘—é‡æ–¼å®ƒçš„ã€Œ&lt;strong>ç•«é¢&lt;/strong>ã€èˆ‡ã€Œ&lt;strong>è¡Œç‚º&lt;/strong>ã€ä¸Šæ˜¯å¦å¦‚æˆ‘å€‘æ‰€é æœŸã€‚&lt;/p>
&lt;p>å› æ­¤ï¼Œåœ¨æ¸¬è©¦æ¡ˆä¾‹çš„æ“ä½œéç¨‹ä¸­(ä¹Ÿå°±æ˜¯ 3A ä¸­çš„ Action éšæ®µ)ï¼Œæˆ‘å€‘ä¸»è¦æ˜¯è—‰ç”±æ“ä½œå°å…ƒä»¶ä»‹é¢ä¸­çš„ï¼š&lt;/p>
&lt;ul>
&lt;li>data&lt;/li>
&lt;li>props&lt;/li>
&lt;li>slot&lt;/li>
&lt;li>provide&lt;/li>
&lt;li>directive&lt;/li>
&lt;li>Event(ç€è¦½å™¨ä¸­çš„äº’å‹•è¡Œç‚º)&lt;/li>
&lt;li>API response(æ¨¡æ“¬å›æ‡‰)&lt;/li>
&lt;/ul>
&lt;p>ä¾†åˆ¤æ–·ä¸‹åˆ—æ˜¯å¦å¦‚æˆ‘å€‘æ‰€é æœŸï¼š&lt;/p>
&lt;ul>
&lt;li>DOM æ¸²æŸ“çµæœ&lt;/li>
&lt;li>emit è¡Œç‚º&lt;/li>
&lt;/ul>
&lt;h3 id="å¥½çš„å…ƒä»¶æ¸¬è©¦">å¥½çš„å…ƒä»¶æ¸¬è©¦&lt;/h3>
&lt;p>ç•¶ç„¶ï¼Œåšåˆ°ä¸Šé¢çš„äº‹é …åŸºæœ¬ä¸Šå·²ç¶“å¯ä»¥ç®—æ˜¯å€‹å…ƒä»¶æ¸¬è©¦äº†ï¼Œè‹¥æˆ‘å€‘æƒ³è®“å…ƒä»¶æ¸¬è©¦å¯«å¾—æ›´å¥½ï¼Œé™¤äº†å…ˆå‰åœ¨å–®å…ƒæ¸¬è©¦æéçš„ä¸€äº›æ¦‚å¿µä¹‹å¤–ï¼Œé‚„æœ‰ä¸€äº›å€¼å¾—æ³¨æ„çš„äº‹é …ï¼š&lt;/p>
&lt;p>é¦–å…ˆï¼Œåœ¨æ’°å¯«å…ƒä»¶æ¸¬è©¦æ™‚çš„è§’åº¦ï¼Œæˆ‘å€‘ä¸¦æ²’æœ‰è¦ç•¶å€‹å…¨èƒ½å…¨çŸ¥çš„ç¥ï¼Œè€Œæ˜¯ä½œç‚ºã€Œ&lt;strong>ä½¿ç”¨è€…çš„è§’åº¦&lt;/strong>ã€é—œæ³¨å…ƒä»¶ä»‹é¢ä¸Šä¾†é æœŸçµæœï¼Œæ‰€ä»¥åœ¨æ¸¬è©¦çš„éç¨‹ä¸­æˆ‘å€‘è¦ã€Œ&lt;strong>é¿å…åˆå¯«äº†ä¸€æ¬¡å¯¦ä½œ&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>å¦å¤–ï¼Œå¦‚æœå…§éƒ¨é‚è¼¯éæ–¼è¤‡é›œæ™‚ï¼Œæˆ‘å€‘å‰‡æ‡‰è©²å…ˆæŠ½å–(extract)å…¶é‚è¼¯ï¼Œé€é composables çš„å¯«æ³•ä¾†å¼•å…¥ï¼Œå¦‚æ­¤ä¸€ä¾†æˆ‘å€‘å°±èƒ½ã€Œ&lt;strong>å°ˆæ³¨æ–¼åœ¨å…ƒä»¶æœ¬èº«çš„è¡Œç‚ºä¸Š&lt;/strong>ã€ï¼Œå¦å¤–ä¹Ÿèƒ½ã€Œ&lt;strong>é‡å° composable çš„é‚è¼¯å–®ç¨åšæ¸¬è©¦&lt;/strong>ã€ã€‚&lt;/p>
&lt;p>æœ€å¾Œï¼Œè‹¥å…ƒä»¶ä¸­æœ‰ä½¿ç”¨åˆ° API çš„éƒ¨åˆ†ï¼ŒåŒæ¨£çš„æˆ‘å€‘æ‡‰è©²æŠŠå®ƒç•¶ä½œæˆæ˜¯ä»–æä¾›çµ¦å…ƒä»¶å»ä½¿ç”¨ï¼Œè€Œå…ƒä»¶ä¸»è¦æ˜¯ã€Œ&lt;strong>æ¥æ”¶å›æ‡‰&lt;/strong>ã€å¾Œå°±èƒ½è‡ªè¡Œè™•ç†å¾ŒçºŒçš„å…§å®¹äº†ï¼Œæ‰€ä»¥åœ¨æ¸¬è©¦ä¸Šæˆ‘å€‘æ‡‰è©²å°ˆæ³¨åœ¨ API æä¾›äº†ä»€éº¼çµ¦å…ƒä»¶ï¼Œé€éæ¨¡æ“¬è³‡æ–™çš„éƒ¨åˆ†ä¾†é”æˆå…ˆå‰æéçš„ FIRST åŸå‰‡ä¸­çš„ Fastï¼Œæœ€å¾Œæ–·è¨€å…ƒä»¶æœ€çµ‚çš„è¡Œç‚ºæ˜¯å¦å¦‚é æœŸå³å¯ã€‚&lt;/p>
&lt;p>ç¾åœ¨æˆ‘å€‘çŸ¥é“ Vue Test Utils åœ¨åšä»€éº¼äº†ï¼Œä¹ŸçŸ¥é“ã€Œå…ƒä»¶æ¸¬è©¦ã€åœ¨åšä»€éº¼äº†ï¼Œä½†é€™è·Ÿå–®å…ƒæ¸¬è©¦åˆæœ‰ä»€éº¼é—œä¿‚å‘¢ï¼Ÿ&lt;/p>
&lt;h3 id="å…ƒä»¶æ¸¬è©¦èˆ‡å–®å…ƒæ¸¬è©¦çš„é—œä¿‚">å…ƒä»¶æ¸¬è©¦èˆ‡å–®å…ƒæ¸¬è©¦çš„é—œä¿‚&lt;/h3>
&lt;p>åœ¨å®˜æ–¹æ–‡ä»¶ä¸­&lt;a class="link" href="https://cn.vuejs.org/guide/scaling-up/testing.html#component-testing" target="_blank" rel="noopener"
>æ¸¬è©¦ç« ç¯€&lt;/a>æœ‰æåˆ°ï¼Œå…ƒä»¶æ¸¬è©¦(component testing)åœ¨é¡†ç²’åº¦ä¸Šå…¶å¯¦æ˜¯é«˜æ–¼å–®å…ƒæ¸¬è©¦(unit testing)çš„ï¼Œç”šè‡³å¯ä»¥è¢«è¦–ç‚ºæ˜¯æ•´åˆæ¸¬è©¦(integration testing)çš„ä¸€ç¨®å½¢å¼ã€‚&lt;/p>
&lt;p>è€ŒåŠé–“æœ‰ä¸å°‘æ–‡ç« ç¿’æ…£ä»¥å–®å…ƒæ¸¬è©¦ä¾†çµ±ç¨±é€™ä¸€é¡æ¸¬è©¦ï¼Œæœ€ä¸»è¦åŸå› æ˜¯å–®å…ƒæ¸¬è©¦çš„å®šç¾©ç‚ºã€Œè»Ÿé«”è¨­è¨ˆã€ä¸­æœ€å°å–®ä½çš„ç¨‹å¼æˆ–è¡Œç‚ºï¼Œåœ¨ Vue å°ˆæ¡ˆä¸­ï¼Œè‹¥ä»¥ Vue SFC é¡å‹æª”æ¡ˆ(.vue)ä¾†çœ‹å…¶å¯¦æ¸¬è©¦å…ƒä»¶ä¹Ÿç®—æ˜¯æœ€å°å–®ä½æ²’éŒ¯ã€‚&lt;/p>
&lt;p>æ‰€ä»¥å¾æ„ç¾©ä¸Šä¾†åŠƒåˆ†å–®å…ƒæ¸¬è©¦èˆ‡å…ƒä»¶æ¸¬è©¦ï¼ŒæŸæ–¹é¢ä¾†èªªå¾ˆå®¹æ˜“å‡ºç¾æ­§ç•°(ç”šè‡³å–®å…ƒæ¸¬è©¦æœ¬èº«å°±å·²ç¶“æœ‰åˆ†ç‚ºç¨ç«‹å‹èˆ‡ç¤¾äº¤å‹å¯«æ³•äº†)ã€‚&lt;/p>
&lt;p>ç„¶è€Œç‚ºäº†æ¥ä¸‹ä¾†åœ¨æœ¬ç³»åˆ—æ–‡ä¸­æ–¹ä¾¿å€åˆ†æŒ‡çš„æ¸¬è©¦å°è±¡æ˜¯å“ªéƒ¨åˆ†ï¼Œæˆ‘å°‡åç¨±å«ç¾©åˆ†ç‚ºï¼š&lt;/p>
&lt;ul>
&lt;li>å…ƒä»¶æ¸¬è©¦ï¼šé‡å° Vue å…ƒä»¶æ‰€é€²è¡Œçš„æ¸¬è©¦&lt;/li>
&lt;li>å–®å…ƒæ¸¬è©¦ï¼šé‡å°å…ƒä»¶å¼•å…¥å‡½å¼ã€é¡åˆ¥ç­‰ utilsã€helper èˆ‡ composable çš„æ¸¬è©¦ã€‚&lt;/li>
&lt;li>å·¥å…·æœ¬èº«ï¼šPinia æ¸¬è©¦ã€Vue Router æ¸¬è©¦ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="å…ƒä»¶æ¸¬è©¦å®¹å™¨wrapper">å…ƒä»¶æ¸¬è©¦ï¼šå®¹å™¨(Wrapper)&lt;/h2>
&lt;h3 id="mount">mount&lt;/h3>
&lt;p>ç•¶æˆ‘å€‘éœ€è¦åœ¨æ¸¬è©¦æ¡ˆä¾‹ä¸­å¼•å…¥å…ƒä»¶æ™‚ï¼Œæˆ‘å€‘å¯ä»¥é€é Vue Test Utils æä¾›çš„æ–¹æ³• &lt;code>mount&lt;/code> ä¾†åŒ…è£¹ Vue å…ƒä»¶ã€‚è€Œ &lt;code>mount&lt;/code> æ‰€è¿”å›çš„å…§å®¹é™¤äº† Vue å¯¦é«”ä¹‹å¤–ï¼Œé‚„åŒ…å«äº†ä¸€äº›æ–¹æ³•ï¼ˆWrapper methodsï¼‰å¯ä»¥è®“æˆ‘å€‘æ“ä½œå…ƒä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">component&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;@/component/BaseButton.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should emit clicked event after clicking button&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Arrange
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Act
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Assert
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">export&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">emitted&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toHaveProperty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;clicked&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‡è‹¥æˆ‘å€‘å¸Œæœ›åœ¨æ¸²æŸ“å…ƒä»¶çš„æ™‚å€™åŒæ™‚å¸¶è‘—é è¨­åƒæ•¸èˆ‡ç‹€æ…‹æ™‚ï¼ˆå¦‚ &lt;code>props&lt;/code>ã€&lt;code>slots&lt;/code>&amp;hellip;ç­‰ï¼‰ï¼Œå°±èƒ½å¤ é€é &lt;code>mount&lt;/code> æ–¹æ³•çš„ç¬¬äºŒå€‹åƒæ•¸å‚³å…¥è¨­å®šï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">options&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello, Props!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mounted&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, Props!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>è€Œé—œæ–¼æ–¹æ³•ï¼ˆWrapper methodsï¼‰èˆ‡é¸é …ï¼ˆWrapper optionsï¼‰çš„éƒ¨åˆ†ï¼Œæœƒæ ¹æ“šå…ƒä»¶ä½¿ç”¨ &lt;strong>Options API&lt;/strong> / &lt;strong>Composition API&lt;/strong> / &lt;strong>setup script&lt;/strong> èªæ³•ç³– è€Œæœ‰ä¸åŒçš„ç”¨æ³•èˆ‡é™åˆ¶ï¼Œå› æ­¤ä½¿ç”¨æ–¹æ³•èˆ‡å·®ç•°çš„éƒ¨åˆ†å°‡åœ¨å¾ŒçºŒæ¸¬è©¦å„ç¨®å…ƒä»¶æ™‚é™¸çºŒæœƒæåˆ°ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="shallowmount">shallowMount&lt;/h3>
&lt;p>åœ¨æ­£å¸¸çš„å°ˆæ¡ˆé–‹ç™¼ä¸‹ï¼Œå…ƒä»¶æ™‚å¸¸æœƒåµŒå…¥äº†å¦ä¸€å€‹å…ƒä»¶ï¼š&lt;/p>
&lt;h5 id="rootcomponentvue">RootComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ParentComponent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">ParentComponent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="parentcomponentvue">ParentComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ChildComponent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">ChildComponent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ChildComponent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">ChildComponent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ChildComponent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">ChildComponent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="childcomponentvue">ChildComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">baby&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>RootComponent çš„å…ƒä»¶æ¸¬è©¦ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">component&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./RootComponent.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should render corrent content&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;baby&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;baby&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;baby&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> `&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†å¦‚æ­¤ä¸€ä¾†è‹¥æˆ‘å€‘åœ¨æ¸¬è©¦ RootComponent å…ƒä»¶çš„æ™‚å€™ï¼Œå°±æœ‰å¯èƒ½å› ç‚ºåº•ä¸‹çš„ ChildComponent å…ƒä»¶æ›´æ”¹äº†å…§å®¹å°è‡´ RootComponent æ¸¬è©¦æ¡ˆä¾‹ä¹Ÿè·Ÿè‘—å¤±æ•—ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">baby&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥ã€Œæœ‰æ„ã€æƒ³è¦é¿å…é€™ç¨®æƒ…æ³ç™¼ç”Ÿï¼Œæ­¤æ™‚å°±å¯ä»¥å°‡ &lt;code>mount&lt;/code> æ›¿æ›æ‰ï¼Œæ”¹ä½¿ç”¨ &lt;code>shallowMount&lt;/code> ä¾†ä½œç‚ºå®¹å™¨ä½¿ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">component&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./RootComponent.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should render corrent content&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">shallowMount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>shallowMount&lt;/code> èˆ‡ &lt;code>mount&lt;/code> åœ¨ä½¿ç”¨ä¸Šå¹¾ä¹å¤§åŒå°ç•°ï¼Œè€Œå”¯ä¸€æœ‰å·®åˆ¥åœ¨æ–¼ä»–æœƒå°‡åŸå…ˆå…§éƒ¨æœ‰ç”¨åˆ°å…ƒä»¶çš„éƒ¨åˆ†ä»¥æ›¿æ›ç‚ºä¸€å€‹æ¨¡æ“¬å…ƒä»¶ï¼ˆstub componentï¼‰ï¼Œä¸¦ä¸”å‘½åæ”¹ä»¥çƒ¤è‚‰ä¸²å‘½åæ³•ï¼ˆ&lt;code>Kebab case&lt;/code>ï¼‰ä¸¦ä¸”åœ¨æœ€æœ«ç«¯åŠ ä¸Š &lt;code>-stub&lt;/code> ä¾›è¾¨è­˜ï¼š&lt;/p>
&lt;h5 id="rootcomponentvue-1">RootComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ParentComponent&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">ParentComponent&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¶“ shallowMount æ¸²æŸ“çµæœè®Šæˆï¼š&lt;/p>
&lt;h5 id="rootcomponentvue-2">RootComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">parent-component-stub&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/parent-component-stub&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†åœ¨æ’°å¯«æ¸¬è©¦æ¡ˆä¾‹æ™‚ï¼Œå°±å¯ä»¥é—œæ³¨åœ¨ç•¶ä¸‹ã€Œ&lt;strong>çˆ¶å±¤å…ƒä»¶&lt;/strong>ã€èˆ‡ã€Œ&lt;strong>å­å±¤å…ƒä»¶&lt;/strong>ã€çš„ä¹‹é–“çš„å…§å®¹ï¼Œè€Œä¸ç®¡ã€Œ&lt;strong>å­å±¤å…ƒä»¶&lt;/strong>ã€åº•ä¸‹æ‰€ç™¼ç”Ÿçš„äº‹æƒ…ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="nx">component&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./RootComponent.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should render corrent content&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">shallowMount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&amp;lt;parent-component-stub&amp;gt;&amp;lt;/parent-component-stub&amp;gt;`&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å®¹å™¨çš„æ–¹æ³•wrapper-methods---é¸æ“‡å™¨">å®¹å™¨çš„æ–¹æ³•ï¼ˆWrapper methodsï¼‰ - é¸æ“‡å™¨&lt;/h2>
&lt;p>åœ¨é€²è¡Œæ¸¬è©¦æ™‚ï¼Œå‰é¢ç« ç¯€æœ‰æåˆ°æˆ‘å€‘æœƒä½¿ç”¨ &lt;code>mount&lt;/code> æˆ– &lt;code>shallowMount&lt;/code> ä¾†åŒ…è£¹å…ƒä»¶ï¼Œå¾è€Œå¾—åˆ°ä¸€å€‹ &lt;code>VueWrapper&lt;/code>ï¼Œè€Œåœ¨é€™å€‹ &lt;code>VueWrapper&lt;/code> è£¡é ­æœ‰è¨±å¤šå¯¦ç”¨çš„å®¹å™¨æ–¹æ³•ï¼ˆWrapper methodsï¼‰ï¼Œé›–ç„¶å®˜æ–¹æ–‡ä»¶ä¸­ä¸¦æ²’æœ‰ç‰¹æ„åˆ†é¡ï¼Œä½†å¤§æ„ä¸Šå¯åˆ†ç‚ºå¹¾ç¨®æ–¹æ³•ï¼š&lt;/p>
&lt;ul>
&lt;li>æŸ¥è©¢ã€é¸æ“‡æŒ‡å®šçš„å…ƒç´ ã€å…ƒä»¶ç­‰é¸æ“‡å™¨&lt;/li>
&lt;li>å–å¾—ç›®æ¨™å±¬æ€§æˆ–å…§å®¹ï¼ˆclass, attributeï¼‰&lt;/li>
&lt;li>è§¸ç™¼ DOM äº‹ä»¶ï¼ˆå¦‚æ»‘é¼ é»æ“Šã€éµç›¤è¼¸å…¥èˆ‡æŒ‰éµâ‹¯â‹¯ç­‰ï¼‰&lt;/li>
&lt;li>å–å¾— emit äº‹ä»¶ã€è¨­ç½® data æˆ– propã€ç”šè‡³è§¸ç™¼å…ƒä»¶ &lt;code>unmmount&lt;/code> ç­‰ Vue API ç›¸é—œçš„æ–¹æ³•&lt;/li>
&lt;/ul>
&lt;p>é€™é‚Šè‘—é‡åœ¨æ–¼ä»‹ç´¹é¸æ“‡å™¨çš„æ–¹æ³•ä½¿ç”¨èˆ‡æ¸¬è©¦æ‡‰ç”¨ï¼Œæœ€å¾Œè£œä¸Šç›¸é—œçš„è¨è«–ï¼š&lt;/p>
&lt;ul>
&lt;li>å…ƒç´ ã€å…ƒä»¶é¸æ“‡å™¨&lt;/li>
&lt;li>åˆ¤æ–·ç›®æ¨™æ˜¯å¦å­˜åœ¨ï¼š&lt;code>exists&lt;/code> èˆ‡ &lt;code>isVisible&lt;/code>&lt;/li>
&lt;li>ä½¿ç”¨ &lt;code>data-* attribute&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="é¸æ“‡å™¨">é¸æ“‡å™¨&lt;/h3>
&lt;p>åœ¨é€²è¡Œå…ƒä»¶æ¸¬è©¦ï¼ˆcomponent testingï¼‰çš„éç¨‹ä¸­ï¼Œæœ‰æ™‚æˆ‘å€‘å¯èƒ½åªæƒ³é—œæ³¨åœ¨æŸå€‹ç‰¹å®š DOM æˆ–å…ƒä»¶çš„ç›¸é—œè³‡è¨Šæ™‚ï¼Œé€™æ™‚æˆ‘å€‘å°±å¯ä»¥é€éå®¹å™¨ä¸­çš„é¸æ“‡å™¨æ–¹æ³•ä¾†å°‹æ‰¾ï¼Œè€Œé¸æ“‡å™¨æ ¹æ“šé¸å–å°è±¡çš„ä¸åŒï¼Œä¸»è¦åˆ†ç‚ºï¼š&lt;/p>
&lt;ul>
&lt;li>å…ƒç´ ï¼ˆelementï¼‰é¸æ“‡å™¨&lt;/li>
&lt;li>å…ƒä»¶ï¼ˆcomponentï¼‰é¸æ“‡å™¨&lt;/li>
&lt;/ul>
&lt;h4 id="å…ƒç´ é¸æ“‡å™¨">å…ƒç´ é¸æ“‡å™¨&lt;/h4>
&lt;p>å…ƒç´ é¸æ“‡å™¨èªæ³•åŸºæœ¬ä¸Šæœ‰å…©ç¨®å¯«æ³•ï¼Œä¸€ç¨®æ˜¯åŸºæ–¼å…ƒç´ çš„ &lt;code>refs&lt;/code>ï¼Œå¦ä¸€ç¨®å‰‡æ˜¯ &lt;code>querySelector&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">ref&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;dogcat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">???&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;dog&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ç§‘åŸº&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;cat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">æ©˜è²“&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;cat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é»‘é»‘&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* ref */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;span&amp;#39;&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* querySelector */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#dog&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.cat&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œå®¹å™¨æ–¹æ³•æœ‰é—œé¸å–å…ƒç´ çš„é¸æ“‡å™¨ä¸€å…±åˆ†ç‚ºä¸‰ç¨®ï¼š&lt;/p>
&lt;ul>
&lt;li>find&lt;/li>
&lt;li>findAll&lt;/li>
&lt;li>get&lt;/li>
&lt;/ul>
&lt;p>é€™ä¸‰ç¨®é¸æ“‡å™¨åœ¨é¸å–åˆ°ç›®æ¨™å¾Œä¸»è¦éƒ½æ˜¯è¿”å› &lt;code>DOMWrapper&lt;/code>ï¼Œæ­¤æ™‚æˆ‘å€‘å°±å¯ä»¥åœ¨ä¸²é€£å…¶ä»–å®¹å™¨æ–¹æ³•ï¼ˆWrapper methodsï¼‰å¦‚ &lt;code>classes&lt;/code> æˆ– &lt;code>text&lt;/code> ç­‰ç­‰ä¾†å–å¾—å±¬æ€§æˆ–å…§å®¹è³‡è¨Šï¼Œåªæ˜¯è¿”å›çš„çµæœå…§å®¹æœƒæœ‰äº›å·®ç•°ã€‚&lt;/p>
&lt;p>æ¯”æ–¹ &lt;code>find&lt;/code>ã€&lt;code>findAll&lt;/code> çš„éƒ¨åˆ†ä¸»è¦å·®åˆ¥åœ¨æ–¼ &lt;code>findAll&lt;/code> è¿”å›çš„å…§å®¹æœƒè¢«æ”¾ç½®æ–¼é™£åˆ—ç•¶ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;dog&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ç§‘åŸº&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;cat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">æ©˜è²“&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;cat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">é»‘é»‘&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œæˆ‘å€‘å¯ä»¥é€éåƒé€™æ¨£çš„æ–¹å¼å–å¾—é™£åˆ—å…§çš„è³‡è¨Šï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should be display correct content&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;#dog&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// &amp;lt;DOMWrapper&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ç§‘åŸº&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should be display correct content&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">findAll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.cat&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// &amp;lt;DOMWrapper&amp;gt;[]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ©˜è²“&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;é»‘é»‘&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>æ³¨æ„ï¼šé€é findAll æ–·è¨€æ™‚æ˜¯ã€Œ&lt;strong>æœ‰åº&lt;/strong>ã€çš„ï¼Œå¾ˆå®¹æ˜“å—åˆ°é †åºæ”¹è®Šè€Œå°è‡´æ¸¬è©¦æ¡ˆä¾‹å¤±æ•—ï¼Œé™¤éæ’°å¯«æ¸¬è©¦æ¡ˆä¾‹ç›®æ¨™ä¹‹ä¸€å°±æ˜¯è¦ç¢ºä¿é †åºä¸æœƒèª¿å‹•ï¼Œå¦å‰‡æ”¹ç”¨ find æ–·è¨€æœƒæ¯”è¼ƒä¸å®¹æ˜“å—å½±éŸ¿ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>è€Œ &lt;code>find&lt;/code> èˆ‡ &lt;code>get&lt;/code> çš„å·®åˆ¥åœ¨æ–¼ &lt;code>find&lt;/code> æ‰¾ä¸åˆ°ç›®æ¨™æ™‚è¿”å›çš„æ˜¯ &lt;code>{}&lt;/code> å¾ŒçºŒè‹¥ä»ç¹¼çºŒæ“ä½œã€æ–·è¨€æ™‚æ‰æœƒç”±æ‹‹å‡ºéŒ¯èª¤ï¼ˆç”± &lt;code>ErrorWrapper&lt;/code> æä¾›ï¼‰ï¼›ç„¶è€Œ &lt;code>get&lt;/code> ä¸€é–‹å§‹è‹¥æ‰¾ä¸åˆ°ç›®æ¨™æ™‚å°±ç›´æ¥æ‹‹å‡ºéŒ¯èª¤ï¼ˆ&lt;code>throw Error&lt;/code>ï¼‰äº†ã€‚&lt;/p>
&lt;p>æ ¹æ“š &lt;a class="link" href="https://github.com/vuejs/test-utils/blob/f61b8aeb84352b29e29666326939531cd81c3bd6/src/errorWrapper.ts" target="_blank" rel="noopener"
>ErrorWrapper åŸå§‹ç¢¼&lt;/a>ï¼Œå¯ä»¥çœ‹è¦‹ä»–ä¸»è¦æ˜¯é‡å°å®¹å™¨æ–¹æ³•ä¸­çš„ &lt;code>exists()&lt;/code> æœƒè¿”å› &lt;code>false&lt;/code>ã€‚&lt;/p>
&lt;p>å› æ­¤åœ¨é‡å°æ‰¾ä¸åˆ°å…ƒç´ çš„æ¸¬è©¦æ¡ˆä¾‹åˆæ³•çš„å¯«æ³•å¯ä»¥é€™éº¼åšï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.something-that-does-not-exist&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toThrowError&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.something-that-does-not-exist&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">exists&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBeFalsy&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="find-åˆ¤æ–·å…ƒç´ é™·é˜±">find åˆ¤æ–·å…ƒç´ é™·é˜±&lt;/h4>
&lt;p>é­”é¬¼è—åœ¨ç´°ç¯€è£¡ï¼Œæˆ–è¨±ä½ å¯èƒ½æœƒæƒ³èªªç‚ºä»€éº¼ä¸ç›´æ¥ç”¨ &lt;code>find&lt;/code> é‚„è¦å†å¦å¤–é€é &lt;code>exists&lt;/code> åˆ¤æ–·å‘¢ï¼Œè®“æˆ‘å€‘çœ‹çœ‹ä¸€å€‹æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ç„¡é—œç·Šè¦çš„æ±è¥¿&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœé€™æ™‚ä½ é€™éº¼å¯«äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.something-that-does-not-exist&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBeTruthy&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// é€šé ï¼ï¼Ÿ
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸå› åœ¨æ–¼ &lt;code>find&lt;/code> åœ¨æ‰¾ä¸åˆ°çš„æƒ…æ³ä¸‹ç›®æ¨™çš„æƒ…æ³æ‰€è¿”å›çš„å€¼æœƒæ˜¯ &lt;code>ErrorWrapper&lt;/code> ç‰©ä»¶ï¼Œæ‰€ä»¥é€é &lt;code>toBeTruthy&lt;/code> æ–·è¨€å°±æœƒé€šéã€‚&lt;/p>
&lt;blockquote>
&lt;p>è€Œç‚ºäº†é¿å…é€™ç¨®æƒ…æ³ç™¼ç”Ÿï¼Œå®˜æ–¹æ–‡ä»¶å…¶å¯¦åªæœ‰è¼•ææ·¡è¿°åœ°èªªé“ï¼š&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>As a rule of thumb&lt;/strong>, always use get except when you are asserting something doesn&amp;rsquo;t exist. In that case use find.&lt;br>
ä½†ä¸Šæ–¹ç¶“é©—è€ƒé‡åœ¨å“ªï¼Œåªæœ‰åœ¨è¿½äº†ä»–å€‘ç›¸é—œçš„ &lt;a class="link" href="https://github.com/vuejs/test-utils/issues/138" target="_blank" rel="noopener"
>issue&lt;/a> æ‰æœƒé€æ¼¸æ˜ç™½è€ƒé‡çš„æ ¹æ“šï¼Œè€Œé—œæ–¼é€™éƒ¨åˆ†ï¼Œç”šè‡³é–‹ç™¼åœ˜éšŠæœªä¾†å¯èƒ½ä¹Ÿæœƒè€ƒæ…®å°‡ find æ–¹æ³•çµ¦æ‹”æ‰ï¼Œå‰©ä¸‹ exists æœ¬èº«ï¼Œä½†ç¤™æ–¼é€™æœƒæ˜¯å€‹ breaking change çš„åšæ³•ï¼Œæ‰€ä»¥åœ¨ vue-test-utils è·³å¤§ç‰ˆæœ¬è™Ÿä¹‹å‰æ‡‰è©²éƒ½æœƒæš«æ™‚ç¶­æŒåŸæ¨£ã€‚&lt;/p>
&lt;/blockquote>
&lt;/blockquote>
&lt;h4 id="å…ƒä»¶componenté¸æ“‡å™¨">å…ƒä»¶ï¼ˆcomponentï¼‰é¸æ“‡å™¨&lt;/h4>
&lt;ul>
&lt;li>findComponent&lt;/li>
&lt;li>findAllfindComponents (æ³¨æ„æœ‰å€‹ sï¼‰&lt;/li>
&lt;li>getComponent&lt;/li>
&lt;/ul>
&lt;p>åŸå‰‡ä¸Šä½¿ç”¨æ–¹å¼èˆ‡å…ƒç´ é¸æ“‡å™¨å·®ä¸å¤šï¼Œåªæ˜¯é¸å–èªæ³•ä¸Šé™¤äº† &lt;code>refs&lt;/code> èˆ‡ &lt;code>querySelector&lt;/code> èªæ³•ä¹‹å¤–ï¼Œé‚„å¤šäº†ï¼š&lt;/p>
&lt;ul>
&lt;li>Component nameï¼š &lt;code>findComponent({name: 'å…ƒä»¶åç¨±'})&lt;/code>&lt;/li>
&lt;li>å°‡ import SFC ç›´æ¥æ”¾å…¥æ–¹æ³•ä¸­ï¼š &lt;code>findComponent(Component)&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ä½†ç”±æ–¼ä½¿ç”¨ &lt;code>querySelector&lt;/code> ä¸Šä¹Ÿæœ‰ä¸€äº›&lt;a class="link" href="https://test-utils.vuejs.org/api/#findcomponent" target="_blank" rel="noopener"
>å°é™·é˜±&lt;/a>ï¼Œæ‰€ä»¥å€‹äººå»ºè­°ä»¥ SFC æ–¹å¼å¼•å…¥æˆ–æ˜¯ä¹¾è„†é€é &lt;code>shallowMount&lt;/code> å°‡å­å±¤å…ƒä»¶ stub æ‰ä¹Ÿæ˜¯ä¸€ç¨®æ–¹å¼ã€‚&lt;/p>
&lt;h3 id="åˆ¤æ–·ç›®æ¨™å­˜åœ¨">åˆ¤æ–·ç›®æ¨™å­˜åœ¨&lt;/h3>
&lt;p>ç¶“ç”±å‰›å‰›é™·é˜±çš„éƒ¨åˆ†å¤§å®¶æ‡‰è©²éƒ½å¾ˆæ¸…æ¥š &lt;code>exists()&lt;/code> çš„å­˜åœ¨äº†ï¼Œè€Œåˆ¤æ–·é¸å–ç›®æ¨™å…¶å¯¦ä»–é‚„æœ‰å€‹å¥½æœ‹å‹å°±æ˜¯ &lt;code>isVisible()&lt;/code>ï¼Œä½†ä»–å€‘åˆ¤æ–·å­˜åœ¨çš„å®šç¾©ä¸Šæœ‰ä¸€äº›å·®åˆ¥ï¼š&lt;/p>
&lt;ul>
&lt;li>exists()ï¼šä¸»è¦åˆ¤æ–·çš„æ˜¯è©²ç›®æ¨™å­˜ä¸å­˜åœ¨ DOM ä¸Šï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Hello&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">exist&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;p&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">exists&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;span&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">exists&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>isVisable()ï¼šä¸»è¦åˆ¤æ–·çš„æ˜¯è©²ç›®æ¨™å­˜åœ¨ DOM ä¸Šä¹‹å¤–ï¼Œè¦–è¦ºä¸Šæœ‰ç„¡é¡¯ç¤ºåœ¨ç•«é¢ä¸­ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="nt">v-if&lt;/span>&lt;span class="s">=&amp;#34;false&amp;#34; class=&amp;#34;dog&amp;#34;&amp;gt;ç§‘åŸº&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;p v-show=&amp;#34;true&amp;#34; class=&amp;#34;orange-cat&amp;#34;&amp;gt;æ©˜è²“&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;p v-show=&amp;#34;false&amp;#34; class=&amp;#34;black-cat&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="err">é»‘é»‘&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;v-if false&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.dog&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">isVisible&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBeFalsy&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// Errorï¼š ç›´æ¥å™´éŒ¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;v-show true&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.orange-cat&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">isVisible&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBeTruthy&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// æ¸¬è©¦é€šé
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;v-show false&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.black-cat&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">isVisible&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBeFalsy&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// æ¸¬è©¦é€šé
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é—œæ–¼ &lt;code>isVibile&lt;/code> æ›´ç‚ºè©³ç´°çš„åˆ¤æ–·å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>CSS style ä¸­ å«æœ‰ display: none =&amp;gt; &lt;code>false&lt;/code>&lt;/li>
&lt;li>CSS style ä¸­ å«æœ‰ visibility: hidden =&amp;gt; &lt;code>false&lt;/code>&lt;/li>
&lt;li>CSS style ä¸­ å«æœ‰ opacity :0 =&amp;gt; &lt;code>false&lt;/code>&lt;/li>
&lt;li>å…ƒç´ ä¸­ hidden å±¬æ€§ç‚º true =&amp;gt; &lt;code>false&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ç¶œåˆçµè«–ä¸Šæ–¹é™·é˜±èˆ‡åˆ¤æ–·æ–¹æ³•ï¼š&lt;/p>
&lt;ul>
&lt;li>è‹¥è¦åˆ¤æ–·å…ƒç´ æ˜¯å¦å­˜åœ¨ æˆ– &lt;code>v-if&lt;/code>ï¼šä½¿ç”¨ &lt;code>get&lt;/code> æ–¹æ³•æ˜¯æœ€ä¿éšªçš„ï¼ŒçœŸçš„è¦ç”¨ &lt;code>find&lt;/code> å‰‡ä¸€å®šè¦æ­é… &lt;code>exists&lt;/code>&lt;/li>
&lt;li>è‹¥è¦åˆ¤æ–· &lt;code>v-show&lt;/code>ï¼šä½¿ç”¨ &lt;code>find().isVisible()&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="ä½¿ç”¨-data--attribute">ä½¿ç”¨ data-* attribute&lt;/h3>
&lt;p>åœ¨æ’°å¯«æ¸¬è©¦æƒ…å¢ƒæ™‚ï¼Œè‹¥ä¾ç…§ä¸Šé¢çš„ &lt;code>querySelector&lt;/code> é¸äº†å…ƒç´ ã€id æˆ– class æ™‚ï¼ŒåˆæœŸä¸€å®šæœƒå¾ˆé–‹å¿ƒï¼Œå› ç‚ºä¸æœƒé‡åˆ°å¤ªå¤šå›°é›£ï¼Œä½†å¾€å¾Œåœ¨é–‹ç™¼çš„éç¨‹åŸ·è¡Œæ¸¬è©¦æ™‚å°±å¾ˆå®¹æ˜“æœ‰æ©Ÿæœƒé‡åˆ°å„ç¨®å•é¡Œã€‚&lt;/p>
&lt;p>åŸå…ˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;content&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ”¹æˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;content&amp;#34;&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">content&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>data-*&lt;/code> ä½œç‚ºé¸æ“‡ç›®æ¨™å¥½è™•æœ€ä¸»è¦åœ¨æ–¼é¡¯è‘—æ¨™è¨˜æ¸¬è©¦å…§å®¹ï¼Œè€Œé€™å½±éŸ¿åˆ°çš„ç¯„åœæœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>é–‹ç™¼æœŸï¼Œéç¨‹ä¸ç”¨æ“”å¿ƒæœƒå½±éŸ¿åˆ°æ¸¬è©¦ï¼Œå¦‚ä¸Šæ–¹æ‰€è¦‹ï¼Œæˆ‘åªè¦è®Šæ›´ data-test ä»¥å¤–çš„å…§å®¹ï¼Œé æœŸæ‡‰è©²ä¸æœƒå½±éŸ¿åˆ°æ¸¬è©¦é¸æ“‡çš„ç›®æ¨™ï¼Œä½¿æ¸¬è©¦æ¡ˆä¾‹éŒ¯èª¤èƒ½æ›´å°ˆæ³¨åœ¨æ–·è¨€çš„ç›®æ¨™ä¸Šï¼Œè€Œéé¸æ“‡ç›®æ¨™è¢«æ›¿æ›å°è‡´çš„éŒ¯èª¤ã€‚&lt;/li>
&lt;li>é‡æ§‹ï¼ˆrefactorï¼‰éç¨‹ï¼Œèƒ½æ¸…æ¥šæ¯”è¼ƒç¯„åœï¼Œè‹¥å°‡ä¾†èª¿æ•´çµæ§‹ï¼Œåªè¦å°‡å±¬æ€§è½‰ç§»åˆ°å°æ‡‰çš„ä½ç½®å³å¯ã€‚&lt;/li>
&lt;li>ç”Ÿç”¢æœŸï¼Œèƒ½å¤ é‡å°ç‰¹å®šçš„å±¬æ€§ç§»é™¤ï¼Œé¿å…ç•™ä¸‹å„ç¨®æ¸¬è©¦ç—•è·¡ï¼Œå°æ–¼åƒæ˜¯è¼”åŠ©é–±è®€è£ç½®ç­‰æŠ€è¡“ä¾†èªªå°±ä¸æœƒè¢«å½±éŸ¿åˆ°ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="åœ¨ç”Ÿç”¢ç’°å¢ƒåˆªé™¤-data--attribute">åœ¨ç”Ÿç”¢ç’°å¢ƒåˆªé™¤ data-* attribute&lt;/h4>
&lt;p>è‹¥æƒ³åœ¨ &lt;code>vitest&lt;/code> ä¸­ç§»é™¤ &lt;code>data-*&lt;/code> ä¹Ÿéå¸¸çš„ç°¡å–®ï¼Œæˆ‘å€‘åªéœ€è¦åœ¨ &lt;code>vite.config.js&lt;/code> è¨­å®šä¸­ï¼Œé‡å° Vue åº•ä¸‹çš„ç·¨è­¯é¸é …åšä¸€äº›èª¿æ•´å³å¯ï¼ˆåº•ä¸‹ç¤ºç¯„çš„ç‰ˆæœ¬ç‚ºç§»é™¤ &lt;code>data-test&lt;/code>ï¼Œè‹¥ä½¿ç”¨å…¶ä»–å‘½åè«‹è‡ªè¡Œèª¿æ•´å›‰ï¼‰ï¼š&lt;/p>
&lt;h5 id="viteconfigjs-2">vite.config.js&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">isProd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">process&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">env&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">NODE_ENV&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s1">&amp;#39;production&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">removeDataTestAttrs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">node&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">NodeTypes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Object&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">freeze&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ELEMENT&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ATTRIBUTE&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">node&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">type&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">NodeTypes&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;ELEMENT&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">node&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">node&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">prop&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">prop&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">type&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">NodeTypes&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;ATTRIBUTE&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nx">prop&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s1">&amp;#39;data-test&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1">// è«‹è‡ªè¡Œæ›¿æ›å‘½å data-test
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">(()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">plugins&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vue&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">compilerOptions&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">nodeTransforms&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">isProd&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">removeDataTestAttrs&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="p">[],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å®¹å™¨çš„æ–¹æ³•wrapper-methods---å–å¾—ç›®æ¨™è³‡è¨Š">å®¹å™¨çš„æ–¹æ³•(Wrapper methods) - å–å¾—ç›®æ¨™è³‡è¨Š&lt;/h2>
&lt;h3 id="åˆ¤æ–·å±¬æ€§">åˆ¤æ–·å±¬æ€§&lt;/h3>
&lt;h4 id="attributes">attributes&lt;/h4>
&lt;p>ç•¶ä½ æƒ³è¦ç¢ºèª &lt;code>&amp;lt;a&amp;gt;&lt;/code> ä¸­çš„ &lt;code>href&lt;/code> æ˜¯å¦å¸¶æœ‰æŒ‡å®šçš„é€£çµæˆ–æ˜¯æª¢æŸ¥ &lt;code>&amp;lt;img&amp;gt;&lt;/code> ä¸Šçš„å±¬æ€§æ™‚ï¼Œé€™æ™‚å°±å¯ä»¥é€é &lt;code>attributes&lt;/code> å–å¾—å±¬æ€§ã€‚&lt;/p>
&lt;p>è€Œ &lt;code>attributes&lt;/code> ç”¨æ³•ä¸»è¦æœ‰å…©ç¨®ï¼Œç›´æ¥ä½¿ç”¨æ™‚æœƒç²å–ç›®æ¨™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">link&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://ithelp.ithome.com.tw/&amp;#34;&lt;/span> &lt;span class="na">target&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;_blank&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">ithelp&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;link&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">attributes&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// { href: &amp;#39;https://ithelp.ithome.com.tw/&amp;#39;, &amp;#39;target&amp;#39;: &amp;#39;_blank&amp;#39; }
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç•¶æƒ³è¦ç›´æ¥å–å¾—ç‰¹å®šå±¬æ€§å€¼æ™‚ä¹Ÿå¯ä»¥ç›´æ¥å°‡å±¬æ€§åç¨±å¸¶å…¥åƒæ•¸ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">attributes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;target&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// &amp;#39;_blank&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="classes">classes&lt;/h4>
&lt;p>åŒæ¨£çš„ï¼Œè‹¥æƒ³è¦å°‹æ‰¾ &lt;code>class&lt;/code> å±¬æ€§çš„è©±å¯ä»¥é€é &lt;code>classes&lt;/code> èªæ³•å–å¾—è³‡è¨Šã€‚ä½ å¯èƒ½æœƒç›´è¦ºåœ°æƒ³åˆ° &lt;code>class&lt;/code> ä¹Ÿæ˜¯å±¬æ€§çš„ä¸€ç¨®é‚£æ‡‰è©²ç”¨ &lt;code>attributes('class')&lt;/code> æŸ¥è©¢ï¼Œç„¶è€Œé€™å…©è€…çš„å·®åˆ¥æœ€ä¸»è¦åœ¨æ–¼ç”¢å‡ºçš„çµæœæœƒæœ‰æ‰€ä¸åŒã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">section&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">wrap&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;container w-full h-full&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Title&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">section&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥ä½¿ç”¨ &lt;code>attributes('class')&lt;/code> æŸ¥è©¢çµæœå°‡æœƒæ˜¯å­—ä¸²å½¢å¼çš„è³‡æ–™ï¼Œå¾ŒçºŒè¦è™•ç†æ¯”å°ä¸Šçš„å•é¡Œæœƒç¨å¾®éº»ç…©ä¸€é»ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;wrap&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">attributes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;class&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// &amp;#34;container w-full h-full&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥æ˜¯ä½¿ç”¨ &lt;code>classes&lt;/code> èªæ³•æŸ¥è©¢çš„è©±å°‡å¾—åˆ°ä¸€å€‹é™£åˆ—çš„çµæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;wrap&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">classes&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// [&amp;#34;container&amp;#34;, &amp;#34;w-full&amp;#34;, &amp;#34;h-full&amp;#34;]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ™‚å°±å¯ä»¥é…åˆ &lt;code>toContain&lt;/code> ç­‰é™£åˆ—çš„æ–·è¨€ Matcher å¿«é€Ÿè™•ç†æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;wrap&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">classes&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;container&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å°æ–¼æ¸¬è©¦æ¨£å¼æ¡ç”¨åŸå­åŒ–è¨­è¨ˆçš„å·¥å…·ï¼ˆTailwind CSSã€Windi CSS ç­‰ï¼‰æœ‰å¥‡æ•ˆï¼Œæˆ‘å€‘å¯ä»¥å°‡è¦–è¦ºå±¤çš„é‚è¼¯é€é &lt;code>classes&lt;/code> çš„çµæœæ–·è¨€ã€‚&lt;/p>
&lt;p>å› ç‚ºé€™é¡åŸå­åŒ–è¨­è¨ˆå·¥å…·å¾€å¾€ä¾è³´ &lt;code>class&lt;/code> å±¬æ€§ä¾†åšæ¨£å¼ä¸Šçš„èª¿æ•´èˆ‡æ“´å……ï¼Œé€šå¸¸ç‚ºäº†ç¾è§€èˆ‡ç®¡ç†æ–¹ä¾¿æœƒé †ä¾¿åœ¨ä½¿ç”¨é€™é¡å·¥å…·æ™‚åŠ è£è‡ªå‹•æ’åºï¼ˆsortingï¼‰ &lt;code>class&lt;/code> å±¬æ€§ç­‰æ“´å……å·¥å…·ï¼Œå› æ­¤ &lt;code>class&lt;/code> çš„é †åºå°‡è®Šæˆä¸ç©©å®šçš„ç‹€æ…‹ã€‚&lt;/p>
&lt;p>å› æ­¤å…ƒç´ è‹¥å¾ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">content&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;A B C&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è®Šæˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">content&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;A C B&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°æ–¼å¿«ç…§æ¸¬è©¦ç­‰ Matcher (&lt;code>toMatchSnapshot&lt;/code>ã€&lt;code>toMatchInlineSnapshot&lt;/code>)ä¾†èªªå°‡æœƒé¡¯ç¤ºæ¸¬è©¦å¤±æ•—ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.content&amp;#39;&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toMatchSnapshot&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¿«ç…§æ¯”å°çµæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">- &lt;span class="nv">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;A B C&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ &lt;span class="nv">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;A C B&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œä»¥é™£åˆ—æ¯”å°æ˜¯å¦ã€ŒåŒ…å«ã€çš„æ–¹å¼ï¼Œå°‡ä¸å—å½±éŸ¿ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.content&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">classes&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;A&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.content&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">classes&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;B&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.content&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">classes&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;C&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åˆ¤æ–·å…§å®¹ç‰©">åˆ¤æ–·å…§å®¹ç‰©&lt;/h3>
&lt;h4 id="text">text&lt;/h4>
&lt;p>&lt;code>text&lt;/code> ä¸»è¦æ˜¯å–å¾—ç›®æ¨™å…ƒç´ ç¯€é»å¾Œä»£çš„æ‰€æœ‰æ–‡å­—ï¼š&lt;/p>
&lt;h5 id="rootcomponentvue-3">RootComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">target&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Root&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="childcomponentvue-1">ChildComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">child&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>mount&lt;/code> åŒ…è£å…ƒä»¶æ™‚ &lt;code>wrapper.find('[data-test=&amp;quot;target&amp;quot;]').text()&lt;/code> çš„çµæœå°‡æœƒæ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Rootchildchildchild
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>shallowMount&lt;/code> åŒ…è£å…ƒä»¶æ™‚ &lt;code>wrapper.find('[data-test=&amp;quot;target&amp;quot;]').text()&lt;/code> çš„çµæœå°‡æœƒæ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Root
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="html">html&lt;/h4>
&lt;p>èˆ‡ &lt;code>text&lt;/code> é¡ä¼¼ï¼Œä½† &lt;code>html&lt;/code> æœƒå°‡ç›®æ¨™å…ƒç´ å¾Œä»£æ‰€æœ‰å…ƒç´ éƒ½è¨˜éŒ„ä¸‹ä¾†ï¼š&lt;/p>
&lt;h5 id="rootcomponentvue-4">RootComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">target&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Root&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="childcomponentvue-2">ChildComponent.vue&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">child&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>mount&lt;/code> åŒ…è£å…ƒä»¶æ™‚ &lt;code>wrapper.find('[data-test=&amp;quot;target&amp;quot;]').html()&lt;/code> çš„çµæœå°‡æœƒæ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">Root
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>child&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>child&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>child&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>shallowMount&lt;/code> åŒ…è£å…ƒä»¶æ™‚ &lt;code>wrapper.find('[data-test=&amp;quot;target&amp;quot;]').html()&lt;/code> çš„çµæœå°‡æœƒæ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">Root
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component-stub&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">child-component-stub&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component-stub&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">child-component-stub&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component-stub&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">child-component-stub&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤åœ¨ä½¿ç”¨ &lt;code>text&lt;/code> èˆ‡ &lt;code>html&lt;/code> ä¾†é€²è¡Œæ–·è¨€æ™‚ï¼Œè¦æ³¨æ„åˆ°ã€Œ&lt;strong>æ¸¬è©¦æ‰€éœ€åŒ…å«çš„ç¯„åœ&lt;/strong>ã€ä»¥åŠã€Œ&lt;strong>å…ƒä»¶å®¹å™¨&lt;/strong>ã€æ‡‰æ¡ç”¨ &lt;code>mount&lt;/code> é‚„æ˜¯ &lt;code>shallowMount&lt;/code> ç­‰è­°é¡Œï¼Œæ‰èƒ½è®“æ¸¬è©¦æ›´åŠ å¼·éŸŒä¸”ä¸æœƒè®“å¾ŒçºŒé–‹ç™¼ç„¡ç›¸é—œçš„å…§å®¹æ™‚ä¸€ç›´è¢«æ¸¬è©¦æ””ä½ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å®¹å™¨çš„æ–¹æ³•wrapper-methods---æ¨¡æ“¬äº‹ä»¶">å®¹å™¨çš„æ–¹æ³•(Wrapper methods) - æ¨¡æ“¬äº‹ä»¶&lt;/h2>
&lt;h3 id="æ»‘é¼ äº‹ä»¶">æ»‘é¼ äº‹ä»¶&lt;/h3>
&lt;p>å¸¸è¦‹çš„ DOM äº‹ä»¶æœ‰ä¸‹åˆ—å¹¾ç¨®ï¼š&lt;/p>
&lt;ul>
&lt;li>æ»‘é¼ äº‹ä»¶ï¼šé»æ“Šï¼ˆclickï¼‰&lt;/li>
&lt;li>éµç›¤äº‹ä»¶ï¼šæŒ‰ä¸‹æŸéµï¼ˆkeydownï¼‰ã€é¬†é–‹æŸéµï¼ˆkeyupï¼‰&lt;/li>
&lt;li>è¡¨å–®äº‹ä»¶ï¼šé‡å° &lt;code>&amp;lt;input&amp;gt;&lt;/code> è¼¸å…¥å…§å®¹ã€&lt;code>checkbox&lt;/code> èˆ‡ &lt;code>radio&lt;/code> å‹¾é¸æˆ– &lt;code>&amp;lt;select&amp;gt;&lt;/code> ä¸­çš„é¸æ“‡å…§å®¹&lt;/li>
&lt;/ul>
&lt;p>é¦–å…ˆï¼Œèªæ³•æ–¹é¢é™¤äº†è¡¨å–®äº‹ä»¶ä¹‹å¤–ï¼Œè¦æ¨¡æ“¬å¤§éƒ¨åˆ†çš„äº‹ä»¶æˆ‘å€‘å¯ä»¥é€éå®¹å™¨æ–¹æ³•ä¸­çš„ &lt;code>trigger&lt;/code> æ–¹æ³•å³å¯è§¸ç™¼äº‹ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”¨æ³•æ˜¯åœ¨ç¬¬ä¸€å€‹åƒæ•¸ä¸­å‚³å…¥è¦è§¸ç™¼çš„ &lt;code>DOM&lt;/code> äº‹ä»¶åç¨±ï¼ˆe.g. &lt;code>click&lt;/code>ã€&lt;code>drag&lt;/code>ï¼‰ï¼Œå¦‚æœæœ‰éœ€è¦è£œå……è§¸ç™¼äº‹ä»¶çš„æ¢ä»¶ï¼Œæ¯”æ–¹åƒæ˜¯æŒ‰ä¸‹å“ªå€‹éµç›¤ï¼Œå°±å¯ä»¥é€éç¬¬äºŒå€‹åƒæ•¸å¸¶å…¥è³‡è¨Šï¼ˆe.g. &lt;code>{ keyCode: 65 }&lt;/code>ï¼‰ã€‚&lt;/p>
&lt;p>è€Œè¦æ³¨æ„åˆ°çš„æ˜¯ç”±æ–¼é€™äº›äº‹ä»¶åŸºæœ¬ä¸Šéƒ½æœƒæ˜¯&lt;strong>éåŒæ­¥&lt;/strong>çš„ç”¨æ³•ï¼Œæ‰€ä»¥åœ¨æ’°å¯«æ¸¬è©¦æ¡ˆä¾‹æ™‚å¯ä»¥ä½¿ç”¨ &lt;code>async/await&lt;/code> ä¾†è®“æ–·è¨€ï¼ˆAssertionï¼‰ä¿æŒæ­£ç¢ºçš„çµæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Arrange
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Act
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Assert
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="cm">/* ... */&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="cm">/* ... */&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ‰äº†é€™å€‹æ¦‚å¿µä¹‹å¾Œï¼Œæ¥ä¸‹ä¾†ä¾¿å¯ä»¥å¿«é€Ÿä¾†çœ‹çœ‹å¯¦éš›ä¸Šå„å€‹äº‹ä»¶è§¸ç™¼çš„å¯¦éš›æ¡ˆä¾‹èˆ‡äº‹ä»¶åç¨±ï¼Œä¸¦ä¸”è‘—é‡é—œæ³¨è¦ç‰¹åˆ¥æ³¨æ„çš„åœ°æ–¹ã€‚&lt;/p>
&lt;h3 id="æ»‘é¼ äº‹ä»¶-1">æ»‘é¼ äº‹ä»¶&lt;/h3>
&lt;ul>
&lt;li>é»æ“Šï¼š &lt;code>click&lt;/code>&lt;/li>
&lt;li>é›™æ“Šï¼š &lt;code>dblclick&lt;/code>&lt;/li>
&lt;li>æŒ‡å®šé»æ“Šï¼š &lt;code>click.left&lt;/code>ã€&lt;code>click.middle&lt;/code>ã€&lt;code>click.right&lt;/code>&lt;/li>
&lt;/ul>
&lt;h4 id="é»æ“Šèˆ‡é›™æ“Š">é»æ“Šèˆ‡é›™æ“Š&lt;/h4>
&lt;p>é»æ“Šèˆ‡é›™æ“Šçš„éƒ¨åˆ†æœ€ä¸»è¦éœ€è¦æ³¨æ„çš„éƒ¨åˆ†æ˜¯ï¼Œä»¥äº‹ä»¶ä¾†èªªçš„æ¦‚å¿µã€Œ&lt;strong>é›™æ“Šï¼ˆdblclickï¼‰&lt;/strong>ã€æ˜¯ä¸€å€‹äº‹ä»¶ï¼Œä¸¦éã€Œå…©å€‹ã€ã€Œ&lt;strong>é»æ“Šï¼ˆclickï¼‰&lt;/strong>ã€äº‹ä»¶ï¼š&lt;/p>
&lt;h5 id="å…ƒä»¶">å…ƒä»¶&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">content&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">button&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="nt">@click&lt;/span>&lt;span class="s">=&amp;#34;count++&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="na">Add&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="æ¸¬è©¦ç¨‹å¼ç¢¼">æ¸¬è©¦ç¨‹å¼ç¢¼&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;after click button should display correct content&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;button&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;content&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;button&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;content&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;button&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;dblclick&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// è§¸ç™¼ä¸åˆ° @click äº‹ä»¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;content&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;4&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// AssertionError
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æŒ‡å®šæŒ‰éµé»æ“Š">æŒ‡å®šæŒ‰éµé»æ“Š&lt;/h4>
&lt;p>æœ‰æ™‚å€™ä½ å¯ä»¥æœƒæƒ³è¦æŒ‡å®šæ»‘é¼ çš„æŒ‰éµä¾†è§¸ç™¼äº‹ä»¶ï¼Œé€™æ™‚å°±å¯ä»¥ä½¿ç”¨é¡ä¼¼ä¿®é£¾ç¬¦ï¼ˆmodifierï¼‰ä¸€æ¨£çš„æ–¹å¼ä¾†è§¸ç™¼äº‹ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>click.left&lt;/code>&lt;/li>
&lt;li>&lt;code>click.middle&lt;/code>&lt;/li>
&lt;li>&lt;code>click.right&lt;/code>&lt;/li>
&lt;/ul>
&lt;h5 id="å…ƒä»¶-1">å…ƒä»¶&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">button&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click.right&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">result &lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#39;here we go!&amp;#39;&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Are&lt;/span> &lt;span class="nx">You&lt;/span> &lt;span class="nx">ready&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">target&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="æ¸¬è©¦ç¨‹å¼ç¢¼-1">æ¸¬è©¦ç¨‹å¼ç¢¼&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should be display correct text&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;button&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click.right&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;here we go!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é™¤æ­¤ä¹‹å¤–ï¼Œéµç›¤èˆ‡æ»‘é¼ çš„æ“ä½œä¹Ÿå¯ä»¥èåˆå†ä¸€èµ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click.ctrl.left&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// å·¦éµé»æ“Šæ™‚åŒæ™‚æŒ‰è‘— ctrl éµ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click.alt.right&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// å³éµé»æ“Šæ™‚åŒæ™‚æŒ‰è‘— alt éµ
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="éµç›¤äº‹ä»¶">éµç›¤äº‹ä»¶&lt;/h3>
&lt;p>éµç›¤æœ€å¸¸è¦‹çš„æ ¸å¿ƒäº‹ä»¶ä¸»è¦ç‚ºï¼š&lt;/p>
&lt;ul>
&lt;li>æŒ‰ä¸‹æŸå€‹æŒ‰éˆ• &lt;code>keydown&lt;/code>&lt;/li>
&lt;li>é¬†é–‹æŸå€‹æŒ‰éˆ• &lt;code>keyup&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>ä¸Šè¿°äº‹ä»¶å¦‚åŒæŒ‡å®šæ»‘é¼ æŒ‰éµçš„å¯«æ³•ï¼Œä¸€æ¨£æ“æœ‰ä¿®é£¾ç¬¦çš„ç›¸é—œèªæ³•ï¼Œè€Œå¾Œæ–¹å¸¶çš„ä¿®é£¾ç¬¦ä¸»è¦ç‚ºæŒ‰éµçš„åç¨±ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;keydown.enter&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// æŒ‰ä¸‹ enter éµ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;keyup.up&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// é¬†é–‹ ä¸Šæ–¹å‘éµ
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŒæ¨£åœ°ï¼Œéµç›¤äº‹ä»¶ä¹Ÿæ”¯æ´å¤šé‡çš„çµ„åˆä¿®é£¾ç¬¦å¯«æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;keydown.ctrl.tab&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// æŒ‰ä¸‹ ctrl éµ + tab éµ
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥ä½ æƒ³è¦æ›´éˆæ´»çš„ä½¿ç”¨éµç›¤äº‹ä»¶ï¼Œä¹Ÿå¯ä»¥ç”¨ &lt;code>trigger&lt;/code> æ–¹æ³•çš„ç¬¬äºŒå€‹åƒæ•¸å¸¶å…¥éµç›¤çš„åç¨±ï¼Œè€Œç›®å‰æœ‰æ”¯æ´çš„å¯«æ³•ä¸»è¦æœ‰ä¸‹åˆ—ä¸‰ç¨®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;äº‹ä»¶åç¨±&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">code?&lt;/span>: &lt;span class="kt">event.code&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">key?&lt;/span>: &lt;span class="kt">event.key&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">keyCode?&lt;/span>: &lt;span class="kt">event.keycode&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥ä¸æ¸…æ¥šéµç›¤å°æ‡‰çš„ä»£è™Ÿä¹Ÿæ²’æœ‰é—œä¿‚ï¼Œæœ‰ä¸å°‘ç¶²ç«™å°ˆé–€æä¾›é¡ä¼¼çš„æœå‹™ä¾›æŸ¥è©¢ï¼Œæ¯”æ–¹åƒé€™å€‹ &lt;a class="link" href="https://www.toptal.com/developers/keycode/for/enter" target="_blank" rel="noopener"
>ç¶²ç«™&lt;/a> åªè¦æŒ‰ä¸‹ä»»ä¸€æŒ‰éµå°±æœƒå³æ™‚é¡¯ç¤ºéµç›¤å°æ‡‰çš„ä»£è™Ÿã€åç¨±ç­‰ç­‰ç›¸é—œè³‡è¨Šã€‚&lt;/p>
&lt;p>åœ¨æŸ¥åˆ°ä»£è™Ÿå¾Œæˆ‘å€‘å°±å¯ä»¥å°‡å…¶å¸¶å…¥å‰›æ‰çš„æ–¹æ³•ä¸­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;keydown&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">keyCode&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">13&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡³æ–¼è¦é¸æ“‡å“ªç¨®å¯«æ³•å°±çœ‹å ´æ™¯æœ¬èº«çš„éœ€æ±‚ä¾†åšæ±ºå®šå›‰ï¼&lt;/p>
&lt;h3 id="è¡¨å–®äº‹ä»¶">è¡¨å–®äº‹ä»¶&lt;/h3>
&lt;ul>
&lt;li>&lt;code>input&lt;/code> è¼¸å…¥&lt;/li>
&lt;li>&lt;code>checkbox&lt;/code> / &lt;code>radio&lt;/code> å‹¾é¸&lt;/li>
&lt;li>&lt;code>&amp;lt;select&amp;gt;&lt;/code> ä¸­çš„é¸æ“‡å…§å®¹&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>åŸå…ˆç‚ºäº†é‡å°ä¸åŒè¡¨å–®é¡å‹ï¼ŒVue Test Utils 1 ç‰ˆï¼ˆfor Vue2ï¼‰å·¥å…·æä¾›äº†ä¸€å€‹å°ˆå±¬çš„ &lt;code>setChecked&lt;/code> çš„ä¾†å°æ‡‰ &lt;code>checkbox&lt;/code> / &lt;code>radio&lt;/code> å‹¾é¸ç‹€æ…‹ï¼ˆcheckedï¼‰ï¼›é™¤æ­¤ä¹‹å¤–æ›¿ &lt;code>&amp;lt;select&amp;gt;&lt;/code> å…ƒç´ çš„é¸æ“‡æä¾›äº† &lt;code>setSelected&lt;/code> æ–¹æ³•ä¾†æ¨¡æ“¬é¸æ“‡è¡Œç‚ºã€‚&lt;/p>
&lt;/blockquote>
&lt;p>è€Œåœ¨ Vue Test utils 2 ç‰ˆæ™‚ï¼Œæˆ‘å€‘å°‡åªè¦çµ±ä¸€ä½¿ç”¨ &lt;code>setValue&lt;/code> å³å¯è‡ªå‹•å°æ‡‰æ‰€æœ‰è¡¨å–®çš„è¡Œç‚ºï¼&lt;/p>
&lt;h4 id="æ¨¡æ“¬-input-è¼¸å…¥">æ¨¡æ“¬ input è¼¸å…¥&lt;/h4>
&lt;p>è¼¸å…¥è¡¨å–®æˆ–æ˜¯æ“ä½œæ—¥æœŸé¸æ“‡å™¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="nt">v-model&lt;/span>&lt;span class="s">=&amp;#34;textResult&amp;#34; type=&amp;#34;text&amp;#34; data-test=&amp;#34;text&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;p data-test=&amp;#34;result_text&amp;#34;&amp;gt;{{textResult}}&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;input v-model=&amp;#34;dateResult&amp;#34; type=&amp;#34;date&amp;#34; data-test=&amp;#34;date&amp;#34;/&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;p data-test=&amp;#34;result_date&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span>&lt;span class="na">dateResult&lt;/span>&lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ–‡å­—è¼¸å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¨¡æ“¬ input è¼¸å…¥&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;text&amp;#34;&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, World!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;result_text&amp;#34;&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello, World!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é¸æ“‡æ—¥æœŸï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¨¡æ“¬ æ—¥æœŸ è¼¸å…¥&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;date&amp;#34;&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2022/10/06&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="nx">data&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;result_date&amp;#34;&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2022/10/06&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ¨¡æ“¬-radio-å‹¾é¸">æ¨¡æ“¬ radio å‹¾é¸&lt;/h4>
&lt;h5 id="å…ƒä»¶-2">å…ƒä»¶&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">radio_1&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;radio&amp;#34;&lt;/span> &lt;span class="nt">v-model&lt;/span>&lt;span class="s">=&amp;#34;radioResult&amp;#34; value=&amp;#34;1&amp;#34; /&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;input data-test=&amp;#34;radio_2&amp;#34; type=&amp;#34;radio&amp;#34; v-model=&amp;#34;radioResult&amp;#34; value=&amp;#34;2&amp;#34; /&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;p data-test=&amp;#34;result&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="na">radioResult&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="æ¸¬è©¦ç¨‹å¼ç¢¼-2">æ¸¬è©¦ç¨‹å¼ç¢¼&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¨¡æ“¬ radio å‹¾é¸è¡Œç‚º&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;radio_1&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;result&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;radio_2&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;result&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ¨¡æ“¬-checkbox-å‹¾é¸">æ¨¡æ“¬ checkbox å‹¾é¸&lt;/h4>
&lt;h5 id="å…ƒä»¶-3">å…ƒä»¶&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">checkbox_1&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;checkbox&amp;#34;&lt;/span> &lt;span class="nt">v-model&lt;/span>&lt;span class="s">=&amp;#34;checkboxResult&amp;#34; value=&amp;#34;1&amp;#34; /&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;input data-test=&amp;#34;checkbox_2&amp;#34; type=&amp;#34;checkbox&amp;#34; v-model=&amp;#34;checkboxResult&amp;#34; value=&amp;#34;2&amp;#34; /&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> &amp;lt;p data-test=&amp;#34;result&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="na">checkboxResult.join&lt;/span>&lt;span class="err">(&amp;#39;,&amp;#39;)&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="æ¸¬è©¦ç¨‹å¼ç¢¼-3">æ¸¬è©¦ç¨‹å¼ç¢¼&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¨¡æ“¬ checkbox å‹¾é¸è¡Œç‚º&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;checkbox_1&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;result&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;checkbox_2&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;result&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1,2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;checkbox_1&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;result&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ¨¡æ“¬-select-é¸æ“‡">æ¨¡æ“¬ select é¸æ“‡&lt;/h4>
&lt;h5 id="å…ƒä»¶-4">å…ƒä»¶&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">select&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">target&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="nt">v-model&lt;/span>&lt;span class="s">=&amp;#34;result&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;orange&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Orange&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">option&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;black&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">Black&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">option&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">select&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">result&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">result&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h5 id="æ¸¬è©¦ç¨‹å¼ç¢¼-4">æ¸¬è©¦ç¨‹å¼ç¢¼&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ¨¡æ“¬ select é¸æ“‡&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;orange&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;result&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;orange&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="æ¨¡æ“¬-vue-apis">æ¨¡æ“¬ Vue APIs&lt;/h2>
&lt;h3 id="data">data&lt;/h3>
&lt;p>æ³¨æ„ï¼šåœ¨æ¨¡æ“¬ data ä¹‹å‰éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å¤§éƒ¨åˆ†çš„æ¸¬è©¦æ™‚æˆ‘å€‘é€šå¸¸ä¸å¿…ç‰¹æ„å»æ¨¡æ“¬ dataï¼Œæ‡‰è©²è®“å…¶èˆ‡å…ƒä»¶æœ¬èº«çš„ç§æœ‰æ–¹æ³•ï¼ˆprivate methodï¼‰è‡ªç„¶äº’å‹•å³å¯ï¼Œè‹¥æœƒéœ€è¦é€éæ¨¡æ“¬ data ä¾†æ“ä½œå…ƒä»¶å‰‡è¦è§€å¯Ÿæ˜¯å¦è³‡æ–™èˆ‡å…ƒä»¶æœ¬èº«è€¦åˆäº†ï¼Œé€™ç¨®æƒ…æ³ä¸‹å¯èƒ½é€ æˆå…ƒä»¶æœ¬èº«ç„¡æ³•é«˜åº¦é‡è¤‡åˆ©ç”¨ã€‚&lt;/p>
&lt;h4 id="ç§æœ‰æ–¹æ³•private-method">ç§æœ‰æ–¹æ³•ï¼ˆprivate methodï¼‰&lt;/h4>
&lt;p>å°é–‰åœ¨å…ƒä»¶ã€ç‰©ä»¶&amp;hellip;ç­‰ç­‰ä¸­çš„å‡½å¼ï¼Œåœ¨å¤–éƒ¨ç„¡æ³•å­˜å–å¾—åˆ°ï¼Œe.gï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">add5&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">add&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">,)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">y&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">add5&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è£¡é ­çš„ add å‡½å¼å³ç‚ºç§æœ‰æ–¹æ³•ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥æ˜¯çœŸçš„æœ‰éœ€è¦ç”¨åˆ°æ¨¡æ“¬ &lt;code>data&lt;/code> å±¬æ€§æ™‚ï¼Œé¦–å…ˆè¦æ³¨æ„å…ƒä»¶æ˜¯ç”¨ä½•ç¨®æ–¹å¼ï¼ˆ&lt;strong>options API&lt;/strong> /&lt;strong>composition API&lt;/strong> èˆ‡ &lt;strong>&lt;code>&amp;lt;script setup&amp;gt;&lt;/code>&lt;/strong>ï¼‰ä¾†ä½¿ç”¨ &lt;code>data&lt;/code>ï¼Œå› ç‚ºå¯«æ³•ä¸Šå°‡æœƒæœ‰æ‰€ä¸åŒï¼›ä¸”ä¾ç…§è¨­å®šçš„æ™‚æ©Ÿé‚„å¯åˆ†ç‚ºã€Œ&lt;strong>åˆå§‹ç‹€æ…‹&lt;/strong>ã€èˆ‡ã€Œ&lt;strong>å¾ŒçºŒæ“ä½œ&lt;/strong>ã€ã€‚&lt;/p>
&lt;h3 id="dataoptions-api">dataï¼ˆoptions APIï¼‰&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">target&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">content&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>dataï¼ˆoption APIï¼‰åˆå§‹ç‹€æ…‹æ¨¡æ“¬ï¼Œå¯é€éå®¹å™¨ï¼ˆwrapperï¼‰çš„ç¬¬äºŒå€‹åƒæ•¸å¸¶å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* æ¸¬è©¦ç¨‹å¼ç¢¼ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥è¦æ¨¡æ“¬å¾ŒçºŒæ‰è¨­å®š dataï¼ˆoption APIï¼‰ï¼Œå‰‡å¯ä»¥é€éå®¹å™¨æ–¹æ³•ä¸­çš„ &lt;code>setData()&lt;/code> è¨­ç½®ï¼Œæ­¤å¤–ç”±æ–¼æ˜¯éåŒæ­¥çš„æ–¹æ³•ï¼Œè¦è¨˜å¾— &lt;code>async/await&lt;/code> æ‰èƒ½ç¢ºä¿æ–·è¨€æ­£ç¢ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setData&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="datacomposition-api-script-setup-èªæ³•ç³–">dataï¼ˆcomposition API, &lt;code>&amp;lt;script setup&amp;gt;&lt;/code> èªæ³•ç³–ï¼‰&lt;/h3>
&lt;h4 id="composition-api">composition APIï¼š&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">content&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="script-setup-èªæ³•ç³–">&lt;code>&amp;lt;script setup&amp;gt;&lt;/code> èªæ³•ç³–ï¼š&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">content&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™ä¸€é¡é€é &lt;code>setup()&lt;/code> æ‰€è™•ç†çš„è³‡æ–™ï¼Œè‹¥è¦æ¨¡æ“¬æœƒé‡åˆ°ä¸å°‘å•é¡Œã€‚&lt;/p>
&lt;p>åœ¨å®¹å™¨æ–¹æ³•ä¸­çš„ç¬¬äºŒå€‹åƒæ•¸æ‰€æä¾›çš„æ–¹å¼ï¼ŒåŸå…ˆæ˜¯ä¾›æ‡‰çµ¦ &lt;code>options&lt;/code> API ä¸­çš„ &lt;code>data&lt;/code> å±¬æ€§æ‰€ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘å€‘å¿…é ˆæ”¹ä»¥æ³¨å…¥çš„æ–¹å¼åµŒå…¥ &lt;code>setup()&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/* æ¸¬è©¦ç¨‹å¼ç¢¼ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">monut&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†å¦‚æ­¤ä¸€ä¾†ï¼Œå…ƒä»¶ä¸­åŸå…ˆå…¶ä»–å¯«åœ¨ &lt;code>setup()&lt;/code> å…§çš„ç‹€æ…‹ç­‰å°±å¿…é ˆä¸€èµ·æ¨¡æ“¬ï¼Œé‚„è¨˜å¾—å¥½çš„å…ƒä»¶æ¸¬è©¦å®ˆå‰‡ä¹‹ä¸€å—ï¼Ÿæ²’éŒ¯ï¼Œå°±æ˜¯ä¸è¦é‡è¤‡å¯¦è¸å¯¦ä½œã€‚&lt;/p>
&lt;p>é‚£æ¯”è¼ƒå¥½çš„æ–¹å¼ä¹‹ä¸€å°±æ˜¯é€éå®¹å™¨æ–¹æ³•ä¸­ï¼ˆwrapperï¼‰å–å¾—å¯¦é«”ä¾†è¨­ç½®è®Šæ•¸ï¼Œä¸¦ä¸”é€é &lt;code>nextTick&lt;/code> æ–¹æ³•ç¢ºä¿æ¸²æŸ“çµæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="cm">/* æ¸¬è©¦ç¨‹å¼ç¢¼ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">monut&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">content&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;text&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç‰ˆæœ¬1: ç›´æ¥ä½¿ç”¨ vm å…§çš„ $nextTick
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">vm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">$nextTick&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç‰ˆæœ¬2: ä½¿ç”¨ vue çš„ nextTick
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// import { nextTick } from &amp;#39;vue&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// await nextTick()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œé—œæ–¼ç§æœ‰æ–¹æ³•æˆ–è®Šæ•¸çš„æ¨¡æ“¬ï¼Œæˆ–è¨±å°‡ä¾† Vue Test Utils é–‹ç™¼åœ˜éšŠæœƒå°æ­¤æœ‰äº›æ”¹è§€æä¾›ä¸€äº›é€ƒç”Ÿè‰™çš„æ–¹æ³•ï¼Œä¸éç›®å‰æ¯”è¼ƒä¸€è‡´çš„è§’åº¦æ˜¯ç›¡é‡åˆ¥å°é€™ä¸€é¡çš„ç§æœ‰ç’°å¢ƒæ‰æœ‰çš„è®Šæ•¸èˆ‡æ–¹æ³•å»åšæ¨¡æ“¬ï¼Œå³æ™‚çš„ç›¸é—œè¨è«–å¯è¦‹æ–¼&lt;a class="link" href="https://github.com/vuejs/test-utils/pulls?q=composition" target="_blank" rel="noopener"
>é€™è£¡&lt;/a>ã€‚&lt;/p>
&lt;h3 id="props">props&lt;/h3>
&lt;p>åœ¨ä¸æ¨¡æ“¬ç§æœ‰æƒ…å¢ƒçš„å‰æä¹‹ä¸‹ï¼Œprop ç›¸è¼ƒèµ·ä¾†å–®ç´”å¤šäº†ï¼Œè€Œé—œæ–¼æ¸¬è©¦ props çš„éƒ¨åˆ†ä¸»è¦æœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>æ¨¡æ“¬ props å‚³å…¥å¾Œï¼Œæ–·è¨€ã€Œå¾ŒçºŒçš„ç‹€æ…‹ã€ã€‚&lt;/li>
&lt;li>æ–·è¨€ã€Œæ˜¯å¦å‚³å…¥å°çš„åƒæ•¸çµ¦å­å…ƒä»¶ã€ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="æ¨¡æ“¬-props-å‚³å…¥">æ¨¡æ“¬ props å‚³å…¥&lt;/h4>
&lt;p>è¦æ¨¡æ“¬ props å‚³å…¥çš„æ–¹æ³•ä¾ç…§æ™‚æ©Ÿå¯åˆ†ç‚ºã€Œ&lt;strong>åˆå§‹ç‹€æ…‹&lt;/strong>ã€èˆ‡ã€Œ&lt;strong>å¾ŒçºŒæ“ä½œ&lt;/strong>ã€ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">target&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">content&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆå§‹ç‹€æ…‹åŒæ¨£æ˜¯è—‰ç”±å®¹å™¨ï¼ˆWrapperï¼‰ä¸­çš„ç¬¬äºŒå€‹åƒæ•¸å‚³å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥æƒ³è¦å¾ŒçºŒæ‰å‚³å…¥ &lt;code>props&lt;/code> å‰‡å¯ä»¥é€éå®¹å™¨æ–¹æ³• &lt;code>setProps&lt;/code> æ¨¡æ“¬ï¼Œä¸¦ä¸”ä¸€æ¨£è¦å°å¿ƒéåŒæ­¥çš„å•é¡Œï¼Œè¨˜å¾—è£œä¸Š &lt;code>async / await&lt;/code> ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">props&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setProps&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Good bye&amp;#39;&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Good bye&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ–·è¨€æ˜¯å¦å‚³å…¥å°-props-åƒæ•¸çµ¦å­å…ƒä»¶">æ–·è¨€æ˜¯å¦å‚³å…¥å° props åƒæ•¸çµ¦å­å…ƒä»¶&lt;/h3>
&lt;p>æ—¢ç„¶æœ‰æ¥æ”¶çš„ä¸€æ–¹ï¼Œé‚£å°±è‡³å°‘æœƒæœ‰çµ¦äºˆçš„ä¸€æ–¹ã€‚&lt;/p>
&lt;p>åœ¨ &lt;code>props&lt;/code> é©—è­‰ä¸­çš„å¦ä¸€ç¨®æ–¹å¼å°±æ˜¯é©—è­‰çµ¦äºˆå…¶ä»–å…ƒä»¶çš„åƒæ•¸æ˜¯å¦æ­£ç¢ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">BaseLightbox&lt;/span> &lt;span class="na">content&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="na">Hello&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="na">enableMask&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;true&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é¦–å…ˆæˆ‘å€‘è¦åšçš„æ˜¯é€éä¹‹å‰å­¸çš„é¸æ“‡å™¨æ–¹æ³•é¸åˆ°ç‰¹å®šçš„å…ƒä»¶ï¼Œæ¥è‘—é€éå®¹å™¨æ–¹æ³•åº•ä¸‹çš„ &lt;code>props()&lt;/code> ä¾†å–çš„å‚³é€è³‡è¨Šï¼Œæ¥è‘—å°±å¯ä»¥é€éæ–·è¨€ Matcher ä¾†æ¯”å° props çµ¦å…ƒä»¶çš„è³‡è¨Šæ˜¯å¦æ­£ç¢ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">BaseLightbox&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;./BaseLightbox.vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">BaseLightbox&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">content&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">enableMask&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">content&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Hello&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">enableMask&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="emit">emit&lt;/h3>
&lt;p>åœ¨æ–·è¨€ä¸­æˆ‘å€‘è¦æ¸¬è©¦ &lt;code>emit&lt;/code> ä¸»è¦æ˜¯è©¦åœ–æ•ç²å…ƒä»¶æ‰€ç™¼ç”Ÿçš„äº‹ä»¶ï¼Œä¸¦æ–·è¨€äº‹ä»¶èˆ‡å€¼æ˜¯å¦å¦‚æˆ‘å€‘æ‰€é æœŸï¼Œè€Œé€™æ™‚å¯ä»¥é€éå®¹å™¨æ–¹æ³•ä¸­çš„ &lt;code>emitted()&lt;/code> ä¾†å–å¾—äº‹ä»¶ç™¼é€æ‰€æœ‰çš„ç´€éŒ„ã€‚&lt;/p>
&lt;p>è€Œ &lt;code>emitted&lt;/code> ä¸­æ‰€ç´€éŒ„çš„æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">&amp;#39;äº‹ä»¶åç¨±&amp;#39;:&lt;/span> &lt;span class="err">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">[/*&lt;/span> &lt;span class="err">ç¬¬ä¸€æ¬¡ç™¼é€çš„å€¼&lt;/span> &lt;span class="err">*/],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">[/*&lt;/span> &lt;span class="err">ç¬¬äºŒæ¬¡ç™¼é€çš„å€¼&lt;/span> &lt;span class="err">*/],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">[/*&lt;/span> &lt;span class="err">ç¬¬&lt;/span> &lt;span class="err">n&lt;/span> &lt;span class="err">æ¬¡ç™¼é€çš„å€¼&lt;/span> &lt;span class="err">*/]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤å‡è¨­æˆ‘å€‘æœ‰ä¸€å€‹ &lt;code>pagination&lt;/code> å…ƒä»¶å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">first&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;$emit(&amp;#39;changePage&amp;#39;, &amp;#39;first&amp;#39;)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ç¬¬ä¸€é &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">prev&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;$emit(&amp;#39;changePage&amp;#39;, &amp;#39;prev&amp;#39;)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ä¸Šä¸€é &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;$emit(&amp;#39;changePage&amp;#39;, &amp;#39;next&amp;#39;)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ä¸‹ä¸€é &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">last&lt;/span>&lt;span class="err">&amp;#34;&lt;/span> &lt;span class="err">@&lt;/span>&lt;span class="na">click&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;$emit(&amp;#39;changePage&amp;#39;, &amp;#39;last&amp;#39;)&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">æœ€å¾Œä¸€é &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨æ–·è¨€çš„æ™‚å€™æˆ‘å€‘å¯ä»¥é€éä¸‹åˆ—æ–¹å¼æª¢æŸ¥æ˜¯å¦ç™¼é€å°æ‡‰çš„ emit äº‹ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>é€é &lt;code>toHaveProperty&lt;/code> ç¢ºèª &lt;code>emitted&lt;/code> å±¬æ€§ç¢ºèªæ˜¯å¦ç™¼é€ã€Œ&lt;strong>é æœŸäº‹ä»¶åç¨±&lt;/strong>ã€&lt;/li>
&lt;li>é€é &lt;code>emitted().äº‹ä»¶åç¨±&lt;/code> ç¢ºèªè©²äº‹ä»¶åç¨±ã€Œ&lt;strong>ç™¼ç”Ÿæ¬¡æ•¸&lt;/strong>ã€&lt;/li>
&lt;li>é€é &lt;code>emitted().äº‹ä»¶åç¨±[index]&lt;/code> ç¢ºèªè©²äº‹ä»¶åç¨±ï¼Œç¬¬å¹¾æ¬¡é€å‡ºçš„ã€Œ&lt;strong>å€¼&lt;/strong>ã€&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">await&lt;/span> &lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;first&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">trigger&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">emitted&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toHaveProperty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;changePage&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">emitted&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">changePage&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toHaveLength&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">emitted&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">changePage&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">toEqual&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;first&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="provide">provide&lt;/h3>
&lt;p>å°æ–¼æœ‰ä½¿ç”¨åˆ° &lt;code>provide&lt;/code> çš„å…ƒä»¶ä¾†èªªï¼Œæˆ‘å€‘éœ€è¦ç¢ºä¿ä»–æä¾›é æœŸçš„ &lt;code>inject&lt;/code> å…§å®¹ï¼Œå› æ­¤æˆ‘å€‘è¦å»ºç«‹ä¸€å€‹ç”¨ä¾†æ¥æ”¶ &lt;code>provide&lt;/code> çš„å…ƒä»¶ï¼Œæ¥è‘—æ‰èƒ½é€éæ–·è¨€ä¾†æ¸¬è©¦å‚³éçš„å…§å®¹æ˜¯å¦å¦‚é æœŸã€‚&lt;/p>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘ä»¥é€™å€‹å…ƒä»¶ç‚ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ChildComponent&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">provide&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">readonly&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">ref&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provide&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">readonly&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">count&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶è€Œæˆ‘å€‘ç‚ºäº†è®“æ¸¬è©¦æ¡ˆä¾‹ä¿æŒç¨ç«‹æ€§ï¼Œå› æ­¤æˆ‘å€‘è¦é€éé€ å‡çš„å…ƒä»¶ä¾†æ¸¬è©¦ &lt;code>inject&lt;/code> æ‰€æ¥æ”¶åˆ°çš„æ˜¯å¦å¦‚é æœŸã€‚&lt;/p>
&lt;h4 id="é€éå…ƒä»¶å®¹å™¨ä¸­çš„-globalstubs-æ¨¡æ“¬å‡å…ƒä»¶">é€éå…ƒä»¶å®¹å™¨ä¸­çš„ global.stubs æ¨¡æ“¬å‡å…ƒä»¶&lt;/h4>
&lt;p>é€éå…ƒä»¶å®¹å™¨ï¼ˆWrapperï¼‰ä¸­çš„ç¬¬äºŒå€‹åƒæ•¸ &lt;code>global.stubs&lt;/code> æˆ‘å€‘å¯ä»¥å°‡å­å…ƒä»¶æ¸²æŸ“æˆæˆ‘å€‘æƒ³è¦çš„æ¨£å­ï¼Œè€Œæ¨¡æ“¬çš„æ–¹å¼ä¸€å…±åˆ†ç‚ºå…©ç¨®ï¼š&lt;/p>
&lt;ul>
&lt;li>æ¸²æŸ“æˆ &lt;code>&amp;lt;-stub&amp;gt;&lt;/code> å…ƒä»¶&lt;/li>
&lt;/ul>
&lt;p>ç•¶ &lt;code>global.stub[ç›®æ¨™å…ƒä»¶åç¨±]&lt;/code> ç‚º &lt;code>true&lt;/code> æ™‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">TargetComponent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">stubs&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChildComponent&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘çš„ç›®æ¨™å…ƒä»¶å°‡æœƒè¢«æ¸²æŸ“ç‚ºå¸¶æœ‰ &lt;code>-stub&lt;/code> å¾Œç¶´çš„å…ƒç´ ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ChildComponent&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span> &lt;span class="c">&amp;lt;!--&lt;/span> &lt;span class="nx">æœƒè®Šæˆ&lt;/span> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">child-component-stub&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/child-component-stub&amp;gt; --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶è€Œé€™å°æ–¼æˆ‘å€‘è¦æ¸¬è©¦ &lt;code>provide&lt;/code> ä¾†èªªæ²’æœ‰å¹«åŠ©ï¼Œå› ç‚ºä»–æ²’æœ‰è¾¦æ³•æ¥æ”¶ &lt;code>inject&lt;/code> è³‡è¨Šï¼Œå› æ­¤æˆ‘å€‘è¦æ¡ç”¨ä¸‹é¢ç¬¬äºŒç¨®æ–¹æ³•ã€‚&lt;/p>
&lt;ul>
&lt;li>æ¸²æŸ“æˆç‰¹å®šå…ƒä»¶&lt;/li>
&lt;/ul>
&lt;p>è¦æ¸²æŸ“æˆç‰¹å®šå…ƒä»¶çš„æ–¹å¼ï¼Œå°±æ˜¯å…ˆè£½ä½œä¸€å€‹å‡å…ƒä»¶ï¼Œæ¥è‘—å†æä¾›çµ¦ &lt;code>global.stubs&lt;/code> ä¾†ç•¶ä½œåŸå…ˆæ‡‰è©²è¦æ¸²æŸ“çš„å…ƒä»¶ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œæˆ‘å€‘å¯ä»¥é€é Vue æä¾›çš„ &lt;code>defineComponent&lt;/code> å»ºé€ å…ƒä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineComponent&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">TestComponent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineComponent&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;p data-test=&amp;#34;target&amp;#34;&amp;gt;{{ count }}&amp;lt;/p&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">inject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">value&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—åœ¨æ¸¬è©¦æ¡ˆä¾‹å°±å¯ä»¥é€é &lt;code>global.stubs&lt;/code> ä¸­ç›´æ¥ä½¿ç”¨é€™å€‹æ¸¬è©¦å…ƒä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">defineComponent&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">TestComponent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineComponent&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;p data-test=&amp;#34;target&amp;#34;&amp;gt;{{ count }}&amp;lt;/p&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">inject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">value&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">TargetComponent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">stubs&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChildComponent&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">TestComponent&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†å…ƒä»¶ &lt;code>ChildComponent&lt;/code> åœ¨æ¸¬è©¦æ¡ˆä¾‹ä¸­çš„æ¸²æŸ“çµæœå°‡è®Šæˆæˆ‘å€‘æŒ‡å®šçš„æ¨£å­ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span> &lt;span class="na">data-test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;target&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>1&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤æˆ‘å€‘ç¾åœ¨å°±å¯ä»¥æ–·è¨€ &lt;code>provide&lt;/code> æä¾›çš„å…§å®¹æ˜¯å¦æ­£ç¢ºäº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">TestComponent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">defineComponent&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;p data-test=&amp;#34;target&amp;#34;&amp;gt;{{ count }}&amp;lt;/p&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">inject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;...&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">TargetComponent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">stubs&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ChildComponent&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">TestComponent&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="inject">inject&lt;/h3>
&lt;p>å°æ–¼æœ‰ä½¿ç”¨åˆ° &lt;code>inject&lt;/code> çš„å…ƒä»¶ä¾†èªªï¼Œæˆ‘å€‘åœ¨æ„çš„æ˜¯æä¾› &lt;code>provide&lt;/code> ç‰¹å®šçš„å€¼ä¹‹å¾Œï¼Œç•«é¢ä¸Šæ¸²æŸ“çš„çµæœæ˜¯å¦æ­£ç¢ºã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">data&lt;/span>&lt;span class="nt">-test&lt;/span>&lt;span class="err">=&amp;#34;&lt;/span>&lt;span class="na">target&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;{{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}}&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">inject&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="nx">from&lt;/span> &lt;span class="s1">&amp;#39;vue&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">inject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">count&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ™‚æˆ‘å€‘å¯ä»¥é€éå…ƒä»¶å®¹å™¨ï¼ˆWrapperï¼‰ä¸­çš„ç¬¬äºŒå€‹åƒæ•¸ &lt;code>global&lt;/code> ä¾†æŒ‡å®šè¦æä¾›çš„ &lt;code>provide&lt;/code> å€¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">TargetComponent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provide&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ€å¾Œæˆ‘å€‘å°±å¯ä»¥ç›´æ¥æ–·è¨€æ¸²æŸ“çš„çµæœæ˜¯å¦å¦‚é æœŸï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should be render correct content after providing count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">TargetComponent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">provide&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">count&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="slots">slots&lt;/h3>
&lt;p>è€Œåœ¨é‡å° &lt;code>slots&lt;/code> æ’°å¯«æ¸¬è©¦æ™‚ï¼Œè¦æ³¨æ„çš„åœ°æ–¹æœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>slots&lt;/code> è‡³å°‘æœƒæœ‰é è¨­æœªå‚³å…¥çš„ç‹€æ…‹èˆ‡å‚³å…¥è³‡æ–™å¾Œçš„ç‹€æ…‹å…©ç¨®ï¼Œæ–·è¨€æ™‚æ‡‰è©²è‡³å°‘åŒ…å«é€™å…©ç¨®ç‹€æ…‹ã€‚&lt;/li>
&lt;li>ä»¥ &lt;code>slots&lt;/code> è¡Œç‚ºä½œç‚ºæ¡ˆä¾‹æ–·è¨€æ™‚ï¼Œæ–·è¨€å…§å®¹è¦å°ˆæ³¨åœ¨ &lt;code>slots&lt;/code> æ‰€å½±éŸ¿ç¯„åœå…§ï¼Œå¦å‰‡å¯èƒ½æœƒå—å…¶ä»–å› ç´ å¹²æ“¾ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="é è¨­æ’æ§½default-slots">é è¨­æ’æ§½ï¼ˆDefault slotsï¼‰&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¦é‡å°æœ€åŸºæœ¬çš„é è¨­æ’æ§½åšæ–·è¨€æ™‚ï¼Œæˆ‘å€‘å¯ä»¥é€éå®¹å™¨ä¸­ç¬¬äºŒå€‹åƒæ•¸å¸¶å…¥ &lt;code>slots&lt;/code> æ¬„ä½ä¾†æ¨¡æ“¬å¸¶å…¥å…§å®¹ä¸¦é€é &lt;code>default&lt;/code> å±¬æ€§å‚³å…¥æŒ‡å®šçš„ç¯„åœå…§ã€‚&lt;/p>
&lt;p>æœªå‚³å…¥æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;default slot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toMatchInlineSnapshot&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‚³å…¥æ™‚æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;default slot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">slots&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Slot Content&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Slot Content&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="å…·åæ’æ§½named-slots">å…·åæ’æ§½ï¼ˆNamed slotsï¼‰&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;header&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;body&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;footer&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‹¥åœ¨æ’æ§½çš„å‹æ…‹ç‚ºå…·åæ’æ§½ï¼Œåœ¨æ’°å¯«æ¸¬è©¦æ¡ˆä¾‹æ™‚çš„å®¹å™¨é¸é … &lt;code>slots&lt;/code> å°±å¯ä»¥ä¾æ“šæ’æ§½åç¨± &lt;code>name&lt;/code> æŒ‡å®šè¦å‚³å…¥çš„å…§å®¹ã€‚&lt;/p>
&lt;p>æœªå‚³å…¥æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;named slot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toMatchInlineSnapshot&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‚³å…¥æ™‚æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;named slot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">slots&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">header&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ithelp 2022 éµäººè³½&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">body&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;vue3 å–®å…ƒæ¸¬è©¦&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">footer&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;by Shawn&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toMatchInlineSnapshot&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä½œç”¨åŸŸæ’æ§½scoped-slots">ä½œç”¨åŸŸæ’æ§½ï¼ˆScoped slotsï¼‰&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-vue" data-lang="vue">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">è²“å’ªå’–å•¡å»³&lt;/span>&lt;span class="err">ï¼š&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">åº—é•·&lt;/span>&lt;span class="err">ï¼š&lt;/span>&lt;span class="nx">Shawn&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">slot&lt;/span> &lt;span class="nt">:staffInfo&lt;/span>&lt;span class="s">=&amp;#34;staffInfo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">slot&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">staffInfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;black-cat&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;é»‘é»‘&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;signature-dish&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;æ‹¿éµ&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;orange-cat&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;é˜¿æ©˜&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;signature-dish&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;ç„¦ç³–ç‘ªå¥‡æœµ&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ‰æ™‚å€™æˆ‘å€‘å¯èƒ½æƒ³è¦çµ¦äºˆæ›´é«˜åº¦çš„å½ˆæ€§ï¼Œä½¿å…ƒä»¶é€é &lt;code>&amp;lt;slot&amp;gt;&lt;/code> å‚³éè³‡æ–™çµ¦çˆ¶å±¤æ™‚ï¼Œé€™æ™‚å€™å°±æœƒç”¨åˆ°ä½œç”¨åŸŸæ’æ§½ã€‚&lt;/p>
&lt;p>æœªå‚³å…¥æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;scoped slots&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toMatchInlineSnapshot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;&amp;lt;div&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;è²“å’ªå’–å•¡å»³ï¼š&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;åº—é•·ï¼šShawn&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;/div&amp;gt;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> `&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‚³å…¥æ™‚æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;scoped slots&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">slots&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;template #staffInfo&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;åº—å“¡ï¼š{{ staffInfo[&amp;#39;orange-cat&amp;#39;][&amp;#39;name&amp;#39;] }}&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;é™å®šé …ç›®ï¼š{{ staffInfo[&amp;#39;black-cat&amp;#39;][&amp;#39;signature-dish&amp;#39;] }}&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;/template&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> `&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toMatchInlineSnapshot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;#34;&amp;lt;div&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;è²“å’ªå’–å•¡å»³ï¼š&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;åº—é•·ï¼šShawn&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;åº—å“¡ï¼šé˜¿æ©˜&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;p&amp;gt;é™å®šé …ç›®ï¼šæ‹¿éµ&amp;lt;/p&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> &amp;lt;/div&amp;gt;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sb"> `&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ’æ§½è¼‰å…¥é¸é …mounting-options">æ’æ§½è¼‰å…¥é¸é …ï¼ˆMounting optionsï¼‰&lt;/h4>
&lt;p>è‹¥æƒ³åœ¨æ¸¬è©¦æ¡ˆä¾‹ä¸­ç”¨ä¸åŒçš„æ–¹å¼ä¾†æ¨¡æ“¬ slotsï¼Œå¯ä»¥é€éä¸‹é¢å››ç¨®èªæ³•ï¼š&lt;/p>
&lt;ul>
&lt;li>å‚³å…¥ SFC æª”æ¡ˆ&lt;/li>
&lt;li>&lt;code>render function&lt;/code>&lt;/li>
&lt;li>åŒ…å« &lt;code>template&lt;/code> å±¬æ€§çš„ç‰©ä»¶&lt;/li>
&lt;li>ç›´æ¥å‚³å…¥ä¸€å€‹å­—ä¸²&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should render same layout&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Layout&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">slots&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Component&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// default: h(&amp;#39;div&amp;#39;, &amp;#39;ç›¸åŒå…§å®¹&amp;#39;),
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// default: { template: &amp;#39;&amp;lt;div&amp;gt;ç›¸åŒå…§å®¹&amp;lt;/div&amp;gt;&amp;#39; },
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// default: &amp;#39;&amp;lt;div&amp;gt;ç›¸åŒå…§å®¹&amp;lt;/div&amp;gt;&amp;#39;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">()).&lt;/span>&lt;span class="nx">toContain&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;lt;div&amp;gt;ç›¸åŒå…§å®¹&amp;lt;/div&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="custom-directives">custom directives&lt;/h3>
&lt;p>å®¢è£½åŒ–æŒ‡ä»¤æœ¬èº«æ­é…äº†é¡ä¼¼å…ƒä»¶ç”Ÿå‘½é€±æœŸçš„ Hooksï¼Œè€Œæˆ‘å€‘å¯ä»¥åœ¨é‚£äº› Hook ä¸­ä»»æ„å°æˆ‘å€‘æ‰€ç¶å®šçš„å…ƒç´ åšé–‹ç™¼ï¼Œè®“ç¹è¤‡çš„é‚è¼¯é€éç°¡å–®çš„æŒ‡ä»¤å°±èƒ½å¤ é‡è¤‡åˆ©ç”¨ï¼Œä½¿æˆ‘å€‘åœ¨é–‹ç™¼éç¨‹ä¸­çš„é–‹ç™¼è€…é«”é©—ï¼ˆDeveloper experience, DXï¼‰æœ‰éå¸¸è‰¯å¥½çš„é«”é©—ã€‚&lt;/p>
&lt;p>ä½†ç›¸å°çš„ä¾†èªªï¼Œè¦æ¸¬è©¦å®¢è£½åŒ–æŒ‡ä»¤å°±æœ‰æ©Ÿæœƒé‹ç”¨åˆ°å„ç¨®æˆ‘å€‘è‡³ä»Šå­¸éçš„è¨±å¤šæŠ€å·§ä¾†æ–·è¨€ï¼Œå¾è€Œä½¿é›£åº¦å¤§å¤§æå‡ï¼Œä½†æˆ‘å€‘åªè¦ç†Ÿæ‚‰ä¹‹å‰çš„æ¨¡æ“¬æŠ€å·§å¾Œï¼Œæœ€å¾Œåªéœ€è¦é—œæ³¨çš„ä¸€å€‹åœ°æ–¹å°±æ˜¯ï¼Œé æœŸæŒ‡ä»¤æ”¾å…¥å¾Œæ‡‰é”æˆä»€éº¼ç›®æ¨™ï¼Œæ¥è‘—å†å»å°‹æ‰¾è¦å¾ä»€éº¼è§’åº¦æˆ–å¯å–å¾—çš„è³‡è¨Šå»æ¯”å°ä¾†ä½œç‚ºæˆ‘å€‘æ–·è¨€çš„å…§å®¹å³å¯ã€‚&lt;/p>
&lt;p>è€Œæ¥ä¸‹ä¾†æˆ‘å€‘ä»¥ä¸€å€‹ &lt;code>v-foucs&lt;/code> çš„å®¢è£½åŒ–æŒ‡ä»¤ä¾†ä»‹ç´¹å¦‚ä½•æ–·è¨€å®¢è£½åŒ–æŒ‡ä»¤èˆ‡å°‹æ‰¾æ¯”å°è³‡è¨Šï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">vFocus&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">mounted&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">el&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">el&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>è¨»å†ŠæŒ‡ä»¤&lt;/li>
&lt;/ol>
&lt;p>é¦–å…ˆï¼Œè¦é€²è¡Œæ–·è¨€æˆ‘å€‘å¯ä»¥é€éå®¹å™¨ä¸­ç¬¬äºŒå€‹åƒæ•¸çš„ &lt;code>global.directives&lt;/code> ä¾†è¨»å†Šæˆ‘å€‘çš„å®¢è£½åŒ–æŒ‡ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(...,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">directives&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Focus&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">vFocus&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å±¬æ€§åŒ¹é…çš„åç¨±è¦å‰‡ Abc æœƒ match åˆ° v-abc
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>ä»¿é€ å…ƒä»¶ä¸¦æ”¾å…¥æŒ‡ä»¤&lt;/li>
&lt;/ol>
&lt;p>æ¥è‘—æˆ‘å€‘è¦ä½¿ç”¨åˆ°ä»¿é€ å…ƒä»¶çš„æŠ€å·§ï¼Œè®“å®¹å™¨ä¸€é–‹å§‹å°±è¼‰å…¥ä¸€å€‹å‡çš„å…ƒä»¶ï¼Œä¸¦ä¸”æ”¾å…¥æŒ‡ä»¤èˆ‡ &lt;code>data-test&lt;/code> å±¬æ€§ä¾›æ•ç²ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">Component&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;input v-focus data-test=&amp;#34;target&amp;#34; type=&amp;#34;text&amp;#34;/&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(...,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">directives&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Focus&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">vFocus&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>å°‹æ‰¾æ¯”å°ç›®æ¨™&lt;/li>
&lt;/ol>
&lt;p>å†ä¾†ï¼Œç”±æ–¼ç›®æ¨™æ˜¯ç‚ºäº†é©—è­‰æ˜¯å¦è©²å…ƒç´ ç‚ºç€è¦½å™¨ä¸­çš„ &lt;code>focus&lt;/code> å…ƒç´ ï¼Œå› æ­¤è¦åˆ©ç”¨åˆ°ç€è¦½å™¨ç‰©ä»¶ &lt;code>Document&lt;/code> ä¸­çš„ &lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/API/Document/activeElement" target="_blank" rel="noopener"
>activeElement&lt;/a> å±¬æ€§ï¼Œè‹¥æœ‰è¢«èšç„¦çš„æƒ…æ³ä¸‹é‚£æ‡‰è©²è¦èƒ½å¤ æ¯”å°åˆ°åŒå€‹å…ƒç´ ã€‚ï¼ˆç”± &lt;code>jsdom&lt;/code> æä¾›æ¨¡æ“¬çš„ç€è¦½å™¨ç’°å¢ƒï¼‰&lt;/p>
&lt;ol start="4">
&lt;li>æ–·è¨€&lt;/li>
&lt;/ol>
&lt;p>æœ€å¾Œåœ¨æ–·è¨€çš„éƒ¨åˆ†ï¼Œç‚ºäº†å–å¾—ç›®æ¨™å…ƒç´ ï¼Œæˆ‘å€‘å¯ä»¥é€é &lt;code>wrapper.find().element&lt;/code> å–å¾—ç›®æ¨™çš„å…ƒç´ å¯¦é«”ï¼Œæœ€å¾Œå°±å¯ä»¥æ‹¿ä»–èˆ‡ &lt;code>document.activeElement&lt;/code> åšæ¯”å°ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;v-focus&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">Component&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">template&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;input v-focus data-test=&amp;#34;target&amp;#34; type=&amp;#34;text&amp;#34;/&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">wrapper&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">mount&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Component&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">attachTo&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">global&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">directives&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">Focus&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">vFocus&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">wrapper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[data-test=&amp;#34;target&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">activeElement&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†æˆ‘å€‘å°±å¯ä»¥ç¢ºä¿å°‡ä¾†åœ¨ä½¿ç”¨ &lt;code>v-focus&lt;/code> æŒ‡ä»¤æ™‚ï¼Œè©²å…ƒç´ åœ¨ &lt;code>mounted&lt;/code> å¾Œæœƒæ˜¯èšç„¦çš„å…ƒç´ ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="vitest-ui">Vitest UI&lt;/h2>
&lt;p>&lt;a class="link" href="https://cn.vitest.dev/guide/ui.html" target="_blank" rel="noopener"
>Vitest UI&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161206_9aa54df3c4_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;a class="link" href="https://cn.vitest.dev/guide/ui.html" target="_blank" rel="noopener"
>Vitest UI&lt;/a> ç°¡å–®ä¾†èªªï¼Œæ˜¯å¦ä¸€ç¨®ä¾›æˆ‘å€‘æŸ¥çœ‹æ¸¬è©¦èˆ‡ç·¨å¯«æ¸¬è©¦çš„æ–¹å¼ï¼Œå®ƒçš„ç‰¹è‰²åœ¨æ–¼åŸºæ–¼ Vite çš„ dev server ç’°å¢ƒï¼Œè®“æˆ‘å€‘å¯ä»¥ç›´æ¥åœ¨ç€è¦½å™¨ä¸Šç›´æ¥è§€çœ‹æ¸¬è©¦æ¡ˆä¾‹çš„æ¸¬è©¦çµæœï¼Œç”šè‡³æ”¯æ´ç›´æ¥åœ¨ç€è¦½å™¨ä¸­ç·¨å¯«æ¸¬è©¦æ¡ˆä¾‹å¾ŒåŒæ­¥æ›´æ–°æ¸¬è©¦æª”æ¡ˆã€‚&lt;/p>
&lt;p>è€Œåœ¨ä½¿ç”¨é€™é …é…·é…·çš„åŠŸèƒ½ä¹‹å‰ï¼Œæˆ‘å€‘éœ€è¦å¦å¤–å®‰è£ &lt;code>@vitest/ui&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm i -D @vitest/ui
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—å°±å¯ä»¥åœ¨ &lt;code>package.json&lt;/code> ä¸­æ–°å¢ä¸€å€‹ &lt;code>vitest&lt;/code> æŒ‡ä»¤ï¼Œä¸¦å¸¶ä¸Šåƒæ•¸ &lt;code>--ui&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;vitest:ui&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vitest --ui&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€ä¾†å¾Œå€‘åªè¦åŸ·è¡Œ &lt;code>npm run vitest:ui&lt;/code>ï¼Œå°±å¯ä»¥åœ¨å•Ÿå‹•é€™é …åŠŸèƒ½ï¼Œä¸¦çœ‹åˆ°ä¸‹åˆ—ç•«é¢ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421744_551a7db867_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="ä»‹é¢">ä»‹é¢&lt;/h3>
&lt;p>åœ¨ Vitest UI ä¸­ï¼Œå·¦å´æ˜¯æ‰€æœ‰æ¸¬è©¦æ¡ˆä¾‹çš„æ¸¬è©¦çµæœï¼ˆPass / Fail / Skipï¼‰ï¼Œæˆ‘å€‘å¯ä»¥é€éä¸Šæ–¹çš„æœå°‹æ¬„è¼¸å…¥æª”åæˆ–è·¯å¾‘æ‰¾åˆ°æˆ‘å€‘è¦è§€å¯Ÿçš„æ¸¬è©¦ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593587045_97da336a0d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é»æ“Šå·¦å´çš„æ¸¬è©¦è·¯å¾‘å¾Œï¼Œå³å´æœƒå‡ºç¾æ¸¬è©¦æƒ…å¢ƒèˆ‡æ¸¬è©¦æ¡ˆä¾‹çš„æè¿°è®“æˆ‘å€‘æ›´å¥½è§€å¯Ÿç•¶ä¸‹æª”æ¡ˆä¸­çš„æ‰€æœ‰æ¡ˆä¾‹&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161251_c8b36c5b5e_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é™¤æ­¤ä¹‹å¤–ï¼Œå†å¾€å³å´æœƒçœ‹åˆ°å››é …è³‡è¨Šï¼Œåˆ†åˆ¥ç‚ºï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421784_8bdb3d761f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;ul>
&lt;li>Reportï¼ˆé è¨­é¡¯ç¤ºé …ç›®ï¼‰&lt;/li>
&lt;li>Module Graph&lt;/li>
&lt;li>Console&lt;/li>
&lt;li>Code&lt;/li>
&lt;/ul>
&lt;h3 id="report">Report&lt;/h3>
&lt;p>é»æ“Š Report é ç±¤æ™‚ï¼Œæœƒåœ¨å³å´é¡¯ç¤ºè©²æ¸¬è©¦æª”æ¡ˆä¸­çš„æ‰€æœ‰æ¸¬è©¦æ¡ˆä¾‹çµæœã€‚&lt;/p>
&lt;p>è‹¥ç‚ºå…¨é€šéçš„æƒ…æ³æœƒé¡¯ç¤º &lt;code>All tests passed in this file&lt;/code>ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161276_9256c5cd61_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>è‹¥æœ‰éŒ¯èª¤æœƒé¡¯ç¤ºæ˜¯å“ªä¸€æ¢æ¸¬è©¦æ¡ˆä¾‹ç™¼ç”ŸéŒ¯èª¤ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52592678942_4d1f1140cd_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æˆ‘å€‘ç”šè‡³èƒ½é»æ“ŠéŒ¯èª¤è¨Šæ¯å³æ–¹çš„é–‹å•Ÿè¦–çª— Iconï¼ŒVitest UI å°‡æœƒç›´æ¥å•Ÿå‹•ç³»çµ±é è¨­çš„ç¨‹å¼ç¢¼ç·¨è¼¯å™¨ï¼Œé–‹å•Ÿæ¸¬è©¦æª”æ¡ˆå¾Œå°‡è¼¸å…¥æ¸¸æ¨™èšç„¦åœ¨éŒ¯èª¤çš„è¡Œæ•¸èˆ‡ä½ç½®ã€‚ï¼ˆe.g. åœ–ä¸­çš„ &lt;code>toEqual&lt;/code> Assertion Matcherï¼‰&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161331_e16935173c_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="module-graph">Module Graph&lt;/h3>
&lt;p>æ¥è‘—æ˜¯ç¬¬äºŒå€‹é ç±¤çš„ &lt;code>Module Graph&lt;/code>ï¼Œé€™é çš„å…§å®¹ä¸»è¦æ˜¯é€éæª¢æ¸¬è¡Œå…§å¼•å…¥æ¨¡çµ„ï¼Œå‘ˆç¾æª”æ¡ˆä¹‹é–“ä¾è³´é—œä¿‚ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421854_0fbbe57891_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é»æ“Šåœ–ä¸­çš„ç¯€é»å¯ä»¥çœ‹åˆ°è©²æ¨¡çµ„çš„ Source æª”èˆ‡ç¶“ç”± Transformed å¾Œçš„ç¨‹å¼ç¢¼ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593587155_3ee1de6d49_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>è€Œé€™å€‹åœ–è¡¨æœ€å¤§çš„ç”¨è™•åœ¨æ–¼ï¼Œé€éå¯è¦–åŒ–çš„æ–¹å¼å‘ˆç¾å‡ºæ¸¬è©¦ç¨‹å¼ç¢¼ä¸­å—æ¸¬ç‰©ï¼ˆSUTï¼‰èˆ‡ä¾è³´ç‰©ï¼ˆDOCï¼‰çš„ä¾è³´ç‹€æ³ã€‚&lt;/p>
&lt;h3 id="console">Console&lt;/h3>
&lt;p>Console é ç±¤ä¸»è¦æ˜¯é¡¯ç¤ºåœ¨æ¸¬è©¦ç¨‹å¼ç¢¼ä¸­çš„ &lt;code>console.log&lt;/code> è³‡è¨Šï¼Œç”±æ–¼èˆ‡æ¸¬è©¦çµæœåˆ†é›¢çš„æƒ…æ³ä¸‹ï¼Œç›¸è¼ƒæ–¼åœ¨çµ‚ç«¯æ©Ÿä¸­è§€å¯Ÿ Consoleï¼Œé€™è£¡æœƒé¡¯ç¤ºå¾—æ›´åŠ æ¸…æ¥šã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421919_3ea6a5b14f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="code">Code&lt;/h3>
&lt;p>æœ€å¾Œå£“è»¸ä»‹ç´¹çš„éƒ¨åˆ†ï¼Œå‰‡æ˜¯ Code é ç±¤ï¼Œä½ å¯èƒ½æœƒè¦ºå¾—é€™æœ‰ä»€éº¼ç‰¹åˆ¥çš„ï¼Œä¸å°±æ˜¯é¡¯ç¤ºæ¸¬è©¦æª”æ¡ˆç¨‹å¼ç¢¼å—ï¼Ÿ&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161396_0a9ca152a2_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç„¶è€Œï¼Œé€™è£¡çš„æ¸¬è©¦ç¨‹å¼ç¢¼é™¤äº†é è¦½ä¹‹å¤–ï¼Œé‚„èƒ½å¤ ç›´æ¥åœ¨ç€è¦½å™¨ä¸­ç›´æ¥ç·¨å¯«ä¸¦åŸ·è¡Œæ¸¬è©¦æŸ¥çœ‹çµæœï¼Œæ›´é‡è¦çš„æ˜¯å¯«å®Œçš„ç•¶ä¸‹æŒ‰ä¸‹å„²å­˜å®ƒé‚„èƒ½å¤ åŒæ­¥èª¿æ•´åˆ°å¯¦éš›çš„ç¨‹å¼ç¢¼ä¸­ï¼&lt;/p>
&lt;p>æ¯”æ–¹åœ¨ç€è¦½å™¨ä¸­çš„æ¸¬è©¦ç¨‹å¼ç¢¼ä¸­åŠ å€‹è¨»è§£ï¼Œä¸¦å„²å­˜ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593421979_128985ea34_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å¯¦éš›æ¸¬è©¦ç¨‹å¼ç¢¼æª”æ¡ˆä¹ŸåŠ ä¸Šäº†è¨»è§£ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593680043_347cf27fd6_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å¦‚æ­¤ä¸€ä¾†ï¼Œæˆ‘å€‘å°±å¯ä»¥ç›´æ¥åœ¨é€™å€‹è¦–çª—å…§æ’°å¯«æˆ‘å€‘çš„æ¸¬è©¦æ¡ˆä¾‹ï¼Œä¸¦ä¸”åœ¨ç€è¦½å™¨ä¸­å³æ™‚çœ‹åˆ°æ¸¬è©¦çµæœã€‚&lt;/p>
&lt;p>ä¸éé€™è£¡æœ‰å€‹å°å°ç¼ºé»æ˜¯ï¼Œè‹¥åœ¨å°ˆæ¡ˆä¸­æœ‰è¨­å®š eslint + prettier çš„è©±ï¼Œåœ¨ç¨‹å¼ç·¨è¼¯å™¨æ’°å¯«æ¸¬è©¦æ™‚å¯ä»¥è¨­å®šå„²å­˜ç•¶ä¸‹çš„è‡ªå‹•åšæ ¼å¼åŒ–ï¼Œä½†æ˜¯ç€è¦½å™¨ä¸­çš„ç·¨è¼¯å™¨ç’°å¢ƒä¸åŒï¼Œæ‰€ä»¥å¯«æ¸¬è©¦æ™‚æœƒæ”¶åˆ°æ ¼å¼éŒ¯èª¤çš„è­¦å‘Šï¼Œä½†åœ¨ä¸è€ƒæ…®é€™é»çš„æƒ…æ³ä¸‹ï¼Œé€™å€‹å·¥å…·æ˜¯å€‹ç”¨ä¾†æª¢è¦–æ¸¬è©¦çµæœèˆ‡ä¾è³´é—œä¿‚çš„å¥½å·¥å…·ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52592679007_e8b05c17bd_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="ç¨‹å¼ç¢¼è¦†è“‹ç‡code-coverage">ç¨‹å¼ç¢¼è¦†è“‹ç‡ï¼ˆCode Coverageï¼‰&lt;/h2>
&lt;p>åœ¨æ¸¬è©¦é ˜åŸŸä¸­ï¼Œè¦†è“‹ç‡ï¼ˆCoverageï¼‰ä¸€è©æ³›æŒ‡çš„æ˜¯ä»¥ç™¾åˆ†æ¯”è¡¨ç¤ºæ¸¬è©¦ç¨‹å¼ç¢¼èƒ½å¤ æ¶µè“‹å¤šå°‘ç”¢å“ç¨‹å¼ç¢¼çš„ç¯„åœï¼Œè€Œä¾æ“šä¸åŒçš„è¦†è“‹ç‡ç¨®é¡ï¼Œå…¶ç´°å¾®çš„å®šç¾©ä¹Ÿæœƒæœ‰æ‰€ä¸åŒã€‚&lt;/p>
&lt;p>æ¥ä¸‹ä¾†æˆ‘å€‘ä»¥è¦†è“‹ç‡å·¥å…·åº« &lt;a class="link" href="https://cn.vitest.dev/guide/coverage.html" target="_blank" rel="noopener"
>c8&lt;/a> ä¾†èªªæ˜è¦†è“‹ç‡çš„æ¦‚å¿µèˆ‡å¦‚ä½•é€é &lt;a class="link" href="https://cn.vitest.dev/guide/coverage.html" target="_blank" rel="noopener"
>c8&lt;/a> åœ¨ Vitest æ¸¬è©¦ç’°å¢ƒä¸­æª¢è¦–ç•¶ä¸‹çš„æ¸¬è©¦è¦†è“‹ç‡ï¼Œæœ€å¾Œå†ä¾†è«‡è«‡æœ‰é—œæ–¼è¦†è“‹ç‡çš„ç›¸é—œè­°é¡Œã€‚&lt;/p>
&lt;h3 id="c8">c8&lt;/h3>
&lt;p>è¦åœ¨ Vitest æ¸¬è©¦ç’°å¢ƒä¸­ä½¿ç”¨ c8 ç”¢ç”Ÿè¦†è“‹ç‡å ±å‘Šï¼Œæˆ‘å€‘é¦–å…ˆéœ€è¦å®‰è£ &lt;code>@vitest/coverage-c8&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm i -D @vitest/coverage-c8
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—å°±å¯ä»¥åœ¨ &lt;code>package.json&lt;/code> ä¸­æ–°å¢æŒ‡ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;test:coverage&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;vitest --environment jsdom --coverage&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸ·è¡Œ &lt;code>npm run test:coverage&lt;/code> å¾Œï¼Œé è¨­æœƒåœ¨çµ‚ç«¯æ©Ÿç”¢ç”Ÿå‡ºè¦†è“‹ç‡å ±å‘Šï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593680098_635ca46745_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>è€Œ c8 è¦†è“‹ç‡å ±å‘Šç¸½å…±æœ‰å››ç¨®é¡å‹ï¼š&lt;/p>
&lt;ul>
&lt;li>è¡Œæ•¸è¦†è“‹ç‡ï¼ˆline coverageï¼‰ï¼šä»¥è¡Œæ•¸ç‚ºå–®ä½ä¾†è¨ˆç®—ã€‚&lt;/li>
&lt;li>å‡½å¼è¦†è“‹ç‡ï¼ˆfunction coverageï¼‰ï¼šä»¥å…§éƒ¨çš„å‡½å¼ç‚ºå–®ä½ä¾†è¨ˆç®—ã€‚&lt;/li>
&lt;li>åˆ†æè¦†è“‹ç‡ï¼ˆbranch coverageï¼‰ï¼šä»¥æ¯å€‹åˆ¤æ–·å¼ç‚ºå–®ä½ä¾†è¨ˆç®—ã€‚&lt;/li>
&lt;li>èªå¥è¦†è“‹ç‡ï¼ˆstatement coverageï¼‰ï¼šä»¥æ¯å€‹èªå¥ï¼ˆstatementï¼‰ç‚ºå–®ä½è¨ˆç®—ã€‚&lt;/li>
&lt;/ul>
&lt;p>æ¸¬è©¦ç¨‹å¼ç¢¼æ¶µè“‹å¤šå°‘ç¯„åœçš„ç”¢å“ç¨‹å¼ç¢¼ï¼Œç”šè‡³æ–¼æ¯è¡Œç¨‹å¼ç¢¼å€‹è¢«åŸ·è¡Œäº†å¹¾æ¬¡&lt;/p>
&lt;p>ä¸¦ä¸”è‹¥æœ‰æœªè¦†è“‹è¡Œæ•¸çš„æƒ…æ³ï¼Œ c8 å‰‡æœƒåœ¨ Uncovered Line ä¸­é¡¯ç¤ºæœªæ¶µè“‹çš„è¡Œæ•¸ç¯„åœï¼Œå¦‚ä¸‹åœ–ä¸­çš„ &lt;code>13-17&lt;/code>ã€&lt;code>19-28&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593587235_4ceba72a25_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å€˜è‹¥ä½ è¦ºå¾—é€™ç¨®å ±å‘Šå½¢å¼ä¸æ–¹ä¾¿è§€çœ‹ï¼Œæˆ–æ˜¯å¸Œæœ›å°‡å®ƒè£½ä½œæˆæ–‡ä»¶ï¼Œå‰‡å¯ä»¥åœ¨ config.js æª”ä¸­è¨­å®š &lt;code>coverage.reporter&lt;/code> çš„å½¢å¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// vite.config.js or vitest.config.js
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">export&lt;/span> &lt;span class="k">default&lt;/span> &lt;span class="nx">defineConfig&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">test&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">coverage&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">reporter&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;text&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;json&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;html&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­ c8 æä¾›çš„å ±å‘Šï¼ˆreporterï¼‰é¸é …æœ‰ä»¥ä¸‹ä¸‰ç¨®ï¼š&lt;/p>
&lt;ul>
&lt;li>textï¼š åœ¨çµ‚ç«¯æ©Ÿä¸­å‘ˆç¾è¦†è“‹ç‡å ±å‘Šã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593587245_730913e23b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;ul>
&lt;li>jsonï¼š ä»¥ JSON æ ¼å¼ç”¢ç”Ÿè¦†è“‹ç‡å ±å‘Šã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161446_55167b6751_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;ul>
&lt;li>htmlï¼š ç”¢ç”Ÿä¸€å€‹å¯äº’å‹•çš„ HTML è¦†è“‹ç‡å ±å‘Šã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593161441_82a1a13832_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å…¶ä¸­ HTML çš„ç‰ˆæœ¬ä¸­ï¼Œæˆ‘å€‘é‚„å¯ä»¥é»æ“Šæ¸¬è©¦æª”æ¡ˆä¾†æŸ¥çœ‹æœªè¦†è“‹çš„è¡Œæ•¸æœ‰å“ªäº›ï¼Œç›¸è¼ƒçµ‚ç«¯æ©Ÿçš„ç‰ˆæœ¬ï¼Œæˆ‘å€‘å°±ä¸å¿…å†æ‹¿è‘—è¡Œæ•¸å»å°ç¨‹å¼ç¢¼äº†ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593422039_9e7c2cf245_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;h3 id="è¦†è“‹ç‡ç›®æ¨™">è¦†è“‹ç‡ç›®æ¨™&lt;/h3>
&lt;p>è€Œåœ¨ç­è§£æ€éº¼æŸ¥çœ‹è¦†è“‹ç‡å ±å‘Šå¾Œï¼Œé‚£éº¼ç©¶ç«Ÿè¦†è“‹ç‡ç›®æ¨™è¦é”åˆ°å¤šå°‘æ‰æ˜¯åˆç†å‘¢ï¼Ÿ&lt;/p>
&lt;p>ä»¥ ã€Šå¯æ¸¬è©¦çš„ JavaScriptã€‹ä¸€æ›¸ä½œè€… Mark Ethan Trostler æä¾›çš„ç­”æ¡ˆæ˜¯å–®å…ƒæ¸¬è©¦å¤§ç´„è¦ä»‹æ–¼ 80 % å·¦å³ã€‚&lt;/p>
&lt;p>ä»¥ Martin Fowler æ–¼ &lt;a class="link" href="https://martinfowler.com/bliki/TestCoverage.html" target="_blank" rel="noopener"
>Test Coverage&lt;/a> ä¸€æ–‡ä¸­ï¼Œå‰‡æ˜¯æŒ‡å‡ºå¤§ç´„æœƒåœ¨æ–¼ 80 è‡³ 90 % é™„è¿‘ã€‚&lt;/p>
&lt;p>è‡³æ–¼ç‚ºä»€éº¼ä¸æ˜¯é”åˆ°ç™¾åˆ†ä¹‹ç™¾å‘¢ï¼Ÿæ¥ä¸‹ä¾†æˆ‘å€‘ä¾†æ¢è¨æœ‰é—œæ–¼è¦†è“‹ç‡ç›¸é—œçš„è­°é¡Œã€‚&lt;/p>
&lt;h3 id="è¦†è“‹ç‡è­°é¡Œ">è¦†è“‹ç‡è­°é¡Œ&lt;/h3>
&lt;h4 id="è¦†è“‹ç‡èˆ‡ä»˜å‡ºçš„å¿ƒåŠ›">è¦†è“‹ç‡èˆ‡ä»˜å‡ºçš„å¿ƒåŠ›&lt;/h4>
&lt;p>é›–ç„¶ä»¥ç†è«–ä¸Šä¾†èªªç›¡å¯èƒ½å¾—é”åˆ°é«˜è¦†è“‹ç‡ï¼Œæ¸¬è©¦ç¨‹å¼ç¢¼å°‡æ¶µè“‹çš„è¶Šå®Œå…¨ï¼Œç„¶è€Œç‚ºäº†è¿½æ±‚ 100 % çš„è¦†è“‹ç‡æ‰€è¦ä»˜å‡ºçš„å¿ƒç†å°‡æœƒæˆªç„¶ä¸åŒã€‚&lt;/p>
&lt;p>Jeroen Mols åœ¨ &lt;a class="link" href="https://jeroenmols.com/blog/2017/11/28/coveragproblem/" target="_blank" rel="noopener"
>The 100% code coverage problem&lt;/a> ä¸€æ–‡ä¸­çš„æåˆ°äº†å¿ƒåŠ›ä»˜å‡ºèˆ‡è¦†è“‹ç‡çš„é—œä¿‚è¡¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593422044_6d565f4119_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>å¼•ç”¨è‡ª Jeroen Mols ã€ŠThe 100% code coverage problemã€‹ä¸€æ–‡ä¸­çš„åœ–&lt;/p>
&lt;/blockquote>
&lt;p>å¾ä¸Šåœ–ä¸­å¯ä»¥çœ‹è¦‹ï¼Œåœ¨è¦†è“‹ç‡å¾ 0 æå‡è‡³ 80% æˆ‘å€‘åƒ…éœ€è¦ä»˜å‡ºä¸€äº›å¿ƒåŠ›å°±å¯ä»¥è¼•æ˜“é”æˆï¼Œç„¶è€Œè¦å°‡ 90% æå‡è‡³æ¥è¿‘ 100% æˆ‘å€‘å‰‡å¹¾ä¹è¦æŠ•å…¥å…©åˆ°ä¸‰å€ä»¥ä¸Šçš„å¿ƒåŠ›æ‰èƒ½å®Œæˆã€‚&lt;/p>
&lt;p>å› æ­¤ï¼Œæœ‰äº›äººé›–ç„¶æœƒèªç‚º 100% çš„è¦†è“‹ç‡æ˜¯ä¸€å€‹ä¸éŒ¯çš„ç›®æ¨™ï¼Œä½†æ˜¯åœ¨å¯¦éš›ä¸Šï¼Œæˆ‘å€‘å¯èƒ½æœƒå› ç‚ºè¿½æ±‚ 100% çš„è¦†è“‹ç‡è€Œä»˜å‡ºéå¤šçš„å¿ƒåŠ›ï¼Œè€Œå°è‡´æ¸¬è©¦ç¨‹å¼ç¢¼çš„å“è³ªåè€Œè®Šå·®ã€‚&lt;/p>
&lt;h4 id="è¦†è“‹ç‡-100-çš„èª¤å€">è¦†è“‹ç‡ 100% çš„èª¤å€&lt;/h4>
&lt;p>åœ¨è²»ç›¡åƒè¾›è¬è‹¦å¾Œï¼Œæˆ‘å€‘çµ‚æ–¼é”åˆ°äº† 100% è¦†è“‹ç‡çš„æƒ…æ³äº†ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼Œ100 % çš„è¦†è“‹ç‡åƒ…èƒ½ä»£è¡¨æ¸¬è©¦ç¨‹å¼ç¢¼å®Œæ•´ï¼ˆCompleteï¼‰çš„è¦†è“‹äº†ç”¢å“ç¨‹å¼ç¢¼ï¼Œä¸¦éä»£è¡¨æ¸¬è©¦ç¨‹å¼ç¢¼çš„å“è³ªé”åˆ°å®Œç¾ï¼ˆPerfectï¼‰ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘ç”¨å€‹ç°¡å–®çš„ä¾‹å­ä¾†èªªæ˜ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nx">x&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;max&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ä¸Šæ–¹æ¡ˆä¾‹ä¸­ï¼Œæˆ‘å€‘å¯ä»¥çœ‹è¦‹ max æ¸¬è©¦æ¡ˆä¾‹åŸºæœ¬ä¸Šå·²ç¶“å®Œå…¨è¦†è“‹äº† max å‡½å¼çš„å¯¦ä½œæƒ…æ³ï¼Œè€Œæˆ‘å€‘å¯ä»¥å¾é€™å€‹æ¡ˆä¾‹ä¸­çœ‹å‡ºå…©å€‹å•é¡Œï¼š&lt;/p>
&lt;ul>
&lt;li>ç”¢å“ç¨‹å¼ç¢¼æœ¬èº«æœ‰å•é¡Œï¼Œå³ä¾¿æ¸¬è©¦ç¨‹å¼ç¢¼è¦†è“‹äº† 100% çš„æƒ…æ³ä¸‹ï¼Œç”¢å“ç¨‹å¼ç¢¼æœ¬èº«ä»ç„¶æ˜¯æœ‰å•é¡Œçš„ã€‚&lt;/li>
&lt;li>æ¸¬è©¦ç¨‹å¼ç¢¼æ¡ˆä¾‹èˆ‡è·¯å¾‘ä¸è¶³ï¼Œå°è‡´è¦†è“‹ç‡ç‚º 100% çš„æƒ…æ³ä¸‹ï¼Œä¸¦æ²’æœ‰æ¸¬å‡ºç”¢å“ç¨‹å¼ç¢¼ä¸­çš„å•é¡Œèˆ‡é‚Šéš›æ¡ˆä¾‹ï¼ˆedge caseï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;p>å› æ­¤è¦†è“‹ç‡ 100% å……å…¶é‡åªæ˜¯ä¸€å€‹æŒ‡æ¨™ï¼Œç”¨ä¾†å‘Šè¨´æˆ‘å€‘æ¸¬è©¦ç¨‹å¼ç¢¼æ˜¯å¦å®Œæ•´çš„è¦†è“‹äº†ç”¢å“ç¨‹å¼ç¢¼ï¼Œè€Œéã€Œå®Œå…¨æ²’æœ‰å•é¡Œã€ã€‚&lt;/p>
&lt;p>å€˜è‹¥æˆ‘å€‘æƒ³è¦ç›¡å¯èƒ½é¿å…é€™ç¨®æƒ…æ³çš„ç™¼ç”Ÿï¼Œé€™æ™‚æˆ‘å€‘å°±å¯ä»¥é€éçªè®Šæ¸¬è©¦ï¼ˆMutation Testingï¼‰ä¾†å”åŠ©æˆ‘å€‘ã€‚&lt;/p>
&lt;h4 id="çªè®Šæ¸¬è©¦mutation-testing">çªè®Šæ¸¬è©¦ï¼ˆmutation testingï¼‰&lt;/h4>
&lt;p>çªè®Šæ¸¬è©¦ï¼ˆMutation Testingï¼‰æ˜¯ä¸€ç¨®é©—è­‰èˆ‡æ”¹å–„æ¸¬è©¦ç¨‹å¼ç¢¼çš„æ¸¬è©¦æ–¹æ³•ï¼Œæ¦‚å¿µä¸Šä¾†èªªï¼Œä»–æœƒç›¡å¯èƒ½çš„æŠ½æ›ç”¢å“ç¨‹å¼ç¢¼ä¸­çš„æ¯å€‹è§’è½ï¼Œæ¥è‘—ä¾ç…§æŠ½æ›è¦å‰‡ä¾†é æœŸæ¸¬è©¦ç¨‹å¼ç¢¼çš„æª¢æ¸¬çµæœã€‚&lt;/p>
&lt;p>å‡è¨­æˆ‘å€‘æœ‰å€‹æ¯”è¼ƒå‡½å¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">greaterThan&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">y&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œé€™æ™‚æˆ‘å€‘æ¸¬è©¦ç¨‹å¼ç¢¼å¯èƒ½æœƒé€™éº¼è™•ç†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should return true if x is greater than y&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should return false if x is less than y&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—çªè®Šæ¸¬è©¦å¯èƒ½æœƒå°‡ &lt;code>greaterThan&lt;/code> å‡½å¼ä¸­çš„ &lt;code>&amp;gt;&lt;/code> ç¬¦è™Ÿæ›¿æ›æˆ &lt;code>&amp;gt;=&lt;/code> ç¬¦è™Ÿï¼Œæ­¤æ™‚ç†è«–ä¸Šä¾†èªªæ‡‰è©²æœƒæœ‰æ¸¬è©¦æ¡ˆä¾‹å¤±æ•—ï¼Œä½†æ˜¯å¯¦éš›ä¸Šæ¸¬è©¦ç¨‹å¼ç¢¼å»æ²’æœ‰æª¢æ¸¬åˆ°é€™å€‹å•é¡Œï¼Œé‚£å°±è¡¨ç¤ºæˆ‘å€‘çš„æ¸¬è©¦ç¨‹å¼ç¢¼ä¸¦æ²’æœ‰è¦†è“‹åˆ°é€™å€‹æ¡ˆä¾‹ã€‚&lt;/p>
&lt;p>æ­¤æ™‚æˆ‘å€‘å°±å¯ä»¥é‡å°é€™ç¨®æƒ…æ³ï¼Œå†è£œä¸Šå°æ‡‰çš„æ¸¬è©¦æ¡ˆä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should return true if x is greater than y&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should return false if x is less than y&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ–°å¢æ¡ˆä¾‹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;should return false if x is equal y&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">expect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">greaterThan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toBe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥è‘—çªè®Šæ¸¬è©¦å†åº¦å°‡ &lt;code>&amp;gt;&lt;/code> ç¬¦è™Ÿæ›¿æ›æˆå„ç¨®ç¬¦è™Ÿï¼ˆe.g. &lt;code>&amp;lt;=&lt;/code>ï¼‰ï¼Œç”šè‡³æ˜¯å°‡ &lt;code>{}&lt;/code> èªå¥ï¼ˆstatementï¼‰æ¸…ç©ºï¼Œè€Œè«¸å¦‚æ­¤é¡çš„æ‰‹æ³•ï¼Œå°±æ˜¯çªè®Šæ¸¬è©¦çš„æ ¸å¿ƒæ¦‚å¿µã€‚&lt;/p>
&lt;blockquote>
&lt;p>è‹¥æƒ³æ‰‹å‹•ç½®æ›ç”¢å“ç¨‹å¼ç¢¼ä¸­çš„ç¬¦è™Ÿï¼Œå¯ä»¥å¾é€™äº›æ–¹æ³•ä¸‹æ‰‹&lt;/p>
&lt;ul>
&lt;li>operator: +, -, *, /&lt;/li>
&lt;li>condition: &amp;lt;, &amp;gt;, &amp;lt;=, &amp;gt;=, ==, ===, !=, !==&lt;/li>
&lt;li>statement: {}, if, else, for, return, throw, try, catch&lt;/li>
&lt;li>expression: &amp;amp;&amp;amp;, ||, !&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h4 id="çªè®Šæ¸¬è©¦çš„å·¥å…·">çªè®Šæ¸¬è©¦çš„å·¥å…·&lt;/h4>
&lt;p>é›–ç„¶èªªæˆ‘å€‘å¯ä»¥æ‰‹å‹•ç½®æ›ç”¢å“ç¨‹å¼ç¢¼ä¸­çš„å„ç¨®ç¬¦è™Ÿï¼Œä½†æ˜¯é€™æ¨£çš„ä½œæ³•æœƒè®“æˆ‘å€‘çš„å·¥ä½œé‡è®Šå¾—éå¸¸é¾å¤§ï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥é€éå·¥å…·ä¾†å”åŠ©æˆ‘å€‘å®Œæˆé€™äº›å·¥ä½œã€‚&lt;/p>
&lt;p>ä»¥å‰ç«¯é ˜åŸŸä¾†èªªï¼Œæˆ‘å€‘å¯ä»¥é€é &lt;a class="link" href="https://stryker-mutator.io/" target="_blank" rel="noopener"
>Stryker Mutator&lt;/a> åº•ä¸‹çš„ &lt;code>stryker-js&lt;/code> å·¥å…·ä¾†å®Œæˆé€™äº›å·¥ä½œã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52593422049_ccee2eefd4_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>Stryker Mutator çš„æ¦‚å¿µå°±æ˜¯é€éæ›¿æ›ä¸åŒçš„ç¬¦è™Ÿç”¢ç”Ÿå‡ºçªè®Šçš„å…§å®¹ï¼Œè€Œæˆ‘å€‘çš„æ¸¬è©¦ç¨‹å¼ç¢¼æ‡‰è©²è¦æ•æ‰åˆ°é‚£äº›ä¸åˆç†çš„æƒ…æ³ï¼Œè—‰æ­¤ä¾†ä¿è­‰æˆ‘å€‘çš„æ¸¬è©¦æ¡ˆä¾‹æœ‰ä¸€å®šçš„ç©©å›ºæ€§ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼Œå¯æƒœçš„æ˜¯ &lt;code>stryker-js&lt;/code> ç›®å‰åƒ…æ”¯æ´åˆ° Jest ç’°å¢ƒï¼Œå°šæœªæ”¯æ´ Vitest çš„ç’°å¢ƒï¼Œå› æ­¤æˆ‘é€™é‚Šå°±æš«ä¸åšä»‹ç´¹äº†ï¼Œæœ‰èˆˆè¶£è€…å¯ä»¥è¿½è¹¤è©² &lt;a class="link" href="https://github.com/stryker-mutator/stryker-js/issues/3465" target="_blank" rel="noopener"
>issue&lt;/a> ç›®å‰çš„æœ€æ–°é€²åº¦ã€‚&lt;/p>
&lt;hr></description></item><item><title>TypeScript è£¡ string å’Œ Stringï¼Œé‚„çœŸä¸åƒ…åƒ…æ˜¯å¤§å°å¯«çš„å€åˆ¥ï¼</title><link>https://wayneblog.ga/2022-11-28/ts-string-type-vs-class/</link><pubDate>Mon, 28 Nov 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-11-28/ts-string-type-vs-class/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52549840532_0ea4bef6e7_o.png" alt="Featured image of post TypeScript è£¡ string å’Œ Stringï¼Œé‚„çœŸä¸åƒ…åƒ…æ˜¯å¤§å°å¯«çš„å€åˆ¥ï¼" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://www.geeksforgeeks.org/what-is-the-difference-between-string-and-string-in-typescript/?ref=lbp" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://www.geeksforgeeks.org/variables-datatypes-javascript/" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://www.tutorialspoint.com/typescript/typescript_strings.htm" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://www.gushiciku.cn/pl/aSb4/zh-tw" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="èƒŒæ™¯">èƒŒæ™¯&lt;/h2>
&lt;p>èˆ‡ JavaScript èªè¨€ä¸åŒçš„æ˜¯ï¼ŒTypeScript ä½¿ç”¨çš„æ˜¯&lt;strong>éœæ…‹å‹åˆ¥&lt;/strong>(&lt;strong>å¼·å‹åˆ¥&lt;/strong>)ï¼Œæ¯”å¦‚èªªå®ƒæŒ‡å®šäº†è®Šæ•¸å¯ä»¥å„²å­˜çš„è³‡æ–™å‹åˆ¥ã€‚&lt;/p>
&lt;p>å¦‚ä¸‹åœ–æ‰€ç¤ºï¼Œå¦‚æœåœ¨ JS ä¸­ï¼ŒæŒ‡å®šè®Šæ•¸å¯ä»¥å„²å­˜çš„è³‡æ–™å‹åˆ¥ï¼Œæœƒå ±éŒ¯ï¼šâ€œ&lt;strong>å‹åˆ¥è¨»é‡‹åªå¯ä»¥åœ¨TSæª”æ¡ˆä¸­è¢«ä½¿ç”¨&lt;/strong>â€ï¼š&lt;/p>
&lt;p>&lt;img src="https://wayneblog.ga/"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>TypeScript æ˜¯ JavaScript çš„è¶…é›†(superset)ï¼ŒTypeScript éœ€è¦ç·¨è­¯(èªæ³•è½‰æ›)ç”Ÿæˆ JavaScript æ‰èƒ½è¢«ç€è¦½å™¨åŸ·è¡Œï¼Œå®ƒä¹Ÿå€åˆ†äº† string å’Œ String é€™å…©å€‹è³‡æ–™å‹åˆ¥ã€‚é€šå¸¸ä¾†èªªï¼Œstring è¡¨ç¤ºåŸç”Ÿå‹åˆ¥ï¼Œè€Œ String è¡¨ç¤ºç‰©ä»¶ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="åŸç”Ÿ-string">åŸç”Ÿ string&lt;/h2>
&lt;p>JavaScript åœ¨ ES6 æ¨™æº–è£¡æ”¯æ´&lt;code>6ç¨®&lt;/code>åŸç”Ÿå‹åˆ¥ï¼Œ&lt;code>string&lt;/code> æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">testVar1&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">19&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">testVar2&lt;/span>: &lt;span class="kt">boolean&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">testVar3&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Hi Wayne!&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">testVar4&lt;/span>: &lt;span class="kt">null&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">testVar5&lt;/span>: &lt;span class="kt">undefined&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">undefined&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">testVar6&lt;/span>: &lt;span class="kt">object&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Wayne Cloud!&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸç”Ÿçš„ string æ˜¯&lt;strong>ä¸åŒ…å«å±¬æ€§&lt;/strong>çš„å€¼(å³æ²’æœ‰properties)ï¼ŒåŒ…æ‹¬å­—é¢ä¸Šæ²’æœ‰å®šç¾©å‹åˆ¥ã€å­—é¢ä¸Šå®šç¾©äº† stringã€å­—é¢ä¸Šå®šç¾©äº† Stringå’Œä¸€äº›å¾ string å‡½å¼å‘¼å«è¿”å›çš„ strings ä¹Ÿéƒ½å¯ä»¥è¢«æ­¸ç‚ºåŸç”Ÿå‹åˆ¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg1&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Hello world!&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg2&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Hello world!&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg22&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">returnStr&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»¥ä¸Šä¸‰å€‹è®Šæ•¸çš„å‹åˆ¥(&lt;code>typeof()&lt;/code>)æ˜¯ &lt;code>string&lt;/code>ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ç‰©ä»¶-string">ç‰©ä»¶ String&lt;/h2>
&lt;p>ç‰©ä»¶æ˜¯ä¸åŒå±¬æ€§çš„ç´¯ç©ï¼Œä¸€å€‹ç‰©ä»¶å¯ä»¥å‘¼å«è¨±å¤šç›¸æ‡‰çš„æ–¹æ³•ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg3&lt;/span>: &lt;span class="kt">String&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello world!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€™å€‹è®Šæ•¸ msg3 çš„å‹åˆ¥å°±æ˜¯ &lt;code>object&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg3&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// object
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>String&lt;/code> ç‰©ä»¶æ”¯æ´çš„æ–¹æ³•ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>No.&lt;/th>
&lt;th>Method&lt;/th>
&lt;th>Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/charAt" target="_blank" rel="noopener"
>charAt()&lt;/a>&lt;/td>
&lt;td>charAt() æ–¹æ³•å¾ä¸€å€‹å­—ç¬¦ä¸²ä¸­è¿”å›æŒ‡å®šçš„å­—ç¬¦&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt" target="_blank" rel="noopener"
>charCodeAt()&lt;/a>&lt;/td>
&lt;td>charCodeAt() æ–¹æ³•è¿”å› 0 åˆ° 65535 ä¹‹é–“çš„æ•´æ•¸ï¼Œè¡¨ç¤ºçµ¦å®šç´¢å¼•è™•çš„ UTF-16 ä»£ç¢¼å–®å…ƒ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/concat" target="_blank" rel="noopener"
>concat()&lt;/a>&lt;/td>
&lt;td>concat() æ–¹æ³•å°‡ä¸€å€‹æˆ–å¤šå€‹å­—ç¬¦ä¸²èˆ‡åŸå­—ç¬¦ä¸²é€£æ¥åˆä½µï¼Œå½¢æˆä¸€å€‹æ–°çš„å­—ç¬¦ä¸²ä¸¦è¿”å›&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf" target="_blank" rel="noopener"
>indexOf()&lt;/a>&lt;/td>
&lt;td>indexOf() æ–¹æ³•ï¼Œçµ¦å®šä¸€å€‹åƒæ•¸ï¼šè¦æœç´¢çš„å­å­—ç¬¦ä¸²ï¼Œæœç´¢æ•´å€‹èª¿ç”¨å­—ç¬¦ä¸²ï¼Œä¸¦è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç¾çš„ç´¢å¼•ã€‚çµ¦å®šç¬¬äºŒå€‹åƒæ•¸ï¼šä¸€å€‹æ•¸å­—ï¼Œè©²æ–¹æ³•å°‡è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨å¤§æ–¼æˆ–ç­‰æ–¼æŒ‡å®šæ•¸å­—çš„ç´¢å¼•è™•çš„ç¬¬ä¸€æ¬¡å‡ºç¾&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/lastIndexOf" target="_blank" rel="noopener"
>lastIndexOf()&lt;/a>&lt;/td>
&lt;td>lastIndexOf() æ–¹æ³•è¿”å›èª¿ç”¨ String å°è±¡çš„æŒ‡å®šå€¼æœ€å¾Œä¸€æ¬¡å‡ºç¾çš„ç´¢å¼•ï¼Œåœ¨ä¸€å€‹å­—ç¬¦ä¸²ä¸­çš„æŒ‡å®šä½ç½® fromIndex è™•å¾å¾Œå‘å‰æœç´¢ã€‚å¦‚æœæ²’æ‰¾åˆ°é€™å€‹ç‰¹å®šå€¼å‰‡è¿”å› -1ã€‚&lt;br/>&lt;br/>è©²æ–¹æ³•å°‡å¾å°¾åˆ°é ­åœ°æª¢ç´¢å­—ç¬¦ä¸² strï¼Œçœ‹å®ƒæ˜¯å¦å«æœ‰å­ä¸² searchValueã€‚é–‹å§‹æª¢ç´¢çš„ä½ç½®åœ¨å­—ç¬¦ä¸²çš„ fromIndex è™•æˆ–å­—ç¬¦ä¸²çš„çµå°¾(æ²’æœ‰æŒ‡å®š fromIndex æ™‚)ã€‚å¦‚æœæ‰¾åˆ°ä¸€å€‹ searchValueï¼Œå‰‡è¿”å› searchValue çš„ç¬¬ä¸€å€‹å­—ç¬¦åœ¨ str ä¸­çš„ä½ç½®ã€‚ str ä¸­çš„å­—ç¬¦ä½ç½®æ˜¯å¾ 0 é–‹å§‹çš„&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare" target="_blank" rel="noopener"
>localeCompare()&lt;/a>&lt;/td>
&lt;td>localeCompare() æ–¹æ³•è¿”å›ä¸€å€‹æ•¸å­—ä¾†æŒ‡ç¤ºä¸€å€‹åƒè€ƒå­—ç¬¦ä¸²æ˜¯å¦åœ¨æ’åºé †åºå‰é¢æˆ–ä¹‹å¾Œæˆ–èˆ‡çµ¦å®šå­—ç¬¦ä¸²ç›¸åŒã€‚&lt;br/>&lt;br/>æ–°çš„ locales å’Œ options åƒæ•¸èƒ½è®“æ‡‰ç”¨ç¨‹åºå®šåˆ¶å‡½æ•¸çš„è¡Œç‚ºï¼Œå³æŒ‡å®šç”¨ä¾†æ’åºçš„èªè¨€ã€‚ locales å’Œ options åƒæ•¸å®Œå…¨å–æ±ºæ–¼å¯¦ç¾ï¼Œåœ¨èˆŠçš„å¯¦ç¾ä¸­å¿½ç•¥é€™å…©å€‹åƒæ•¸&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>7.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/match" target="_blank" rel="noopener"
>match()&lt;/a>&lt;/td>
&lt;td>match() æ–¹æ³•æª¢ç´¢è¿”å›ä¸€å€‹å­—ç¬¦ä¸²åŒ¹é…æ­£å‰‡è¡¨é”å¼çš„çµæœ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>8.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace" target="_blank" rel="noopener"
>replace()&lt;/a>&lt;/td>
&lt;td>replace() æ–¹æ³•è¿”å›ä¸€å€‹ç”±æ›¿æ›å€¼(replacement)æ›¿æ›éƒ¨åˆ†æˆ–æ‰€æœ‰çš„æ¨¡å¼(pattern)åŒ¹é…é …å¾Œçš„æ–°å­—ç¬¦ä¸²ã€‚æ¨¡å¼å¯ä»¥æ˜¯ä¸€å€‹å­—ç¬¦ä¸²æˆ–è€…ä¸€å€‹&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener"
>æ­£å‰‡è¡¨é”å¼&lt;/a>ï¼Œæ›¿æ›å€¼å¯ä»¥æ˜¯ä¸€å€‹å­—ç¬¦ä¸²æˆ–è€…ä¸€å€‹æ¯æ¬¡åŒ¹é…éƒ½è¦èª¿ç”¨çš„å›èª¿å‡½æ•¸ã€‚å¦‚æœ pattern æ˜¯å­—ç¬¦ä¸²ï¼Œå‰‡åƒ…æ›¿æ›ç¬¬ä¸€å€‹åŒ¹é…é …&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>9.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/search" target="_blank" rel="noopener"
>search()&lt;/a>&lt;/td>
&lt;td>search() æ–¹æ³•åŸ·è¡Œæ­£å‰‡è¡¨é”å¼å’Œ &lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noopener"
>String&lt;/a> å°è±¡ä¹‹é–“çš„ä¸€å€‹æœç´¢åŒ¹é…&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>10.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/slice" target="_blank" rel="noopener"
>slice()&lt;/a>&lt;/td>
&lt;td>slice() æ–¹æ³•æå–æŸå€‹å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œä¸¦è¿”å›ä¸€å€‹æ–°çš„å­—ç¬¦ä¸²ï¼Œä¸”ä¸æœƒæ”¹å‹•åŸå­—ç¬¦ä¸²&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>11.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/split" target="_blank" rel="noopener"
>split()&lt;/a>&lt;/td>
&lt;td>split() æ–¹æ³•ä½¿ç”¨æŒ‡å®šçš„åˆ†éš”ç¬¦å­—ç¬¦ä¸²å°‡ä¸€å€‹ &lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noopener"
>String&lt;/a> å°è±¡åˆ†å‰²æˆå­å­—ç¬¦ä¸²æ•¸çµ„ï¼Œä»¥ä¸€å€‹æŒ‡å®šçš„åˆ†å‰²å­—ä¸²ä¾†æ±ºå®šæ¯å€‹æ‹†åˆ†çš„ä½ç½®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>12.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/substr" target="_blank" rel="noopener"
>substr()&lt;/a>&lt;/td>
&lt;td>substr() æ–¹æ³•è¿”å›ä¸€å€‹å­—ç¬¦ä¸²ä¸­å¾æŒ‡å®šä½ç½®é–‹å§‹åˆ°æŒ‡å®šå­—ç¬¦æ•¸çš„å­—ç¬¦&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>13.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/substring" target="_blank" rel="noopener"
>substring()&lt;/a>&lt;/td>
&lt;td>substring() æ–¹æ³•è¿”å›ä¸€å€‹å­—ç¬¦ä¸²åœ¨é–‹å§‹ç´¢å¼•åˆ°çµæŸç´¢å¼•ä¹‹é–“çš„ä¸€å€‹å­é›†ï¼Œæˆ–å¾é–‹å§‹ç´¢å¼•ç›´åˆ°å­—ç¬¦ä¸²çš„æœ«å°¾çš„ä¸€å€‹å­é›†&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>14.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/toLocaleLowerCase" target="_blank" rel="noopener"
>toLocaleLowerCase()&lt;/a>&lt;/td>
&lt;td>toLocaleLowerCase() æ–¹æ³•æ ¹æ“šä»»ä½•æŒ‡å®šå€åŸŸèªè¨€ç’°å¢ƒè¨­ç½®çš„å¤§å°å¯«æ˜ å°„ï¼Œè¿”å›èª¿ç”¨å­—ç¬¦ä¸²è¢«è½‰æ›ç‚ºå°å¯«çš„æ ¼å¼&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>15.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/toLocaleUpperCase" target="_blank" rel="noopener"
>toLocaleUpperCase()&lt;/a>&lt;/td>
&lt;td>toLocaleUpperCase() æ–¹æ³•æ ¹æ“šæœ¬åœ°ä¸»æ©Ÿèªè¨€ç’°å¢ƒæŠŠå­—ç¬¦ä¸²è½‰æ›ç‚ºå¤§å¯«æ ¼å¼ï¼Œä¸¦è¿”è¿´è½‰æ›å¾Œçš„å­—ç¬¦ä¸²&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>16.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase" target="_blank" rel="noopener"
>toLowerCase()&lt;/a>&lt;/td>
&lt;td>toLowerCase() æœƒå°‡èª¿ç”¨è©²æ–¹æ³•çš„å­—ç¬¦ä¸²å€¼è½‰ç‚ºå°å¯«å½¢å¼ï¼Œä¸¦è¿”å›&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>17.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/toString" target="_blank" rel="noopener"
>toString()&lt;/a>&lt;/td>
&lt;td>å­—ç¬¦ä¸²å°è±¡çš„ toString() æ–¹æ³•è¿”å›ä¸€å€‹å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæŒ‡å®šçš„å­—ç¬¦ä¸²&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>18.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase" target="_blank" rel="noopener"
>toUpperCase()&lt;/a>&lt;/td>
&lt;td>toUpperCase() æ–¹æ³•å°‡èª¿ç”¨è©²æ–¹æ³•çš„å­—ç¬¦ä¸²è½‰ç‚ºå¤§å¯«å½¢å¼ä¸¦è¿”å›(å¦‚æœèª¿ç”¨è©²æ–¹æ³•çš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²é¡å‹æœƒè¢«å¼·åˆ¶è½‰æ›)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>19.&lt;/td>
&lt;td>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/valueOf" target="_blank" rel="noopener"
>valueOf()&lt;/a>&lt;/td>
&lt;td>valueOf() æ–¹æ³•è¿”å› &lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noopener"
>String&lt;/a> å°è±¡çš„åŸå§‹å€¼&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h2 id="ç¨‹å¼ç¢¼å°æ¯”">ç¨‹å¼ç¢¼å°æ¯”&lt;/h2>
&lt;p>æˆ‘å€‘å°ä¸‹é¢4å€‹è®Šæ•¸é€²è¡Œå‹åˆ¥çš„æ¢ç´¢èˆ‡æ¯”è¼ƒï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Hello world!&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg2&lt;/span>: &lt;span class="kt">String&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Hello world!&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg22&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Hello world!&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// å­—é¢ä¸Šæ²’æœ‰å®šç¾©å‹åˆ¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">msg3&lt;/span>: &lt;span class="kt">String&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello world!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// string
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg2&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// string
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg22&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// string
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg3&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// object
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">msg2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">msg3&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">msg2&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">msg3&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="ç‚ºä»€éº¼éœ€è¦-string-ç‰©ä»¶">ç‚ºä»€éº¼éœ€è¦ String ç‰©ä»¶&lt;/h2>
&lt;p>é¦–å…ˆï¼Œç•¶æˆ‘å€‘ä½¿ç”¨é—œéµå­— &lt;code>new&lt;/code> æ–°å»ºä¸€å€‹ &lt;code>String&lt;/code> ç‰©ä»¶çš„æ™‚å€™ï¼ŒTypescript æœƒå»ºç«‹ä¸€å€‹&lt;strong>æ–°çš„ç‰©ä»¶&lt;/strong>ï¼›&lt;/p>
&lt;p>å³æˆ‘å€‘ç”¨ &lt;code>new&lt;/code> æ–°å»ºäº†å…©å€‹ &lt;code>String&lt;/code> ç‰©ä»¶ï¼Œå³ä½¿å…§å®¹ç›¸åŒï¼Œå®ƒå€‘ä¹Ÿæ˜¯æŒ‡å‘&lt;code>ä¸åŒ&lt;/code>çš„è¨˜æ†¶é«”ã€‚&lt;/p>
&lt;p>èˆ‰ä¸‹é¢å…©å€‹ä¾‹å­ï¼š&lt;/p>
&lt;ol>
&lt;li>ç•¶ç”¨ a1ã€b1 ä»£è¡¨ç›¸åŒå€¼çš„å…©å€‹è®Šæ•¸çš„æ™‚å€™ï¼Œå®ƒå€‘æ˜¯ç›¸åŒçš„ï¼›è€Œç•¶ç”¨ &lt;strong>new&lt;/strong> æ–°å»ºå…©å€‹ç‰©ä»¶çš„æ™‚å€™ï¼Œå³ä½¿å€¼ç›¸åŒï¼Œå®ƒå€‘ä¹Ÿæ˜¯ä¸åŒçš„ï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">a1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Hello World&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">b2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Hello World&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a1&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">b1&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">a2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Hello World&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">b2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Hello World&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a2&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">b2&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// false
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>&lt;strong>eval()&lt;/strong> å‡½å¼çš„ä½œç”¨ï¼šç”¨ä¾†è¨ˆç®—è¡¨ç¤ºå¼çš„å€¼ã€‚å¦‚æœæˆ‘å€‘æŠŠ &lt;strong>eval()&lt;/strong> ç›´æ¥è³¦çµ¦ stringï¼Œè€Œ string è£¡é¢æ˜¯è¨ˆç®—å¼çš„å­—ä¸²ï¼Œé‚£éº¼å®ƒæœƒè¿”å›è¨ˆç®—å¾Œçš„å€¼ï¼›è€Œå¦‚æœæˆ‘å€‘æŠŠ &lt;strong>eval()&lt;/strong> è³¦çµ¦ Stringï¼Œå› ç‚ºå®ƒ&lt;strong>ä¸æ˜¯&lt;/strong>åŸç”Ÿå‹åˆ¥ï¼Œå®ƒåªæœƒè¿”å› &lt;strong>String&lt;/strong> é€™å€‹ç‰©ä»¶ï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">a3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;3 * 9&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">eval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a3&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// 27
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">b3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;8 + 20&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">eval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b3&lt;/span>&lt;span class="p">));&lt;/span> &lt;span class="c1">// Warningï¼šArgument of type &amp;#39;String&amp;#39; is not assignable to parameter of type &amp;#39;string&amp;#39;. &amp;#39;string&amp;#39; is a primitive, but &amp;#39;String&amp;#39; is a wrapper object. Prefer using &amp;#39;string&amp;#39; when possible.ts(2345)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">eval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b3&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toSTring&lt;/span>&lt;span class="p">()));&lt;/span> &lt;span class="c1">// 28
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>å…¶æ¬¡ï¼Œå› ç‚º String ç‰©ä»¶&lt;strong>å¯ä»¥æœ‰å±¬æ€§&lt;/strong>ã€‚æˆ‘å€‘å¯ä»¥ç”¨ String ç‰©ä»¶åœ¨å±¬æ€§è£¡ä¿ç•™ä¸€å€‹é¡å¤–çš„å€¼ã€‚å³ä½¿é€™å€‹ç”¨æ³•ä¸¦ä¸å¸¸è¦‹ï¼Œä½†æ˜¯ä»ç„¶æ˜¯ TS çš„ä¸€å€‹ç‰¹æ€§ï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">prim&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;hello Wayne&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello Wayne Cloud&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">prim&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">property&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;PaaS&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Invalid
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">property&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;PaaS&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// Valid
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">obj&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">property&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// è¼¸å‡ºç‚º PaaS
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="å…©è€…å€åˆ¥ç¸½çµ">å…©è€…å€åˆ¥ç¸½çµ&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>string åŸç”Ÿå‹åˆ¥&lt;/th>
&lt;th>String ç‰©ä»¶&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>å»£æ³›è¢«ä½¿ç”¨&lt;/td>
&lt;td>å¹¾ä¹å¾ˆå°‘è¢«ä½¿ç”¨&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>åªæœƒä¿ç•™å€¼&lt;/td>
&lt;td>æœ‰èƒ½åŠ›é™¤äº†å€¼ä¹‹å¤–ï¼Œé‚„å¯ä»¥ä¿ç•™å±¬æ€§&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å€¼æ˜¯ä¸å¯è®Šçš„ï¼Œå› æ­¤åŸ·è¡Œç·’å®‰å…¨&lt;/td>
&lt;td>Stringç‰©ä»¶æ˜¯å¯è®Šçš„&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ²’æœ‰ä»»ä½•æ–¹æ³•&lt;/td>
&lt;td>Stringç‰©ä»¶æœ‰å„ç¨®æ–¹æ³•&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ä¸èƒ½å»ºç«‹å…©å€‹ç¨ç«‹çš„å­—é¢ä¸Šå€¼ç›¸åŒçš„ string&lt;/td>
&lt;td>å¯ä»¥ç”¨ &lt;strong>new&lt;/strong> å»ºç«‹å…©å€‹ç‰©ä»¶&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ˜¯åŸç”Ÿçš„è³‡æ–™å‹åˆ¥&lt;/td>
&lt;td>åŒ…è£åŸç”Ÿè³‡æ–™å‹åˆ¥ä¾†å»ºç«‹ä¸€å€‹ç‰©ä»¶&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å‚³éçš„å€¼æ˜¯åŸç”Ÿè³‡æ–™æœ¬èº«çš„æ‹·è²&lt;/td>
&lt;td>å‚³éçš„å€¼æ˜¯å¯¦éš›è³‡æ–™çš„å¼•ç”¨&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ç•¶ä½¿ç”¨ eval() å‡½å¼æ™‚ï¼Œå°‡&lt;strong>ç›´æ¥ä½œç‚ºåŸå§‹ç¢¼&lt;/strong>é€²è¡Œè™•ç†&lt;/td>
&lt;td>ç•¶ä½¿ç”¨ eval() å‡½å¼æ™‚ï¼Œå°‡è¢«&lt;strong>è½‰æ›ç‚ºå­—ä¸²&lt;/strong>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr></description></item><item><title>ä»Šå¤©ä¾†æä¸€å€‹å±¬æ–¼è‡ªå·±çš„ VScode Extension å§ï¼</title><link>https://wayneblog.ga/2022-11-22/create-own-vscode-extension/</link><pubDate>Tue, 22 Nov 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-11-22/create-own-vscode-extension/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52516420035_bc4b9df19c_o.png" alt="Featured image of post ä»Šå¤©ä¾†æä¸€å€‹å±¬æ–¼è‡ªå·±çš„ VScode Extension å§ï¼" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://ithelp.ithome.com.tw/articles/10240741" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://juejin.cn/post/7076649162653040647" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;br>
&lt;a class="link" href="https://wowissu.medium.com/%E4%BE%86%E9%BB%9E-vscode-extension-ac57d67514d" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="å‰è¨€">å‰è¨€&lt;/h2>
&lt;p>VScode ä½¿ç”¨è€…ä¸€å®šæœƒå®‰è£å„ç¨® Extension ä¾†å»ºç«‹ä¸€å€‹é©åˆè‡ªå·±çš„é–‹ç™¼ç’°å¢ƒï¼Œè€Œé€™äº›å¼·å¤§çš„ Extension å¤§éƒ¨åˆ†éƒ½ç”±ä¸–ç•Œå„åœ°çš„æ„›ç”¨è€…é–‹ç™¼ä¸¦ç™¼å¸ƒ(publish) ï¼Œä¸€åˆ‡éƒ½æ˜¯ç‚ºäº†è¦è®“ VSCode æ›´åŠ å¯¦ç”¨ä¸Šæ‰‹ç”šè‡³ç¾è§€ã€‚&lt;/p>
&lt;p>é€™ç¯‡å°±æ˜¯è¦åˆ†äº«å¦‚ä½•å»ºç«‹ä¸¦ç™¼ä½ˆä¸€å€‹ Extensionï¼Œè‹±æ–‡ç¨‹åº¦ä¸éŒ¯çš„å»ºè­°ç›´æ¥é–±è®€&lt;a class="link" href="https://code.visualstudio.com/api/get-started/your-first-extension" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>ï¼Œæœƒæœ‰æ›´åŠ è©³ç´°çš„è§£èªª&lt;/p>
&lt;hr>
&lt;h2 id="é–‹ç™¼ç’°å¢ƒé…ç½®">é–‹ç™¼ç’°å¢ƒé…ç½®&lt;/h2>
&lt;p>åœ¨é–‹å§‹å‰ï¼Œè«‹ç…§ä¸‹æ–¹æŒ‡ç¤ºæ­£ç¢ºè¨­ç½®è‡ªå·±çš„ç’°å¢ƒã€‚&lt;/p>
&lt;h3 id="ç¢ºèªå·²å®‰è£-nodejs-èˆ‡-npm">ç¢ºèªå·²å®‰è£ nodejs èˆ‡ npm&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">node -v &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> npm -v
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœªå®‰è£å…©è€…ï¼Œè«‹å…ˆè‡³ &lt;a class="link" href="https://yeoman.io/codelab/setup.html" target="_blank" rel="noopener"
>Nodejs å®˜æ–¹ç¶²ç«™&lt;/a> ä¸‹è¼‰ã€‚npm æœƒéš¨è‘— nodejs ä¸‹è¼‰ä¸€ä½µè¢«å®‰è£ï¼Œæœ‰æ™‚å€™æ‚¨å¯èƒ½ä½¿ç”¨éèˆŠçš„ npmï¼Œé€™æ™‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤æ›´æ–°å®ƒåˆ°æœ€æ–°ç‰ˆã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -g npm@latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœæ­£ç¢ºå®‰è£äº†ä»¥ä¸Šå…©è€…ï¼Œæœƒè·³å‡ºå…©è¡Œç‰ˆæœ¬è™Ÿè³‡è¨Šã€‚&lt;/p>
&lt;h5 id="export">exportï¼š&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">v16.15.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">8.15.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å®‰è£-yoman">å®‰è£ yoman&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516668268_b231312990_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;a class="link" href="https://yeoman.io/" target="_blank" rel="noopener"
>Yoman&lt;/a> æ˜¯ä¸€æ¬¾æµè¡Œå·²ä¹…çš„code generatorï¼Œå¯ä»¥å…è¨±æˆ‘å€‘ä½¿ç”¨yomanè¨­ç½®å°ˆæ¡ˆçš„æ¨£æ¿ï¼Œ
ä¸¦è®“æˆ‘å€‘ä½¿ç”¨ &lt;code>yo&lt;/code> æŒ‡ä»¤å¿«é€Ÿç”¢ç”Ÿæ¨£æ¿å°ˆæ¡ˆã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52515645617_10a85c7f0f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>VSCode å®˜æ–¹å·²ç¶“ç™¼å¸ƒäº† &lt;strong>VSCode Yoman&lt;/strong> å°ˆæ¡ˆï¼Œä¸¦ä¸”å®šæœŸæ›´æ–°ï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;code>yo&lt;/code> æŒ‡ä»¤ç”¢ç”Ÿ VSCode Extensionï¼Œç„¡éœ€æ‰‹å‹•é–‹ç™¼ yoman æ¨£æ¿ã€‚&lt;/p>
&lt;p>è«‹ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤å®‰è£yomanèˆ‡VSCode Extension Generatorï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -g yo generator-code
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®‰è£ yoman å¾Œï¼Œå†æ¬¡ä½¿ç”¨ç‰ˆæœ¬è™ŸæŒ‡ä»¤ç¢ºèªæœ‰ç„¡æ­£ç¢ºå®‰è£ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">yo --version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="ä½¿ç”¨-yo-å¿«é€Ÿç”¢ç”Ÿç¬¬ä¸€å€‹-extension-å°ˆæ¡ˆ">ä½¿ç”¨ yo å¿«é€Ÿç”¢ç”Ÿç¬¬ä¸€å€‹ Extension å°ˆæ¡ˆ&lt;/h2>
&lt;p>é¦–å…ˆï¼Œæ–¼ terminal é€²å…¥ä¸€å€‹è¦&lt;strong>æ”¾ç½®å°ˆæ¡ˆ&lt;/strong>çš„è³‡æ–™å¤¾å¾Œï¼Œä½¿ç”¨æŒ‡ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">yo code
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>generator æœƒè·³å‡ºæç¤ºï¼Œè®“æˆ‘å€‘é¸æ“‡è¦ç”¢ç”Ÿçš„ extension ç¨®é¡ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516668248_1f28068fe5_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é€™äº› Extension é¸é …çš„æè¿°èˆ‡èªªæ˜å¦‚ä¸‹ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Extension é¸é …&lt;/th>
&lt;th>æè¿°&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>New Extension(Typescript)&lt;/td>
&lt;td>ç”¢ç”Ÿä½¿ç”¨typescripté–‹ç™¼çš„extensionå°ˆæ¡ˆ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>New Extension(Javascript)&lt;/td>
&lt;td>ç”¢ç”Ÿä½¿ç”¨javascripté–‹ç™¼çš„extensionå°ˆæ¡ˆ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>New Color Theme&lt;/td>
&lt;td>é…ç½®VSCodeä»‹é¢é¡è‰²çš„æ“´å……å¥—ä»¶å°ˆæ¡ˆ(è©³è¦‹: Color Theme)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>New Language Support&lt;/td>
&lt;td>ç¨‹å¼èªè¨€(Programming Languages)æ“´å……å¥—ä»¶&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>New Code Snippets&lt;/td>
&lt;td>ç¨‹å¼ç¢¼ç‰‡æ®µæ“´å……å¥—ä»¶&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>New Keymap&lt;/td>
&lt;td>å¿«æ·éµæ“´å……å¥—ä»¶ï¼Œkeymapè®“ä½¿ç”¨è€…å¾—ä»¥åœ¨vscodeä¸­ä½¿ç”¨vimã€sublimeç­‰ç­‰ä¸åŒç·¨è¼¯å™¨çš„å¿«æ·éµé–‹ç™¼ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>New Extension Pack&lt;/td>
&lt;td>æ‰“åŒ…å¤šå€‹å·²ç™¼ä½ˆçš„extensionï¼Œè®“ä½¿ç”¨è€…ä¸€éµå¿«é€Ÿå®‰è£ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>New Language Pack (Localization)&lt;/td>
&lt;td>é…ç½®VSCodeç·¨è¼¯å™¨å¤šåœ‹èªæ°£çš„æ“´å……å¥—ä»¶ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>æˆ‘å€‘ä¾åºè¼¸å…¥å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>What type of extension do you want to create?&lt;br>
é¸æ“‡ä½ è¦å»ºç«‹çš„å°ˆæ¡ˆé¡å‹&lt;br>
é€™é‚Šæˆ‘é¸æ“‡ç¬¬ä¸€å€‹ &lt;code>New Extension(Typescript)&lt;/code> é¸é …&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Whatâ€™s the name of your extension?&lt;br>
Extension åç¨±: å°æ‡‰åˆ° package.json &amp;ldquo;displayName&amp;rdquo;&lt;br>
é€™è£¡æˆ‘è¼¸å…¥ï¼š &lt;code>wconvert&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Whatâ€™s the identifier of your extension?&lt;br>
è­˜åˆ¥ç¢¼ï¼šå°æ‡‰åˆ° package.json &amp;ldquo;name&amp;rdquo;&lt;br>
é€™è£¡æˆ‘è¼¸å…¥ï¼š &lt;code>wconvert&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Whatâ€™s the description of your extension?&lt;br>
æè¿°: å°æ‡‰åˆ° package.json &amp;ldquo;description&amp;rdquo;&lt;br>
é€™è£¡æˆ‘è¼¸å…¥ï¼š &lt;code>my first vscode extension practice.&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Initialize a git repository?&lt;br>
æ˜¯å¦è¦ä½¿ç”¨ git&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Bundle the source code with webpack?&lt;br>
æ˜¯å¦è¦ä½¿ç”¨ webpack åšåŸå§‹ç¢¼çš„ bundle&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Which package manager to use?&lt;br>
è¦ä½¿ç”¨å“ªå€‹å¥—ä»¶ç®¡ç†å·¥å…·&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516598905_e15e8f8c7d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>è®“å­å½ˆé£›ä¸€æœƒå…’ï¼Œæœ€å¾Œ generator æœƒè©¢å•æ˜¯å¦ä½¿ç”¨ vscode æ‰“é–‹ï¼Œé€™é‚Šé¸æ“‡æ‰“é–‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516388099_78c5b73838_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="extension-å°ˆæ¡ˆé‡é»ç›¸é—œæª”æ¡ˆä»‹ç´¹">Extension å°ˆæ¡ˆé‡é»ç›¸é—œæª”æ¡ˆä»‹ç´¹&lt;/h2>
&lt;p>æ‰“é–‹å¾Œï¼Œæˆ‘å€‘æœƒçœ‹åˆ°ä¸€å€‹ nodejs çš„ typescript å°ˆæ¡ˆï¼Œçµæ§‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516668243_abf1262288_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ .vscode
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”œâ”€â”€ extensions.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”œâ”€â”€ launch.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”œâ”€â”€ settings.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â””â”€â”€ tasks.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ node_modules
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ src
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”œâ”€â”€ extension.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â””â”€â”€ &lt;span class="nb">test&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”œâ”€â”€ runTest.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â””â”€â”€ suite
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â”œâ”€â”€ extension.test.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚ â””â”€â”€ index.ts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ .eslintrc.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ .gitignore
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ .vscodeignore
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ CHANGELOG.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ package-lock.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ package.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ tsconfig.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ vsc-extension-quickstart.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>.vscode/*ï¼š &lt;strong>workspace&lt;/strong> è¨­å®š&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>æª”æ¡ˆåç¨±&lt;/th>
&lt;th>èªªæ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>task.json&lt;/td>
&lt;td>è¨­å®š defaultBuild Taskï¼Œç”¨æ–¼ compile extension å°ˆæ¡ˆçš„ typescript ç¨‹å¼ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>launch.json&lt;/td>
&lt;td>é…ç½® debug mode çš„å…©å€‹é¸é …ï¼š&lt;strong>Run extension&lt;/strong> èˆ‡ &lt;strong>Test extension&lt;/strong>ï¼Œç”¨æ–¼åŸ·è¡Œ extension ä¸»ç¨‹å¼èˆ‡ç›¸é—œæ¸¬è©¦ç¨‹å¼ï¼Œç¨‹å¼åŸ·è¡Œå‰ï¼Œæœƒå…ˆåŸ·è¡Œ &lt;strong>defulat buildTask&lt;/strong>ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>settings.json&lt;/td>
&lt;td>extension å°ˆæ¡ˆçš„è¨­å®šæª”ï¼Œæ­¤è™•çš„è¨­å®šæœƒè¦†è“‹ &lt;strong>user settings&lt;/strong> è·Ÿ &lt;strong>default settings&lt;/strong>ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>extensions.json&lt;/td>
&lt;td>è¨­å®šç”¨æ–¼è¼”åŠ© extension å°ˆæ¡ˆå®‰è£çš„ &lt;strong>extension recommendations list&lt;/strong>ï¼Œæ­¤è™•æ¨è–¦å®‰è£ &lt;strong>eslint extension&lt;/strong>ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>src/extensions.tsï¼š &lt;strong>ä¸»ç¨‹å¼&lt;/strong>æª”æ¡ˆ&lt;/li>
&lt;li>src/test.tsï¼š &lt;strong>æ¸¬è©¦ç¨‹å¼&lt;/strong>æª”æ¡ˆ&lt;/li>
&lt;li>.eslintrc.jsonï¼š ç”¨æ–¼ extension å°ˆæ¡ˆçš„ &lt;strong>eslint è¨­ç½®&lt;/strong>&lt;/li>
&lt;li>.vscodeignoreï¼š ç”¨æ–¼å¿½ç•¥&lt;strong>ä¸æ‰“åŒ…&lt;/strong>é€²ç™¼å¸ƒå¥—ä»¶çš„å°ˆæ¡ˆæª”æ¡ˆ&lt;/li>
&lt;li>tsconfig.jsonï¼š ç”¨æ–¼å°ˆæ¡ˆ &lt;strong>ts compiler&lt;/strong> çš„è¨­å®šé¸é …&lt;/li>
&lt;li>package.jsonï¼š ç”¨æ–¼é…ç½® node ç›¸é—œä¾è³´èˆ‡ç›¸é—œ npm scriptï¼Œåœ¨ extension å°ˆæ¡ˆè£¡ï¼Œpackage.json äº¦ç”¨æ–¼é…ç½® extension é‡è¦ç›¸é—œè¨­å®š (è©³è¦‹: &lt;a class="link" href="https://code.visualstudio.com/api/references/extension-manifest" target="_blank" rel="noopener"
>Extension Manifest&lt;/a>)&lt;/li>
&lt;li>vsc-extension-quickstart.mdï¼š ç”¢ç”Ÿçš„ extension å°ˆæ¡ˆçš„ &lt;strong>markdown èªªæ˜æ–‡ä»¶&lt;/strong>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="extension-å°ˆæ¡ˆç¨‹å¼ç°¡ä»‹">Extension å°ˆæ¡ˆç¨‹å¼ç°¡ä»‹&lt;/h2>
&lt;p>è®“æˆ‘å€‘æ‰“é–‹ &lt;code>extension.ts&lt;/code> å§ï¼Œæ‰“é–‹å¾Œå¯ä»¥çœ‹è¦‹ &lt;code>extension.ts&lt;/code> è£¡é¢æœ‰å€‹ &lt;code>active function&lt;/code> è·Ÿ &lt;code>deactive function&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516668223_68bd8009b0_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;code>active function&lt;/code> ç‚º extension ç¨‹å¼çš„&lt;code>é€²å…¥é»&lt;/code>ã€‚ç•¶ extension è¢« active äº‹ä»¶å•Ÿå‹•æ™‚ï¼Œå³æœƒåŸ·è¡Œ extension ç¨‹å¼ã€‚&lt;/p>
&lt;p>å› æ­¤æˆ‘å€‘å¯ä»¥æŸ¥çœ‹ &lt;code>pakcage.json&lt;/code>ï¼Œpackage.json é…ç½®äº† &lt;code>activeEvents&lt;/code> æ¸…å–®ï¼Œå¯ä»¥çœ‹åˆ°æ¸…å–®è£¡åˆ—å‡ºè·Ÿactive æœ‰é—œçš„è¨­å®š &lt;code>activationEvents&lt;/code>ã€‚&lt;/p>
&lt;h5 id="packagejson">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;activationEvents&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;onCommand:wconvert.helloWorld&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>activationEvents&lt;/code> æŒ‡å®šäº†ä¸€å€‹ &lt;code>hello world&lt;/code> commandï¼Œæ­¤å³æ˜¯èªªï¼Œç•¶ä½¿ç”¨è€…åŸ·è¡Œ &lt;code>hello world&lt;/code> command æ™‚ï¼Œextension å³æœƒæ´»èºä¸¦åŸ·è¡Œ &lt;code>active function&lt;/code>ã€‚&lt;/p>
&lt;p>æ­¤è™•çš„ &lt;code>onCommand&lt;/code> èªæ³•ç‚ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">onCommand: &lt;span class="si">${&lt;/span>&lt;span class="nv">commandId&lt;/span>&lt;span class="si">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‚£éº¼ï¼Œcommand çš„ id æ˜¯åœ¨å“ªè£¡é…ç½®çš„å‘¢ï¼Ÿ&lt;/p>
&lt;p>ä¸€æ¨£æ˜¯åœ¨ &lt;code>package.json&lt;/code> è£¡ï¼Œæˆ‘å€‘å¯ä»¥åˆ° &lt;code>contributes&lt;/code> å±¬æ€§ (&lt;code>Contribution Point&lt;/code>: è©³è¦‹ &lt;a class="link" href="https://code.visualstudio.com/api/references/contribution-points#contributes.configurationDefaults" target="_blank" rel="noopener"
>Contribution Point&lt;/a>) ä¸‹é¢æŸ¥çœ‹ï¼š&lt;/p>
&lt;h5 id="packagejson-1">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;contributes&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;commands&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;wconvert.helloWorld&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Hello World&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°åœ¨ &lt;code>contrubutes&lt;/code> å±¬æ€§ä¸‹é¢å·²ç¶“é…ç½®äº† &lt;code>commands&lt;/code> æ¸…å–®ï¼Œè£¡é¢æ¢åˆ—è‘—ä¸€å€‹ &lt;code>command&lt;/code> è¨­å®šï¼Œæ­¤è™• &lt;code>command&lt;/code> è¨­å®šçš„èªæ³•ç‚ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">/**&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">*&lt;/span> &lt;span class="err">è¢«ç”¢ç”Ÿçš„Commandæœƒé è¨­ä½¿ç”¨extensionçš„idä½œç‚ºnamespaceï¼Œäº¦å¯è‡ªè¨‚å…¶ä»–Namespaceåç¨±&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="err">è‡ªå®šç¾©çš„command-id&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="err">Commandçš„æ¨™é¡Œå…§å®¹&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ç•¶æˆ‘å€‘ä½¿ç”¨ Command Palette (&lt;strong>Cmd/Ctrl + Shift + P&lt;/strong>) æœå°‹ Command ä¸¦åŸ·è¡Œæ™‚ï¼Œæ˜¯ä½¿ç”¨ Command çš„ &lt;strong>Title&lt;/strong> æœå°‹ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>å¥½ï¼Œç¾åœ¨æˆ‘å€‘å·²ç¶“äº†è§£å¦‚ä½•åœ¨ &lt;code>Contribution Point&lt;/code> è¨­å®šç°¡å–®çš„ Command id è·Ÿ titleï¼Œä»¥åŠè¨­å®šå®ƒç‚ºæ´»èº extension çš„ eventã€‚ç¾åœ¨å›åˆ° &lt;code>extension.ts&lt;/code> çš„ active function å§ï¼&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">activate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">context&lt;/span>: &lt;span class="kt">vscode.ExtensionContext&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Use the console to output diagnostic information (console.log) and errors (console.error)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// This line of code will only be executed once when your extension is activated
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Congratulations, your extension &amp;#34;wconvert&amp;#34; is now active!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// The command has been defined in the package.json file
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Now provide the implementation of the command with registerCommand
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// The commandId parameter must match the command field in package.json
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">disposable&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">registerCommand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;wconvert.helloWorld&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// The code you place here will be executed every time your command is executed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// Display a message box to the user
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showInformationMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello World from wconvert!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subscriptions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">disposable&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘å€‘å¯ä»¥çœ‹åˆ°ï¼Œ&lt;code>active function&lt;/code> è£¡é¢åœ¨ extenions æ´»èºå¾Œå°‡è¨»å†Šæˆ‘å€‘åœ¨ &lt;code>Contribution Point&lt;/code> é‚£é‚Šè¨­å®šçš„ command idï¼Œä¸¦ä¸”æœ‰ä¸€å€‹ callback å‡½å¼ï¼Œç•¶æˆ‘å€‘é…ç½®çš„ command åŸ·è¡Œä¹‹å¾Œï¼Œå³æœƒåœ¨ vscode è£¡è·³å‡ºé¡¯ç¤ºã€Œ&lt;strong>Hello World from day05-first-command!&lt;/strong>ã€çš„è¨Šæ¯ã€‚&lt;/p>
&lt;p>é€™å€‹è¨»å†Šéå¾Œçš„ command å‡½å¼ (disposable) æœƒå† push é€² extension context è£¡é¢ï¼Œå¦‚æ­¤ç•¶ extension è¢«é—œé–‰å¾Œï¼ŒVSCode å°±å¯ä»¥è‡ªå‹•é‡‹æ”¾ listen é€™å€‹ command çš„ç›¸é—œè³‡æºã€‚&lt;/p>
&lt;hr>
&lt;h2 id="åŸ·è¡Œ-extension-å°ˆæ¡ˆæ‡‰ç”¨ç¨‹å¼">åŸ·è¡Œ extension å°ˆæ¡ˆæ‡‰ç”¨ç¨‹å¼&lt;/h2>
&lt;p>è®“æˆ‘å€‘ä¾†åŸ·è¡Œ extension å§ï¼Œvscode å°ˆæ¡ˆå·²ç¶“å¹«æˆ‘å€‘é…ç½®å¥½äº† &lt;code>lanunch.json&lt;/code>ï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥åœ¨ &lt;strong>debug mode&lt;/strong> è£¡åŸ·è¡Œ extensionã€‚è®“æˆ‘å€‘é»é–‹ã€Œ&lt;strong>Run and Debug&lt;/strong>ã€ï¼Œå†é»æ“Š sidebar ä¸Šæ–¹çš„ &lt;code>Run Extension&lt;/code> æ—çš„&lt;strong>åŸ·è¡ŒæŒ‰éˆ•&lt;/strong>é–‹å§‹ extension å§ï¼(æ­¤è™•çš„å¿«æ·éµç‚º &lt;code>F5&lt;/code>)&lt;/p>
&lt;p>åŸ·è¡Œå¾Œï¼Œvscode æœƒé–‹å•Ÿä¸€å€‹&lt;strong>æ–°çš„ vscode çš„ window è¦–çª—&lt;/strong>ï¼Œwindow è¦–çª—ä¸Šçš„ title æœƒè¨»æ˜é€™å€‹è¦–çª—ç‚º &lt;code>[Extension Development Host]&lt;/code> ä¸¦é è¨­è¼‰å…¥ extension äº†ï¼Œæˆ‘å€‘å¯ä»¥åœ¨é€™å€‹è¦–çª—æ“ä½œæˆ‘å€‘é–‹ç™¼ä¸­çš„ extensionï¼Œä¸¦ä¸”ä½¿ç”¨ä¸­æ–·é»åµéŒ¯ã€‚&lt;/p>
&lt;h3 id="æª¢æŸ¥å·²è¢«è¨»å†Šçš„-command">æª¢æŸ¥å·²è¢«è¨»å†Šçš„ command&lt;/h3>
&lt;p>å…ˆä¾†æª¢æŸ¥ä¸€ä¸‹å‰›æ‰è¨»å†Šçš„ commandï¼Œåœ¨ &lt;code>Contribution Point&lt;/code> è£¡å®£å‘Šçš„ Commandï¼Œä¸€æ¨£åœ¨ &lt;code>Keyboard Shortcuts&lt;/code> ä¸‹æ–¹å¯ä»¥æœå°‹çš„åˆ°ã€‚å¾ &lt;strong>Manager &amp;gt; Keyboard Shortcuts&lt;/strong> é€²å…¥ &lt;code>Keyboard Shortcuts&lt;/code> é ä¸­ï¼Œä¸¦åœ¨æœå°‹æ¢ä¸Šè¼¸å…¥ &lt;strong>wconvert&lt;/strong>ï¼Œä½¿ç”¨ extension id ä¾†åˆ—å‡ºå‰›æ‰è¨»å†Šçš„ commandã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516668213_5061107e60_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52515645567_5d83d2fff0_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>è¼¸å…¥å¾Œæˆ‘å€‘å¯ä»¥çœ‹åˆ°ï¼ŒCommand å·²æ­£ç¢ºè¢«è¨»å†Šã€‚&lt;/p>
&lt;h3 id="åŸ·è¡Œè¨»å†Šå¾Œçš„-command">åŸ·è¡Œè¨»å†Šå¾Œçš„ Command&lt;/h3>
&lt;p>ç¾åœ¨ï¼Œæˆ‘å€‘æ‰“é–‹ &lt;strong>Command Palette (å¿«æ·éµï¼šCmd/Ctrl + Shift + P)&lt;/strong>ï¼Œè¼¸å…¥ &lt;code>hello world&lt;/code>ï¼Œä½¿ç”¨è¨»å†Šçš„ &lt;strong>Command Title&lt;/strong> æŸ¥æ‰¾åˆ° commandã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516598845_15b1b64528_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç„¶å¾Œï¼Œé»æ“Šä¸‹å»ï¼Œæˆ‘å€‘å¯ä»¥çœ‹åˆ° vscode çš„ window æ­£ç¢ºè·³å‡ºã€Œ&lt;strong>Hello World from day05-first-command!&lt;/strong>ã€è¨Šæ¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516668188_bc100ba36a_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç„¶å¾Œï¼Œæˆ‘å€‘å›åˆ°&lt;strong>åŸæœ¬å°ˆæ¡ˆ&lt;/strong>çš„ Vscode Windowï¼Œæˆ‘å€‘å¯ä»¥åœ¨å°ˆæ¡ˆçš„ &lt;strong>debug console&lt;/strong> æª¢è¦– active function ä¸‹é¢çš„ console.log è¨Šæ¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516388004_f7b61f5236_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="åŠ å…¥å¥—ä»¶é‚è¼¯">åŠ å…¥å¥—ä»¶é‚è¼¯&lt;/h2>
&lt;blockquote>
&lt;p>é€™é‚Šå¯ä»¥ä¾ç…§ä½ çš„éœ€æ±‚é€²è¡Œå¥—ä»¶é‚è¼¯çš„é–‹ç™¼ï¼Œæˆ‘åªæ˜¯å¯«ä¾†ç©è€Œå·²ï¼Œæ­¤è™•åƒè€ƒå³å¯ï¼&lt;/p>
&lt;/blockquote>
&lt;h3 id="è¨»å†Šè‡ªå·±æƒ³è¦ä½¿ç”¨çš„-command">è¨»å†Šè‡ªå·±æƒ³è¦ä½¿ç”¨çš„ Command&lt;/h3>
&lt;p>æˆ‘æ‰“ç®—è£½ä½œä»¥ä¸‹å¹¾å€‹åŠŸèƒ½ï¼š&lt;/p>
&lt;ol>
&lt;li>è¼¸å…¥æŒ‡å®šçš„æ™‚é–“æ ¼å¼ï¼Œæœƒåœ¨&lt;strong>ç•¶å‰æª”æ¡ˆæŒ‡æ¨™ä½ç½®æ’å…¥ç”¢ç”Ÿçš„æ™‚é–“æˆ³&lt;/strong>&lt;/li>
&lt;li>è¼¸å…¥æŒ‡å®šçš„æ™‚é–“æ ¼å¼ï¼Œåƒ…æœƒåœ¨&lt;strong>vscode çš„ window é¡¯ç¤º&lt;/strong>&lt;/li>
&lt;li>å°‡é¸å–èµ·ä¾†çš„æ™‚é–“æˆ³ï¼Œè½‰æ›ç‚ºæŒ‡å®šæ™‚å€çš„æ™‚é–“æ ¼å¼(é€™é‚Šä»¥ &lt;strong>YYYY-MM-DD hh:mm:ss.milsecond&lt;/strong> æ ¼å¼ç‚ºä¸»)&lt;/li>
&lt;/ol>
&lt;p>é™„ä¸Šå®Œæˆå¾Œçš„ç¨‹å¼ç¢¼ï¼š&lt;/p>
&lt;h5 id="extensionts">extension.ts&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;span class="lnt">87
&lt;/span>&lt;span class="lnt">88
&lt;/span>&lt;span class="lnt">89
&lt;/span>&lt;span class="lnt">90
&lt;/span>&lt;span class="lnt">91
&lt;/span>&lt;span class="lnt">92
&lt;/span>&lt;span class="lnt">93
&lt;/span>&lt;span class="lnt">94
&lt;/span>&lt;span class="lnt">95
&lt;/span>&lt;span class="lnt">96
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">import&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="kr">as&lt;/span> &lt;span class="nx">vscode&lt;/span> &lt;span class="kr">from&lt;/span> &lt;span class="s1">&amp;#39;vscode&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">activate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">context&lt;/span>: &lt;span class="kt">vscode.ExtensionContext&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">input&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">placeHolder&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showInputBox&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">placeHolder&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">pad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">num&lt;/span>: &lt;span class="kt">string&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">size&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">num&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">size&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;0&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">num&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// show timestamp at vscode Information Window
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">showTimestamp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">datetime&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">timestamp&lt;/span>: &lt;span class="kt">number&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kc">undefined&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">NaN&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">timestamp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">datetime&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">getTime&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">timestamp&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s2">&amp;#34;number&amp;#34;&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nb">isNaN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">timestamp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nx">timestamp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;NaN&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">askDateTime&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showInformationMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">timestamp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showErrorMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Invalid Date.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">askDateTime&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// create input with asking DateTime
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">askDateTime() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">fullDateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;DateTime (format: YYYY-MM-DD hh:mm:ss.ms) (example: 2022-12-31 23:59:59.999)ï¼š&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">fullDateTime&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">showTimestamp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fullDateTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Insert timestamp at cursor position
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">registerTextEditorCommand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;wconvert.genTimestamp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">editor&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">edit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">fullDateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;DateTime (format: YYYY-MM-DD hh:mm:ss.ms) (example: 2022-12-31 23:59:59.999)ï¼š&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nx">fullDateTime&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">timestamp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fullDateTime&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">getTime&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="nb">isNaN&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">timestamp&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="k">typeof&lt;/span> &lt;span class="nx">timestamp&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;number&amp;#34;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nx">timestamp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="s2">&amp;#34;NaN&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">editor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">edit&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">editBuilder&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">editor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">selections&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forEach&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">selectionItem&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">editBuilder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">insert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">selectionItem&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">active&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">timestamp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showErrorMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Datetime convert failed.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showErrorMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Invalid Date.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// only show generated timestamp
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">generateTimestamp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">registerCommand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;wconvert.genTimestampJustShow&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">askDateTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// format timestamp to YYYY-MM-DD HH:mm:ss that selections
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">timestamp2DateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">commands&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">registerTextEditorCommand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;wconvert.timestamp2dateTime&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">editor&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">edit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">offsetStr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">input&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Time zone (example: +8)ï¼š&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">offset&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Number&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">offsetStr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">editor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">edit&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">editBuilder&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">editor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">selections&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forEach&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">selectionItem&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">selection&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">editor&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getText&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">selectionItem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">dateArr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">parseInt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">selection&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">offset&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">60&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)).&lt;/span>&lt;span class="nx">toISOString&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;T&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">YYYYMMDD&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">hhmmss&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">dateArr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">year&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">month&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">day&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">YYYYMMDD&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;-&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">hour&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">minute&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fullSecond&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">hhmmss&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;:&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">second&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">millionSecondZ&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">fullSecond&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">millionSecond&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">millionSecondZ&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">replace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Z&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">fullDateTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sb">`&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">year&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">-&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">pad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">month&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">-&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">pad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">day&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">pad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">hour&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">:&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">pad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">minute&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">:&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">pad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">second&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">.&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">pad&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">millionSecond&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">&amp;#34;`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">editBuilder&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">replace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">selectionItem&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fullDateTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">catch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">vscode&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showErrorMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Invalid Date.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">context&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">subscriptions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">timestamp2DateTime&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">generateTimestamp&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="nx">deactivate() {&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>package.json&lt;/strong> çš„ &lt;strong>activationEvents&lt;/strong> è¨˜å¾—åŠ ä¸Šæ¬²è¨»å†Šä½¿ç”¨çš„ commandï¼Œä¹Ÿå¯ç›´æ¥ä½¿ç”¨ &lt;code>&amp;quot;*&amp;quot;&lt;/code>ï¼Œå°‡å…¨éƒ¨çš„ command æš´éœ²å‡ºå»ï¼&lt;/p>
&lt;h5 id="packagejson-2">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;wconvert&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;displayName&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;wconvert&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;description&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;help you convert datetime value&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;1.0.3&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;icon&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;photo.jpeg&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;publisher&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;4006wayne&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;repository&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;type&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;git&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://github.com/wjdesign/vscode-extension-wconvert.git&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;homepage&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://github.com/wjdesign/vscode-extension-wconvert/blob/master/README.md&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;pricing&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Free&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;engines&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;vscode&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^1.73.0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;categories&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Other&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;activationEvents&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;onCommand:wconvert.timestamp2dateTime&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;onCommand:wconvert.genTimestamp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;onCommand:wconvert.genTimestampJustShow&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;main&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;./out/extension.js&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;contributes&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;commands&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;wconvert.timestamp2dateTime&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;WConvert: DateTime to timestamp&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;wconvert.genTimestamp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;WConvert: Generate Timestamp&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;wconvert.genTimestampJustShow&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;title&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;WConvert: Generate Timestamp Only Show&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;scripts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;vscode:prepublish&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;npm run compile&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;compile&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;tsc -p ./&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;watch&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;tsc -watch -p ./&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;pretest&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;npm run compile &amp;amp;&amp;amp; npm run lint&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;lint&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;eslint src --ext ts&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;node ./out/test/runTest.js&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;devDependencies&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@types/vscode&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^1.73.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@types/glob&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^8.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@types/mocha&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^10.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@types/node&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;16.x&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@typescript-eslint/eslint-plugin&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^5.42.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@typescript-eslint/parser&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^5.42.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;eslint&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^8.26.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;glob&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^8.0.3&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;mocha&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^10.1.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;typescript&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^4.8.4&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;@vscode/test-electron&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;^2.2.0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://github.com/wjdesign/vscode-extension-wconvert.git" target="_blank" rel="noopener"
>ç¯„ä¾‹ repo&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="vsce">vsce&lt;/h2>
&lt;p>æ‰“åŒ…ä¸¦ç™¼å¸ƒ Extensionï¼Œ&lt;a class="link" href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡ä»¶&lt;/a>&lt;/p>
&lt;p>ä½¿ç”¨ &lt;strong>vsce&lt;/strong> ä¾†&lt;strong>æ‰“åŒ…&lt;/strong>èˆ‡&lt;strong>ç™¼å¸ƒ&lt;/strong>æˆ‘çš„ Extension&lt;/p>
&lt;p>é¦–å…ˆå…¨å±€å®‰è£ vsceï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm i -g vsce
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ‰“åŒ…">æ‰“åŒ…&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vsce package
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸‹å®ŒæŒ‡ä»¤å¾Œï¼Œæœƒå› ç‚ºæ²’æœ‰ LICENSE æª”æ¡ˆè€Œè©¢å•æ˜¯å¦ç¹¼çºŒï¼Œé€™é‚Šé¸æ“‡ &lt;strong>Y&lt;/strong> ç›´æ¥ä¸‹ä¸€æ­¥å³å¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516387984_83999b3838_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å®Œæˆå¾Œæœƒåœ¨æŒ‡å®šä½ç½®ç”¢ç”Ÿä¸€å€‹ &lt;strong>.vsix&lt;/strong> æª”æ¡ˆï¼Œæ­¤å³ç‚ºæˆ‘çš„ &lt;strong>Extensions&lt;/strong>ã€‚&lt;/p>
&lt;h3 id="æœ¬åœ°å®‰è£æˆ‘çš„-extension">æœ¬åœ°å®‰è£æˆ‘çš„ Extension&lt;/h3>
&lt;p>è‹¥åªæ˜¯è¦è£½ä½œä¸€å€‹è‡ªå·±ç”¨çš„ extensionï¼Œæ²’æœ‰æ‰“ç®—ç™¼å¸ƒåˆ°ç¶²ä¸Šï¼Œåˆ°æ­¤æ­¥é©Ÿå³å¯ã€‚&lt;/p>
&lt;p>æ–¼ VScode çš„ Extensions é ç±¤ï¼Œé¸æ“‡ &lt;code>Install from VSIX&lt;/code>ï¼Œé¸æ“‡å‰›å‰›ç”¢ç”Ÿçš„ &lt;strong>.vsix&lt;/strong> æª”ï¼Œå³å¯å®Œæˆå®‰è£ï¼Œåœ¨ Extensions çš„ &lt;strong>INSTALLED&lt;/strong> å…§å³å¯çœ‹åˆ°è‡ªå·±çš„ extensionã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516120346_6d5ba5a634_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516668143_944d432b0b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="ç™¼å¸ƒåˆ°-marketplace-å‰çš„æº–å‚™">ç™¼å¸ƒåˆ° Marketplace å‰çš„æº–å‚™&lt;/h2>
&lt;blockquote>
&lt;p>è¨˜ä½ï¼æ¯æ¬¡ç™¼ä½ˆéƒ½è¦å¹«ç‰ˆæœ¬è™ŸåŠ ä¸€ä¸‹ï¼&lt;/p>
&lt;/blockquote>
&lt;h5 id="packagejson-3">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0.0.1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>vsce è¦æ±‚ &lt;strong>Personal Access Token&lt;/strong> å€‹äººè¨ªå•é‡‘é‘°ï¼Œä»¥ä¸‹çš„æ­¥é©Ÿåœ–ç‰‡ä¾†æºç‚º&lt;a class="link" href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension#get-a-personal-access-token" target="_blank" rel="noopener"
>å®˜æ–¹èªªæ˜æ–‡ä»¶&lt;/a>&lt;/p>
&lt;p>é¦–å…ˆè«‹åˆ° &lt;a class="link" href="https://dev.azure.com/" target="_blank" rel="noopener"
>https://dev.azure.com/&lt;/a> ç”³è«‹å¸³è™Ÿä¸¦ç™»å…¥ï¼Œåœ¨å³ä¸Šè§’æ‰“é–‹ &lt;strong>Personal access tokens&lt;/strong> é é¢ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516120321_319034d250_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>é»é¸ &lt;strong>New Token&lt;/strong> æŒ‰éˆ•ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516120311_3b05a19de2_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>çµ¦é€™å€‹æ–° Tokenä¸€å€‹åå­—ã€éæœŸæ™‚é–“ï¼Œé‡é»æ˜¯ Organization è«‹é¸æ“‡ &lt;code>All accessiable organization&lt;/code>ï¼Œé»é¸ &lt;code>Custom defined&lt;/code> ä¸¦é»é¸ &lt;code>Show all scopes&lt;/code> æ‰“é–‹æ‰€æœ‰é¸é …ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516598710_1a7bbd760b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>æ‰¾åˆ° &lt;code>Marketplace&lt;/code> é …ç›®å‹¾é¸ &lt;code>Acquire&lt;/code> èˆ‡ &lt;code>Manage&lt;/code> å¾Œé»é¸ &lt;strong>Create&lt;/strong>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516120281_7c0a59106d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ç„¶å¾Œä½ æœƒå¾—åˆ°ä¸€å€‹ &lt;strong>Token&lt;/strong> è«‹è¤‡è£½ä¸‹ä¾†ã€‚&lt;/p>
&lt;h3 id="å»ºç«‹ç™¼ä½ˆå™¨---publisher">å»ºç«‹ç™¼ä½ˆå™¨ - Publisher&lt;/h3>
&lt;p>å»ºç«‹ä¸€å€‹ &lt;strong>Publisher&lt;/strong> ç”¨ä¾†å„²å­˜ç™¼ä½ˆçš„ Token ï¼Œè«‹åœ¨ &lt;code>package.json&lt;/code> ä¸­æŒ‡å®šè¦ä½¿ç”¨çš„ç™¼ä½ˆå™¨&amp;quot;publisher&amp;quot;: (publisher name)&lt;/p>
&lt;h5 id="packagejson-4">package.json&lt;/h5>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;publisher&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{your publisher name}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä½¿ç”¨-marketplace-å¾Œå°å»ºç«‹-publisher">ä½¿ç”¨ Marketplace å¾Œå°å»ºç«‹ Publisher&lt;/h4>
&lt;p>è«‹åˆ° &lt;a class="link" href="https://marketplace.visualstudio.com/manage/publishers/" target="_blank" rel="noopener"
>https://marketplace.visualstudio.com/manage/publishers/&lt;/a> å»ºç«‹ä¸€å€‹ Publisherã€‚&lt;/p>
&lt;h4 id="ä½¿ç”¨-vsce-æŒ‡ä»¤å»ºç«‹-publisher">ä½¿ç”¨ vsce æŒ‡ä»¤å»ºç«‹ Publisher&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vsce create-publisher &lt;span class="o">(&lt;/span>publisher name&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¼¸å…¥å‰›å‰›çš„ &lt;strong>Personal access token&lt;/strong>ï¼Œvsce å°‡æœƒè¨˜å¾—é€™å€‹ publisher èˆ‡ token ä»¥æ–¹ä¾¿å¿«é€Ÿç™¼ä½ˆã€‚&lt;/p>
&lt;h4 id="token-æ›´æ–°">Token æ›´æ–°&lt;/h4>
&lt;p>åœ¨æˆ‘å€‘å»ºç«‹ token æ™‚ï¼Œtoken æ˜¯æœ‰æ•ˆæœŸçš„ï¼Œç•¶ token éæœŸæ™‚æˆ‘å€‘å°±éœ€è¦ä»¥ä¸‹é€™å€‹æŒ‡ä¾†æ›´æ–° tokenï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vsce login &lt;span class="o">(&lt;/span>publisher name&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç™¼å¸ƒæ–¹å¼ä¸€ä½¿ç”¨-vsce-ç™¼å¸ƒ-extension">ç™¼å¸ƒæ–¹å¼(ä¸€)ï¼šä½¿ç”¨ vsce ç™¼å¸ƒ extension&lt;/h3>
&lt;p>ä¸‹æŒ‡ä»¤ç™¼å¸ƒåˆ° Marketplaceï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vsce publish
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ vsce show ç¢ºèª extension çš„è³‡è¨Šï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vsce show {publisher name}.{extension id}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vsce show 4006wayne.wconvert
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516598715_eb7f3669d6_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>ä¹Ÿå¯ä»¥åœ¨ vsce publish æ™‚&lt;strong>ç›´æ¥æŒ‡å®š&lt;/strong> tokenï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vsce publish -p &amp;lt;token&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç™¼å¸ƒæ–¹å¼äºŒä½¿ç”¨-marketplace-å¾Œå°ä¸Šå‚³ç™¼å¸ƒ-extension">ç™¼å¸ƒæ–¹å¼(äºŒ)ï¼šä½¿ç”¨ Marketplace å¾Œå°ä¸Šå‚³ï¼Œç™¼å¸ƒ extension&lt;/h3>
&lt;p>å‰å¾€ç¶²å€ &lt;a class="link" href="https://marketplace.visualstudio.com/manage/publishers/" target="_blank" rel="noopener"
>https://marketplace.visualstudio.com/manage/publishers/&lt;/a>ï¼Œé¸æ“‡å‰›å‰›å‰µå»ºçš„ Publisherã€‚&lt;/p>
&lt;p>é»é¸ &lt;code>New extension&lt;/code> &amp;gt; &lt;code>Visual Studio Code&lt;/code>ï¼Œé¸æ“‡å‰›å‰› package å‡ºä¾†çš„ &lt;strong>.vsix&lt;/strong> æª”æ¡ˆå¾Œä¸Šå‚³ã€‚&lt;/p>
&lt;p>ä¸Šå‚³å¾Œç­‰å¾…é©—è­‰ï¼Œé©—è­‰å®Œç•¢å¾Œå³å¯çœ‹åˆ°æˆ‘çš„ extensionï¼š&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52516120256_c2c653269d_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;hr>
&lt;h2 id="çµèª">çµèª&lt;/h2>
&lt;p>åˆ°é€™è£¡æˆ‘å·²ç¶“æˆåŠŸç™¼ä½ˆæˆ‘çš„ç¬¬ä¸€å€‹ Extension äº†ï¼&lt;/p>
&lt;p>é€™æ˜¯æˆ‘å¯«çš„ç¬¬ä¸€å€‹ &lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=4006wayne.wconvert" target="_blank" rel="noopener"
>Extension&lt;/a>ï¼ŒåŠŸèƒ½å¾ˆé™½æ˜¥ï¼Œç”¨é€”æ˜¯ç”¢ç”ŸæŒ‡å®šæ™‚é–“çš„æ™‚é–“æˆ³èˆ‡æ™‚é–“æˆ³è½‰å›æŒ‡å®šæ™‚å€çš„æ™‚é–“æ ¼å¼ã€‚&lt;/p>
&lt;p>éå¸¸æ¨è–¦ä½¿ç”¨ &lt;strong>Typescript&lt;/strong> æœƒæ¯”è¼ƒå®¹æ˜“é–‹ç™¼ï¼Œä¸ç„¶è¦æŸ¥&lt;a class="link" href="https://code.visualstudio.com/api/references/vscode-api" target="_blank" rel="noopener"
>å®˜æ–¹API&lt;/a>æœƒçœ‹å¾—å¾ˆç—›è‹¦ï¼Œç•¢ç«Ÿç¯„ä¾‹ä¸å¤šæˆ–è€…éƒ½è¦ä¸‹è¼‰æ‰èƒ½çœ‹ã€‚&lt;/p>
&lt;p>å¯¦éš›æ’°å¯«æ™‚æœƒé‡åˆ° VScode API åˆ°åº•æœ‰å“ªäº›åŠŸèƒ½å¯ä»¥ä½¿ç”¨çš„å•é¡Œï¼Œç”šè‡³è¦å»äº†è§£ VScode çš„è¨­è¨ˆçµæ§‹ï¼&lt;/p>
&lt;hr>
&lt;h2 id="å¸¸è¦‹å•é¡Œ">å¸¸è¦‹å•é¡Œ&lt;/h2>
&lt;h3 id="extension-validation-error">Extension validation error&lt;/h3>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52515645457_6ccdbc151e_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;p>å‡ºç¾å¦‚åœ–çš„å•é¡Œï¼Œè‡ªè¡Œæ’æŸ¥ extension ç¨‹å¼ç¢¼å¾Œç™¼ç¾éç¨‹å¼ç¢¼é‚è¼¯çš„å•é¡Œï¼Œå¯ä»¥ä¸Š &lt;a class="link" href="https://github.com/microsoft/vsmarketplace/issues" target="_blank" rel="noopener"
>issues&lt;/a> å°‡è³‡è¨Šåæ‡‰çµ¦ vsmarketplaceï¼Œæ­¤å¯èƒ½ç‚º marketplace é©—è­‰ extension æ™‚åµæ¸¬åˆ°ç‰¹å®šå­—å…ƒçµ„åˆè€Œé˜»æ“‹æ‰ï¼Œæœƒå°ˆäººå”åŠ©è™•ç†ã€‚&lt;/p>
&lt;p>é™„ä¸Šæœ¬äººé‡åˆ°æ­¤å•é¡Œçš„ &lt;a class="link" href="https://github.com/microsoft/vsmarketplace/issues/522" target="_blank" rel="noopener"
>Issues&lt;/a>&lt;/p>
&lt;hr></description></item><item><title>TypeScript çš„å¯¦ç”¨æ–¹æ³•ï¼å¤§å®¶ä¸€å®šè¦å­¸æœƒå•Šï¼</title><link>https://wayneblog.ga/2022-10-28/ts-useful-tricks/</link><pubDate>Fri, 28 Oct 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-10-28/ts-useful-tricks/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52459954880_4228a13922_o.png" alt="Featured image of post TypeScript çš„å¯¦ç”¨æ–¹æ³•ï¼å¤§å®¶ä¸€å®šè¦å­¸æœƒå•Šï¼" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://www.readfog.com/a/1679288518580473856" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>å¾ˆå¤šäººåœ¨å¹³æ™‚çš„é–‹ç™¼ä¸­ä½¿ç”¨åˆ°äº† TypeScriptï¼Œä½†æ˜¯å¯èƒ½åªæ˜¯å–®ç´”ä½¿ç”¨äº†ä¸€äº›åŸºæœ¬çš„é¡å‹ï¼Œä½†å¾ˆå¤šäººä¸çŸ¥é“å…¶å¯¦ TypeScript è‡ªå¸¶äº†å¾ˆå¤šéå¸¸æ–¹ä¾¿çš„æ–¹æ³•ï¼Œæ¥ä¸‹ä¾†æˆ‘å°±çµåˆä¾‹å­ï¼Œçµ¦å¤§å®¶ä»‹ç´¹ä¸€ä¸‹é€™äº›å¾ˆæ–¹ä¾¿çš„æ–¹æ³•ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="typescript-è‡ªå¸¶çš„æ–¹æ³•">TypeScript è‡ªå¸¶çš„æ–¹æ³•&lt;/h2>
&lt;h3 id="partial">Partial&lt;/h3>
&lt;h4 id="ä½œç”¨">ä½œç”¨&lt;/h4>
&lt;p>&lt;strong>&lt;code>Partial&lt;/code>&lt;/strong> å°‡é¡å‹çš„å±¬æ€§è®Šæˆ&lt;strong>å¯é¸&lt;/strong>&lt;/p>
&lt;h4 id="ä¾‹å­">ä¾‹å­&lt;/h4>
&lt;p>å‡å¦‚æˆ‘ç¾åœ¨æœ‰å€‹ &lt;code>interface&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">IUser1&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ‰ä¸€å¤©ï¼Œæˆ‘æƒ³æŠŠ &lt;code>IUser&lt;/code> èº«ä¸Šçš„å±¬æ€§éƒ½è®Šæˆå¯é¸çš„ï¼Œé‚£æˆ‘å¯èƒ½æœƒå†å¯«ä¸€å€‹ &lt;code>interface&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">IUser2&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name?&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age?&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender?&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†æ˜¯å¦‚æœå±¬æ€§å¤šäº†çš„è©±ï¼Œæˆ‘å€‘åˆå¾—å¯«å¾ˆå¤šé¡å¤–çš„ä»£ç¢¼ï¼Œé€™å€‹æ™‚å€™å°±å¯ä»¥ç›´æ¥ç”¨ &lt;strong>&lt;code>Partial&lt;/code>&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">IUser2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Partial&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">IUser1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç­‰åŒæ–¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">IUser2&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name?&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age?&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender?&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åŸç†">åŸç†&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">Partial&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="nx">P&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="k">keyof&lt;/span> &lt;span class="nx">T&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">?:&lt;/span> &lt;span class="nx">T&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">P&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="required">Required&lt;/h3>
&lt;h4 id="ä½œç”¨-1">ä½œç”¨&lt;/h4>
&lt;p>&lt;strong>&lt;code>Required&lt;/code>&lt;/strong> å°‡é¡å‹çš„å±¬æ€§è®Šæˆ&lt;strong>å¿…é¸&lt;/strong>&lt;/p>
&lt;h4 id="ä¾‹å­-1">ä¾‹å­&lt;/h4>
&lt;p>å‡å¦‚æˆ‘ç¾åœ¨æœ‰å€‹ &lt;code>interface&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">IUser1&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age?&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender?&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°æœ‰ä¸€äº›å±¬æ€§æ˜¯å¯é¸çš„ï¼Œä½†æ˜¯çªç„¶æœ‰ä¸€å¤©ï¼Œæˆ‘æƒ³è®“æ‰€æœ‰å±¬æ€§è®Šæˆå¿…é¸æˆ‘æœƒå†å¯«ä¸€å€‹ &lt;code>interface&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">IUser2&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender&lt;/span>: &lt;span class="kt">number&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†å¦‚æœå±¬æ€§å¤šäº†çš„è©±ï¼Œåˆè¦å¯«å¾ˆå¤šé¡å¤–çš„ä»£ç¢¼ï¼Œé€™æ™‚å€™ &lt;strong>&lt;code>Required&lt;/code>&lt;/strong> å°±æ´¾ä¸Šç”¨å ´äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">IUser2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Required&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">IUser1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç­‰åŒæ–¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">IUser2&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender&lt;/span>: &lt;span class="kt">number&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åŸç†-1">åŸç†&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">Required&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="nx">P&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="k">keyof&lt;/span> &lt;span class="nx">T&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">-?:&lt;/span> &lt;span class="nx">T&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">P&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="pick">Pick&lt;/h3>
&lt;h4 id="ä½œç”¨-2">ä½œç”¨&lt;/h4>
&lt;p>&lt;strong>&lt;code>Pick&lt;/code>&lt;/strong> å¾æŸå€‹é¡å‹ä¸­æŒ‘å‡ºä¸€äº›å±¬æ€§å‡ºä¾†&lt;/p>
&lt;h4 id="ä¾‹å­-2">ä¾‹å­&lt;/h4>
&lt;p>å‡å¦‚æˆ‘ç¾åœ¨æœ‰å€‹ &lt;code>interface&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">IUser1&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ‰ä¸€å¤©æˆ‘æƒ³è¦å¯«ä¸€å€‹æ–° &lt;code>interface&lt;/code>ï¼Œå®ƒåªæ“æœ‰ &lt;code>age&lt;/code>ã€&lt;code>gender&lt;/code> é€™å…©å€‹å±¬æ€§ï¼Œé‚£æˆ‘æœƒé‡æ–°å¯«ä¸€å€‹ &lt;code>interface&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">IUser2&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†å…¶å¯¦ä½¿ç”¨ &lt;strong>&lt;code>Pick&lt;/code>&lt;/strong> éå¸¸æ–¹ä¾¿å»åšé€™ä»¶äº‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">IUser2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Pick&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">IUser1&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="err">&amp;#39;&lt;/span>&lt;span class="na">age&lt;/span>&lt;span class="err">&amp;#39;&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="err">&amp;#39;&lt;/span>&lt;span class="na">gender&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç­‰åŒæ–¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">IUser2&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åŸç†-2">åŸç†&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">Pick&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">K&lt;/span> &lt;span class="na">extends&lt;/span> &lt;span class="na">keyof&lt;/span> &lt;span class="na">T&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="nx">P&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="nx">K&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">T&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">P&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="omit">Omit&lt;/h3>
&lt;h4 id="ä½œç”¨-3">ä½œç”¨&lt;/h4>
&lt;p>&lt;strong>&lt;code>Omit&amp;lt;T, K extends keyof any&amp;gt;&lt;/code>&lt;/strong> çš„ä½œç”¨æ˜¯ä½¿ç”¨ &lt;code>T&lt;/code> é¡å‹ä¸­é™¤äº† &lt;code>K&lt;/code> é¡å‹çš„æ‰€æœ‰å±¬æ€§ï¼Œä¾†æ§‹é€ ä¸€å€‹æ–°çš„é¡å‹ã€‚&lt;/p>
&lt;h4 id="ä¾‹å­-3">ä¾‹å­&lt;/h4>
&lt;p>å‡å¦‚æˆ‘ç¾åœ¨æœ‰å€‹ &lt;code>interface&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">IUser1&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ‰ä¸€å¤©æˆ‘æƒ³è¦å¯«ä¸€å€‹æ–° &lt;code>interface&lt;/code>ï¼Œå®ƒåªæ“æœ‰ &lt;code>age&lt;/code>ã€&lt;code>gender&lt;/code> é€™å…©å€‹å±¬æ€§ï¼Œé‚£æˆ‘æœƒé‡æ–°å¯«ä¸€å€‹ &lt;code>interface&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">IUser2&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†å…¶å¯¦ä½¿ç”¨ &lt;strong>&lt;code>Omit&lt;/code>&lt;/strong> éå¸¸æ–¹ä¾¿å»åšé€™ä»¶äº‹&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">IUser2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Omit&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">IUser1&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="err">&amp;#39;&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// ç­‰åŒæ–¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">IUser2&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">age&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">gender&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åŸç†-3">åŸç†&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">Omit&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">K&lt;/span> &lt;span class="na">extends&lt;/span> &lt;span class="na">keyof&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Pick&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">Exclude&lt;/span>&lt;span class="err">&amp;lt;&lt;/span>&lt;span class="na">keyof&lt;/span> &lt;span class="na">T&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">K&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="nonnullable">NonNullable&lt;/h3>
&lt;h4 id="ä½œç”¨-4">ä½œç”¨&lt;/h4>
&lt;p>&lt;strong>&lt;code>NonNullable&lt;/code>&lt;/strong> çš„ä½œç”¨æ˜¯ç”¨ä¾†éæ¿¾é¡å‹ä¸­çš„ &lt;code>null&lt;/code> åŠ &lt;code>undefined&lt;/code> é¡å‹ã€‚&lt;/p>
&lt;h4 id="ä¾‹å­-4">ä¾‹å­&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// string | number
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">type&lt;/span> &lt;span class="nx">T0&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">NonNullable&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">string&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="na">number&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="na">undefined&lt;/span>&lt;span class="p">&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// string[]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">type&lt;/span> &lt;span class="nx">T1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">NonNullable&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">string&lt;/span>&lt;span class="err">[]&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="na">null&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="na">undefined&lt;/span>&lt;span class="p">&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åŸç†-4">åŸç†&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">NonNullable&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">T&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="kc">null&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="kc">undefined&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="kt">never&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">T&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="returntype">ReturnType&lt;/h3>
&lt;h4 id="ä½œç”¨-5">ä½œç”¨&lt;/h4>
&lt;p>&lt;strong>&lt;code>ReturnType&lt;/code>&lt;/strong> çš„ä½œç”¨æ˜¯ç”¨ä¾†å¾—åˆ°ä¸€å€‹å‡½æ•¸çš„è¿”å›å€¼é¡å‹ã€‚&lt;/p>
&lt;h4 id="ä¾‹å­-5">ä¾‹å­&lt;/h4>
&lt;p>å‡å¦‚æˆ‘æƒ³å®šç¾©ä¸€å€‹&lt;code>è®Šé‡&lt;/code>ä¾†æ¥å—ä¸€å€‹&lt;code>å‡½æ•¸&lt;/code>çš„è¿”å›å€¼ï¼Œä½†æ˜¯ä¸çŸ¥é“æ€éº¼å®šç¾©é€™å€‹è®Šé‡çš„é¡å‹ï¼Œé€™å€‹æ™‚å€™å¯ä»¥ç”¨ &lt;strong>&lt;code>ReturnType&lt;/code>&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">Func&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">let&lt;/span> &lt;span class="nx">str&lt;/span>: &lt;span class="kt">ReturnType&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Func&lt;/span>&lt;span class="p">&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">fun&lt;/span>: &lt;span class="kt">Func&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nb">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">str&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">fun&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åŸç†-5">åŸç†&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">ReturnType&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span> &lt;span class="na">extends&lt;/span> &lt;span class="err">(&lt;/span>&lt;span class="na">...args&lt;/span>&lt;span class="err">:&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="err">[])&lt;/span> &lt;span class="err">=&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="kt">any&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">T&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="p">(...&lt;/span>&lt;span class="nx">args&lt;/span>: &lt;span class="kt">any&lt;/span>&lt;span class="p">[])&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="k">infer&lt;/span> &lt;span class="nx">R&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nx">R&lt;/span> : &lt;span class="kt">any&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="exclude">Exclude&lt;/h3>
&lt;h4 id="ä½œç”¨-6">ä½œç”¨&lt;/h4>
&lt;p>&lt;strong>&lt;code>Exclude&amp;lt;T, U&amp;gt;&lt;/code>&lt;/strong> çš„ä½œç”¨æ˜¯å°‡æŸå€‹é¡å‹ä¸­å±¬æ–¼å¦ä¸€å€‹çš„é¡å‹ç§»é™¤æ‰ã€‚&lt;/p>
&lt;h4 id="ä¾‹å­-6">ä¾‹å­&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">T0&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Exclude&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="s2">&amp;#34;a&amp;#34;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s2">&amp;#34;b&amp;#34;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s2">&amp;#34;c&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;a&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// &amp;#34;b&amp;#34; | &amp;#34;c&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">T1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Exclude&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="s2">&amp;#34;a&amp;#34;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s2">&amp;#34;b&amp;#34;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s2">&amp;#34;c&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;a&amp;#34;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s2">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// &amp;#34;c&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">T2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">Exclude&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">string&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="na">number&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="err">(()&lt;/span> &lt;span class="err">=&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="k">void&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="nb">Function&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// string | number
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åŸç†-6">åŸç†&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">Exclude&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">U&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">T&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">U&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="kt">never&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">T&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="record">Record&lt;/h3>
&lt;h4 id="ä½œç”¨-7">ä½œç”¨&lt;/h4>
&lt;p>&lt;strong>&lt;code>Record&amp;lt;K extends keyof any, T&amp;gt;&lt;/code>&lt;/strong> çš„ä½œç”¨æ˜¯å°‡ &lt;code>K&lt;/code> ä¸­æ‰€æœ‰çš„å±¬æ€§çš„å€¼è½‰åŒ–çˆ² &lt;code>T&lt;/code> é¡å‹ã€‚&lt;/p>
&lt;h4 id="ä¾‹å­-7">ä¾‹å­&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">PageInfo&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">Page&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;home&amp;#34;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s2">&amp;#34;about&amp;#34;&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="s2">&amp;#34;contact&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">x&lt;/span>: &lt;span class="kt">Record&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Page&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">PageInfo&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">about&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;about&amp;#34;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">contact&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;contact&amp;#34;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">home&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;home&amp;#34;&lt;/span> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åŸç†-7">åŸç†&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">Record&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">K&lt;/span> &lt;span class="na">extends&lt;/span> &lt;span class="na">keyof&lt;/span> &lt;span class="na">any&lt;/span>&lt;span class="err">,&lt;/span> &lt;span class="na">T&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="nx">P&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="nx">K&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">T&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h3 id="readonly">Readonly&lt;/h3>
&lt;h4 id="ä½œç”¨-8">ä½œç”¨&lt;/h4>
&lt;p>&lt;strong>&lt;code>Readonly&lt;/code>&lt;/strong> çš„ä½œç”¨æ˜¯å°‡æŸå€‹é¡å‹æ‰€æœ‰å±¬æ€§è®Šçˆ²&lt;code>åªè®€&lt;/code>å±¬æ€§ï¼Œä¹Ÿå°±æ„å‘³ç€é€™äº›å±¬æ€§ä¸èƒ½è¢«é‡æ–°è³¦å€¼ã€‚&lt;/p>
&lt;h4 id="ä¾‹å­-8">ä¾‹å­&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">interface&lt;/span> &lt;span class="nx">Todo&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">todo&lt;/span>: &lt;span class="kt">Readonly&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Todo&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">title&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;Delete inactive users&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">todo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;Hello&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Error: cannot reassign a readonly property
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="åŸç†-8">åŸç†&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">type&lt;/span> &lt;span class="nx">Readonly&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">T&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">readonly&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">P&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="k">keyof&lt;/span> &lt;span class="nx">T&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">T&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">P&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr></description></item><item><title>æ¨è–¦ 12 å€‹å€¼å¾—å­¸ç¿’çš„ TypeScript å¯¶åº«ï¼</title><link>https://wayneblog.ga/2022-10-27/ts-learning-12-website/</link><pubDate>Thu, 27 Oct 2022 00:00:00 +0000</pubDate><guid>https://wayneblog.ga/2022-10-27/ts-learning-12-website/</guid><description>&lt;img src="https://live.staticflickr.com/65535/52458187213_d3e26e7c48_o.png" alt="Featured image of post æ¨è–¦ 12 å€‹å€¼å¾—å­¸ç¿’çš„ TypeScript å¯¶åº«ï¼" />&lt;style>
.article-content p code {
background-color: #f5f5f5;
color: #ff3860;
}
.focus {
background: #f1e2e2;
color: #d62c2c;
padding: 0 5px;
}
&lt;/style>
&lt;p>&lt;a class="link" href="https://www.readfog.com/a/1681420759367520256" target="_blank" rel="noopener"
>åƒè€ƒç¶²ç«™&lt;/a>&lt;/p>
&lt;p>&lt;code>TypeScript&lt;/code> æ˜¯å¾®è»Ÿé–‹ç™¼çš„ä¸€å€‹é–‹æºçš„ç·¨ç¨‹èªè¨€ï¼Œé€šéåœ¨ JavaScript çš„åŸºç¤ä¸Šæ·»åŠ éœæ…‹é¡å‹å®šç¾©æ§‹å»ºè€Œæˆã€‚TypeScript é€šé TypeScript ç·¨è­¯å™¨æˆ– Babel è½‰è­¯çˆ² JavaScript ä»£ç¢¼ï¼Œå¯é‹è¡Œåœ¨ä»»ä½•ç€è¦½å™¨å’Œæ“ä½œç³»çµ±ã€‚ä¸‹é¢ä¾†åˆ†äº« 10 å€‹å€¼å¾—å­¸ç¿’çš„ TypeScript å¯¶åº«ï¼&lt;/p>
&lt;hr>
&lt;h2 id="typescript-å®˜æ–¹æ–‡æª”">TypeScript å®˜æ–¹æ–‡æª”&lt;/h2>
&lt;p>&lt;a class="link" href="https://www.typescriptlang.org/" target="_blank" rel="noopener"
>TypeScript å®˜æ–¹æ–‡æª”&lt;/a>ï¼Œæä¾›äº†&lt;a class="link" href="https://www.typescriptlang.org/zh/" target="_blank" rel="noopener"
>ä¸­æ–‡ç‰ˆæœ¬&lt;/a>ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52458174938_524ca02f4f_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>Githubï¼š&lt;a class="link" href="https://github.com/microsoft/TypeScript" target="_blank" rel="noopener"
>https://github.com/microsoft/TypeScript&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="å­¸ç¿’-typescript">å­¸ç¿’ TypeScript&lt;/h2>
&lt;p>&lt;a class="link" href="https://ts.yayujs.com/" target="_blank" rel="noopener"
>é»æˆ‘å‰å¾€&lt;/a>&lt;/p>
&lt;p>å¯èƒ½æ˜¯ä¸­åœ‹æœ€å¥½çš„ TypeScript å…¥é–€åˆ°é€²éšç³»çµ±æ•™ç¨‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52457646516_9f6d4de698_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>Githubï¼š&lt;a class="link" href="https://github.com/mqyqingfeng/learn-typescript" target="_blank" rel="noopener"
>https://github.com/mqyqingfeng/learn-typescript&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="typescript-ä½¿ç”¨æŒ‡å—æ‰‹å†Š">TypeScript ä½¿ç”¨æŒ‡å—æ‰‹å†Š&lt;/h2>
&lt;p>&lt;a class="link" href="http://www.typescriptlang.org/" target="_blank" rel="noopener"
>é»æˆ‘å‰å¾€&lt;/a>&lt;/p>
&lt;p>TypeScript ä½¿ç”¨æ‰‹å†Šï¼ˆä¸­æ–‡ç‰ˆï¼‰ç¿»è­¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52458095980_e9f48057d8_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>Githubï¼š&lt;a class="link" href="https://github.com/zhongsp/TypeScript" target="_blank" rel="noopener"
>https://github.com/zhongsp/TypeScript&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="æ·±å…¥ç†è§£-typescript">æ·±å…¥ç†è§£ TypeScript&lt;/h2>
&lt;p>&lt;a class="link" href="https://jkchao.github.io/typescript-book-chinese/" target="_blank" rel="noopener"
>é»æˆ‘å‰å¾€&lt;/a>&lt;/p>
&lt;p>TypeScript Deep Dive ä¸­æ–‡ç‰ˆã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52458174858_659710d8e1_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>Githubï¼š&lt;a class="link" href="https://github.com/jkchao/typescript-book-chinese" target="_blank" rel="noopener"
>https://github.com/jkchao/typescript-book-chinese&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="typescript-å…¥é–€æ•™ç¨‹">TypeScript å…¥é–€æ•™ç¨‹&lt;/h2>
&lt;p>&lt;a class="link" href="https://ts.xcatliu.com/" target="_blank" rel="noopener"
>é»æˆ‘å‰å¾€&lt;/a>&lt;/p>
&lt;p>å¾ JavaScript ç¨‹åºå“¡çš„è§’åº¦ç¸½çµæ€è€ƒï¼Œå¾ªåºæ¼¸é€²åœ°ç†è§£ TypeScriptã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52458174863_965a4778a6_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>Githubï¼š&lt;a class="link" href="https://github.com/xcatliu/typescript-tutorial" target="_blank" rel="noopener"
>https://github.com/xcatliu/typescript-tutorial&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="typescript-é¡å‹æŒ‘æˆ°">TypeScript é¡å‹æŒ‘æˆ°&lt;/h2>
&lt;p>&lt;a class="link" href="https://tsch.js.org/" target="_blank" rel="noopener"
>é»æˆ‘å‰å¾€&lt;/a>&lt;/p>
&lt;p>é«˜è³ªé‡çš„é¡å‹å¯ä»¥æé«˜é …ç›®çš„å¯ç¶­è­·æ€§ä¸¦é¿å…ä¸€äº›æ½›åœ¨çš„æ¼æ´ã€‚æœ¬é …ç›®æ„åœ¨æ–¼è®“ä½ æ›´å¥½åœ°ç­è§£ TS çš„é¡å‹ç³»çµ±ï¼Œç·¨å¯«ä½ è‡ªå·±çš„é¡å‹å·¥å…·ï¼Œæˆ–è€…åªæ˜¯å–®ç´”çš„äº«å—æŒ‘æˆ°çš„æ¨‚è¶£ï¼&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52458095925_96804a83ef_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>Githubï¼š&lt;a class="link" href="https://github.com/type-challenges/type-challenges" target="_blank" rel="noopener"
>https://github.com/type-challenges/type-challenges&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="definitelytyped">DefinitelyTyped&lt;/h2>
&lt;p>DefinitelyTyped åŒ…å«å¤§é‡çš„é«˜è³ªé‡çš„ TypeScript é¡å‹å®šç¾©ã€‚é€šéä½¿ç”¨ DefinitelyTyped åŠå…¶åŒ…å«çš„è²æ˜æ–‡ä»¶ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨å¤§å¤šæ•¸æµè¡Œçš„ JavaScript åº«ï¼Œå°±åƒå®ƒå€‘æ˜¯ TypeScript åº«ä¸€æ¨£ï¼Œå°‡é€šéç·¨è­¯å™¨é€²è¡Œé¡å‹é©—è­‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52458095900_3791347c63_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>Githubï¼š&lt;a class="link" href="https://github.com/DefinitelyTyped/DefinitelyTyped" target="_blank" rel="noopener"
>https://github.com/DefinitelyTyped/DefinitelyTyped&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="react-redux-typescript-guide">react-redux-typescript-guide&lt;/h2>
&lt;p>&lt;a class="link" href="https://piotrwitek.github.io/react-redux-typescript-guide/" target="_blank" rel="noopener"
>é»æˆ‘å‰å¾€&lt;/a>&lt;/p>
&lt;p>æœ¬æŒ‡å—è¨˜éŒ„äº†æœ‰é—œåœ¨ Reactï¼ˆåŠå…¶ç”Ÿæ…‹ç³»çµ±ï¼‰ä¸­ä»¥å‡½æ•¸å¼é¢¨æ ¼ä½¿ç”¨ TypeScript çš„æ¨¡å¼å’Œç¥•è¨£ã€‚å®ƒå°‡ä½¿ä»£ç¢¼é¡å‹å®‰å…¨ï¼ŒåŒæ™‚å°ˆæ³¨æ–¼å¾å¯¦ç¾ä¸­æ¨æ–·é¡å‹ï¼Œå¾é•·é ä¾†çœ‹æ›´å®¹æ˜“ç·¨å¯«å’Œç¶­è­·æ­£ç¢ºçš„é¡å‹ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52457911614_f48b0054e6_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>Githubï¼š&lt;a class="link" href="https://github.com/piotrwitek/react-redux-typescript-guide" target="_blank" rel="noopener"
>https://github.com/piotrwitek/react-redux-typescript-guide&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="reacttypescript-å‚™å¿˜éŒ„">React+TypeScript å‚™å¿˜éŒ„&lt;/h2>
&lt;p>&lt;a class="link" href="https://react-typescript-cheatsheet.netlify.app/" target="_blank" rel="noopener"
>é»æˆ‘å‰å¾€&lt;/a>&lt;/p>
&lt;p>å°ˆæ³¨æ–¼å¹«åŠ© React é–‹ç™¼äººå“¡åœ¨ React æ‡‰ç”¨ä¸­ä½¿ç”¨ TypeScriptã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52457646406_46ee32fbf4_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>Githubï¼š&lt;a class="link" href="https://github.com/typescript-cheatsheets/react" target="_blank" rel="noopener"
>https://github.com/typescript-cheatsheets/react&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="clean-code-typescript">clean-code-typescript&lt;/h2>
&lt;p>&lt;a class="link" href="https://labs42io.github.io/clean-code-typescript/" target="_blank" rel="noopener"
>é»æˆ‘å‰å¾€&lt;/a>&lt;/p>
&lt;p>å°‡ Clean Code çš„æ¦‚å¿µé©ç”¨åˆ° TypeScriptï¼Œå¼•å°è®€è€…ä½¿ç”¨ TypeScript ç·¨å¯«æ˜“è®€ã€å¯æ“´å±•çš„æ‡‰ç”¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52458095865_03b03a9db2_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>Githubï¼š&lt;a class="link" href="https://github.com/labs42io/clean-code-typescript" target="_blank" rel="noopener"
>https://github.com/labs42io/clean-code-typescript&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="è°·æ­Œ-typescript-é¢¨æ ¼æŒ‡å—">è°·æ­Œ TypeScript é¢¨æ ¼æŒ‡å—&lt;/h2>
&lt;p>&lt;a class="link" href="https://google.github.io/styleguide/tsguide.html" target="_blank" rel="noopener"
>é»æˆ‘å‰å¾€&lt;/a>&lt;/p>
&lt;p>Google TypeScript é¢¨æ ¼æŒ‡å—ã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52458174818_41c5d3c75b_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>Githubï¼š&lt;a class="link" href="https://google.github.io/styleguide/tsguide.html" target="_blank" rel="noopener"
>https://google.github.io/styleguide/tsguide.html&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="awesome-typescript">Awesome TypeScript&lt;/h2>
&lt;p>&lt;a class="link" href="https://ellerbrock.github.io/awesome-typescript/" target="_blank" rel="noopener"
>é»æˆ‘å‰å¾€&lt;/a>&lt;/p>
&lt;p>å¾ˆæ£’çš„ TypeScript è³‡æºã€‚&lt;/p>
&lt;p>&lt;img src="https://live.staticflickr.com/65535/52458174793_9a598987ce_o.png"
max-width="100%"
max-height="100%"
class="gallery-image"
loading="lazy"
>&lt;/p>
&lt;blockquote>
&lt;p>Githubï¼š&lt;a class="link" href="https://github.com/semlinker/awesome-typescript" target="_blank" rel="noopener"
>https://github.com/semlinker/awesome-typescript&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;hr></description></item></channel></rss>