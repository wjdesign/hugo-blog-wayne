<!doctype html><html lang=zh-tw dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="æœ¬æ–‡é©åˆ Vue3 åˆå­¸è€…ï¼Œæˆ–è€… Vue2 é·ç§»è€…ï¼Œç•¶ç„¶é‚„æ˜¯å»ºè­° Vue3 å®˜ç¶²å®Œå…¨éä¸€éã€‚"><meta name=keywords content="vue,vue3,vue2,vue2 é·ç§» vue3,vue 2 to vue 3,å‡ç´š,upgrade"><title>Vue3.0 å¿«é€Ÿå…¥é–€ï¼Œçœ‹å®ŒåŸºæœ¬å¯ä»¥ä¸Šæ‰‹æé–‹ç™¼</title>
<link rel=canonical href=https://wayne-blog.com/2022-08-11/vue3-quick-start/><link rel=stylesheet href=https://wayne-blog.com/scss/style.min.e3f888c5dd2d8234c7284a9b45d1b5916903fb544644cac31c873b6488e8d7a0.css><script>!function(e,t,n,s,o,i,a){if(e.fbq)return;o=e.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},e._fbq||(e._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],i=t.createElement(n),i.async=!0,i.src=s,a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(i,a)}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("init","843131703668116"),fbq("track","PageView")</script><noscript><img height=1 width=1 style=display:none src="https://www.facebook.com/tr?id=843131703668116&ev=PageView&noscript=1"></noscript><meta property="og:title" content="Vue3.0 å¿«é€Ÿå…¥é–€ï¼Œçœ‹å®ŒåŸºæœ¬å¯ä»¥ä¸Šæ‰‹æé–‹ç™¼"><meta property="og:description" content="æœ¬æ–‡é©åˆ Vue3 åˆå­¸è€…ï¼Œæˆ–è€… Vue2 é·ç§»è€…ï¼Œç•¶ç„¶é‚„æ˜¯å»ºè­° Vue3 å®˜ç¶²å®Œå…¨éä¸€éã€‚"><meta property="og:url" content="https://wayne-blog.com/2022-08-11/vue3-quick-start/"><meta property="og:site_name" content="Wayne's blog | å‰æ©çš„éƒ¨è½æ ¼ | æŠ€è¡“åšå®¢"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="javascript"><meta property="article:tag" content="vue"><meta property="article:published_time" content="2022-08-11T00:00:00+00:00"><meta property="article:modified_time" content="2022-08-11T00:00:00+00:00"><meta property="og:image" content="https://live.staticflickr.com/65535/52277578302_d4a3e0c4aa_o.png"><meta name=twitter:site content="@4006wayne"><meta name=twitter:creator content="@4006wayne"><meta name=twitter:title content="Vue3.0 å¿«é€Ÿå…¥é–€ï¼Œçœ‹å®ŒåŸºæœ¬å¯ä»¥ä¸Šæ‰‹æé–‹ç™¼"><meta name=twitter:description content="æœ¬æ–‡é©åˆ Vue3 åˆå­¸è€…ï¼Œæˆ–è€… Vue2 é·ç§»è€…ï¼Œç•¶ç„¶é‚„æ˜¯å»ºè­° Vue3 å®˜ç¶²å®Œå…¨éä¸€éã€‚"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://live.staticflickr.com/65535/52277578302_d4a3e0c4aa_o.png"><link rel="shortcut icon" href=https://live.staticflickr.com/65535/52275825736_808b1fd4a8_o.png><script async src="https://www.googletagmanager.com/gtag/js?id=G-FG6KQD7H6C"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-FG6KQD7H6C",{anonymize_ip:!1})}</script><link rel=stylesheet type=text/css href=./toastify/style.min.css><script type=text/javascript src=./toastify/index.js></script><script>const hackKey="hack",author="Wayne (å‰æ©)",link="https://wayne-blog.com/",source="Wayne's blog | å‰æ©çš„éƒ¨è½æ ¼ | æŠ€è¡“åšå®¢",warningText="è«‹é‡è¦–è‘—ä½œæ¬Šï¼Œå•†æ¥­è½‰è¼‰è«‹è¯ç¹«ä½œè€…ç²å¾—æˆæ¬Šï¼Œéå•†æ¥­è½‰è¼‰è«‹è¨»æ˜å‡ºè™•ã€‚",warningBackgroundColor="linear-gradient(to right, rgb(108 47 87), rgb(191 86 86))",successBackgroundColor="linear-gradient(to right, rgb(47 151 127), rgb(69 195 137))",ignoreTagNames=["INPUT"];window.addEventListener("keyup",function(e){if(document.activeElement&&ignoreTagNames.includes(document.activeElement.tagName))return;if(e.key&&e.key.toLowerCase()==="h"){let e={text:"",duration:1e3,destination:"",newWindow:!0,close:!0,gravity:"top",position:"center",stopOnFocus:!1,style:{borderRadius:"50em"}};const t=new URL(window.location.href),n=new URLSearchParams(t.search);if(n.has(hackKey)){e.text="Hackæ¨¡å¼å·²é—œé–‰",e.style.background=warningBackgroundColor,Toastify(e).showToast(),n.delete(hackKey),t.search=n.toString(),window.history.replaceState(null,"",t.toString());return}e.text="Hackæ¨¡å¼å·²é–‹å•Ÿ",e.style.background=successBackgroundColor,Toastify(e).showToast(),n.set(hackKey,"1"),t.search=n.toString(),window.history.replaceState(null,"",t.toString())}}),window.addEventListener("copy",function(e){const t=new URL(window.location.href),n=new URLSearchParams(t.search);if(!n.has(hackKey)){e.preventDefault();const t=document.getSelection();e.clipboardData.setData("text/plain",`${t.toString()}

ä½œè€…ï¼š${author}
é€£çµï¼š${link}
ä¾†æºï¼š${source}
${warningText}`)}})</script><style>:root{--zh-font-family:"Microsoft JhengHei", "å¾®è»Ÿæ­£é»‘é«”";--code-font-family:Menlo, Monaco, Consolas, "Courier New"}</style><meta name=theme-color content="#57BCB9"><link rel=manifest href=./manifest.json><link rel=apple-touch-icon sizes=57x57 href=./apple-touch-icon-57x57.webp><link rel=apple-touch-icon sizes=114x114 href=./apple-touch-icon-114x114.webp><link rel=apple-touch-icon sizes=120x120 href=./apple-touch-icon-120x120.webp><link rel=apple-touch-icon sizes=180x180 href=./apple-touch-icon-180x180.webp><link rel=apple-touch-icon sizes=192x192 href=./apple-touch-icon-192x192.webp><link rel=apple-touch-icon sizes=512x512 href=./apple-touch-icon-512x512.png><meta name=msvalidate.01 content="D1D0687C3DAA5A891295FC82A5EDD3B0"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"light")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ›é¸å–®>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=https://wayne-blog.com/><img src=https://wayne-blog.com/img/avatar2d.webp width=256 height=256 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ§§</span></figure><div class=site-meta><h1 class=site-name><a href=https://wayne-blog.com/>Wayne (å‰æ©)</a></h1><h2 class=site-description>è»Ÿé«”é–‹ç™¼ | ç¶²è·¯å·¥ç¨‹ | æŠ€è¡“åšå®¢</h2></div></header><ol class=social-menu><li><a href=https://wayneblog.bobaboba.me target=_blank title=Bobaboba rel=me><svg width="16" height="25" viewBox="0 0 108 156" fill="none" xmlns="http://www.w3.org/2000/svg" class="ant-menu-item-icon"><g id="Frame" clip-path="url(#clip0_1286_9119)"><path id="Vector" d="M103.092 68.82c3.923-10.88 3.425-22.877-1.386-33.3898-4.8113-10.5128-13.5473-18.6939-24.3139-22.7695C66.6255 8.58519 54.6963 8.94396 44.1907 13.6589 33.6852 18.3738 25.4501 27.065 21.2715 37.848L103.092 68.82z" fill="#e3e7f5"/><path id="Vector_2" d="M20.6297 41.1675.0942412 133.077C-.0317631 133.774.0878744 134.493.432471 135.11.777068 135.727 1.325 136.203 1.98169 136.457L52.9429 155.789C53.6062 156.055 54.3425 156.073 55.0179 155.84 55.6933 155.607 56.2629 155.137 56.6233 154.517L101.337 71.7598C101.535 71.3808 101.649 70.9635 101.672 70.5363 101.694 70.109 101.626 69.6817 101.47 69.2836 101.314 68.8855 101.075 68.5258 100.769 68.2289 100.463 67.932 100.096 67.705 99.6951 67.5631L24.4802 39.0787C24.0918 38.9392 23.6786 38.8833 23.2674 38.9148 22.8561 38.9462 22.456 39.0642 22.093 39.2611S21.4122 39.7294 21.1601 40.0578 20.7273 40.7643 20.6297 41.1675z" fill="#f2f2f2"/><path id="Vector_3" d="M82.9934.252578 82.9758.245884C80.9074-.537125 78.5998.515063 77.8216 2.59602L48.9735 79.7314C48.1953 81.8123 49.2411 84.134 51.3094 84.917L51.3271 84.9237C53.3954 85.7067 55.703 84.6545 56.4813 82.5736L85.3293 5.43823C86.1076 3.35727 85.0618 1.03559 82.9934.252578z" fill="#ced8ed"/><path id="Vector_4" d="M104.866 63.6606 24.7538 33.3326C22.2172 32.3723 19.3869 33.6626 18.4324 36.2147L18.4258 36.2325C17.4713 38.7846 18.7541 41.632 21.2907 42.5923L101.403 72.9204C103.94 73.8806 106.77 72.5902 107.724 70.0381L107.731 70.0203C108.685 67.4682 107.403 64.6209 104.866 63.6606z" fill="#cbd3e8"/><path id="Vector_5" d="M89.6538 93.0834 56.7178 154.572C56.3574 155.192 55.7878 155.662 55.1124 155.895 54.437 156.129 53.7006 156.111 53.0374 155.844L2.07618 136.513C1.41948 136.259.87155 135.782.526954 135.165.182357 134.548.0627193 133.829.188724 133.133L15.4204 64.9219 89.6538 93.0834z" fill="#f8e0be"/><path id="Vector_6" d="M74.3088 11.125C77.2135 11.8219 79.9953 12.9619 82.5572 14.5052L69.2128 50.1868 60.2285 46.7876S74.6297 11.2579 74.3088 11.125z" fill="#e3e7f5"/><path id="Vector_7" d="M15.1374 125.272C17.7851 125.272 19.9315 123.112 19.9315 120.448 19.9315 117.784 17.7851 115.625 15.1374 115.625S10.3433 117.784 10.3433 120.448C10.3433 123.112 12.4897 125.272 15.1374 125.272z" fill="#d79b7a"/><path id="Vector_8" d="M15.3261 108.756C17.9738 108.756 20.1202 106.597 20.1202 103.933 20.1202 101.269 17.9738 99.1094 15.3261 99.1094S10.532 101.269 10.532 103.933C10.532 106.597 12.6784 108.756 15.3261 108.756z" fill="#d79b7a"/><path id="Vector_9" d="M23.0837 141.303c2.6477.0 4.7941-2.16 4.7941-4.82300000000001C27.8778 133.816 25.7314 131.656 23.0837 131.656S18.2896 133.816 18.2896 136.48C18.2896 139.143 20.436 141.303 23.0837 141.303z" fill="#d79b7a"/><path id="Vector_10" d="M58.9829 119.678c2.6477.0 4.7941-2.16 4.7941-4.82299999999999.0-2.664-2.1464-4.824-4.7941-4.824-2.6478.0-4.7942 2.16-4.7942 4.824C54.1887 117.518 56.3351 119.678 58.9829 119.678z" fill="#d79b7a"/><path id="Vector_11" d="M59.9643 138.022C62.612 138.022 64.7584 135.862 64.7584 133.198 64.7584 130.534 62.612 128.375 59.9643 128.375S55.1702 130.534 55.1702 133.198C55.1702 135.862 57.3166 138.022 59.9643 138.022z" fill="#d79b7a"/><path id="Vector_12" d="M41.3351 136.631C43.9829 136.631 46.1293 134.472 46.1293 131.808c0-2.66399999999999-2.1464-4.824-4.7942-4.824C38.6874 126.984 36.541 129.144 36.541 131.808 36.541 134.472 38.6874 136.631 41.3351 136.631z" fill="#d79b7a"/><path id="Vector_13" d="M50.5837 150.701C53.2314 150.701 55.3778 148.542 55.3778 145.878 55.3778 143.214 53.2314 141.055 50.5837 141.055S45.7896 143.214 45.7896 145.878C45.7896 148.542 47.936 150.701 50.5837 150.701z" fill="#d79b7a"/><path id="Vector_14" d="M35.7106 121.381C38.3584 121.381 40.5048 119.222 40.5048 116.558 40.5048 113.894 38.3584 111.734 35.7106 111.734 33.0629 111.734 30.9165 113.894 30.9165 116.558 30.9165 119.222 33.0629 121.381 35.7106 121.381z" fill="#d79b7a"/><path id="Vector_15" d="M68.8354 37.6381C67.5686 37.1053 66.5083 36.1721 65.8153 34.9795 65.7527 34.8551 65.7394 34.7115 65.778 34.5775 65.8165 34.4436 65.9042 34.3294 66.0231 34.2579 66.1435 34.1884 66.2861 34.1695 66.4203 34.205 66.5545 34.2405 66.6695 34.3277 66.7404 34.4477 66.7404 34.5996 68.7787 37.9797 72.0251 36.4985 72.0885 36.4533 72.1611 36.4229 72.2375 36.409 72.314 36.3952 72.3924 36.3984 72.4675 36.4185 72.5425 36.4387 72.6122 36.4755 72.6716 36.5259 72.731 36.5762 72.7785 36.6392 72.811 36.7102 72.8435 36.7812 72.86 36.8585 72.8594 36.9366 72.8588 37.0148 72.8409 37.0917 72.8073 37.1622 72.7737 37.2326 72.7251 37.2947 72.6649 37.3442 72.6047 37.3936 72.5345 37.429 72.4592 37.448 71.8991 37.7239 71.2894 37.8829 70.6666 37.9156 70.0439 37.9482 69.421 37.8539 68.8354 37.6381z" fill="#42210b"/><path id="Vector_16" d="M52.3767 34.5824c3.4921.0 6.3229-2.8481 6.3229-6.3615s-2.8308-6.3615-6.3229-6.3615-6.323 2.8481-6.323 6.3615 2.8309 6.3615 6.323 6.3615z" fill="#f2f2f2"/><path id="Vector_17" d="M46.3936 25.979C46.6783 25.1869 47.1165 24.4595 47.6829 23.8392 48.2493 23.2188 48.9326 22.7179 49.6929 22.3653 50.4533 22.0128 51.2757 21.8156 52.1124 21.7854 52.949 21.7551 53.7833 21.8922 54.5668 22.1889 55.3504 22.4857 56.0677 22.9361 56.6768 23.5139 57.286 24.0918 57.7751 24.7855 58.1157 25.555 58.4563 26.3245 58.6416 27.1543 58.6608 27.9964 58.6801 28.8385 58.5329 29.6761 58.2279 30.4605" fill="#51260e"/><path id="Vector_18" d="M53.4147 28.5224C53.2968 29.0523 53.0675 29.5504 52.742 29.9835 52.4164 30.4166 52.0024 30.7745 51.5277 31.0329 51.0531 31.2913 50.5289 31.4443 49.9905 31.4817 49.4521 31.519 48.9121 31.4396 48.4067 31.2492 47.9014 31.0587 47.4424 30.7614 47.0609 30.3773 46.6795 29.9933 46.3841 29.5315 46.1951 29.0229 46.0061 28.5143 45.9277 27.9709 45.9652 27.4292 46.0026 26.8875 46.1552 26.3602 46.4124 25.8828" fill="#47220d"/><path id="Vector_19" d="M87.4079 47.8559C90.9 47.8559 93.7309 45.0077 93.7309 41.4943 93.7309 37.981 90.9 35.1328 87.4079 35.1328c-3.492.0-6.3229 2.8482-6.3229 6.3615.0 3.5134 2.8309 6.3616 6.3229 6.3616z" fill="#f2f2f2"/><path id="Vector_20" d="M81.4246 39.2313C82.0304 37.6734 83.222 36.4183 84.741 35.7378 86.26 35.0572 87.9843 35.0059 89.5405 35.5952 91.0967 36.1845 92.3595 37.3671 93.0555 38.8864S93.8245 42.1397 93.2589 43.7129" fill="#51260e"/><path id="Vector_21" d="M88.446 41.8148C88.0132 42.6263 87.302 43.2519 86.445 43.5752 85.5879 43.8985 84.6434 43.8975 83.787 43.5724 82.9307 43.2473 82.2208 42.62 81.7897 41.8077 81.3586 40.9953 81.2355 40.0531 81.4434 39.1562" fill="#47220d"/></g><defs><clipPath id="clip0_1286_9119"><rect width="108" height="156" fill="#fff"/></clipPath></defs></svg></a></li><li><a href=https://www.facebook.com/wayne.blog.ga/ target=_blank title=Facebook rel=me><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48" height="48"><linearGradient id="CXanuwD9EGkBgTn76_1mxa" x1="9.993" x2="40.615" y1="-299.993" y2="-330.615" gradientTransform="matrix(1 0 0 -1 0 -290)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#2aa4f4"/><stop offset="1" stop-color="#007ad9"/></linearGradient><path fill="url(#CXanuwD9EGkBgTn76_1mxa)" d="M24 4C12.954 4 4 12.954 4 24c0 10.028 7.379 18.331 17.004 19.777C21.981 43.924 22.982 41 24 41c.919.0 1.824 2.938 2.711 2.818C36.475 42.495 44 34.127 44 24 44 12.954 35.046 4 24 4z"/><path d="M27.707 21.169c0-1.424.305-3.121 1.757-3.121h4.283l-.001-5.617-.05-.852-.846-.114c-.608-.082-1.873-.253-4.206-.253-5.569.0-8.636 3.315-8.636 9.334v2.498H15.06v7.258h4.948V43.6C21.298 43.861 22.633 44 24 44c1.268.0 2.504-.131 3.707-.357V30.301h5.033l1.122-7.258h-6.155V21.169z" opacity=".05"/><path d="M27.207 21.169c0-1.353.293-3.621 2.257-3.621h3.783V12.46l-.026-.44-.433-.059c-.597-.081-1.838-.249-4.143-.249-5.323.0-8.136 3.055-8.136 8.834v2.998H15.56v6.258h4.948v13.874C21.644 43.876 22.806 44 24 44c1.094.0 2.16-.112 3.207-.281V29.801h5.104l.967-6.258h-6.072V21.169z" opacity=".05"/><path fill="#fff" d="M26.707 29.301h5.176l.813-5.258h-5.989v-2.874c0-2.184.714-4.121 2.757-4.121h3.283V12.46c-.577-.078-1.797-.248-4.102-.248-4.814.0-7.636 2.542-7.636 8.334v3.498H16.06v5.258h4.948v14.475C21.988 43.923 22.981 44 24 44c.921.0 1.82-.062 2.707-.182V29.301z"/></svg></a></li><li><a href=https://github.com/wjdesign target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com/4006wayne target=_blank title=Twitter rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=https://wayne-blog.com/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>é—œæ–¼æœ¬ç«™</span></a></li><li><a href=https://wayne-blog.com/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>æ–‡ç« å·å®—</span></a></li><li><a href=https://wayne-blog.com/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>æœå°‹æª¢ç´¢</span></a></li><li><a href=https://wayne-blog.com/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg><span>ç›¸é—œé€£çµ</span></a></li><li><a href=https://wayne-blog.com/categories/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg><span>åˆ†é¡æª¢ç´¢</span></a></li><li><a href=https://wayne-blog.com/tags/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"/><circle cx="9" cy="9" r="2"/></svg><span>æ¨™ç±¤æª¢ç´¢</span></a></li><li><a href=https://wayne-blog.com/index.xml target=_blank><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg><span>RSS Feed</span></a></li><div class=menu-bottom-section><li id=i18n-switch><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><select name=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://wayne-blog.com/ selected>ç¹é«”ä¸­æ–‡</option><option value=https://wayne-blog.com/en/>English</option></select></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>å¤œæ™šæ¨¡å¼</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®éŒ„</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#å…ˆæ¨è–¦å…©å€‹-vscode-å¤–æ›>å…ˆæ¨è–¦å…©å€‹ vscode å¤–æ›</a></li><li><a href=#volar>Volar</a><ol><li><a href=#åŠŸèƒ½ä¸€å¤šå€‹æ ¹ç¯€é»ç·¨è­¯å™¨ä¸æœƒå ±éŒ¯>åŠŸèƒ½ä¸€ï¼šå¤šå€‹æ ¹ç¯€é»ç·¨è­¯å™¨ä¸æœƒå ±éŒ¯</a></li><li><a href=#åŠŸèƒ½äºŒç·¨è¼¯å™¨åˆ†éš”>åŠŸèƒ½äºŒï¼šç·¨è¼¯å™¨åˆ†éš”</a></li><li><a href=#åŠŸèƒ½ä¸‰ref-sugar-èªæ³•å¿«æ·æ”¹å‹•æ”¯æŒ>åŠŸèƒ½ä¸‰ï¼š<code>ref sugar</code> èªæ³•å¿«æ·æ”¹å‹•æ”¯æŒ</a></li><li><a href=#åŠŸèƒ½å››style-è£¡é¢çš„-class-å¼•ç”¨>åŠŸèƒ½å››ï¼š<code>style</code> è£¡é¢çš„ <code>class</code> å¼•ç”¨</a></li><li><a href=#åŠŸèƒ½äº”class-è¿½æœ”>åŠŸèƒ½äº”ï¼š<code>class</code> è¿½æœ”</a><ol><li></li></ol></li><li><a href=#åŠŸèƒ½å…­css-module-é¡å‹æç¤º>åŠŸèƒ½å…­ï¼š<code>css module</code> é¡å‹æç¤º</a><ol><li></li></ol></li><li><a href=#åŠŸèƒ½ä¸ƒlang-èªæ³•æç¤º>åŠŸèƒ½ä¸ƒï¼š<code>lang</code> èªæ³•æç¤º</a></li><li><a href=#åŠŸèƒ½å…«template-èªæ³•è½‰æ›>åŠŸèƒ½å…«ï¼š<code>template</code> èªæ³•è½‰æ›</a><ol><li></li></ol></li></ol></li><li><a href=#vue-3-snippets>Vue 3 Snippets</a></li><li><a href=#å»ºç«‹-vue3-å°ˆæ¡ˆ>å»ºç«‹ <code>Vue3</code> å°ˆæ¡ˆ</a><ol><li><a href=#ä½¿ç”¨-vue-cli-å»ºç«‹>ä½¿ç”¨ vue-cli å»ºç«‹</a></li><li><a href=#ä½¿ç”¨-vite-å»ºç«‹>ä½¿ç”¨ <code>Vite</code> å»ºç«‹</a><ol><li></li></ol></li></ol></li><li><a href=#composition-api>Composition API</a><ol><li><a href=#ç”Ÿå‘½é€±æœŸé‰¤å­>ç”Ÿå‘½é€±æœŸé‰¤å­</a></li><li><a href=#setup>setup</a><ol><li></li></ol></li><li><a href=#ref>ref</a><ol><li></li></ol></li><li><a href=#reactive>reactive</a></li><li><a href=#computed>computed</a></li><li><a href=#watch>watch</a></li><li><a href=#watcheffect>watchEffect</a></li><li><a href=#torefs>toRefs</a></li><li><a href=#provide-èˆ‡-inject><code>provide</code> èˆ‡ <code>inject</code></a><ol><li></li></ol></li></ol></li><li><a href=#å…¶ä»–ç‰¹æ€§>å…¶ä»–ç‰¹æ€§</a><ol><li><a href=#teleportç¬ç§»>Teleport(ç¬ç§»)</a><ol><li></li></ol></li><li><a href=#suspenseä¸ç¢ºå®šçš„>Suspense(ä¸ç¢ºå®šçš„)</a><ol><li></li></ol></li></ol></li><li><a href=#éŸ¿æ‡‰å¼è³‡æ–™çš„åˆ¤æ–·>éŸ¿æ‡‰å¼è³‡æ–™çš„åˆ¤æ–·</a><ol><li><a href=#ä½œç”¨>ä½œç”¨</a></li><li><a href=#ç¨‹å¼ç¢¼æ¼”ç¤º>ç¨‹å¼ç¢¼æ¼”ç¤º</a></li><li><a href=#å…¶ä»–ä¸å¸¸ç”¨ç‰¹æ€§>å…¶ä»–ä¸å¸¸ç”¨ç‰¹æ€§</a></li></ol></li><li><a href=#èªæ³•ç³–>èªæ³•ç³–</a><ol><li><a href=#ç¨‹å¼ç¢¼æ¼”ç¤º-1>ç¨‹å¼ç¢¼æ¼”ç¤º</a><ol><li></li></ol></li></ol></li><li><a href=#å…¶ä»–çŸ¥è­˜é»>å…¶ä»–çŸ¥è­˜é»</a><ol><li><a href=#ç¨‹å¼ç¢¼æ¼”ç¤º-2>ç¨‹å¼ç¢¼æ¼”ç¤º</a><ol><li></li></ol></li></ol></li><li><a href=#emit-æ´¾ç™¼äº‹ä»¶å¯ä»¥å°å¼•æ•¸é€²è¡Œé©—è­‰>Emit æ´¾ç™¼äº‹ä»¶å¯ä»¥å°å¼•æ•¸é€²è¡Œé©—è­‰</a><ol><li><ol><li></li></ol></li></ol></li><li><a href=#è·¨å…ƒä»¶é€šè¨Š-mittjs>è·¨å…ƒä»¶é€šè¨Š <code>mitt.js</code></a><ol><li><a href=#ç¨‹å¼ç¢¼æ¼”ç¤º-3>ç¨‹å¼ç¢¼æ¼”ç¤º</a><ol><li></li></ol></li><li><a href=#æ¼”ç¤º>æ¼”ç¤º</a></li></ol></li><li><a href=#è‡ªå®šç¾©æŒ‡ä»¤>è‡ªå®šç¾©æŒ‡ä»¤</a></li><li><a href=#éæ¸¡å‹•ç•«>éæ¸¡å‹•ç•«</a></li><li><a href=#å…¶ä»–å°çŸ¥è­˜>å…¶ä»–å°çŸ¥è­˜</a></li><li><a href=#åƒè€ƒ>åƒè€ƒ</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><a class=btnBack href=javascript:void(0) onclick=backEvent()><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-back" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9 11l-4 4 4 4m-4-4h11a4 4 0 000-8h-1"/></svg><span class=btnBackText>BACK</span>
</a><script>function backEvent(){if(document.referrer.indexOf(window.location.host)!==-1){history.go(-1);return}window.location.href=window.location.origin}</script><header class=article-header><div class=article-image><a href=https://wayne-blog.com/2022-08-11/vue3-quick-start/><img src=https://live.staticflickr.com/65535/52277578302_d4a3e0c4aa_o.png loading=lazy alt="Featured image of post Vue3.0 å¿«é€Ÿå…¥é–€ï¼Œçœ‹å®ŒåŸºæœ¬å¯ä»¥ä¸Šæ‰‹æé–‹ç™¼"></a></div><div class=article-details><header class=article-category><a href=https://wayne-blog.com/categories/javascript/ style=background-color:#f7b41b;color:#fff>Javascript
</a><a href=https://wayne-blog.com/categories/vue/ style=background-color:#4cbc8c;color:#fff>Vue</a></header><div class=article-title-wrapper><h2 class=article-title><a href=https://wayne-blog.com/2022-08-11/vue3-quick-start/>Vue3.0 å¿«é€Ÿå…¥é–€ï¼Œçœ‹å®ŒåŸºæœ¬å¯ä»¥ä¸Šæ‰‹æé–‹ç™¼</a></h2><h3 class=article-subtitle>æœ¬æ–‡é©åˆ Vue3 åˆå­¸è€…ï¼Œæˆ–è€… Vue2 é·ç§»è€…ï¼Œç•¶ç„¶é‚„æ˜¯å»ºè­° Vue3 å®˜ç¶²å®Œå…¨éä¸€éã€‚</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Aug 11, 2022</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>é–±è®€æ™‚é–“: 15 åˆ†é˜</time></div></footer></div></header><section class=article-content><style>.focus{background:#f1e2e2;color:#d62c2c;padding:0 5px}</style><blockquote><p>æœ¬æ–‡é©åˆ <code>Vue3</code> åˆå­¸è€…ï¼Œæˆ–è€… <code>Vue2</code> é·ç§»è€…ï¼Œç•¶ç„¶é‚„æ˜¯å»ºè­° <code>Vue3</code> å®˜ç¶²å®Œå…¨éä¸€éã€‚</p></blockquote><hr><h2 id=å…ˆæ¨è–¦å…©å€‹-vscode-å¤–æ›>å…ˆæ¨è–¦å…©å€‹ vscode å¤–æ›</h2><h2 id=volar>Volar</h2><p>é¦–å…ˆæ¨è–¦ <a class=link href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target=_blank rel=noopener>Volar</a> ï¼Œä½¿ç”¨ <code>vscode</code> é–‹ç™¼ <code>Vue</code> å°ˆæ¡ˆçš„å°å¤¥ä¼´è‚¯å®šéƒ½èªè­˜ <a class=link href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target=_blank rel=noopener>Vetur</a> é€™å€‹ç¥ç´šå¤–æ›ï¼Œæœ‰äº†å®ƒå¯ä»¥è®“æˆ‘å€‘å¾—é–‹ç™¼å¦‚é­šå¾—æ°´ã€‚ é‚£éº¼ <a class=link href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target=_blank rel=noopener>Volar</a> å¯ä»¥ç†è§£ç‚º <code>Vue3</code> ç‰ˆæœ¬çš„ <a class=link href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target=_blank rel=noopener>Vetur</a> ï¼Œç¨‹å¼ç¢¼é«˜äº®ï¼Œèªæ³•æç¤ºï¼ŒåŸºæœ¬ä¸Š <a class=link href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target=_blank rel=noopener>Vetur</a> æœ‰çš„å®ƒéƒ½æœ‰ã€‚</p><h3 id=åŠŸèƒ½ä¸€å¤šå€‹æ ¹ç¯€é»ç·¨è­¯å™¨ä¸æœƒå ±éŒ¯>åŠŸèƒ½ä¸€ï¼šå¤šå€‹æ ¹ç¯€é»ç·¨è­¯å™¨ä¸æœƒå ±éŒ¯</h3><p><code>Vue3</code> æ˜¯å…è¨±æˆ‘å€‘æœ‰å¤šå€‹æ ¹ç¯€é»çš„ï¼Œä½†æ˜¯æˆ‘å€‘å¦‚æœä½¿ç”¨ <a class=link href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target=_blank rel=noopener>Vetur</a> å°±æœƒå ±éŒ¯ï¼Œä¸æœƒå½±éŸ¿åŸ·è¡Œï¼Œä½†æ˜¯çœ‹èµ·ä¾†å°±å¾ˆç…©ã€‚æ‰€ä»¥ç•¶æˆ‘å€‘è½‰å‘ <a class=link href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target=_blank rel=noopener>Volar</a>ï¼Œé‚£éº¼å°±ä¸æœƒå‡ºç¾é€™å€‹å•é¡Œäº†ã€‚</p><p><img src=https://live.staticflickr.com/65535/52277578262_a65ab53574_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><hr><h3 id=åŠŸèƒ½äºŒç·¨è¼¯å™¨åˆ†éš”>åŠŸèƒ½äºŒï¼šç·¨è¼¯å™¨åˆ†éš”</h3><p>å³ä¾¿ <code>Vue</code> çš„å…ƒä»¶åŒ–é–‹ç™¼ï¼Œå¯ä»¥å°‡å–®æª”æ¡ˆçš„ç¨‹å¼ç¢¼é•·åº¦å¤§å¹…ç¸®çŸ­ï¼Œä½†é‚„æ˜¯å‹•è¼’å¹¾ç™¾è¡Œç”šæ˜¯ä¸Šåƒè¡Œã€‚é‚£éº¼æˆ‘å€‘åˆ‡æ› <code>template</code>ã€<code>script</code>ã€<code>style</code> çš„æ™‚å€™å°±è¦é »ç¹ä¸Šä¸‹ç¿»ï¼Œé›–ç„¶æœ‰çš„å¤–æ›å¯ä»¥ç›´æ¥å®šä½åˆ° <code>css</code>ï¼Œä½†æ˜¯ä½ å›ä¸å»å•Šï¼æ‰€ä»¥é€™å€‹åŠŸèƒ½ç°¡ç›´æ˜¯å¤ªäººæ€§åŒ–äº†ã€‚</p><p>å®‰è£å®Œ <a class=link href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target=_blank rel=noopener>Volar</a> ä»¥å¾Œï¼Œé–‹å•Ÿä¸€å€‹ <code>.vue</code> æª”æ¡ˆï¼Œçœ‹ <code>vscode</code> çš„å³ä¸Šè§’ï¼Œæœ‰é€™éº¼ä¸€å€‹åœ–ç¤ºï¼Œé»ä¸€ä¸‹ã€‚</p><p><img src=https://live.staticflickr.com/65535/52278825464_ba574177cd_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><p><img src=https://live.staticflickr.com/65535/52278825449_3943326afa_o.png max-width=100% max-height=100% class=gallery-image loading=lazy></p><p>å®ƒå°±æœƒè‡ªå‹•çµ¦ä½ åˆ†éš”æˆä¸‰å€‹é é¢ï¼Œåˆ†åˆ¥å°æ‡‰ <code>template</code>ã€<code>script</code>ã€<code>style</code>ï¼Œé€™æ¨£å°±å¤ªèˆ’æœäº†æœ‰æ²’æœ‰ã€‚</p><p><img src=https://live.staticflickr.com/65535/52278556091_2d9d2e2b05_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><p>é‚„æœ‰å¾ˆå¤šæ–°åŠŸèƒ½ï¼Œå¯ä»¥åƒè€ƒä¸‹é¢é€™ç¯‡æ–‡ç« ï¼š<br><a class=link href=https://zhuanlan.zhihu.com/p/375096539 target=_blank rel=noopener>Volar - vueçµ‚æ¥µé–‹ç™¼ç¥å™¨ï¼</a></p><hr><h3 id=åŠŸèƒ½ä¸‰ref-sugar-èªæ³•å¿«æ·æ”¹å‹•æ”¯æŒ>åŠŸèƒ½ä¸‰ï¼š<code>ref sugar</code> èªæ³•å¿«æ·æ”¹å‹•æ”¯æŒ</h3><p><code>ref sugar</code> æ˜¯ä¸€å€‹é‚„åœ¨ <code>rfc</code> éšæ®µçš„åŠŸèƒ½ï¼Œä½†æ˜¯å·²ç¶“æŒçºŒå¾ˆä¹…äº†ï¼Œç¾åœ¨çš„ <code>vue3</code> ç‰ˆæœ¬å·²ç¶“å¯ä»¥åšé®®ä½¿ç”¨äº†ã€‚å…·é«”çš„ç”¨æ³•ä»¥åŠèªæ³•æˆ‘å°±ä¸å±•é–‹è´…è¿°äº†ï¼Œæˆ‘ä¸»è¦èªªä¸€ä¸‹ <a class=link href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target=_blank rel=noopener>Volar</a> å’Œ <code>ref sugar</code> çš„çµåˆã€‚</p><p><img src=https://live.staticflickr.com/65535/52278556081_0f4b57ceba_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><blockquote><p>å ±éŒ¯å…ˆä¸ç®¡ï¼Œæ˜¯ <code>eslint-plugin-vue</code> çš„åŸå› ã€‚</p></blockquote><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä½¿ç”¨äº† <code>ref sugar</code> ä¹‹å¾Œï¼Œ<code>script</code> ä¸Šé¢å‡ºç¾äº†ä¸€å€‹ <code>ref sugar</code> çš„å°åœ–æ¨™ï¼Œä¸¦ä¸”æ‰“äº†å€‹å°å‹¾ï¼Œé‚£éº¼æˆ‘å€‘é»ä¸€ä¸‹é‚£å€‹å°å‹¾ï¼Œçœ‹çœ‹æœƒç™¼ç”Ÿä»€éº¼ã€‚</p><p><img src=https://live.staticflickr.com/65535/52278556076_32395d3890_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å€‘é»æ“Šé€™å€‹å°å°å‹¾ä¹‹å¾Œï¼Œå®ƒç”±åŸæœ¬çš„ <code>ref sugar</code> èªæ³•è®Šç‚ºäº†æ™®é€šçš„ <code>script setup</code> æ¨¡å¼ï¼Œé©šä¸é©šå–œï¼Œæ„ä¸æ„å¤–ã€‚</p><hr><h3 id=åŠŸèƒ½å››style-è£¡é¢çš„-class-å¼•ç”¨>åŠŸèƒ½å››ï¼š<code>style</code> è£¡é¢çš„ <code>class</code> å¼•ç”¨</h3><p><img src=https://live.staticflickr.com/65535/52277578187_ab1c1ffd3c_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ <code>.foo</code> é€™å€‹é¡åä¸Šé¢ï¼Œå‡ºç¾äº†ä¸€å€‹ <code>1 reference</code> çš„å°åœ–æ¨™ï¼Œä»£è¡¨è‘—ç•¶å‰ <code>class</code> æœ‰ä¸€æ¬¡å¼•ç”¨ï¼Œæˆ‘å€‘é»æ“Šä¸€ä¸‹é€™å€‹ <code>1 reference</code>ã€‚</p><p><img src=https://live.staticflickr.com/65535/52278556066_f44a23ef65_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><p>å‡ºç¾äº†ä¸€å€‹å½ˆçª—ï¼Œè£¡é¢æ˜¯ç•¶å‰ <code>class</code> çš„å…·é«”ä½¿ç”¨ä½ç½®ã€‚</p><hr><h3 id=åŠŸèƒ½äº”class-è¿½æœ”>åŠŸèƒ½äº”ï¼š<code>class</code> è¿½æœ”</h3><p>æˆ‘å€‘å‰µå»ºä¸€å€‹ <code>template</code> æ ¹å…ƒç´ ï¼Œåœ¨è£¡é¢å¯«å…¥ï¼š</p><h5 id=samplevue>sample.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;foo&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>åœ¨ <code>style</code> ä¸­å¯«å…¥ï¼š</p><h5 id=samplevue-1>sample.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>style</span> <span class=na>scoped</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>foo</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>é™¤äº† <code>style</code> ä¸­çš„ <code>.foo</code> ä¸Šé¢æœƒå‡ºç¾ <code>1 reference</code> çš„å°åœ–æ¨™ä¹‹å¤–ï¼Œåœ¨ <code>class="foo"</code> çš„ <code>foo</code> ä¸‹é¢ï¼Œæœƒå‡ºç¾ä¸€é“æ©«ç·šã€‚</p><p><img src=https://live.staticflickr.com/65535/52279040015_d06725b53d_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><p>å°æ–¼ç¶“å¸¸ä½¿ç”¨ <code>vscode</code> çš„é–‹ç™¼äººå“¡ä¾†èªªï¼Œé€™ä»£è¡¨ä»€éº¼æ„ç¾©å°±ä¸å¿…å¤šèªªäº†ï¼Œæˆ‘å€‘æ ¹æ“šæç¤ºï¼ŒæŒ‰ä½ <code>ctrl</code>(<code>command</code>) ç„¶å¾Œé»æ“Šï¼Œæœƒç™¼ç¾å…‰æ¨™è‡ªå·±ç§»å‹•åˆ°äº† <code>style</code> ä¸­çš„ <code>.foo</code> ä¹‹å‰ï¼Œå“‡! awesome!</p><hr><h3 id=åŠŸèƒ½å…­css-module-é¡å‹æç¤º>åŠŸèƒ½å…­ï¼š<code>css module</code> é¡å‹æç¤º</h3><p><code>css module</code> ä¸€èˆ¬æ˜¯ <code>react</code> æŠ€è¡“æ£§ç”¨çš„æœƒæ¯”è¼ƒå¤šä¸€äº›ï¼Œå°±æˆ‘å€‹äººä¾†èªªï¼Œæ˜¯å¾æ²’åœ¨ <code>vue</code> è£¡é¢ä½¿ç”¨å®ƒçš„ï¼Œå› ç‚º <code>vue</code> æä¾›äº† <code>scoped</code> ä½œç”¨åŸŸï¼Œä¸ç”¨æ“”å¿ƒæ¨£å¼è¡çªï¼Œç›´æ¥ä½¿ç”¨é è™•ç†å™¨æœƒæ›´åŠ ç°¡å–®æ–¹ä¾¿ã€‚</p><p>æˆ‘å€‘å‰µå»ºå¦‚ä¸‹ä»£ç¢¼ï¼š</p><h5 id=samplevue-2>sample.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>:class</span><span class=o>=</span><span class=s>&#34;$style.foo&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>style</span> <span class=na>module</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>foo</span> <span class=p>{</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>ç„¶å¾Œå°‡é¼ æ¨™ç§»å‹•åˆ° <code>$style</code> ä¸Š</p><p><img src=https://live.staticflickr.com/65535/52278556061_8a9d95187a_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><p>æœ‰é»æ„æ€ï¼Œçœ‹ä¾† <code>vscode</code> æ˜¯è®“ <a class=link href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target=_blank rel=noopener>Volar</a> ç©æ˜ç™½äº†ã€‚</p><hr><h3 id=åŠŸèƒ½ä¸ƒlang-èªæ³•æç¤º>åŠŸèƒ½ä¸ƒï¼š<code>lang</code> èªæ³•æç¤º</h3><p><code>vue</code> å¯ä»¥ä½¿ç”¨ <code>lang</code> å±¬æ€§ä¾†é¸æ“‡ä½¿ç”¨çš„èªè¨€ï¼Œæ¯”å¦‚ <code>template</code> ä¸­çš„ <code>html</code>/<code>pug</code>ã€<code>script</code> ä¸­çš„ <code>ts</code>ã€<code>style</code> ä¸­çš„ <code>scss</code> ç­‰ã€‚</p><p>ä½†æ˜¯åœ¨ä»¥å‰ï¼Œæˆ‘å€‘éƒ½æ˜¯æ‰‹å‹•è¼¸å…¥çš„ï¼Œç·¨è¼¯å™¨ï¼Œæˆ–è€…èªª <a class=link href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target=_blank rel=noopener>Vetur</a> ä¸¦æ²’æœ‰çµ¦æˆ‘å€‘æä¾›ä»»ä½•æç¤ºï¼Œæœ‰å¯èƒ½ä½ æ‰¾äº†å¾ˆä¹…çš„è«åå…¶å¦™çš„å•é¡Œï¼Œå°±æ˜¯å› ç‚º <code>lang</code> å¯«éŒ¯äº†ã€‚</p><p>ä½†æ˜¯é€™ä¸€åˆ‡ï¼Œåœ¨æœ‰äº† <a class=link href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target=_blank rel=noopener>Volar</a> ä¹‹å¾Œï¼Œéƒ½ä¸åŒäº†ã€‚</p><p><img src=https://live.staticflickr.com/65535/52278577133_3988734a44_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><hr><h3 id=åŠŸèƒ½å…«template-èªæ³•è½‰æ›>åŠŸèƒ½å…«ï¼š<code>template</code> èªæ³•è½‰æ›</h3><p><code>vue</code> é»˜èªæä¾›äº†å…©ç¨®æ¨¡æ¿ä¾›æˆ‘å€‘ä½¿ç”¨ï¼Œä½†æ˜¯ä¸€èˆ¬éƒ½æœƒä½¿ç”¨ <code>html</code>ï¼Œå¦å¤–ä¸€ç¨®å«åš <code>pug</code>ã€‚</p><p>ç›¸å°æ–¼ <code>html</code>ï¼Œ<code>pug</code> æ›´åå‘æ–¼ <code>yml</code> é‚£ç¨®ï¼Œç°¡æ½”ç¨‹åº¦ç‰¹åˆ¥é«˜ã€‚</p><p>åœ¨ <a class=link href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target=_blank rel=noopener>Volar</a> ä¸­ï¼Œç‚ºæˆ‘å€‘æä¾›äº† <code>html</code> å’Œ <code>pug</code> äº’ç›¸è½‰æ›çš„åŠŸèƒ½ã€‚</p><h5 id=samplevue-3>sample.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>img</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>åœ¨æˆ‘å€‘æ›¸å¯« <code>template</code> ä¹‹å¾Œï¼Œ<code>template</code> é ‚éƒ¨æœƒå‡ºç¾ä¸€å€‹å°å°çš„ <code>pug</code> åœ–æ¨™ï¼Œæˆ‘å€‘å¯ä»¥çœ‹åˆ°æ­¤æ™‚å®ƒæ˜¯æ²’æœ‰è¢«é¸ä¸­çš„ã€‚</p><p><img src=https://live.staticflickr.com/65535/52277578137_059aa7e0d5_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><p>é€™å€‹æ™‚å€™æˆ‘å€‘é»æ“Šä¸€ä¸‹é€™å€‹åœ–æ¨™ï¼Œè®“å®ƒé¸ä¸­ï¼Œç¥å¥‡çš„äº‹æƒ…ç™¼ç”Ÿäº†ã€‚</p><p><img src=https://live.staticflickr.com/65535/52278577068_bc917eabf4_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><p>æˆ‘å€‘å¯«å¥½çš„ <code>html</code> æ¨¡æ¿ï¼Œè¢«è‡ªå‹•è½‰åŒ–æˆäº† <code>pug</code>ï¼Œå†é»æ“Šä¸€ä¸‹ï¼Œåˆå›åˆ°äº†æˆ‘å€‘ç†Ÿæ‚‰çš„ <code>html</code>ã€‚</p><p><img src=https://live.staticflickr.com/65535/52278556001_3879f3bbba_o.png max-width=100% max-height=100% class=gallery-image loading=lazy></p><blockquote><p>å¾åŠŸèƒ½ä¸‰é–‹å§‹ï¼ŒåŸºæœ¬éƒ½æ˜¯ç®—å…§æ¸¬çš„æ–°åŠŸèƒ½ï¼Œæˆ‘æ˜¯æ©Ÿç·£å·§åˆä¹‹ä¸‹ï¼Œå°‡ <a class=link href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target=_blank rel=noopener>Volar</a> ä¸‹åˆ°æœ¬åœ°é€²è¡ŒæŸ¥çœ‹çš„æ™‚å€™ç™¼ç¾çš„é€™äº›ã€‚æƒ³åšé®®çš„å¯ä»¥è‡ªå·±ä¸‹è¼‰æºç¢¼ï¼Œç„¶å¾Œåœ¨packages/vscode-vue-languageservice/testCasesç›®éŒ„ä¸‹é«”é©—ï¼Œå¸Œæœ›é€™äº›åŠŸèƒ½å¯ä»¥ç›¡å¿«ç™¼å¸ƒï¼</p></blockquote><h2 id=vue-3-snippets>Vue 3 Snippets</h2><p>æ¨è–¦çš„ç¬¬äºŒå€‹å¤–æ›å«åš <a class=link href="https://marketplace.visualstudio.com/items?itemName=hollowtree.vue-snippets" target=_blank rel=noopener>Vue 3 Snippets</a> ï¼ŒåŒæ¨£çš„ï¼Œä»–ä¹Ÿæœ‰è‡ªå·±çš„ <code>Vue2</code> ç‰ˆæœ¬ã€‚å®ƒæ˜¯å¹¹ä»€éº¼çš„å‘¢ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ä¸‹é¢é€™å¼µåœ–ï¼Œæˆ‘åªè¼¸å…¥äº† <code>"v3"</code> ï¼Œå®ƒæœ‰å¾ˆå¤šæç¤ºï¼Œæˆ‘å€‘å°±å…ˆé¸æ“‡ <code>v3computed</code> ï¼Œé¸ä¸­ <code>Enter</code> å³å¯ã€‚</p><p><img src=https://live.staticflickr.com/65535/52278577048_9b6cd0221a_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><p>ç„¶å¾Œå®ƒå°±çµ¦æˆ‘å€‘è‡ªå‹•å¯«äº†å¦‚ä¸‹ç¨‹å¼ç¢¼ï¼š</p><p><img src=https://live.staticflickr.com/65535/52279039925_0316ccfe51_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><p>æ˜¯ä¸æ˜¯è¶…ç´šçœäº‹ï¼Œæ‘¸é­šçš„æ™‚é–“åˆå¢åŠ äº†ï¼é‚„æœ‰æ›´å¤šæœ‰è¶£çš„ä½¿ç”¨æ–¹å¼ï¼Œå°å¤¥ä¼´å€‘è‡ªè¡Œæ¢ç´¢å§ã€‚</p><hr><h2 id=å»ºç«‹-vue3-å°ˆæ¡ˆ>å»ºç«‹ <code>Vue3</code> å°ˆæ¡ˆ</h2><p>é‚£éº¼æ­£å¼é–‹å§‹å­¸ç¿’æˆ‘å€‘çš„ <code>Vue3</code> ï¼Œå…ˆå¾å»ºç«‹å°ˆæ¡ˆé–‹å§‹ã€‚</p><h3 id=ä½¿ç”¨-vue-cli-å»ºç«‹>ä½¿ç”¨ vue-cli å»ºç«‹</h3><p>è¼¸å…¥ä¸‹é¢çš„å‘½ä»¤ç„¶å¾Œé¸æ“‡é…ç½®é …é€²è¡Œå®‰è£å³å¯ï¼Œé€™è£¡æ³¨æ„ <code>vue-cli</code> çš„ç‰ˆæœ¬ä¸€å®šè¦åœ¨ ==4.5.0== ä»¥ä¸Šã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1>### å®‰è£æˆ–è€…å‡ç´š</span>
</span></span><span class=line><span class=cl>npm install -g @vue/cli
</span></span><span class=line><span class=cl><span class=c1>### æª¢è¦–ç‰ˆæœ¬ ä¿è­‰ vue cli ç‰ˆæœ¬åœ¨ 4.5.0 ä»¥ä¸Š</span>
</span></span><span class=line><span class=cl>vue --version
</span></span><span class=line><span class=cl><span class=c1>### å»ºç«‹å°ˆæ¡ˆ</span>
</span></span><span class=line><span class=cl>vue create my-project
</span></span><span class=line><span class=cl><span class=c1>### ç„¶å¾Œæ ¹æ“šæç¤ºä¸€æ­¥ä¸€æ­¥å‚»ç“œå¼æ“ä½œå°±è¡Œäº†</span>
</span></span><span class=line><span class=cl><span class=c1>### ...</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=ä½¿ç”¨-vite-å»ºç«‹>ä½¿ç”¨ <code>Vite</code> å»ºç«‹</h3><p>éƒ½èªª <code>Vue3.0</code> å’Œ <code>Vite2</code> æ›´é…ï¼Œå„ç¨®å„ªåŒ–å„ç¨®å¿«ï¼Œä½†éƒ½ä¸å±¬æ–¼æœ¬æ–‡çš„å…§å®¹ï¼Œæœ¬æ–‡çš„ç›®çš„æˆ‘å€‘åªéœ€è¦çŸ¥é“å®ƒç‰¹åˆ¥å¥½ç”¨ã€æ€éº¼ç”¨å°±è¡Œäº†ã€‚æˆ‘é€™è£¡æ˜¯å¤šé¸æ“‡äº† <code>TS</code>ï¼Œæ¯è¡Œéƒ½æœ‰è¨»é‡‹ï¼Œä¸€ç›®ç­ç„¶ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1>### åˆå§‹åŒ– viete å°ˆæ¡ˆ</span>
</span></span><span class=line><span class=cl>npm init vite-app &lt;project-name&gt;
</span></span><span class=line><span class=cl><span class=c1>### é€²å…¥å°ˆæ¡ˆè³‡æ–™å¤¾</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> &lt;project-name&gt;
</span></span><span class=line><span class=cl><span class=c1>### å®‰è£ä¾è³´</span>
</span></span><span class=line><span class=cl>npm install
</span></span><span class=line><span class=cl><span class=c1>### å•Ÿå‹•å°ˆæ¡ˆ</span>
</span></span><span class=line><span class=cl>npm run dev
</span></span></code></pre></td></tr></table></div></div><p>å»ºç«‹å®Œä»¥å¾Œæˆ‘å€‘å…ˆä¾†çœ‹çœ‹å…¥å£æª”æ¡ˆ <code>main.ts</code></p><h5 id=maints>main.ts</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=c1>// å¼•å…¥ createApp å‡½å¼ï¼Œå»ºç«‹å°æ‡‰çš„æ‡‰ç”¨ï¼Œç”¢ç”Ÿæ‡‰ç”¨çš„ä¾‹é …ç‰©ä»¶
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>createApp</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>// å¼•å…¥ app å…ƒä»¶ (æ‰€æœ‰å…ƒä»¶çš„çˆ¶ç´šå…ƒä»¶)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>App</span> <span class=kr>from</span> <span class=s1>&#39;./App.vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>// å»ºç«‹ app æ‡‰ç”¨è¿”å›å°æ‡‰çš„ä¾‹é …ç‰©ä»¶ï¼Œå‘¼å« mount æ–¹æ³•é€²è¡Œæ›è¼‰ï¼Œæ›è¼‰åˆ° #app ç¯€é»ä¸Šå»
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>).</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p>ç„¶å¾Œçœ‹çœ‹æ ¹å…ƒä»¶ <code>app.vue</code></p><h5 id=appvue>app.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- Vue2 å…ƒä»¶ä¸­çš„ html æ¨¡æ¿ä¸­å¿…é ˆè¦æœ‰ä¸€å°æ ¹æ¨™ç±¤ï¼ŒVue3 å…ƒä»¶çš„ html æ¨¡æ¿ä¸­å¯ä»¥æ²’æœ‰æ ¹æ¨™ç±¤ --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>img</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;Vue logo&#34;</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;./assets/logo.png&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- ä½¿ç”¨å­ç´šå…ƒä»¶ --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>HelloWorld</span> <span class=na>msg</span><span class=o>=</span><span class=s>&#34;Welcome to Your Vue.js + TypeScript App&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;ts&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>// é€™è£¡å¯ä»¥æ›¸å¯« TS ç¨‹å¼ç¢¼
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// defineComponent å‡½å¼ï¼Œç›®çš„æ˜¯å®šç¾©ä¸€å€‹å…ƒä»¶ï¼Œå…§éƒ¨å¯ä»¥å‚³å…¥ä¸€å€‹é…ç½®ç‰©ä»¶
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>defineComponent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>// å¼•å…¥å­ç´šå…ƒä»¶
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>HelloWorld</span> <span class=nx>from</span> <span class=s1>&#39;./components/HelloWorld.vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æš´éœ²å‡ºå»ä¸€å€‹å®šç¾©å¥½çš„å…ƒä»¶
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=k>default</span> <span class=nx>defineComponent</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// ç•¶å‰å…ƒä»¶çš„åå­—
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;App&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// è¨»å†Šå…ƒä»¶
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>components</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// è¨»å†Šä¸€å€‹å­ç´šå…ƒä»¶
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>HelloWorld</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=composition-api>Composition API</h2><p><img src=https://live.staticflickr.com/65535/52278577028_ec0e1597eb_o.png max-width=100% max-height=100% class=gallery-image loading=lazy></p><p>æ¥ä¸‹ä¾†åˆ°äº†é‡é ­æˆ²ï¼Œ<code>Vue3</code> çš„æ‹›ç‰Œç‰¹æ€§ï¼Œ<code>Composition API</code>ã€‚</p><p>é—œæ–¼ <code>Composition API</code> é€™è£¡æœ‰åœ–è§£æ¼”ç¤ºï¼Œæ¥µåŠ›æ¨è–¦ã€‚</p><p><a class=link href=https://wayne-blog.com/@wayne-lin/vue3-option-vs-composition>åœ–è§£ Option API vs Composition API</a></p><ul><li><code>Composition API</code> å¯ä»¥æ›´æ–¹ä¾¿çš„æŠ½å–å…±é€šé‚è¼¯ï¼Œä½†æ˜¯ä¸è¦éæ–¼åœ¨æ„é‚è¼¯ç¨‹å¼ç¢¼è¤‡ç”¨ï¼Œä»¥åŠŸèƒ½æå–ç¨‹å¼ç¢¼ä¹Ÿæ˜¯ä¸€ç¨®æ€è·¯ã€‚</li></ul><p>é †ä¾¿æä¸€å¥ï¼Œ<code>Vue3</code> ç›¸å®¹å¤§éƒ¨åˆ† <code>Vue2</code> èªæ³•ï¼Œæ‰€ä»¥åœ¨ <code>Vue3</code> ä¸­æ›¸å¯« <code>Vue2</code> èªæ³•æ˜¯æ²’æœ‰å•é¡Œçš„ï¼ˆå»¢é™¤çš„é™¤å¤–ï¼‰ï¼Œä½†æ˜¯æ—¢ç„¶æˆ‘å€‘å·²ç¶“å‡ç´š <code>Vue3</code> äº†ï¼Œä¸å»ºè­°æ··åˆä½¿ç”¨ï¼Œé™¤éä¸€äº›å¤§å‹ç‰¹æ®Šå°ˆæ¡ˆéœ€è¦ç›¸å®¹å…©å€‹ç‰ˆæœ¬ã€‚</p><h3 id=ç”Ÿå‘½é€±æœŸé‰¤å­>ç”Ÿå‘½é€±æœŸé‰¤å­</h3><p><img src=https://live.staticflickr.com/65535/52278577033_acc9e36189_o.png max-width=100% max-height=100% class=gallery-image loading=lazy></p><hr><h3 id=setup>setup</h3><ul><li><code>setup</code> æ˜¯çµ„åˆ <code>Composition API</code> ä¸­çš„å…¥å£å‡½å¼ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€å€‹è¦ä½¿ç”¨çš„å‡½å¼ã€‚</li><li><code>setup</code> åªåœ¨åˆå§‹åŒ–æ™‚åŸ·è¡Œä¸€æ¬¡ï¼Œæ‰€æœ‰çš„ <code>Composition API</code> å‡½å¼éƒ½åœ¨æ­¤ä½¿ç”¨ã€‚</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=nx>setup() {</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;æˆ‘åŸ·è¡Œäº†&#39;</span><span class=p>)</span> <span class=c1>// æˆ‘åŸ·è¡Œäº†
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>},</span>
</span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥é€šé <code>console.log</code> çœ‹åˆ° <code>setup</code> æ˜¯åœ¨ <code>beforeCreate</code> ç”Ÿå‘½é€±æœŸä¹‹å‰åŸ·è¡Œçš„(åªåŸ·è¡Œä¸€æ¬¡)ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=cl><span class=nx>beforeCreate() {</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;beforeCreateåŸ·è¡Œäº†&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>setup() {</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;setupåŸ·è¡Œäº†&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=c1>// setupåŸ·è¡Œäº†
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// beforeCreateåŸ·è¡Œäº†
</span></span></span></code></pre></td></tr></table></div></div><ul><li>ç”±æ­¤å¯ä»¥æ¨æ–·å‡º <code>setup</code> åŸ·è¡Œçš„æ™‚å€™ï¼Œå…ƒä»¶ç‰©ä»¶é‚„æ²’æœ‰å»ºç«‹ï¼Œå…ƒä»¶å¯¦ä¾‹ç‰©ä»¶ <code>this</code> é‚„ä¸å¯ç”¨ï¼Œæ­¤æ™‚ <code>this</code> æ˜¯ <code>undefined</code>ï¼Œä¸èƒ½é€šé <code>this</code> ä¾†è¨ªå• <code>data</code>ã€<code>computed</code>ã€<code>methods</code>ã€<code>props</code>ã€‚</li><li>è¿”å›ç‰©ä»¶ä¸­çš„^1.^å±¬æ€§æœƒèˆ‡ <code>data</code> å‡½å¼è¿”å›ç‰©ä»¶çš„å±¬æ€§åˆä½µæˆç‚ºå…ƒä»¶ç‰©ä»¶çš„å±¬æ€§ï¼›^2.^è¿”å›ç‰©ä»¶ä¸­çš„æ–¹æ³•æœƒèˆ‡ <code>methods</code> ä¸­çš„æ–¹æ³•åˆä½µæˆåŠŸå…ƒä»¶ç‰©ä»¶çš„æ–¹æ³•ã€‚</li><li>å¦‚æœæœ‰é‡åï¼Œ<code>setup</code> å„ªå…ˆã€‚å› ç‚ºåœ¨ <code>setup</code> ä¸­ <code>this</code> ä¸å¯ç”¨ï¼Œ<code>methods</code> ä¸­å¯ä»¥è¨ªå• <code>setup</code> æä¾›çš„å±¬æ€§å’Œæ–¹æ³•ï¼Œä½†åœ¨ <code>setup</code> æ–¹æ³•ä¸­ä¸èƒ½è¨ªå• <code>data</code> å’Œ <code>methods</code> è£¡çš„å…§å®¹ï¼Œæ‰€ä»¥é‚„æ˜¯ä¸å»ºè­°æ··åˆä½¿ç”¨ã€‚</li><li><code>setup</code> å‡½å¼å¦‚æœè¿”å›ç‰©ä»¶ï¼Œç‰©ä»¶ä¸­çš„<strong>å±¬æ€§</strong>æˆ–<strong>æ–¹æ³•</strong>ï¼Œ<strong>template</strong> ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</li></ul><h5 id=samplevue-4>sample.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>{{number}}<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>number</span> <span class=o>=</span> <span class=mi>18</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>number</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>æ³¨æ„ï¼š<code>setup</code> ä¸èƒ½æ˜¯ä¸€å€‹ <code>async</code> å‡½å¼ï¼Œå› ç‚ºè¿”å›å€¼ä¸å†æ˜¯ <code>return</code> çš„ç‰©ä»¶ï¼Œè€Œæ˜¯ <code>promise</code>ï¼Œ<code>template</code> ä¸­å°±ä¸å¯ä»¥ä½¿ç”¨ <code>return</code> ä¸­è¿”å›ç‰©ä»¶çš„è³‡æ–™äº†ã€‚</p><p><code>setup</code> çš„åƒæ•¸(^1.^<code>props</code>, ^2.^<code>context</code>)ï¼š</p><ol><li><code>props</code>ï¼šæ˜¯ä¸€å€‹ç‰©ä»¶ï¼Œè£¡é¢æœ‰çˆ¶ç´šå…ƒä»¶å‘å­ç´šå…ƒä»¶å‚³éçš„è³‡æ–™ï¼Œä¸¦ä¸”æ˜¯åœ¨å­ç´šå…ƒä»¶ä¸­ä½¿ç”¨ <code>props</code> æ¥æ”¶åˆ°çš„æ‰€æœ‰çš„å±¬æ€§ã€‚</li><li><code>context</code>ï¼šä¸Šä¸‹æ–‡ç‰©ä»¶ï¼Œå¯ä»¥é€šé <code>es6</code> èªæ³•è§£æ§‹ setup(props, {^(a).^<code>attrs</code>, ^(b).^<code>slots</code>, ^(c).^<code>emit</code>})<br>> a). <code>attrs</code>ï¼šç²å–ç•¶å‰å…ƒä»¶æ¨™ç±¤ä¸Šæ‰€æœ‰æ²’æœ‰é€šé <code>props</code> æ¥æ”¶çš„å±¬æ€§çš„ç‰©ä»¶ï¼Œç›¸ç•¶æ–¼ <code>this.$attrs</code>ã€‚<br>> b). <code>slots</code>ï¼šåŒ…å«æ‰€æœ‰å‚³å…¥çš„æ’æ§½å…§å®¹çš„ç‰©ä»¶ï¼Œç›¸ç•¶æ–¼ <code>this.$slots</code>ã€‚<br>> c). <code>emit</code>ï¼šç”¨ä¾†åˆ†ç™¼è‡ªå®šç¾©äº‹ä»¶çš„å‡½å¼ï¼Œç›¸ç•¶æ–¼ <code>this.$emit</code>ã€‚</li></ol></blockquote><br><ul><li>æ¼”ç¤º <code>attrs</code> å’Œ <code>props</code>ï¼š</li></ul><h5 id=parentvue>parent.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>child</span> <span class=na>:msg</span><span class=o>=</span><span class=s>&#34;msg&#34;</span> <span class=na>msg2</span><span class=o>=</span><span class=s>&#39;å“ˆå“ˆå“ˆ&#39;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#39;ts&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>defineComponent</span><span class=p>,</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>// å¼•å…¥å­å…ƒä»¶
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>Child</span> <span class=nx>from</span> <span class=s1>&#39;./components/Child.vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>defineComponent</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;App&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>components</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Child</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>msg</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=s1>&#39;hello,vue3&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>msg</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=childrenvue>children.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>å­å…ƒä»¶<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h3</span><span class=p>&gt;</span>msg:{{ msg }}<span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#39;ts&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>defineComponent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>defineComponent</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Child&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>props</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;msg&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nx>setup</span><span class=p>(</span><span class=nx>props</span><span class=p>,</span> <span class=p>{</span><span class=nx>attrs</span><span class=p>,</span> <span class=nx>slots</span><span class=p>,</span> <span class=nx>emit</span><span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;props:&#39;</span><span class=p>,</span> <span class=nx>props</span><span class=p>);</span> <span class=c1>// msg: &#34;hello,vue3&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;attrs:&#39;</span><span class=p>,</span> <span class=nx>attrs</span><span class=p>);</span> <span class=c1>// msg2: &#34;å“ˆå“ˆå“ˆ&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>æ¼”ç¤º <code>emit</code>ï¼š</li></ul><h5 id=parentvue-1>parent.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>child</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;show&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#39;ts&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>show</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;name:&#39;</span><span class=p>,</span> <span class=s1>&#39;hzw&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>show</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=childrenvue-1>children.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>button</span><span class=p>&gt;</span>äº‹ä»¶åˆ†ç™¼<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#39;ts&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>defineComponent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>defineComponent</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Child&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>setup</span><span class=p>(</span><span class=nx>props</span><span class=p>,</span> <span class=p>{</span> <span class=nx>emit</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>emitFn</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>emit</span><span class=p>(</span><span class=s1>&#39;show&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>emitFn</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=ref>ref</h3><ul><li>ä½œç”¨ï¼šå®šç¾©ä¸€å€‹éŸ¿æ‡‰å¼çš„è³‡æ–™(ä¸€èˆ¬ç”¨ä¾†å®šç¾©ä¸€å€‹åŸºæœ¬å‹åˆ¥çš„éŸ¿æ‡‰å¼è³‡æ–™ <code>Undefined</code>ã€<code>Null</code>ã€<code>Boolean</code>ã€<code>Number</code>ã€<code>String</code>)</li><li>èªæ³•ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>xxx</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=nx>initValue</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>æ³¨æ„ï¼š<code>script</code> ä¸­æ“ä½œè³‡æ–™éœ€è¦ä½¿ç”¨ <code>xxx.value</code> çš„å½¢å¼ï¼Œè€Œ <code>template</code> ä¸­<strong>ä¸éœ€è¦</strong>æ–°å¢ <code>.value</code></li></ul><p>ç”¨ä¸€å€‹ä¾‹å­ä¾†æ¼”ç¤ºï¼Œå¯¦ç¾ä¸€å€‹æŒ‰éˆ•ï¼Œé»é¸å¯ä»¥å¢åŠ æ•¸å­—ï¼š</p><h5 id=addnumvue>addNum.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>{{count}}<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#39;updateCount&#39;</span><span class=p>&gt;</span>å¢åŠ <span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>åœ¨ <code>Vue2</code> ä¸­ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>data</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>conunt</span><span class=o>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=nx>methods</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateCount</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>conunt</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>åœ¨ <code>Vue3</code> ä¸­ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ref ç”¨æ–¼å®šç¾©ä¸€å€‹éŸ¿æ‡‰å¼çš„è³‡æ–™ï¼Œè¿”å›çš„æ˜¯ä¸€å€‹ Ref ç‰©ä»¶ï¼Œç‰©ä»¶ä¸­æœ‰ä¸€å€‹ value å±¬æ€§
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// å¦‚æœéœ€è¦å°è³‡æ–™é€²è¡Œæ“ä½œï¼Œéœ€è¦ä½¿ç”¨è©² Ref ç‰©ä»¶çš„ value å±¬æ€§
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>count</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>updateCount</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>count</span><span class=p>.</span><span class=nx>value</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>count</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>updateCount</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>åœ¨ <code>Vue2</code> ä¸­æˆ‘å€‘é€šé <code>this.$refs</code> ä¾†ç²å– <code>dom</code> ç¯€é»ï¼Œ<code>Vue3</code> ä¸­æˆ‘å€‘é€šé <code>ref</code> ä¾†ç²å–ç¯€é»ã€‚</p><p>é¦–å…ˆéœ€è¦åœ¨æ¨™ç±¤ä¸Šæ–°å¢ <code>ref='xxx'</code>ï¼Œç„¶å¾Œå† <code>setup</code> ä¸­å®šç¾©ä¸€å€‹åˆå§‹å€¼ç‚º <code>null</code> çš„ <code>ref</code> å‹åˆ¥ï¼Œåå­—è¦å’Œæ¨™ç±¤çš„ <code>ref</code> å±¬æ€§ä¸€è‡´ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>xxx</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=kc>null</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>æ³¨æ„ ï¼šä¸€å®šè¦åœ¨ <code>setup</code> çš„ <code>return</code> ä¸­è¿”å›ï¼Œä¸ç„¶æœƒå ±éŒ¯ã€‚</p></blockquote><p>ç”¨ä¸€å€‹ä¾‹å­ä¾†æ¼”ç¤ºï¼Œè®“è¼¸å…¥æ¡†è‡ªå‹•ç²å–ç„¦é»ï¼š</p><h5 id=autofocusvue>autoFocus.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>App<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text&#34;</span><span class=p>&gt;</span>---
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text&#34;</span> <span class=na>ref</span><span class=o>=</span><span class=s>&#34;inputRef&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;ts&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>onMounted</span><span class=p>,</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=cm>/* 
</span></span></span><span class=line><span class=cl><span class=cm>refç²å–å…ƒç´ : åˆ©ç”¨ ref å‡½å¼ç²å–å…ƒä»¶ä¸­çš„æ¨™ç±¤å…ƒç´ 
</span></span></span><span class=line><span class=cl><span class=cm>åŠŸèƒ½éœ€æ±‚: è®“è¼¸å…¥æ¡†è‡ªå‹•ç²å–ç„¦é»
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>inputRef</span> <span class=o>=</span> <span class=nx>ref</span><span class=o>&lt;</span><span class=nx>HTMLElement</span><span class=o>|</span><span class=kc>null</span><span class=o>&gt;</span><span class=p>(</span><span class=kc>null</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>onMounted</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>inputRef</span><span class=p>.</span><span class=nx>value</span> <span class=o>&amp;&amp;</span> <span class=nx>inputRef</span><span class=p>.</span><span class=nx>value</span><span class=p>.</span><span class=nx>focus</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>inputRef</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=reactive>reactive</h3><ul><li>ä½œç”¨ï¼šå®šç¾©å¤šå€‹æ•¸æ“šçš„éŸ¿æ‡‰å¼ï¼Œæ¥æ”¶ä¸€å€‹æ™®é€šç‰©ä»¶ç„¶å¾Œè¿”å›è©²æ™®é€šç‰©ä»¶çš„éŸ¿æ‡‰å¼ä»£ç†å™¨ç‰©ä»¶(<code>Proxy</code>)ï¼ŒéŸ¿æ‡‰å¼è½‰æ›æ˜¯"<code>æ·±å±¤çš„</code>"ï¼šæœƒå½±éŸ¿ç‰©ä»¶å…§éƒ¨æ‰€æœ‰å·¢ç‹€çš„å±¬æ€§ï¼Œæ‰€æœ‰çš„è³‡æ–™éƒ½æ˜¯éŸ¿æ‡‰å¼çš„ã€‚</li><li>èªæ³•ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>proxy</span> <span class=o>=</span> <span class=nx>reactive</span><span class=p>(</span><span class=nx>obj</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>ç¨‹å¼ç¢¼æ¼”ç¤ºï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h3</span><span class=p>&gt;</span>å§“å:{{user.name}}<span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h3</span><span class=p>&gt;</span>å¹´é½¡:{{user.age}}<span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h3</span><span class=p>&gt;</span>wife:{{user.wife}}<span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;updateUser&#34;</span><span class=p>&gt;</span>æ›´æ–°<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>reactive</span><span class=p>({</span>
</span></span><span class=line><span class=cl>      <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;hzw&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>age</span><span class=o>:</span> <span class=mi>18</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>wife</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;xioaohong&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>age</span><span class=o>:</span> <span class=mi>18</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>books</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;ç´…å¯¶æ›¸&#39;</span><span class=p>,</span> <span class=s1>&#39;è¨­è¨ˆæ¨¡å¼&#39;</span><span class=p>,</span> <span class=s1>&#39;æ¼”ç®—æ³•èˆ‡è³‡æ–™çµæ§‹&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>updateUser</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>user</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=s1>&#39;å°ç´…&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>user</span><span class=p>.</span><span class=nx>age</span> <span class=o>+=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>user</span><span class=p>.</span><span class=nx>wife</span><span class=p>.</span><span class=nx>books</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;é‡‘ç“¶æ¢…&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>user</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>updateUser</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=computed>computed</h3><ul><li>èˆ‡ <code>Vue2</code> ä¸­çš„ <code>computed</code> é…ç½®åŠŸèƒ½ä¸€è‡´ï¼Œè¿”å›çš„æ˜¯ä¸€å€‹ <code>ref</code> å‹åˆ¥çš„ç‰©ä»¶ã€‚</li><li><code>computed</code> çš„å‡½å¼ä¸­å¦‚æœåªå‚³å…¥ä¸€å€‹ç®­é ­å‡½å¼ è¡¨ç¤ºçš„æ˜¯ <code>get</code> æ“ä½œï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>computed</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>reactive</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>firstName</span><span class=o>:</span> <span class=s1>&#39;éŸ“&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>lastName</span><span class=o>:</span> <span class=s1>&#39;å¿—å‰&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>fullName1</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>user</span><span class=p>.</span><span class=nx>firstName</span> <span class=o>+</span> <span class=nx>user</span><span class=p>.</span><span class=nx>lastName</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>user</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>fullName1</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>computed</code> çš„å‡½å¼ä¸­å¯ä»¥å‚³å…¥ä¸€å€‹ç‰©ä»¶ï¼Œå¯ä»¥åŒ…å« <code>set</code> å’Œ <code>get</code> å‡½å¼ï¼Œé€²è¡Œè®€å–å’Œä¿®æ”¹çš„æ“ä½œï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>computed</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>reactive</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>firstName</span><span class=o>:</span> <span class=s1>&#39;éŸ“&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>lastName</span><span class=o>:</span> <span class=s1>&#39;å¿—å‰&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>fullName2</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>get</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>user</span><span class=p>.</span><span class=nx>firstName</span> <span class=o>+</span> <span class=s1>&#39;_&#39;</span> <span class=o>+</span> <span class=nx>user</span><span class=p>.</span><span class=nx>lastName</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>set</span><span class=p>(</span><span class=nx>val</span><span class=o>:</span> <span class=nx>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>names</span> <span class=o>=</span> <span class=nx>val</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39;_&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>user</span><span class=p>.</span><span class=nx>firstName</span> <span class=o>=</span> <span class=nx>names</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=nx>user</span><span class=p>.</span><span class=nx>lastName</span> <span class=o>=</span> <span class=nx>names</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>user</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>fullName2</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=watch>watch</h3><ul><li>èˆ‡ <code>Vue2</code> ä¸­çš„ <code>watch</code> é…ç½®åŠŸèƒ½ä¸€è‡´ã€‚</li><li>ä½œç”¨ï¼šç›£è¦–æŒ‡å®šçš„ä¸€å€‹æˆ–å¤šå€‹éŸ¿æ‡‰å¼è³‡æ–™ï¼Œä¸€æ—¦è³‡æ–™è®ŠåŒ–ï¼Œå°±è‡ªå‹•åŸ·è¡Œç›£è¦–å›æ’¥ã€‚</li><li>èªæ³•ï¼šwatch(<code>è¦ç›£è½çš„è³‡æ–™</code>, <code>å›èª¿å‡½å¼</code>, <code>é…ç½®</code>)</li><li>é è¨­åˆå§‹æ™‚ä¸åŸ·è¡Œå›èª¿ï¼Œä½†å¯ä»¥é€šéé…ç½®çš„ <code>immediate</code> ç‚º <code>true</code>ï¼Œä¾†æŒ‡å®šåˆå§‹æ™‚ç«‹å³åŸ·è¡Œç¬¬ä¸€æ¬¡ã€‚</li><li>é€šéé…ç½®çš„ <code>deep</code> ç‚º <code>true</code>ï¼Œä¾†æŒ‡å®šæ·±åº¦ç›£è¦–ã€‚</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>watch</span><span class=p>,</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>reactive</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>firstName</span><span class=o>:</span> <span class=s1>&#39;éŸ“&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>lastName</span><span class=o>:</span> <span class=s1>&#39;å¿—å‰&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>fullName3</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>watch</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=nx>user</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>({</span> <span class=nx>firstName</span><span class=p>,</span> <span class=nx>lastName</span> <span class=p>})</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fullName3</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>firstName</span> <span class=o>+</span> <span class=s1>&#39;_&#39;</span> <span class=o>+</span> <span class=nx>lastName</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nx>immediate</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span> <span class=nx>deep</span><span class=o>:</span> <span class=kc>true</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>user</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>fullName3</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p><code>watch</code> ç›£è½å¤šå€‹æ•¸æ“šï¼Œä½¿ç”¨é™£åˆ—ã€‚<br><code>watch</code> ç›£è½ééŸ¿æ‡‰å¼è³‡æ–™çš„æ™‚å€™éœ€è¦ä½¿ç”¨å›èª¿å‡½å¼çš„å½¢å¼ã€‚</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>watch</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>user</span><span class=p>.</span><span class=nx>firstName</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>user</span><span class=p>.</span><span class=nx>lastName</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>fullName3</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;æˆ‘åŸ·è¡Œäº†&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=watcheffect>watchEffect</h3><ul><li>ä½œç”¨ï¼šç›£è¦–è³‡æ–™ç™¼ç”Ÿè®ŠåŒ–æ™‚åŸ·è¡Œå›èª¿ï¼Œä¸ç”¨ç›´æ¥æŒ‡å®šè¦ç›£è¦–çš„è³‡æ–™ï¼Œå›èª¿å‡½å¼ä¸­ä½¿ç”¨çš„å“ªäº›éŸ¿æ‡‰å¼è³‡æ–™å°±ç›£è¦–å“ªäº›éŸ¿æ‡‰å¼è³‡æ–™ï¼Œé è¨­åˆå§‹æ™‚å°±æœƒåŸ·è¡Œç¬¬ä¸€æ¬¡ï¼Œå¾è€Œå¯ä»¥æ”¶é›†éœ€è¦ç›£è¦–çš„è³‡æ–™ã€‚</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>watchEffect</span><span class=p>,</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>reactive</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>firstName</span><span class=o>:</span> <span class=s1>&#39;éŸ“&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>lastName</span><span class=o>:</span> <span class=s1>&#39;å¿—å‰&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>fullName4</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>watchEffect</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>fullName4</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>user</span><span class=p>.</span><span class=nx>firstName</span> <span class=o>+</span> <span class=s1>&#39;_&#39;</span> <span class=o>+</span> <span class=nx>user</span><span class=p>.</span><span class=nx>lastName</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>user</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>fullName4</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// watchEffectå¯ä»¥å¯¦ç¾è¨ˆç®—å±¬æ€§setæ–¹æ³•
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>watchEffect</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>names</span> <span class=o>=</span> <span class=nx>fullName3</span><span class=p>.</span><span class=nx>value</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39;_&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>user</span><span class=p>.</span><span class=nx>firstName</span> <span class=o>=</span> <span class=nx>names</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=nx>user</span><span class=p>.</span><span class=nx>lastName</span> <span class=o>=</span> <span class=nx>names</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div><p>ç”Ÿå‘½é€±æœŸå°æ¯”ï¼š</p><p><img src=https://live.staticflickr.com/65535/52279039860_760ce781e5_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><ul><li>æ³¨æ„ï¼š<code>3.0</code> ä¸­çš„ç”Ÿå‘½é€±æœŸé‰¤å­è¦æ¯” <code>2.X</code> ä¸­ç›¸åŒç”Ÿå‘½é€±æœŸçš„é‰¤å­è¦å¿«ã€‚</li><li><code>Composition API</code> é‚„æ–°å¢äº†ä»¥ä¸‹ç”¨æ–¼é™¤éŒ¯çš„é‰¤å­å‡½å¼ï¼Œä½†æ˜¯ä¸æ€éº¼å¸¸ç”¨ï¼š<code>onRenderTracked</code>ã€<code>onRenderTriggered</code>ã€‚</li><li>ç¨‹å¼ç¢¼æ¼”ç¤ºï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>onBeforeMount</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;--onBeforeMount&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>onMounted</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;--onMounted&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>onBeforeUpdate</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;--onBeforeUpdate&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>onUpdated</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;--onUpdated&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>onBeforeUnmount</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;--onBeforeUnmount&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>onUnmounted</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;--onUnmounted&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=torefs>toRefs</h3><ul><li>ä½œç”¨ï¼šæŠŠä¸€å€‹éŸ¿æ‡‰å¼ç‰©ä»¶è½‰æ›æˆæ™®é€šç‰©ä»¶ï¼Œè©²æ™®é€šç‰©ä»¶çš„æ¯å€‹å±¬æ€§éƒ½æ˜¯ä¸€å€‹ <code>ref</code>ã€‚</li><li>æ‡‰ç”¨ï¼šæˆ‘å€‘ä½¿ç”¨ <code>reactive</code> å»ºç«‹çš„ç‰©ä»¶ï¼Œå¦‚æœæƒ³åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ï¼Œå°±å¿…é ˆå¾—ä½¿ç”¨ <code>xxx.xxx</code> çš„å½¢å¼ï¼Œå¦‚æœå¤§é‡ç”¨åˆ°çš„è©±é‚„æ˜¯å¾ˆéº»ç…©çš„ï¼Œä½†æ˜¯ä½¿ç”¨ <code>es6</code> è§£æ§‹ä»¥å¾Œï¼Œæœƒå¤±å»éŸ¿æ‡‰å¼ï¼Œé‚£éº¼ <code>toRefs</code> çš„ä½œç”¨å°±é«”ç¾åœ¨é€™ï¼Œåˆ©ç”¨ <code>toRefs</code> å¯ä»¥å°‡ä¸€å€‹éŸ¿æ‡‰å¼ <code>reactive</code> ç‰©ä»¶çš„æ‰€æœ‰åŸå§‹å±¬æ€§è½‰æ›ç‚ºéŸ¿æ‡‰å¼çš„ <code>ref</code> å±¬æ€§ã€‚ç•¶ç„¶å°å¤¥ä¼´å€‘å¯ä»¥è‡ªè¡Œé–‹ç™¼æ›´å¤šæ‡‰ç”¨å ´æ™¯ã€‚</li><li>ç¨‹å¼ç¢¼æ¼”ç¤ºï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    name:{{name}}
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#39;ts&#39;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>defineComponent</span><span class=p>,</span> <span class=nx>reactive</span><span class=p>,</span> <span class=nx>toRefs</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>defineComponent</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>state</span> <span class=o>=</span> <span class=nx>reactive</span><span class=p>({</span>
</span></span><span class=line><span class=cl>      <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;hzw&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>state2</span> <span class=o>=</span> <span class=nx>toRefs</span><span class=p>(</span><span class=nx>state</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>setInterval</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>state</span><span class=p>.</span><span class=nx>name</span> <span class=o>+=</span> <span class=s1>&#39;===&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// é€šé toRefs è¿”å›çš„ç‰©ä»¶ï¼Œè§£æ§‹å‡ºä¾†çš„å±¬æ€§ä¹Ÿæ˜¯éŸ¿æ‡‰å¼çš„
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=p>...</span><span class=nx>state2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=provide-èˆ‡-inject><code>provide</code> èˆ‡ <code>inject</code></h3><ul><li>ä½œç”¨ï¼šå¯¦ç¾è·¨å±¤ç´šå…ƒä»¶(ç¥–å­«)é–“é€šè¨Šã€‚</li><li>ç¨‹å¼ç¢¼æ¼”ç¤ºï¼š</li></ul><h6 id=parentvue-2>parent.vue</h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span>çˆ¶å…ƒä»¶<span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>ç•¶å‰é¡è‰²: {{color}}<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;color=&#39;red&#39;&#34;</span><span class=p>&gt;</span>ç´…<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;color=&#39;yellow&#39;&#34;</span><span class=p>&gt;</span>é»ƒ<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;color=&#39;blue&#39;&#34;</span><span class=p>&gt;</span>è—<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>hr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>Son</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;ts&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>provide</span><span class=p>,</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Son</span> <span class=nx>from</span> <span class=s1>&#39;./son.vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;ProvideInject&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>components</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Son</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>color</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=s1>&#39;red&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>provide</span><span class=p>(</span><span class=s1>&#39;color&#39;</span><span class=p>,</span> <span class=nx>color</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>color</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=sonvue>son.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>å­å…ƒä»¶<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>hr</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>GrandSon</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;ts&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>GrandSon</span> <span class=nx>from</span> <span class=s1>&#39;./grandson.vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>components</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>GrandSon</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=grandsonvue>grandson.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h3</span> <span class=na>:style</span><span class=o>=</span><span class=s>&#34;{color}&#34;</span><span class=p>&gt;</span>å­«å­å…ƒä»¶: {{color}}<span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;ts&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>inject</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>color</span> <span class=o>=</span> <span class=nx>inject</span><span class=p>(</span><span class=s1>&#39;color&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>color</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=å…¶ä»–ç‰¹æ€§>å…¶ä»–ç‰¹æ€§</h2><h3 id=teleportç¬ç§»>Teleport(ç¬ç§»)</h3><ul><li>ä½œç”¨ï¼š<code>Teleport</code> æä¾›äº†ä¸€ç¨®ä¹¾æ·¨çš„æ–¹æ³•ï¼Œè®“å…ƒä»¶çš„ <code>html</code> åœ¨çˆ¶å…ƒä»¶ä»‹é¢å¤–çš„ç‰¹å®šæ¨™ç±¤(å¾ˆå¯èƒ½æ˜¯ <code>body</code> )ä¸‹æ’å…¥é¡¯ç¤ºï¼Œæ›å¥è©±èªªå°±æ˜¯å¯ä»¥æŠŠ<code>å­å…ƒä»¶</code>æˆ–è€…<code>domç¯€é»</code>æ’å…¥åˆ°ä»»ä½•ä½ æƒ³æ’å…¥åˆ°çš„åœ°æ–¹å»ã€‚</li><li>èªæ³•ï¼šä½¿ç”¨ <code>to</code> å±¬æ€§ï¼Œå¼•è™Ÿå…§ä½¿ç”¨é¸æ“‡å™¨ã€‚</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>teleport</span> <span class=na>to</span><span class=o>=</span><span class=s>&#34;body&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>teleport</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>ç¨‹å¼ç¢¼æ¼”ç¤ºï¼š</li></ul><h5 id=parentvue-3>parent.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;father&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>App<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>modal-button</span><span class=p>&gt;&lt;/</span><span class=nt>modal-button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;ts&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>ModalButton</span> <span class=nx>from</span> <span class=s1>&#39;./components/ModalButton.vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>components</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>ModalButton</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=childrenvue-2>children.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;son&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;modalOpen = true&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      é»æˆ‘é–‹å•Ÿå°è©±æ–¹å¡Š
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>teleport</span> <span class=na>to</span><span class=o>=</span><span class=s>&#34;body&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>div</span> <span class=na>v-if</span><span class=o>=</span><span class=s>&#34;modalOpen&#34;</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;looklook&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        çœ‹çœ‹æˆ‘å‡ºç¾åœ¨äº†å“ªè£¡
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;modalOpen = false&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          Close
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>teleport</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;modal-button&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>modalOpen</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=kc>false</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>modalOpen</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥çœ‹åˆ°åœ¨å­å…ƒä»¶ä¸­çš„ <code>looklook</code> å…ƒç´ è·‘åˆ°äº† <code>body</code> ä¸‹é¢ï¼Œè€Œä¹‹å‰çš„ä½ç½®é»˜èªå‡ºç¾äº†å…©è¡Œè¨»é‡‹ã€‚</p><p><img src=https://live.staticflickr.com/65535/52277577997_8ba7960112_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><hr><h3 id=suspenseä¸ç¢ºå®šçš„>Suspense(ä¸ç¢ºå®šçš„)</h3><ul><li>ä½œç”¨ï¼šå®ƒå€‘å…è¨±æˆ‘å€‘çš„æ‡‰ç”¨ç¨‹å¼åœ¨ç­‰å¾…éåŒæ­¥å…ƒä»¶æ™‚æ¸²æŸ“ä¸€äº›å¾Œå‚™å…§å®¹ï¼Œå¯ä»¥è®“æˆ‘å€‘å»ºç«‹ä¸€å€‹å¹³æ»‘çš„ä½¿ç”¨è€…é«”é©—ã€‚</li><li>èªæ³•ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>Suspense</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>template</span> <span class=na>v-slot:default</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=c>&lt;!-- éåŒæ­¥å…ƒä»¶ --&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>AsyncComp</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>template</span> <span class=na>v-slot:fallback</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=c>&lt;!-- å¾Œå‚™å…§å®¹ --&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span>LOADING...<span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>Suspense</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p><code>vue3</code> ä¸­å¼•å…¥<strong>éåŒæ­¥å…ƒä»¶</strong>çš„æ–¹å¼ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>AsyncComp</span> <span class=o>=</span> <span class=nx>defineAsyncComponent</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;./AsyncComp.vue&#39;</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>ç¨‹å¼ç¢¼æ¼”ç¤ºï¼š</li></ul><h5 id=parentvue-4>parent.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Suspense</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=c>&lt;!-- v-slot:defaul å¯ä»¥ç°¡å¯«æˆ #defaul --&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>template</span> <span class=na>v-slot:default</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>AsyncComp</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c>&lt;!-- v-slot:defaul å¯ä»¥ç°¡å¯«æˆ #fallback --&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>template</span> <span class=na>v-slot:fallback</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span>LOADING...<span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Suspense</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;ts&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>defineAsyncComponent</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>AsyncComp</span> <span class=o>=</span> <span class=nx>defineAsyncComponent</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;./AsyncComp.vue&#39;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>components</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>AsyncComp</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=childrenvue-3>children.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>AsyncComp22<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>{{msg}}<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;ts&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;AsyncComp&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>setup</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=nb>Promise</span><span class=p>((</span><span class=nx>resolve</span><span class=p>,</span> <span class=nx>reject</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nx>resolve</span><span class=p>({</span>
</span></span><span class=line><span class=cl>                    <span class=nx>msg</span><span class=o>:</span> <span class=s1>&#39;abc&#39;</span>
</span></span><span class=line><span class=cl>                <span class=p>})</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span> <span class=mi>2000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>é€šéä¸‹åœ–å¯ä»¥çœ‹åˆ°åœ¨éåŒæ­¥å…ƒä»¶åŠ è¼‰å‡ºä¾†ä¹‹å‰ï¼Œé¡¯ç¤ºçš„æ˜¯ <code>fallback</code> ä¸­çš„å…§å®¹ï¼š</p><p><img src=https://live.staticflickr.com/65535/52278576943_379d6af224_o.gif max-width=100% max-height=100% class=gallery-image loading=lazy></p><hr><h2 id=éŸ¿æ‡‰å¼è³‡æ–™çš„åˆ¤æ–·>éŸ¿æ‡‰å¼è³‡æ–™çš„åˆ¤æ–·</h2><h3 id=ä½œç”¨>ä½œç”¨</h3><ul><li>isRefï¼šæª¢æŸ¥ä¸€å€‹å€¼æ˜¯å¦ç‚ºä¸€å€‹ <code>ref</code> ç‰©ä»¶</li><li>isReactiveï¼šæª¢æŸ¥ä¸€å€‹ç‰©ä»¶æ˜¯å¦æ˜¯ç”± <code>reactive</code> å»ºç«‹çš„éŸ¿æ‡‰å¼ä»£ç†</li><li>isReadonlyï¼šæª¢æŸ¥ä¸€å€‹ç‰©ä»¶æ˜¯å¦æ˜¯ç”± <code>readonly</code> å»ºç«‹çš„åªè®€ä»£ç†</li><li>isProxyï¼šæª¢æŸ¥ä¸€å€‹ç‰©ä»¶æ˜¯å¦æ˜¯ç”± <code>reactive</code> æˆ–è€… <code>readonly</code> æ–¹æ³•å»ºç«‹çš„ä»£ç†</li></ul><h3 id=ç¨‹å¼ç¢¼æ¼”ç¤º>ç¨‹å¼ç¢¼æ¼”ç¤º</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=kr>const</span> <span class=nx>state1</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;isref:&#39;</span><span class=p>,</span> <span class=nx>isRef</span><span class=p>(</span><span class=nx>state1</span><span class=p>));</span> <span class=c1>// isref: true
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>	<span class=kr>const</span> <span class=nx>state2</span> <span class=o>=</span> <span class=nx>reactive</span><span class=p>({});</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;isReactive:&#39;</span><span class=p>,</span> <span class=nx>isReactive</span><span class=p>(</span><span class=nx>state2</span><span class=p>));</span> <span class=c1>// isReactive: true
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>	<span class=kr>const</span> <span class=nx>state3</span> <span class=o>=</span> <span class=nx>readonly</span><span class=p>({});</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;isReadonly:&#39;</span><span class=p>,</span> <span class=nx>isReadonly</span><span class=p>(</span><span class=nx>state3</span><span class=p>));</span> <span class=c1>// isReadonly: true
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>	<span class=kr>const</span> <span class=nx>state4</span> <span class=o>=</span> <span class=nx>reactive</span><span class=p>({});</span>
</span></span><span class=line><span class=cl>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;isProxy:&#39;</span><span class=p>,</span> <span class=nx>isProxy</span><span class=p>(</span><span class=nx>state2</span><span class=p>));</span> <span class=c1>// isProxy: true
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;isProxy:&#39;</span><span class=p>,</span> <span class=nx>isProxy</span><span class=p>(</span><span class=nx>state4</span><span class=p>));</span> <span class=c1>// isProxy: true
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl><span class=p>},</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=å…¶ä»–ä¸å¸¸ç”¨ç‰¹æ€§>å…¶ä»–ä¸å¸¸ç”¨ç‰¹æ€§</h3><blockquote><p>é‚„æœ‰å¾ˆå¤šå¾ˆå¤šä¸å¸¸ç”¨çš„æ–°ç‰¹æ€§ï¼Œæˆ‘åœ¨æ—¥å¸¸é–‹ç™¼ä¸­æ˜¯æ²’æœ‰ç”¨åˆ°çš„ï¼Œå¾ˆå¤šéƒ½æ˜¯ç”¨ä¾†åšå„ªåŒ–çš„ï¼Œæ„Ÿèˆˆè¶£çš„å°å¤¥ä¼´å€‘è‡ªè¡Œå»å®˜ç¶²æª¢è¦–ï¼Œæˆ–è€…å¤§ä½¬å€‘å¯ä»¥ä»‹ç´¹ä¸€ä¸‹æ‡‰ç”¨å ´æ™¯ã€‚</p></blockquote><ul><li>shallowReactive</li><li>shallowRef</li><li>readonly</li><li>shallowReadonly</li><li>markRaw</li><li>customRef</li><li>&mldr;</li></ul><hr><h2 id=èªæ³•ç³–>èªæ³•ç³–</h2><p>é›–ç„¶ <code>Composition API</code> ç”¨èµ·ä¾†å·²ç¶“éå¸¸æ–¹ä¾¿äº†ï¼Œä½†æ˜¯æˆ‘å€‘é‚„æ˜¯æœ‰å¾ˆç…©çš„åœ°æ–¹ï¼Œæ¯”å¦‚ï¼š</p><ul><li>å…ƒä»¶å¼•å…¥äº†é‚„è¦è¨»å†Šã€‚</li><li>å±¬æ€§å’Œæ–¹æ³•éƒ½è¦åœ¨ <code>setup</code> å‡½å¼ä¸­è¿”å›ï¼Œæœ‰çš„æ™‚å€™åƒ…ä¸€å€‹ <code>return</code> å°±åå¹¾è¡Œç”šè‡³å¹¾åè¡Œã€‚</li><li>&mldr;</li></ul><p>ä¸æƒ³å¯«å•Šæ€éº¼è¾¦</p><p>å¥½è¾¦ï¼Œ <code>Vue3</code> å®˜æ–¹æä¾›äº† <code>script setup</code> èªæ³•ç³–ï¼Œåªéœ€è¦åœ¨ <code>script</code> æ¨™ç±¤ä¸­==æ–°å¢ setup==ï¼Œå…ƒä»¶åªéœ€å¼•å…¥ä¸ç”¨è¨»å†Šï¼Œå±¬æ€§å’Œæ–¹æ³•ä¹Ÿä¸ç”¨è¿”å›ï¼Œ<code>setup</code> å‡½å¼ä¹Ÿä¸éœ€è¦ï¼Œç”šè‡³ <code>export default</code> éƒ½ä¸ç”¨å¯«äº†ï¼Œä¸åƒ…æ˜¯è³‡æ–™ã€è¨ˆç®—å±¬æ€§å’Œæ–¹æ³•ï¼Œç”šè‡³æ˜¯è‡ªå®šç¾©æŒ‡ä»¤ä¹Ÿå¯ä»¥åœ¨æˆ‘å€‘çš„ <code>template</code> ä¸­è‡ªå‹•ç²å¾—ã€‚</p><p>ä½†æ˜¯é€™éº¼éç™®çš„èªæ³•ç³–ï¼Œé‚„æ˜¯ç¨å¾®æ·»åŠ äº†ä¸€é»é»å¿ƒæ™ºè² æ“”ï¼Œå› ç‚ºæ²’æœ‰äº† <code>setup</code> å‡½å¼ï¼Œé‚£éº¼ <code>props</code>ã€<code>emit</code>ã€<code>attrs</code> æ€éº¼ç²å–å‘¢ï¼Œå°±è¦ä»‹ç´¹ä¸€ä¸‹æ–°çš„èªæ³•äº†ã€‚</p><p><code>setup script</code> èªæ³•ç³–æä¾›äº†ä¸‰å€‹æ–°çš„ <code>API</code> ä¾†ä¾›æˆ‘å€‘ä½¿ç”¨ï¼š ==defineProps==ã€==defineEmit== å’Œ ==useContext==ã€‚</p><ul><li><code>defineProps</code>ï¼šç”¨ä¾†æ¥æ”¶çˆ¶å…ƒä»¶å‚³ä¾†çš„å€¼ <code>props</code>ã€‚</li><li><code>defineEmit</code>ï¼šç”¨ä¾†å®£å‘Šè§¸ç™¼çš„äº‹ä»¶è¡¨ã€‚</li><li><code>useContext</code>ï¼šç”¨ä¾†ç²å–å…ƒä»¶ä¸Šä¸‹æ–‡ <code>context</code>ã€‚</li></ul><h3 id=ç¨‹å¼ç¢¼æ¼”ç¤º-1>ç¨‹å¼ç¢¼æ¼”ç¤º</h3><h5 id=parentvue-5>parent.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>æˆ‘æ˜¯çˆ¶å…ƒä»¶ï¼<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Children</span> <span class=na>msg</span><span class=o>=</span><span class=s>&#34;hello&#34;</span> <span class=err>@</span><span class=na>child-click</span><span class=o>=</span><span class=s>&#34;handleClick&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Children</span> <span class=nx>from</span> <span class=s1>&#39;./components/children.vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>handleClick</span> <span class=o>=</span> <span class=p>(</span><span class=nx>ctx</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>ctx</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=childrenvue-4>children.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>span</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;sonClick&#34;</span><span class=p>&gt;</span>msg: {{ props.msg }}<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>useContext</span><span class=p>,</span> <span class=nx>defineProps</span><span class=p>,</span> <span class=nx>defineEmit</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>emit</span> <span class=o>=</span> <span class=nx>defineEmit</span><span class=p>([</span><span class=s1>&#39;child-click&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>ctx</span> <span class=o>=</span> <span class=nx>useContext</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>props</span> <span class=o>=</span> <span class=nx>defineProps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>msg</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sonClick</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>emit</span><span class=p>(</span><span class=s1>&#39;child-click&#39;</span><span class=p>,</span> <span class=nx>ctx</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>æˆ‘å€‘é»é¸ä¸€ä¸‹å­å…ƒä»¶ï¼š</p><p><img src=https://live.staticflickr.com/65535/52278825204_a28791d02b_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><p>å¯ä»¥çœ‹åˆ° <code>context</code> è¢«åˆ—å°äº†å‡ºä¾†ï¼Œå…¶ä¸­çš„ <code>attrs</code>ã€<code>emit</code>ã€<code>slots</code>ã€<code>expose</code> å±¬æ€§å’Œæ–¹æ³•ä¾ç„¶å¯ä»¥ä½¿ç”¨ã€‚<code>props</code> ä¹Ÿå¯ä»¥è¼¸å‡ºåœ¨é é¢ä¸Šï¼Œäº‹ä»¶ä¹ŸæˆåŠŸæ´¾ç™¼ã€‚</p><hr><h2 id=å…¶ä»–çŸ¥è­˜é»>å…¶ä»–çŸ¥è­˜é»</h2><p>æ¥ä¸‹ä¾†ä»‹ç´¹ä¸€ä¸‹æˆ‘ä½¿ç”¨ <code>Vue3</code> éç¨‹ä¸­é‡åˆ°çš„å•é¡Œæˆ–è€…å°æŠ€å·§ï¼Œä¸å…¨é¢ï¼Œæƒ³èµ·ä»€éº¼å°±å¯«ä»€éº¼å§ã€‚</p><p><strong><code>script setup</code> èªæ³•ç³–çš„å‘</strong></p><p>é€™å€‹å¾ˆå¤šå¤§ä½¬å·²ç¶“åœ¨ <code>Vue3</code> çš„ <code>github</code> ä¸Šæäº¤ <code>Issues</code> äº†ï¼Œæˆ–è¨±æœƒåœ¨ä¸ä¹…çš„å°‡ä¾†ä¿®å¾©ï¼Œä½†ç¾åœ¨é‚„æ˜¯è¦æ³¨æ„ä¸€ä¸‹ã€‚</p><p>å¦‚æœåœ¨çˆ¶å…ƒä»¶ä¸­é€šé <code>ref='xxx'</code> çš„æ–¹æ³•ä¾†ç²å–å­å…ƒä»¶å¯¦ä¾‹ï¼Œé‚£éº¼å­å…ƒä»¶ä¸å¯ä»¥ä½¿ç”¨ <code>script setup</code> èªæ³•ç³–ï¼Œå¦å‰‡æœƒå ±éŒ¯ã€‚</p><h3 id=ç¨‹å¼ç¢¼æ¼”ç¤º-2>ç¨‹å¼ç¢¼æ¼”ç¤º</h3><h5 id=parentvue-6>parent.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>æˆ‘æ˜¯çˆ¶å…ƒä»¶ï¼<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Child</span> <span class=na>ref</span><span class=o>=</span><span class=s>&#39;son&#39;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Child</span> <span class=nx>from</span> <span class=s1>&#39;./components/children.vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>son</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=kc>null</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;  ~ son:&#39;</span><span class=p>,</span> <span class=nx>son</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>å­å…ƒä»¶å…ˆä¸ä½¿ç”¨èªæ³•ç³–ï¼š</p><h5 id=childrenvue-5>children.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    æˆ‘æ˜¯å­å…ƒä»¶{{msg}}
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=p>&gt;</span>
</span></span><span class=line><span class=cl>import { ref } from &#39;vue&#39;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>export default {
</span></span><span class=line><span class=cl>  setup() {
</span></span><span class=line><span class=cl>    const msg = ref(&#39;hello&#39;)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    return {
</span></span><span class=line><span class=cl>      msg,
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>  },
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p><img src=https://live.staticflickr.com/65535/52278825189_5a985db5e6_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><p>ç¾åœ¨æŠŠå­å…ƒä»¶æ›æˆ <code>script setup</code> èªæ³•ç³–å†ä¾†è©¦ä¸€è©¦ï¼š</p><h5 id=childrenvue-6>children.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    æˆ‘æ˜¯å­å…ƒä»¶{{msg}}
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>msg</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=s1>&#39;hello&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥çœ‹åˆ°ç¾åœ¨æ˜¯<strong>ç²å–ä¸åˆ°</strong>å­å…ƒä»¶å®šç¾©çš„ <code>msg</code> å±¬æ€§çš„ã€‚</p><p><img src=https://live.staticflickr.com/65535/52278825149_f0ed4e8b9f_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><hr><h2 id=emit-æ´¾ç™¼äº‹ä»¶å¯ä»¥å°å¼•æ•¸é€²è¡Œé©—è­‰>Emit æ´¾ç™¼äº‹ä»¶å¯ä»¥å°å¼•æ•¸é€²è¡Œé©—è­‰</h2><h5 id=parentvue-7>parent.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>æˆ‘æ˜¯çˆ¶å…ƒä»¶ï¼<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Child</span> <span class=err>@</span><span class=na>sonClick</span><span class=o>=</span><span class=s>&#39;sonClick&#39;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Child</span> <span class=nx>from</span> <span class=s1>&#39;./components/Child.vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sonClick</span> <span class=o>=</span> <span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=childrenvue-7>children.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    æˆ‘æ˜¯å­å…ƒä»¶{{ msg }}
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;handleClick(1)&#34;</span><span class=p>&gt;</span>æˆ‘æ˜¯æŒ‰éˆ•1<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;handleClick(2)&#34;</span><span class=p>&gt;</span>æˆ‘æ˜¯æŒ‰éˆ•2<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>emits</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>sonClick</span><span class=o>:</span> <span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>value</span> <span class=o>===</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>setup</span><span class=p>(</span><span class=nx>props</span><span class=p>,</span> <span class=p>{</span> <span class=nx>emit</span> <span class=p>})</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>msg</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=s1>&#39;hello&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>handleClick</span> <span class=o>=</span> <span class=p>(</span><span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>emit</span><span class=p>(</span><span class=s1>&#39;sonClick&#39;</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>msg</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>handleClick</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>æˆ‘å€‘åˆ†åˆ¥é»ä¸€ä¸‹<code>æŒ‰éˆ•1</code>å’Œ<code>æŒ‰éˆ•2</code>ï¼Œå¯ä»¥çœ‹åˆ°ç•¶æˆ‘å€‘é»äº†<code>æŒ‰éˆ•2</code>çš„æ™‚å€™ï¼Œæ§åˆ¶æª¯æœƒç™¼å‡ºè­¦å‘Šï¼Œä½†æ˜¯ç¨‹å¼æœƒç¹¼çºŒåŸ·è¡Œï¼Œé‚„æ²’æƒ³åˆ°ä»€éº¼é©åˆçš„æ‡‰ç”¨å ´æ™¯ï¼Œä½†æ˜¯è¦çŸ¥é“é€™å€‹çŸ¥è­˜é»ï¼Œå°å¤¥ä¼´å€‘å¯ä»¥åœ¨é€™æäº‹æƒ…ã€‚</p><p><img src=https://live.staticflickr.com/65535/52278825124_e17bb7a569_o.jpg max-width=100% max-height=100% class=gallery-image loading=lazy></p><hr><h2 id=è·¨å…ƒä»¶é€šè¨Š-mittjs>è·¨å…ƒä»¶é€šè¨Š <code>mitt.js</code></h2><p><code>Vue2</code> ä¸­æ€éº¼å¯¦ç¾è·¨å…ƒä»¶é€šè¨Šå‘¢ï¼Ÿå¾ˆå¤šäººç¬¬ä¸€æƒ³æ³•å°±æ˜¯ <code>event bus</code>ã€‚ä½†æ˜¯ <code>Vue3</code> ç§»é™¤äº† <code>$on</code>ã€<code>$once</code>ã€<code>$off</code> å°è‡´ä¸èƒ½ä½¿ç”¨é€™å€‹æ–¹æ³•ã€‚ä½†æ˜¯ <code>Vue</code> å®˜æ–¹çµ¦å¤§å®¶æ¨è–¦äº† ==<a class=link href=https://www.npmjs.com/package/mitt target=_blank rel=noopener>mitt.js</a>==ï¼Œå®ƒçš„åŸç†å°±æ˜¯ <code>event bus</code>ã€‚</p><p><a class=link href=https://www.casper.tw/development/2020/12/15/vue-3-mitt/ target=_blank rel=noopener>mitt.js æ•™å­¸</a></p><h3 id=ç¨‹å¼ç¢¼æ¼”ç¤º-3>ç¨‹å¼ç¢¼æ¼”ç¤º</h3><ul><li>å…ˆå®‰è£ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>npm i mitt -s
</span></span></code></pre></td></tr></table></div></div><ul><li>ç„¶å¾Œå°è£æˆä¸€å€‹ <code>hook</code>ï¼š</li></ul><h5 id=mittjs>mitt.js</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>import</span> <span class=nx>mitt</span> <span class=nx>from</span> <span class=s1>&#39;mitt&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>emitter</span> <span class=o>=</span> <span class=nx>mitt</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=nx>emitter</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>ä½¿ç”¨ï¼š</li></ul><h5 id=parentvue-8>parent.vue</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span>æˆ‘æ˜¯çˆ¶å…ƒä»¶ï¼<span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Child1</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Child2</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Child1</span> <span class=nx>from</span> <span class=s1>&#39;./components/children1.vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Child2</span> <span class=nx>from</span> <span class=s1>&#39;./components/children2.vue&#39;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=children1>children1</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    æˆ‘æ˜¯å­å…ƒä»¶1
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>h1</span><span class=p>&gt;</span>{{msg}}<span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span><span class=p>,</span> <span class=nx>onUnmounted</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>emitter</span> <span class=nx>from</span> <span class=s1>&#39;../mitt&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// åˆå§‹åŒ–
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>msg</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>(</span><span class=s1>&#39;hello&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>changeMsg</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>msg</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=s1>&#39;world&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// ç›£è½äº‹ä»¶ï¼Œæ›´æ–°è³‡æ–™
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>emitter</span><span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;change-msg&#39;</span><span class=p>,</span> <span class=nx>changeMsg</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>    <span class=c1>// é¡¯å¼è§£é™¤å®‰è£
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>onUnmounted</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>emitter</span><span class=p>.</span><span class=nx>off</span><span class=p>(</span><span class=s1>&#39;change-msg&#39;</span><span class=p>,</span> <span class=nx>changeMsg</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>msg</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>changeMsg</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=children2>children2</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    æˆ‘æ˜¯å­å…ƒä»¶2
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>button</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#39;changeMsg&#39;</span><span class=p>&gt;</span>é»é¸ä¿®æ”¹msg<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>emitter</span> <span class=nx>from</span> <span class=s1>&#39;../mitt&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>changeMsg</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>emitter</span><span class=p>.</span><span class=nx>emit</span><span class=p>(</span><span class=s1>&#39;change-msg&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>changeMsg</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=æ¼”ç¤º>æ¼”ç¤º</h3><p><img src=https://live.staticflickr.com/65535/52279039685_52ca5e6690_o.gif max-width=100% max-height=100% class=gallery-image loading=lazy></p><hr><h2 id=è‡ªå®šç¾©æŒ‡ä»¤>è‡ªå®šç¾©æŒ‡ä»¤</h2><p>å…ˆçœ‹çœ‹ <code>Vue2</code> è‡ªå®šç¾©æŒ‡ä»¤çš„é‰¤å­ï¼š</p><ul><li><code>bind</code>ï¼šç•¶æŒ‡ä»¤ç¹«çµåœ¨å°æ‡‰å…ƒç´ æ™‚è§¸ç™¼ï¼Œåªæœƒè§¸ç™¼ä¸€æ¬¡ã€‚</li><li><code>inserted</code>ï¼šç•¶å°æ‡‰å…ƒç´ è¢«æ’å…¥åˆ° DOM çš„çˆ¶å…ƒç´ æ™‚è§¸ç™¼ã€‚</li><li><code>update</code>ï¼šç•¶å…ƒç´ æ›´æ–°æ™‚ï¼Œé€™å€‹é‰¤å­æœƒè¢«è§¸ç™¼ï¼ˆæ­¤æ™‚å…ƒç´ çš„å¾Œä»£å…ƒç´ é‚„æ²’æœ‰è§¸ç™¼æ›´æ–°ï¼‰ã€‚</li><li><code>componentUpdated</code>ï¼šç•¶æ•´å€‹å…ƒä»¶ï¼ˆåŒ…æ‹¬å­å…ƒä»¶ï¼‰å®Œæˆæ›´æ–°å¾Œï¼Œé€™å€‹é‰¤å­è§¸ç™¼ã€‚</li><li><code>unbind</code>ï¼šç•¶æŒ‡ä»¤è¢«å¾å…ƒç´ ä¸Šç§»é™¤æ™‚ï¼Œé€™å€‹é‰¤å­æœƒè¢«è§¸ç™¼ï¼Œä¹Ÿåªè§¸ç™¼ä¸€æ¬¡ã€‚</li></ul><p>åœ¨ <code>Vue3</code> ä¸­ï¼Œå®˜æ–¹ç‚ºäº†æ›´æœ‰åŠ©æ–¼ç¨‹å¼ç¢¼çš„å¯è®€æ€§å’Œé¢¨æ ¼çµ±ä¸€ï¼ŒæŠŠ<strong>è‡ªå®šç¾©æŒ‡ä»¤</strong>çš„é‰¤å­åç¨±æ”¹çš„æ›´åƒæ˜¯å…ƒä»¶ç”Ÿå‘½é€±æœŸï¼Œå„˜ç®¡ä»–å€‘æ˜¯å…©å›äº‹ï¼š</p><ul><li><code>bind</code> => beforeMountã€‚</li><li><code>inserted</code> => mountedã€‚</li><li><code>beforeUpdate</code>ï¼šæ–°çš„é‰¤å­ï¼Œæœƒåœ¨å…ƒç´ è‡ªèº«æ›´æ–°å‰è§¸ç™¼ã€‚</li><li><code>update</code> => ç§»é™¤ï¼</li><li><code>componentUpdated</code> => updatedã€‚</li><li><code>beforeUnmount</code>ï¼šæ–°çš„é‰¤å­ï¼Œç•¶å…ƒç´ è‡ªèº«è¢«è§£é™¤å®‰è£å‰è§¸ç™¼ã€‚</li><li><code>unbind</code> => unmountedã€‚</li></ul><hr><h2 id=éæ¸¡å‹•ç•«>éæ¸¡å‹•ç•«</h2><p>é€™å€‹æ²’æœ‰ä»€éº¼å¤§çš„æ”¹å‹•ï¼Œåªæ˜¯ä¿®æ”¹äº†å…©å€‹ <code>class</code> åå­—ï¼Œæ­£æ˜¯å› ç‚ºæ²’æœ‰ä»€éº¼å¤§çš„æ”¹å‹•ï¼Œå°è‡´æˆ‘æ›¾ç¶“åœ¨é€™è£¡æ ½äº†å¤§è·Ÿé ­ï¼Œå¯«å®Œäº†æ€éº¼éƒ½ä¸å°ï¼Œå¾Œä¾†æŸ¥å®˜ç¶²æ‰çŸ¥é“ã€‚</p><p>ä»¥ä¸‹æ˜¯ç›´æ¥å¼•ç”¨<strong>å®˜ç¶²çš„åŸæ–‡</strong>ï¼š</p><ul><li><code>v-enter-from</code>ï¼šå®šç¾©é€²å…¥éæ¸¡çš„é–‹å§‹ç‹€æ…‹ã€‚åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰ç”Ÿæ•ˆï¼Œåœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å¾Œçš„ä¸‹ä¸€å¹€ç§»é™¤ã€‚</li><li><code>v-enter-active</code>ï¼šå®šç¾©é€²å…¥éæ¸¡ç”Ÿæ•ˆæ™‚çš„ç‹€æ…‹ã€‚åœ¨æ•´å€‹é€²å…¥éæ¸¡çš„éšæ®µä¸­æ‡‰ç”¨ï¼Œåœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰ç”Ÿæ•ˆï¼Œåœ¨éæ¸¡/å‹•ç•«å®Œæˆä¹‹å¾Œç§»é™¤ã€‚é€™å€‹é¡å¯ä»¥è¢«ç”¨ä¾†å®šç¾©é€²å…¥éæ¸¡çš„éç¨‹æ™‚é–“ï¼Œå»¶é²å’Œæ›²ç·šå‡½å¼ã€‚</li><li><code>v-enter-to</code>ï¼šå®šç¾©é€²å…¥éæ¸¡çš„çµæŸç‹€æ…‹ã€‚åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å¾Œä¸‹ä¸€å¹€ç”Ÿæ•ˆ (èˆ‡æ­¤åŒæ™‚ v-enter-from è¢«ç§»é™¤)ï¼Œåœ¨éæ¸¡/å‹•ç•«å®Œæˆä¹‹å¾Œç§»é™¤ã€‚</li><li><code>v-leave-from</code>ï¼šå®šç¾©é›¢é–‹éæ¸¡çš„é–‹å§‹ç‹€æ…‹ã€‚åœ¨é›¢é–‹éæ¸¡è¢«è§¸ç™¼æ™‚ç«‹åˆ»ç”Ÿæ•ˆï¼Œä¸‹ä¸€å¹€è¢«ç§»é™¤ã€‚</li><li><code>v-leave-active</code>ï¼šå®šç¾©é›¢é–‹éæ¸¡ç”Ÿæ•ˆæ™‚çš„ç‹€æ…‹ã€‚åœ¨æ•´å€‹é›¢é–‹éæ¸¡çš„éšæ®µä¸­æ‡‰ç”¨ï¼Œåœ¨é›¢é–‹éæ¸¡è¢«è§¸ç™¼æ™‚ç«‹åˆ»ç”Ÿæ•ˆï¼Œåœ¨éæ¸¡/å‹•ç•«å®Œæˆä¹‹å¾Œç§»é™¤ã€‚é€™å€‹é¡å¯ä»¥è¢«ç”¨ä¾†å®šç¾©é›¢é–‹éæ¸¡çš„éç¨‹æ™‚é–“ï¼Œå»¶é²å’Œæ›²ç·šå‡½å¼ã€‚</li><li><code>v-leave-to</code>ï¼šé›¢é–‹éæ¸¡çš„çµæŸç‹€æ…‹ã€‚åœ¨é›¢é–‹éæ¸¡è¢«è§¸ç™¼ä¹‹å¾Œä¸‹ä¸€å¹€ç”Ÿæ•ˆ (èˆ‡æ­¤åŒæ™‚ v-leave-from è¢«åˆªé™¤)ï¼Œåœ¨éæ¸¡/å‹•ç•«å®Œæˆä¹‹å¾Œç§»é™¤ã€‚</li></ul><blockquote><p>ç‰¹åˆ¥æ³¨æ„çš„æ˜¯ï¼š<br><code>v-enter</code> æ”¹æˆäº† <code>v-enter-form</code><br><code>v-leave</code> æ”¹æˆäº† <code>v-leave-from</code></p></blockquote><hr><h2 id=å…¶ä»–å°çŸ¥è­˜>å…¶ä»–å°çŸ¥è­˜</h2><ul><li><code>Vue3</code> ç§»é™¤äº† <code>filter</code>ã€‚</li><li>ç²å–å…ƒä»¶å¯¦ä¾‹çš„æ–¹æ³• <code>getCurrentInstance()</code>ï¼š<br>é€™å€‹æ–¹æ³•å¯ä»¥ç²å–åˆ°ç•¶å‰å…ƒä»¶çš„å¯¦ä¾‹ï¼Œç›¸ç•¶æ–¼ <code>Vue2</code> ä¸­çš„ <code>this</code>ï¼Œä½†æ˜¯å®ƒåªåœ¨==é–‹ç™¼ç’°å¢ƒ==èµ·æ•ˆæœï¼Œæ‰“åŒ…ä»¥å¾Œæœƒå ±éŒ¯ï¼Œæ‰€ä»¥å¤§å®¶ä¸è¦ä¾è³´ <code>getCurrentInstance</code> æ–¹æ³•å»ç²å–å…ƒä»¶å¯¦ä¾‹ä¾†å®Œæˆä¸€äº›ä¸»è¦åŠŸèƒ½ã€‚<br>æ›´è©³ç´°çš„å¯ä»¥æª¢è¦–ä¸‹é¢é€™ç¯‡æ–‡ç« ï¼š<br><a class=link href="https://www.gushiciku.cn/jump/aHR0cHM6Ly9saW5rLnpoaWh1LmNvbS8/dGFyZ2V0PWh0dHBzJTNBLy9ibG9nLmNzZG4ubmV0L2xfcHBwL2FydGljbGUvZGV0YWlscy8xMTAyOTAxODI=" target=_blank rel=noopener>é—œæ–¼Vue3ç²å–ç•¶å‰å…ƒä»¶ä¾‹é …çš„ getCurrentInstance æ–¹æ³•çš„è£œå……</a></li></ul><p>æœ€å¾Œï¼Œç•¢ç«Ÿæ˜¯å€‹äººç¸½çµï¼Œé›£å…æœƒå‡ºç¾ç´•æ¼å’ŒéŒ¯èª¤ï¼ŒæœŸå¾…å„è·¯å¤§ç¥çš„è£œå……å’Œç³¾æ­£ã€‚</p><hr><h2 id=åƒè€ƒ>åƒè€ƒ</h2><ul><li><a class=link href=https://www.gushiciku.cn/pl/g19t/zh-tw target=_blank rel=noopener>åƒè€ƒç¶²ç«™</a></li><li><a class=link href=https://www.vue3js.cn/docs/zh/ target=_blank rel=noopener>Vue3å®˜æ–¹ä¸­æ–‡æ–‡ä»¶</a></li><li><a class=link href=https://www.bilibili.com/video/BV1Wh411X7Xp target=_blank rel=noopener>Vue3.0å…‰é€Ÿä¸Šæ‰‹</a></li><li><a class=link href=https://www.imooc.com/article/317810 target=_blank rel=noopener>Volar - vueçµ‚æ¥µé–‹ç™¼ç¥å™¨ï¼</a></li><li><a class=link href=https://juejin.cn/post/6940454764421316644#heading-6 target=_blank rel=noopener>Vue3.0 æ–°ç‰¹æ€§ä»¥åŠä½¿ç”¨ç¶“é©—ç¸½çµ</a></li><li><a class=link href="https://www.bilibili.com/video/BV1ra4y1H7ih?spm_id_from=333.788.b_636f6d6d656e74.23" target=_blank rel=noopener>å°šçŸ½è°·2021æœ€æ–°Vue.JSæ•™ç¨‹å¿«é€Ÿå…¥é–€åˆ°å°ˆæ¡ˆå¯¦æˆ°ï¼ˆVue3/VueJSæŠ€è¡“è©³è§£ï¼‰</a></li><li><a class=link href=https://juejin.cn/post/6891640356543627278 target=_blank rel=noopener>é‚£å€‹å¿™äº†ä¸€å¤œçš„Vue3å‹•ç•«å¾ˆå¥½ï¼Œå°±æ˜¯å¤ªçŸ­äº†</a></li></ul><hr></section><footer class=article-footer><section class=article-tags><a href=https://wayne-blog.com/tags/javascript/>javascript</a>
<a href=https://wayne-blog.com/tags/vue/>vue</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>ç›¸é—œæ–‡ç« </h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=https://wayne-blog.com/2023-03-10/petite-vue-introduction/><div class=article-image><img src=https://live.staticflickr.com/65535/52736941727_b3a1dcf3c3_o.jpg loading=lazy data-key=petite-vue-introduction data-hash=https://live.staticflickr.com/65535/52736941727_b3a1dcf3c3_o.jpg></div><div class=article-details><h2 class=article-title>ã€Petite-Vueã€‘å¤§å°åªæœ‰ ~6KB çš„ mini Vueï¼</h2></div></a></article><article class=has-image><a href=https://wayne-blog.com/2023-01-16/nuxt-nuxt3-practice-project/><div class=article-image><img src=https://live.staticflickr.com/65535/52630283696_c93e29e870_o.png loading=lazy data-key=nuxt-nuxt3-practice-project data-hash=https://live.staticflickr.com/65535/52630283696_c93e29e870_o.png></div><div class=article-details><h2 class=article-title>ã€Nuxt3ã€‘å¯¦æˆ°ç·´ç¿’ - å¯¦ä½œéƒ¨è½æ ¼</h2></div></a></article><article class=has-image><a href=https://wayne-blog.com/2023-01-14/nuxt-try-nuxt3/><div class=article-image><img src=https://live.staticflickr.com/65535/52616698791_b7b8bbce05_o.jpg loading=lazy data-key=nuxt-try-nuxt3 data-hash=https://live.staticflickr.com/65535/52616698791_b7b8bbce05_o.jpg></div><div class=article-details><h2 class=article-title>ã€Nuxt3ã€‘é–‹ç®±å³ç”¨çš„ Nuxt3 ç©è½‰ç­†è¨˜</h2></div></a></article><article class=has-image><a href=https://wayne-blog.com/2022-12-30/npm-vueuse/><div class=article-image><img src=https://live.staticflickr.com/65535/52595409644_aa1fd7bf45_o.png loading=lazy data-key=npm-vueuse data-hash=https://live.staticflickr.com/65535/52595409644_aa1fd7bf45_o.png></div><div class=article-details><h2 class=article-title>ã€VueUseã€‘ä¸€æ¬¾åŸºæ–¼ Vue Composition API çš„å‡½å¼å·¥å…·é›†</h2></div></a></article><article class=has-image><a href=https://wayne-blog.com/2022-12-30/why-use-hooks/><div class=article-image><img src=https://live.staticflickr.com/65535/52595598278_3dc955c418_o.png loading=lazy data-key=why-use-hooks data-hash=https://live.staticflickr.com/65535/52595598278_3dc955c418_o.png></div><div class=article-details><h2 class=article-title>æ·ºè«‡ç‚ºä»€éº¼ Vue å’Œ React éƒ½é¸æ“‡äº† Hooksï¼Ÿ</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-blog-wayne.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2023 Wayne's blog | å‰æ©çš„éƒ¨è½æ ¼ | æŠ€è¡“åšå®¢</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=https://wayne-blog.com/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script>"serviceWorker"in navigator&&(console.log("Check service worker register?"),navigator.serviceWorker.register("./service-worker.js").then(function(){console.log("service worker registed.")}).catch(function(e){console.log("service worker registed fail. This happened: ",e)}));function toggleBtnScrollTop(){let t=document.documentElement.scrollTop||document.body.scrollTop;const e=document.getElementById("btnScrollTop");if(t){e&&!e.classList.contains("show")&&e.classList.add("show");return}e&&e.classList.contains("show")&&e.classList.remove("show")}window.addEventListener("scroll",toggleBtnScrollTop),document.addEventListener("DOMContentLoaded",toggleBtnScrollTop);function clickToScrollTop(){window.scrollTo({top:0,behavior:"smooth"})}function clickToMessenger(){window.open("//m.me/100278986238046","_blank")}</script><button id=btnScrollTop onclick=clickToScrollTop() title=å›åˆ°é é ‚>
<img src=https://wayne-blog.com/img/top_huf0c1dc16de3f1372c70e7aced5d60e6d_660_30x0_resize_box_3.png alt=scroll-top>
</button>
<button id=btnMessenger onclick=clickToMessenger() title="Facebook Messenger">
<img src=https://wayne-blog.com/img/messenger_hu3f63590c9d474cc4c51a145f9812597b_7669_50x0_resize_box_3.png alt="facebook messenger"></button></body></html>