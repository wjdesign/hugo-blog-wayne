<!DOCTYPE html>
<html lang="zh-tw" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='gRPC æ˜¯ Google æ¨å‡ºçš„ RPC æ¶æ§‹ï¼Œå…¶è¼•é‡ã€é«˜æ•ˆèƒ½ä»¥åŠå…¨é›™å·¥ç­‰ç‰¹æ€§ï¼Œéå¸¸é©åˆç”¨ä¾†é–‹ç™¼éœ€è¦å³æ™‚å‚³éè³‡è¨Šçš„æœå‹™ã€‚'><title>gRPC åŸºæœ¬ä»‹ç´¹</title>

<link rel='canonical' href='https://wjdesign.github.io/hugo-blog-wayne/p/grpc-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%B4%B9/'>

<link rel="stylesheet" href="https://wjdesign.github.io/hugo-blog-wayne/scss/style.min.1261ae405e6cb4603b0ca8ecb6caea183cf5e6703232d693ba45b4eee6c1d967.css"><meta property='og:title' content='gRPC åŸºæœ¬ä»‹ç´¹'>
<meta property='og:description' content='gRPC æ˜¯ Google æ¨å‡ºçš„ RPC æ¶æ§‹ï¼Œå…¶è¼•é‡ã€é«˜æ•ˆèƒ½ä»¥åŠå…¨é›™å·¥ç­‰ç‰¹æ€§ï¼Œéå¸¸é©åˆç”¨ä¾†é–‹ç™¼éœ€è¦å³æ™‚å‚³éè³‡è¨Šçš„æœå‹™ã€‚'>
<meta property='og:url' content='https://wjdesign.github.io/hugo-blog-wayne/p/grpc-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%B4%B9/'>
<meta property='og:site_name' content='å‰æ©çš„éƒ¨è½æ ¼'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='grpc' /><meta property='article:published_time' content='2022-07-22T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2022-07-22T00:00:00&#43;00:00'/><meta property='og:image' content='https://i.imgur.com/Wby0iiz.png' />
<meta name="twitter:title" content="gRPC åŸºæœ¬ä»‹ç´¹">
<meta name="twitter:description" content="gRPC æ˜¯ Google æ¨å‡ºçš„ RPC æ¶æ§‹ï¼Œå…¶è¼•é‡ã€é«˜æ•ˆèƒ½ä»¥åŠå…¨é›™å·¥ç­‰ç‰¹æ€§ï¼Œéå¸¸é©åˆç”¨ä¾†é–‹ç™¼éœ€è¦å³æ™‚å‚³éè³‡è¨Šçš„æœå‹™ã€‚"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://i.imgur.com/Wby0iiz.png' />
    <link rel="shortcut icon" href="https://i.imgur.com/QtF0zuU.png" />

<script async src="https://www.googletagmanager.com/gtag/js?id=G-FG6KQD7H6C"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-FG6KQD7H6C', { 'anonymize_ip': false });
}
</script>


<script>
document.addEventListener("DOMContentLoaded", function(event) { 
  
});
</script>
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "light");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ›é¸å–®">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="https://wjdesign.github.io/hugo-blog-wayne/">
                
                    
                    
                    
                        
                        <img src="https://wjdesign.github.io/hugo-blog-wayne/img/avatar_hudedc279850e0d89ba846b072adf28dbb_56622_300x0_resize_q75_h2_box_2.webp" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ’µ</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="https://wjdesign.github.io/hugo-blog-wayne/">å‰æ©çš„éƒ¨è½æ ¼</a></h1>
            <h2 class="site-description">å–®ç´”ç©ç© Hugo</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://www.facebook.com/profile.php?id=100072246543642'
                        target="_blank"
                        title="Facebook"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 48 48" width="48px" height="48px"><linearGradient id="CXanuwD9EGkBgTn76_1mxa" x1="9.993" x2="40.615" y1="-299.993" y2="-330.615" gradientTransform="matrix(1 0 0 -1 0 -290)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#2aa4f4"/><stop offset="1" stop-color="#007ad9"/></linearGradient><path fill="url(#CXanuwD9EGkBgTn76_1mxa)" d="M24,4C12.954,4,4,12.954,4,24c0,10.028,7.379,18.331,17.004,19.777	C21.981,43.924,22.982,41,24,41c0.919,0,1.824,2.938,2.711,2.818C36.475,42.495,44,34.127,44,24C44,12.954,35.046,4,24,4z"/><path d="M27.707,21.169c0-1.424,0.305-3.121,1.757-3.121h4.283l-0.001-5.617l-0.05-0.852l-0.846-0.114	c-0.608-0.082-1.873-0.253-4.206-0.253c-5.569,0-8.636,3.315-8.636,9.334v2.498H15.06v7.258h4.948V43.6	C21.298,43.861,22.633,44,24,44c1.268,0,2.504-0.131,3.707-0.357V30.301h5.033l1.122-7.258h-6.155V21.169z" opacity=".05"/><path d="M27.207,21.169c0-1.353,0.293-3.621,2.257-3.621h3.783V12.46l-0.026-0.44l-0.433-0.059	c-0.597-0.081-1.838-0.249-4.143-0.249c-5.323,0-8.136,3.055-8.136,8.834v2.998H15.56v6.258h4.948v13.874	C21.644,43.876,22.806,44,24,44c1.094,0,2.16-0.112,3.207-0.281V29.801h5.104l0.967-6.258h-6.072V21.169z" opacity=".05"/><path fill="#fff" d="M26.707,29.301h5.176l0.813-5.258h-5.989v-2.874c0-2.184,0.714-4.121,2.757-4.121h3.283V12.46	c-0.577-0.078-1.797-0.248-4.102-0.248c-4.814,0-7.636,2.542-7.636,8.334v3.498H16.06v5.258h4.948v14.475	C21.988,43.923,22.981,44,24,44c0.921,0,1.82-0.062,2.707-0.182V29.301z"/></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/wjdesign'
                        target="_blank"
                        title="GitHub"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://www.instagram.com/huai_lin/'
                        target="_blank"
                        title="Instagram"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 48 48" width="48px" height="48px"><path fill="#304ffe" d="M41.67,13.48c-0.4,0.26-0.97,0.5-1.21,0.77c-0.09,0.09-0.14,0.19-0.12,0.29v1.03l-0.3,1.01l-0.3,1l-0.33,1.1 l-0.68,2.25l-0.66,2.22l-0.5,1.67c0,0.26-0.01,0.52-0.03,0.77c-0.07,0.96-0.27,1.88-0.59,2.74c-0.19,0.53-0.42,1.04-0.7,1.52 c-0.1,0.19-0.22,0.38-0.34,0.56c-0.4,0.63-0.88,1.21-1.41,1.72c-0.41,0.41-0.86,0.79-1.35,1.11c0,0,0,0-0.01,0 c-0.08,0.07-0.17,0.13-0.27,0.18c-0.31,0.21-0.64,0.39-0.98,0.55c-0.23,0.12-0.46,0.22-0.7,0.31c-0.05,0.03-0.11,0.05-0.16,0.07 c-0.57,0.27-1.23,0.45-1.89,0.54c-0.04,0.01-0.07,0.01-0.11,0.02c-0.4,0.07-0.79,0.13-1.19,0.16c-0.18,0.02-0.37,0.03-0.55,0.03 l-0.71-0.04l-3.42-0.18c0-0.01-0.01,0-0.01,0l-1.72-0.09c-0.13,0-0.27,0-0.4-0.01c-0.54-0.02-1.06-0.08-1.58-0.19 c-0.01,0-0.01,0-0.01,0c-0.95-0.18-1.86-0.5-2.71-0.93c-0.47-0.24-0.93-0.51-1.36-0.82c-0.18-0.13-0.35-0.27-0.52-0.42 c-0.48-0.4-0.91-0.83-1.31-1.27c-0.06-0.06-0.11-0.12-0.16-0.18c-0.06-0.06-0.12-0.13-0.17-0.19c-0.38-0.48-0.7-0.97-0.96-1.49 c-0.24-0.46-0.43-0.95-0.58-1.49c-0.06-0.19-0.11-0.37-0.15-0.57c-0.01-0.01-0.02-0.03-0.02-0.05c-0.1-0.41-0.19-0.84-0.24-1.27 c-0.06-0.33-0.09-0.66-0.09-1c-0.02-0.13-0.02-0.27-0.02-0.4l1.91-2.95l1.87-2.88l0.85-1.31l0.77-1.18l0.26-0.41v-1.03 c0.02-0.23,0.03-0.47,0.02-0.69c-0.01-0.7-0.15-1.38-0.38-2.03c-0.22-0.69-0.53-1.34-0.85-1.94c-0.38-0.69-0.78-1.31-1.11-1.87 C14,7.4,13.66,6.73,13.75,6.26C14.47,6.09,15.23,6,16,6h16c4.18,0,7.78,2.6,9.27,6.26C41.43,12.65,41.57,13.06,41.67,13.48z"/><path fill="#4928f4" d="M42,16v0.27l-1.38,0.8l-0.88,0.51l-0.97,0.56l-1.94,1.13l-1.9,1.1l-1.94,1.12l-0.77,0.45 c0,0.48-0.12,0.92-0.34,1.32c-0.31,0.58-0.83,1.06-1.49,1.47c-0.67,0.41-1.49,0.74-2.41,0.98c0,0,0-0.01-0.01,0 c-3.56,0.92-8.42,0.5-10.78-1.26c-0.66-0.49-1.12-1.09-1.32-1.78c-0.06-0.23-0.09-0.48-0.09-0.73v-7.19 c0.01-0.15-0.09-0.3-0.27-0.45c-0.54-0.43-1.81-0.84-3.23-1.25c-1.11-0.31-2.3-0.62-3.3-0.92c-0.79-0.24-1.46-0.48-1.86-0.71 c0.18-0.35,0.39-0.7,0.61-1.03c1.4-2.05,3.54-3.56,6.02-4.13C14.47,6.09,15.23,6,16,6h10.8c5.37,0.94,10.32,3.13,14.47,6.26 c0.16,0.39,0.3,0.8,0.4,1.22c0.18,0.66,0.29,1.34,0.32,2.05C42,15.68,42,15.84,42,16z"/><path fill="#6200ea" d="M42,16v4.41l-0.22,0.68l-0.75,2.33l-0.78,2.4l-0.41,1.28l-0.38,1.19l-0.37,1.13l-0.36,1.12l-0.19,0.59 l-0.25,0.78c0,0.76-0.02,1.43-0.07,2c-0.01,0.06-0.02,0.12-0.02,0.18c-0.06,0.53-0.14,0.98-0.27,1.36 c-0.01,0.06-0.03,0.12-0.05,0.17c-0.26,0.72-0.65,1.18-1.23,1.48c-0.14,0.08-0.3,0.14-0.47,0.2c-0.53,0.18-1.2,0.27-2.02,0.32 c-0.6,0.04-1.29,0.05-2.07,0.05H31.4l-1.19-0.05L30,37.61l-2.17-0.09l-2.2-0.09l-7.25-0.3l-1.88-0.08h-0.26 c-0.78-0.01-1.45-0.06-2.03-0.14c-0.84-0.13-1.49-0.35-1.98-0.68c-0.7-0.45-1.11-1.11-1.35-2.03c-0.06-0.22-0.11-0.45-0.14-0.7 c-0.1-0.58-0.15-1.25-0.18-2c0-0.15,0-0.3-0.01-0.46c-0.01-0.01,0-0.01,0-0.01v-0.58c-0.01-0.29-0.01-0.59-0.01-0.9l0.05-1.61 l0.03-1.15l0.04-1.34v-0.19l0.07-2.46l0.07-2.46l0.07-2.31l0.06-2.27l0.02-0.6c0-0.31-1.05-0.49-2.22-0.64 c-0.93-0.12-1.95-0.23-2.56-0.37c0.05-0.23,0.1-0.46,0.16-0.68c0.18-0.72,0.45-1.4,0.79-2.05c0.18-0.35,0.39-0.7,0.61-1.03 c2.16-0.95,4.41-1.69,6.76-2.17c2.06-0.43,4.21-0.66,6.43-0.66c7.36,0,14.16,2.49,19.54,6.69c0.52,0.4,1.03,0.83,1.53,1.28 C42,15.68,42,15.84,42,16z"/><path fill="#673ab7" d="M42,18.37v4.54l-0.55,1.06l-1.05,2.05l-0.56,1.08l-0.51,0.99l-0.22,0.43c0,0.31,0,0.61-0.02,0.9 c0,0.43-0.02,0.84-0.05,1.22c-0.04,0.45-0.1,0.86-0.16,1.24c-0.15,0.79-0.36,1.47-0.66,2.03c-0.04,0.07-0.08,0.14-0.12,0.2 c-0.11,0.18-0.24,0.35-0.38,0.51c-0.18,0.22-0.38,0.41-0.61,0.57c-0.34,0.26-0.74,0.47-1.2,0.63c-0.57,0.21-1.23,0.35-2.01,0.43 c-0.51,0.05-1.07,0.08-1.68,0.08l-0.42,0.02l-2.08,0.12h-0.01L27.5,36.6l-2.25,0.13l-3.1,0.18l-3.77,0.22l-0.55,0.03 c-0.51,0-0.99-0.03-1.45-0.09c-0.05-0.01-0.09-0.02-0.14-0.02c-0.68-0.11-1.3-0.29-1.86-0.54c-0.68-0.3-1.27-0.7-1.77-1.18 c-0.44-0.43-0.82-0.92-1.13-1.47c-0.07-0.13-0.14-0.25-0.2-0.39c-0.3-0.59-0.54-1.25-0.72-1.97c-0.03-0.12-0.06-0.25-0.08-0.38 c-0.06-0.23-0.11-0.47-0.14-0.72c-0.11-0.64-0.17-1.32-0.2-2.03v-0.01c-0.01-0.29-0.02-0.57-0.02-0.87l-0.49-1.17l-0.07-0.18 L9.5,25.99L8.75,24.2l-0.12-0.29l-0.72-1.73l-0.8-1.93c0,0,0,0-0.01,0L6.29,18.3L6,17.59V16c0-0.63,0.06-1.25,0.17-1.85 c0.05-0.23,0.1-0.46,0.16-0.68c0.85-0.49,1.74-0.94,2.65-1.34c2.08-0.93,4.31-1.62,6.62-2.04c1.72-0.31,3.51-0.48,5.32-0.48 c7.31,0,13.94,2.65,19.12,6.97c0.2,0.16,0.39,0.32,0.58,0.49C41.09,17.48,41.55,17.91,42,18.37z"/><path fill="#8e24aa" d="M42,21.35v5.14l-0.57,1.19l-1.08,2.25l-0.01,0.03c0,0.43-0.02,0.82-0.05,1.17c-0.1,1.15-0.38,1.88-0.84,2.33 c-0.33,0.34-0.74,0.53-1.25,0.63c-0.03,0.01-0.07,0.01-0.1,0.02c-0.16,0.03-0.33,0.05-0.51,0.05c-0.62,0.06-1.35,0.02-2.19-0.04 c-0.09,0-0.19-0.01-0.29-0.02c-0.61-0.04-1.26-0.08-1.98-0.11c-0.39-0.01-0.8-0.02-1.22-0.02h-0.02l-1.01,0.08h-0.01l-2.27,0.16 l-2.59,0.2l-0.38,0.03l-3.03,0.22l-1.57,0.12l-1.55,0.11c-0.27,0-0.53,0-0.79-0.01c0,0-0.01-0.01-0.01,0 c-1.13-0.02-2.14-0.09-3.04-0.26c-0.83-0.14-1.56-0.36-2.18-0.69c-0.64-0.31-1.17-0.75-1.6-1.31c-0.41-0.55-0.71-1.24-0.9-2.07 c0-0.01,0-0.01,0-0.01c-0.14-0.67-0.22-1.45-0.22-2.33l-0.15-0.27L9.7,26.35l-0.13-0.22L9.5,25.99l-0.93-1.65l-0.46-0.83 l-0.58-1.03l-1-1.79L6,19.75v-3.68c0.88-0.58,1.79-1.09,2.73-1.55c1.14-0.58,2.32-1.07,3.55-1.47c1.34-0.44,2.74-0.79,4.17-1.02 c1.45-0.24,2.94-0.36,4.47-0.36c6.8,0,13.04,2.43,17.85,6.47c0.22,0.17,0.43,0.36,0.64,0.54c0.84,0.75,1.64,1.56,2.37,2.41 C41.86,21.18,41.94,21.26,42,21.35z"/><path fill="#c2185b" d="M42,24.71v7.23c-0.24-0.14-0.57-0.31-0.98-0.49c-0.22-0.11-0.47-0.22-0.73-0.32 c-0.38-0.17-0.79-0.33-1.25-0.49c-0.1-0.04-0.2-0.07-0.31-0.1c-0.18-0.07-0.37-0.13-0.56-0.19c-0.59-0.18-1.24-0.35-1.92-0.5 c-0.26-0.05-0.53-0.1-0.8-0.14c-0.87-0.15-1.8-0.24-2.77-0.25c-0.08-0.01-0.17-0.01-0.25-0.01l-2.57,0.02l-3.5,0.02h-0.01 l-7.49,0.06c-2.38,0-3.84,0.57-4.72,0.8c0,0-0.01,0-0.01,0.01c-0.93,0.24-1.22,0.09-1.3-1.54c-0.02-0.45-0.03-1.03-0.03-1.74 l-0.56-0.43l-0.98-0.74l-0.6-0.46l-0.12-0.09L8.88,24.1l-0.25-0.19l-0.52-0.4l-0.96-0.72L6,21.91v-3.4 c0.1-0.08,0.19-0.15,0.29-0.21c1.45-1,3-1.85,4.64-2.54c1.46-0.62,3-1.11,4.58-1.46c0.43-0.09,0.87-0.18,1.32-0.24 c1.33-0.23,2.7-0.34,4.09-0.34c6.01,0,11.53,2.09,15.91,5.55c0.66,0.52,1.3,1.07,1.9,1.66c0.82,0.78,1.59,1.61,2.3,2.49 c0.14,0.18,0.28,0.36,0.42,0.55C41.64,24.21,41.82,24.46,42,24.71z"/><path fill="#d81b60" d="M42,28.72V32c0,0.65-0.06,1.29-0.18,1.91c-0.18,0.92-0.49,1.8-0.91,2.62c-0.22,0.05-0.47,0.05-0.75,0.01 c-0.63-0.11-1.37-0.44-2.17-0.87c-0.04-0.01-0.08-0.03-0.11-0.05c-0.25-0.13-0.51-0.27-0.77-0.43c-0.53-0.29-1.09-0.61-1.65-0.91 c-0.12-0.06-0.24-0.12-0.35-0.18c-0.64-0.33-1.3-0.63-1.96-0.86c0,0,0,0-0.01,0c-0.14-0.05-0.29-0.1-0.44-0.14 c-0.57-0.16-1.15-0.26-1.71-0.26l-1.1-0.32l-4.87-1.41c0,0,0,0-0.01,0l-2.99-0.87h-0.01l-1.3-0.38c-3.76,0-6.07,1.6-7.19,0.99 c-0.44-0.23-0.7-0.81-0.79-1.95c-0.03-0.32-0.04-0.68-0.04-1.1l-1.17-0.57l-0.05-0.02h-0.01l-0.84-0.42L9.7,26.35l-0.07-0.03 l-0.17-0.09L7.5,25.28L6,24.55v-3.43c0.17-0.15,0.35-0.29,0.53-0.43c0.19-0.15,0.38-0.29,0.57-0.44c0.01,0,0.01,0,0.01,0 c1.18-0.85,2.43-1.6,3.76-2.22c1.55-0.74,3.2-1.31,4.91-1.68c0.25-0.06,0.51-0.12,0.77-0.16c1.42-0.27,2.88-0.41,4.37-0.41 c5.27,0,10.11,1.71,14.01,4.59c1.13,0.84,2.18,1.77,3.14,2.78c0.79,0.83,1.52,1.73,2.18,2.67c0.05,0.07,0.1,0.14,0.15,0.2 c0.37,0.54,0.71,1.09,1.03,1.66C41.64,28.02,41.82,28.37,42,28.72z"/><path fill="#f50057" d="M41.82,33.91c-0.18,0.92-0.49,1.8-0.91,2.62c-0.19,0.37-0.4,0.72-0.63,1.06c-0.14,0.21-0.29,0.41-0.44,0.6 c-0.36-0.14-0.89-0.34-1.54-0.56c0,0,0,0,0-0.01c-0.49-0.17-1.05-0.35-1.65-0.52c-0.17-0.05-0.34-0.1-0.52-0.15 c-0.71-0.19-1.45-0.36-2.17-0.46c-0.6-0.1-1.19-0.16-1.74-0.16l-0.46-0.13h-0.01l-2.42-0.7l-1.49-0.43l-1.66-0.48h-0.01l-0.54-0.15 l-6.53-1.88l-1.88-0.54l-1.4-0.33l-2.28-0.54l-0.28-0.07c0,0,0,0-0.01,0l-2.29-0.53c0-0.01,0-0.01,0-0.01l-0.41-0.09l-0.21-0.05 l-1.67-0.39l-0.19-0.05l-1.42-1.17L6,27.9v-4.08c0.37-0.36,0.75-0.7,1.15-1.03c0.12-0.11,0.25-0.21,0.38-0.31 c0.12-0.1,0.25-0.2,0.38-0.3c0.91-0.69,1.87-1.31,2.89-1.84c1.3-0.7,2.68-1.26,4.13-1.66c0.28-0.09,0.56-0.17,0.85-0.23 c1.64-0.41,3.36-0.62,5.14-0.62c4.47,0,8.63,1.35,12.07,3.66c1.71,1.15,3.25,2.53,4.55,4.1c0.66,0.79,1.26,1.62,1.79,2.5 c0.05,0.07,0.09,0.13,0.13,0.2c0.32,0.53,0.62,1.08,0.89,1.64c0.25,0.5,0.47,1,0.67,1.52C41.34,32.25,41.6,33.07,41.82,33.91z"/><path fill="#ff1744" d="M40.28,37.59c-0.14,0.21-0.29,0.41-0.44,0.6c-0.44,0.55-0.92,1.05-1.46,1.49c-0.47,0.39-0.97,0.74-1.5,1.04 c-0.2-0.05-0.4-0.11-0.61-0.19c-0.66-0.23-1.35-0.61-1.99-1.01c-0.96-0.61-1.79-1.27-2.16-1.57c-0.14-0.12-0.21-0.18-0.21-0.18 l-1.7-0.15L30,37.6l-2.2-0.19l-2.28-0.2l-3.37-0.3l-5.34-0.47l-0.02-0.01l-1.88-0.91l-1.9-0.92l-1.53-0.74l-0.33-0.16l-0.41-0.2 l-1.42-0.69L7.43,31.9l-0.59-0.29L6,31.35v-4.47c0.47-0.56,0.97-1.09,1.5-1.6c0.34-0.32,0.7-0.64,1.07-0.94 c0.06-0.05,0.12-0.1,0.18-0.14c0.04-0.05,0.09-0.08,0.13-0.1c0.59-0.48,1.21-0.91,1.85-1.3c0.74-0.47,1.52-0.89,2.33-1.24 c0.87-0.39,1.78-0.72,2.72-0.97c1.63-0.46,3.36-0.7,5.14-0.7c4.08,0,7.85,1.24,10.96,3.37c1.99,1.36,3.71,3.08,5.07,5.07 c0.45,0.64,0.85,1.32,1.22,2.02c0.13,0.26,0.26,0.52,0.37,0.78c0.12,0.25,0.23,0.5,0.34,0.75c0.21,0.52,0.4,1.04,0.57,1.58 c0.32,1,0.56,2.02,0.71,3.08C40.21,36.89,40.25,37.24,40.28,37.59z"/><path fill="#ff5722" d="M38.39,39.42c0,0.08,0,0.17-0.01,0.26c-0.47,0.39-0.97,0.74-1.5,1.04c-0.22,0.12-0.44,0.24-0.67,0.34 c-0.23,0.11-0.46,0.21-0.7,0.3c-0.34-0.18-0.8-0.4-1.29-0.61c-0.69-0.31-1.44-0.59-2.02-0.68c-0.14-0.03-0.27-0.04-0.39-0.04 l-1.64-0.21h-0.02l-2.04-0.27l-2.06-0.27l-0.96-0.12l-7.56-0.98c-0.49,0-1.01-0.03-1.55-0.1c-0.66-0.06-1.35-0.16-2.04-0.3 c-0.68-0.12-1.37-0.28-2.03-0.45c-0.69-0.16-1.37-0.35-2-0.53c-0.73-0.22-1.41-0.43-1.98-0.62c-0.47-0.15-0.87-0.29-1.18-0.4 c-0.18-0.43-0.33-0.88-0.44-1.34C6.1,33.66,6,32.84,6,32v-1.67c0.32-0.53,0.67-1.05,1.06-1.54c0.71-0.94,1.52-1.8,2.4-2.56 c0.03-0.04,0.07-0.07,0.1-0.09l0.01-0.01c0.31-0.28,0.63-0.53,0.97-0.77c0.04-0.04,0.08-0.07,0.12-0.1 c0.16-0.12,0.33-0.24,0.51-0.35c1.43-0.97,3.01-1.73,4.7-2.24c1.6-0.48,3.29-0.73,5.05-0.73c3.49,0,6.75,1.03,9.47,2.79 c2.01,1.29,3.74,2.99,5.06,4.98c0.16,0.23,0.31,0.46,0.46,0.7c0.69,1.17,1.26,2.43,1.68,3.75c0.05,0.15,0.09,0.3,0.13,0.46 c0.08,0.27,0.15,0.55,0.21,0.83c0.02,0.07,0.04,0.14,0.06,0.22c0.14,0.63,0.24,1.29,0.31,1.95c0,0.01,0,0.01,0,0.01 C38.36,38.22,38.39,38.82,38.39,39.42z"/><path fill="#ff6f00" d="M36.33,39.42c0,0.35-0.02,0.73-0.06,1.11c-0.02,0.18-0.04,0.36-0.06,0.53c-0.23,0.11-0.46,0.21-0.7,0.3 c-0.45,0.17-0.91,0.31-1.38,0.41c-0.32,0.07-0.65,0.13-0.98,0.16h-0.01c-0.31-0.19-0.67-0.42-1.04-0.68 c-0.67-0.47-1.37-1-1.93-1.43c-0.01-0.01-0.01-0.01-0.02-0.02c-0.59-0.45-1.01-0.79-1.01-0.79l-1.06,0.04l-2.04,0.07l-0.95,0.04 l-3.82,0.14l-3.23,0.12c-0.21,0.01-0.46,0.01-0.77,0h-0.01c-0.42-0.01-0.92-0.04-1.47-0.09c-0.64-0.05-1.34-0.11-2.05-0.18 c-0.69-0.08-1.39-0.16-2.06-0.24c-0.74-0.08-1.44-0.17-2.04-0.25c-0.47-0.06-0.88-0.11-1.21-0.15c-0.28-0.32-0.53-0.65-0.77-1.01 c-0.36-0.54-0.67-1.11-0.91-1.72c-0.18-0.43-0.33-0.88-0.44-1.34c0.29-0.89,0.67-1.73,1.12-2.54c0.36-0.66,0.78-1.29,1.24-1.89 c0.45-0.59,0.94-1.14,1.47-1.64v-0.01c0.15-0.15,0.3-0.29,0.45-0.42c0.28-0.26,0.57-0.5,0.87-0.73h0.01 c0.01-0.02,0.02-0.02,0.03-0.03c0.24-0.19,0.49-0.36,0.74-0.53c1.48-1.01,3.15-1.76,4.95-2.2c1.19-0.29,2.44-0.45,3.73-0.45 c2.54,0,4.94,0.61,7.05,1.71h0.01c1.81,0.93,3.41,2.21,4.7,3.75c0.71,0.82,1.32,1.72,1.82,2.67c0.35,0.64,0.65,1.31,0.9,1.99 c0.02,0.06,0.04,0.11,0.06,0.16c0.17,0.5,0.32,1.02,0.45,1.54c0.09,0.37,0.16,0.75,0.22,1.13c0.02,0.12,0.04,0.23,0.05,0.35 C36.28,37.99,36.33,38.7,36.33,39.42z"/><path fill="#ff9800" d="M34.28,39.42v0.1c0,0.34-0.03,0.77-0.06,1.23c-0.03,0.34-0.06,0.69-0.09,1.02c-0.32,0.07-0.65,0.13-0.98,0.16 h-0.01C32.76,41.98,32.39,42,32,42h-1.75l-0.38-0.11l-1.97-0.6l-2-0.6l-4.63-1.39l-2-0.6c0,0-0.83,0.33-2,0.72h-0.01 c-0.45,0.15-0.94,0.31-1.46,0.47c-0.65,0.19-1.34,0.38-2.02,0.53c-0.7,0.16-1.39,0.28-2.01,0.33c-0.19,0.02-0.38,0.03-0.55,0.03 c-0.56-0.31-1.1-0.68-1.59-1.09c-0.43-0.36-0.83-0.75-1.2-1.18c-0.28-0.32-0.53-0.65-0.77-1.01c0.07-0.45,0.15-0.89,0.27-1.32 c0.3-1.19,0.77-2.33,1.39-3.37c0.34-0.59,0.72-1.16,1.16-1.69c0.01-0.03,0.04-0.06,0.07-0.08c-0.01-0.01,0-0.01,0-0.01 c0.13-0.17,0.27-0.33,0.41-0.48c0-0.01,0-0.01,0-0.01c0.41-0.44,0.83-0.86,1.29-1.25c0.16-0.13,0.31-0.26,0.48-0.39 c0.03-0.03,0.06-0.05,0.1-0.08c2.25-1.72,5.06-2.76,8.09-2.76c3.44,0,6.57,1.29,8.94,3.41c1.14,1.03,2.11,2.26,2.84,3.63 c0.06,0.1,0.12,0.21,0.17,0.32c0.09,0.18,0.18,0.37,0.26,0.57c0.33,0.72,0.59,1.48,0.77,2.26c0.02,0.08,0.04,0.16,0.06,0.24 c0.08,0.37,0.15,0.75,0.2,1.13C34.24,38.21,34.28,38.81,34.28,39.42z"/><path fill="#ffc107" d="M32.22,39.42c0,0.2-0.01,0.42-0.02,0.65c-0.02,0.37-0.05,0.77-0.1,1.18c-0.02,0.25-0.06,0.5-0.1,0.75h-5.48 l-1.06-0.17l-4.14-0.66l-0.59-0.09l-1.35-0.22c-0.59,0-1.87,0.26-3.22,0.51c-0.71,0.13-1.43,0.27-2.08,0.36 c-0.08,0.01-0.16,0.02-0.23,0.03h-0.01c-0.7-0.15-1.38-0.38-2.02-0.68c-0.2-0.09-0.4-0.19-0.6-0.3c-0.56-0.31-1.1-0.68-1.59-1.09 c-0.01-0.12-0.02-0.22-0.02-0.27c0-0.26,0.01-0.51,0.03-0.76c0.04-0.64,0.13-1.26,0.27-1.86c0.22-0.91,0.54-1.79,0.97-2.6 c0.08-0.17,0.17-0.34,0.27-0.5c0.04-0.08,0.09-0.15,0.13-0.23c0.18-0.29,0.38-0.57,0.58-0.85c0.42-0.55,0.89-1.07,1.39-1.54 c0.01,0,0.01,0,0.01,0c0.04-0.04,0.08-0.08,0.12-0.11c0.05-0.04,0.09-0.09,0.14-0.12c0.2-0.18,0.4-0.34,0.61-0.49 c0-0.01,0.01-0.01,0.01-0.01c1.89-1.41,4.23-2.24,6.78-2.24c1.98,0,3.82,0.5,5.43,1.38h0.01c1.38,0.76,2.58,1.79,3.53,3.03 c0.37,0.48,0.7,0.99,0.98,1.53h0.01c0.05,0.1,0.1,0.2,0.15,0.3c0.3,0.59,0.54,1.21,0.72,1.85h0.01c0.01,0.05,0.03,0.1,0.04,0.15 c0.12,0.43,0.22,0.87,0.29,1.32c0.01,0.09,0.02,0.19,0.03,0.28C32.19,38.43,32.22,38.92,32.22,39.42z"/><path fill="#ffd54f" d="M30.17,39.31c0,0.16,0,0.33-0.02,0.49v0.01c0,0.01,0,0.01,0,0.01c-0.02,0.72-0.12,1.43-0.28,2.07 c0,0.04-0.01,0.07-0.03,0.11h-4.67l-3.85-0.83l-0.51-0.11l-0.08,0.02l-4.27,0.88L16.27,42H16c-0.64,0-1.27-0.06-1.88-0.18 c-0.09-0.02-0.18-0.04-0.27-0.06h-0.01c-0.7-0.15-1.38-0.38-2.02-0.68c-0.02-0.11-0.04-0.22-0.05-0.33 c-0.07-0.43-0.1-0.88-0.1-1.33c0-0.17,0-0.34,0.01-0.51c0.03-0.54,0.11-1.07,0.23-1.58c0.08-0.38,0.19-0.75,0.32-1.1 c0.11-0.31,0.24-0.61,0.38-0.9c0.12-0.25,0.26-0.49,0.4-0.73c0.14-0.23,0.29-0.45,0.45-0.67c0.4-0.55,0.87-1.06,1.39-1.51 c0.3-0.26,0.63-0.51,0.97-0.73c1.46-0.96,3.21-1.52,5.1-1.52c0.37,0,0.73,0.02,1.08,0.07h0.02c1.07,0.12,2.07,0.42,2.99,0.87 c0.01,0,0.01,0,0.01,0c1.45,0.71,2.68,1.78,3.58,3.1c0.15,0.22,0.3,0.46,0.43,0.7c0.11,0.19,0.21,0.39,0.3,0.59 c0.14,0.31,0.27,0.64,0.38,0.97h0.01c0.11,0.37,0.21,0.74,0.28,1.13v0.01C30.11,38.16,30.17,38.73,30.17,39.31z"/><path fill="#ffe082" d="M28.11,39.52v0.03c0,0.59-0.07,1.17-0.21,1.74c-0.05,0.24-0.12,0.48-0.21,0.71h-4.48l-2.29-0.63L18.63,42H16 c-0.64,0-1.27-0.06-1.88-0.18c-0.02-0.03-0.03-0.06-0.04-0.09c-0.14-0.43-0.25-0.86-0.3-1.31c-0.04-0.29-0.06-0.59-0.06-0.9 c0-0.12,0-0.25,0.02-0.37c0.01-0.47,0.08-0.93,0.2-1.37c0.06-0.3,0.15-0.59,0.27-0.87c0.04-0.14,0.1-0.27,0.17-0.4 c0.15-0.34,0.33-0.67,0.53-0.99c0.22-0.32,0.46-0.62,0.73-0.9c0.32-0.36,0.68-0.69,1.09-0.96c0.7-0.51,1.5-0.89,2.37-1.1 c0.58-0.16,1.19-0.24,1.82-0.24c2,0,3.79,0.8,5.09,2.09c0.05,0.05,0.11,0.11,0.16,0.18h0.01c0.14,0.15,0.27,0.3,0.4,0.47 c0.37,0.47,0.68,0.98,0.92,1.54c0.12,0.26,0.22,0.53,0.3,0.81c0.01,0.04,0.02,0.07,0.03,0.11c0.14,0.49,0.23,1,0.25,1.53 C28.1,39.2,28.11,39.36,28.11,39.52z"/><path fill="#ffecb3" d="M26.06,39.52c0,0.41-0.05,0.8-0.16,1.17c-0.1,0.4-0.25,0.78-0.44,1.14c-0.03,0.06-0.1,0.17-0.1,0.17h-8.88 c-0.01-0.01-0.02-0.03-0.02-0.04c-0.12-0.19-0.22-0.38-0.3-0.59c-0.2-0.46-0.32-0.96-0.36-1.48c-0.02-0.12-0.02-0.25-0.02-0.37 c0-0.06,0-0.13,0.01-0.19c0.01-0.44,0.07-0.86,0.19-1.25c0.1-0.36,0.23-0.69,0.4-1.01c0,0,0.01-0.01,0.01-0.02 c0.12-0.21,0.25-0.42,0.4-0.62c0.49-0.66,1.14-1.2,1.89-1.55c0.01,0,0.01,0,0.01,0c0.24-0.12,0.49-0.22,0.75-0.29c0,0,0,0,0.01,0 c0.46-0.14,0.96-0.21,1.47-0.21c0.59,0,1.16,0.09,1.68,0.28c0.19,0.05,0.37,0.13,0.55,0.22c0,0,0,0,0.01,0 c0.86,0.41,1.59,1.05,2.09,1.85c0.1,0.15,0.19,0.31,0.27,0.48c0.04,0.07,0.08,0.15,0.11,0.22c0.23,0.52,0.37,1.09,0.41,1.69 c0.01,0.05,0.01,0.1,0.01,0.16C26.06,39.36,26.06,39.44,26.06,39.52z"/><g><path fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" d="M30,11H18c-3.9,0-7,3.1-7,7v12c0,3.9,3.1,7,7,7h12c3.9,0,7-3.1,7-7V18C37,14.1,33.9,11,30,11z"/><circle cx="31" cy="16" r="1" fill="#fff"/></g><g><circle cx="24" cy="24" r="6" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"/></g></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='https://wjdesign.github.io/hugo-blog-wayne/%E9%97%9C%E6%96%BC%E6%9C%AC%E7%AB%99/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>é—œæ–¼æœ¬ç«™</span>
            </a>
        </li>
        
        

        <li >
            <a href='https://wjdesign.github.io/hugo-blog-wayne/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>æ–‡ç« å·å®—</span>
            </a>
        </li>
        
        

        <li >
            <a href='https://wjdesign.github.io/hugo-blog-wayne/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>æœå°‹æª¢ç´¢</span>
            </a>
        </li>
        
        

        <li >
            <a href='https://wjdesign.github.io/hugo-blog-wayne/%E7%9B%B8%E9%97%9C%E9%80%A3%E7%B5%90/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>ç›¸é—œé€£çµ</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
                <li id="i18n-switch">  
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                    <select name="language" onchange="window.location.href = this.selectedOptions[0].value">
                        
                            <option value="https://wjdesign.github.io/hugo-blog-wayne/" selected>ç¹ä¸­</option>
                        
                            <option value="https://wjdesign.github.io/hugo-blog-wayne/en/" >English</option>
                        
                    </select>
                </li>
            
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>å¤œæ™šæ¨¡å¼</span>
                </li>
            
        </div>
    </ol>
</aside>
<main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="https://wjdesign.github.io/hugo-blog-wayne/p/grpc-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%B4%B9/">
                
                    <img src="https://i.imgur.com/Wby0iiz.png" loading="lazy" alt="Featured image of post gRPC åŸºæœ¬ä»‹ç´¹" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="https://wjdesign.github.io/hugo-blog-wayne/categories/grpc/" >
                grpc
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="https://wjdesign.github.io/hugo-blog-wayne/p/grpc-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%B4%B9/">gRPC åŸºæœ¬ä»‹ç´¹</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            gRPC æ˜¯ Google æ¨å‡ºçš„ RPC æ¶æ§‹ï¼Œå…¶è¼•é‡ã€é«˜æ•ˆèƒ½ä»¥åŠå…¨é›™å·¥ç­‰ç‰¹æ€§ï¼Œéå¸¸é©åˆç”¨ä¾†é–‹ç™¼éœ€è¦å³æ™‚å‚³éè³‡è¨Šçš„æœå‹™ã€‚
        </h3>
        
    </div>

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jul 22, 2022</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é–±è®€æ™‚é–“: 5 åˆ†é˜
                </time>
            </div>
        
    </footer>
    

    
</div>
</header>

    <section class="article-content">
    
    
    <style>
.focus {
    background: #f1e2e2;
    color: #d62c2c;
    padding: 0 5px;
}
</style>
<p><a class="link" href="https://youtu.be/MYmPY1E17ZM"  target="_blank" rel="noopener"
    >åƒè€ƒç¶²ç«™ - gRPC èªªæ˜å½±ç‰‡ @ BESG</a></p>
<hr>
<blockquote>
<p>SOURCE CODE<br>
å°æ‡‰çš„ç¨‹å¼ç¢¼å¯æª¢è¦– <a class="link" href="https://github.com/pjchender/besg-grpc/tree/main/proto/calculator"  target="_blank" rel="noopener"
    >besg-grpc</a> çš„ repositoryã€‚</p>
</blockquote>
<h2 id="grpc-æ˜¯ä»€éº¼ä»¥-golang-èªªæ˜èˆ‡å¯¦ä½œ">gRPC æ˜¯ä»€éº¼ï¼šä»¥ Golang èªªæ˜èˆ‡å¯¦ä½œ</h2>
<h3 id="èªªæ˜">èªªæ˜</h3>
<p>RPC çš„å…¨åæ˜¯ remote procedure callï¼Œä¸»è¦æ˜¯ä½œç‚ºé›»è…¦å’Œé›»è…¦é–“æºé€šä½¿ç”¨ã€‚A é›»è…¦å¯ä»¥å‘¼å« B é›»è…¦åŸ·è¡ŒæŸäº›ç¨‹å¼ï¼ŒB é›»è…¦æœƒå°‡çµæœå›å‚³çµ¦ A é›»è…¦ï¼ŒA é›»è…¦åœ¨æ”¶åˆ°å›æ‡‰å¾Œæœƒå†ç¹¼çºŒè™•ç†å…¶ä»–ä»»å‹™ã€‚RPC çš„å¥½è™•åœ¨æ–¼ï¼Œé›–ç„¶ A é›»è…¦æ˜¯ç™¼é€è«‹æ±‚å»è«‹ B é›»è…¦åšäº‹ï¼Œä½†å…¶å‘¼å«çš„æ–¹å¼ï¼Œå°±å¾ˆåƒæ˜¯ A é›»è…¦ç›´æ¥åœ¨å‘¼å«è‡ªå·±å…§éƒ¨çš„å‡½å¼ä¸€èˆ¬ã€‚</p>
<p>gRPC ä¹Ÿæ˜¯åŸºæ–¼é€™æ¨£çš„æ¦‚å¿µï¼Œè®“æƒ³è¦å‘¼å« server è™•ç†è«‹æ±‚çš„ clientï¼Œåœ¨ä½¿ç”¨é€™æ”¯ API æ™‚å°±å¥½åƒæ˜¯å‘¼å«è‡ªå·±å…§éƒ¨çš„å‡½å¼ä¸€æ¨£ç°¡å–®è‡ªç„¶ã€‚å¾åŠŸèƒ½é¢ä¾†èªªï¼ŒgRPC å°±åƒ Web å¸¸ç”¨çš„ Restful API ä¸€æ¨£ï¼Œéƒ½æ˜¯åœ¨è™•ç†è«‹æ±‚å’Œå›æ‡‰ï¼Œä¸¦ä¸”é€²è¡Œè³‡æ–™äº¤æ›ï¼Œä½† gRPC é‚„å¤šäº†å…¶ä»–çš„åŠŸèƒ½å’Œç‰¹è‰²ã€‚</p>
<p>gRPC æ˜¯ç”± Google é–‹ç™¼çš„é–‹æºæ¡†æ¶ï¼Œå®ƒå¿«é€Ÿæœ‰æ•ˆã€å¥ åŸºåœ¨ HTTP/2 ä¸Šæä¾›ä½å»¶é²ï¼ˆlow latencyï¼‰ï¼Œæ”¯æ´ä¸²æµï¼Œæ›´å®¹æ˜“åšåˆ°æ¬Šé™é©—è­‰ï¼ˆauthenticationï¼‰ã€‚åœ¨ä¸‹é¢çš„æ–‡ç« ä¸­ï¼Œå°‡æœƒå°æ–¼ gRPC èƒ½æä¾›çš„ç‰¹è‰²æœ‰æ›´å¤šèªªæ˜ã€‚</p>
<hr>
<h3 id="protocol-buffers-æ˜¯ä»€éº¼">Protocol Buffers æ˜¯ä»€éº¼</h3>
<blockquote>
<ul>
<li><a class="link" href="https://developers.google.com/protocol-buffers/docs/overview"  target="_blank" rel="noopener"
    >Protocol Buffers</a> @ Google Developer</li>
<li><a class="link" href="https://pjchender.dev/internet/protocol-buffer/"  target="_blank" rel="noopener"
    >Protocol Buffers ç­†è¨˜</a> @ pjchender.dev</li>
</ul>
</blockquote>
<p>åœ¨å­¸ç¿’ gRPC æ™‚ï¼Œéœ€è¦åŒæ™‚äº†è§£ä»€éº¼æ˜¯ <strong>Protocol Buffers</strong>ã€‚åœ¨å‚³çµ±çš„ Restful API ä¸­ï¼Œæœ€å¸¸ä½¿ç”¨çš„è³‡æ–™äº¤æ›æ ¼å¼é€šå¸¸æ˜¯ JSONï¼›ä½†åˆ°äº† gRPC ä¸­ï¼Œè³‡æ–™äº¤æ›çš„æ ¼å¼å‰‡æ˜¯ä½¿ç”¨åç‚º <a class="link" href="https://developers.google.com/protocol-buffers/docs/overview"  target="_blank" rel="noopener"
    >Protocol Buffers</a> çš„è¦ç¯„ï¼èªè¨€ã€‚</p>
<h6 id="json">json</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;firstName&#34;</span><span class="p">:</span> <span class="s2">&#34;Sushiro&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;lastName&#34;</span><span class="p">:</span> <span class="s2">&#34;Global&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;age&#34;</span><span class="p">:</span> <span class="mi">6</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h6 id="protocol-buffers">protocol buffers</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// Protocol Buffers
</span></span><span class="line"><span class="cl">message User {
</span></span><span class="line"><span class="cl">    string first_name = 1;
</span></span><span class="line"><span class="cl">    string last_name = 2;
</span></span><span class="line"><span class="cl">    int32 age = 3;
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¹Ÿå°±æ˜¯èªªï¼Œç•¶æˆ‘å€‘æƒ³è¦ä½¿ç”¨ gRPC çš„æœå‹™ä¾†äº¤æ›è³‡æ–™å‰ï¼Œå¿…é ˆå…ˆæŠŠè³‡æ–™ã€Œ<strong>æ ¼å¼</strong>ã€å’Œã€Œ<strong>æ–¹æ³•</strong>ã€éƒ½å®šç¾©æ¸…æ¥šã€‚</p>
<blockquote>
<p>TIP:<br>
ä½¿ç”¨ gRPC å‰ï¼Œä¸åªéœ€è¦å…ˆæŠŠè³‡æ–™äº¤æ›çš„æ ¼å¼å®šç¾©æ¸…æ¥šï¼ŒåŒæ™‚ä¹Ÿéœ€è¦æŠŠè³‡æ–™äº¤æ›çš„æ–¹æ³•å®šç¾©æ¸…æ¥šã€‚</p>
</blockquote>
<p>é€™è£¡è¦ç¨å¾®é‡æ¸…ä¸€é»å¾ˆé‡è¦çš„æ˜¯ï¼Œ<mark><strong>Protocol Buffers å¯ä»¥ç¨ç«‹ä½¿ç”¨ï¼Œä¸ä¸€å®šè¦æ­é… gRPCï¼›ä½†ä½¿ç”¨ gRPC ä¸€å®šè¦æ­é… Protocol Buffersã€‚</strong></mark></p>
<hr>
<h3 id="å¯¦ä½œå°‡-protocol-buffers-ç·¨è­¯æˆåœ¨-golang-ä¸­å¯ä½¿ç”¨çš„æª”æ¡ˆ">å¯¦ä½œå°‡ Protocol Buffers ç·¨è­¯æˆåœ¨ Golang ä¸­å¯ä½¿ç”¨çš„æª”æ¡ˆ</h3>
<blockquote>
<p>å°æ‡‰çš„ç¨‹å¼ç¢¼å¯æª¢è¦– <a class="link" href="https://github.com/pjchender/besg-grpc/tree/main/proto/calculator"  target="_blank" rel="noopener"
    >besg-grpc</a> repository ä¸­çš„ proto è³‡æ–™å¤¾ã€‚</p>
</blockquote>
<h4 id="step-1æ’°å¯«-protocol-buffers-æª”æ¡ˆ">STEP 1ï¼šæ’°å¯« Protocol Buffers æª”æ¡ˆ</h4>
<ul>
<li>ä½¿ç”¨ <code>message</code> å®šç¾©è³‡æ–™äº¤æ›çš„æ ¼å¼ã€‚</li>
<li>ä½¿ç”¨ <code>service</code> å®šç¾©å‘¼å« API çš„æ–¹æ³•åç¨±ã€‚</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">syntax</span> <span class="p">=</span> <span class="s">&#34;proto3&#34;</span><span class="p">;</span>  <span class="c1">// å®šç¾©è¦ä½¿ç”¨çš„ protocol buffer ç‰ˆæœ¬
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">calculator</span><span class="p">;</span>  <span class="c1">// for name space
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">option</span> <span class="nx">go_package</span> <span class="p">=</span> <span class="s">&#34;proto/calculator&#34;</span><span class="p">;</span>  <span class="c1">// generated code çš„ full Go import path
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">message</span> <span class="nx">CalculatorRequest</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int64</span> <span class="nx">a</span> <span class="p">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int64</span> <span class="nx">b</span> <span class="p">=</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">message</span> <span class="nx">CalculatorResponse</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kt">int64</span> <span class="nx">result</span> <span class="p">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">service</span> <span class="nx">CalculatorService</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">rpc</span> <span class="nf">Sum</span><span class="p">(</span><span class="nx">CalculatorRequest</span><span class="p">)</span> <span class="nf">returns</span> <span class="p">(</span><span class="nx">CalculatorResponse</span><span class="p">)</span> <span class="p">{};</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="step-2å®‰è£ç·¨è­¯-protocol-buffer-æ‰€éœ€çš„å¥—ä»¶">STEP 2ï¼šå®‰è£ç·¨è­¯ Protocol Buffer æ‰€éœ€çš„å¥—ä»¶</h4>
<p>æ­¤éƒ¨ä»½å¯åƒè€ƒ <a class="link" href="https://pjchender.dev/internet/protocol-buffer/#%E7%B7%A8%E8%AD%AF-protocol-buffers%EF%BC%88compiling%EF%BC%89"  target="_blank" rel="noopener"
    >ç·¨è­¯ Protocol Buffersï¼ˆCompilingï¼‰</a> æ®µè½ã€‚</p>
<h5 id="å®‰è£-compiler-macos">å®‰è£ compiler (macOS)</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># å®‰è£ compilerï¼Œå®‰è£å®Œå¾Œå°±æœƒæœ‰ protoc CLI å·¥å…·</span>
</span></span><span class="line"><span class="cl">brew install protobuf
</span></span><span class="line"><span class="cl">protoc --version  <span class="c1"># Ensure compiler version is 3+</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># --- ä½¿ç”¨ golang æ‰éœ€è¦å®‰è£ä»¥ä¸‹å…©å€‹å¥—ä»¶ ---</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># å®‰è£ protoc-gen-go å¾Œå¯ä»¥å°‡ proto buffer ç·¨è­¯æˆ Golang å¯ä½¿ç”¨çš„æª”æ¡ˆ</span>
</span></span><span class="line"><span class="cl">go get github.com/golang/protobuf/protoc-gen-go
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># å®‰è£ grpc-go å¾Œï¼Œå¯ä»¥åœ¨ Golang ä¸­ä½¿ç”¨ gRPC</span>
</span></span><span class="line"><span class="cl">go get -u google.golang.org/grpc
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="step-3ç·¨è­¯-protocol-buffer-æª”æ¡ˆ">STEP 3ï¼šç·¨è­¯ Protocol Buffer æª”æ¡ˆ</h4>
<p>é€²åˆ°æ”¾æœ‰ <code>.proto</code> æª”çš„è³‡æ–™å¤¾å¾Œï¼Œåœ¨çµ‚ç«¯æ©Ÿè¼¸å…¥ä¸‹è¿°æŒ‡ä»¤ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">protoc *.proto --go_out<span class="o">=</span><span class="nv">plugins</span><span class="o">=</span>grpc:. --go_opt<span class="o">=</span><span class="nv">paths</span><span class="o">=</span>source_relative
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨æˆåŠŸç·¨è­¯å¥½å¾Œï¼Œæ‡‰è©²æœƒçœ‹åˆ°åŒæ¨£çš„è³‡æ–™å¤¾ä½ç½®å‡ºç¾ <code>*.pb.go</code> çš„æª”æ¡ˆï¼Œé€™å°±æ˜¯ç·¨è­¯å¥½å¾Œå¯ä»¥åœ¨ Golang ä¸­ä½¿ç”¨ Protocol Buffer å’Œ gRPC çš„æª”æ¡ˆã€‚</p>
<hr>
<h3 id="å¯¦ä½œ-grpc-server">å¯¦ä½œ gRPC Server</h3>
<blockquote>
<p>å°æ‡‰çš„ç¨‹å¼ç¢¼å¯æª¢è¦– <a class="link" href="https://github.com/pjchender/besg-grpc/tree/main/server"  target="_blank" rel="noopener"
    >besg-grpc</a> repository ä¸­çš„ server è³‡æ–™å¤¾ã€‚</p>
</blockquote>
<h4 id="step-1å»ºç«‹-grpc-server">STEP 1ï¼šå»ºç«‹ gRPC server</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Server</span> <span class="kd">struct</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;starting gRPC server...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="nx">lis</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">net</span><span class="p">.</span><span class="nf">Listen</span><span class="p">(</span><span class="s">&#34;tcp&#34;</span><span class="p">,</span> <span class="s">&#34;localhost:50051&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">log</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;failed to listen: %v \n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="nx">grpcServer</span> <span class="o">:=</span> <span class="nx">grpc</span><span class="p">.</span><span class="nf">NewServer</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"> <span class="nx">calculatorPB</span><span class="p">.</span><span class="nf">RegisterCalculatorServiceServer</span><span class="p">(</span><span class="nx">grpcServer</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">Server</span><span class="p">{})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">grpcServer</span><span class="p">.</span><span class="nf">Serve</span><span class="p">(</span><span class="nx">lis</span><span class="p">);</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">log</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;failed to serve: %v \n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="step-2å¯¦ä½œ-protocol-buffer-ä¸­çš„-service">STEP 2ï¼šå¯¦ä½œ Protocol Buffer ä¸­çš„ service</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="o">*</span><span class="nx">Server</span><span class="p">)</span> <span class="nf">Sum</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">req</span> <span class="o">*</span><span class="nx">calculatorPB</span><span class="p">.</span><span class="nx">CalculatorRequest</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">calculatorPB</span><span class="p">.</span><span class="nx">CalculatorResponse</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Sum function is invoked with %v \n&#34;</span><span class="p">,</span> <span class="nx">req</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="nx">a</span> <span class="o">:=</span> <span class="nx">req</span><span class="p">.</span><span class="nf">GetA</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"> <span class="nx">b</span> <span class="o">:=</span> <span class="nx">req</span><span class="p">.</span><span class="nf">GetB</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="nx">res</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">calculatorPB</span><span class="p">.</span><span class="nx">CalculatorResponse</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Result</span><span class="p">:</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="k">return</span> <span class="nx">res</span><span class="p">,</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="step-3å•Ÿå‹•-server">STEP 3ï¼šå•Ÿå‹• server</h4>
<p>åœ¨çµ‚ç«¯æ©Ÿä¸­è¼¸å…¥ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">go run server/server.go
</span></span></code></pre></td></tr></table>
</div>
</div><p>å³å¯å•Ÿå‹• gRPC serverã€‚</p>
<h4 id="è£œå……ä½¿ç”¨-bloom-rpc-é€²è¡Œæ¸¬è©¦">è£œå……ï¼šä½¿ç”¨ Bloom RPC é€²è¡Œæ¸¬è©¦</h4>
<p>åœ¨åªæœ‰ server çš„æƒ…æ³ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ <a class="link" href="https://github.com/uw-labs/bloomrpc"  target="_blank" rel="noopener"
    >BloomRPC</a> é€™å¥—å·¥å…·ä¾†æ¨¡æ“¬ Client å° gRPC server ç™¼é€è«‹æ±‚ï¼ŒåŠŸèƒ½å°±é¡ä¼¼åœ¨ Restful ä¸­ä½¿ç”¨çš„ Postmanã€‚</p>
<p>ä½¿ç”¨æ™‚åªéœ€è¦åŒ¯å…¥ proto æª”å¾Œï¼Œå³å¯çœ‹åˆ°å°æ‡‰å¯å‘¼å«çš„æ–¹æ³•å’Œå¯å¸¶å…¥çš„åƒæ•¸ï¼Œèƒ½é€™éº¼æ–¹ä¾¿ä¹Ÿæ˜¯å› ç‚ºåœ¨ protocol buffer ä¸­å·²ç¶“æŠŠå‚³è¼¸çš„è³‡æ–™æ ¼å¼å’Œèƒ½å°æ‡‰å‘¼å«çš„æ–¹æ³•éƒ½å®šå¥½çš„ç·£æ•…ã€‚</p>
<p><img src="https://i.imgur.com/SkU4emj.png"
	
	
	
	loading="lazy"
	
	
></p>
<hr>
<h3 id="å¯¦ä½œ-grpc-client">å¯¦ä½œ gRPC Client</h3>
<blockquote>
<p>å®Œæ•´ç¨‹å¼ç¢¼å¯æª¢è¦– <a class="link" href="https://github.com/pjchender/besg-grpc/tree/main/client"  target="_blank" rel="noopener"
    >besg-grpc</a> repository ä¸­çš„ client è³‡æ–™å¤¾ã€‚</p>
</blockquote>
<h4 id="step-1èˆ‡-grpc-server-å»ºç«‹é€£ç·š">STEP 1ï¼šèˆ‡ gRPC server å»ºç«‹é€£ç·š</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="nx">conn</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">grpc</span><span class="p">.</span><span class="nf">Dial</span><span class="p">(</span><span class="s">&#34;localhost:50051&#34;</span><span class="p">,</span> <span class="nx">grpc</span><span class="p">.</span><span class="nf">WithInsecure</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"> <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">log</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;failed to dial: %v&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="k">defer</span> <span class="nx">conn</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="nx">client</span> <span class="o">:=</span> <span class="nx">calculatorPB</span><span class="p">.</span><span class="nf">NewCalculatorServiceClient</span><span class="p">(</span><span class="nx">conn</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="nf">doUnary</span><span class="p">(</span><span class="nx">client</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="step-2ä½¿ç”¨-protocol-buffers-ä¸­å®šç¾©å¥½çš„-service">STEP 2ï¼šä½¿ç”¨ Protocol Buffers ä¸­å®šç¾©å¥½çš„ Service</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-golang" data-lang="golang"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">doUnary</span><span class="p">(</span><span class="nx">client</span> <span class="nx">calculatorPB</span><span class="p">.</span><span class="nx">CalculatorServiceClient</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Staring to do a Unary RPC&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="nx">req</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">calculatorPB</span><span class="p">.</span><span class="nx">CalculatorRequest</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">A</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">B</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="nx">res</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">client</span><span class="p">.</span><span class="nf">Sum</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="nx">req</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">log</span><span class="p">.</span><span class="nf">Fatalf</span><span class="p">(</span><span class="s">&#34;error while calling CalculatorService: %v \n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="nx">log</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Response from CalculatorService: %v&#34;</span><span class="p">,</span> <span class="nx">res</span><span class="p">.</span><span class="nx">Result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="step-3å‘-server-ç™¼é€è«‹æ±‚">STEP 3ï¼šå‘ server ç™¼é€è«‹æ±‚</h4>
<p>åœ¨çµ‚ç«¯æ©Ÿä¸­è¼¸å…¥ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">go run client/client.go
</span></span></code></pre></td></tr></table>
</div>
</div><p>å³å¯åŸ·è¡Œ <code>client.go</code> ä¸¦å‘å‰›å‰›èµ·å‹•å¥½çš„ server ç™¼é€è«‹æ±‚ã€‚</p>
<hr>
<h2 id="grpc-è§£æ±ºäº†ä»€éº¼">gRPC è§£æ±ºäº†ä»€éº¼</h2>
<h3 id="grpc-å’Œ-rest-api-çš„æ¯”è¼ƒ">gRPC å’Œ REST API çš„æ¯”è¼ƒ</h3>
<blockquote>
<p><a class="link" href="https://docs.microsoft.com/zh-tw/aspnet/core/grpc/comparison?view=aspnetcore-5.0"  target="_blank" rel="noopener"
    >æ¯”è¼ƒ gRPC æœå‹™èˆ‡ HTTP API</a> @ microsoft docs</p>
</blockquote>
<p>ç°¡å–®ä¾†èªªï¼ŒgRPC åœ¨æ•ˆèƒ½ä¸Šæ¯”èµ· REST API å¥½éå¸¸å¤šï¼š</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><strong>é …ç›®</strong></th>
<th><strong>gRPC</strong></th>
<th><strong>Restful API</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>è³‡æ–™å‚³è¼¸æ ¼å¼ï¼ˆPayloadï¼‰</td>
<td>Protocol Buffer - æ›´å¿«ä¸”æ›´å°</td>
<td>JSON, XML, formData - è¼ƒæ…¢ä¸”è¼ƒå¤§</td>
</tr>
<tr>
<td>é€šè¨Šå”å®š</td>
<td>HTTP/2</td>
<td>HTTP</td>
</tr>
<tr>
<td>å‚³è¼¸æ–¹å¼</td>
<td>æ”¯æ´ä¸€èˆ¬çš„ã€Œè«‹æ±‚-å›æ‡‰ã€ã€ä¼ºæœå™¨ç«¯ä¸²æµã€Client ç«¯ä¸²æµã€èˆ‡é›™å‘ä¸²æµï¼ˆstreamingï¼‰</td>
<td>åƒ…èƒ½é€é Client ç™¼é€è«‹æ±‚ã€Server çµ¦äºˆå›æ‡‰</td>
</tr>
<tr>
<td>API æ–¹æ³•å‘½å</td>
<td>æ²’æœ‰é™åˆ¶ï¼Œä¸€èˆ¬æœƒç›´æ¥æè¿°è©²æ–¹æ³•è¦åšçš„äº‹ï¼Œä¾‹å¦‚ <code>createUser</code>, <code>getUser</code>ã€‚ä¸éœ€è¦æ€è€ƒè·¯ç”±å‘½åã€‚</td>
<td>ä½¿ç”¨å‹•è©ï¼ˆGET, POST, PUT, PATCH, DELETEï¼‰æ­é…è³‡æºä¾†å‘½åã€‚éœ€è¦æ ¹æ“šä¸åŒçš„è¡Œç‚ºä¾†å®šç¾©ä¸åŒçš„è·¯ç”±ã€‚</td>
</tr>
<tr>
<td>Client å‘¼å« API çš„æ–¹å¼</td>
<td>å°±åƒå‘¼å«ä¸€èˆ¬çš„å‡½å¼</td>
<td>é€éç‰¹å®šçš„ Endpointï¼Œçµ¦äºˆç¬¦åˆçš„è³‡æ–™å‹åˆ¥</td>
</tr>
<tr>
<td>Server å»ºç«‹ API çš„æ–¹å¼</td>
<td>æ ¹æ“šæ–‡ä»¶ï¼ˆProtocol Bufferï¼‰å¯¦ä½œåŠŸèƒ½ï¼Œä¸éœ€è¦é¡å¤–æª¢æŸ¥è³‡æ–™å‹åˆ¥èˆ‡æ–¹æ³•æ­£ç¢ºæ€§ã€‚</td>
<td>æ ¹æ“šæ–‡ä»¶ï¼ˆSwaggerï¼‰å¯¦ä½œåŠŸèƒ½ï¼Œä½†é ˆé¡å¤–æª¢æŸ¥è³‡æ–™å‹åˆ¥ã€‚</td>
</tr>
<tr>
<td>æ ¹æ“šæ–‡ä»¶ç”¢ç”Ÿç¨‹å¼ç¢¼</td>
<td>Protocol Buffers</td>
<td>OpenAPI / Swagger</td>
</tr>
</tbody>
</table></div>
<p>æ­¤å¤–ï¼ŒgRPC çš„ serverï¼Œé è¨­å°±æ˜¯éåŒæ­¥çš„ï¼Œå› æ­¤ä¸æœƒé˜»å¡ä»»ä½•é€²ä¾†çš„è«‹æ±‚ï¼Œä¸¦å¯ä»¥å¹³è¡Œè™•ç†å¤šå€‹è«‹æ±‚ã€‚gRPC Client å‰‡å¯ä»¥é¸æ“‡è¦ç”¨åŒæ­¥ï¼ˆé˜»å¡ï¼‰æˆ–éåŒæ­¥çš„æ–¹å¼è™•ç†ã€‚</p>
<hr>
<h3 id="ä½¿ç”¨-protocol-buffers-çš„å¥½è™•">ä½¿ç”¨ Protocol Buffers çš„å¥½è™•</h3>
<ul>
<li>ç¯€çœç¶²è·¯å‚³è¼¸é‡ï¼šé€Ÿåº¦æ›´å¿«ã€æª”æ¡ˆæ›´å°</li>
<li>ç¯€çœ CPU æ¶ˆè€—ï¼šParse JSON æœ¬èº«æ˜¯ CPU intensive çš„ä»»å‹™ï¼›Parse Protocol Bufferï¼ˆbinary formatï¼‰å› ç‚ºæ›´æ¥è¿‘åº•å±¤æ©Ÿå™¨è¡¨å¾µè³‡æ–™çš„æ–¹å¼ï¼Œæ¶ˆè€—çš„ CPU è³‡æºè¼ƒä½</li>
<li>è·¨ç¨‹å¼èªè¨€ï¼šProtocol Buffer å¯ä»¥æ ¹æ“šä¸åŒçš„ç¨‹å¼èªè¨€ç·¨è­¯å‡ºä¸åŒçš„æª”æ¡ˆ</li>
<li>å¯ä»¥å¯«è¨»è§£ã€å‹åˆ¥æ¸…æ¥šæ˜ç¢º</li>
</ul>
<blockquote>
<p>TIP<br>
ç¯€çœç¶²è·¯å‚³è¼¸é‡å’Œ CPU æ¶ˆè€—åœ¨è¡Œå‹•è£ç½®ä¸Šçš„å½±éŸ¿å¯èƒ½æ›´é‡è¦ã€‚</p>
</blockquote>
<hr>
<h3 id="è·¨ç¨‹å¼èªè¨€çš„å¥½è™•">è·¨ç¨‹å¼èªè¨€çš„å¥½è™•</h3>
<p>é€é Protocol Buffer å®šç¾©å¥½è³‡æ–™çš„å‚³è¼¸æ¬„ä½ï¼ˆ<code>message</code>ï¼‰å’Œå‘¼å«çš„æ–¹æ³•ï¼ˆ<code>service</code>ï¼‰å¾Œï¼ŒgRPC å³å¯åœ¨ä¸åŒç¨‹å¼èªè¨€ä¸Šé‹è¡Œï¼Œé€™éå¸¸é©åˆå¾®æœå‹™ï¼ˆmicro-servicesï¼‰çš„æ‡‰ç”¨æƒ…å¢ƒï¼Œåªè¦é›™æ–¹ä¸€èµ·å®šç¾©å¥½ schema å¾Œï¼Œå°±å¯ä»¥ç”¨ä¸åŒçš„ç¨‹å¼èªè¨€é€²è¡Œé–‹ç™¼ã€‚</p>
<hr>
<h3 id="ä½¿ç”¨-http2-çš„å¥½è™•">ä½¿ç”¨ HTTP/2 çš„å¥½è™•</h3>
<ul>
<li><a class="link" href="https://imagekit.io/blog/http2-vs-http1-performance/"  target="_blank" rel="noopener"
    >HTTP/2 vs HTTP/1 - Performance Comparison?</a></li>
<li>Demoï¼š<a class="link" href="https://imagekit.io/demo/http2-vs-http1"  target="_blank" rel="noopener"
    >Performance difference between HTTP2 and HTTP1.1</a></li>
<li><a class="link" href="https://www.itread01.com/content/1546793670.html"  target="_blank" rel="noopener"
    >ç€è¦½å™¨å…è¨±çš„ä½µç™¼è«‹æ±‚è³‡æºæ•¸æ˜¯æœ‰é™åˆ¶çš„-åˆ†æ</a> @ ITRead01</li>
</ul>
<p>å‚³çµ±çš„ HTTP/1.1 åœ¨æ¯å€‹ TCP é€£ç·šä¸­åªå…è¨±å‘ server ç™¼é€å–®ä¸€å€‹è«‹æ±‚ï¼Œä½†ç•¶ç¶²é è¼‰å…¥æ™‚ï¼Œå¾€å¾€æœƒéœ€è¦å‘åŒä¸€å€‹ä¼ºæœå™¨ç™¼é€å¤šå€‹è«‹æ±‚ï¼ˆä¾‹å¦‚ã€åœ–æª”ã€CSSã€éœæ…‹æª”ã€JS ç­‰ï¼‰ï¼Œå› æ­¤ç‚ºäº†è¦é¿é–‹é€™æ¨£çš„é™åˆ¶ã€åŠ å¿«è¼‰å…¥çš„é€Ÿåº¦ï¼Œç€è¦½å™¨æœƒå¯¦ä½œå¤šå€‹å¹³è¡Œçš„ï¼ˆparallelï¼‰ TPC é€£ç·šï¼ˆæ¯å€‹ç€è¦½å™¨å¯¦ä½œä¸åŒï¼Œå› æ­¤æ•¸é‡çš„ä¸Šé™ä¹Ÿä¸åŒï¼‰ï¼Œä»¥è™•ç†åŒæ™‚å‘ä¼ºæœå™¨ç™¼å‡ºçš„å¤šå€‹è«‹æ±‚ã€‚</p>
<p>åœ¨ HTTP/2 ä¸­å‰‡å¯åœ¨åŒä¸€å€‹ TCP é€£ç·šä¸­é€²è¡Œå¤šå€‹è«‹æ±‚å’Œå›æ‡‰ï¼Œä¸¦ä¸”å¯ä»¥ç”± server ä¸»å‹•æ¨é€è³‡æºçµ¦ clientï¼Œè€Œä¸¦éä¸€å®šè¦é€é client ä¸»å‹•è«‹æ±‚ï¼›æ­¤å¤–æ”¯æ´ HTTP Header çš„å£“ç¸®ï¼Œæ¸›å°‘è³‡æ–™å‚³æ•¸é‡ï¼›HTTP/2 ä¹Ÿæ˜¯ä½¿ç”¨ binary çš„æ–¹å¼åœ¨å‚³è¼¸è³‡æ–™ã€‚</p>
<p><img src="https://i.imgur.com/TsQq2GR.png"
	
	
	
	loading="lazy"
	
	
></p>
<hr>
<h2 id="grpc-çš„å››ç¨®é¡å‹">gRPC çš„å››ç¨®é¡å‹</h2>
<ul>
<li>Unaryï¼šé¡ä¼¼å‚³çµ± APIï¼Œclient ç™¼é€ request è€Œ server å›å‚³ response</li>
<li>Server Streamingï¼šé€é HTTP/2ï¼Œclient ç™¼é€ä¸€æ¬¡ requestï¼Œè€Œ server å¯ä»¥å›å‚³å¤šæ¬¡è³‡æ–™</li>
<li>Client Streamingï¼šclient ç™¼é€å¤šæ¬¡è³‡æ–™ï¼Œç›´åˆ°å‘ŠçŸ¥ server è³‡æ–™å‚³å®Œå¾Œï¼Œserver å†çµ¦äºˆ response</li>
<li>Bi Directional Streamingï¼šå…©é‚Šéƒ½ç”¨ä¸²æµçš„æ–¹å¼å‚³é€è³‡æ–™</li>
</ul>
<p><img src="https://i.imgur.com/B8NTaE5.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>åœ–ç‰‡ä¾†æºï¼š<a class="link" href="https://www.udemy.com/course/grpc-golang/"  target="_blank" rel="noopener"
    >gRPC Golang - Master Class: Build Modern API &amp; MicroServices</a> @ Udemy</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">service GreetService {
</span></span><span class="line"><span class="cl">  // Unary
</span></span><span class="line"><span class="cl">  rpc Greet(GreetRequest) returns (GreetResponse) {};
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  // Streaming Server
</span></span><span class="line"><span class="cl">  rpc GreetManyTimes(GreetManyTimesRequest) returns (stream GreetManyTimesResponse) {};
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  // Streaming Client
</span></span><span class="line"><span class="cl">  rpc LongGreet(stream LongGreetRequest) returns (LongGreetResponse) {};
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  // Bi-directional Streaming
</span></span><span class="line"><span class="cl">  rpc GreetEveryone(stream GreetEveryoneRequest) returns (stream GreetEveryoneResponse) {};
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="grpc-çš„ç¼ºé»">gRPC çš„ç¼ºé»</h2>
<ul>
<li>Protocol Buffer ä¸åƒ JSON æ˜¯ Human Readableã€‚</li>
<li>éœ€è¦é¡å¤–çš„å­¸ç¿’æ™‚é–“å’Œå°å…¥æˆæœ¬ã€‚</li>
<li>ç€è¦½å™¨åŸç”Ÿç›®å‰é‚„ä¸æ”¯æ´ï¼Œé ˆé€éå¥—ä»¶ <a class="link" href="https://github.com/grpc/grpc-web"  target="_blank" rel="noopener"
    >grpc-web</a> ä¾†è™•ç†ã€‚</li>
</ul>
<hr>
<h2 id="å…¶ä»–">å…¶ä»–</h2>
<h3 id="æ¨è–¦å·¥å…·">æ¨è–¦å·¥å…·</h3>
<ul>
<li><a class="link" href="https://github.com/uw-labs/bloomrpc"  target="_blank" rel="noopener"
    >BloomRPC</a>ï¼šæ–¹ä¾¿ç”¨ä¾†æ¨¡æ“¬ Client å° gRPC server ç™¼é€è«‹æ±‚ï¼ŒåŠŸèƒ½å°±é¡ä¼¼åœ¨ Restful ä¸­ä½¿ç”¨çš„ Postmanã€‚</li>
</ul>
<hr>
<h3 id="éŒ¯èª¤æ’é™¤">éŒ¯èª¤æ’é™¤</h3>
<p><strong>protoc-gen-go: program not found or is not executable</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># éœ€è¦æŠŠ $GOPATH/bin åŠ åˆ° .zshrc/.bashrc ç­‰</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">echo</span> <span class="s1">&#39;export PATH=$PATH:$GOPATH/bin&#39;</span> &gt;&gt; <span class="nv">$HOME</span>/.zshrc
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™</h2>
<ul>
<li><a class="link" href="https://grpc.io/docs/languages/go/quickstart/"  target="_blank" rel="noopener"
    >Go Tutorial</a> @ <a class="link" href="https://grpc.io/docs/languages/go/quickstart/"  target="_blank" rel="noopener"
    >gRPC.io</a></li>
<li><a class="link" href="https://grpc.io/docs/what-is-grpc/introduction/"  target="_blank" rel="noopener"
    >Introduction to gRPC</a> @ gRPC.io</li>
<li><a class="link" href="https://developers.google.com/protocol-buffers/docs/overview"  target="_blank" rel="noopener"
    >Protocol Buffers</a> @ Google Developer</li>
<li><a class="link" href="https://www.udemy.com/course/grpc-golang/"  target="_blank" rel="noopener"
    >gRPC - Golang Master Class: Build Modern API &amp; MicroServices</a> @ Udemy</li>
<li><a class="link" href="https://docs.microsoft.com/zh-tw/aspnet/core/grpc/comparison?view=aspnetcore-5.0"  target="_blank" rel="noopener"
    >æ¯”è¼ƒ gRPC æœå‹™èˆ‡ HTTP API</a> @ Microsoft Docs</li>
</ul>
<hr>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="https://wjdesign.github.io/hugo-blog-wayne/tags/grpc/">grpc</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2022 å‰æ©çš„éƒ¨è½æ ¼
    </section>
    
    
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ç›®éŒ„</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#grpc-æ˜¯ä»€éº¼ä»¥-golang-èªªæ˜èˆ‡å¯¦ä½œ">gRPC æ˜¯ä»€éº¼ï¼šä»¥ Golang èªªæ˜èˆ‡å¯¦ä½œ</a>
      <ol>
        <li><a href="#èªªæ˜">èªªæ˜</a></li>
        <li><a href="#protocol-buffers-æ˜¯ä»€éº¼">Protocol Buffers æ˜¯ä»€éº¼</a>
          <ol>
            <li></li>
          </ol>
        </li>
        <li><a href="#å¯¦ä½œå°‡-protocol-buffers-ç·¨è­¯æˆåœ¨-golang-ä¸­å¯ä½¿ç”¨çš„æª”æ¡ˆ">å¯¦ä½œå°‡ Protocol Buffers ç·¨è­¯æˆåœ¨ Golang ä¸­å¯ä½¿ç”¨çš„æª”æ¡ˆ</a>
          <ol>
            <li><a href="#step-1æ’°å¯«-protocol-buffers-æª”æ¡ˆ">STEP 1ï¼šæ’°å¯« Protocol Buffers æª”æ¡ˆ</a></li>
            <li><a href="#step-2å®‰è£ç·¨è­¯-protocol-buffer-æ‰€éœ€çš„å¥—ä»¶">STEP 2ï¼šå®‰è£ç·¨è­¯ Protocol Buffer æ‰€éœ€çš„å¥—ä»¶</a></li>
            <li><a href="#step-3ç·¨è­¯-protocol-buffer-æª”æ¡ˆ">STEP 3ï¼šç·¨è­¯ Protocol Buffer æª”æ¡ˆ</a></li>
          </ol>
        </li>
        <li><a href="#å¯¦ä½œ-grpc-server">å¯¦ä½œ gRPC Server</a>
          <ol>
            <li><a href="#step-1å»ºç«‹-grpc-server">STEP 1ï¼šå»ºç«‹ gRPC server</a></li>
            <li><a href="#step-2å¯¦ä½œ-protocol-buffer-ä¸­çš„-service">STEP 2ï¼šå¯¦ä½œ Protocol Buffer ä¸­çš„ service</a></li>
            <li><a href="#step-3å•Ÿå‹•-server">STEP 3ï¼šå•Ÿå‹• server</a></li>
            <li><a href="#è£œå……ä½¿ç”¨-bloom-rpc-é€²è¡Œæ¸¬è©¦">è£œå……ï¼šä½¿ç”¨ Bloom RPC é€²è¡Œæ¸¬è©¦</a></li>
          </ol>
        </li>
        <li><a href="#å¯¦ä½œ-grpc-client">å¯¦ä½œ gRPC Client</a>
          <ol>
            <li><a href="#step-1èˆ‡-grpc-server-å»ºç«‹é€£ç·š">STEP 1ï¼šèˆ‡ gRPC server å»ºç«‹é€£ç·š</a></li>
            <li><a href="#step-2ä½¿ç”¨-protocol-buffers-ä¸­å®šç¾©å¥½çš„-service">STEP 2ï¼šä½¿ç”¨ Protocol Buffers ä¸­å®šç¾©å¥½çš„ Service</a></li>
            <li><a href="#step-3å‘-server-ç™¼é€è«‹æ±‚">STEP 3ï¼šå‘ server ç™¼é€è«‹æ±‚</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#grpc-è§£æ±ºäº†ä»€éº¼">gRPC è§£æ±ºäº†ä»€éº¼</a>
      <ol>
        <li><a href="#grpc-å’Œ-rest-api-çš„æ¯”è¼ƒ">gRPC å’Œ REST API çš„æ¯”è¼ƒ</a></li>
        <li><a href="#ä½¿ç”¨-protocol-buffers-çš„å¥½è™•">ä½¿ç”¨ Protocol Buffers çš„å¥½è™•</a></li>
        <li><a href="#è·¨ç¨‹å¼èªè¨€çš„å¥½è™•">è·¨ç¨‹å¼èªè¨€çš„å¥½è™•</a></li>
        <li><a href="#ä½¿ç”¨-http2-çš„å¥½è™•">ä½¿ç”¨ HTTP/2 çš„å¥½è™•</a></li>
      </ol>
    </li>
    <li><a href="#grpc-çš„å››ç¨®é¡å‹">gRPC çš„å››ç¨®é¡å‹</a></li>
    <li><a href="#grpc-çš„ç¼ºé»">gRPC çš„ç¼ºé»</a></li>
    <li><a href="#å…¶ä»–">å…¶ä»–</a>
      <ol>
        <li><a href="#æ¨è–¦å·¥å…·">æ¨è–¦å·¥å…·</a></li>
        <li><a href="#éŒ¯èª¤æ’é™¤">éŒ¯èª¤æ’é™¤</a></li>
      </ol>
    </li>
    <li><a href="#åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="https://wjdesign.github.io/hugo-blog-wayne/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
